{"version":3,"sources":["webpack://__TECTONIC__$servicenow_now_record_common/webpack/bootstrap","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__lodash_4_17_15\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$devsnc_library_form_19_1_0\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/constants.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_ui_renderer_react\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/constants/attachmentConstants.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/sn-custom-create-element/lib/index.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__react\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/emptyState/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/constants.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/constants/constants.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/constants/constants.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_ui_effect_graphql\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_behavior_key_binding_19_0_11\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/constants.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBarConst.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__sn_uxpage_presource_18_0_5\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/utils/domUtils.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/utils/seismicUtils.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/constants/contextualLinks.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/constants.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$devsnc_sn_scripted_modal\"","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/classnames/dedupe.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/constants/searchbarConstants.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/css-loader/lib/url/escape.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/HeaderCommon.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/HeaderLabelValueCommon.scss?88aa","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$devsnc_sn_declarative_actions\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/upload/attachmentUploadUtil.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/searchbar/index.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_dropdown\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_modal\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_behavior_resize_19_0_11\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/labelValueProvider.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/headerConst.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/AttachmentElement.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/attachmentOverlayUtil.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/preview/attachmentPreviewActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/TemplateElement.js","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/prop-types/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/constants/templateConstants.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/utils/sn-es-no-match.svg","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachmentCard/AttachmentCardElement.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_label_value\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/lineHeightCalculator.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/displayValueBlockConstants.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/datasource/headerDataSource.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tag/tagDataSource.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/header.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_highlighted_value\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_text_link\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_pill\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/addTag/addTagUtils.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/tagDetails.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_behavior_fit_19_0_11\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/datasource/configurationDataSource.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/data/uiActionDataSource.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBarElement.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/sidebar/sidebar.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_legacy_icon\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/sn-es-no-attachments.svg","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/attachmentOverlay.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/sidebar/sidebarTransformer.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/dataSource/sidebarDataSource.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/utils/utils.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/constants/ribbonConstants.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/relatedItem/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/relatedItem/relatedItem.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/resizeBar/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/resizeBar/resizeBar.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/resizeBar/resizeBar.scss?0a43","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/resizeBar/resizeBar.scss","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$tectonic_seismic_testing_helpers_19_0_3\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/datasources/TemplateGQLRead.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/datasources/TemplateGQLDestroy.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/Template.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__lodash_4_17_15[\\\"camelCase\\\"]\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__lodash_4_17_15[\\\"isEmpty\\\"]\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__lodash_4_17_15[\\\"isString\\\"]\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__lodash_4_17_15[\\\"reduce\\\"]\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__lodash_4_17_15[\\\"startsWith\\\"]\"","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/sn-custom-create-element/lib/constants.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/searchbar/SearchbarElement.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/searchbar/Searchbar.js","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/prop-types/factoryWithThrowingShims.js","webpack://__TECTONIC__$servicenow_now_record_common//mnt/jenkins/workspace/ps_workspace_sn-form_quebec-RUP7YZMPMBXVGIRMWQCR5OFOABY4S7IE55XZTKHLSK65NVRACTJA/target/checkout/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/searchbar/Searchbar.scss?4276","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/searchbar/Searchbar.scss","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_tabs\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/emptyState/emptyState.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/emptyState/emptyState.scss?9c29","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/emptyState/emptyState.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/Template.scss?603a","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/Template.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/sn-es-create-template.svg","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/templates/sn-es-no-template.svg","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachmentCard/AttachmentCard.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__sn_component_file_icon\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_progress_bar\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachmentCard/attachmentCardActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachmentCard/AttachmentCard.scss?6107","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachmentCard/AttachmentCard.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/displayValueBlock.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/schemas/displayValueSchema.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/layoutHandler.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/lineClamper.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/delimiter.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/toggleHeightCalculator.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/displayValueBlock.scss?a7aa","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/displayValueBlock/displayValueBlock.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/utils/functionalTestRenderer.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/headerConnected.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/headerDataProvider.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/Header.scss?5ad4","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/Header.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/HeaderLabelValueSet.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/HeaderLabelValueCommon.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/HeaderLabelValue.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/HeaderLabelHighlightedValue.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/HeaderLabelReferenceValue.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tag/tag.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_popover\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tag/tagActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tag/tagGraphQLQuery.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagList/tagList.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagList/tagList.scss?f19a","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagList/tagList.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagList/tagListActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagList/tagListUtils.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/addTag/addTag.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/addTag/addTag.scss?e6f2","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/addTag/addTag.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/addTag/addTagActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/addTag/addTagGraphQLQuery.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagDropdown/tagDropdown.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagDropdown/tagDropdown.scss?a705","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagDropdown/tagDropdown.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagDropdown/tagDropdownUtils.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/tagDropdown/tagDropdownBehaviors.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/addTag/addTagBehaviors.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/editTagModal.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/editTagModal.scss?2e8a","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/editTagModal.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/editTagModalActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/editTagModalGraphQLQuery.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/typeahead.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/_typeahead.scss?3c04","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/_typeahead.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/actions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/behaviors.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/views.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/dropdownpanel/dropdownPanel.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/dropdownpanel/_dropdown_panel.scss?e819","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/dropdownpanel/_dropdown_panel.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/dropdownpanel/behaviors.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/typeahead/dropdownpanel/views.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/utils/outsideClickHandler.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/editTagModal/editTagModalBehaviors.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_image\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/headerConfigurationDataProvider.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/header/datasource/configurationQuery.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBarConnected.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/data/uiActionDataProvider.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBar.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBarInternalElement.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBarAction.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBarInternal.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__react_dom\"","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_split_button\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBar.scss?6e49","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/UIActionBar.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/actions/data/uxActionDataSource.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/tags/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/toolbar/sidebarToolbar.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/toolbar/sidebarAction.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/toolbar/sidebarAction.scss?0550","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/toolbar/sidebarAction.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/toolbar/sidebarKeyBinding.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/menu/sidebarMenu.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/menu/sidebarMenuItem.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/menu/sidebarMenuItem.scss?4fda","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/menu/sidebarMenuItem.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/menu/sidebarMenu.scss?907c","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/menu/sidebarMenu.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/toolbar/sidebarToolbar.scss?1674","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/toolbar/sidebarToolbar.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/panel/sidebarPanel.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/panel/sidebarPanel.scss?ac1f","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/panel/sidebarPanel.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/datasources/AttachmentGraphQLQuery.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/datasources/AttachmentGraphQLUpdate.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/Attachment.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/AttachmentHeader.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/AttachmentHeader.scss?4228","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/AttachmentHeader.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/AttachmentList.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/AttachmentList.scss?6165","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/AttachmentList.scss","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$devsnc_sn_record_input_connected\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/upload/attachmentUploadModalActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/attachmentOverlayActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/utils/focusTrap.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/preview/attachmentPreviewUtil.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_loader\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/attachmentOverlay.scss?c3b8","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/attachmentOverlay.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/upload/attachment-upload-file.svg","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_library_enhanced_utils_19_0_11\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/attachmentActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/delete/attachmentDeleteActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/delete/attachmentGraphQLDelete.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/overlay/upload/attachmentUploadActions.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/Attachment.scss?c889","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/Attachment.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/sidebar/sidebar.scss?7bd2","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/sidebar/sidebar.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/sidebar/sidebarConnected.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/dataProvider/sidebarDataProvider.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/sidebar/dataSource/query.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/attachments/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/index.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/ribbon.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/styles.scss?c49c","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/styles.scss","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/view.js","webpack://__TECTONIC__$servicenow_now_record_common/external \"__TECTONIC__$servicenow_now_uxf_page\"","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/actionHandlers.js","webpack://__TECTONIC__$servicenow_now_record_common/./src/components/ribbon/actions.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__$servicenow_ui_core","__TECTONIC__lodash_4_17_15","__TECTONIC__sn_translate","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","__TECTONIC__$devsnc_library_form_19_1_0","ACTIONS","BOOTSTRAP_TAG","TAGS_LOAD","PROPERTIES_SET","TAG_LOAD_SUCCESS","TAG_GRAPHQL_ERROR","TAG_DELETE","TAG_DELETE_LABEL_SUCCESS","TAG_UPDATE_REFLECT","SN_COMPONENT_TAG_LIST_OPENED_SET","NOW_PILL_DISMISSED","NOW_PILL_SELECTION_SET","INPUT_TAG_TYPED","TAG_CREATE","CREATE_TAG_LABEL","TAG_PREFIX_FETCH_SUCCESS","TAG_LABEL_ENTRY_SUCCESS","TAG_CREATE_SUCCESS","TAG_ICON_CLICKED","TAG_LIST_CLICKED","ADD_TAG_FIELD_CHANGED","ADD_TAG_FIELD_CLEARED","ENTER_ACTION_HANDLED","RESET_ADD_TAG_COMPONENT","TAG_LIST_RESET_FOCUS_PILL","ADD_TAG_DESCENDANT_SELECTED","EVENT_SOURCE","SET_TAG_STATE","TAG_EXISTS_CHECK","TAG_EXISTS_CHECK_SUCCESS","TAG_EXISTS_CHECK_FAILURE","GQL_RESULTS","TAG_FETCH_VIEWABLE_TAGS_RESULT","TAG_AFTER_INSERT_NEW_SYS_ID","TAG_FETCH_VIEWABLE_RECORD_TAGS","TAG_DELETED_COUNT","CHECK_TAG_VALUE","VIEWABLE_BY","ME","displayValue","GROUPS_AND_USERS","EVERYONE","LABELS","ADD_TAG","ADD_TAG_SUGGESTION","ADD_TAG_AUTOCOMPLETE_INSTRUCTIONS","ADD_TAG_INPUT_ID","ADD_TAG_ARIA_DESCRIPTION_ID","TAG_DROPDOWN_ID","TAG_DROPDOWN_ARIA_DESCRIPTION_ID","TAGS","TAG","TAG_ICON_ARIA_LABEL","RESULT","RESULTS","TAG_LIST_PILL_ARIA_DESCRIPTION","COMPONENT_TAGS","COMPONENT_ADD_TAG","COMPONENT_EDIT_TAG_MODAL","COMPONENT_TAG_DROPDOWN","COMPONENT_TAG_LIST","COMPONENT_TAG_TYPE_AHEAD","COMPONENT_TAG_TYPE_AHEAD_DROPDOWN_PANEL","__TECTONIC__$servicenow_ui_renderer_react","ATTACHMENT_ACTIONS","ATTACHMENT_DELETE_ACTION","ATTACHMENT_DELETE_OR_UPDATE_ERROR","ATTACHMENT_UPDATE_ACTION","ATTACHMENT_UPLOAD_SUCCESS","ATTACHMENT_UPLOAD_ERROR","ATTACHMENT_READ_QUERY","ATTACHMENT_READ_ERROR","ATTACHMENT_READ_SUCCESS","ATTACHMENT_REFRESH_REQUESTED","DOWNLOAD","label","REMOVE","RENAME","ADD_FILE","ATTACHMENT_UPLOAD_BUTTON_CLICKED","ATTACHMENT_DELETE_CONFIRM_ACTION","ATTACHMENT_DOWNLOAD_ACTION","ATTACHMENT_PREVIEW_LOAD_ACTION","ATTACHMENT_ADDED","ATTACHMENT_PREVIEW_DISABLED_PROPERTY","NOW_DROPDOWN_ELEMENT","FILE_SIZES","ALLOWED_THUMBNAIL","ATTACHMENT_CARD_ITEM_CLICKED","ATTACHMENT_ENABLE_EDIT_ACTION","ATTACHMENT_ERROR_MESSAGE","EMPTY_NAME","INVALID_EXTENSION","NOT_AVAILABLE","FILE_NAME_MAX_LENGTH","UPLOADING","ATTACHMENT_CARD_DROPDOWN","NOW_BUTTON_CLICKED","NOW_BUTTON_ICONIC_CLICKED","NOW_BUTTON_BARE_CLICKED","REMOVE_MODAL_EVENT_SOURCE","INVALID_TYPE_MODAL_EVENT_SOURCE","NOW_MODAL_OPENED_SET_ACTION","ATTACHMENT_MODAL_CLOSED_ACTION","ATTACHMENT_ADD_NOTIFICATIONS","ATTACHMENT_UPLOAD_SUCCEEDED","__TECTONIC__$servicenow_now_button","default","props","arguments","undefined","isSeismicComponent","_isString2","indexOf","isAttribute","_constants","ATTRIBUTES","_startsWith2","isMappedToProps","MAPPED_TO_PROPS","_len","children","Array","_key","_isEmpty2","existingRef","ref","_reduce","_reduce3","acc","_camelCase2","attributes","properties","_react2","createElement","apply","assign","node","_interopRequireDefault","obj","__TECTONIC__react","ATTACHMENT_PREVIEW_DISMISS_ACTION","ATTACHMENT_UPLOAD_MODAL_FOOTER_ACTION","ALLOWED_MIME_TYPE","ALLOWED_DRAG_TYPE","UPLOAD_FILE_ERROR","UNSOPPORTED_FILE","EMPTY_FILE","ATTACHMENT_MODAL_FOOTER_BUTTON","UPLOAD","CANCEL","ATTACHMENT_UPLOAD_SAVE","START","SUCCESS","FAIL","SOURCE_KEY","STATUS_INDICATOR","ERROR","FILE_UPLOAD","STARTED","SUCCEEDED","FAILED","ATTACHMENT_DELETE","UPLOAD_MODAL_EVENT_SOURCE","ATTACHMENT_DOC_VIEWER_CLOSED_OR_DELETED","ALL_ATTACHMENTS_UPLOADED","ADD_NOTIFICATIONS","CLEAR_NOTIFICATIONS","OPENED_SET","ACTION_STATUS_UPDATED","CLASSES","TOOLBAR_CONTAINER","MORE_BUTTON","SELECTORS","SIDEBAR","ELEMENTS","PANEL","TOOLBAR","MENU","TOOLBAR_ACTION","MENU_ITEM","INTERNAL_ACTIONS","ACTION_CLICKED","MORE_CLICKED","FOCUS_CHANGED","MORE_ACTION","tooltip","icon","SIDEBAR_ACTION","__TECTONIC__$servicenow_ui_effect_graphql","__TECTONIC__$servicenow_behavior_key_binding_19_0_11","TYPEAHEAD","freeze","LOAD_ITEMS","PILL_REMOVED","PILL_ADDED","DROPDOWN_PANEL_OPENED_SET","UI_ACTION_BAR_INTERNAL_ACTIONS","BUTTON_CLICK","MENU_CLICK","SPLIT_BUTTON_CLICKED","SPLIT_BUTTON_ACTION_CLICKED","UI_ACTION_BAR_ACTIONS","ACTION_CLICK","DECLARATIVE_ACTION","UI_ACTION_BAR_CONNECTED_ACTIONS","UI_ACTION_BAR_EVENT_SOURCE","UI_ACTION_BAR_DEFAULT_WIDTH_PERCENTAGE","UI_ACTION_TYPES","BUTTON","SPLIT_BUTTON","UX_ACTION_TYPES","UI_ACTION","__TECTONIC__sn_uxpage_presource_18_0_5","getActiveElement","el","shadowRoot","activeElement","getSelectNode","doc","selector","querySelector","host","selectedNode","getRootNode","getFirstDiv","rootNode","escapeSeismicSpecialSymbols","str","_","startsWith","CONTEXTUAL_LINK_NAMES","header","order","uiActions","uxActions","ribbon","formLayout","relatedItems","relatedLists","contextualSidePanel","USERS","GROUPS","EDIT_TAG_MODAL","TITLE","SAVE","NAME","BUTTONS","PRIMARY","SECONDARY","UPDATE_TAG","FIELD_CHANGED","UPDATE_TAG_SUCCESSFUL","TAG_UPDATED","LOAD_TAG_DETAILS","LOAD_TAG_DETAILS_SUCCESSFUL","LOAD_AVATARS","LOAD_AVATARS_SUCCESSFUL","LOAD_USERS","LOAD_USERS_SUCCESSFUL","LOAD_USER_GROUPS","LOAD_USER_GROUPS_SUCCESSFUL","__TECTONIC__$devsnc_sn_scripted_modal","classNames","StorageObject","_parseArray","resultSet","array","_parse","hasOwn","SPACE","arg","argType","split","_parseString","isArray","k","_parseObject","num","_parseNumber","len","args","classSet","SEARCH_INPUT_ENTERED","__TECTONIC__$servicenow_now_tooltip","url","test","slice","replace","_isEmpty","a","String","_addMissingRequiredProperty","state","acceptedProperties","missingRequiredProperty","keys","forEach","valueIsEmpty","required","rkey","result","__TECTONIC__$devsnc_sn_declarative_actions","getExtensionFromFileName","lastIndexOf","substring","toLowerCase","isAllowedDragType","e","dataTransfer","includes","types","getDisplaySize","sizeInBytes","kilobytes","toFixed","processFiles","files","updateLists","extentionsProperty","getProperty","extensions","maxSizeBytes","uploadList","errorList","file","isInvalidFileType","size","createDragHandlers","setAttachmentOverlay","attachmentDragEventCounter","onDragEnter","preventDefault","stopPropagation","onDragOver","onDragLeave","onDrop","renderAttachmentUploadOverlay","attachmentOverlayMessage","className","uploadAttachmentToServer","table","sysId","dispatch","data","FormData","append","params","action","sys_id","load_attachment_record","showAttachmentUploadErrors","isEmpty","notifications","error","type","message","renderAttachmentUploadModal","showModal","fileList","currentFileName","currentFileIndex","updateName","createFileDataURL","uploadFileDataURL","index","fileToUpload","canShowPreview","cancelLabel","modalTitle","title","listLength","getModalTitle","isUploadDisabled","opened","manageOpened","append-to-payload","eventSource","header-label","footer-actions","variant","disabled","initialValue","onValueChange","onStagedValueChange","src","alt","getFileFromFormData","meta","request","entries","entry","transformLoadingItem","details","canDelete","canEditName","canWrite","userId","sys_created_by","userName","sys_created_by_display","date","sys_updated_on","dateLabel","sys_updated_on_display","__TECTONIC__$servicenow_now_dropdown","__TECTONIC__$servicenow_now_modal","__TECTONIC__$servicenow_behavior_resize_19_0_11","getLabelValuePairContainer","toggleContainerRef","firstChild","itemsRef","getLabelValuePairs","labelValuePairs","querySelectorAll","from","getRects","labelValuePair","rect","getBoundingClientRect","getRowStartIndices","labelValuePairRects","leftPoint","left","leftPointIndices","lvp","ITEM_TYPES","SIMPLE","REFERENCE","HIGHLIGHTED","HEADER_ACTIONS_PREVIEW_RECORD","COMPONENT_PROPERTY_CHANGED","actionTypes","COMPONENT_DISCONNECTED","COMPONENT_BOOTSTRAPPED","queryAttachmentEntries","createGraphQLEffect","read","variableList","successActionType","errorActionType","updateAttachmentEntry","update","getAttachmentListFromData","attachments","searchString","filter","count","readSuccessHandler","effect","updateState","maxFileNameLength","docViewerEnabled","canCreate","extensionString","loadingItems","docViewerState","loadDocViewer","sysIds","attachment","cleanedUpItems","attachmentsInitialized","handlerError","actionName","errorMessage","addNotificationsEffect","classicForm","payload","items","uploadAttachmentSucceededEffect","AttachmentElement","attachmentActions","createAttachmentActionHandlers","createCustomElement","renderer","react","view","Attachment","initialState","modal","display","showAttachmentUploadOverlay","showAttachmentPreview","lastTriggerCard","uploadAttachmentList","errorAttachmentList","uploadAttachmentListIndex","showUploadFileModal","schema","isAttachmentUploadDisabled","isReadOnly","loadDocViewerIfNecessary","recordDisplayValue","overlayContainer","attachmentPreviewItem","refreshRequested","disableUploadModal","dispatches","actions","private","actionHandlers","hoistOverlayToContainer","shouldRender","focus","path","operation","SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN","actionType","fileInputRef","parentElement","attachmentList","cards","attachmentIndexToBeDeleted","findIndex","cardIndexToFocus","setTimeout","browseButton","focusPreviousCardOrBrowseButton","context","previousValue","executingFileName","options","variables","file_name","interceptors","after","coeffects","component","sessionNotifications","reduce","allNotifications","text","click","styles","currentDocViewerState","customElements","DOC_VIEWER_STATUS","loadComponent","then","loadedComponents","whenDefined","BUTTON_TYPES","isAllowedMime","renderActionButton","callback","additionalClass","buttonType","componentIdPrefix","ariaConfig","bare","component-id","config-aria","icon-name","onclick","tooltip-content","input","button","event","FocusEvent","window","bubbles","cancelable","composed","dispatchEvent","renderActionButtonType","createCallback","partial","attachmentActionHandler","handleEsc","renderPreviewNotAvailable","toUpperCase","mime-type","extension","renderAttachmentPreviewOverlay","isHoisted","deleteHidden","readonly","tabIndex","on-keyup","role","sys-id","delete-hidden","Fragment","on-focus","focusTrapHandler","renderAttachmentOverlayView","nowHoistPrependTo","componentId","getReadOnlyPreviewOverlayProps","canUploadAttachment","hideAttachmentPreview","location","href","downloadAttachment","COMPONENT_RENDERED","applyTemplateData","readData","TEMPLATE_ACTIONS","TEMPLATE_APPLY_SUCCESS","TEMPLATE_APPLY_ERROR","fetchTemplateData","TEMPLATE_FETCH_SUCCESS","TEMPLATE_FETCH_ERROR","deleteTemplate","destroy","TEMPLATE_DESTROY_SUCCESS","TEMPLATE_DESTROY_ERROR","refetchData","selectedTab","searchQuery","actionMeta","queryConditions","constructQueryString","TEMPLATE_FETCH_ACTION","paginationVar","getPaginationObject","escapeQueryString","query","getTemplateString","fields","nonEmptyFields","field","visible","sort","focusTemplateCard","templateSysId","card","TEMPLATE_ADD_NOTIFICATIONS","clearNotificationsEffect","TEMPLATE_CLEAR_NOTIFICATIONS","SnComponentTemplate","encodedRecord","searchFilter","searchTerm","all","my_templates","timestamp","focusNext","tag","eventually","search","timeout","interval","focusSearch","resultTab","templateData","console","TEMPLATE_APPLY_ACTION","applyTemplate","offset","TEMPLATE_DESTROY_ACTION","executeEffectIfValidEventSource","TEMPLATE_EVENT_SOURCE","TEMPLATE_MENU_ITEM","template","displayDeleteModal","deletingTemplate","TEMPLATE_PREVIEW_RECORD","transformPreviewRecordPayload","DELETE_CANCELED_ACTION","DELETE_CONFIRMED_ACTION","templates","nextTemplate","extraMeta","nextFocusTemplateId","deletingTemplateId","TEMPLATE_PLUS_BUTTON_CLICKED","NEW_TEMPLATE_ICON","TEMPLATE_CREATE_NEW","TEMPLATE_CREATE_BUTTON_CLICKED","NEW_TEMPLATE_BUTTON","style","REMOVE_TEMPLATE_MODAL","TEMPLATE_MENU_ACTIONS","EDIT","DELETE","SET_FIELDS_MSG","TEMPLATE_LIMIT_SYS_PROP","BASE_GRID","MAX_GRID","MORE_ARIA_LABEL","TEMPLATE_TAB_ITEMS","AttachmentCard","displayUploadProgressBar","handlers","__TECTONIC__$servicenow_now_label_value","lineHeight","parseInt","getComputedStyle","document","documentElement","fontSize","getMaxLineHeight","lineCount","PRIVATE","TOGGLE_CLICKED","LINK_CLICKED","PUBLIC","COMPONENT_NAME","LAYOUT","DISTRIBUTED","MIN_WIDTH","DYNAMIC","MAX_WIDTH","QUERY_FRAGMENT","transformSecondaryItems","secondaryItems","transformSimpleItem","referenceItem","omit","transformReferenceItem","highlightedValueStyle","status","showIcon","transformHighlightedItem","createTransform","getValueOrDefault","headerSysId","tableDisplayValue","primaryItem","primaryValue","configurationItem","hideTagsValue","subHeadingValue","HEADER_SUBHEADING_ITEM","headerImageItem","createHeaderDataSource","queryPrefix","baseKey","getValue","transform","createDataProviderDataSource","workspaceConfigId","headerConfigId","highlightedValueConfigId","selectableProps","VIEWABLE_TAG_QUERY_KEY","VIEWABLE_RECORD_TAGS","recordTags","createViewableRecordTagDataSource","tagSysProperty","tagSysPropertyWithDefault","EmptyStateElement","containerClassNames","headerImage","subHeading","fieldLabel","fit","headerSubComponent","snabbdom","PREVIEW_RECORD","__TECTONIC__$servicenow_now_highlighted_value","__TECTONIC__$servicenow_now_text_link","__TECTONIC__$servicenow_now_pill","handleNonEnterKeys","inputRef","userText","current","trim","prefix","createTag","createTagLabel","tagSysId","createTagOrTagLabel","tags","existingTag","tagList","find","element","findTag","handleOnFocus","openDropDown","handleEnterKey","keyUtils","onEnter","cancelBubble","cache","getImageUrl","avatar","createField","fieldName","TagDetails","tagDetails","userListDetails","groupListDetails","userList","groupList","values","displayValues","avatars","groupedAvatars","accumulator","user_list","formatAvatars","group_list","viewable_by","isGroupAndUsers","ListField","formatSelectedItems","viewableBy","selected","lowerKey","x","results","totalResults","cachedItems","cached","loadAvailable","raw","formatLoadedItems","available","total","dropdown","nonSelected","secondaryDisplayValue","email","prepareItemsFromCache","differenceBy","listKey","__TECTONIC__$servicenow_behavior_fit_19_0_11","getParams","conditions","getPlatformURL","getURL","headerConfiguration","first","HEADER_CONFIGURATION_QUERY_KEY","HEADER_CONFIGURATION_TABLE","createHeaderConfigurationDataSource","UI_ACTION_QUERY_KEY","UI_ACTIONS_KEY","UI_ACTION_MESSAGES","UI_ACTION_FORM_ACTIONS","ACTION_NODES","FIXED_BUTTON_NUMBER","transformAction","hint","nodeId","isFormReadonly","record","trueTable","actionNodeData","actionNodes","hasChildren","groupActions","hasMultipleChildren","overflow","color","formActions","nodes","existingKeys","transformNode","uxActionType","arr","getActionsFromNodes","encodedQuery","messages","loadedMessages","transformMessages","fixedButtonNumber","createUIActionDataSource","daClientActionContract","daWrapClickHandler","wrapped_action_name","wrapped_payload","UIActionBar","daModel","selectable","handleClick","width","shouldHidePanel","selectedAction","loadComponents","transformedActions","loadActionComponents","openedMore","opened-more","selected-action","formModel","sidebarPanelExtras","renderedPanels","component-name","actionComponent","form-model","action-attributes","actionAttributes","assignmentId","record-display-value","sidebar-panel-extras","renderPanels","unstableParse","transformedState","sidebarTransformer","toggleSelectedOrDefaultAction","newOpened","actionIndex","badge","__TECTONIC__$servicenow_now_legacy_icon","__TECTONIC__$servicenow_ui_effect_http","reader","FileReader","readAsDataURL","onload","uploadFiles","attachmentOverlayActions","attachmentUploadModalActions","dragHandlers","dropTarget","removeEventListener","removeEventListeners","getDefaultAction","getActionByName","getActionByComponentName","actionComponentName","getSelectedOrDefaultAction","isAttachmentAvailable","transformer","newSelectedAction","attachmentAction","currentSelectedAction","isAttachmentInSidebar","FORM_ACTION_POSITION","formActionsForPosition","position","formAction","wsConfigSysId","actionConfigId","sideBar","relatedItem","FORM_ACTIONS_KEY","sidebarActions","configUrl","configurationItems","createDeclarativeFormActionDataSource","DECLARATIVE_ACTIONS_QUERY_KEY","DECLARATIVE_ACTIONS_FORM_QUERY_KEY","FORM_DECLARATIVE_ACTIONS_KEY","toAttributes","attrs","kebabCase","getWigetTagNames","widgets","widget","getTagsNotInCache","tagsLoaded","RIBBON_ACTIONS","OPEN_PHONE","REMOVE_NOTIFICATIONS","ITEM_SELECTED","EXECUTED_UI_ACTION","WRAPPED_ACTION","RIBBON_OPEN_PHONE","RIBBON_PREVIEW_RECORD","RIBBON_ADD_NOTIFICATIONS","RIBBON_REMOVE_NOTIFICATIONS","RIBBON_CLEAR_NOTIFICATIONS","RIBBON_ITEM_SELECTED","RIBBON_EXECUTED_UI_ACTION","RIBBON_WRAPPED_ACTION","RelatedItemElement","ResizeBarElement","DisplayValueBlock","componentName","tabContentExtras","model","active","resizing","hidden","dark","__TECTONIC__$tectonic_seismic_testing_helpers_19_0_3","TemplateGQLRead","TemplateDataGQLRead","TemplateGQLDestroy","limit","qs","TemplateList","renderMenu","createActionMenu","hide-caret","select","manage-selecteditems","getAriaAttributes","renderDeleteModal","tabData","modalProps","headerLabel","footerActions","clickActionType","appendToPayload","manage-opened","getTemplateData","onClickItem","refTemplate","templateRefs","nextTemplates","every","setState","triggerRenderIfNecessary","target","tagName","onSpace","clearAllMessages","currentTarget","getAttribute","notificationAction","templateApplied","targetSysId","substr","appliedTemplate","GlideLayout_Query","templateDataRetreiver","templateName","templateValue","conflicts","partition","variable_name","hasField","conflictedFields","itemsNotPresent","sys_readonly","applyTemplateToField","fieldDisplayMessage","getDisplayMessage","transformUntrustedAndLongData","setFieldsMessage","missingItemsMessage","itemsNotPresentMessage","templateAppliedMessage","messageType","itemsNotUpdated","notifyMessage","notify","displayVal","fieldDisplayValue","placeholder","caseSensitive","configAria","isWorkspace","parentNode","tooltipId","data-sys-id","onClick","onKeyPress","short_description","target-ref","isDataSourceEmpty","totalItems","gridToFill","templateGQLData","GlideRecord_Query","sys_template","_results","addSearchFilter","templateList","renderNoMatchFound","renderEmptyState","renderTemplateItem","Math","ceil","range","ariaHidden","React","Component","Searchbar","HIDDEN_STYLE","searchInput","closeBox","executeSearch","warn","clearSearch","closeBoxRef","wrapperRef","wrapperEl","onFocus","classList","add","onBlur","remove","debounce","aria-label","onChange","icon-set","PureComponent","propTypes","PropTypes","string","func","bool","defaultProps","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","number","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","__TECTONIC__$servicenow_now_tabs","iconString","renderIcon","createElementFromNode","createRange","createContextualFragment","detail","escape","MENU_TOOLTIP","VIEW_FILE","onCardHiddenButtonFocus","isFocused","onCardBlur","createAttachmentActionMenu","isFileUnavailable","createActionItem","attachmentId","refCard","cardRef","refHiddenCardButton","refCardMenu","cardMenuRef","renderFileThumbnail","isImageType","onCardClick","initAttachmentPreview","preventClickDefault","getAttachmentSize","attachmentSize","sizeUnit","dispatchFileErrorNotification","hasExtensionChanged","newName","onTitleBlur","enableEditing","onTitleKeyPress","onTitleKeyDown","isFileUploading","onCardKeyPress","focusCardMenu","isEditing","isAttachmentPreviewDisabled","isPropDifferent","isStateDifferent","changes","prop","renderCardWithInput","renderCard","focusClass","unavailable","attachClassName","getCardAriaLabel","aria-haspopup","securityErrorMessage","defaultValue","onKeyDown","autoFocus","resetAttachmentState","srcElement","onTab","onEscape","__TECTONIC__sn_component_file_icon","__TECTONIC__$servicenow_now_icon","__TECTONIC__$servicenow_now_progress_bar","getAction","enableEditingTriggered","Date","now","COMPONENT_DOM_TREE_READY","layoutTypes","distributed","align","truncated","wrapped","itemMinWidth","CONSTS","dynamic","itemsSchema","layoutType","enum","delimiter","hideLabels","displayInline","maxLinesPerValue","rowsBeforeToggleShown","behaviors","resize","showToggle","toggleOpen","initialLayoutCalculationComplete","LayoutHandler","onWidthChange","toggleState","calculateToggleState","labelValueStackedProps","level","hasNoMargin","hidePadding","iconEnd","toggleHeight","transformState","maxLinesPerValueStyle","isRTL","maxLinesPerValueStyleRTL","maxLinesPerValueStyleLTR","transformedItems","shouldConvertToHtml","previous","transformItems","behavior","resizeBehavior","timer","wait","isEqual","layoutState","recalculateLayout","onToggleChange","wrapperDiv","applyStyles","__TECTONIC__$servicenow_now_heading","underlined","opensWindow","toggleContainer","dt","dd","setProperty","removeProperty","handleDisplayInline","handleDelimiter","handleDynamicLayout","removeDelimiterNodesFromContainer","handleDistributedLayout","divToClamp","lineClamp","handleLineClamping","enableToggle","toggleHeightCalculator","calcToggleHeight","applyToggleHeight","dir","innerText","cssText","words","maxHeight","scrollHeight","max","min","middleWordIndex","bestFitWords","floor","wordToTruncate","middleLetterIndex","bestFitFinal","setEllipsisPosition","delimiterItemTemplate","getDelimiterHtml","replaceDelimiterNodes","nodeWrapper","delimiterNodes","replaceChild","createDelimiterNode","getDelimiterNodes","dl","delimiterClassSelector","delimiterClass","removeChild","removeDelimiterNodes","labelValuePairNodes","pair","contains","insertAdjacentHTML","rowStartIndices","maxHeightPerRow","lastIndex","height","splice","bottom","top","getLifeCycleEventListenerRenderer","baseRenderer","lifeCycleEvent","onStateChange","getTemplate","arg3","arg4","lifeCycleEventTriggeredResolve","lifeCycleEventTriggeredPromise","Promise","resolve","listener","clearTimeout","addEventListener","onDisconnect","afterDomTreeReadyRenderer","createHeaderConfigurationDataProvider","headerDataProvider","createHeaderDataProvider","pick","headerFetchActions","getFetchActions","createDataProvider","dataSources","renderSimpleItem","renderHighlightedItem","renderReferenceItem","ddRef","dtRef","updateProperties","labelId","hook","insert","elm","aria-labelledby","transformProps","dispatchPreviewRecord","closeTagListOnBlur","tagIconJustClicked","onTagIconMouseDown","tagEnabled","editMode","editTagId","tagIcon","getTagIcon","ariaLabel","editTagModalProps","tabindex","tagId","hide-tail","tooltipContent","slot","on-mousedown","taglist","on-blur","renderTagList","nowHoist","canCreateGlobalTags","getTagsFromProps","tagActions","__TECTONIC__$servicenow_now_popover","getTagStateFromQuery","queryResult","enabled","records","canEdit","labelEntry","fetchViewableTags","TAG_QUERIES","TAGS_GET_QUERY","deleteTagLabelEntry","TAG_DELETE_LABEL_ENTRY","effects","updatedState","popoverPanelContent","body","inputEl","shouldUpdate","createEffectsInterceptors","editDialogOpened","pill","newState","tagsFromProps","containerNode","TAGS_GET_FRAGMENT_QUERY","openDropdown","createTagSections","tagListMe","tagListGroups","tagListEveryone","createTitle","on-click","existingTags","tagListSection","pillToFocus","tagListActions","pillAriDescriptionId","can-dismiss","manage-selected","data-id","aria-describedby","localName","tableName","upperFirst","inputField","activeDescendant","createRef","handleKeyUp","handleKeyPress","handleFocus","autocomplete","on-keypress","aria-owns","aria-expanded","aria-autocomplete","aria-activedescendant","reflect","fetchTagsWithPrefix","ADD_TAG_QUERIES","TAG_PREFIX_GET_QUERY","createNewTagLabelEntry","TAG_INSERT_LABEL_ENTRY","createNewTag","TAG_CREATE_LABEL","tagsFromRecords","recordsToTagsAndFilter","newtags","differenceWith","y","checkIfTagExistsEffect","listItems","createListItems","resultsPluralState","ariaDropdownDescription","aria-atomic","aria-live","aria-controls","findFirstLi","findLastLi","keyBindingBehavior","keyBindings","moveFocus","currentFocus","nextFocus","nextLi","nextElementSibling","previousLi","previousElementSibling","scrollIntoView","listbox","isTriggeredFromInput","composedPath","nodeName","goToResults","closeDropdown","choices","typeaheadLabel","dropdownLabel","isViewableBySetToUsersAndGroups","selectedItems","availableItems","dropdownOpened","defaultPillIcon","renderModalContent","getPrefix","condition","pop","getLoadAction","getListKey","loadTagEffect","EDIT_TAG_MODAL_QUERIES","GET_TAG_DETAILS","loadAvatarsEffect","GET_AVATARS","userValues","userAvatars","loadUsersHandler","GET_USERS","loadUserGroupsHandler","GET_USER_GROUPS","updateTagHandler","noopHandler","loadAvatarAction","updatedTagDetails","GlideRecord_Mutation","update_label","sys_user","_rowCount","updateAvailableItems","sys_user_group","getList","loadAvailableItemsFromCache","newItems","updateSelectedItems","cast","manageable","dropdownPanelRef","Typeahead","fitBehavior","constrain","minHeight","minWidth","maxWidth","canScrollVertical","open","dismiss","dropDownResults","setAttribute","MultiSelectInput","mainComponentId","htmlFor","setFitTarget","on-scroll","on-wheel","pillIcon","imageSrc","iconName","manageSelected","canDismiss","on-input","evt","fitStyle","dropdownPanelEl","contentEl","newHeight","clientHeight","getFitStyle","setFitContent","oldNode","newNode","wasOpened","oldItems","setFitOpened","DropdownPanel","onBootstrap","addOutsideClickListener","paths","rootHost","removeOutsideClickListener","__TECTONIC__$servicenow_now_avatar","parent","DropdownPanelItemWithSecondayValue","image-src","on-mouseover","offsetWidth","scrollWidth","DropdownPanelItem","onToggleItemSelected","class","hostToClickListener","WeakMap","handler","set","delete","__TECTONIC__$servicenow_now_image","configurationDataSource","QUERY","createUxActionDataSource","uiActionDataProvider","action-nodes","actionSysId","should-wrap-action","UIActionBarInternal","updateStateIfValidEventSource","createActionToStateHandler","MORE_TEXT","buttonNodes","overflowNodes","isDisabled","colorToVariant","primary","unstyled","destructive","validClickTypes","buttonRefs","buttonRects","rectsCalculated","overflowRef","refActionContainer","refFixedButtonsContainer","refActionButtons","setOverflowButtonRef","getComponentMargin","actionContainer","fixedButtonsContainer","setActionBarVisibility","getRenderWidth","lastClickedAction","buttonNodeIndex","buttonNode","focusIndex","onceElementHasFocus","prevProps","prevState","focusOnLastClickedAction","changedProps","buttonClicked","resizeWidth","actionNodesLoaded","isActionableClick","actionFromPayload","submitAction","getPropertyValue","log","childNodes","shouldGetRects","marginLeft","fixedButtonsContainerRect","fixedButtonWidth","containerWidth","sumWidth","rec","unshift","finally","visibility","frequency","tries","hasFocus","reject","attempts","setInterval","clearInterval","setDisable","daActions","handleActionClick","dropdownMenuEl","appendPayload","getBaseNodeAttributes","actionForPayload","dropActions","manage-selected-items","buttons","renderButtonNode","renderSplitButtonNode","renderMenuButtonNode","findDOMNode","hideCaret","getElementById","renderButtonNodes","renderOverflow","renderActionBar","__TECTONIC__react_dom","__TECTONIC__$servicenow_now_split_button","UX_ACTION_QUERY_KEY","GET_ACTIONS_KEY","MESSAGES","ACTION_LAYOUT_ITEMS","transformActions","actionsMap","transformDAActionsToUXFContract","modelType","contractGenerator","actionLayoutItems","actionIds","Set","uiActionIds","declarativeActions","has","da","groups","shouldBeInOverflow","transformActionNodes","fitHeight","maxActions","hasMore","visibleActions","moreActions","targetRef","inlineStyle","menuStyle","moreButtonId","isSelectedInMenu","isSelectMore","moreButtonClass","isFirstOrLastAction","focusFromClick","newIndex","shouldOpenMore","blur","focusActionByName","focusSelectedAction","on-mouseup","on-keydown","code","on-focusout","createSidebarKeyBindingBehavior","createSidebarKeyBindingActions","createSidebarKeyBindingActionsHandlers","setTargetRef","getMoreButton","eventCameFromMoreButton","moreButton","menu","menuItem","sidebarAction","selectAction","findActionFn","getActiveAction","nextAction","prevAction","selectMoreAdjacentAction","focusFirstOrLastAction","getLast","fromMenu","focusLastActionOrMoreButton","focusLastMenuAction","focusLastAction","onEnterKeyPress","onArrowKeyPress","onTabKeyPress","ctrlKey","shiftKey","eventCameFromMenuAction","focusFirstTabbable","selectActionAfterMore","selectActionBeforeMore","focusNodeIfNeeded","shouldFocus","requestAnimationFrame","focusEl","focusIfNeededUpdate","focusIfNeededInsert","should-focus","weight","getComponentId","baseInstance","AttachmentGraphQLQuery","AttachmentGraphQLUpdate","MODAL_PROPS","invalid_type","delete_confirmation","updateAttachmentName","setPreviewRef","previewOverlayRef","setPreviewDownloadRef","previewDownloadButton","uploadAttachments","setFileInputRef","previousActiveElement","hasAttachments","previousAttachmentSysId","overlayProps","displayModal","modalType","modifierClassName","renderOverlay","aria-hidden","multiple","loadingList","attachmentsNotFound","renderNodata","iconStart","renderCompactMode","renderFullMode","renderEmptyPanel","panelBodyClass","data-index","renderPanel","__TECTONIC__$devsnc_sn_record_input_connected","dismissModal","uploadNext","nextFileIndex","updateStateOnModalOpenedEffect","updateStateOnUploadEffect","actionButtonId","originalFileName","File","uploadFile","viewerHidden","deleted","showAttachmentErrors","focusableTagsHashSet","INPUT","SELECT","TEXTAREA","isFocusable","elem","hasAttribute","offsetHeight","getClientRects","isVisible","getContentBody","contentDocument","contentWindow","resendEvent","toElem","originalEvent","eventName","CustomEvent","createEvent","initCustomEvent","createCycleElem","addFocusCycleEventListener","container","isFirstChild","oppositeElem","which","getFirstAndLastFocusableElement","last","foundFirst","foundLast","inner","attachFocusTrap","firstElem","insertBefore","lastElem","appendChild","__TECTONIC__$servicenow_now_loader","__TECTONIC__$servicenow_library_enhanced_utils_19_0_11","enableUpload","additionalActions","actionsHandlers","attachmentPreviewActions","attachmentDeleteActions","attachmentUploadActions","handleStart","attachmentGraphQLDelete","templateVarList","startActionType","createUploadAttachmentEffect","createHttpEffect","method","headers","queryParams","dataParam","batch","errors","fileName","itemIndex","sidebarDataProvider","createSidebarDataProvider","preWsConfigSysId","valueSchema","widgetsLoading","variableName","variableValue","additionalProperties","collapsed","canCollapse","isOpenframeConfigValid","constructWidgets","defaultAttributes","CustomTag","compId","sysid","random","compAttributes","columns","htmls","can-collapse","__TECTONIC__$servicenow_now_uxf_page","tagNames","LOAD_EXTERNAL_START","tagsNotInCache","LOAD_EXTERNAL_COMPLETED","createReDispatchActionHandler"],"mappings":"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","file":"now-record-common.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 72);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__$servicenow_ui_core;","module.exports = __TECTONIC__lodash_4_17_15;","module.exports = __TECTONIC__sn_translate;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__$devsnc_library_form_19_1_0;","import { t } from \"sn-translate\";\n\nexport const ACTIONS = {\n\tBOOTSTRAP_TAG: \"BOOTSTRAP_TAG\",\n\tTAGS_LOAD: \"TAG_LOAD\",\n\tPROPERTIES_SET: \"PROPERTIES_SET\",\n\tTAG_LOAD_SUCCESS: \"TAG_LOAD_SUCCESS\",\n\tTAG_GRAPHQL_ERROR: \"TAG_GRAPHQL_ERROR\",\n\tTAG_DELETE: \"TAG_DELETE\",\n\tTAG_DELETE_LABEL_SUCCESS: \"TAG_DELETE_LABEL_SUCCESS\",\n\tTAG_UPDATE_REFLECT: \"TAG_UPDATE_REFLECT\",\n\tSN_COMPONENT_TAG_LIST_OPENED_SET: \"SN_COMPONENT_TAG_LIST#OPENED_SET\",\n\tNOW_PILL_DISMISSED: \"NOW_PILL#DISMISSED\",\n\tNOW_PILL_SELECTION_SET: \"NOW_PILL#SELECTED_SET\",\n\tINPUT_TAG_TYPED: \"INPUT_TAG_TYPED\",\n\tTAG_CREATE: \"TAG_CREATE\",\n\tCREATE_TAG_LABEL: \"CREATE_TAG_LABEL\",\n\tTAG_PREFIX_FETCH_SUCCESS: \"TAG_PREFIX_FETCH_SUCCESS\",\n\tTAG_LABEL_ENTRY_SUCCESS: \"TAG_LABEL_ENTRY_SUCCESS\",\n\tTAG_CREATE_SUCCESS: \"TAG_CREATE_SUCCESS\",\n\tTAG_ICON_CLICKED: \"NOW_POPOVER#OPENED_SET\",\n\tTAG_LIST_CLICKED: \"TAG_LIST_CLICKED\",\n\tADD_TAG_FIELD_CHANGED: \"ADD_TAG_FIELD_CHANGED\",\n\tADD_TAG_FIELD_CLEARED: \"ADD_TAG_FIELD_CLEARED\",\n\tENTER_ACTION_HANDLED: \"ENTER_ACTION_HANDLED\",\n\tRESET_ADD_TAG_COMPONENT: \"RESET_ADD_TAG_COMPONENT\",\n\tTAG_LIST_RESET_FOCUS_PILL: \"TAG_LIST_RESET_FOCUS_PILL\",\n\tADD_TAG_DESCENDANT_SELECTED: \"ADD_TAG_DESCENDANT_SELECTED\",\n\tEVENT_SOURCE: \"TAGS_EVENT_SOURCE\",\n\tSET_TAG_STATE: \"SET_TAG_STATE\",\n\tTAG_EXISTS_CHECK: \"TAG_EXISTS_CHECK\",\n\tTAG_EXISTS_CHECK_SUCCESS: \"TAG_EXISTS_CHECK_SUCCESS\",\n\tTAG_EXISTS_CHECK_FAILURE: \"TAG_EXISTS_CHECK_FAILURE\"\n};\n\nexport const GQL_RESULTS = {\n\tTAG_FETCH_VIEWABLE_TAGS_RESULT:\n\t\t\"payload.data.GlideViewableTagQuery_Query.viewableUserTags.records\",\n\tTAG_AFTER_INSERT_NEW_SYS_ID:\n\t\t\"payload.data.GlideRecord_Mutation.insert_label.sys_id.value\",\n\tTAG_FETCH_VIEWABLE_RECORD_TAGS:\n\t\t\"payload.data.GlideViewableTagQuery_Query.viewableRecordTags\",\n\tTAG_DELETED_COUNT:\n\t\t\"payload.data.GlideRecord_Mutation.delete_label_entry.modified_count\",\n\tCHECK_TAG_VALUE: \"meta.options.variables.prefix\"\n};\n\nexport const VIEWABLE_BY = {\n\tME: {\n\t\tvalue: \"me\",\n\t\tdisplayValue: t(\"Me\")\n\t},\n\tGROUPS_AND_USERS: {\n\t\tvalue: \"groups and users\",\n\t\tdisplayValue: t(\"Groups and Users\")\n\t},\n\tEVERYONE: {\n\t\tvalue: \"everyone\",\n\t\tdisplayValue: t(\"Everyone\")\n\t}\n};\n\nexport const LABELS = {\n\tADD_TAG: t(\"Add Tag\"),\n\tADD_TAG_SUGGESTION: t(\"Press Enter or Space to add the tag\"),\n\tADD_TAG_AUTOCOMPLETE_INSTRUCTIONS: t(\n\t\t\"When results are available use Up and Down arrows to navigate and Enter or Space to add the tag\"\n\t),\n\tADD_TAG_INPUT_ID: \"add-tag-input-id\",\n\tADD_TAG_ARIA_DESCRIPTION_ID: \"typeahead-instructions\",\n\tTAG_DROPDOWN_ID: \"sn-form-tag-dropdown-list\",\n\tTAG_DROPDOWN_ARIA_DESCRIPTION_ID:\n\t\t\"sn-form-tag-dropdown-list-aria-description\",\n\tTAGS: t(\"Tags\"),\n\tTAG: t(\"Tag\"),\n\tTAG_ICON_ARIA_LABEL: t(\"Click to view and edit tags\"),\n\tRESULT: t(\"result\"),\n\tRESULTS: t(\"results\"),\n\tTAG_LIST_PILL_ARIA_DESCRIPTION: t(\"Click to edit tag\")\n};\n\nexport const COMPONENT_TAGS = \"sn-record-tags-connected\";\nexport const COMPONENT_ADD_TAG = \"sn-form-internal-add-tag\";\nexport const COMPONENT_EDIT_TAG_MODAL = \"sn-form-internal-edit-tag-modal\";\nexport const COMPONENT_TAG_DROPDOWN = \"sn-form-internal-tag-dropdown\";\nexport const COMPONENT_TAG_LIST = \"sn-form-internal-tag-list\";\nexport const COMPONENT_TAG_TYPE_AHEAD = \"sn-form-internal-typeahead\";\nexport const COMPONENT_TAG_TYPE_AHEAD_DROPDOWN_PANEL =\n\t\"sn-form-internal-dropdown-panel\";\n","module.exports = __TECTONIC__$servicenow_ui_renderer_react;","import { t } from \"sn-translate\";\n\nexport const ATTACHMENT_ACTIONS = {\n\tATTACHMENT_DELETE_ACTION: \"ATTACHMENT_DELETE_ACTION\",\n\tATTACHMENT_DELETE_OR_UPDATE_ERROR: \"ATTACHMENT_DELETE_OR_UPDATE_ERROR\",\n\tATTACHMENT_UPDATE_ACTION: \"ATTACHMENT_UPDATE_ACTION\",\n\tATTACHMENT_UPLOAD_SUCCESS: \"ATTACHMENT_UPLOAD_SUCCESS\",\n\tATTACHMENT_UPLOAD_ERROR: \"ATTACHMENT_UPLOAD_ERROR\",\n\tATTACHMENT_READ_QUERY: \"ATTACHMENT_READ_QUERY\",\n\tATTACHMENT_READ_ERROR: \"ATTACHMENT_READ_ERROR\",\n\tATTACHMENT_READ_SUCCESS: \"ATTACHMENT_READ_SUCCESS\",\n\tATTACHMENT_REFRESH_REQUESTED: \"ATTACHMENT_REFRESH_REQUESTED\",\n\tDOWNLOAD: {\n\t\tid: \"download\",\n\t\tlabel: t(\"Download\")\n\t},\n\tREMOVE: {\n\t\tid: \"remove\",\n\t\tlabel: t(\"Remove\")\n\t},\n\tRENAME: {\n\t\tid: \"rename\",\n\t\tlabel: t(\"Rename\")\n\t},\n\tADD_FILE: {\n\t\tid: \"add_file\",\n\t\tlabel: t(\"Add File\")\n\t}\n};\nexport const ATTACHMENT_UPLOAD_BUTTON_CLICKED =\n\t\"ATTACHMENT_UPLOAD_BUTTON#CLICKED\";\nexport const ATTACHMENT_DELETE_ACTION = \"ATTACHMENT#DELETE\";\nexport const ATTACHMENT_DELETE_CONFIRM_ACTION = \"ATTACHMENT_DELETE#CONFIRM\";\nexport const ATTACHMENT_DOWNLOAD_ACTION = \"ATTACHMENT#DOWNLOAD\";\nexport const ATTACHMENT_PREVIEW_LOAD_ACTION = \"ATTACHMENT_PREVIEW#LOAD\";\nexport const ATTACHMENT_ADDED =\n\t\"NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#ATTACHMENTS_ADDED\";\nexport const ATTACHMENT_PREVIEW_DISABLED_PROPERTY =\n\t\"sn_agent_workspace.preview_attachment.disabled\";\nexport const NOW_DROPDOWN_ELEMENT = \"NOW-DROPDOWN\";\nexport const FILE_SIZES = [\"B\", \"KB\", \"MB\", \"GB\"];\nexport const ALLOWED_THUMBNAIL = [\"image\"];\nexport const ATTACHMENT_CARD_ITEM_CLICKED = \"NOW_DROPDOWN#ITEM_CLICKED\";\nexport const ATTACHMENT_ENABLE_EDIT_ACTION = \"ATTACHMENT_ENABLE_EDIT_ACTION\";\nexport const ATTACHMENT_ERROR_MESSAGE = {\n\tEMPTY_NAME: \"Renaming attachment to empty new name is not allowed\",\n\tINVALID_EXTENSION: \"Renaming attachment {0} to new name {1} is not allowed.\",\n\tNOT_AVAILABLE:\n\t\t\"The file {0} did not pass security scan and cannot be previewed or downloaded.\",\n\tFILE_NAME_MAX_LENGTH: \"Filename has reached the character limit of {0}\",\n\tUPLOADING: \"The upload is in progress and the file cannot be previewed.\"\n};\nexport const ATTACHMENT_CARD_DROPDOWN = \"attachment_card_action_dropdown\";\nexport const NOW_BUTTON_CLICKED = \"NOW_BUTTON#CLICKED\";\nexport const NOW_BUTTON_ICONIC_CLICKED = \"NOW_BUTTON_ICONIC#CLICKED\";\nexport const NOW_BUTTON_BARE_CLICKED = \"NOW_BUTTON_BARE#CLICKED\";\nexport const REMOVE_MODAL_EVENT_SOURCE = \"REMOVE_MODAL_EVENT_SOURCE\";\nexport const INVALID_TYPE_MODAL_EVENT_SOURCE =\n\t\"INVALID_TYPE_MODAL_EVENT_SOURCE\";\nexport const NOW_MODAL_OPENED_SET_ACTION = \"NOW_MODAL#OPENED_SET\";\nexport const ATTACHMENT_MODAL_CLOSED_ACTION = \"ATTACHMENT_MODAL#CLOSED\";\nexport const ATTACHMENT_ADD_NOTIFICATIONS =\n\t\"NOW_RECORD_COMMON_ATTACHMENT_CONNECTED#ADD_NOTIFICATIONS\";\nexport const ATTACHMENT_UPLOAD_SUCCEEDED =\n\t\"NOW_RECORD_COMMON_ATTACHMENT_CONNECTED#UPLOAD_SUCCEEDED\";","module.exports = __TECTONIC__$servicenow_now_button;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = createElement;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _camelCase = require('lodash/camelCase');\n\nvar _camelCase2 = _interopRequireDefault(_camelCase);\n\nvar _isEmpty = require('lodash/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _reduce2 = require('lodash/reduce');\n\nvar _reduce3 = _interopRequireDefault(_reduce2);\n\nvar _startsWith = require('lodash/startsWith');\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createElement(name) {\n\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tfunction isSeismicComponent(name) {\n\t\treturn (0, _isString2.default)(name) && name.indexOf('-') !== -1;\n\t}\n\n\tfunction isAttribute(name) {\n\t\treturn _constants.ATTRIBUTES.indexOf(name) !== -1 || (0, _startsWith2.default)(name, 'aria-') || (0, _startsWith2.default)(name, 'data-');\n\t}\n\n\tfunction isMappedToProps(name) {\n\t\treturn _constants.MAPPED_TO_PROPS.indexOf(name) !== -1;\n\t}\n\n\tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t\tchildren[_key - 2] = arguments[_key];\n\t}\n\n\tif (!(0, _isEmpty2.default)(props) && isSeismicComponent(name)) {\n\t\tvar existingRef = props.ref && typeof props.ref === 'function' && props.ref;\n\n\t\tvar _reduce = (0, _reduce3.default)(props, function (acc, value, name) {\n\t\t\tif (isAttribute(name)) acc['attributes'][name] = value;else acc['properties'][(0, _camelCase2.default)(name)] = value;\n\n\t\t\tif (isMappedToProps(name)) acc['properties'][name] = value;\n\n\t\t\treturn acc;\n\t\t}, {\n\t\t\tattributes: {},\n\t\t\tproperties: {}\n\t\t}),\n\t\t    attributes = _reduce.attributes,\n\t\t    properties = _reduce.properties;\n\n\t\tif (!(0, _isEmpty2.default)(properties)) {\n\t\t\treturn _react2.default.createElement.apply(_react2.default, [name, Object.assign({}, attributes, { ref: function ref(node) {\n\t\t\t\t\tif (!node) return;\n\t\t\t\t\texistingRef && existingRef(node);\n\t\t\t\t\tObject.assign(node, properties);\n\t\t\t\t} })].concat(children));\n\t\t}\n\t}\n\treturn _react2.default.createElement.apply(_react2.default, [name, props].concat(children));\n}","module.exports = __TECTONIC__react;","export { default as EmptyStateElement } from \"./emptyState\";\n","export const ATTACHMENT_PREVIEW_LOAD_ACTION = \"ATTACHMENT_PREVIEW#LOAD\";\nexport const ATTACHMENT_PREVIEW_DISMISS_ACTION = \"ATTACHMENT_PREVIEW#DISMISS\";\nexport const ATTACHMENT_UPLOAD_MODAL_FOOTER_ACTION =\n\t\"NOW_MODAL#FOOTER_ACTION_CLICKED\";\nexport const ALLOWED_MIME_TYPE = [\"image\"];\nexport const ALLOWED_DRAG_TYPE = \"Files\";\nexport const UPLOAD_FILE_ERROR = {\n\tUNSOPPORTED_FILE:\n\t\t\" failed to upload because the file type is not permitted, or the file type does not match the file content.\",\n\tEMPTY_FILE:\"Attachment is empty.\"\n};\nexport const ATTACHMENT_MODAL_FOOTER_BUTTON = {\n\tUPLOAD: \"upload\",\n\tCANCEL: \"cancel\"\n};\nexport const ATTACHMENT_UPLOAD_SAVE = {\n\tACTIONS: {\n\t\tSTART: \"ATTACHMENT_UPLOAD_SAVE#START\",\n\t\tSUCCESS: \"ATTACHMENT_UPLOAD_SAVE#SUCCESS\",\n\t\tFAIL: \"ATTACHMENT_UPLOAD_SAVE#FAIL\"\n\t},\n\tSOURCE_KEY: \"attachmentUploadSave\",\n\tSTATUS_INDICATOR: \"isUploaded\",\n\tERROR: \"error\"\n};\n\nexport const FILE_UPLOAD = {\n\tACTIONS: {\n\t\tSTARTED: \"ATTACHMENT_FILE_UPLOAD#STARTED\",\n\t\tSUCCEEDED: \"ATTACHMENT_FILE_UPLOAD#SUCCEEDED\",\n\t\tFAILED: \"ATTACHMENT_FILE_UPLOAD#FAILED\"\n\t}\n};\nexport const ATTACHMENT_DELETE = {\n\tACTIONS: {\n\t\tSTART: \"ATTACHMENT_DELETE#START_FETCH\",\n\t\tSTARTED: \"ATTACHMENT_DELETE#FETCH_STARTED\",\n\t\tSUCCEEDED: \"ATTACHMENT_DELETE#FETCH_SUCCEEDED\",\n\t\tFAILED: \"ATTACHMENT_DELETE#FETCH_FAILED\"\n\t},\n\tSOURCE_KEY: \"attachmentDelete\",\n\tSTATUS_INDICATOR: \"isDeleted\",\n\tERROR: \"error\"\n};\n\nexport const UPLOAD_MODAL_EVENT_SOURCE = \"UPLOAD_MODAL_EVENT_SOURCE\";\nexport const ATTACHMENT_DOC_VIEWER_CLOSED_OR_DELETED =\n\t\"DOCVIEWER#CLOSE_ACTION_CLICKED\";\nexport const ALL_ATTACHMENTS_UPLOADED = \"ATTACHMENT#ALL_UPLOADED\";","export const ADD_NOTIFICATIONS = \"ADD_NOTIFICATIONS\";\nexport const CLEAR_NOTIFICATIONS = \"CLEAR_NOTIFICATIONS\";\n","const MORE_ACTION = {\n\tname: \"MORE\",\n\ttooltip: \"more actions\",\n\ticon: \"ellipsis-h-outline\"\n};\n\nconst ACTIONS = {\n\tOPENED_SET: \"NOW_RECORD_COMMON_SIDEBAR#OPENED_SET\",\n\tACTION_STATUS_UPDATED: \"NOW_RECORD_FORM#ACTION_STATUS_UPDATED\"\n};\n\nconst INTERNAL_ACTIONS = {\n\tACTION_CLICKED: \"SIDEBAR_INTERNAL_ACTION_CLICKED\",\n\tMORE_CLICKED: \"SIDEBAR_INTERNAL_MORE_CLICKED\",\n\tFOCUS_CHANGED: \"SIDEBAR_INTERNAL_FOCUS_CHANGED\"\n};\n\nconst ELEMENTS = {\n\tPANEL: \"sn-form-internal-sidebar-panel\",\n\tTOOLBAR: \"sn-form-internal-sidebar-toolbar\",\n\tMENU: \"sn-form-internal-sidebar-menu\",\n\tTOOLBAR_ACTION: \"sn-form-internal-sidebar-action\",\n\tMENU_ITEM: \"sn-form-internal-sidebar-menu-item\"\n};\n\nconst CLASSES = {\n\tTOOLBAR_CONTAINER: \"sidebar-action-container\",\n\tMORE_BUTTON: \"more-button\"\n};\n\nconst SELECTORS = {\n\tTOOLBAR_CONTAINER: `.${CLASSES.TOOLBAR_CONTAINER}`,\n\tMORE_BUTTON: `.${CLASSES.MORE_BUTTON}`\n};\n\nexport const SIDEBAR = {\n\tELEMENTS,\n\tCLASSES,\n\tSELECTORS,\n\tINTERNAL_ACTIONS,\n\tACTIONS,\n\tMORE_ACTION\n};\n\nexport const SIDEBAR_ACTION = ACTIONS;\n","module.exports = __TECTONIC__$servicenow_ui_effect_graphql;","module.exports = __TECTONIC__$servicenow_behavior_key_binding_19_0_11;","export const TYPEAHEAD = Object.freeze({\n\tACTIONS: {\n\t\tLOAD_ITEMS: \"TYPEAHEAD#TRY_LOADING_ITEMS\",\n\t\tOPENED_SET: \"TYPEAHEAD#OPENED_SET\",\n\t\tPILL_REMOVED: \"TYPEAHEAD#PILL_REMOVED\",\n\t\tPILL_ADDED: \"TYPEAHEAD#PILL_ADDED\",\n\t\tDROPDOWN_PANEL_OPENED_SET: \"SN_COMPONENT_DROPDOWN_PANEL#OPENED_SET\"\n\t}\n});\n","export const UI_ACTION_BAR_INTERNAL_ACTIONS = {\n\tBUTTON_CLICK: \"NOW_BUTTON#CLICKED\",\n\tMENU_CLICK: \"NOW_DROPDOWN#ITEM_CLICKED\",\n\tSPLIT_BUTTON_CLICKED: \"NOW_SPLIT_BUTTON#ITEM_CLICKED\",\n\tSPLIT_BUTTON_ACTION_CLICKED: \"NOW_SPLIT_BUTTON#ACTION_CLICKED\"\n};\n\nexport const UI_ACTION_BAR_ACTIONS = {\n\tACTION_CLICK: \"NOW_RECORD_UI_ACTION_BAR#CLICKED\",\n\tDECLARATIVE_ACTION: \"DECLARATIVE_ACTION\"\n};\n\nexport const UI_ACTION_BAR_CONNECTED_ACTIONS = {\n\tACTION_CLICK: \"NOW_RECORD_UI_ACTION_BAR_CONNECTED#CLICKED\"\n};\n\nexport const UI_ACTION_BAR_EVENT_SOURCE = \"ACTION_BAR\";\nexport const UI_ACTION_BAR_DEFAULT_WIDTH_PERCENTAGE = 50;\n\nexport const UI_ACTION_TYPES = {\n\tBUTTON: \"Button\",\n\tMENU: \"Menu\",\n\tSPLIT_BUTTON: \"Split Button\"\n};\n\nexport const UX_ACTION_TYPES = {\n\tUI_ACTION: \"UIAction\",\n\tDECLARATIVE_ACTION: \"DeclarativeAction\"\n};\n","module.exports = __TECTONIC__sn_uxpage_presource_18_0_5;","export const getActiveElement = el => {\n\treturn el.shadowRoot && el.shadowRoot.activeElement\n\t\t? getActiveElement(el.shadowRoot.activeElement)\n\t\t: el;\n};\n\nexport const getSelectNode = (doc, selector) => {\n\tif (!doc || !selector || !doc.querySelector) return null;\n\tconst host = doc.host;\n\tconst selectedNode = doc.querySelector(selector);\n\tif (!host || selectedNode) return selectedNode;\n\treturn getSelectNode(host.getRootNode(), selector);\n};\n\nexport const getFirstDiv = host => {\n\tconst rootNode = host && host.getRootNode && host.getRootNode();\n\treturn rootNode ? rootNode.querySelector(\"div\") : null;\n};\n","import _ from \"lodash\";\n\nexport const escapeSeismicSpecialSymbols = str =>\n\t_.startsWith(str, \"@\") ? `\\\\${str}` : str;\n","import { t } from \"sn-translate\";\nexport const CONTEXTUAL_LINK_NAMES = {\n\theader: {\n\t\tname: t(\"Form Header\"),\n\t\torder: 1\n\t},\n\tuiActions: {\n\t\tname: t(\"UI Actions\"),\n\t\torder: 2\n\t},\n\tuxActions: {\n\t\tname: t(\"UX Actions\"),\n\t\torder: 2\n\t},\n\tribbon: {\n\t\tname: t(\"Ribbon\"),\n\t\torder: 3\n\t},\n\tformLayout: {\n\t\tname: t(\"Form Layout\"),\n\t\torder: 4\n\t},\n\trelatedItems: {\n\t\tname: t(\"Related Items\"),\n\t\torder: 5\n\t},\n\trelatedLists: {\n\t\tname: t(\"Related Lists\"),\n\t\torder: 6\n\t},\n\tcontextualSidePanel: {\n\t\tname: t(\"Contextual Side Panel\"),\n\t\torder: 7\n\t}\n};\n","import { t } from \"sn-translate\";\nexport const USERS = \"user\";\nexport const GROUPS = \"group\";\nexport const EDIT_TAG_MODAL = Object.freeze({\n\tLABELS: {\n\t\tTITLE: t(\"Edit Tag\"),\n\t\tSAVE: t(\"Save\"),\n\t\tCANCEL: t(\"Cancel\"),\n\t\tNAME: t(\"Tag name\"),\n\t\tVIEWABLE_BY: t(\"Viewable by\"),\n\t\tGROUPS: t(\"Groups\"),\n\t\tUSERS: t(\"Users\")\n\t},\n\tBUTTONS: {\n\t\tPRIMARY: \"primary\",\n\t\tSECONDARY: \"secondary\"\n\t},\n\tACTIONS: {\n\t\tSAVE: \"EDIT_TAG#SAVE\",\n\t\tUPDATE_TAG: \"EDIT_TAG#UPDATE_TAG\",\n\t\tCANCEL: \"EDIT_TAG#CANCEL\",\n\t\tOPENED_SET: \"NOW_MODAL#OPENED_SET\",\n\t\tFIELD_CHANGED: \"EDIT_TAG_MODAL#FIELD_UPDATED\",\n\t\tUPDATE_TAG_SUCCESSFUL: \"EDIT_TAG_MODAL#UPDATE_TAG_SUCCESSFUL\",\n\t\tTAG_UPDATED: \"EDIT_TAG_MODAL#TAG_UPDATED\",\n\t\tLOAD_TAG_DETAILS: \"EDIT_TAG_MODAL#LOAD_TAG_DETAILS\",\n\t\tLOAD_TAG_DETAILS_SUCCESSFUL: \"EDIT_TAG_MODAL#LOAD_TAG_DETAILS_SUCCESSFUL\",\n\t\tLOAD_ITEMS: \"EDIT_TAG_MODAL#LOAD_ITEMS\",\n\t\tLOAD_AVATARS: \"EDIT_TAG_MODAL#LOAD_AVATARS\",\n\t\tLOAD_AVATARS_SUCCESSFUL: \"EDIT_TAG_MODAL#LOAD_AVATARS_SUCCESSFUL\",\n\t\tLOAD_USERS: \"EDIT_TAG_MODAL#LOAD_USERS\",\n\t\tLOAD_USERS_SUCCESSFUL: \"EDIT_TAG_MODAL#LOAD_USERS_SUCCESSFUL\",\n\t\tLOAD_USER_GROUPS: \"EDIT_TAG_MODAL#LOAD_USER_GROUPS\",\n\t\tLOAD_USER_GROUPS_SUCCESSFUL: \"EDIT_TAG_MODAL#LOAD_USER_GROUPS_SUCCESSFUL\"\n\t}\n});\n","module.exports = __TECTONIC__$devsnc_sn_scripted_modal;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar classNames = (function () {\n\t\t// don't inherit from Object so we can skip hasOwnProperty check later\n\t\t// http://stackoverflow.com/questions/15518328/creating-js-object-with-object-createnull#answer-21079232\n\t\tfunction StorageObject() {}\n\t\tStorageObject.prototype = Object.create(null);\n\n\t\tfunction _parseArray (resultSet, array) {\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\t_parse(resultSet, array[i]);\n\t\t\t}\n\t\t}\n\n\t\tvar hasOwn = {}.hasOwnProperty;\n\n\t\tfunction _parseNumber (resultSet, num) {\n\t\t\tresultSet[num] = true;\n\t\t}\n\n\t\tfunction _parseObject (resultSet, object) {\n\t\t\tfor (var k in object) {\n\t\t\t\tif (hasOwn.call(object, k)) {\n\t\t\t\t\t// set value to false instead of deleting it to avoid changing object structure\n\t\t\t\t\t// https://www.smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/#de-referencing-misconceptions\n\t\t\t\t\tresultSet[k] = !!object[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar SPACE = /\\s+/;\n\t\tfunction _parseString (resultSet, str) {\n\t\t\tvar array = str.split(SPACE);\n\t\t\tvar length = array.length;\n\n\t\t\tfor (var i = 0; i < length; ++i) {\n\t\t\t\tresultSet[array[i]] = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction _parse (resultSet, arg) {\n\t\t\tif (!arg) return;\n\t\t\tvar argType = typeof arg;\n\n\t\t\t// 'foo bar'\n\t\t\tif (argType === 'string') {\n\t\t\t\t_parseString(resultSet, arg);\n\n\t\t\t// ['foo', 'bar', ...]\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t_parseArray(resultSet, arg);\n\n\t\t\t// { 'foo': true, ... }\n\t\t\t} else if (argType === 'object') {\n\t\t\t\t_parseObject(resultSet, arg);\n\n\t\t\t// '130'\n\t\t\t} else if (argType === 'number') {\n\t\t\t\t_parseNumber(resultSet, arg);\n\t\t\t}\n\t\t}\n\n\t\tfunction _classNames () {\n\t\t\t// don't leak arguments\n\t\t\t// https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n\t\t\tvar len = arguments.length;\n\t\t\tvar args = Array(len);\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\targs[i] = arguments[i];\n\t\t\t}\n\n\t\t\tvar classSet = new StorageObject();\n\t\t\t_parseArray(classSet, args);\n\n\t\t\tvar list = [];\n\n\t\t\tfor (var k in classSet) {\n\t\t\t\tif (classSet[k]) {\n\t\t\t\t\tlist.push(k)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list.join(' ');\n\t\t}\n\n\t\treturn _classNames;\n\t})();\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export const SEARCH_INPUT_ENTERED = \"SEARCH_INPUT#ENTERED\";\n","module.exports = __TECTONIC__$servicenow_now_tooltip;","module.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n","// Common methods used in Header js files\n\n/**\n * Returns true on: null, undefined, and empty string\n * Returns false on: 0, 1, true, false, 'non-empty string'\n *\n * @param {object} Any object\n * @return {boolean}\n * @private\n */\nexport const _isEmpty = a => {\n\treturn a === undefined || a === null || String(a) === \"\";\n};\n\n/**\n * Validates if any passed in property is missing per the configuration in acceptedProperites\n *\n * @param state The current state object\n * @param acceptedProperties An object of properties based on Seismic createCustomElement properties format\n *                           With an additional (option) field of required\n * @returns {{[p: string]: *}}\n * @private\n */\nexport const _addMissingRequiredProperty = (state, acceptedProperties) => {\n\tconst { properties } = state;\n\tlet missingRequiredProperty = false;\n\tObject.keys(acceptedProperties).forEach(function(key) {\n\t\tconst valueIsEmpty = _isEmpty(properties[key]);\n\t\tconst required = acceptedProperties[key].required;\n\t\tif (required === true && valueIsEmpty) missingRequiredProperty = true;\n\t\telse if (typeof required === \"object\") {\n\t\t\tObject.keys(required).forEach(function(rkey) {\n\t\t\t\tconst conditionTrue = properties[rkey] === required[rkey];\n\t\t\t\tif (conditionTrue && valueIsEmpty) missingRequiredProperty = true;\n\t\t\t});\n\t\t}\n\t});\n\treturn { ...state, properties: { ...properties, missingRequiredProperty } };\n};\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./HeaderLabelValueCommon.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","module.exports = __TECTONIC__$devsnc_sn_declarative_actions;","import snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { getProperty } from \"sn-uxpage-presource\";\nimport _ from \"lodash\";\nimport { t } from \"sn-translate\";\nimport \"@servicenow/now-modal\";\nimport {\n\tUPLOAD_FILE_ERROR,\n\tALLOWED_MIME_TYPE,\n\tALLOWED_DRAG_TYPE,\n\tATTACHMENT_UPLOAD_SAVE,\n\tFILE_UPLOAD,\n\tUPLOAD_MODAL_EVENT_SOURCE\n} from \"../constants\";\nimport { escapeSeismicSpecialSymbols } from \"../../../../utils/seismicUtils\";\nimport \"@devsnc/sn-record-input-connected\";\nimport { ADD_NOTIFICATIONS } from \"../../../constants/constants\";\n\n/**\n * Return the file extension if found else return ''.\n * @param name String name of the file\n */\nconst getExtensionFromFileName = name => {\n\tif (name.lastIndexOf(\".\") === -1) return \"\";\n\n\treturn name.substring(name.lastIndexOf(\".\") + 1).toLowerCase();\n};\n\n/**\n * Types are extensions set in glide.attachment.extensions property\n * if set\n * \t\tonly allowed specified extensions\n * else\n * \t\tallows everything\n * @param file File object\n * @param types Array of allowed extensions\n */\nconst isInvalidFileType = (file, types) =>\n\t!_.includes(types, getExtensionFromFileName(file.name));\n\nconst isAllowedDragType = e =>\n\te.dataTransfer && _.includes(e.dataTransfer.types, ALLOWED_DRAG_TYPE);\n\n/**\n * To convert the file size from Bytes to KB/ MB\n * @param sizeInBytes\n */\nconst getDisplaySize = (sizeInBytes) => {\n\tlet kilobytes = sizeInBytes / 1024;\n\tif (kilobytes < 1)\n\t\tkilobytes = 1;\n\tif (kilobytes > 1024) {\n\t\tlet reportSize = kilobytes / 1024;\n\t\treturn reportSize.toFixed(2) + \"MB\";\n\t}\n\treturn kilobytes.toFixed(2) + \"K\";;\n}\n\n/**\n * Process the files to be uploaded. which are either set as property or dropped on the form.\n * @param files FileList object of Files dropped\n * @param updateLists method that updates uploadList and errorList\n */\nconst processFiles = (files, updateLists) => {\n\tconst extentionsProperty = getProperty(\"glide.attachment.extensions\", \"\");\n\tconst extensions = extentionsProperty ? extentionsProperty.split(\",\") : [];\n\tconst maxSizeMb = getProperty(\"com.glide.attachment.max_size\", 1024);\n\tconst maxSizeBytes = maxSizeMb * 1024 * 1024;\n\n\tlet uploadList = [];\n\tlet errorList = [];\n\t_.forEach(files, file => {\n\t\tif (extentionsProperty && isInvalidFileType(file, extensions))\n\t\t\terrorList.push(t(`{0} ${UPLOAD_FILE_ERROR.UNSOPPORTED_FILE}`, file.name)) \n\t\telse if (file.size === 0)\n\t\t\terrorList.push(t(UPLOAD_FILE_ERROR.EMPTY_FILE));\n\t\telse if (file.size > maxSizeBytes )\n\t\t\terrorList.push(t(`{0} is {1}. The maximum file size is {2}.`, file.name, getDisplaySize(file.size), getDisplaySize(maxSizeBytes)))\n\t\telse \n\t\t\tuploadList.push(file);\n\t});\n\tupdateLists(uploadList, errorList);\n};\n\nconst createDragHandlers = (setAttachmentOverlay, updateLists) => {\n\tlet attachmentDragEventCounter = 0;\n\n\t/**\n\t * Remove the attachment overlay for upload\n\t */\n\tconst removeAttachmentOverlay = () => {\n\t\tattachmentDragEventCounter = 0;\n\t\tsetAttachmentOverlay(false);\n\t};\n\n\tconst handleDragEnter = e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (!isAllowedDragType(e)) return;\n\n\t\tattachmentDragEventCounter++;\n\t\tsetAttachmentOverlay(true);\n\t};\n\n\tconst handleDragLeave = e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (!isAllowedDragType(e)) return;\n\n\t\tattachmentDragEventCounter--;\n\t\tif (attachmentDragEventCounter === 0) setAttachmentOverlay(false);\n\t};\n\n\tconst handleDragOver = e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t};\n\n\tconst handleDrop = e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tif (!isAllowedDragType(e)) return;\n\t\tremoveAttachmentOverlay();\n\t\tconst files = e.dataTransfer.files;\n\t\tif (!files.length) return;\n\n\t\tprocessFiles(files, updateLists);\n\t};\n\n\treturn {\n\t\tonDragEnter: handleDragEnter,\n\t\tonDragOver: handleDragOver,\n\t\tonDragLeave: handleDragLeave,\n\t\tonDrop: handleDrop\n\t};\n};\n\nconst renderAttachmentUploadOverlay = displayValue => {\n\tconst attachmentOverlayMessage = displayValue\n\t\t? t(\"Drop a file to add it as an attachment to \") + displayValue\n\t\t: t(\"Drop a file to add it as an attachment\");\n\treturn (\n\t\t<div className=\"attachment-overlay\" id=\"attachment-overlay\">\n\t\t\t<div className=\"attachment-overlay--body\">\n\t\t\t\t<div className=\"attachment-overlay--content\">\n\t\t\t\t\t<div className=\"upload-art\" />\n\t\t\t\t\t<div className=\"title\">{t(\"Upload a file\")}</div>\n\t\t\t\t\t<span>{attachmentOverlayMessage}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n/**\n * Uploads a new attachment (REST httpEffect)\n * @param table\n * @param sysId\n * @param file\n * @param dispatch\n */\nconst uploadAttachmentToServer = (table, sysId, file, dispatch) => {\n\tconst data = new FormData();\n\tdata.append(\"sysparm_table\", table);\n\tdata.append(\"sysparm_sys_id\", sysId);\n\tdata.append(\"sysparm_encryption_context\", \"\");\n\tdata.append(\"sysparm_nostack\", \"yes\");\n\tdata.append(\"attachments_modified\", \"true\");\n\tdata.append(\"file\", file);\n\n\tconst params = {\n\t\taction: \"add\",\n\t\ttable: table,\n\t\tsys_id: sysId,\n\t\tload_attachment_record: \"true\"\n\t};\n\n\tdispatch(ATTACHMENT_UPLOAD_SAVE.ACTIONS.START, {\n\t\tdata,\n\t\t...params\n\t});\n};\n\n/**\n * This function will dispatch Notification for all the files which cannot\n * be uploaded.\n *\n * @param errorList Array of error messages due to which files cannot be uploaded\n * @param dispatch\n */\nconst showAttachmentUploadErrors = (errorList, dispatch) => {\n\tif (_.isEmpty(errorList)) return;\n\n\tconst notifications = errorList.map(error => ({\n\t\ttype: \"error\",\n\t\tmessage: error\n\t}));\n\n\tdispatch(ADD_NOTIFICATIONS, {\n\t\tnotifications\n\t});\n};\n\nconst getModalTitle = (list, index) => {\n\tlet title = t(\"Upload a file\");\n\tconst listLength = list.length - 1;\n\n\tif (listLength !== index)\n\t\ttitle = t(\"Upload a file (and {0} more...)\", listLength - index);\n\n\treturn title;\n};\n\nconst getCancelLabel = (list, index) => {\n\tlet label = t(\"Cancel\");\n\tconst listLength = list.length - 1;\n\n\tif (listLength !== index) label = t(\"Cancel All\");\n\n\treturn label;\n};\n\nconst getFileFromFormData = ({\n\tmeta: {\n\t\trequest: { data }\n\t}\n}) => {\n\tfor (const entry of data.entries()) if (entry[0] === \"file\") return entry[1];\n};\n\nconst isImageType = type =>\n\t_.includes(ALLOWED_MIME_TYPE, type.substring(0, type.indexOf(\"/\")));\n\nconst renderAttachmentUploadModal = (\n\tshowModal,\n\tfileList,\n\tcurrentFileName,\n\tcurrentFileIndex,\n\tupdateName,\n\tcreateFileDataURL,\n\tuploadFileDataURL\n) => {\n\tconst fileToUpload = fileList[currentFileIndex];\n\tlet canShowPreview = false;\n\tconst cancelLabel = getCancelLabel(fileList, currentFileIndex);\n\tconst modalTitle = getModalTitle(fileList, currentFileIndex);\n\n\tif (isImageType(fileToUpload.type)) {\n\t\tcreateFileDataURL(fileToUpload);\n\t\tcanShowPreview = true;\n\t}\n\n\tconst isUploadDisabled = fileToUpload.name === \"\" || currentFileName === \"\";\n\treturn (\n\t\t<now-modal\n\t\t\topened={showModal}\n\t\t\tmanageOpened\n\t\t\tsize=\"md\"\n\t\t\tappend-to-payload={{\n\t\t\t\tfile: fileToUpload,\n\t\t\t\teventSource: UPLOAD_MODAL_EVENT_SOURCE\n\t\t\t}}\n\t\t\theader-label={modalTitle}\n\t\t\tfooter-actions={[\n\t\t\t\t{\n\t\t\t\t\tid: \"upload\",\n\t\t\t\t\tvariant: \"primary\",\n\t\t\t\t\tlabel: t(\"Upload\"),\n\t\t\t\t\tdisabled: isUploadDisabled ? true : false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"cancel\",\n\t\t\t\t\tvariant: \"secondary\",\n\t\t\t\t\tlabel: cancelLabel\n\t\t\t\t}\n\t\t\t]}\n\t\t>\n\t\t\t<sn-record-input-connected\n\t\t\t\tlabel={t(\"Title\")}\n\t\t\t\tinitialValue={escapeSeismicSpecialSymbols(currentFileName)}\n\t\t\t\tonValueChange={updateName}\n\t\t\t\tonStagedValueChange={updateName}\n\t\t\t/>\n\t\t\t{canShowPreview ? (\n\t\t\t\t<div className=\"sn-attachment-upload-preview\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"image\"\n\t\t\t\t\t\tsrc={uploadFileDataURL}\n\t\t\t\t\t\talt={fileToUpload.name}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</now-modal>\n\t);\n};\nconst transformLoadingItem = (item, details) => {\n\tconst { sys_id: sysId, canDelete, canWrite: canEditName, sys_created_by: userId, sys_created_by_display: userName,\n\t\tsys_updated_on: date, sys_updated_on_display: dateLabel, state } = details;\n\t\treturn {\n\t\t\t...item,\n\t\t\tsysId, date, dateLabel, canDelete, canEditName, userId, userName, state, size: item.size.toString()\n\t\t};\n}\nexport {\n\tcreateDragHandlers,\n\trenderAttachmentUploadOverlay,\n\tuploadAttachmentToServer,\n\tshowAttachmentUploadErrors,\n\trenderAttachmentUploadModal,\n\tgetExtensionFromFileName,\n\tgetFileFromFormData,\n\tprocessFiles,\n\ttransformLoadingItem\n};\n","export { default } from \"./SearchbarElement\";\n","module.exports = __TECTONIC__$servicenow_now_dropdown;","module.exports = __TECTONIC__$servicenow_now_modal;","module.exports = __TECTONIC__$servicenow_behavior_resize_19_0_11;","import _ from \"lodash\";\n\nexport const getLabelValuePairContainer = toggleContainerRef => {\n\tif (!toggleContainerRef || _.isEmpty(toggleContainerRef.firstChild))\n\t\treturn null;\n\tconst itemsRef = toggleContainerRef.querySelector(\"now-label-value-stacked\");\n\n\tif (!itemsRef || !itemsRef.shadowRoot) return null;\n\n\tconst dl = itemsRef.shadowRoot.querySelector(\"dl\");\n\n\treturn dl;\n};\n\nexport const getLabelValuePairs = toggleContainerRef => {\n\tif (!toggleContainerRef || _.isEmpty(toggleContainerRef.firstChild))\n\t\treturn null;\n\tconst itemsRef = toggleContainerRef.querySelector(\"now-label-value-stacked\");\n\n\tif (!itemsRef || !itemsRef.shadowRoot) return [];\n\n\tconst labelValuePairs = itemsRef.shadowRoot.querySelectorAll(\n\t\t\"div.now-label-value-pair\"\n\t);\n\n\tif (!labelValuePairs || !labelValuePairs.length) return [];\n\n\treturn Array.from(labelValuePairs);\n};\n\nexport const getRects = toggleContainerRef => {\n\tconst labelValuePairs = getLabelValuePairs(toggleContainerRef);\n\treturn labelValuePairs.map(labelValuePair => ({\n\t\tnode: labelValuePair,\n\t\trect: labelValuePair.getBoundingClientRect()\n\t}));\n};\n\nexport const getRowStartIndices = labelValuePairRects => {\n\tif (!labelValuePairRects || !labelValuePairRects.length) return [];\n\tconst leftPoint = labelValuePairRects[0].rect.left;\n\tconst leftPointIndices = [];\n\tlabelValuePairRects.forEach((lvp, index) => {\n\t\tconst isRowStart = lvp.rect.left === leftPoint;\n\t\tif (isRowStart) leftPointIndices.push(index);\n\t});\n\treturn leftPointIndices;\n};\n","/**\n * @enum {SecondaryItemType}\n */\nexport const ITEM_TYPES = {\n\tSIMPLE: \"simple\",\n\tREFERENCE: \"reference\",\n\tHIGHLIGHTED: \"highlighted\"\n};\n\nexport const HEADER_ACTIONS_PREVIEW_RECORD =\n\t\"NOW_RECORD_COMMON_HEADER#PREVIEW_RECORD\";\n","import react from \"@servicenow/ui-renderer-react\";\nimport { createCustomElement, actionTypes } from \"@servicenow/ui-core\";\nimport { SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN } from \"@devsnc/sn-scripted-modal\";\nimport { createHttpEffect } from \"@servicenow/ui-effect-http\";\nimport { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\nimport { AttachmentGraphQLQuery as read } from \"./datasources/AttachmentGraphQLQuery.js\";\nimport { AttachmentGraphQLUpdate as update } from \"./datasources/AttachmentGraphQLUpdate.js\";\nimport { default as Attachment } from \"./Attachment\";\nimport {\n\tATTACHMENT_ACTIONS,\n\tATTACHMENT_DELETE_ACTION,\n\tATTACHMENT_DELETE_CONFIRM_ACTION,\n\tATTACHMENT_UPLOAD_BUTTON_CLICKED,\n\tNOW_MODAL_OPENED_SET_ACTION,\n\tATTACHMENT_MODAL_CLOSED_ACTION,\n\tATTACHMENT_ADD_NOTIFICATIONS,\n\tATTACHMENT_UPLOAD_SUCCEEDED\n} from \"../constants/attachmentConstants.js\";\nimport { ADD_NOTIFICATIONS } from \"../constants/constants\";\nimport { SEARCH_INPUT_ENTERED } from \"../constants/searchbarConstants.js\";\nimport { createAttachmentActionHandlers } from \"./overlay/attachmentActions\";\nimport { ATTACHMENT_DELETE } from \"./overlay/constants\";\nimport { getSelectNode } from \"../../utils/domUtils\";\nimport { loadDocViewer } from \"./overlay/attachmentOverlayUtil\";\n\nimport _ from \"lodash\";\nimport { t } from \"sn-translate\";\nimport styles from \"./Attachment.scss\";\nconst {\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_BOOTSTRAPPED\n} = actionTypes;\nconst queryAttachmentEntries = createGraphQLEffect(read, {\n\tvariableList: [\"sysId\", \"table\"],\n\tsuccessActionType: ATTACHMENT_ACTIONS.ATTACHMENT_READ_SUCCESS,\n\terrorActionType: ATTACHMENT_ACTIONS.ATTACHMENT_READ_ERROR\n});\n\nconst updateAttachmentEntry = createGraphQLEffect(update, {\n\tvariableList: [\"sys_id\", \"file_name\"],\n\tsuccessActionType: ATTACHMENT_ACTIONS.ATTACHMENT_REFRESH_REQUESTED,\n\terrorActionType: ATTACHMENT_ACTIONS.ATTACHMENT_DELETE_OR_UPDATE_ERROR\n});\n\nconst getAttachmentListFromData = (attachments, searchString) => {\n\tconst list = !searchString\n\t\t? [...attachments]\n\t\t: attachments.filter(item =>\n\t\t\t\titem.name.toLowerCase().includes(searchString)\n\t\t  );\n\n\treturn { list, count: list.length };\n};\n\nconst focusPreviousCardOrBrowseButton = (state, sysId) => {\n\tif (!state || !state.fileInputRef || !state.fileInputRef.parentElement) return;\n\tconst attachmentList = state.fileInputRef.parentElement.querySelector(\"sn-form-internal-attachments-list\");\n\tif (attachmentList && attachmentList.shadowRoot) {\n\t\tconst cards = attachmentList.shadowRoot.querySelectorAll(\"now-record-common-attachment-card\");\n\t\tconst attachmentIndexToBeDeleted = state.list.findIndex(attachment => attachment.sysId === sysId);\n\t\tconst cardIndexToFocus = attachmentIndexToBeDeleted > 0 ? attachmentIndexToBeDeleted - 1 : 0;\n\t\tif (cards && cards.length > 1) setTimeout(() => { cards[cardIndexToFocus].shadowRoot.querySelector(\"button\").focus() }, 200);\n\t\telse setTimeout(() => { \n\t\t\tconst browseButton = attachmentList.shadowRoot.querySelector(\"now-button\");\n\t\t\tif (browseButton) browseButton.focus();\n\t\t}, 1000);\n\t}\n}\n\nconst readSuccessHandler = {\n\teffect: ({ state, updateState, action, dispatch }) => {\n\t\tconst data = {\n\t\t\tattachments: _.get(action, \"payload.data.query.model.attachments\", []),\n\t\t\tmaxFileNameLength: _.get(\n\t\t\t\taction,\n\t\t\t\t\"payload.data.query.model.fileNameLength\",\n\t\t\t\t0\n\t\t\t),\n\t\t\tdocViewerEnabled: _.get(\n\t\t\t\taction,\n\t\t\t\t\"payload.data.query.model.docViewerEnabled\",\n\t\t\t\tfalse\n\t\t\t),\n\t\t\tcanCreate: _.get(action, \"payload.data.query.model.canCreate\", true),\n\t\t\textensionString: _.get(action, \"payload.data.query.model.extensions\", \"\"),\n\t\t\tcount: _.get(action, \"payload.data.query.model.count\", 0)\n\t\t};\n\t\tconst { loadingItems, docViewerState } = state;\n\t\tconst { docViewerEnabled, attachments } = data;\n\t\tif (docViewerEnabled && attachments.length > 0)\n\t\t\tloadDocViewer(docViewerState, updateState);\n\n\t\tconst sysIds = data.attachments.map(attachment => attachment.sysId);\n\t\tconst cleanedUpItems = loadingItems.filter(\n\t\t\titem => !sysIds.includes(item.sysId)\n\t\t);\n\n\t\tupdateState({\n\t\t\tattachmentsInitialized: true,\n\t\t\tdocViewerEnabled,\n\t\t\tdata,\n\t\t\t...getAttachmentListFromData(data.attachments, state.searchString),\n\t\t\tloadingItems: cleanedUpItems\n\t\t});\n\t}\n};\n\nconst handlerError = (dispatch, actionName, errorMessage) => {\n\tif (_.isEmpty(errorMessage)) return;\n\tconst message = actionName\n\t\t? t(`Error executing ${actionName}: ${errorMessage}`)\n\t\t: t(errorMessage);\n\tdispatch(ADD_NOTIFICATIONS, {\n\t\tnotifications: [\n\t\t\t{\n\t\t\t\ttype: \"error\",\n\t\t\t\tmessage\n\t\t\t}\n\t\t]\n\t});\n};\n\nexport const addNotificationsEffect = ({\n\taction,\n\tproperties: { classicForm },\n\tdispatch\n}) => {\n\tif (classicForm) return;\n\n\tconst {\n\t\tpayload: { notifications }\n\t} = action;\n\tdispatch(ATTACHMENT_ADD_NOTIFICATIONS, {\n\t\titems: notifications\n\t});\n\taction.stopPropagation();\n};\n\nexport const uploadAttachmentSucceededEffect = ({\n\taction: { payload, stopPropagation },\n\tdispatch\n}) => {\n\tdispatch(ATTACHMENT_UPLOAD_SUCCEEDED, payload);\n\tstopPropagation();\n};\n\nconst AttachmentElement = \"now-record-common-attachments-connected\";\n\nconst attachmentActions = createAttachmentActionHandlers(true);\n\n/**\n * Component used to render the attachments associated with a record. It displays a list of the attachments\n * relating to the record and a header containing the component title, a searchbar, and a browse button.\n *\n * ```jsx\n * <now-record-common-attachments-connected\n *\t\ttable={...}\n *\t\tsysId={...}\n *\t\tisAttachmentUploadDisabled={...}\n *\t\tisReadOnly={...}\n *\t\tclassicForm={...}\n *\t\tmode={...}\n * />\n * ```\n *\n * @seismicElement now-record-common-attachments-connected\n * @summary Allows users to add, preview, download, or remove attachments from a related record. \n *\n */\ncreateCustomElement(AttachmentElement, {\n\trenderer: {\n\t\ttype: react,\n\t\tview: Attachment\n\t},\n\tinitialState: {\n\t\tmodal: {\n\t\t\tdisplay: false,\n\t\t\ttype: \"\",\n\t\t\tdata: null\n\t\t},\n\t\tsearchString: \"\",\n\t\tshowAttachmentUploadOverlay: false,\n\t\tshowAttachmentPreview: false,\n\t\tlastTriggerCard: null,\n\t\tuploadAttachmentList: [],\n\t\terrorAttachmentList: [],\n\t\tuploadAttachmentListIndex: 0,\n\t\tshowUploadFileModal: false,\n\t\tuploadFileDataURL: \"\",\n\t\tloadingItems: []\n\t},\n\n\tproperties: {\n\t\t/**\n\t\t * When true, the component is rendered in a classic form.\n\t\t * @type {boolean}\n\t\t */\n\t\tclassicForm: {\n\t\t\tdefault: false,\n\t\t\tschema: {\n\t\t\t\ttype: \"boolean\"\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * When true, a user cannot upload an attachment.\n\t\t * @type {boolean}\n\t\t */\n\t\tisAttachmentUploadDisabled: {\n\t\t\tdefault: false,\n\t\t\tschema: {\n\t\t\t\ttype: \"boolean\"\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * When true, the attachments are read only.\n\t\t * @type {boolean}\n\t\t */\n\t\tisReadOnly: {\n\t\t\tdefault: false,\n\t\t\tschema: {\n\t\t\t\ttype: \"boolean\"\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * When true, document viewer should load.\n\t\t * @type {boolean}\n\t\t */\n\t\tloadDocViewerIfNecessary: {\n\t\t\tdefault: false,\n\t\t\tschema: {\n\t\t\t\ttype: \"boolean\"\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * The layout in which to render the component.\n\t\t * Options include `full` and `compact`.\n\t\t * @type {string}\n\t\t */\n\t\tmode: { default: \"full\" },\n\t\t/**\n\t\t * The Sys ID of the record to display attachments for.\n\t\t * @type {string}\n\t\t */\n\t\tsysId: {},\n\t\t/**\n\t\t * The table of the record to display attachments for.\n\t\t * @type {string}\n\t\t */\n\t\ttable: {},\n\t\t/**\n\t\t * The record display value to show in the upload overlay.\n\t\t */\n\t\trecordDisplayValue: { default: \"\" },\n\t\t/**\n\t\t * Overlay container ID. The overlay container contains the preview overlay and upload overlay.\n\t\t * If not specified, the topmost container in this component is used.\n\t\t */\n\t\toverlayContainer: { default: \"\" },\n\t\t/**\n\t\t * The attachment item to show in the preview.\n\t\t * (Internal props so we can use preview overlay in attachment component from the container for activity stream)\n\t\t * @private\n\t\t */\n\t\tattachmentPreviewItem: {},\n\t\t/**\n\t\t * Whether to render attachment preview or not\n\t\t * (Internal props so we can use preview overlay in attachment component from the container for activity stream)\n\t\t * @private\n\t\t */\n\t\tshowAttachmentPreview: {},\n\t\t/**\n\t\t * Set this prop to timestamp to force re-fetch data\n\t\t * @private\n\t\t */\n\t\trefreshRequested: {},\n\t\t/**\n\t\t * Disable upload modal and directly upload the files\n\t\t * @type {boolean}\n\t\t */\n\t\tdisableUploadModal : { default : false }\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched to show notification messages.\n\t\t * @type {AddNotificationsPayload}\n\t\t */\n\t\t[ADD_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched to show notification messages when an attachment component is inside a record page in UI Builder.\n\t\t * @type {AttachmentAddNotificationsPayload}\n\t\t */\n\t\t[ATTACHMENT_ADD_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched when upload is succesful.\n\t\t */\n\t\t[ATTACHMENT_UPLOAD_SUCCEEDED] : {}\n\t},\n\tactions: {\n\t\t[ATTACHMENT_MODAL_CLOSED_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[NOW_MODAL_OPENED_SET_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_DELETE_CONFIRM_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_DELETE_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_READ_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_READ_ERROR]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_READ_QUERY]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_UPDATE_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_UPLOAD_ERROR]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_DELETE_OR_UPDATE_ERROR]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_REFRESH_REQUESTED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_UPLOAD_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_UPLOAD_BUTTON_CLICKED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[SEARCH_INPUT_ENTERED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t...attachmentActions.actions\n\t},\n\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ host, properties, updateState }) => {\n\t\t\tconst { overlayContainer } = properties;\n\t\t\tconst containerNode = overlayContainer\n\t\t\t\t? getSelectNode(host.shadowRoot, overlayContainer)\n\t\t\t\t: null;\n\t\t\tupdateState({\n\t\t\t\thoistOverlayToContainer: containerNode,\n\t\t\t\tshouldRender: false\n\t\t\t});\n\t\t},\n\t\t[ATTACHMENT_MODAL_CLOSED_ACTION]: ({ updateState, state: { lastTriggerCard }, dispatch }) => {\n\t\t\tif (lastTriggerCard) lastTriggerCard.focus();\n\t\t\tupdateState({\n\t\t\t\tpath: \"modal.display\",\n\t\t\t\toperation: \"set\",\n\t\t\t\tvalue: false\n\t\t\t});\n\t\t\tdispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, false);\n\t\t},\n\t\t[NOW_MODAL_OPENED_SET_ACTION]: ({ updateState, dispatch }) => {\n\t\t\tupdateState({\n\t\t\t\tpath: \"modal.display\",\n\t\t\t\toperation: \"set\",\n\t\t\t\tvalue: false\n\t\t\t});\n\t\t\tdispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, false);\n\t\t},\n\t\t[ATTACHMENT_DELETE_CONFIRM_ACTION]: ({\n\t\t\taction,\n\t\t\tdispatch,\n\t\t\tupdateState,\n\t\t\tstate\n\t\t}) => {\n\t\t\tconst { data } = action.payload.action;\n\t\t\tif (!data) return;\n\t\t\tconst { action: actionType, sysId, name } = data;\n\t\t\tif (actionType === \"delete\") {\n\t\t\t\tdispatch(ATTACHMENT_DELETE.ACTIONS.START, {\n\t\t\t\t\tsys_id: sysId,\n\t\t\t\t\tname\n\t\t\t\t});\n\t\t\t}\n\t\t\tupdateState({\n\t\t\t\tmodal: {\n\t\t\t\t\tdisplay: false\n\t\t\t\t},\n\t\t\t\tshowAttachmentPreview: false,\n\t\t\t\tattachmentPreviewItem: null\n\t\t\t});\n\t\t\tfocusPreviousCardOrBrowseButton(state, sysId)\n\t\t\tdispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, false);\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: context => {\n\t\t\tconst {\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { name, value, previousValue }\n\t\t\t\t},\n\t\t\t\tstate: {docViewerEnabled, docViewerState},\n\t\t\t\tproperties,\n\t\t\t\tdispatch,\n\t\t\t\tupdateState\n\t\t\t} = context;\n\t\t\tif (\n\t\t\t\t(name === \"table\" || name === \"sysId\" || name === \"refreshRequested\") &&\n\t\t\t\t(value || \"\") !== (previousValue || \"\")\n\t\t\t) {\n\t\t\t\tconst { table, sysId } = properties;\n\t\t\t\tconst payload = {\n\t\t\t\t\ttable: name === \"table\" ? value : table,\n\t\t\t\t\tsysId: name === \"sysId\" ? value : sysId\n\t\t\t\t};\n\t\t\t\tdispatch(ATTACHMENT_ACTIONS.ATTACHMENT_READ_QUERY, payload);\n\t\t\t} else if (\n\t\t\t\t(name === \"showAttachmentPreview\" ||\n\t\t\t\t\tname === \"attachmentPreviewItem\") &&\n\t\t\t\t(value || \"\") !== (previousValue || \"\")\n\t\t\t) {\n\t\t\t\tupdateState({\n\t\t\t\t\t[name]: value\n\t\t\t\t});\n\t\t\t} else if (name === \"loadDocViewerIfNecessary\" && value && docViewerEnabled) {\n\t\t\t\tloadDocViewer(docViewerState, updateState);\n\t\t\t}\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_UPDATE_ACTION]: updateAttachmentEntry,\n\t\t/**\n\t\t * Delete the attachment\n\t\t * @param sysId sys_id of the attachment\n\t\t */\n\t\t[ATTACHMENT_DELETE_ACTION]: ({ action, dispatch, updateState, state: { hoistOverlayToContainer} }) => {\n\t\t\tconst { sysId, name } = action.payload;\n\t\t\tupdateState({\n\t\t\t\tmodal: {\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\ttype: \"delete_confirmation\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsysId,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\taction: \"delete\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (hoistOverlayToContainer) dispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, true);\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_DELETE_OR_UPDATE_ERROR]: ({\n\t\t\tdispatch,\n\t\t\taction\n\t\t}) => {\n\t\t\tconst message = _.get(action, \"payload.data.message\", \"\");\n\t\t\tconst actionName = _.get(action, \"payload.name\", \"\");\n\t\t\thandlerError(dispatch, actionName, message);\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_READ_QUERY]: queryAttachmentEntries,\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_READ_ERROR]: ({ dispatch, action }) => {\n\t\t\tconst message = _.get(action, \"payload.data.error.message\", \"\");\n\t\t\thandlerError(dispatch, \"\", message);\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_UPLOAD_ERROR]: ({ dispatch, action }) => {\n\t\t\tconst message = _.get(action, \"payload.data.message\", \"\");\n\t\t\tconst actionName = _.get(\n\t\t\t\taction,\n\t\t\t\t\"payload.options.params.executingFileName\",\n\t\t\t\t\"\"\n\t\t\t);\n\t\t\thandlerError(dispatch, actionName, message);\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_REFRESH_REQUESTED]: ({\n\t\t\tstate,\n\t\t\tdispatch,\n\t\t\taction\n\t\t}) => {\n\t\t\tconst { table, sysId } = state.properties;\n\t\t\tconst error = _.get(action, \"payload.errors\", []);\n\t\t\tif (_.isEmpty(error))\n\t\t\t\tdispatch(ATTACHMENT_ACTIONS.ATTACHMENT_READ_QUERY, {\n\t\t\t\t\tsysId: sysId,\n\t\t\t\t\ttable: table\n\t\t\t\t});\n\t\t\telse {\n\t\t\t\tconst executingFileName = action.meta.options.variables.file_name;\n\t\t\t\tconst message = error[0].message;\n\t\t\t\tif (_.isEmpty(message)) return;\n\t\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\t\tnotifications: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\tmessage: t(`Error executing ${executingFileName}: ${message}`)\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_READ_SUCCESS]: {\n\t\t\t...readSuccessHandler,\n\t\t\tinterceptors: [\n\t\t\t\t{\n\t\t\t\t\tafter: context => {\n\t\t\t\t\t\tconst { state, dispatch, action } = context.coeffects;\n\t\t\t\t\t\tconst count = _.get(action, \"payload.data.query.model.count\", 0);\n\t\t\t\t\t\tconst value = count > 0 ? count.toString() : null;\n\t\t\t\t\t\tdispatch(\"NOW_RECORD_FORM#ACTION_STATUS_UPDATED\", {\n\t\t\t\t\t\t\tcomponent: AttachmentElement,\n\t\t\t\t\t\t\ttype: \"badge\",\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst sessionNotifications = _.get(\n\t\t\t\t\t\t\taction,\n\t\t\t\t\t\t\t\"payload.data.sessionQuery.session.notifications\",\n\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (!sessionNotifications.length) return context;\n\n\t\t\t\t\t\tconst notifications = sessionNotifications.reduce(\n\t\t\t\t\t\t\t(allNotifications, { type, text }) => {\n\t\t\t\t\t\t\t\tif (!text)\n\t\t\t\t\t\t\t\t\treturn allNotifications;\n\n\t\t\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t\t\t...allNotifications,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\t\t\tmessage: text\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t}, []\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (notifications.length)\n\t\t\t\t\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\t\t\t\t\tnotifications\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\treturn context;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t[ATTACHMENT_UPLOAD_BUTTON_CLICKED]: ({ state }) => {\n\t\t\t// This approach is temporary and should be updated when migrating to Seismic 18.\n\t\t\t// As part of Seismic 18, all action handlers will pass in the host as a coeffect.\n\t\t\t// This will allow us to query select the file input node without having to store\n\t\t\t// the dom ref in the state\n\t\t\tstate.fileInputRef.click();\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tfileInputRef: null,\n\t\t\t\thoistOverlayToContainer: undefined\n\t\t\t});\n\t\t},\n\t\t[SEARCH_INPUT_ENTERED]: ({\n\t\t\tstate: { data },\n\t\t\taction: { payload },\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tupdateState({\n\t\t\t\tsearchString: payload.filter,\n\t\t\t\t...getAttachmentListFromData(data.attachments, payload.filter)\n\t\t\t});\n\t\t},\n\t\t[ADD_NOTIFICATIONS]: addNotificationsEffect,\n\t\t[ATTACHMENT_ACTIONS.ATTACHMENT_UPLOAD_SUCCESS]: uploadAttachmentSucceededEffect,\n\t\t...attachmentActions.actionHandlers\n\t},\n\tstyles\n});\n\nexport default AttachmentElement;\n","import snabbdom, { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport { t } from \"sn-translate\";\nimport _ from \"lodash\";\nimport { focusTrapHandler } from \"../../utils/focusTrap\";\nimport { attachmentActionHandler } from \"./preview/attachmentPreviewUtil\";\nimport {\n\tATTACHMENT_PREVIEW_DISMISS_ACTION,\n\tALLOWED_MIME_TYPE\n} from \"./constants\";\nimport {\n\tATTACHMENT_DOWNLOAD_ACTION,\n\tATTACHMENT_DELETE_ACTION\n} from \"../../constants/attachmentConstants\";\nimport classNames from \"classnames/dedupe\";\nimport { loadComponent } from \"@devsnc/library-form\";\nimport \"@servicenow/now-loader\";\n\nconst BUTTON_TYPES = {\n\tDOWNLOAD: \"download\",\n\tDELETE: \"delete\",\n\tCLOSE: \"close\"\n};\nconst DOC_VIEWER_STATUS = {\n\tLOADING: \"loading\",\n\tREADY: \"ready\",\n\tFAILED: \"failed\"\n};\nconst TAG_SN_DOCUMENT_VIEWER = \"sn-document-viewer\";\n\nexport function loadDocViewer(currentDocViewerState, updateState) {\n\tif (currentDocViewerState) return;\n\tconst isDefined = !!customElements.get(TAG_SN_DOCUMENT_VIEWER);\n\tif (isDefined) {\n\t\tupdateState({\n\t\t\tdocViewerState: DOC_VIEWER_STATUS.READY,\n\t\t\tshouldRender: false\n\t\t});\n\t\treturn;\n\t}\n\tloadComponent(TAG_SN_DOCUMENT_VIEWER).then((loadedComponents) => {\n\t\tif (loadedComponents.length === 0)\n\t\t\tupdateState({\n\t\t\t\tdocViewerState: DOC_VIEWER_STATUS.FAILED\n\t\t\t});\n\t});\n\tupdateState({\n\t\tdocViewerState: DOC_VIEWER_STATUS.LOADING,\n\t\tshouldRender: false\n\t});\n\tcustomElements.whenDefined(TAG_SN_DOCUMENT_VIEWER).then(() => {\n\t\tupdateState({\n\t\t\tdocViewerState: DOC_VIEWER_STATUS.READY\n\t\t});\n\t});\n}\n/**\n * This utility function returns true if mime type of the attachment is allowed for preview,\n * and false if not.\n * @param type mime type of tha attachment currently in preview\n */\nconst isAllowedMime = type => {\n\treturn type\n\t\t? ALLOWED_MIME_TYPE.includes(type.substring(0, type.indexOf(\"/\")))\n\t\t: false;\n};\n\nconst renderActionButton = ({\n\ttooltip,\n\ttype,\n\tcallback,\n\tadditionalClass = \"\",\n\tbuttonType,\n\tcomponentIdPrefix\n}) => {\n\tconst ariaConfig = {\n\t\t\"aria-label\": tooltip\n\t};\n\treturn (\n\t\t<now-button\n\t\t\tclassName={`action-button ${additionalClass}`}\n\t\t\tvariant=\"inherit\"\n\t\t\tbare\n\t\t\tcomponent-id={`${componentIdPrefix}_overlaybtn_${buttonType}`}\n\t\t\tconfig-aria={ariaConfig}\n\t\t\ticon-name={type}\n\t\t\tonclick={callback}\n\t\t\ttooltip-content={tooltip}\n\t\t\tref={input => {\n\t\t\t\tif (input && buttonType === BUTTON_TYPES.DOWNLOAD)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst button = input.shadowRoot\n\t\t\t\t\t\t\t? input.shadowRoot.querySelector(\"button\")\n\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\tif (!button) return;\n\t\t\t\t\t\tbutton.focus();\n\t\t\t\t\t\tconst event = new FocusEvent(\"focus\", {\n\t\t\t\t\t\t\tview: window,\n\t\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\t\tcancelable: true,\n\t\t\t\t\t\t\tcomposed: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbutton.dispatchEvent(event);\n\t\t\t\t\t}, 100);\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nconst renderActionButtonType = (dispatch, item, type, componentIdPrefix) => {\n\tconst createCallback = actionName =>\n\t\t_.partial(attachmentActionHandler, dispatch, actionName, item);\n\n\tswitch (type) {\n\t\tcase \"download\":\n\t\t\treturn renderActionButton({\n\t\t\t\ttooltip: t(\"Download {0}\", item.name),\n\t\t\t\ttype: \"download-outline\",\n\t\t\t\tcallback: createCallback(ATTACHMENT_DOWNLOAD_ACTION),\n\t\t\t\tbuttonType: BUTTON_TYPES.DOWNLOAD,\n\t\t\t\tcomponentIdPrefix\n\t\t\t});\n\t\tcase \"delete\":\n\t\t\treturn renderActionButton({\n\t\t\t\ttooltip: t(\"Delete {0}\", item.name),\n\t\t\t\ttype: \"trash-outline\",\n\t\t\t\tcallback: createCallback(ATTACHMENT_DELETE_ACTION),\n\t\t\t\tbuttonType: BUTTON_TYPES.DELETE,\n\t\t\t\tcomponentIdPrefix\n\t\t\t});\n\t\tcase \"preview\":\n\t\t\treturn renderActionButton({\n\t\t\t\ttooltip: t(\"Close {0} preview\", item.name),\n\t\t\t\ttype: \"close-outline\",\n\t\t\t\tcallback: createCallback(ATTACHMENT_PREVIEW_DISMISS_ACTION),\n\t\t\t\tadditionalClass: \"--dismiss\",\n\t\t\t\tbuttonType: BUTTON_TYPES.CLOSE,\n\t\t\t\tcomponentIdPrefix\n\t\t\t});\n\t}\n};\n\nconst handleEsc = dispatch => {\n\treturn e => {\n\t\tif (e.key === \"Escape\") dispatch(ATTACHMENT_PREVIEW_DISMISS_ACTION);\n\t};\n};\n\n/**\n * Return the file extension if found else return ''.\n */\nconst getExtensionFromFileName = name => {\n\tif (!name || name.lastIndexOf(\".\") === -1) return \"\";\n\n\treturn name.substring(name.lastIndexOf(\".\") + 1).toLowerCase();\n};\n\n/**\n * This utility function returns back the no preview message\n * @param name name of the attachment\n */\nconst getNoPreviewMessage = name => {\n\treturn t(\n\t\t\"We're sorry, {0} files are currently not supported.\",\n\t\tname ? getExtensionFromFileName(name).toUpperCase() : \"these\"\n\t);\n};\n\n/**\n * Renders the preview not available message block\n * @param item object with attachment meta\n */\nconst renderPreviewNotAvailable = item => {\n\tconst attachmentOverlayMessage = getNoPreviewMessage(item.name);\n\treturn (\n\t\t<div className=\"no-preview\">\n\t\t\t<div className=\"no-preview-icon\">\n\t\t\t\t<sn-file-icon\n\t\t\t\t\tclassName=\"sn-icon\"\n\t\t\t\t\tsize=\"2x\"\n\t\t\t\t\tmime-type={item.type}\n\t\t\t\t\textension={getExtensionFromFileName(item.name)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"title\">{t(\"Preview not available\")}</div>\n\t\t\t<span>{attachmentOverlayMessage}</span>\n\t\t</div>\n\t);\n};\n\n/**\n * This function will open the attachment preview overlay\n *\n * @param item object with meta data about the attachment\n * @param dispatch dispatch function\n * @param dismissPreview callback to dismiss the attachment preview\n */\nexport const renderAttachmentPreviewOverlay = (\n\titem,\n\tdispatch,\n\tisReadOnly,\n\tisHoisted,\n\tcomponentIdPrefix,\n\tdocViewerEnabled,\n\tdocViewerState\n) => {\n\tif (!item.name) return null;\n\tconst deleteHidden = isReadOnly || !item.canDelete || item.readonly;\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames(\"attachment-overlay preview\", {\n\t\t\t\t\"no-hoist\": !isHoisted\n\t\t\t})}\n\t\t\ttabIndex=\"-1\"\n\t\t\ton-keyup={handleEsc(dispatch)}\n\t\t\trole=\"dialog\"\n\t\t>\n\t\t\t{docViewerEnabled && docViewerState === DOC_VIEWER_STATUS.READY ? (\n\t\t\t\t<sn-document-viewer\n\t\t\t\t\tsys-id={item.sysId}\n\t\t\t\t\tdelete-hidden={`${deleteHidden}`}\n\t\t\t\t/>\n\t\t\t) : docViewerEnabled && docViewerState === DOC_VIEWER_STATUS.LOADING ?\n\t\t\t\t<div className=\"attachment-preview--body\">\n\t\t\t\t\t<now-loader size=\"lg\"></now-loader>\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t(\n\t\t\t\t<Fragment>\n\t\t\t\t\t<div className=\"attachment-preview--header\">\n\t\t\t\t\t\t<span className=\"title\">{item.name}</span>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\ton-focus={focusTrapHandler}\n\t\t\t\t\t\t\tclassName=\"actions\">\n\t\t\t\t\t\t\t{renderActionButtonType(\n\t\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\tBUTTON_TYPES.DOWNLOAD,\n\t\t\t\t\t\t\t\tcomponentIdPrefix\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!deleteHidden\n\t\t\t\t\t\t\t\t? renderActionButtonType(\n\t\t\t\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\tBUTTON_TYPES.DELETE,\n\t\t\t\t\t\t\t\t\t\tcomponentIdPrefix\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t\t{renderActionButtonType(\n\t\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\"preview\",\n\t\t\t\t\t\t\t\tcomponentIdPrefix\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"attachment-preview--body\">\n\t\t\t\t\t\t{isAllowedMime(item.type) ? (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"preview-image\"\n\t\t\t\t\t\t\t\tsrc={`/${item.sysId}.iix`}\n\t\t\t\t\t\t\t\talt={item.name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{!isAllowedMime(item.type) ? renderPreviewNotAvailable(item) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport const renderAttachmentOverlayView = (properties, dispatch, state) => {\n\tconst {\n\t\tattachmentPreviewItem,\n\t\tshowAttachmentPreview,\n\t\tisReadOnly,\n\t\tnowHoistPrependTo,\n\t\tdocViewerState,\n\t\tdocViewerEnabled\n\t} = properties;\n\tconst { componentId } = state;\n\treturn (\n\t\t<Fragment>\n\t\t\t{showAttachmentPreview && attachmentPreviewItem\n\t\t\t\t? renderAttachmentPreviewOverlay(\n\t\t\t\t\t\tattachmentPreviewItem,\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tisReadOnly,\n\t\t\t\t\t\t!!nowHoistPrependTo,\n\t\t\t\t\t\tcomponentId,\n\t\t\t\t\t\tdocViewerEnabled,\n\t\t\t\t\t\tdocViewerState\n\t\t\t\t  )\n\t\t\t\t: null}\n\t\t</Fragment>\n\t);\n};\n","import {\n\tATTACHMENT_PREVIEW_LOAD_ACTION,\n\tATTACHMENT_PREVIEW_DISMISS_ACTION\n} from \"../constants\";\nimport {\n\tATTACHMENT_DOWNLOAD_ACTION,\n\tATTACHMENT_ADDED\n} from \"../../../constants/attachmentConstants\";\nimport { getActiveElement } from '@servicenow/library-enhanced-utils';\nimport { SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN } from \"@devsnc/sn-scripted-modal\";\n\nconst downloadAttachment = sysId => {\n\twindow.location.href = `/sys_attachment.do?sys_id=${sysId || null}`;\n};\n\nexport const getReadOnlyPreviewOverlayProps = (state, properties) => {\n\tconst { showAttachmentPreview, attachmentPreviewItem } = state;\n\n\tconst { table, sysId } = properties;\n\n\treturn {\n\t\tcanUploadAttachment: false,\n\t\tisReadOnly: true,\n\t\tshowAttachmentPreview,\n\t\tattachmentPreviewItem,\n\t\ttable,\n\t\tsysId\n\t};\n};\n\nconst showAttachmentPreview = (updateState, item, dispatch) => {\n\tconst lastTriggerCard = getActiveElement();\n\tupdateState({\n\t\tshowAttachmentPreview: true,\n\t\tattachmentPreviewItem: { ...item },\n\t\tlastTriggerCard\n\t});\n\tdispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, true);\n};\n\nconst hideAttachmentPreview = (updateState, lastTriggerCard, dispatch) => {\n\tif (lastTriggerCard) lastTriggerCard.focus();\n\tupdateState({\n\t\tshowAttachmentPreview: false,\n\t\tattachmentPreviewItem: null,\n\t\tlastTriggerCard: null\n\t});\n\tdispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, false)\n};\n\nexport default {\n\tactions: {\n\t\t[ATTACHMENT_PREVIEW_LOAD_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_PREVIEW_DISMISS_ACTION]: {},\n\t\t[ATTACHMENT_DOWNLOAD_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ADDED]: {}\n\t},\n\tactionHandlers: {\n\t\t/**\n\t\t * Open the attachment preview overly\n\t\t * @param item (name, readonly, type, canDelete)\n\t\t */\n\t\t[ATTACHMENT_PREVIEW_LOAD_ACTION]: ({ updateState, action, dispatch }) => {\n\t\t\taction.stopPropagation();\n\t\t\tshowAttachmentPreview(updateState, action.payload.item, dispatch);\n\t\t},\n\t\t/**\n\t\t * Dismiss attachment preview overlay\n\t\t */\n\t\t[ATTACHMENT_PREVIEW_DISMISS_ACTION]: ({\n\t\t\tstate: { lastTriggerCard },\n\t\t\tupdateState,\n\t\t\taction,\n\t\t\tproperties,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (properties.showAttachmentPreview) return; //if properties.showAttachmentPreview is set, preview came from the container, let action passes to the container to handler.\n\n\t\t\taction.stopPropagation();\n\t\t\thideAttachmentPreview(updateState, lastTriggerCard, dispatch);\n\t\t},\n\t\t/**\n\t\t * Download the attachment\n\t\t * @param sysId sys_id of the attachment\n\t\t */\n\t\t[ATTACHMENT_DOWNLOAD_ACTION]: ({ action }) => {\n\t\t\taction.stopPropagation();\n\t\t\tconst { sysId } = action.payload;\n\t\t\tif (sysId) downloadAttachment(sysId);\n\t\t},\n\t\t/**\n\t\t * Handles attachment added action\n\t\t */\n\t\t[ATTACHMENT_ADDED]: {\n\t\t\teffect: ({ updateState }) => {\n\t\t\t\tupdateState({ loadDocViewerIfNecessary: true});\n\t\t\t},\n\t\t\tstopPropagation:  true\n\t\t},\n\t\t\n\t\t\n\n\t}\n};\n","import _ from \"lodash\";\nimport { createCustomElement, actionTypes } from \"@servicenow/ui-core\";\nimport { eventually } from \"@tectonic/seismic-testing-helpers\";\nconst { COMPONENT_RENDERED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nimport react from \"@servicenow/ui-renderer-react\";\nimport {\n\tTemplateGQLRead as read,\n\tTemplateDataGQLRead as readData\n} from \"./datasources/TemplateGQLRead\";\nimport { TemplateGQLDestroy as destroy } from \"./datasources/TemplateGQLDestroy\";\nimport {\n\tdefault as SnComponentTemplate,\n\tgetPaginationObject,\n\tconstructQueryString\n} from \"./Template\";\nimport style from \"./Template.scss\";\nimport { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\nimport {\n\tTEMPLATE_ACTIONS,\n\tTEMPLATE_EVENT_SOURCE,\n\tTEMPLATE_ADD_NOTIFICATIONS,\n\tTEMPLATE_CLEAR_NOTIFICATIONS,\n\tTEMPLATE_PREVIEW_RECORD\n} from \"../constants/templateConstants\";\nimport { ADD_NOTIFICATIONS, CLEAR_NOTIFICATIONS } from \"../constants/constants\";\nimport { SEARCH_INPUT_ENTERED } from \"../constants/searchbarConstants\";\nimport { t } from \"sn-translate\";\nimport {\n\texecuteEffectIfValidEventSource,\n\ttransformPreviewRecordPayload\n} from \"@devsnc/library-form\";\n\nconst NOW_DROPDOWN_ITEM_CLICKED = \"NOW_DROPDOWN#ITEM_CLICKED\";\nconst NOW_TABS_SELECTED_ITEM_SET = \"NOW_TABS#SELECTED_ITEM_SET\";\nconst NOW_MODAL_OPENED_SET_ACTION = \"NOW_MODAL#OPENED_SET\";\nconst REFRESH_REQUESTED = \"refreshRequested\";\nconst PREVIEW_RECORD = 'PREVIEW_RECORD';\n\nconst applyTemplateData = createGraphQLEffect(readData, {\n\tvariableList: [\"sysId\", \"targetSysId\", \"encodedRecord\"],\n\n\tsuccessActionType: TEMPLATE_ACTIONS.TEMPLATE_APPLY_SUCCESS,\n\terrorActionType: TEMPLATE_ACTIONS.TEMPLATE_APPLY_ERROR\n});\n\nconst fetchTemplateData = createGraphQLEffect(read, {\n\tvariableList: [\"queryConditions\", \"paginationVar\"],\n\tsuccessActionType: TEMPLATE_ACTIONS.TEMPLATE_FETCH_SUCCESS,\n\terrorActionType: TEMPLATE_ACTIONS.TEMPLATE_FETCH_ERROR\n});\n\nconst deleteTemplate = createGraphQLEffect(destroy, {\n\tvariableList: [\"sys_id\"],\n\tsuccessActionType: TEMPLATE_ACTIONS.TEMPLATE_DESTROY_SUCCESS,\n\terrorActionType: TEMPLATE_ACTIONS.TEMPLATE_DESTROY_ERROR\n});\n\nconst search = ({\n\taction: { payload },\n\tdispatch,\n\tupdateState,\n\tproperties,\n\tstate: { selectedTab, searchFilter }\n}) => {\n\tconst filter = payload.filter;\n\tupdateState({\n\t\tsearchFilter: {\n\t\t\t...searchFilter,\n\t\t\t[selectedTab]: filter\n\t\t},\n\t\toffset: 0,\n\t\tshouldRender: false\n\t});\n\trefetchData(dispatch, properties, selectedTab, filter);\n};\n\nexport const refetchData = (\n\tdispatch,\n\tproperties,\n\tselectedTab,\n\tsearchQuery = \"\",\n\tactionMeta\n) => {\n\tconst queryConditions = constructQueryString(properties.table, searchQuery, selectedTab);\n\tdispatch(\n\t\tTEMPLATE_ACTIONS.TEMPLATE_FETCH_ACTION,\n\t\t{\n\t\t\tqueryConditions,\n\t\t\tpaginationVar: getPaginationObject()\n\t\t},\n\t\tactionMeta\n\t);\n};\n\nexport const escapeQueryString = query => {\n\treturn query.replace(/\\^/g, \"^^\");\n};\n\nexport const getTemplateString = fields => {\n\tconst nonEmptyFields = fields && Object.keys(fields)\n\t\t.filter(field => {\n\t\t\tif (!fields[field].visible || fields[field].readonly) return false;\n\t\t\treturn !_.isEmpty(fields[field].value);\n\t\t})\n\t\t.sort();\n\n\tif (nonEmptyFields && nonEmptyFields.length > 0)\n\t\treturn (\n\t\t\tnonEmptyFields.reduce(\n\t\t\t\t(acc, field) =>\n\t\t\t\t\tacc + `${field}=${escapeQueryString(fields[field].value)}^`,\n\t\t\t\t\"\"\n\t\t\t) + \"EQ\"\n\t\t);\n\n\treturn \"\";\n};\n\nconst focusTemplateCard = (templateSysId, host) => {\n\tsetTimeout(() => {\n\t\tconst card = host.shadowRoot.querySelector(\n\t\t\t`div[data-sys-id=\"${templateSysId}\"`\n\t\t);\n\t\tif (card) card.focus();\n\t});\n};\n\nconst focusSearch = host => {\n\teventually(\n\t\t() => {\n\t\t\tconst search = host.shadowRoot.querySelector(\n\t\t\t\t`sn-form-internal-searchbar`\n\t\t\t);\n\t\t\tif (!search) return false;\n\n\t\t\tconst input = search.shadowRoot.querySelector(\"input\");\n\t\t\tif (!input) return false;\n\t\t\tinput.focus();\n\t\t\treturn true;\n\t\t},\n\t\t{ timeout: 100, interval: 5 }\n\t);\n};\n\nexport const addNotificationsEffect = ({\n\taction,\n\tproperties: { classicForm },\n\tdispatch\n}) => {\n\tif (classicForm) return;\n\n\tconst {\n\t\tpayload: { notifications }\n\t} = action;\n\tdispatch(TEMPLATE_ADD_NOTIFICATIONS, {\n\t\titems: notifications\n\t});\n\taction.stopPropagation();\n};\n\nexport const clearNotificationsEffect = ({\n\taction,\n\tproperties: { classicForm },\n\tdispatch\n}) => {\n\tif (classicForm) return;\n\n\tdispatch(TEMPLATE_CLEAR_NOTIFICATIONS);\n\taction.stopPropagation();\n};\n\nconst acceptedProperties = {\n\t/**\n\t * Table the templates are applied to.\n\t * @type {string}\n\t */\n\ttable: {},\n\t/**\n\t * Record Sys ID.\n\t * @type {string}\n\t */\n\tsysId: {},\n\t/**\n\t * Encoded Record.\n\t * @type {string}\n\t */\n\tencodedRecord: {},\n\t/**\n\t * Map of fields to show in the form in the following format: {field_name: {...}, ...}.\n\t * @type {object}\n\t */\n\tfields: {},\n\t/**\n\t * Form view to use when creating or editing a template.\n\t * @type {string}\n\t */\n\tview: { default: \"default view\" },\n\t/**\n\t * Flag that indicates whether the component is rendered in a classic form\n\t * @type {boolean}\n\t * @private\n\t */\n\tclassicForm: {},\n\t/**\n\t * Set this prop to timestamp to force re-fetch data\n\t * @private\n\t */\n\trefreshRequested: {}\n};\n\nconst TemplateElement = \"now-record-common-templates-connected\";\n\n/**\n * Displays a list of templates that the user can apply to a record. \n * Selecting a template card applies the template to the associated form.\n *\n * ```jsx\n * <now-record-common-templates-connected\n *    table = 'incident'\n *    sysId = '57af7aec73d423002728660c4cf6a71c'\n *    fields = {}\n *    view = 'workspace'\n * />\n * ```\n *\n * @seismicElement now-record-common-templates-connected\n * @summary Provides a list of templates that the user can choose from, and applies the selected template to the record. \n *\n */\ncreateCustomElement(TemplateElement, {\n\trenderer: {\n\t\ttype: react,\n\t\tview: SnComponentTemplate\n\t},\n\tproperties: acceptedProperties,\n\tinitialState: {\n\t\tselectedTab: \"all\",\n\t\tsearchFilter: {}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched to show notification messages.\n\t\t * @type {AddNotificationsPayload}\n\t\t */\n\t\t[ADD_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched to show notification messages when a template is inside a record page in UI Builder.\n\t\t * @type {\n\t\t \tTemplateAddNotificationsPayload\n\t\t }\n\t\t */\n\t\t[TEMPLATE_ADD_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched to clear all notification messages.\n\t\t */\n\t\t[CLEAR_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched to clear all notification messages when a template is inside a record page in UI Builder.\n\t\t */\n\t\t[TEMPLATE_CLEAR_NOTIFICATIONS]: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: context => {\n\t\t\tconst {\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { name, value, previousValue }\n\t\t\t\t},\n\t\t\t\tstate: { selectedTab, searchFilter },\n\t\t\t\tproperties,\n\t\t\t\tdispatch,\n\t\t\t\tupdateState\n\t\t\t} = context;\n\n\t\t\tconst searchTerm = searchFilter ?  (searchFilter.all ? searchFilter.all : searchFilter.my_templates) : \"\";\n\t\t\tif (name === REFRESH_REQUESTED) {\n\t\t\t\tif (value && !previousValue) {\n\t\t\t\t\trefetchData(dispatch, properties, selectedTab, searchTerm);\n\t\t\t\t} else if (value.timestamp > previousValue.timestamp) {\n\t\t\t\t\trefetchData(dispatch, properties, selectedTab, searchTerm);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_RENDERED]: ({ updateState, state, host }) => {\n\t\t\tconst { focusNext } = state;\n\t\t\tif (!focusNext) return;\n\n\t\t\tconst { templateSysId, tag } = focusNext;\n\t\t\tif (templateSysId) focusTemplateCard(templateSysId, host);\n\t\t\telse focusSearch(host);\n\n\t\t\tupdateState({\n\t\t\t\tfocusNext: null,\n\t\t\t\tshouldRender: false\n\t\t\t});\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_FETCH_ACTION]: {\n\t\t\t...fetchTemplateData,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_FETCH_SUCCESS]: {\n\t\t\teffect: ({ updateState, action, state }) => {\n\t\t\t\tconst {\n\t\t\t\t\tmeta: { focusNext, options }\n\t\t\t\t} = action;\n\t\t\t\tconst query = _.get(options, \"variables.queryConditions\");\n\t\t\t\tconst resultTab = query.includes(\"roles\") ? \"all\" : \"my_templates\";\n\n\t\t\t\tupdateState({\n\t\t\t\t\ttemplateData: {\n\t\t\t\t\t\t...state.templateData,\n\t\t\t\t\t\t[resultTab]: action.payload\n\t\t\t\t\t},\n\t\t\t\t\t...(focusNext ? { focusNext } : {})\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_FETCH_ERROR]: {\n\t\t\teffect: ({ action }) => {\n\t\t\t\tconsole.error(`Fetching template failed. ERROR: ${action}`);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_APPLY_ACTION]: {\n\t\t\t...applyTemplateData,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_APPLY_SUCCESS]: {\n\t\t\teffect: ({ updateState, action }) => {\n\t\t\t\tupdateState({ applyTemplate: action.payload });\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_APPLY_ERROR]: {\n\t\t\teffect: ({ action }) => {\n\t\t\t\tconsole.error(`Applying template failed. ERROR: ${action}`);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[SEARCH_INPUT_ENTERED]: {\n\t\t\teffect: search,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_DESTROY_ACTION]: {\n\t\t\t...deleteTemplate,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_DESTROY_SUCCESS]: {\n\t\t\teffect: ({\n\t\t\t\tdispatch,\n\t\t\t\tproperties,\n\t\t\t\tstate: { searchFilter, selectedTab },\n\t\t\t\tupdateState,\n\t\t\t\taction\n\t\t\t}) => {\n\t\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\t\tnotifications: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tmessage: t(\"The template has been deleted\")\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t\tupdateState({\n\t\t\t\t\ttemplateData: {},\n\t\t\t\t\tshouldRender: false\n\t\t\t\t});\n\n\t\t\t\tconst templateSysId = _.get(action, \"meta.nextFocusTemplateId\");\n\t\t\t\tconst actionMeta = {\n\t\t\t\t\tfocusNext: templateSysId\n\t\t\t\t\t\t? { templateSysId }\n\t\t\t\t\t\t: { tag: \"sn-form-internal-searchbar\" }\n\t\t\t\t};\n\n\t\t\t\trefetchData(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tproperties,\n\t\t\t\t\tselectedTab,\n\t\t\t\t\tsearchFilter[selectedTab],\n\t\t\t\t\tactionMeta\n\t\t\t\t);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_DESTROY_ERROR]: {\n\t\t\teffect: ({ action, host }) => {\n\t\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\t\tnotifications: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\tmessage: t(\"Deleting template failed\")\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t\tconst templateSysId = _.get(action, \"meta.deletingTemplateId\");\n\t\t\t\tif (!templateSysId) focusTemplateCard(templateSysId, host);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_DROPDOWN_ITEM_CLICKED]: executeEffectIfValidEventSource(\n\t\t\tTEMPLATE_EVENT_SOURCE.TEMPLATE_MENU_ITEM,\n\t\t\t{\n\t\t\t\teffect: ({ action, updateState, dispatch, properties: {classicForm} }) => {\n\t\t\t\t\tconst { template, item } = _.get(action, \"payload\");\n\t\t\t\t\tif (item.id === \"delete\") {\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tdisplayDeleteModal: true,\n\t\t\t\t\t\t\tdeletingTemplate: template\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (item.id === \"edit\") {\n\t\t\t\t\t\tconst previewAction = classicForm ? PREVIEW_RECORD : TEMPLATE_PREVIEW_RECORD;\n\t\t\t\t\t\tdispatch(previewAction, transformPreviewRecordPayload({\n\t\t\t\t\t\t\ttable: \"sys_template\",\n\t\t\t\t\t\t\tsysId: template.sys_id.value\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstopPropagation: true\n\t\t\t}\n\t\t),\n\t\t[TEMPLATE_ACTIONS.DELETE_CANCELED_ACTION]: {\n\t\t\teffect: ({ updateState }) => {\n\t\t\t\tupdateState({\n\t\t\t\t\tdisplayDeleteModal: false,\n\t\t\t\t\tdeletingTemplate: null\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.DELETE_CONFIRMED_ACTION]: {\n\t\t\teffect: ({ action, updateState, dispatch, state }) => {\n\t\t\t\tconst sysId = _.get(action, \"payload.template.sys_id.value\");\n\t\t\t\tupdateState({\n\t\t\t\t\tdisplayDeleteModal: false,\n\t\t\t\t\tdeletingTemplate: null\n\t\t\t\t});\n\t\t\t\tconst templates = _.get(\n\t\t\t\t\tstate.templateData[state.selectedTab],\n\t\t\t\t\t\"data.GlideRecord_Query.sys_template._results\",\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tconst index = templates.findIndex(\n\t\t\t\t\ttemplate => template.sys_id.value === sysId\n\t\t\t\t);\n\t\t\t\tconst nextTemplate = templates[index + 1];\n\t\t\t\tconst extraMeta = nextTemplate\n\t\t\t\t\t? { nextFocusTemplateId: nextTemplate.sys_id.value }\n\t\t\t\t\t: {};\n\t\t\t\tdispatch(\n\t\t\t\t\tTEMPLATE_ACTIONS.TEMPLATE_DESTROY_ACTION,\n\t\t\t\t\t{ sys_id: sysId },\n\t\t\t\t\t{ deletingTemplateId: sysId, ...extraMeta }\n\t\t\t\t);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_TABS_SELECTED_ITEM_SET]: {\n\t\t\teffect: ({ action, updateState, state, properties, dispatch }) => {\n\t\t\t\tconst selectedTab = action.payload.value;\n\t\t\t\tconst shouldRender = state.templateData[selectedTab] ? true : false;\n\n\t\t\t\tupdateState({\n\t\t\t\t\tselectedTab,\n\t\t\t\t\tshouldRender\n\t\t\t\t});\n\n\t\t\t\t// If a tab selected for the first time\n\t\t\t\t// Or if the templateData needs to be updated,\n\t\t\t\t// Query for the templates\n\n\t\t\t\tif (!state.templateData[selectedTab])\n\t\t\t\t\trefetchData(\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tproperties,\n\t\t\t\t\t\tselectedTab,\n\t\t\t\t\t\tstate.searchFilter[selectedTab]\n\t\t\t\t\t);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_MODAL_OPENED_SET_ACTION]: {\n\t\t\teffect: ({ updateState }) => {\n\t\t\t\tupdateState({\n\t\t\t\t\tdisplayDeleteModal: false,\n\t\t\t\t\tdeletingTemplate: null\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_PLUS_BUTTON_CLICKED]: executeEffectIfValidEventSource(\n\t\t\tTEMPLATE_EVENT_SOURCE.NEW_TEMPLATE_ICON,\n\t\t\t{\n\t\t\t\teffect: ({ dispatch }) => {\n\t\t\t\t\tdispatch(TEMPLATE_ACTIONS.TEMPLATE_CREATE_NEW);\n\t\t\t\t},\n\t\t\t\tstopPropagation: true\n\t\t\t}\n\t\t),\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_CREATE_BUTTON_CLICKED]: executeEffectIfValidEventSource(\n\t\t\tTEMPLATE_EVENT_SOURCE.NEW_TEMPLATE_BUTTON,\n\t\t\t{\n\t\t\t\teffect: ({ dispatch }) => {\n\t\t\t\t\tdispatch(TEMPLATE_ACTIONS.TEMPLATE_CREATE_NEW);\n\t\t\t\t},\n\t\t\t\tstopPropagation: true\n\t\t\t}\n\t\t),\n\t\t[ADD_NOTIFICATIONS]: addNotificationsEffect,\n\t\t[CLEAR_NOTIFICATIONS]: clearNotificationsEffect,\n\n\t\t[TEMPLATE_ACTIONS.TEMPLATE_CREATE_NEW]: {\n\t\t\teffect: ({ dispatch, properties }) => {\n\t\t\t\tconst previewAction = properties.classicForm ? PREVIEW_RECORD : TEMPLATE_PREVIEW_RECORD;\n\t\t\t\tdispatch(previewAction, transformPreviewRecordPayload({\n\t\t\t\t\ttable: \"sys_template\",\n\t\t\t\t\tsysId: \"-1\",\n\t\t\t\t\tview: properties.view,\n\t\t\t\t\tquery: `table=${properties.table}^template=${escapeQueryString(\n\t\t\t\t\t\tgetTemplateString(properties.fields)\n\t\t\t\t\t)}`\n\t\t\t\t}));\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t},\n\tstyles: style\n});\n\nexport default TemplateElement;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import { t } from \"sn-translate\";\nexport const TEMPLATE_ACTIONS = {\n\tTEMPLATE_FETCH_ACTION: \"TEMPLATE_FETCH_ACTION\",\n\tTEMPLATE_FETCH_SUCCESS: \"TEMPLATE_FETCH_SUCCESS\",\n\tTEMPLATE_FETCH_ERROR: \"TEMPLATE_FETCH_ERROR\",\n\tTEMPLATE_APPLY_ACTION: \"TEMPLATE_APPLY_ACTION\",\n\tTEMPLATE_APPLY_SUCCESS: \"TEMPLATE_APPLY_SUCCESS\",\n\tTEMPLATE_APPLY_ERROR: \"TEMPLATE_APPLY_ERROR\",\n\tTEMPLATE_DESTROY_ACTION: \"TEMPLATE_DESTROY_ACTION\",\n\tTEMPLATE_DESTROY_SUCCESS: \"TEMPLATE_DESTROY_SUCCESS\",\n\tTEMPLATE_DESTROY_ERROR: \"TEMPLATE_DESTROY_ERROR\",\n\tDELETE_CANCELED_ACTION: \"TEMPLATE_DELETE_CANCELED_ACTION\",\n\tDELETE_CONFIRMED_ACTION: \"TEMPLATE_DELETE_CONFIRMED_ACTION\",\n\tTEMPLATE_PLUS_BUTTON_CLICKED: \"NOW_BUTTON_ICONIC#CLICKED\",\n\tTEMPLATE_CREATE_BUTTON_CLICKED: \"NOW_BUTTON#CLICKED\",\n\tTEMPLATE_CREATE_NEW: \"TEMPLATE_CREATE_NEW\"\n};\n\nexport const TEMPLATE_EVENT_SOURCE = {\n\tNEW_TEMPLATE_ICON: \"NEW_TEMPLATE_ICON\",\n\tNEW_TEMPLATE_BUTTON: \"NEW_TEMPLATE_BUTTON\",\n\tREMOVE_TEMPLATE_MODAL: \"REMOVE_TEMPLATE_MODAL\",\n\tTEMPLATE_MENU_ITEM: \"TEMPLATE_MENU_ITEM\"\n};\n\nexport const TEMPLATE_ADD_NOTIFICATIONS =\n\t\"NOW_RECORD_COMMON_TEMPLATES_CONNECTED#ADD_NOTIFICATIONS\";\nexport const TEMPLATE_CLEAR_NOTIFICATIONS =\n\t\"NOW_RECORD_COMMON_TEMPLATES_CONNECTED#CLEAR_NOTIFICATIONS\";\nexport const TEMPLATE_PREVIEW_RECORD =\n\t\"NOW_RECORD_COMMON_TEMPLATES_CONNECTED#PREVIEW_RECORD\";\n\nexport const TEMPLATE_MENU_ACTIONS = {\n\tEDIT: {\n\t\tid: \"edit\",\n\t\tlabel: t(\"Edit\")\n\t},\n\tDELETE: {\n\t\tid: \"delete\",\n\t\tlabel: t(\"Delete\")\n\t}\n};\n\nexport const SET_FIELDS_MSG = t(\"Set Fields :\");\nexport const TEMPLATE_LIMIT_SYS_PROP = \"glide.ui.template_bar_limit\";\n\nexport const BASE_GRID = 12;\nexport const MAX_GRID = 6;\nexport const MORE_ARIA_LABEL = t(\"Show actions for\");\n\nexport const TEMPLATE_TAB_ITEMS = [\n\t{\n\t\tid: \"all\",\n\t\tlabel: t(\"All\")\n\t},\n\t{\n\t\tid: \"my_templates\",\n\t\tlabel: t(\"My Templates\")\n\t}\n];\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDEgNzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0MSA3MTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7fQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQoJLnN0MntmaWxsOm5vbmU7c3Ryb2tlOiNGRkZGRkY7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO30KCS5zdDN7ZmlsbDojODFCNUExO30KCS5zdDR7ZmlsbDojRkZGRkZGO30KCS5zdDV7ZmlsbDojMjkzRTQwO30KCS5zdDZ7b3BhY2l0eTowLjM7ZmlsbDojMjkzRTQwO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0N3tvcGFjaXR5OjAuNDtmaWxsOiMyOTNFNDA7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDt9Cjwvc3R5bGU+Cjx0aXRsZT5zbi1lcy1uby1tYXRjaC1mb3VuZDwvdGl0bGU+CjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgo8ZyBpZD0iRW1wdHktU3RhdGVzIj4KCTxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNTQuMDAwMDAwLCAtNTA4LjAwMDAwMCkiPgoJCTxnIGlkPSJzbi1lcy1uby1tYXRjaC1mb3VuZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzU0LjAwMDAwMCwgNTA4LjAwMDAwMCkiPgoJCQk8ZyBpZD0iR3JvdXAtMjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxLjAwMDAwMCwgMjYuMDAwMDAwKSI+CgkJCQk8ZyBpZD0iR3JvdXAtMTQiPgoJCQkJCTxnIGlkPSJHcm91cC0xMyI+CgkJCQkJCTxnIGlkPSJHcm91cC0xMiI+CgkJCQkJCQk8cGF0aCBpZD0iUmVjdGFuZ2xlLTYiIGNsYXNzPSJzdDAiIGQ9Ik0wLjUtMS41aDY0LjNjMS4xLDAsMiwwLjksMiwydjM0YzAsMS4xLTAuOSwyLTIsMkgwLjVjLTEuMSwwLTItMC45LTItMnYtMzQKCQkJCQkJCQlDLTEuNS0wLjYtMC42LTEuNSwwLjUtMS41eiIvPgoJCQkJCQk8L2c+CgkJCQkJCTxwYXRoIGlkPSJMaW5lLTIiIGNsYXNzPSJzdDEiIGQ9Ik01LjMsNi4zaDM5LjgiLz4KCQkJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTUuMiwxMy4xaDQ4LjciLz4KCQkJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTUuMiwyMS4xaDMxIi8+CgkJCQkJPC9nPgoJCQkJCTxnIGlkPSJHcm91cC0xMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTkuMDAwMDAwLCAyOC4wMDAwMDApIj4KCQkJCQkJPHBhdGggaWQ9IkxpbmUiIGNsYXNzPSJzdDIiIGQ9Ik0wLjIsNy44bDcuNy03LjciLz4KCQkJCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTcuOCw3LjhMMC4yLDAuMiIvPgoJCQkJCTwvZz4KCQkJCTwvZz4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwiIGNsYXNzPSJzdDMiIGN4PSI2MyIgY3k9IjMzIiByPSIxMiIvPgoJCQkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTY1LDM2LjhjMCwwLjYtMC4yLDEuMS0wLjYsMS41QzY0LDM4LjgsNjMuNSwzOSw2MywzOXMtMS0wLjItMS40LTAuNkM2MS4yLDM4LDYxLDM3LjUsNjEsMzYuOQoJCQkJCXMwLjItMS4xLDAuNi0xLjVjMC40LTAuNCwwLjktMC42LDEuNC0wLjZzMSwwLjIsMS40LDAuNkM2NC44LDM1LjcsNjUsMzYuMiw2NSwzNi44eiBNNjEuMiwyNS43YzAtMC4yLDAuMS0wLjMsMC4yLTAuNQoJCQkJCWMwLjEtMC4xLDAuMy0wLjIsMC40LTAuMmgyLjRjMC4yLDAsMC4zLDAuMSwwLjQsMC4yczAuMiwwLjMsMC4yLDAuNWwtMC4zLDcuNGMwLDAuMi0wLjEsMC4zLTAuMiwwLjVzLTAuMywwLjItMC40LDAuMmgtMS43CgkJCQkJYy0wLjIsMC0wLjMtMC4xLTAuNC0wLjJzLTAuMi0wLjMtMC4yLTAuNUw2MS4yLDI1Ljd6Ii8+CgkJCTwvZz4KCQkJPGcgaWQ9ImJ1YmJsZXMiPgoJCQkJPGNpcmNsZSBpZD0iT3ZhbC01IiBjbGFzcz0ic3Q1IiBjeD0iNC41IiBjeT0iMjYuNSIgcj0iNC41Ii8+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weSIgY2xhc3M9InN0NSIgY3g9IjExMi41IiBjeT0iMTcuNSIgcj0iNC41Ii8+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0zIiBjbGFzcz0ic3Q2IiBjeD0iMTM4LjUiIGN5PSI0NC41IiByPSIyLjUiLz4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwtNS1Db3B5LTIiIGNsYXNzPSJzdDciIGN4PSI2NS41IiBjeT0iMi41IiByPSIyLjUiLz4KCQkJPC9nPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K\"","import react from \"@servicenow/ui-renderer-react\";\nimport { createCustomElement } from \"@servicenow/ui-core\";\nimport { default as AttachmentCard } from \"./AttachmentCard\";\nimport attachmentActions from \"./attachmentCardActions\";\nimport style from \"./AttachmentCard.scss\";\n\n/**\n * Tile Component used to display an attachment item.\n *\n * ```jsx\n * <now-record-common-attachment-card\n *\t\titem={...}\n *\t\tmaxFileNameLength={...}\n *\t\tcanCreate={...}\n *\t\tmode={...}\n * />\n * ```\n *\n * @seismicElement now-record-common-attachment-card\n * @summary Tile Component used to display an attachment\n */\nexport default createCustomElement(\"now-record-common-attachment-card\", {\n\trenderer: {\n\t\ttype: react,\n\t\tview: AttachmentCard\n\t},\n\n\tproperties: {\n\t\t/**\n\t\t * Flag that indicates whether the actions to modify the attachment (rename, delete) should be displayed\n\t\t * @type {boolean}\n\t\t */\n\t\tcanCreate: {},\n\t\t/**\n\t\t * Object containing details of the attachment record that are used to render the tile\n\t\t *\n\t\t * Shape\n\t\t * `type: boolean` canDelete - flag that indicates whether a user can delete the attachment\n\t\t * `type: boolean` canEditName - flag that indicates whether a user can rename the attachment\n\t\t * `type: string` date - the date/time stamp for when the attachment was updated\n\t\t * `type: string` dateLabel - the label corresponding to the date\n\t\t * `type: string` name - the name of the attachment\n\t\t * `type: string` size - the size of the attachment in bytes\n\t\t * `type: string` state - the state of the attachment\n\t\t * `type: string` sysId - the sys id of the attachment record\n\t\t * `type: string` type - the attachment file type\n\t\t * `type: string` userId - the sys id of the user\n\t\t * `type: string` userName - the name of the user\n\t\t * @type{object}\n\t\t */\n\t\titem: {},\n\t\t/**\n\t\t * The maximum length of the file name that can be specified for the attachment\n\t\t * @type {integer}\n\t\t */\n\t\tmaxFileNameLength: {},\n\t\t/**\n\t\t * The layout in which the component is rendered.\n\t\t * The current supported layouts are \"full\" and \"compact\".\n\t\t * @type {string}\n\t\t */\n\t\tmode: { default: \"full\" },\n\t\t/**\n\t\t * Whether to display upload progress bar.\n\t\t * @type {boolean}\n\t\t */\n\t\tdisplayUploadProgressBar: { default: false }\n\t},\n\n\tactions: {\n\t\t...attachmentActions.actions\n\t},\n\n\tactionHandlers: {\n\t\t...attachmentActions.handlers\n\t},\n\tstyles: style\n});\n","module.exports = __TECTONIC__$servicenow_now_label_value;","const lineHeight =\n\t1.25 *\n\tparseInt(window.getComputedStyle(document.documentElement).fontSize, 10);\nexport const getMaxLineHeight = lineCount => {\n\treturn lineHeight * lineCount;\n};\n","const ACTIONS = {\n\tPRIVATE: {\n\t\tTOGGLE_CLICKED: \"NOW_BUTTON_BARE#CLICKED\",\n\t\tLINK_CLICKED: \"NOW_LABEL_VALUE_STACKED#TEXT_LINK_CLICKED\"\n\t},\n\tPUBLIC: {\n\t\tLINK_CLICKED: \"NOW_DISPLAY_VALUE_BLOCK#LINK_CLICKED\"\n\t}\n};\n\nconst LAYOUT = {\n\tDISTRIBUTED: {\n\t\tNAME: \"distributed\",\n\t\tMIN_WIDTH: \"200px\"\n\t},\n\tDYNAMIC: {\n\t\tNAME: \"dynamic\",\n\t\tMAX_WIDTH: \"144px\"\n\t}\n};\n\nexport default {\n\tACTIONS,\n\tCOMPONENT_NAME: \"now-display-value-block\",\n\tLAYOUT\n};\n","import _ from \"lodash\";\nimport { t } from \"sn-translate\";\nimport { getValue, createDataProviderDataSource } from \"@devsnc/library-form\";\nimport { CONTEXTUAL_LINK_NAMES } from \"../../../constants/contextualLinks\";\n\nexport const ITEM_TYPES = {\n\tSIMPLE: \"simple\",\n\tREFERENCE: \"reference\",\n\tHIGHLIGHTED: \"highlighted\"\n};\n\nconst HEADER_CONFIG_KEY = \"headerConfig\";\nconst HEADER_ITEMS = \"headerItems\";\nconst HEADER_SYS_ID = \"headerSysId\";\nconst HEADER_PRIMARY_ITEM = \"primaryItem\";\nconst HEADER_SECONDARY_ITEMS = \"secondaryItems\";\nconst HEADER_HIGHLIGHTED_VALUE_STYLE = \"highlightedValueStyle\";\nconst HEADER_REFERENCE_ITEM = \"referenceItem\";\nconst HEADER_RECORD_DISPLAY_VALUE = \"recordDisplayValue\";\nconst HEADER_TABLE_DISPLAY_VALUE = \"tableDisplayValue\";\nconst HEADER_SUBHEADING_ITEM = \"subheadingItem\";\nconst HEADER_IMAGE_ITEM = \"headerImageItem\";\nconst HEADER_HIDE_TAGS_ITEM = \"hideTags\";\nconst QUERY_FRAGMENT = `\n${HEADER_CONFIG_KEY}:GlideHeaderQuery_Query {\n\t${HEADER_ITEMS}(table: $table, sysId: $sysId, workspaceConfigId: $workspaceConfigId, headerConfigId: $headerConfigId, highlightedValueConfigId: $highlightedValueConfigId) {\n\t\t${HEADER_SYS_ID}\n\t\t${HEADER_RECORD_DISPLAY_VALUE}\n\t\t${HEADER_TABLE_DISPLAY_VALUE}\n\t\t${HEADER_HIDE_TAGS_ITEM}\n\t\t${HEADER_PRIMARY_ITEM} {\n\t\t\tfieldName\n\t\t\tfieldLabel\n\t\t\tdisplayValue\n\t\t}\n\t\t${HEADER_SUBHEADING_ITEM} {\n\t\t\tfieldName\n\t\t\tfieldLabel\n\t\t\tdisplayValue\n\t\t}\n\t\t${HEADER_IMAGE_ITEM} {\n\t\t\tfieldName\n\t\t\tfieldLabel\n\t\t\theaderImage\n\t\t}\n\t\t${HEADER_SECONDARY_ITEMS} {\n\t\t\tfieldName\n\t\t\tfieldLabel\n\t\t\tdisplayValue\n\t\t\t${HEADER_HIGHLIGHTED_VALUE_STYLE} {\n\t\t\t\tfield\n\t\t\t\tvalue\n\t\t\t\tstatus\n\t\t\t\tshowIcon\n\t\t\t}\n\t\t\t${HEADER_REFERENCE_ITEM} {\n\t\t\t\ttable\n\t\t\t\tsysId\n\t\t\t}\n\t\t}\n\t}\n}\n`;\n\nconst transformHighlightedItem = item => {\n\tconst { highlightedValueStyle, type } = item;\n\tif (!highlightedValueStyle || type) return item;\n\tconst { status, value: displayValue, showIcon } = highlightedValueStyle;\n\treturn {\n\t\t..._.omit(item, \"highlightedValueStyle\"),\n\t\tstatus,\n\t\tdisplayValue,\n\t\tshowIcon,\n\t\ttype: ITEM_TYPES.HIGHLIGHTED\n\t};\n};\n\nconst transformReferenceItem = item => {\n\tconst { referenceItem, type } = item;\n\tif (!referenceItem || type) return item;\n\tconst { table, sysId } = referenceItem;\n\treturn {\n\t\t..._.omit(item, \"referenceItem\"),\n\t\ttable,\n\t\tsysId,\n\t\ttype: ITEM_TYPES.REFERENCE\n\t};\n};\n\nconst transformSimpleItem = item => {\n\tif (item.type) return item;\n\treturn {\n\t\t...item,\n\t\ttype: ITEM_TYPES.SIMPLE\n\t};\n};\n\nconst transformSecondaryItems = secondaryItems =>\n\tsecondaryItems.map(item =>\n\t\ttransformSimpleItem(transformReferenceItem(transformHighlightedItem(item)))\n\t);\n\nconst createTransform = getValueOrDefault => (data, state, properties) => {\n\tconst { sysId, table } = properties;\n\tconst headerSysId = getValueOrDefault(HEADER_SYS_ID, \"\")(data);\n\tconst tableDisplayValue = getValueOrDefault(HEADER_TABLE_DISPLAY_VALUE, \"\")(\n\t\tdata\n\t);\n\tconst recordDisplayValue = getValueOrDefault(HEADER_RECORD_DISPLAY_VALUE, \"\")(\n\t\tdata\n\t);\n\tconst primaryItem = getValueOrDefault(HEADER_PRIMARY_ITEM)(data);\n\tconst primaryValue =\n\t\tsysId === \"-1\"\n\t\t\t? t(\"Create New {0}\", tableDisplayValue)\n\t\t\t: _.get(primaryItem, \"displayValue\") || recordDisplayValue;\n\tconst secondaryItems = transformSecondaryItems(\n\t\tgetValueOrDefault(HEADER_SECONDARY_ITEMS, [])(data)\n\t);\n\tconst configurationItem = {\n\t\torder: CONTEXTUAL_LINK_NAMES.header.order,\n\t\tlabel: CONTEXTUAL_LINK_NAMES.header.name,\n\t\turl: encodeURIComponent(`sys_aw_form_header.do?sys_id=${headerSysId || `-1&sysparm_query=${encodeURIComponent(`table=${table}`)}`}`)\n\t};\n\tconst hideTagsValue = getValueOrDefault(HEADER_HIDE_TAGS_ITEM)(data);\n\tconst subHeadingValue = getValueOrDefault(\n\t\t`${HEADER_SUBHEADING_ITEM}.displayValue`,\n\t\t\"\"\n\t)(data);\n\tconst headerImageItem = getValueOrDefault(HEADER_IMAGE_ITEM)(data);\n\n\treturn {\n\t\trecordDisplayValue,\n\t\tprimaryItem,\n\t\tprimaryValue,\n\t\tsecondaryItems,\n\t\ttableDisplayValue,\n\t\tconfigurationItem,\n\t\thideTagsValue,\n\t\theaderImageItem,\n\t\tsubHeadingValue\n\t};\n};\n\nexport const createHeaderDataSource = (queryPrefix = \"\") => {\n\tconst baseKey = `${queryPrefix}${HEADER_CONFIG_KEY}.${HEADER_ITEMS}`;\n\tconst getValueOrDefault = getValue(baseKey);\n\tconst transform = createTransform(getValueOrDefault);\n\treturn createDataProviderDataSource({\n\t\tquery: QUERY_FRAGMENT,\n\t\tvariables: [\n\t\t\t\"table\",\n\t\t\t\"sysId\",\n\t\t\t\"workspaceConfigId\",\n\t\t\t\"headerConfigId\",\n\t\t\t\"highlightedValueConfigId\"\n\t\t],\n\t\ttransform,\n\t\tprops: {\n\t\t\ttable: { default: \"\" },\n\t\t\tsysId: { default: \"\" },\n\t\t\tworkspaceConfigId: { default: \"\" },\n\t\t\theaderConfigId: { default: \"\" },\n\t\t\thighlightedValueConfigId: { default: \"\" }\n\t\t},\n\t\tselectableProps: {\n\t\t\tprimaryValue: {\n\t\t\t\tdefault: \"\"\n\t\t\t},\n\t\t\tsecondaryItems: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\ttableDisplayValue: { default: \"\" },\n\t\t\trecordDisplayValue: { default: \"\" },\n\t\t\tsubHeadingValue: { default: \"\" },\n\t\t\theaderImageItem: {},\n\t\t\tconfigurationItem: {}\n\t\t}\n\t});\n};\n","import { getValue, createDataProviderDataSource } from \"@devsnc/library-form\";\n\nexport const VIEWABLE_TAG_QUERY_KEY = \"GlideViewableTagQuery_Query\";\nexport const VIEWABLE_RECORD_TAGS = \"viewableRecordTags\";\nexport const QUERY_FRAGMENT = `\n        ${VIEWABLE_TAG_QUERY_KEY} {\n            ${VIEWABLE_RECORD_TAGS} (table: $table, sysId: $sysId) {\n                canCreateGlobalTags\n                enabled\n                records {\n                    name\n                    canEdit\n                    sysId\n                    viewableBy\n                    labelEntry\n                }\n            }\n        }`;\n\nconst createTransform = getValueOrDefault => data => {\n\tconst recordTags = getValueOrDefault(VIEWABLE_RECORD_TAGS, {})(data);\n\treturn {\n\t\trecordTags\n\t};\n};\n\nexport const createViewableRecordTagDataSource = (queryPrefix = \"\") => {\n\tconst baseKey = `${queryPrefix}${VIEWABLE_TAG_QUERY_KEY}`;\n\tconst getValueOrDefault = getValue(baseKey);\n\tconst transform = createTransform(getValueOrDefault);\n\n\treturn createDataProviderDataSource({\n\t\tquery: QUERY_FRAGMENT,\n\t\tvariables: [\"table\", \"sysId\"],\n\t\ttransform,\n\t\tprops: {\n\t\t\ttable: { default: \"\" },\n\t\t\tsysId: { default: \"\" }\n\t\t},\n\t\tselectableProps: {\n\t\t\trecordTags: {\n\t\t\t\tdefault: {}\n\t\t\t}\n\t\t}\n\t});\n};\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom, { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./Header.scss\";\nimport \"./HeaderLabelValueSet.js\";\nimport { getProperty } from \"sn-uxpage-presource\";\nimport \"../tags/tag/tag\";\nimport { t } from \"sn-translate\";\nimport classNames from \"classnames/dedupe\";\nimport \"@servicenow/now-image\";\nimport {\n\tPREVIEW_RECORD\n} from \"@devsnc/library-form\";\nimport { EmptyStateElement } from \"../emptyState\";\nimport { HEADER_ACTIONS_PREVIEW_RECORD } from \"./headerConst\";\n\nconst TAGS_SYS_PROPERTIES = {\n\tGLIDE_UI_SHOW_FORM_TAGS_BAR: \"glide.ui.show_form_tags_bar\"\n};\n\nconst tagSysProperty = getProperty(\n\tTAGS_SYS_PROPERTIES.GLIDE_UI_SHOW_FORM_TAGS_BAR,\n\ttrue\n);\n\nconst tagSysPropertyWithDefault = (tagSysProperty !== null) ? tagSysProperty : true;\n\nconst acceptedProperties = {\n\t/**\n\t * Value to show at the top of the header.\n\t * @type {string}\n\t */\n\tprimaryValue: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\t/**\n\t * Array of items to show labels and values for under the primary value.\n\t * @type {(Array.<SecondaryItem>)}\n\t */\n\tsecondaryItems: {},\n\t/**\n\t * Tags to load into the record tag component.\n\t * @type {string[]}\n\t */\n\trecordTags: {},\n\t/**\n\t * Table for the record to display.\n\t * @type {string}\n\t */\n\ttable: {\n\t\tdefault: \"\"\n\t},\n\t/**\n\t * Sys ID of the record to show values for.\n\t * @type {string}\n\t */\n\tsysId: {\n\t\tdefault: \"\"\n\t},\n\t/**\n\t * ID of the workspace. For example, agent, csm, or vsm.\n\t * @type {string}\n\t */\n\tworkspaceConfigId: {\n\t\tdefault: \"\"\n\t},\n\t/**\n\t * @deprecated\n\t * @type {string}\n\t */\n\trecordDisplayValue: {\n\t\tdefault: \"\"\n\t},\n\t/**\n\t * When true, the component renders in the workspace form.\n\t * @type {boolean}\n\t */\n\tclassicForm: {},\n\t/**\n\t * Header item that describes the image details.\n\t * @type {any<HeaderItem>}\n\t */\n\theaderImageItem: {},\n\t/**\n\t * Value to show as a subheading under the header.\n\t * @type {string}\n\t */\n\tsubHeadingValue: {\n\t\tdefault: \"\"\n\t},\n\t/**\n\t * When true, hides the tags icon.\n\t * @type {boolean}\n\t */\n\thideTagsValue: {\n\t\tschema: {\n\t\t\ttype: \"boolean\"\n\t\t},\n\t\tdefault: false\n\t},\n\t/**\n\t * String of the selector for the container.\n\t * @type {string}\n\t */\n\toverlayContainer: {\n\t\tschema: {\n\t\t\ttype: \"string\"\n\t\t},\n\t\tdefault: \"\"\n\t}\n};\n\n// Create view for renderer\nexport const view = state => {\n\tconst {\n\t\tprimaryValue,\n\t\tsecondaryItems,\n\t\ttable,\n\t\tsysId,\n\t\trecordDisplayValue,\n\t\trecordTags,\n\t\tclassicForm,\n\t\theaderImageItem,\n\t\tsubHeadingValue,\n\t\thideTagsValue,\n\t\toverlayContainer\n\t} = state.properties;\n\n\tif (!primaryValue && !secondaryItems)\n\t\treturn !classicForm ? (\n\t\t\t<EmptyStateElement message={t(\"No data to display\")} />\n\t\t) : (\n\t\t\t<div />\n\t\t);\n\n\tconst renderSubheadingDisplay = () => {\n\t\treturn subHeadingValue ? (\n\t\t\t<div className=\"sn-heading-row subheading\">\n\t\t\t\t<p>{subHeadingValue}</p>\n\t\t\t</div>\n\t\t) : (\n\t\t\t<Fragment />\n\t\t);\n\t};\n\n\tconst renderHeaderImageDisplay = () => {\n\t\treturn !headerImageItem || !headerImageItem.headerImage ? (\n\t\t\t<Fragment />\n\t\t) : (\n\t\t\t<now-image\n\t\t\t\tsrc={headerImageItem.headerImage}\n\t\t\t\talt={headerImageItem.fieldLabel}\n\t\t\t\tclassName=\"headerImageConstraints\"\n\t\t\t\tfit=\"scale-down\"\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst containerClassNames = {\n\t\t\"sn-heading-container\": true,\n\t\theaderImage: headerImageItem !== null,\n\t\tsubHeading: !!subHeadingValue\n\t};\n\n\treturn (\n\t\t<div className={`${classNames(containerClassNames)}`}>\n\t\t\t<div className=\"sn-heading-row\">\n\t\t\t\t{renderHeaderImageDisplay()}\n\t\t\t\t<div className=\"sn-heading-content\">\n\t\t\t\t\t<div className=\"sn-heading-row\">\n\t\t\t\t\t\t<h1 className=\"sn-heading\">{primaryValue}</h1>\n\t\t\t\t\t\t{tagSysPropertyWithDefault && !hideTagsValue ? (\n\t\t\t\t\t\t\t<sn-record-tags-connected\n\t\t\t\t\t\t\t\ttable={table}\n\t\t\t\t\t\t\t\tsysId={sysId}\n\t\t\t\t\t\t\t\tdisplayValue={recordDisplayValue}\n\t\t\t\t\t\t\t\trecordTags={recordTags}\n\t\t\t\t\t\t\t\tclassicForm={classicForm}\n\t\t\t\t\t\t\t\toverlayContainer={overlayContainer}\n\t\t\t\t\t\t\t\theaderSubComponent={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Fragment />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{renderSubheadingDisplay()}\n\t\t\t\t\t<div className=\"sn-heading-row\">\n\t\t\t\t\t\t<sn-form-internal-header-label-value-set items={secondaryItems} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst HEADER_COMPONENT = \"now-record-common-header\";\n\n/**\n * Main container for a record or record page. Displays a primary item at the top such as a name and description,\n * and a number of field label-value pairs.\n *\n * ```jsx\n * <now-record-common-header\n *\t\ttable={...}\n *\t\tsysId={...}\n *\t\tprimaryValue={...}\n *\t\tsecondaryItems={...}\n *\t\trecordTags={...}\n *\t\tsubHeadingValue={...}\n *\t\theaderImageItem={...}\n *\t\thideTagsValue={...}\n *\t\t/>\n * ```\n *\n * @seismicElement now-record-common-header\n * @summary Main container for a record or record page that displays an overview of relevant information about a record. \n */\ncreateCustomElement(HEADER_COMPONENT, {\n\tproperties: acceptedProperties,\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when a secondaryItem of type reference is clicked.\n\t\t * @type {PreviewRecordPayload}\n\t\t */\n\t\t[PREVIEW_RECORD]: {},\n\t\t/**\n\t\t * Dispatched when a secondaryItem of type reference is clicked and the header is inside a record page in UI Builder.\n\t\t * @type {PreviewRecordPayload}\n\t\t */\n\t\t[HEADER_ACTIONS_PREVIEW_RECORD]: {}\n\t},\n\tactionHandlers: {\n\t\t[PREVIEW_RECORD]: {\n\t\t\teffect: ({ action, dispatch, properties: { classicForm } }) => {\n\t\t\t\tif (classicForm) return;\n\n\t\t\t\tdispatch(HEADER_ACTIONS_PREVIEW_RECORD, action.payload);\n\t\t\t\taction.stopPropagation();\n\t\t\t}\n\t\t}\n\t}\n});\n\nexport default HEADER_COMPONENT;\n","module.exports = __TECTONIC__$servicenow_now_highlighted_value;","module.exports = __TECTONIC__$servicenow_now_text_link;","module.exports = __TECTONIC__$servicenow_now_pill;","import { ACTIONS } from \"../constants\";\nimport { keyUtils } from \"@devsnc/library-form\";\n\nexport const handleNonEnterKeys = (dispatch, inputRef, userText) => {\n\treturn e => {\n\t\te.stopPropagation();\n\t\tconst text = inputRef.current.value.trim();\n\t\tif (text !== \"\" && text !== userText) {\n\t\t\tdispatch(ACTIONS.ADD_TAG_FIELD_CHANGED, { text });\n\t\t\tdispatch(ACTIONS.INPUT_TAG_TYPED, { prefix: text });\n\t\t} else if (text === \"\") dispatch(ACTIONS.ADD_TAG_FIELD_CLEARED);\n\t};\n};\n\nfunction findTag(tagList, text) {\n\treturn tagList.find(element => element.name === text);\n}\n\nconst createTag = (dispatch, prefix) =>\n\tdispatch(ACTIONS.TAG_EXISTS_CHECK, { prefix });\n\nexport const createTagLabel = (\n\tdispatch,\n\ttagSysId,\n\t{ table, sysId, displayValue: title }\n) => dispatch(ACTIONS.CREATE_TAG_LABEL, { tagSysId, table, sysId, title });\n\nexport const createTagOrTagLabel = (state, dispatch, text) => {\n\tconst { tags = [], properties } = state;\n\n\tif (tags.length) {\n\t\tconst existingTag = findTag(tags, text);\n\t\tif (existingTag) {\n\t\t\tcreateTagLabel(dispatch, existingTag.sysId, properties);\n\t\t} else createTag(dispatch, text);\n\t} else createTag(dispatch, text);\n};\n\nexport const handleOnFocus = dispatch => {\n\treturn () => {\n\t\tdispatch(ACTIONS.TAG_LIST_CLICKED, { openDropDown: true });\n\t};\n};\n\nexport const handleEnterKey = (dispatch, state, inputRef) => {\n\treturn e => {\n\t\tif (keyUtils.onEnter(e)) {\n\t\t\tconst text = inputRef.current.value.trim();\n\t\t\tif (!text) return;\n\n\t\t\tcreateTagOrTagLabel(state, dispatch, text);\n\t\t\tinputRef.current.value = \"\";\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\te.cancelBubble = true;\n\t\t}\n\t};\n};\n","import { USERS, GROUPS, EDIT_TAG_MODAL } from \"./constants\";\nimport { VIEWABLE_BY } from \"../constants\";\nimport { t } from \"sn-translate\";\nimport _ from \"lodash\";\n\nlet cache = { [USERS]: {}, [GROUPS]: {} };\n\nconst isGroupAndUsers = viewable_by =>\n\tviewable_by === VIEWABLE_BY.GROUPS_AND_USERS.value;\nconst getImageUrl = avatar => avatar && \"/\" + avatar + \".iix?t=small\";\n\nconst createField = (name, label, value, displayValue) => ({\n\tfieldName: name,\n\tlabel,\n\tvalue,\n\tdisplayValue\n});\n\nexport default class TagDetails {\n\tconstructor(state) {\n\t\tthis.tagDetails = state.tagDetails;\n\t\tthis.userListDetails = state[USERS];\n\t\tthis.groupListDetails = state[GROUPS];\n\t}\n\n\tset avatars(avatars) {\n\t\tthis.tagDetails.user_list.avatars = this.formatAvatars(avatars);\n\t}\n\n\tget value() {\n\t\tconst {\n\t\t\tsys_id: { value: sys_id },\n\t\t\tname: { value: name },\n\t\t\tuser_list: { value: user_list },\n\t\t\tgroup_list: { value: group_list },\n\t\t\tviewable_by: { value: viewable_by }\n\t\t} = this.tagDetails;\n\n\t\treturn isGroupAndUsers(viewable_by)\n\t\t\t? { sys_id, name, viewable_by, user_list, group_list }\n\t\t\t: { sys_id, name, viewable_by };\n\t}\n\n\tget canEdit() {\n\t\treturn this.tagDetails.name && this.tagDetails.name.canWrite;\n\t}\n\n\tget sysId() {\n\t\treturn this.tagDetails.sys_id;\n\t}\n\n\tget name() {\n\t\treturn createField(\n\t\t\t\"name\",\n\t\t\tEDIT_TAG_MODAL.LABELS.NAME,\n\t\t\tthis.tagDetails.name.value,\n\t\t\tthis.tagDetails.name.displayValue\n\t\t);\n\t}\n\n\tget viewableBy() {\n\t\treturn createField(\n\t\t\t\"viewable_by\",\n\t\t\tEDIT_TAG_MODAL.LABELS.VIEWABLE_BY,\n\t\t\tthis.tagDetails.viewable_by.value,\n\t\t\tthis.tagDetails.viewable_by.displayValue\n\t\t);\n\t}\n\n\tget groupList() {\n\t\treturn new ListField(\n\t\t\t\"group_list\",\n\t\t\tEDIT_TAG_MODAL.LABELS.GROUPS,\n\t\t\tthis.groupListDetails,\n\t\t\tthis.formatSelectedItems(this.tagDetails.group_list),\n\t\t\tcache[GROUPS]\n\t\t);\n\t}\n\n\tget userList() {\n\t\treturn new ListField(\n\t\t\t\"user_list\",\n\t\t\tEDIT_TAG_MODAL.LABELS.USERS,\n\t\t\tthis.userListDetails,\n\t\t\tthis.formatSelectedItems(this.tagDetails.user_list),\n\t\t\tcache[USERS]\n\t\t);\n\t}\n\n\tget properties() {\n\t\treturn this.tagDetails;\n\t}\n\n\tgetList(fieldName) {\n\t\tif (fieldName === \"user_list\") return this.userList;\n\t\telse if (fieldName === \"group_list\") return this.groupList;\n\t}\n\n\tget isViewableBySetToUsersAndGroups() {\n\t\treturn VIEWABLE_BY.GROUPS_AND_USERS.value === this.viewableBy.value;\n\t}\n\n\tformatSelectedItems(data) {\n\t\tconst values = data.value ? data.value.split(\",\") : [];\n\t\tconst displayValues = data.displayValue ? data.displayValue.split(\",\") : [];\n\t\tconst avatars = data.avatars ? data.avatars.split(\",\") : [];\n\t\treturn values.map((value, index) => ({\n\t\t\tvalue,\n\t\t\tdisplayValue: displayValues[index],\n\t\t\tavatar: avatars[index],\n\t\t\ticon: getImageUrl(avatars[index])\n\t\t}));\n\t}\n\n\tformatAvatars(avatars) {\n\t\tif (!this.userList.value) return \"\";\n\t\tconst groupedAvatars = avatars.reduce((accumulator, avatar) => {\n\t\t\taccumulator[avatar.sys_id.value] = avatar;\n\t\t\treturn accumulator;\n\t\t}, {});\n\t\treturn this.userList.value\n\t\t\t.split(\",\")\n\t\t\t.map(userId =>\n\t\t\t\tgroupedAvatars[userId].avatar ? groupedAvatars[userId].avatar.value : \"\"\n\t\t\t)\n\t\t\t.join(\",\");\n\t}\n}\n\nclass ListField {\n\tconstructor(fieldName, label, props, selected, cache) {\n\t\tthis.props = props;\n\t\tthis.fieldName = fieldName;\n\t\tthis.label = label;\n\t\tthis.selected = selected;\n\t\tthis.cache = cache;\n\t}\n\n\tget dropdownLabel() {\n\t\treturn t(\n\t\t\t\"Showing {0} - {1} of {2}\",\n\t\t\t1,\n\t\t\tthis.nonSelected.length,\n\t\t\tthis.total\n\t\t);\n\t}\n\n\tget typeaheadLabel() {\n\t\treturn t(\"{0} ({1})\", this.label, this.selected.length);\n\t}\n\n\tget dropdownOpened() {\n\t\treturn this.props.dropdown;\n\t}\n\n\tget filter() {\n\t\treturn this.props.filter;\n\t}\n\n\tget available() {\n\t\treturn this.props.available;\n\t}\n\n\tget nonSelected() {\n\t\treturn _.differenceBy(this.available, this.selected, \"value\");\n\t}\n\n\tget total() {\n\t\treturn this.props.total - (this.available.length - this.nonSelected.length);\n\t}\n\n\tget value() {\n\t\treturn this.selected.map(i => i.value).join(\",\");\n\t}\n\n\tget displayValue() {\n\t\treturn this.selected.map(i => i.displayValue).join(\",\");\n\t}\n\n\tget avatars() {\n\t\treturn this.listKey === USERS\n\t\t\t? this.selected.map(i => i.avatar).join(\",\")\n\t\t\t: \"\";\n\t}\n\n\tget listKey() {\n\t\tif (this.fieldName === \"user_list\") return USERS;\n\t\telse if (this.fieldName === \"group_list\") return GROUPS;\n\t}\n\n\t// If user types ab and we already have results from a (where totalResults is >= results.length),\n\t// then we can prepare results of \"ab\" from results of \"a\" when results.length equals totalResults\n\tprepareItemsFromCache(key) {\n\t\tconst lowerKey = key.toLowerCase();\n\t\tlet x = key;\n\t\twhile (x !== \"\") {\n\t\t\tx = x.slice(0, -1);\n\t\t\tif (\n\t\t\t\tthis.cache[x] &&\n\t\t\t\tthis.cache[x].results.length == this.cache[x].totalResults\n\t\t\t) {\n\t\t\t\tconst results = this.cache[x].results.filter(\n\t\t\t\t\ti => i.displayValue.toLowerCase().lastIndexOf(lowerKey, 0) === 0\n\t\t\t\t);\n\t\t\t\treturn { results, totalResults: results.length };\n\t\t\t}\n\t\t}\n\t}\n\n\tloadAvailableItemsFromCache(key) {\n\t\tconst cachedItems = this.cached(key);\n\t\tif (cachedItems) {\n\t\t\tthis.loadAvailable(cachedItems);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tset filter(filter) {\n\t\tthis.props.filter = filter;\n\t}\n\n\tset dropdown(dropdown) {\n\t\tthis.props.dropdown = dropdown;\n\t}\n\n\tupdateSelectedItems(items) {\n\t\tthis.selected = items;\n\t}\n\n\tupdateAvailableItems(key, { results: raw, totalResults }) {\n\t\tconst results = this.formatLoadedItems(raw);\n\t\tthis.cache[key] = { results, totalResults };\n\t\tthis.loadAvailable({ results, totalResults });\n\t}\n\n\tloadAvailable({ results: available, totalResults: total }) {\n\t\tthis.props = { ...this.props, available, total };\n\t\tthis.props.dropdown = this.nonSelected.length !== 0;\n\t}\n\n\tget properties() {\n\t\treturn this.props;\n\t}\n\n\tformatLoadedItems(items) {\n\t\treturn items.map(item => ({\n\t\t\tvalue: item.sys_id.value,\n\t\t\tdisplayValue: item.name.value,\n\t\t\tsecondaryDisplayValue: item.email && item.email.value,\n\t\t\tavatar: item.avatar && item.avatar.value,\n\t\t\ticon: item.avatar && getImageUrl(item.avatar.value)\n\t\t}));\n\t}\n\n\tcached(key) {\n\t\treturn this.cache[key] || this.prepareItemsFromCache(key);\n\t}\n}\n","module.exports = __TECTONIC__$servicenow_behavior_fit_19_0_11;","import {\n\tQUERY_FRAGMENT,\n\tHEADER_CONFIGURATION_QUERY_KEY,\n\tHEADER_CONFIGURATION_TABLE\n} from \"./configurationQuery\";\nimport { createDataProviderDataSource } from \"@devsnc/library-form\";\n\nconst getParams = properties => ({\n\tconditions: `table=${_.get(properties, \"table\", \"\")}^active=1^ORDERBYorder`\n});\n\nconst getPlatformURL = (table, sysId) => `/${table}.do?sys_id=${sysId}`;\n\nconst getURL = data => {\n\tconst headerConfiguration = _.first(\n\t\t_.get(\n\t\t\tdata,\n\t\t\t`${HEADER_CONFIGURATION_QUERY_KEY}.${HEADER_CONFIGURATION_TABLE}._results`,\n\t\t\t[]\n\t\t)\n\t);\n\tif (!headerConfiguration) return \"\";\n\n\tconst sysId = _.get(headerConfiguration, `sys_id.value`);\n\tif (!sysId) return {};\n\n\treturn { url: getPlatformURL(HEADER_CONFIGURATION_TABLE, sysId) };\n};\n\nexport const createHeaderConfigurationDataSource = () =>\n\tcreateDataProviderDataSource({\n\t\tquery: QUERY_FRAGMENT,\n\t\tvariables: [\"conditions\"],\n\t\tgetParams,\n\t\ttransform: getURL,\n\t\tprops: {\n\t\t\ttable: { default: \"\" }\n\t\t},\n\t\tselectableProps: {\n\t\t\turl: {\n\t\t\t\tdefault: \"\"\n\t\t\t}\n\t\t}\n\t});\n","import {\n\tcreateDataProviderDataSource,\n\tgetValue\n} from \"@devsnc/library-form\";\nimport { CONTEXTUAL_LINK_NAMES } from \"../../../constants/contextualLinks\";\nimport { UI_ACTION_TYPES, UX_ACTION_TYPES } from \"../UIActionBarConst\";\n\nexport const UI_ACTION_QUERY_KEY = \"GlideUIAction_Query\";\nexport const UI_ACTIONS_KEY = \"uiActions\";\nexport const UI_ACTION_FORM_ACTIONS = \"formActions\";\nexport const UI_ACTION_MESSAGES = \"messages\";\nexport const ACTION_NODES = \"actionNodes\";\nexport const FIXED_BUTTON_NUMBER = \"fixedButtonNumber\";\n\nexport const QUERY_FRAGMENT = `\n${UI_ACTION_QUERY_KEY} {\n    ${UI_ACTIONS_KEY}(table:$table, sysId:$sysId, query: $query, view: $view, workspaceConfigId: $workspaceConfigId) {\n    \t${UI_ACTION_MESSAGES} {\n\t\t\tname\n\t\t\tvalue\n\t\t}\n\t\t${FIXED_BUTTON_NUMBER}\n\t\t${ACTION_NODES} {\n\t\t\t... on GlideUIAction_UIAction {\n\t\t\t\tlabel\n\t\t\t\tname\n\t\t\t\tsysId\n\t\t\t\torder\n\t\t\t\thasClientScript\n\t\t\t\tclientScript\n\t\t\t\ttype\n\t\t\t\tstyle\n\t\t\t\thint\n\t\t\t}\n\t\t\t... on GlideUIAction_UIActionGroupLayout {\n\t\t\t\tlabel\n\t\t\t\toverflow\n\t\t\t\ttype\n\t\t\t\tstyle\n\t\t\t\torder\n\t\t\t\tgroupActions {\n\t\t\t\t\tlabel\n\t\t\t\t\tname\n\t\t\t\t\tsysId\n\t\t\t\t\torder\n\t\t\t\t\thasClientScript\n\t\t\t\t\tclientScript\n\t\t\t\t\ttype\n\t\t\t\t\tstyle\n\t\t\t\t\thint\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    }\n}`;\n\nconst transformMessages = (messages = []) =>\n\tmessages.reduce(\n\t\t(loadedMessages, message) =>\n\t\t\tmessage.name\n\t\t\t\t? {\n\t\t\t\t\t\t...loadedMessages,\n\t\t\t\t\t\t[message.name]: message.value\n\t\t\t\t  }\n\t\t\t\t: loadedMessages,\n\t\t{}\n\t);\n\nconst transformAction = action => ({\n\tid: action.sysId,\n\tlabel: action.label || action.title,\n\thint: action.hint\n});\n\nconst transformActions = actions => {\n\treturn actions.map(action => transformAction(action));\n};\n\nconst getActionsFromNodes = nodes => {\n\tconst existingKeys = [];\n\tconst transformNode = node => ({\n\t\t...node,\n\t\tid: node.sysId,\n\t\tuxActionType: UX_ACTION_TYPES.UI_ACTION\n\t});\n\n\treturn nodes.reduce((arr, node) => {\n\t\tif (!node.groupActions) {\n\t\t\tif (!(node.sysId in existingKeys)) {\n\t\t\t\texistingKeys[node.sysId] = null;\n\t\t\t\tarr.push(transformNode(node));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const action of node.groupActions) {\n\t\t\t\tif (!(action.sysId in existingKeys)) {\n\t\t\t\t\texistingKeys[action.sysId] = null;\n\t\t\t\t\tarr.push(transformNode(action));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn arr;\n\t}, []);\n};\n\nconst transformActionNodes = nodes => {\n\tlet nodeId = 1;\n\treturn nodes.map(node => {\n\t\tconst hasChildren = node.groupActions;\n\t\tconst hasMultipleChildren = hasChildren && node.groupActions.length > 1;\n\t\treturn {\n\t\t\tid: nodeId++,\n\t\t\tlabel: node.type === UI_ACTION_TYPES.MENU ? node.label : \"\",\n\t\t\toverflow: \"overflow\" in node ? node.overflow : node.type === \"menuItem\",\n\t\t\tcolor: node.style,\n\t\t\ttype: hasMultipleChildren ? node.type : UI_ACTION_TYPES.BUTTON,\n\t\t\tchildren: hasChildren\n\t\t\t\t? transformActions(node.groupActions)\n\t\t\t\t: [transformAction(node)]\n\t\t};\n\t});\n};\n\nconst createTransform = getValueOrDefault => (data, state, properties) => {\n\tconst {\n\t\tisFormReadonly,\n\t\tproperties: { table }\n\t} = state;\n\tconst { record: { trueTable = table } = {} } = state;\n\n\tconst actionNodeData = getValueOrDefault(ACTION_NODES, [])(data);\n\tconst actionNodes = isFormReadonly\n\t\t? []\n\t\t: transformActionNodes(actionNodeData);\n\n\tconst formActions =\n\t\t!actionNodes || isFormReadonly ? [] : getActionsFromNodes(actionNodeData);\n\n\tconst encodedQuery = encodeURIComponent(\n\t\t`table=${trueTable}^ORtable=global^form_button_v2=true^ORform_menu_button_v2=true^active=true`\n\t);\n\tconst configurationItem = {\n\t\torder: CONTEXTUAL_LINK_NAMES.uiActions.order,\n\t\tlabel: CONTEXTUAL_LINK_NAMES.uiActions.name,\n\t\turl: encodeURIComponent(\n\t\t\t`sys_ui_action_list.do?sysparm_query=${encodedQuery}`\n\t\t)\n\t};\n\n\tconst messages = transformMessages(\n\t\tgetValueOrDefault(UI_ACTION_MESSAGES, [])(data)\n\t);\n\n\tconst fixedButtonNumber = getValueOrDefault(FIXED_BUTTON_NUMBER, 0)(data);\n\treturn {\n\t\tformActions,\n\t\tactionNodes,\n\t\tconfigurationItem,\n\t\tmessages,\n\t\tfixedButtonNumber\n\t};\n};\n\nexport const createUIActionDataSource = (queryPrefix = \"\") => {\n\tconst baseKey = `${queryPrefix}${UI_ACTION_QUERY_KEY}.${UI_ACTIONS_KEY}`;\n\tconst getValueOrDefault = getValue(baseKey);\n\tconst transform = createTransform(getValueOrDefault);\n\n\treturn createDataProviderDataSource({\n\t\tquery: QUERY_FRAGMENT,\n\t\tvariables: [\"table\", \"view\", \"sysId\", \"query\", \"workspaceConfigId\"],\n\t\ttransform,\n\t\tprops: {\n\t\t\ttable: { default: \"\" },\n\t\t\tview: { default: \"\" },\n\t\t\tsysId: { default: \"\" },\n\t\t\tquery: { default: \"\" },\n\t\t\tworkspaceConfigId: { default: \"\" }\n\t\t},\n\t\tselectableProps: {\n\t\t\tformActions: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tconfigurationItem: {},\n\t\t\tmessages: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tactionNodes: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tdaClientActionContract: {\n\t\t\t\tdefault: {}\n\t\t\t}\n\t\t}\n\t});\n};\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport _ from \"lodash\";\n\nimport UIActionBar from \"./UIActionBar\";\n\nconst UI_ACTION_BAR_ELEMENT = \"now-record-common-uiactionbar\";\nconst DA_WRAPPED_CLICKED = \"DA_WRAPPED_CLICKED\";\n\nexport const daWrapClickHandler = ({ action: { payload }, dispatch }) => {\n\tconst { wrapped_action_name, wrapped_payload } = payload;\n\tif (wrapped_action_name) dispatch(wrapped_action_name, wrapped_payload);\n};\n\n/**\n * Contains buttons and menu items that allow users to interact with and take actions on a page. \n *\n * ```jsx\n * <now-record-common-uiactionbar\n *\t\tuiActions={...}\n *\t\twidth={...}\n *\t\thandleClick={...}\n *\t\t/>\n * ```\n *\n * @seismicElement now-record-common-uiactionbar\n * @summary Set of horizontal buttons mapped to UI actions that fits the size of its container.\n */\ncreateCustomElement(UI_ACTION_BAR_ELEMENT, {\n\trenderer: {\n\t\ttype: react,\n\t\tview: UIActionBar\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Array of action nodes that map to components that execute when the user clicks them. For example, now-button, now-split-button, or now-dropdown.\n\t\t * @type {(Array.<ActionNode>)}\n\t\t */\n\t\tactionNodes: {},\n\t\t/**\n\t\t * Minimum number of UI actions to display without overflowing.\n\t\t * @type {{Number}}\n\t\t */\n\t\tfixedButtonNumber: {\n\t\t\tdefault: 0,\n\t\t\tschema: {\n\t\t\t\ttype: 'number'\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Object containing the data needed for all of the components linked to the UI actions.\n\t\t * @type {SidebarFormModel}\n\t\t */\n\t\tdaModel: {\n\t\t\tdefault: {},\n\t\t\tschema: {\n\t\t\t\ttype: 'object'\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Object containing the data needed for dynamic declarative action event mapping.\n\t\t * @type {DaClientActionContract}\n\t\t */\n\t\tdaClientActionContract: {\n\t\t\tdefault: {},\n\t\t\tschema: {\n\t\t\t\ttype: 'object'\n\t\t\t},\n\t\t\tselectable: true\n\t\t},\n\t\t/**\n\t\t * Performs an action asynchronously and executes the callback on completion.\n\t\t * @type {UIActionClickCallback} handleClick - Optional if pass is called when the UI action is clicked;\n\t\t * otherwise, NOW_RECORD_COMMON_UI_ACTION_BAR#CLICKED is dispatched with the selectedAction\n\t\t */\n\t\thandleClick: {},\n\t\t/**\n\t\t * Width of the parent container. When this values changes, the action bar recalculates which buttons are shown in the dropdown menu.\n\t\t *\n\t\t * @type {(string)}\n\t\t */\n\t\twidth: {},\n\t\t/**\n\t\t * When true, the action bar renders in the workspace form.\n\t\t * @type {boolean}\n\t\t */\n\t\tclassicForm: {}\n\t},\n\tactionHandlers: {\n\t\t[DA_WRAPPED_CLICKED]: {\n\t\t\teffect: daWrapClickHandler,\n\t\t\tstopPropagation: true\n\t\t},\n\t\tREFRESH_REQUESTED: {\n\t\t\teffect: ({ dispatch }) => {\n\t\t\t\tdispatch('NOW_RECORD_UI_ACTION_BAR#REFRESH_REQUESTED');\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t}\n});\n\nexport default UI_ACTION_BAR_ELEMENT;\n","import { createCustomElement, actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { SIDEBAR, SIDEBAR_ACTION } from \"../constants/constants\";\nimport \"../toolbar/sidebarToolbar\";\nimport \"../panel/sidebarPanel\";\nimport styles from \"./sidebar.scss\";\nimport _ from \"lodash\";\nimport {\n\tsidebarTransformer,\n\ttoggleSelectedOrDefaultAction\n} from \"./sidebarTransformer\";\nimport { loadActionComponents } from \"@devsnc/library-form\";\nimport { EmptyStateElement } from \"../../emptyState\";\nimport { t } from \"sn-translate\";\n\nconst renderPanels = state => {\n\tconst {\n\t\tproperties: {\n\t\t\tformModel,\n\t\t\tclassicForm,\n\t\t\trecordDisplayValue,\n\t\t\tsidebarPanelExtras\n\t\t},\n\t\ttransformedActions: actions,\n\t\tselectedAction,\n\t\tcomponentId,\n\t\trenderedPanels\n\t} = state;\n\treturn actions.map(action =>\n\t\trenderedPanels[action.name] || selectedAction === action.name ? (\n\t\t\t<sn-form-internal-sidebar-panel\n\t\t\t\tclassName={selectedAction === action.name ? \"\" : \"is-hidden\"}\n\t\t\t\tcomponent-name={action.actionComponent}\n\t\t\t\tform-model={formModel}\n\t\t\t\taction-attributes={action.actionAttributes}\n\t\t\t\tcomponent-id={`${componentId}_panel_${action.assignmentId}`}\n\t\t\t\tclassicForm={classicForm}\n\t\t\t\trecord-display-value={recordDisplayValue}\n\t\t\t\tsidebar-panel-extras={sidebarPanelExtras[action.actionComponent] || {}}\n\t\t\t/>\n\t\t) : null\n\t);\n};\n\nconst shouldHidePanel = state => {\n\tconst {\n\t\tselectedAction,\n\t\tproperties: { manageOpened, opened }\n\t} = state;\n\treturn manageOpened ? !opened : !selectedAction;\n};\n\nconst view = state => {\n\tconst {\n\t\ttransformedActions: actions,\n\t\tselectedAction,\n\t\topenedMore,\n\t\tcomponentId,\n\t\tproperties: { classicForm }\n\t} = state;\n\n\tif (!actions || _.isEmpty(actions))\n\t\treturn !classicForm ? (\n\t\t\t<EmptyStateElement message={t(\"No data to display\")} />\n\t\t) : null;\n\n\treturn (\n\t\t<div className=\"sidebar\">\n\t\t\t<sn-form-internal-sidebar-toolbar\n\t\t\t\tactions={actions}\n\t\t\t\topened-more={openedMore}\n\t\t\t\tselected-action={selectedAction}\n\t\t\t\tcomponent-id={`${componentId}_toolbar`}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tclassName={`sidebar-panel ${shouldHidePanel(state) ? \"is-hidden\" : \"\"}`}\n\t\t\t>\n\t\t\t\t{renderPanels(state)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst loadComponents = state => {\n\tconst { transformedActions = [] } = state;\n\tloadActionComponents(transformedActions);\n};\n\nconst SIDEBAR_COMPONENT = \"now-record-common-sidebar\";\n\n/**\n * Vertical panel of buttons which loads components in another slide out panel when clicked\n *\n * ```jsx\n * <now-record-common-sidebar\n *\t\tformModal={...}\n *\t\tactions={...}\n *\t\topened={...}\n *\t\tmanageOpened={...}\n *\t\tsidebarPanelExtras={...}\n *\t\t/>\n * ```\n *\n * @seismicElement now-record-common-sidebar\n * @summary Vertical panel of buttons that when clicked toggles open/closed a larger panel\n * with a component defined by a declarative action\n */\ncreateCustomElement(SIDEBAR_COMPONENT, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tproperties: {\n\t\t/**\n\t\t * this is an object which contains the data needed for all of the components represented by all of the actions to load\n\t\t * @type {SidebarFormModel}\n\t\t */\n\t\tformModel: {\n\t\t\tdefault: {},\n\t\t\tunstableParse: true\n\t\t},\n\t\t/**\n\t\t * array of SidebarFormActions representing the actions to show in the sidepanel\n\t\t * @type {Array.<SidebarFormAction>}\n\t\t */\n\t\tactions: {\n\t\t\tunstableParse: true\n\t\t},\n\t\t/**\n\t\t * whether the component panel should be opened or closed\n\t\t * @type {boolean}\n\t\t */\n\t\topened: {\n\t\t\tdefault: false,\n\t\t\tunstableParse: true\n\t\t},\n\t\t/**\n\t\t * object whose properties will be spread and added to the components being rendered as additional attributes\n\t\t * @type {SidebarPanelExtra}\n\t\t */\n\t\tsidebarPanelExtras: {\n\t\t\tdefault: {}\n\t\t},\n\t\t/**\n\t\t * whether the consumer of this component should manage the opened state manually\n\t\t * @type {boolean}\n\t\t */\n\t\tmanageOpened: {\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * whether or not this is rendered in the workspace Form\n\t\t * @type {boolean}\n\t\t */\n\t\tclassicForm: {},\n\t\t/**\n\t\t * current record's display value\n\t\t * @type {string}\n\t\t */\n\t\trecordDisplayValue: {}\n\t},\n\tinitialState: {\n\t\trenderedPanels: {}\n\t},\n\tactions: {\n\t\t[SIDEBAR.INTERNAL_ACTIONS.ACTION_CLICKED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[SIDEBAR.INTERNAL_ACTIONS.MORE_CLICKED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[SIDEBAR_ACTION.ACTION_STATUS_UPDATED]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ state, properties, updateState }) => {\n\t\t\tconst transformedState = sidebarTransformer(state, properties);\n\t\t\tloadComponents(transformedState);\n\t\t\tupdateState(transformedState);\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: context => {\n\t\t\tconst {\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { name, value, previousValue }\n\t\t\t\t},\n\t\t\t\tupdateState,\n\t\t\t\tstate,\n\t\t\t\tproperties\n\t\t\t} = context;\n\t\t\tif (value === previousValue) return;\n\t\t\tswitch (name) {\n\t\t\t\tcase \"formModal\":\n\t\t\t\tcase \"actions\":\n\t\t\t\t\tconst transformedState = sidebarTransformer(state, properties);\n\t\t\t\t\tloadComponents(transformedState);\n\t\t\t\t\tupdateState(transformedState);\n\t\t\t\t\treturn;\n\t\t\t\tcase \"opened\":\n\t\t\t\t\tupdateState(toggleSelectedOrDefaultAction(state, properties));\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t[SIDEBAR.INTERNAL_ACTIONS.ACTION_CLICKED]: ({\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\taction,\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst {\n\t\t\t\tpayload: { name, openedMore }\n\t\t\t} = action;\n\t\t\tconst { manageOpened, opened } = properties;\n\n\t\t\tif ((manageOpened && state.selectedAction === name) || !opened) {\n\t\t\t\tconst newOpened = state.selectedAction === name ? !opened : true;\n\t\t\t\tdispatch(SIDEBAR.ACTIONS.OPENED_SET, { value: newOpened });\n\t\t\t} else if (manageOpened && state.selectedAction === \"\") {\n\t\t\t\tdispatch(SIDEBAR.ACTIONS.OPENED_SET, { value: true });\n\t\t\t}\n\t\t\tupdateState({\n\t\t\t\tselectedAction: state.selectedAction === name ? \"\" : name,\n\t\t\t\trenderedPanels:\n\t\t\t\t\tstate.selectedAction === name\n\t\t\t\t\t\t? state.renderedPanels\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t...(state.renderedPanels || {}),\n\t\t\t\t\t\t\t[name]: true\n\t\t\t\t\t\t},\n\t\t\t\topenedMore: !!openedMore\n\t\t\t});\n\t\t},\n\t\t[SIDEBAR.INTERNAL_ACTIONS.MORE_CLICKED]: ({\n\t\t\tupdateState,\n\t\t\taction: {\n\t\t\t\tpayload: { opened }\n\t\t\t}\n\t\t}) => {\n\t\t\tupdateState({\n\t\t\t\topenedMore: opened\n\t\t\t});\n\t\t},\n\t\t[SIDEBAR_ACTION.ACTION_STATUS_UPDATED]: {\n\t\t\teffect: ({\n\t\t\t\tupdateState,\n\t\t\t\tstate: { transformedActions = [] },\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { component, type, value }\n\t\t\t\t}\n\t\t\t}) => {\n\t\t\t\tif (type === \"badge\") {\n\t\t\t\t\tconst actionIndex = transformedActions.findIndex(\n\t\t\t\t\t\taction => action.actionComponent === component\n\t\t\t\t\t);\n\t\t\t\t\tif (actionIndex > -1) {\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tpath: `transformedActions[${actionIndex}]`,\n\t\t\t\t\t\t\tvalue: { badge: value },\n\t\t\t\t\t\t\toperation: \"merge\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the sidebar panel opened state is changed based on clicks from the user\n\t\t * if manageOpened is true\n\t\t *\n\t\t * @type {SidbarOpenedSetPayload}\n\t\t */\n\t\t\"NOW_RECORD_COMMON_SIDEBAR#OPENED_SET\": {}\n\t}\n});\n\nexport default SIDEBAR_COMPONENT;\n","module.exports = __TECTONIC__$servicenow_now_legacy_icon;","module.exports = __TECTONIC__$servicenow_ui_effect_http;","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxNDEgMTAzIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MSwuc3Q0e2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I2ZmZn0uc3Q0e2ZpbGw6IzI5M2U0MH08L3N0eWxlPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTcwIC00NzcpIiBpZD0iRW1wdHktU3RhdGVzIj48ZyBpZD0ic24tZXMtbm8tYXR0YWNobWVudHMtYXZhaWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNzAgNDc3KSI+PGcgaWQ9Ikdyb3VwLTMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOCAyMCkiPjxwYXRoIGQ9Ik00My44IDEyLjZsLTEyLjUgMi4zTDI5IDIuM2wuNi0uMWMuNy0uMSAxLjIgMCAxLjguNGwxMS4zIDcuOWMuNS40LjkuOSAxIDEuNmwuMS41em0tMTIuNyA1LjZsMTMuMy0yLjQgNiAzMi4zYy4xLjcgMCAxLjMtLjQgMS44cy0uOS45LTEuNSAxbC0zMi44IDZjLS43LjEtMS4yIDAtMS44LS40LS41LS40LS45LS45LTEtMS42TDQuNCA5LjNjLS4xLS43IDAtMS4zLjQtMS44cy45LS45IDEuNS0xbDE5LjUtMy42IDIuNSAxMy40Yy4xLjcuNSAxLjIgMSAxLjZzMS4xLjQgMS44LjN6bS0xMi45IDRjLTEuMy4yLTIuMy45LTMuMSAyLS43IDEuMS0xIDIuMy0uNyAzLjZzLjkgMi4zIDIgMy4xYzEuMS44IDIuMyAxIDMuNS44IDEuMy0uMiAyLjMtLjkgMy4xLTIgLjgtMS4xIDEtMi4zLjgtMy42LS4yLTEuMy0uOS0yLjMtMi0zLjEtMS4yLS43LTIuMy0xLTMuNi0uOHptMjQuNyAyMGwtMi0xMS00LjYtMy4yYy0uMi0uMi0uNS0uMi0uOC0uMi0uMy4xLS42LjItLjguNWwtOC4yIDEyLjEtNC42LTMuMmMtLjMtLjEtLjYtLjItLjktLjEtLjMuMS0uNS4yLS43LjRMMTcgNDJsLjkgNC43IDI1LTQuNXoiIG9wYWNpdHk9Ii44IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2MyY2VkMCIvPjxwYXRoIGlkPSJSZWN0YW5nbGUtNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTcwLjk5OCA0NS4wMDIgMzcuNSkiIGNsYXNzPSJzdDEiIGQ9Ik0zMy41IDIyLjVoMjN2MzBoLTIzeiIvPjxwYXRoIGQ9Ik0zNi41IDIxLjZjLS4yLjYtLjIgMS4zIDAgMS45LjMuNi43IDEuMSAxLjQgMS4zbDEzLjEgNS0xMi4yIDMyYy0uMi42LS43IDEuMS0xLjMgMS40LS42LjMtMS4zLjMtMS45LjFMMy4yIDUwLjhjLS42LS4yLTEuMS0uNy0xLjQtMS4zLS4zLS42LS4zLTEuMyAwLTEuOUwxOS4xIDIuNGMuMi0uNi43LTEuMSAxLjMtMS40LjYtLjMgMS4zLS4zIDEuOS0uMWwxOS4zIDcuNC01LjEgMTMuM3ptLTIuNyAyNS4zbC4zLS44Yy4xLS4zLjEtLjYgMC0xLS4xLS4zLS40LS41LS43LS43bC0xNi4yLTYuMmMtLjMtLjEtLjYtLjEtLjkgMC0uMy4xLS41LjQtLjcuN2wtLjMuOGMtLjEuMy0uMS42IDAgMSAuMS4zLjQuNS43LjdsMTYuMiA2LjJjLjMuMS42LjEuOSAwIC40LS4xLjYtLjMuNy0uN3ptMi40LTYuMmwuMy0uOGMuMS0uMy4xLS42IDAtMS0uMS0uMy0uNC0uNS0uNy0uN0wxOS42IDMyYy0uMy0uMS0uNi0uMS0uOSAwLS4zLjEtLjUuNC0uNy43bC0uMy44Yy0uMS4zLS4xLjYgMCAxIC4xLjMuNC41LjcuN2wxNi4yIDYuMmMuMy4xLjYuMS45IDBzLjYtLjQuNy0uN3ptMi43LTdjLjEtLjMuMS0uNiAwLTEtLjEtLjMtLjQtLjUtLjctLjdMMjIgMjUuOGMtLjMtLjEtLjYtLjEtLjkgMC0uMy4xLS41LjQtLjcuN2wtLjMuOGMtLjEuMy0uMS42IDAgMSAuMS4zLjQuNS43LjdMMzcgMzUuMmMuMy4xLjYuMS45IDAgLjMtLjEuNS0uNC43LS43bC4zLS44em0xMy4zLTdMMzkuOSAyMmw0LjgtMTIuNS42LjJjLjYuMiAxLjEuNyAxLjQgMS4zbDUuOCAxMy4yYy4zLjYuMyAxLjMgMCAxLjlsLS4zLjZ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzgxYjVhMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAgMSkiIGlkPSJQYXBlci1JY29uIi8+PGcgaWQ9Ikdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDMyKSI+PHBhdGggaWQ9IlBhdGgtMiIgY2xhc3M9InN0MSIgZD0iTTI2LjYgM2w4LjUgOC40aDI3LjNjMi4yIDAgNCAxLjcgNCAzLjlsLjggMzMuN2MwIC42LS40IDEtMSAxSDEuOWMtLjYgMC0xLS40LTEtMVY1LjljMC0yLjIgMS44LTQgNC00aDE4LjljMS4xIDAgMi4xLjQgMi44IDEuMXoiLz48cGF0aCBkPSJNNjUuOSAxMi45YzAtLjYtLjUtMS4xLTEuMi0xLjFIMzUuMWwtOS40LTkuMWMtLjItLjItLjUtLjMtLjgtLjNIMy41Yy0uNiAwLTEuMi41LTEuMiAxLjJ2NDQuMmg2NC40bC0uOC0zNC45ek0zNi4xIDkuNWgyOC43YzEuOSAwIDMuNCAxLjUgMy41IDMuNGwuNyAzNS4zYzAgMS0uNyAxLjgtMS43IDEuOEgxLjdjLTEgMC0xLjctLjgtMS43LTEuN1YzLjVDMCAxLjYgMS42IDAgMy41IDBoMjEuNGMuOSAwIDEuOC40IDIuNCAxbDguOCA4LjV6IiBmaWxsPSIjMjkzZTQwIiBzdHJva2U9IiMyOTNlNDAiIHN0cm9rZS13aWR0aD0iLjUiLz48L2c+PC9nPjxjaXJjbGUgaWQ9Ik92YWwtNSIgY2xhc3M9InN0NCIgY3g9IjQuNSIgY3k9IjI2LjUiIHI9IjQuNSIvPjxjaXJjbGUgaWQ9Ik92YWwtNS1Db3B5IiBjbGFzcz0ic3Q0IiBjeD0iMTEyLjUiIGN5PSIxNy41IiByPSI0LjUiLz48Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0zIiBjeD0iMTM4LjUiIGN5PSI0NC41IiByPSIyLjUiIG9wYWNpdHk9Ii4zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzI5M2U0MCIvPjxjaXJjbGUgaWQ9Ik92YWwtNS1Db3B5LTIiIGN4PSI2NS41IiBjeT0iMi41IiByPSIyLjUiIG9wYWNpdHk9Ii40IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzI5M2U0MCIvPjwvZz48L2c+PC9zdmc+\"","import snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { createCustomElement, actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_DISCONNECTED } = actionTypes;\nimport {\n\trenderAttachmentUploadOverlay,\n\trenderAttachmentUploadModal\n} from \"./upload/attachmentUploadUtil\";\nimport attachmentUploadModalActions from \"./upload/attachmentUploadModalActions\";\nimport attachmentOverlayActions from \"./attachmentOverlayActions\";\nimport { renderAttachmentOverlayView } from \"./attachmentOverlayUtil\";\nimport styles from \"./attachmentOverlay.scss\";\n\nconst view = (state, { dispatch, updateState }) => {\n\tconst {\n\t\tshowAttachmentUploadOverlay,\n\t\tshowUploadFileModal,\n\t\tuploadAttachmentList,\n\t\tcurrentFileName,\n\t\tuploadAttachmentListIndex,\n\t\tuploadFileDataURL,\n\t\tproperties\n\t} = state;\n\tconst { recordDisplayValue, canUploadAttachment } = properties;\n\n\tconst updateAttachmentName = ({ value: currentFileName }) => {\n\t\tupdateState({ currentFileName });\n\t};\n\n\tconst createFileDataURL = file => {\n\t\tvar reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onload = () => {\n\t\t\tif (reader.result !== uploadFileDataURL)\n\t\t\t\tupdateState({\n\t\t\t\t\tuploadFileDataURL: reader.result\n\t\t\t\t});\n\t\t};\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{canUploadAttachment && showAttachmentUploadOverlay\n\t\t\t\t? renderAttachmentUploadOverlay(recordDisplayValue)\n\t\t\t\t: null}\n\n\t\t\t{canUploadAttachment && showUploadFileModal\n\t\t\t\t? renderAttachmentUploadModal(\n\t\t\t\t\t\tshowUploadFileModal,\n\t\t\t\t\t\tuploadAttachmentList,\n\t\t\t\t\t\tcurrentFileName,\n\t\t\t\t\t\tuploadAttachmentListIndex,\n\t\t\t\t\t\tupdateAttachmentName,\n\t\t\t\t\t\tcreateFileDataURL,\n\t\t\t\t\t\tuploadFileDataURL\n\t\t\t\t  )\n\t\t\t\t: null}\n\n\t\t\t{renderAttachmentOverlayView(properties, dispatch, state)}\n\t\t</div>\n\t);\n};\n\nconst ATTACHMENT_OVERLAY = \"sn-form-internal-attachment-overlay\";\ncreateCustomElement(ATTACHMENT_OVERLAY, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tproperties: {\n\t\t/*\n\t\t * whether allow too drag and drop to upload file\n\t\t */\n\t\tcanUploadAttachment: { default: false },\n\t\t/*\n\t\t * whether to allow to download only or rename + delete a file\n\t\t */\n\t\tisReadOnly: { default: true },\n\t\t/*\n\t\t * Record display value to show in the modal title\n\t\t */\n\t\trecordDisplayValue: { default: \"\" },\n\t\t/*\n\t\t * show attachment preview overlay if set to true\n\t\t */\n\t\tshowAttachmentPreview: { default: false },\n\t\t/*\n\t\t * item to preview\n\t\t */\n\t\tattachmentPreviewItem: {},\n\t\t/*\n\t\t * table of the record\n\t\t */\n\t\ttable: {},\n\t\t/*\n\t\t * sysId of the record\n\t\t */\n\t\tsysId: {},\n\t\t/*\n\t\t * current state of the doc viewer.\n\t\t */\n\t\tdocViewerState: {},\n\t\t/*\n\t\t * whether to display document viewer or old attachment preview\n\t\t */\n\t\tdocViewerEnabled: {},\n\t\t/*\n\t\t * upload the list of files specified.\n\t\t */\n\t\tuploadFiles: { default: [] },\n\t\t/**\n\t\t * Disable upload modal and directly upload the files\n\t\t */\n\t\tdisableUploadModal : { default : false }\n\t},\n\tactions: {\n\t\t...attachmentOverlayActions.actions,\n\t\t...attachmentUploadModalActions.actions\n\t},\n\tactionHandlers: {\n\t\t...attachmentOverlayActions.handlers,\n\t\t...attachmentUploadModalActions.actionHandlers\n\t},\n\t[COMPONENT_DISCONNECTED]: ({ state }) => {\n\t\tconst { dragHandlers, dropTarget } = state;\n\t\tif (!dropTarget || !dragHandlers) return;\n\t\tif (dragHandlers.onDragEnter)\n\t\t\tdropTarget.removeEventListener(\"dragenter\", dragHandlers.onDragEnter);\n\t\tif (dragHandlers.onDragOver)\n\t\t\tdropTarget.removeEventListener(\"dragover\", dragHandlers.onDragOver);\n\t\tif (dragHandlers.onDragLeave)\n\t\t\tdropTarget.removeEventListener(\"dragleave\", dragHandlers.onDragLeave);\n\t\tif (dragHandlers.onDrop)\n\t\t\tdropTarget.removeEventListeners(\"drop\", dragHandlers.onDrop);\n\t}\n});\n\nexport default ATTACHMENT_OVERLAY;\n","import _ from \"lodash\";\nimport { transformer } from \"@devsnc/sn-declarative-actions\";\n\nconst ATTACHMENT_ELEMENT = \"now-record-common-attachments-connected\";\n\n// get default action will always return the first action as a default action if opened is true.\nconst getDefaultAction = (opened, actions = []) => {\n\tif (opened && actions[0]) return actions[0].name;\n\n\treturn \"\";\n};\n\nconst getActionByName = (actionName, actions = []) =>\n\tactions.find(action => action.name === actionName);\n\nconst getActionByComponentName = (actionComponentName, actions = []) =>\n\tactions.find(action => action.actionComponent === actionComponentName);\n\nconst getSelectedOrDefaultAction = (opened, selectedAction, actions = []) => {\n\tif (selectedAction) {\n\t\t// if selectedAction is set, check to make sure it's existing in current actions, otherwise default to selected action.\n\t\tconst action = getActionByName(selectedAction, actions);\n\t\treturn !_.isEmpty(action) ? action.name : getDefaultAction(opened, actions);\n\t}\n\n\treturn selectedAction || getDefaultAction(opened, actions);\n};\n\nexport const isAttachmentAvailable = actions =>\n\t!!getActionByComponentName(ATTACHMENT_ELEMENT, actions);\n\nexport const sidebarTransformer = (state, properties) => {\n\tif (_.isEmpty(properties)) return { ...state };\n\tconst { actions = [], formModel, opened } = properties;\n\tconst { selectedAction } = state;\n\n\tconst transformedActions = transformer(actions, formModel);\n\tconst newSelectedAction = getSelectedOrDefaultAction(\n\t\topened,\n\t\tselectedAction,\n\t\ttransformedActions\n\t);\n\tconst attachmentAction = getActionByComponentName(\n\t\tATTACHMENT_ELEMENT,\n\t\tactions\n\t);\n\n\treturn {\n\t\t...state,\n\t\ttransformedActions,\n\t\tselectedAction: newSelectedAction,\n\t\trenderedPanels: {\n\t\t\t...(state.renderedPanels || {}),\n\t\t\t...(newSelectedAction ? { [newSelectedAction]: true } : {}),\n\t\t\t...(!!attachmentAction ? { [attachmentAction.name]: true } : {}) //if there's an attachment in the side panel, we want to load it right away because we need to setup drag and drop\n\t\t}\n\t};\n};\n\nexport const toggleSelectedOrDefaultAction = (state, properties) => {\n\tconst { opened } = properties;\n\tconst { transformedActions, selectedAction: currentSelectedAction } = state;\n\n\tconst selectedAction = getSelectedOrDefaultAction(\n\t\topened,\n\t\tcurrentSelectedAction,\n\t\ttransformedActions\n\t);\n\n\treturn {\n\t\t...state,\n\t\tselectedAction\n\t};\n};\n\nexport const isAttachmentInSidebar = (formModel, actions) => {\n\t// needs to transform raw actions in case it's filtered out from client condition.\n\tconst transformedActions = transformer(actions, formModel);\n\treturn isAttachmentAvailable(transformedActions);\n};\n","import { getValue, createDataProviderDataSource } from \"@devsnc/library-form\";\nimport {\n\tDECLARATIVE_ACTIONS_QUERY_KEY,\n\tDECLARATIVE_ACTIONS_FORM_QUERY_KEY,\n\tFORM_DECLARATIVE_ACTIONS_KEY,\n\tFORM_ACTIONS_KEY,\n\tQUERY_FRAGMENT\n} from \"./query\";\nimport { CONTEXTUAL_LINK_NAMES } from \"../../../constants/contextualLinks\";\nimport _ from \"lodash\";\n\nconst DA_FORM_MODEL_SYSID = \"360935e9534723003eddddeeff7b127d\";\n\nconst FORM_ACTION_POSITION = {\n\tsideBar: \"contexual_sidebar\",\n\trelatedItem: \"related_item\"\n};\n\nconst formActionsForPosition = (formActions, position) => {\n\treturn !formActions\n\t\t? []\n\t\t: (formActions.find(formAction => formAction.position === position) || {})\n\t\t\t\t.actions || [];\n};\n\nconst createTransform = getValueOrDefault => (data, state, properties) => {\n\tconst wsConfigSysId = _.get(state, \"behaviors.wsConfigSysId\", \"\");\n\tconst { workspaceConfigId = wsConfigSysId, actionConfigId } = properties;\n\tconst { classicForm } = state;\n\tconst { table } = state.properties;\n\tconst { trueTable = table, view } = state.record || state.properties;\n\tconst { sideBar, relatedItem } = FORM_ACTION_POSITION;\n\tconst formActions = getValueOrDefault(FORM_ACTIONS_KEY, [])(data);\n\tconst relatedItems = formActionsForPosition(formActions, relatedItem).map(\n\t\taction => ({ ...action, name: action.name || action.actionComponent })\n\t);\n\tconst sidebarActions = formActionsForPosition(formActions, sideBar).map(\n\t\taction => ({ ...action, name: action.name || action.actionComponent })\n\t);\n\n\tconst configUrl = classicForm\n\t\t? `sys_declarative_action_assignment_list.do%3Fsysparm_query%3Dtable%3D${trueTable}%5EORtable%3Dglobal\n\t\t\t\t\t\t\t%5Eview.name%3D${view}%5EORview.nameISEMPTY\n\t\t\t\t\t\t\t%5Eworkspace%3D${workspaceConfigId}%5EORworkspaceISEMPTY\n\t\t\t\t\t\t\t%26sysparm_view%3Dform_action%26sysparm_fixed_query%3Dmodel%3D${DA_FORM_MODEL_SYSID}%5Eform_position%3D`\n\t\t: encodeURIComponent(`sys_ux_action_config.do?sys_id=${actionConfigId}`);\n\n\tconst configurationItems = [\n\t\t{\n\t\t\torder: CONTEXTUAL_LINK_NAMES.contextualSidePanel.order,\n\t\t\tlabel: CONTEXTUAL_LINK_NAMES.contextualSidePanel.name,\n\t\t\turl: `${configUrl}${FORM_ACTION_POSITION.sideBar}`\n\t\t},\n\t\t{\n\t\t\torder: CONTEXTUAL_LINK_NAMES.relatedItems.order,\n\t\t\tlabel: CONTEXTUAL_LINK_NAMES.relatedItems.name,\n\t\t\turl: `${configUrl}${FORM_ACTION_POSITION.relatedItem}`\n\t\t}\n\t];\n\n\treturn {\n\t\trelatedItems,\n\t\tsidebarActions,\n\t\tconfigurationItems\n\t};\n};\n\nexport const createDeclarativeFormActionDataSource = (queryPrefix = \"\") => {\n\tconst baseKey = `${queryPrefix}${DECLARATIVE_ACTIONS_QUERY_KEY}.${DECLARATIVE_ACTIONS_FORM_QUERY_KEY}.${FORM_DECLARATIVE_ACTIONS_KEY}`;\n\tconst getValueOrDefault = getValue(baseKey);\n\tconst transform = createTransform(getValueOrDefault);\n\treturn createDataProviderDataSource({\n\t\tquery: QUERY_FRAGMENT,\n\t\tvariables: [\n\t\t\t\"table\",\n\t\t\t\"view\",\n\t\t\t\"sysId\",\n\t\t\t\"query\",\n\t\t\t\"workspaceConfigId\",\n\t\t\t\"actionConfigId\"\n\t\t],\n\t\ttransform,\n\t\tprops: {\n\t\t\ttable: { default: \"\" },\n\t\t\tview: { default: \"\" },\n\t\t\tsysId: { default: \"\" },\n\t\t\tquery: { default: \"\" },\n\t\t\tworkspaceConfigId: { default: \"\" },\n\t\t\tactionConfigId: { default: \"\" }\n\t\t},\n\t\tselectableProps: {\n\t\t\trelatedItems: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tsidebarActions: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tconfigurationItems: {}\n\t\t}\n\t});\n};\n","import _ from 'lodash';\n\nexport const toAttributes = attrs => {\n\treturn Object.keys(attrs).reduce((acc, key) => {\n\t\tconst newKey = _.kebabCase(key);\n\t\tacc[newKey] = attrs[key];\n\t\treturn acc;\n\t}, {});\n};\n\nexport const getWigetTagNames = widgets => widgets.map(widget => _.get(widget, 'tag.value'));\n\nexport const getTagsNotInCache = (tagsLoaded, widgets) => {\n\tif(!Array.isArray(widgets))\n\t\treturn [];\n\tconst tagNames = getWigetTagNames(widgets);\n\tconst newTags = tagNames.filter(tag => {\n\t\treturn tagsLoaded.indexOf(tag) === -1;\n\t});\n\treturn newTags;\n};\n","export const RIBBON_ACTIONS = {\n\tOPEN_PHONE: \"OPEN_PHONE\",\n\tPREVIEW_RECORD: \"PREVIEW_RECORD\",\n\tADD_NOTIFICATIONS: \"ADD_NOTIFICATIONS\",\n\tREMOVE_NOTIFICATIONS: \"REMOVE_NOTIFICATIONS\",\n\tCLEAR_NOTIFICATIONS: \"CLEAR_NOTIFICATIONS\",\n\tITEM_SELECTED: \"ITEM_SELECTED\",\n\tEXECUTED_UI_ACTION: \"EXECUTED_UI_ACTION\",\n\tWRAPPED_ACTION: \"WRAPPED_ACTION\",\n};\n\nexport const RIBBON_OPEN_PHONE =\n\t\"SN_RECORD_RIBBON#OPEN_PHONE\";\nexport const RIBBON_PREVIEW_RECORD =\n\t\"SN_RECORD_RIBBON#PREVIEW_RECORD\";\nexport const RIBBON_ADD_NOTIFICATIONS =\n\t\"SN_RECORD_RIBBON#ADD_NOTIFICATIONS\";\nexport const RIBBON_REMOVE_NOTIFICATIONS =\n\t\"SN_RECORD_RIBBON#REMOVE_NOTIFICATIONS\";\nexport const RIBBON_CLEAR_NOTIFICATIONS =\n\t\"SN_RECORD_RIBBON#CLEAR_NOTIFICATIONS\";\nexport const RIBBON_ITEM_SELECTED =\n\t\"SN_RECORD_RIBBON#ITEM_SELECTED\";\nexport const RIBBON_EXECUTED_UI_ACTION =\n\t\"SN_RECORD_RIBBON#EXECUTED_UI_ACTION\";\nexport const RIBBON_WRAPPED_ACTION =\n\t\"SN_RECORD_RIBBON#WRAPPED_ACTION\";","export { RelatedItemElement } from \"./components/relatedItem\";\nexport { ResizeBarElement } from \"./components/resizeBar\";\nexport {\n\tdefault as TemplateElement\n} from \"./components/templates/TemplateElement\";\nexport { default as SearchbarElement } from \"./components/searchbar\";\nexport {\n\tAttachmentCard\n} from \"./components/attachmentCard/AttachmentCardElement\";\nexport { DisplayValueBlock } from \"./components/displayValueBlock\";\nexport { EmptyStateElement } from \"./components/emptyState\";\nexport * from \"./utils/domUtils\";\nexport * from \"./utils/seismicUtils\";\nexport * from \"./utils/functionalTestRenderer\";\nexport * from \"./constants/contextualLinks\";\nexport * from \"./components/header\";\nexport * from \"./components/actions\";\nexport * from \"./components/tags\";\nexport * from \"./components/sidebar\";\nexport * from \"./components/attachments\";\nexport * from \"./components/ribbon\";\n","export { default as RelatedItemElement } from \"./relatedItem\";\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport _ from \"lodash\";\n\nconst { createElement } = snabbdom;\n\nexport const view = state => {\n\tconst {\n\t\tproperties: {\n\t\t\tcomponentName,\n\t\t\tformModel,\n\t\t\tactionAttributes = {},\n\t\t\ttabContentExtras = {}\n\t\t}\n\t} = state;\n\n\tif (!componentName) return null;\n\n\tconst modelAttribute = formModel || {};\n\n\treturn createElement(componentName, {\n\t\t...formModel,\n\t\t...actionAttributes,\n\t\t...tabContentExtras,\n\t\tmodel: modelAttribute\n\t});\n};\n\nconst RELATED_ITEM = \"sn-form-internal-related-item\";\ncreateCustomElement(RELATED_ITEM, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tcomponentName: {},\n\t\tformModel: {\n\t\t\tdefault: {}\n\t\t},\n\t\tactionAttributes: {\n\t\t\tdefault: {}\n\t\t},\n\t\ttabContentExtras: {\n\t\t\tdefault: {}\n\t\t}\n\t}\n});\n\nexport default RELATED_ITEM;\n","export { default as ResizeBarElement } from \"./resizeBar\";\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./resizeBar.scss\";\n\nimport classNames from \"classnames/dedupe\";\n\nconst RESIZABLE_BAR = \"sn-form-internal-resize-bar\";\n\nconst view = ({ properties }) => {\n\tconst { active, resizing, color } = properties;\n\treturn active ? (\n\t\t<div\n\t\t\tclassName={classNames(\"column-resize-bar\", {\n\t\t\t\thidden: !active,\n\t\t\t\tresizing,\n\t\t\t\tdark: color === \"dark\"\n\t\t\t})}\n\t\t>\n\t\t\t<div className=\"column-resize-bar-handle\" />\n\t\t</div>\n\t) : null;\n};\n\ncreateCustomElement(RESIZABLE_BAR, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tactive: {\n\t\t\tdefault: true\n\t\t},\n\t\tresizing: {\n\t\t\tdefault: false\n\t\t},\n\t\tcolor: {\n\t\t\tdefault: \"light\"\n\t\t}\n\t},\n\tstyles\n});\n\nexport default RESIZABLE_BAR;\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./resizeBar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-form-internal-resize-bar){flex:0 0 .3125rem;position:relative;right:.15625rem;margin-right:-.3125rem;z-index:4}:host(sn-form-internal-resize-bar).hidden{display:none}:host(sn-form-internal-resize-bar) .column-resize-bar{cursor:col-resize;display:flex;height:100%;padding-left:.15625rem;position:relative;width:.3125rem}:host(sn-form-internal-resize-bar) .column-resize-bar:before{border-left:1px solid transparent;content:\\\"\\\";height:100%;position:relative;width:.125rem}:host(sn-form-internal-resize-bar) .column-resize-bar.dark:before,:host(sn-form-internal-resize-bar) .column-resize-bar:before{border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)))}:host(sn-form-internal-resize-bar) .column-resize-bar.resizing .column-resize-bar-handle,:host(sn-form-internal-resize-bar) .column-resize-bar:focus .column-resize-bar-handle,:host(sn-form-internal-resize-bar) .column-resize-bar:hover .column-resize-bar-handle{visibility:visible}:host(sn-form-internal-resize-bar) .column-resize-bar.resizing .column-resize-bar-handle,:host(sn-form-internal-resize-bar) .column-resize-bar:focus .column-resize-bar-handle{background:RGB(var(--now-color--neutral-4,191,197,198))}:host(sn-form-internal-resize-bar) .column-resize-bar.resizing .column-resize-bar-handle:before,:host(sn-form-internal-resize-bar) .column-resize-bar:focus .column-resize-bar-handle:before{border-color:RGB(var(--now-color--neutral-12,66,80,81))}:host(sn-form-internal-resize-bar) .column-resize-bar.hidden{display:none}:host(sn-form-internal-resize-bar) .column-resize-bar-handle{align-items:center;background:RGB(var(--now-color--background-tertiary,var(--now-color--neutral-2,228,230,231)));border-radius:.25rem;height:2.5rem;display:inline-flex;justify-content:center;margin-left:-.375rem;margin-top:-1.25rem;position:absolute;top:50%;left:50%;visibility:hidden;width:.75rem;z-index:4}:host(sn-form-internal-resize-bar) .column-resize-bar-handle:before{border-left:1px solid transparent;border-right:1px solid transparent;border-color:RGB(var(--now-color--neutral-10,80,97,99));content:\\\"\\\";height:1rem;width:.375rem}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$tectonic_seismic_testing_helpers_19_0_3;","export const TemplateGQLRead = `\nquery ($queryConditions: String, $paginationVar: Glide_PaginationInputType) {\n\tGlideRecord_Query {\n\t  __typename\n\t  sys_template(queryConditions: $queryConditions, pagination: $paginationVar) {\n\t\t_table_metadata {\n\t\t  canCreate\n\t\t}\n\t\t_rowCount\n\t\t_results {\n\t\t  _row_data {\n\t\t\tcanWrite\n\t\t\tcanDelete\n\t\t  }\n\t\t  name {\n\t\t\tvalue\n\t\t  }\n\t\t  template {\n\t\t\tvalue\n\t\t  }\n\t\t  short_description {\n\t\t\tdisplayValue\n\t\t  }\n\t\t  sys_id {\n\t\t\tvalue\n\t\t  }\n\t\t  table {\n\t\t\tvalue\n\t\t  }\n\t\t}\n\t  }\n\t}\n  }  \n`;\n\nexport const TemplateDataGQLRead =  `\nquery ($sysId: String, $targetSysId: String, $encodedRecord: String)\n{\n\tGlideLayout_Query {\n\t\ttemplateDataRetreiver (sysId: $sysId, targetSysId: $targetSysId, encodedRecord: $encodedRecord) {\n\t\t\tsysId\n\t\t\ttemplateName\n\t\t\tdata {\n\t\t        name\n\t\t        type\n\t\t        label\n\t\t        value\n\t\t        displayValue\n\t\t\t}\n\t\t\tconflicts {\n\t\t\t\tname\n\t\t\t\ttype\n\t\t\t\tlabel\n\t\t\t\tvalue\n\t\t\t\tdisplayValue\n\t\t\t}\n\t\t}\n\t}\n}\n`;\n","const TemplateGQLDestroy = `\n\tmutation ($sys_id: String!) {\n\t\tGlideRecord_Mutation {\n\t\t\tdelete_sys_template(sys_id: $sys_id) {\n\t\t\t\tmodified_count\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport { TemplateGQLDestroy };\n","import react from \"@servicenow/ui-renderer-react\";\nimport React from \"react\";\nimport { t } from \"sn-translate\";\nimport _ from \"lodash\";\nimport SearchbarElement from \"../searchbar\";\nimport { keyUtils } from \"@devsnc/library-form\";\nimport \"@servicenow/now-tabs\";\nimport \"@servicenow/now-tooltip\";\nimport {\n\tTEMPLATE_ACTIONS,\n\tTEMPLATE_MENU_ACTIONS,\n\tSET_FIELDS_MSG,\n\tMAX_GRID,\n\tBASE_GRID,\n\tTEMPLATE_LIMIT_SYS_PROP,\n\tTEMPLATE_TAB_ITEMS,\n\tMORE_ARIA_LABEL,\n\tTEMPLATE_EVENT_SOURCE\n} from \"../constants/templateConstants\";\nimport { ADD_NOTIFICATIONS, CLEAR_NOTIFICATIONS } from \"../constants/constants\";\nimport { getProperty } from \"sn-uxpage-presource\";\nimport \"@servicenow/now-dropdown\";\nimport \"@servicenow/now-modal\";\n\nimport { EmptyStateElement } from \"../emptyState\";\n\nconst hasField = (fields, name) =>\n\t_.find(\n\t\tfields,\n\t\t!!(field => field.variable_name === name || field.name === name)\n\t);\n\nexport const getPaginationObject = () => {\n\treturn { limit: getProperty(TEMPLATE_LIMIT_SYS_PROP, 100) };\n};\n\nconst createActionMenu = item => {\n\tconst canDelete = _.get(item, \"_row_data.canDelete\", false);\n\tconst canWrite = _.get(item, \"_row_data.canWrite\", false);\n\tconst sysId = _.get(item, \"sys_id.value\");\n\tif (!sysId) return [];\n\n\tlet actions = [];\n\tif (canWrite)\n\t\tactions.push({\n\t\t\t...TEMPLATE_MENU_ACTIONS.EDIT,\n\t\t\tsysId\n\t\t});\n\tif (canDelete)\n\t\tactions.push({\n\t\t\t...TEMPLATE_MENU_ACTIONS.DELETE,\n\t\t\tsysId\n\t\t});\n\n\treturn actions;\n};\n\nexport const constructQueryString = (table, searchQuery, selectedTab = \"all\") => {\n\tlet qs = \"table=\" + table + \"^active=true^show_on_template_bar=true^user=javascript:gs.getUserID()\";\n\t\n\tif (selectedTab === \"all\") {\n\t\tqs += \"^ORglobal=true\";\n\t\tqs += \"^ORrolesINjavascript:GlideTemplate.getUserRolesForCondition()\";\n\t\tqs += \"^ORgroups=javascript:getMyGroups()\";\n\t}\n\t\n\tif (searchQuery) \n\t\tqs += \"^nameLIKE\" + searchQuery.toLowerCase();\n\t\n\treturn qs + \"^ORDERBYname\";\n};\n\nclass TemplateList extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.applyTemplate = this.applyTemplate.bind(this);\n\t\tthis.getTemplateData = this.getTemplateData.bind(this);\n\t\tthis.onClickItem = this.onClickItem.bind(this);\n\t\tthis.refTemplate = this.refTemplate.bind(this);\n\t\tthis.templateRefs = {}; // a hash of {template_sys_id: nodeRef}\n\t\tthis.templates = []; // nextTemplates becomes templates at the end of componentDidUpdate()\n\t\tthis.nextTemplates = []; // every time render() is called, nextTemplates is set with a new array\n\t\tthis.state = {\n\t\t\ttemplates: [] // only used for setting this.state to triggerring render. the value is never used\n\t\t};\n\t}\n\n\tcomponentWillMount() {\n\t\tif (!this.props.properties.table) return;\n\n\t\tconst queryConditions = constructQueryString(this.props.properties.table);\n\t\tconst paginationVar = getPaginationObject();\n\n\t\tthis.props.dispatch(TEMPLATE_ACTIONS.TEMPLATE_FETCH_ACTION, {\n\t\t\tqueryConditions,\n\t\t\tpaginationVar\n\t\t});\n\t}\n\n\ttriggerRenderIfNecessary() {\n\t\t// if the templates just got rendered are a subset of the templates from the previous render,\n\t\t// no need setState to trigger re-render since the templateRefs already exist for these template DOMs\n\t\tif (!this.nextTemplates.every(t => this.templates.includes(t))) {\n\t\t\tthis.setState({\n\t\t\t\ttemplates: this.nextTemplates\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.triggerRenderIfNecessary();\n\t\tthis.templates = this.nextTemplates;\n\t}\n\n\tonClickItem(e) {\n\t\tif (e.target.tagName === \"NOW-DROPDOWN\") {\n\t\t\tthis.clearAllMessages();\n\t\t\treturn;\n\t\t}\n\t\tif (e.type === \"keypress\") {\n\t\t\tif (!keyUtils.onSpace(e) && !keyUtils.onEnter(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t}\n\t\tthis.clearAllMessages();\n\t\tconst currentTarget = e.currentTarget;\n\t\tthis.getTemplateData(currentTarget.getAttribute(\"data-sys-id\"));\n\t}\n\n\tclearAllMessages() {\n\t\tthis.props.dispatch(CLEAR_NOTIFICATIONS, {\n\t\t\tnotificationAction: {\n\t\t\t\ttype: \"clear\"\n\t\t\t}\n\t\t});\n\t}\n\n\tgetTemplateData(templateSysId) {\n\t\tif (this.templateApplied !== templateSysId) {\n\t\t\tconst { sysId: targetSysId, encodedRecord } = this.props.properties;\n\t\t\tthis.props.dispatch(TEMPLATE_ACTIONS.TEMPLATE_APPLY_ACTION, {\n\t\t\t\tsysId: templateSysId,\n\t\t\t\ttargetSysId,\n\t\t\t\tencodedRecord\n\t\t\t});\n\t\t\tthis.templateApplied = templateSysId;\n\t\t}\n\t}\n\n\ttransformUntrustedAndLongData(message) {\n\t\tif (message) message = message.replace(/<(?:.|\\n)*?>/gm, \"\");\n\t\tif (message && message.length > 254) {\n\t\t\tmessage = message.substr(0, 254) + \"...\";\n\t\t}\n\n\t\treturn message;\n\t}\n\n\tapplyTemplate(data) {\n\t\tlet appliedTemplate = false;\n\t\tlet messages = [];\n\t\tconst { fields } = this.props.properties;\n\t\tif (!fields) return;\n\n\t\tconst {\n\t\t\ttemplateName,\n\t\t\tdata: templateValue,\n\t\t\tconflicts = []\n\t\t} = data.GlideLayout_Query.templateDataRetreiver;\n\t\tlet [conflictedFields, itemsNotPresent] = _.partition(conflicts, entry =>\n\t\t\thasField(fields, entry.name)\n\t\t);\n\t\tif (templateValue) {\n\t\t\ttemplateValue.forEach(entry => {\n\t\t\t\tconst { name, label } = entry;\n\t\t\t\tif (name === \"\") {\n\t\t\t\t\tappliedTemplate = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst field = _.find(\n\t\t\t\t\tfields,\n\t\t\t\t\tfield => field.variable_name === name || field.name === name\n\t\t\t\t);\n\t\t\t\tif (field) {\n\t\t\t\t\tconst isFieldReadOnly =\n\t\t\t\t\t\tfield.sys_readonly === true || field.readonly === true;\n\t\t\t\t\tif (isFieldReadOnly) {\n\t\t\t\t\t\tconflictedFields.push(entry);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.applyTemplateToField(entry);\n\t\t\t\t\t\tappliedTemplate = true;\n\t\t\t\t\t\tconst fieldDisplayMessage = this.getDisplayMessage(entry);\n\t\t\t\t\t\tmessages.push(\n\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\"<b>{0}</b> to <b>{1}</b>\",\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tthis.transformUntrustedAndLongData(fieldDisplayMessage)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\titemsNotPresent.push(entry);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tconflictedFields.forEach(entry => {\n\t\t\tmessages.push(`${t(\"Unable to update field\")} <b>${entry.label}</b>`);\n\t\t});\n\n\t\tconst setFieldsMessage =\n\t\t\tmessages.length > 0\n\t\t\t\t? `<br><br>${SET_FIELDS_MSG}<br>${messages.join(\"<br>\")}`\n\t\t\t\t: \"\";\n\t\tconst missingItemsMessage = t(\n\t\t\t\"{0} items not present on this form\",\n\t\t\titemsNotPresent.length\n\t\t);\n\t\tconst itemsNotPresentMessage =\n\t\t\titemsNotPresent.length > 0\n\t\t\t\t? `<br><br>${missingItemsMessage}<br><b>${itemsNotPresent\n\t\t\t\t\t\t.map(entry => entry.label)\n\t\t\t\t\t\t.join(\", \")}</b>`\n\t\t\t\t: \"\";\n\t\tlet templateAppliedMessage = \"\";\n\t\tlet messageType;\n\t\tconst itemsNotUpdated = conflictedFields.length + itemsNotPresent.length;\n\t\tif (appliedTemplate) {\n\t\t\tif (itemsNotUpdated > 0) {\n\t\t\t\ttemplateAppliedMessage = t(\n\t\t\t\t\t\"{0} Template Applied with {1} conflicts\",\n\t\t\t\t\ttemplateName,\n\t\t\t\t\titemsNotUpdated\n\t\t\t\t);\n\t\t\t\tmessageType = \"warning\";\n\t\t\t} else {\n\t\t\t\ttemplateAppliedMessage = t(\"{0} Template Applied\", templateName);\n\t\t\t\tmessageType = \"info\";\n\t\t\t}\n\t\t} else {\n\t\t\ttemplateAppliedMessage = t(\"{0} Template Not Applied\", templateName);\n\t\t\tmessageType = \"error\";\n\t\t}\n\t\tconst notifyMessage = `${templateAppliedMessage}${itemsNotPresentMessage}${setFieldsMessage}`;\n\t\tthis.notify(messageType, notifyMessage);\n\t}\n\n\tgetDisplayMessage(field) {\n\t\tconst { displayValue, type, value } = field;\n\t\tlet displayVal = value ? displayValue : \"\";\n\t\tswitch (type) {\n\t\t\tcase \"field_list\":\n\t\t\t\tdisplayVal = displayVal.slice(1);\n\t\t\t\tbreak;\n\t\t\tcase \"currency\":\n\t\t\t\tdisplayVal = displayVal.replace(\";\", \" \");\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn displayVal ? displayVal : `<i>${t(\"None\")}</i>`;\n\t}\n\n\tapplyTemplateToField(field) {\n\t\tconst { name, value, displayValue, type } = field;\n\t\tconst { dispatch } = this.props;\n\t\tconst fieldDisplayValue =\n\t\t\ttype === \"glide_list\" ? displayValue.split(\",\") : displayValue;\n\t\tconst fieldValue =\n\t\t\ttype === \"glide_time\" || type === \"glide_date_time\"\n\t\t\t\t? displayValue\n\t\t\t\t: value;\n\t\tdispatch(\"GFORM_INTERNAL#APPLY_TEMPLATE_VALUE\", {\n\t\t\tfieldName: name,\n\t\t\tvalue: fieldValue,\n\t\t\tdisplayValue: fieldDisplayValue\n\t\t});\n\t}\n\n\tnotify(type, message) {\n\t\tthis.props.dispatch(ADD_NOTIFICATIONS, {\n\t\t\tnotifications: [\n\t\t\t\t{\n\t\t\t\t\ttype,\n\t\t\t\t\tmessage\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\tisDataSourceEmpty() {\n\t\treturn !this.props.templateData;\n\t}\n\n\tcomponentWillReceiveProps(props) {\n\t\tconst path =\n\t\t\t\"applyTemplate.data.GlideLayout_Query.templateDataRetreiver.sysId\";\n\t\tif (props.applyTemplate) {\n\t\t\tlet templateSysId = _.get(props, path);\n\t\t\tif (templateSysId && templateSysId === this.templateApplied) {\n\t\t\t\tthis.applyTemplate(props.applyTemplate.data);\n\t\t\t\tthis.templateApplied = null;\n\t\t\t}\n\t\t}\n\t}\n\n\taddSearchFilter(canCreate) {\n\t\tconst { searchFilter, selectedTab } = this.props;\n\t\tconst value = _.get(searchFilter, selectedTab, null);\n\t\treturn (\n\t\t\t<div className=\"sn-panel-header-search\">\n\t\t\t\t<div className=\"sn-panel-header-content\">\n\t\t\t\t\t<SearchbarElement\n\t\t\t\t\t\tplaceholder={t(\"Filter Templates\")}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tcaseSensitive={true}\n\t\t\t\t\t/>\n\t\t\t\t\t{canCreate && (\n\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\ticon=\"plus-fill\"\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tconfigAria={{ \"aria-label\": t(\"Create template\") }}\n\t\t\t\t\t\t\ttooltip-content={t(\"Create template\")}\n\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\teventSource: TEMPLATE_EVENT_SOURCE.NEW_TEMPLATE_ICON\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderOldEmptyState() {\n\t\tconst isWorkspace = this.props.classicForm ? \" -workspace\" : \"\";\n\t\treturn (\n\t\t\t<div className={`sn-empty-state${isWorkspace}`}>\n\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t<div className=\"sn-empty-state-img -no-template -old\" />\n\t\t\t\t</div>\n\t\t\t\t<h3 className=\"sn-empty-state-row -header\">\n\t\t\t\t\t{t(\"No templates are available\")}\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t{t(\"There are no available templates for this record type.\")}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderEmptyState(canCreate) {\n\t\tconst isWorkspace = this.props.classicForm ? \" -workspace\" : \"\";\n\t\treturn (\n\t\t\t<div className={`sn-empty-state${isWorkspace}`}>\n\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t<div className=\"sn-empty-state-img -no-template\" />\n\t\t\t\t</div>\n\t\t\t\t<h3 className=\"sn-empty-state-row -header\">\n\t\t\t\t\t{t(\"No Templates Available\")}\n\t\t\t\t</h3>\n\t\t\t\t{canCreate && (\n\t\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\tlabel={t(\"Create\")}\n\t\t\t\t\t\t\tconfigAria={{ \"aria-label\": t(\"Create template\") }}\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\teventSource: TEMPLATE_EVENT_SOURCE.NEW_TEMPLATE_BUTTON\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderNoMatchFound() {\n\t\tconst isWorkspace = this.props.classicForm ? \" -workspace\" : \"\";\n\t\treturn (\n\t\t\t<div className={`sn-empty-state${isWorkspace}`}>\n\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t<div className=\"sn-empty-state-img -no-match\" />\n\t\t\t\t</div>\n\t\t\t\t<h3 className=\"sn-empty-state-row -header\">{t(\"No Match Found\")}</h3>\n\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t{t(\"We couldn't find what you were looking for.\")}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trefTemplate(node) {\n\t\tif (!node) return;\n\t\tconst sysId = node.parentNode.getAttribute(\"data-sys-id\");\n\t\tthis.templateRefs[sysId] = node;\n\t}\n\n\tgetAriaAttributes(item) {\n\t\treturn {\n\t\t\tconfigAria: {\n\t\t\t\t\"aria-label\": `${MORE_ARIA_LABEL} ${item.name.value}`,\n\t\t\t\t\"aria-haspopup\": \"listbox\"\n\t\t\t}\n\t\t};\n\t}\n\n\trenderMenu = item => {\n\t\tconst componentIdPrefix = this.props.componentId;\n\t\tconst sysId = _.get(item, \"sys_id.value\");\n\t\tif (!sysId) return null;\n\n\t\tconst actions = createActionMenu(item);\n\t\tif (!actions.length) return null;\n\t\tconst componentId = `${componentIdPrefix}_menu_${sysId}`;\n\n\t\treturn (\n\t\t\t<div className=\"sn-card-content -dropdown\">\n\t\t\t\t<now-dropdown\n\t\t\t\t\tbare\n\t\t\t\t\thide-caret\n\t\t\t\t\ticon=\"ellipsis-v-outline\"\n\t\t\t\t\titems={actions}\n\t\t\t\t\tselect=\"none\"\n\t\t\t\t\tmanage-selecteditems\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\ttooltip-content={t('Menu for {0}', item.name.value)}\n\t\t\t\t\t{...this.getAriaAttributes(item)}\n\t\t\t\t\tcomponent-name={componentId}\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\ttemplate: item,\n\t\t\t\t\t\teventSource: TEMPLATE_EVENT_SOURCE.TEMPLATE_MENU_ITEM\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderTemplateItem(item) {\n\t\tconst tooltipId = `tooltip-${item.name.value}`;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={item.sys_id.value}\n\t\t\t\trole=\"button\"\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\tclassName=\"sn-card hover-click\"\n\t\t\t\tdata-sys-id={item.sys_id.value}\n\t\t\t\tonClick={this.onClickItem}\n\t\t\t\tonKeyPress={this.onClickItem}\n\t\t\t>\n\t\t\t\t<div className=\"sn-card-content\" ref={this.refTemplate}>\n\t\t\t\t\t<span className=\"sn-card-content-title\">\n\t\t\t\t\t\t<strong>{item.name.value}</strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>{item.short_description.displayValue}</span>\n\t\t\t\t\t<now-tooltip\n\t\t\t\t\t\tid={tooltipId}\n\t\t\t\t\t\ttarget-ref={this.templateRefs[item.sys_id.value]}\n\t\t\t\t\t\tcontent={item.name.value}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{this.renderMenu(item)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderDeleteModal = (displayDeleteModal) => {\n\t\tconst tabData = _.get(this.props, \"templateData\");\n\n\t\tif (!tabData[this.props.selectedTab]) return null;\n\n\t\tconst templateGQLData = _.get(\n\t\t\ttabData[this.props.selectedTab],\n\t\t\t\"data.GlideRecord_Query.sys_template._results\"\n\t\t);\n\t\tif (!templateGQLData) return null;\n\n\t\tconst deletingTemplate = _.get(this.props, \"deletingTemplate\", false);\n\t\tif (!deletingTemplate) return null;\n\n\t\tconst name = _.get(deletingTemplate, \"name.value\", \"\");\n\t\tconst modalProps = {\n\t\t\theaderLabel: t(\"Delete\"),\n\t\t\tcontent: t(\n\t\t\t\t\"Are you sure you want to delete this template {0}?  Changes cannot be undone.\",\n\t\t\t\tname ? `(${name})` : \"\"\n\t\t\t),\n\t\t\tfooterActions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: t(\"Cancel\"),\n\t\t\t\t\tclickActionType: TEMPLATE_ACTIONS.DELETE_CANCELED_ACTION\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: t(\"Delete\"),\n\t\t\t\t\tvariant: \"primary-negative\",\n\t\t\t\t\tclickActionType: TEMPLATE_ACTIONS.DELETE_CONFIRMED_ACTION\n\t\t\t\t}\n\t\t\t],\n\t\t\tappendToPayload: {\n\t\t\t\teventSource: TEMPLATE_EVENT_SOURCE.REMOVE_TEMPLATE_MODAL,\n\t\t\t\ttemplate: deletingTemplate\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<now-modal\n\t\t\t\topened={displayDeleteModal}\n\t\t\t\tmanage-opened\n\t\t\t\t{...modalProps}\n\t\t\t\tsize=\"md\"\n\t\t\t/>\n\t\t);\n\t};\n\n\trender() {\n\t\tif (this.isDataSourceEmpty()) return null;\n\n\t\tconst {\n\t\t\tproperties: { table, sysId, classicForm }\n\t\t} = this.props;\n\n\t\t/** Add this part for UIB and workspace versions specifically */\n\t\tconst isWorkspace = classicForm ? \" -workspace\" : \"\";\n\n\t\tif (!classicForm && (!table || !sysId)) {\n\t\t\treturn <EmptyStateElement message={t(\"No data to display\")} />;\n\t\t}\n\n\t\tconst templateGQLData = this.props.templateData[this.props.selectedTab]\n\t\t\t? this.props.templateData[this.props.selectedTab].data.GlideRecord_Query\n\t\t\t\t\t.sys_template._results\n\t\t\t: [];\n\n\t\tconst canCreate = _.get(\n\t\t\tthis.props,\n\t\t\t`templateData[${\n\t\t\t\tthis.props.selectedTab\n\t\t\t}].data.GlideRecord_Query.sys_template._table_metadata.canCreate`,\n\t\t\tfalse\n\t\t);\n\t\tconst { searchFilter, selectedTab } = this.props;\n\t\tconst filter =\n\t\t\tsearchFilter[selectedTab] || templateGQLData.length > 0\n\t\t\t\t? this.addSearchFilter(canCreate)\n\t\t\t\t: null;\n\t\tlet templateList = null;\n\t\tif (templateGQLData.length == 0) {\n\t\t\ttemplateList = searchFilter[selectedTab]\n\t\t\t\t? this.renderNoMatchFound()\n\t\t\t\t: this.renderEmptyState(canCreate);\n\t\t} else {\n\t\t\tconst fillGrid = () => {\n\t\t\t\tconst totalItems = templateGQLData.length;\n\t\t\t\tconst idealGridSize = Math.ceil(totalItems / BASE_GRID) * BASE_GRID;\n\t\t\t\tconst gridToFill = (idealGridSize % totalItems) + MAX_GRID;\n\t\t\t\treturn _.range(gridToFill).map(() => (\n\t\t\t\t\t<div className=\"sn-card-filler\" />\n\t\t\t\t));\n\t\t\t};\n\n\t\t\ttemplateList = (\n\t\t\t\t<div className={`sn-card-list${isWorkspace}`}>\n\t\t\t\t\t{templateGQLData.map(i => this.renderTemplateItem(i))}\n\t\t\t\t\t{fillGrid()}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tthis.nextTemplates = templateGQLData.map(i => i.sys_id.value);\n\n\t\tconst displayDeleteModal = _.get(this.props, \"displayDeleteModal\", false);\n\n\t\treturn (\n\t\t\t<div className={`sn-panel${isWorkspace}`}>\n\t\t\t\t<div className={`sn-panel-header${isWorkspace}`} \n\t\t\t\t{...(displayDeleteModal && { ariaHidden: displayDeleteModal })} >\n\t\t\t\t\t<h2 className=\"sn-panel-header-title\">{t(\"Templates\")}</h2>\n\t\t\t\t\t<now-tabs items={TEMPLATE_TAB_ITEMS} selectedTab={selectedTab} />\n\t\t\t\t\t{filter}\n\t\t\t\t</div>\n\t\t\t\t<div className={`sn-panel-body${isWorkspace}`}>{templateList}</div>\n\t\t\t\t{displayDeleteModal ? this.renderDeleteModal(displayDeleteModal) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default TemplateList;\n","module.exports = __TECTONIC__lodash_4_17_15[\"camelCase\"];","module.exports = __TECTONIC__lodash_4_17_15[\"isEmpty\"];","module.exports = __TECTONIC__lodash_4_17_15[\"isString\"];","module.exports = __TECTONIC__lodash_4_17_15[\"reduce\"];","module.exports = __TECTONIC__lodash_4_17_15[\"startsWith\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar ATTRIBUTES = exports.ATTRIBUTES = ['component-id', 'listen-to', 'path', 'context', 'context-modifier', 'key', 'dangerouslySetInnerHTML', 'suppressContentEditableWarning', 'suppressHydrationWarning', 'alt', 'async', 'autocomplete', 'autofocus', 'autoplay', 'capture', 'checked', 'default', 'defer', 'disabled', 'draggable', 'dropzone', 'hidden', 'href', 'hreflang', 'http-equiv', 'icon', 'id', 'is', 'maxlength', 'minlength', 'media', 'method', 'multiple', 'name', 'placeholder', 'readonly', 'rel', 'required', 'reversed', 'role', 'rows', 'rowspan', 'selected', 'slot', 'src', 'tabindex', 'target', 'title', 'type', 'value'];\n\nvar MAPPED_TO_PROPS = exports.MAPPED_TO_PROPS = ['value'];","import { createCustomElement } from \"@servicenow/ui-core\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport Searchbar from \"./Searchbar\";\nimport style from \"./Searchbar.scss\";\nimport { SEARCH_INPUT_ENTERED } from \"../constants/searchbarConstants.js\";\n\nconst COMPONENT_NAME = \"sn-form-internal-searchbar\";\n\n/**\n * Searchbar component used to search for content within form components.\n * The component dispatches an event SEARCH_INPUT#ENTERED\n * which can be used to update the content of a component based on the input received.\n *\n * ```jsx\n * <sn-form-internal-searchbar\n *\t\tplaceholder={...}\n *\t\tcaseSensitive={...}\n * />\n * ```\n *\n * @seismicElement sn-form-internal-searchbar\n * @summary Searchbar component (For internal use only)\n *\n */\ncreateCustomElement(COMPONENT_NAME, {\n\trenderer: {\n\t\ttype: react,\n\t\tview: Searchbar\n\t},\n\n\tproperties: {\n\t\t/**\n\t\t * Flag to indicate whether the search result should be case sensitive\n\t\t * @type {boolean}\n\t\t */\n\t\tcaseSensitive: {},\n\t\t/**\n\t\t * Placeholder text displayed in the search field\n\t\t * @type {string}\n\t\t */\n\t\tplaceholder: {},\n\n\t\t/**\n\t\t * The initial value for the search input\n\t\t * @type {string}\n\t\t */\n\t\tvalue: {\n\t\t\tdefault: \"\"\n\t\t}\n\t},\n\n\tdispatches: {\n\t\t/**\n\t\t * Action dispatched when the searchbar receives an input\n\t\t * Components can use this action to update the content based on the input received\n\t\t * @type {{ filter: string }}\n\t\t */\n\t\t[SEARCH_INPUT_ENTERED]: {}\n\t},\n\n\tstyles: style\n});\n\nexport default COMPONENT_NAME;\n","import react from \"@servicenow/ui-renderer-react\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { t } from \"sn-translate\";\nimport _ from \"lodash\";\nimport \"@servicenow/now-button\";\nimport { SEARCH_INPUT_ENTERED } from \"../constants/searchbarConstants.js\";\n\nconst HIDDEN_STYLE = { display: \"none\" };\n\nclass Searchbar extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.search = _.debounce(this.search, 500);\n\t}\n\n\tcomponentWillReceiveProps(props) {\n\t\tif (\n\t\t\tprops.properties.caseSensitive ||\n\t\t\tprops.properties.value !== this.searchInput.value.toLowerCase()\n\t\t)\n\t\t\tthis.searchInput.value = props.properties.value;\n\t}\n\n\tsearch = () => {\n\t\tif (!this.searchInput) {\n\t\t\tconsole.warn(\"Something was wrong. No reference to input field.\");\n\t\t\treturn;\n\t\t}\n\t\tconst { caseSensitive } = this.props.properties;\n\t\tconst filter = caseSensitive\n\t\t\t? this.searchInput.value\n\t\t\t: this.searchInput.value.toLowerCase();\n\t\tthis.closeBox.style.display = filter ? \"flex\" : \"none\";\n\t\tthis.executeSearch(filter);\n\t};\n\n\tclearSearch = () => {\n\t\tif (!this.searchInput) {\n\t\t\tconsole.warn(\"Something was wrong. No reference to input field.\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchInput.value = \"\";\n\t\tthis.search();\n\t};\n\n\texecuteSearch(filter = \"\") {\n\t\tthis.props.dispatch(SEARCH_INPUT_ENTERED, { filter });\n\t}\n\n\tinputRef = node => {\n\t\tthis.searchInput = node;\n\t\tif (this.searchInput) this.searchInput.value = this.props.properties.value;\n\t};\n\n\tcloseBoxRef = node => {\n\t\tthis.closeBox = node;\n\t\tif (this.closeBox)\n\t\t\tthis.closeBox.style.display = this.props.properties.value\n\t\t\t\t? \"flex\"\n\t\t\t\t: \"none\";\n\t};\n\n\twrapperRef = node => {\n\t\tthis.wrapperEl = node;\n\t};\n\n\tonFocus = () => {\n\t\tthis.wrapperEl.classList.add(\"is-focus\");\n\t};\n\n\tonBlur = () => {\n\t\tthis.wrapperEl.classList.remove(\"is-focus\");\n\t};\n\n\trender() {\n\t\tconst { placeholder } = this.props.properties;\n\n\t\treturn (\n\t\t\t<div className=\"sn-control\" ref={this.wrapperRef}>\n\t\t\t\t<div className=\"sn-control-field\">\n\t\t\t\t\t<div className=\"sn-control-icon\">\n\t\t\t\t\t\t<now-icon icon=\"magnifyingGlassOutline\" size=\"md\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"sn-input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\taria-label={placeholder}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tonChange={this.search}\n\t\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\t\tref={this.inputRef}\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"sn-control-controls\"\n\t\t\t\t\t\tstyle={HIDDEN_STYLE}\n\t\t\t\t\t\tref={this.closeBoxRef}\n\t\t\t\t\t>\n\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\ticon-name=\"closeOutline\"\n\t\t\t\t\t\t\ticon-set=\"solid\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\tonclick={this.clearSearch}\n\t\t\t\t\t\t\ttooltip-content={t(\"Clear Search\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSearchbar.propTypes = {\n\tplaceholder: PropTypes.string,\n\tsearch: PropTypes.func,\n\tcaseSensitive: PropTypes.bool\n};\n\nSearchbar.defaultProps = {\n\tcaseSensitive: false\n};\n\nexport default Searchbar;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./Searchbar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-form-internal-searchbar){display:block;max-width:48rem}.sn-control{border:0;display:flex;flex-direction:column;padding:0;position:relative;width:100%}.sn-control-controls,.sn-control-icon{align-items:center;display:flex;flex:0 0 auto;justify-content:center}.sn-control-controls>now-button,.sn-control-icon>now-button{margin-inline-end:.25rem}.sn-control-icon{margin:0 .25rem}.sn-control-field{display:flex;font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));position:relative}.sn-control-field:after{background:RGB(var(--now-color--neutral-5,172,180,181));bottom:0;content:\\\"\\\";height:1px;left:0;position:absolute;right:0}.sn-control-field.is-hover,.sn-control-field:hover{background-color:RGB(var(--now-color--background-tertiary,var(--now-color--neutral-2,228,230,231)))}.sn-control-field.is-hover:after,.sn-control-field:hover:after{height:2px}.sn-control.is-focus .sn-control-field,.sn-control:focus .sn-control-field{background-color:RGB(var(--now-color--primary-0,221,237,233))}.sn-control.is-focus .sn-control-field:after,.sn-control:focus .sn-control-field:after{background:RGB(var(--now-color--primary-1,30,133,109));height:2px}.sn-control.is-disabled .sn-control-field,.sn-control.is-readonly .sn-control-field{opacity:.5}.sn-control.is-disabled .sn-control-field.is-hover,.sn-control.is-disabled .sn-control-field:hover,.sn-control.is-focus .sn-control.is-disabled .sn-control-field,.sn-control.is-focus .sn-control.is-readonly .sn-control-field,.sn-control.is-readonly .sn-control-field.is-hover,.sn-control.is-readonly .sn-control-field:hover,.sn-control:focus .sn-control.is-disabled .sn-control-field,.sn-control:focus .sn-control.is-readonly .sn-control-field{background:transparent}.sn-control.is-disabled .sn-control-field.is-hover:after,.sn-control.is-disabled .sn-control-field:hover:after,.sn-control.is-focus .sn-control.is-disabled .sn-control-field:after,.sn-control.is-focus .sn-control.is-readonly .sn-control-field:after,.sn-control.is-readonly .sn-control-field.is-hover:after,.sn-control.is-readonly .sn-control-field:hover:after,.sn-control:focus .sn-control.is-disabled .sn-control-field:after,.sn-control:focus .sn-control.is-readonly .sn-control-field:after{height:1px}.sn-input{background:transparent;border:0;color:inherit;cursor:text;display:inline-flex;flex:1 1 auto;font-size:inherit;font-family:inherit;height:2rem;margin:0;min-width:1px;padding:0 .25rem;position:relative;width:100%}.sn-input:focus{outline:none}.sn-input::-ms-clear{display:none}.sn-input:-moz-ui-invalid{box-shadow:none}.is-disabled .sn-input,.sn-input.is-disabled{cursor:not-allowed}.sn-input::placeholder{color:RGBA(var(--now-color--neutral-18,22,27,28),.5)}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$servicenow_now_tabs;","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom, {\n\tcreateElementFromNode,\n\tFragment\n} from \"@servicenow/ui-renderer-snabbdom\";\nimport { t } from \"sn-translate\";\nimport styles from \"./emptyState.scss\";\n\nconst renderIcon = iconString => {\n\treturn createElementFromNode(\n\t\tdocument.createRange().createContextualFragment(iconString).children[0]\n\t);\n};\n\nconst icon = renderIcon(`<svg\nwidth=\"141px\"\nheight=\"114px\"\nviewBox=\"0 0 141 114\"\nxmlns=\"http://www.w3.org/2000/svg\">\n<title>sn-error-state</title>\n<defs>\n\t<rect\n\t\tid=\"path-1\"\n\t\tx=\"0.986294949\"\n\t\ty=\"0\"\n\t\twidth=\"88.7665454\"\n\t\theight=\"59.9667329\"\n\t\trx=\"2\"\n\t/>\n\t<rect id=\"path-2\" x=\"10\" y=\"12\" width=\"70\" height=\"4\" />\n</defs>\n<g\n\tid=\"Empty-States\"\n\tstroke=\"none\"\n\tstrokeWidth=\"1\"\n\tfill=\"none\"\n\tfillRule=\"evenodd\">\n\t<g\n\t\tid=\"V4-Empty-States-(SVGs-Export)\"\n\t\ttransform=\"translate(-1445.000000, -1172.000000)\">\n\t\t<g\n\t\t\tid=\"sn-es-no-templates-available\"\n\t\t\ttransform=\"translate(1445.000000, 1172.000000)\">\n\t\t\t<g id=\"Group-33\" transform=\"translate(23.000000, 38.000000)\">\n\t\t\t\t<g id=\"Group\">\n\t\t\t\t\t<g id=\"Rectangle-2\">\n\t\t\t\t\t\t<use fill=\"#FFFFFF\" fillRule=\"evenodd\" />\n\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\tstroke=\"#36424D\"\n\t\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\t\tx=\"2.98629495\"\n\t\t\t\t\t\t\ty=\"2\"\n\t\t\t\t\t\t\twidth=\"84.7665454\"\n\t\t\t\t\t\t\theight=\"55.9667329\"\n\t\t\t\t\t\t\trx=\"2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</g>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M50.4707824,22.9355469 L50.4707824,47.7790151 L78.0322208,47.7790151 L78.0322208,22.9355469 L50.4707824,22.9355469 Z\"\n\t\t\t\t\t\tid=\"Rectangle-3\"\n\t\t\t\t\t\tstroke=\"#36424D\"\n\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t/>\n\t\t\t\t\t<rect\n\t\t\t\t\t\tid=\"Rectangle-3\"\n\t\t\t\t\t\tstroke=\"#36424D\"\n\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\tx=\"12.0818332\"\n\t\t\t\t\t\ty=\"22.9355469\"\n\t\t\t\t\t\twidth=\"27.5614384\"\n\t\t\t\t\t\theight=\"24.8434682\"\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t\t<g id=\"Rectangle-3\">\n\t\t\t\t\t<use fill=\"#36424D\" fillRule=\"evenodd\" />\n\t\t\t\t\t<rect\n\t\t\t\t\t\tstroke=\"#36424D\"\n\t\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t\t\tx=\"12\"\n\t\t\t\t\t\ty=\"14\"\n\t\t\t\t\t\twidth=\"66\"\n\t\t\t\t\t\theight=\"1\"\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t\t<g id=\"Group-9\" transform=\"translate(75.000000, 45.000000)\">\n\t\t\t\t\t<g id=\"Group-6\" transform=\"translate(0.000000, 0.000000)\">\n\t\t\t\t\t\t<g id=\"Group-3\">\n\t\t\t\t\t\t\t<g id=\"Group\">\n\t\t\t\t\t\t\t\t<g id=\"Group-13\">\n\t\t\t\t\t\t\t\t\t<g id=\"Group-14\" />\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<ellipse\n\t\t\t\t\t\t\tid=\"Oval\"\n\t\t\t\t\t\t\tfill=\"#FF924E\"\n\t\t\t\t\t\t\tcx=\"15.2257343\"\n\t\t\t\t\t\t\tcy=\"15.2595692\"\n\t\t\t\t\t\t\trx=\"15.2257343\"\n\t\t\t\t\t\t\try=\"15.2595692\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</g>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M22.1149231,16.7805997 C22.1149231,16.9759119 22.046564,17.1419268 21.9098455,17.2786454 C21.7731269,17.415364 21.6071119,17.483723 21.4117998,17.483723 L17.3688407,17.483723 L17.3688407,21.5266821 C17.3688407,21.7219943 17.3004816,21.8880092 17.163763,22.0247278 C17.0270444,22.1614464 16.8610295,22.2298055 16.6657173,22.2298055 L14.4391601,22.2298055 C14.243848,22.2298055 14.077833,22.1614464 13.9411145,22.0247278 C13.8043959,21.8880092 13.7360368,21.7219943 13.7360368,21.5266821 L13.7360368,17.483723 L9.69307771,17.483723 C9.49776552,17.483723 9.33175059,17.415364 9.19503202,17.2786454 C9.05831344,17.1419268 8.98995438,16.9759119 8.98995438,16.7805997 L8.98995438,14.5540425 C8.98995438,14.3587303 9.05831344,14.1927154 9.19503202,14.0559968 C9.33175059,13.9192782 9.49776552,13.8509192 9.69307771,13.8509192 L13.7360368,13.8509192 L13.7360368,9.80796007 C13.7360368,9.61264789 13.8043959,9.44663296 13.9411145,9.30991439 C14.077833,9.17319581 14.243848,9.10483675 14.4391601,9.10483675 L16.6657173,9.10483675 C16.8610295,9.10483675 17.0270444,9.17319581 17.163763,9.30991439 C17.3004816,9.44663296 17.3688407,9.61264789 17.3688407,9.80796007 L17.3688407,13.8509192 L21.4117998,13.8509192 C21.6071119,13.8509192 21.7731269,13.9192782 21.9098455,14.0559968 C22.046564,14.1927154 22.1149231,14.3587303 22.1149231,14.5540425 L22.1149231,16.7805997 Z\"\n\t\t\t\t\t\tfill=\"#FFFFFF\"\n\t\t\t\t\t\ttransform=\"translate(15.552439, 15.667321) rotate(45.000000) translate(-15.552439, -15.667321) \"\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t\t<g id=\"Group-2\">\n\t\t\t\t<circle\n\t\t\t\t\tid=\"Oval-5\"\n\t\t\t\t\tfill=\"#81B5A1\"\n\t\t\t\t\tcx=\"4.5\"\n\t\t\t\t\tcy=\"26.5\"\n\t\t\t\t\tr=\"4.5\"\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tid=\"Oval-5-Copy\"\n\t\t\t\t\tfill=\"#81B5A1\"\n\t\t\t\t\tcx=\"112.5\"\n\t\t\t\t\tcy=\"17.5\"\n\t\t\t\t\tr=\"4.5\"\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tid=\"Oval-5-Copy-3\"\n\t\t\t\t\tfill=\"#BFD9CF\"\n\t\t\t\t\tcx=\"138.5\"\n\t\t\t\t\tcy=\"44.5\"\n\t\t\t\t\tr=\"2.5\"\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tid=\"Oval-5-Copy-2\"\n\t\t\t\t\tfill=\"#BFD9CF\"\n\t\t\t\t\tcx=\"65.5\"\n\t\t\t\t\tcy=\"2.5\"\n\t\t\t\t\tr=\"2.5\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</g>\n</svg>`);\n\nexport const view = state => {\n\tconst {\n\t\tproperties: { message, detail }\n\t} = state;\n\n\treturn (\n\t\t<div className=\"sn-error-state\">\n\t\t\t<div className=\"sn-error-state-row\">{icon}</div>\n\t\t\t<div className=\"sn-error-state-row -header\">\n\t\t\t\t{message ? <p>{message}</p> : <Fragment />}\n\t\t\t</div>\n\t\t\t<div className=\"sn-error-state-row\">\n\t\t\t\t{detail ? <p>{detail}</p> : <Fragment />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst EMPTY_STATE_COMPONENT = \"sn-internal-form-empty-state\";\n\ncreateCustomElement(EMPTY_STATE_COMPONENT, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tmessage: {},\n\t\tdetail: {}\n\t},\n\tstyles\n});\n\nexport default EMPTY_STATE_COMPONENT;\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./emptyState.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-record-list-state-error){display:flex;align-content:center;justify-content:center;height:100%}.sn-error-state{align-items:center;display:flex;flex-direction:column;justify-content:center;margin-bottom:1rem;width:100%;flex:0;min-width:350px}.sn-error-state p{margin:0}.sn-error-state-row{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));display:flex;font-size:1rem;justify-content:center;margin-top:.75rem;text-align:center;width:100%}.sn-error-state-row:first-child{margin-top:0}.sn-error-state-row:empty{display:none}.sn-error-state-row.-header{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1.25rem;font-weight:400;margin-bottom:0;padding:0}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./Template.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","var escape = require(\"../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(now-record-common-templates-connected){display:block}.sn-panel{background:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));display:flex;flex:1 1 auto;flex-direction:column;height:100%;min-width:20rem;overflow-x:hidden;position:relative;width:100%;background:transparent;height:auto;width:auto;min-width:auto;overflow-x:auto;overflow-y:auto}.sn-panel-header{display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem 1.5rem 0}.sn-panel-header-title{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));margin:0 0 1rem;font-size:1.5rem;font-weight:400}.sn-panel-header-filter,.sn-panel-header-search{display:flex;max-width:48rem;width:100%}.sn-panel-header-content{flex:1 1 auto;margin-bottom:1rem;margin-inline-end:1rem}.sn-panel-header-content:last-of-type{flex:0 0 auto;margin-inline-end:0}.sn-panel-header-content:only-of-type{flex:1 1 auto;margin-inline-end:0}.sn-panel-body{flex:1 1 auto;overflow-x:hidden;overflow-y:auto;padding:0;position:relative}.sn-panel.-workspace{background:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));min-width:20rem;overflow-x:hidden;overflow-y:auto;width:100%;height:100%}.sn-panel.-workspace now-tabs{margin-left:-1.5rem;margin-right:-1.5rem}.sn-panel now-tabs{margin-bottom:1rem}.sn-panel-header{padding:initial}.sn-panel-header.-workspace{padding:1.5rem 1.5rem 0}.sn-empty-state{align-items:center;display:flex;flex-direction:column;justify-content:center;margin-bottom:1rem;margin-top:7.5rem;position:relative;margin-bottom:0;margin-top:0}.sn-empty-state-row{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));display:flex;font-size:1rem;justify-content:center;margin-top:.75rem;max-width:20rem;text-align:center;padding:0 1rem;width:100%}.sn-empty-state-row:first-child{margin-top:0}.sn-empty-state-row.-header{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1.25rem;font-weight:400;margin-bottom:0;padding:0}.sn-empty-state-img{background-repeat:no-repeat}.sn-empty-state-img.-no-match{background-image:url(\" + escape(require(\"../utils/sn-es-no-match.svg\")) + \");height:4.4375rem;width:8.8125rem}.sn-empty-state.-workspace{margin-bottom:1rem;margin-top:7.5rem}.sn-empty-state .-no-template{background-image:url(\" + escape(require(\"./sn-es-create-template.svg\")) + \");height:7.125rem;width:8.8125rem}.sn-empty-state .-no-template.-old{background-image:url(\" + escape(require(\"./sn-es-no-template.svg\")) + \")}.sn-card-list{display:flex;flex-wrap:wrap;flex:1 1 auto;list-style:none;margin:0;padding:0 1rem 1.5rem 1.5rem;position:relative;width:100%;margin:initial;padding:initial;width:auto}.sn-card-list .sn-card,.sn-card-list .sn-card-filler,.sn-card-list now-record-common-attachment-card{display:block;flex:1 0 16rem;min-width:16rem;max-width:100%;margin-inline-end:.5rem;position:relative;width:100%}.sn-card-list .sn-card-filler:before,.sn-card-list .sn-card:before,.sn-card-list now-record-common-attachment-card:before{content:\\\"\\\";height:0;visibility:hidden;width:760px}.sn-card-list .sn-card{margin-bottom:.5rem}.sn-card-list .sn-card-filler{height:1px;margin-top:-1px;overflow:hidden;pointer-events:none}.sn-card-list.-workspace{margin:0;padding:0 1rem 1.5rem 1.5rem;width:100%}.sn-card-list .sn-card{display:inline-flex}.sn-card-list .sn-card:before{width:auto}.sn-card{background:RGBA(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));border-radius:.125rem;border:1px solid transparent;border-color:RGB(var(--now-color--border-tertiary,var(--now-color--neutral-3,209,214,214)));cursor:pointer;display:inline-flex;flex:0 0 auto;padding:1rem;position:relative;text-decoration:none;width:100%}.sn-card.is-hover,.sn-card:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-card.is-focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-card-container{display:flex}.sn-card-content{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-inline-end:.5rem}.sn-card-content:last-of-type{padding-inline-end:0}.sn-card-content.-visible{overflow:visible}.sn-card-content.-static{flex:0 0 auto;overflow:visible}.sn-card-content.-static>now-icon,.sn-card-content.-static>sn-file-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-card-content-title,.sn-card-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-card-content-title{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1rem;margin-bottom:.5rem;font-weight:600}.sn-card-content-title strong{font-weight:inherit}.sn-card::-moz-focus-inner{border-style:none}.sn-card:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-card-content.-dropdown{flex:0 0 auto;justify-content:flex-start}.sn-panel-header-content{display:flex}.sn-panel-header-content sn-form-internal-searchbar{margin-inline-end:.5rem;flex-grow:1}\", \"\"]);\n\n// exports\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDEgMTE0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNDEgMTE0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0ZGRkZGRjt9Cgkuc3Qxe2ZpbGw6bm9uZTtzdHJva2U6IzI5M0U0MDtzdHJva2Utd2lkdGg6NDt9Cgkuc3Qye2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzM2NDI0RDt9Cgkuc3Qze2ZpbGw6bm9uZTtzdHJva2U6IzM2NDI0RDtzdHJva2Utd2lkdGg6NDt9Cgkuc3Q0e2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzgxQjVBMTt9Cgkuc3Q1e2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzI5M0U0MDt9Cgkuc3Q2e29wYWNpdHk6MC4zO2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzI5M0U0MDt9Cgkuc3Q3e29wYWNpdHk6MC40O2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzI5M0U0MDt9Cjwvc3R5bGU+Cjx0aXRsZT5zbi1lcy1jcmVhdGUtbmV3LXRlbXBsYXRlPC90aXRsZT4KPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CjxnIGlkPSJFbXB0eS1TdGF0ZXMiPgoJPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk5NS4wMDAwMDAsIC0xMTcyLjAwMDAwMCkiPgoJCTxnIGlkPSJzbi1lcy1jcmVhdGUtbmV3LXRlbXBsYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5OTUuMDAwMDAwLCAxMTcyLjAwMDAwMCkiPgoJCQk8ZyBpZD0iR3JvdXAtMzMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzLjAwMDAwMCwgMzguMDAwMDAwKSI+CgkJCQk8ZyBpZD0iR3JvdXAiPgoJCQkJCTxnIGlkPSJSZWN0YW5nbGUtMiI+CgkJCQkJCTxnPgoJCQkJCQkJPHBhdGggaWQ9InBhdGgtMSIgY2xhc3M9InN0MCIgZD0iTTMsMGg4NC44YzEuMSwwLDIsMC45LDIsMnY1NmMwLDEuMS0wLjksMi0yLDJIM2MtMS4xLDAtMi0wLjktMi0yVjJDMSwwLjksMS45LDAsMywweiIvPgoJCQkJCQk8L2c+CgkJCQkJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01LDJoODAuOGMxLjEsMCwyLDAuOSwyLDJ2NTJjMCwxLjEtMC45LDItMiwySDVjLTEuMSwwLTItMC45LTItMlY0QzMsMi45LDMuOSwyLDUsMnoiLz4KCQkJCQk8L2c+CgkJCQkJPHBhdGggaWQ9IlJlY3RhbmdsZS0zIiBjbGFzcz0ic3QxIiBkPSJNNTAuNSwyMi45djI0LjhINzhWMjIuOUg1MC41eiIvPgoJCQkJCTxyZWN0IHg9IjEyLjEiIHk9IjIyLjkiIGNsYXNzPSJzdDEiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjI0LjgiLz4KCQkJCTwvZz4KCQkJCTxnPgoJCQkJCTxnPgoJCQkJCQk8cmVjdCBpZD0icGF0aC0yIiB4PSIxMCIgeT0iMTIiIGNsYXNzPSJzdDIiIHdpZHRoPSI3MCIgaGVpZ2h0PSI0Ii8+CgkJCQkJPC9nPgoJCQkJCTxyZWN0IHg9IjEyIiB5PSIxNCIgY2xhc3M9InN0MyIgd2lkdGg9IjY2IiBoZWlnaHQ9IjEiLz4KCQkJCTwvZz4KCQkJCTxnIGlkPSJHcm91cC05IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NS4wMDAwMDAsIDQ1LjAwMDAwMCkiPgoJCQkJCTxnIGlkPSJHcm91cC02IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMC4wMDAwMDApIj4KCQkJCQkJPGcgaWQ9Ikdyb3VwLTMiPgoJCQkJCQkJPGc+CgkJCQkJCQkJPGcgaWQ9Ikdyb3VwLTEzIj4KCQkJCQkJCQkJPGcgaWQ9Ikdyb3VwLTE0Ij4KCQkJCQkJCQkJPC9nPgoJCQkJCQkJCTwvZz4KCQkJCQkJCTwvZz4KCQkJCQkJPC9nPgoJCQkJCQk8ZWxsaXBzZSBpZD0iT3ZhbCIgY2xhc3M9InN0NCIgY3g9IjE1LjIiIGN5PSIxNS4zIiByeD0iMTUuMiIgcnk9IjE1LjMiLz4KCQkJCQk8L2c+CgkJCQkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTIyLjEsMTYuOGMwLDAuMi0wLjEsMC40LTAuMiwwLjVjLTAuMSwwLjEtMC4zLDAuMi0wLjUsMC4yaC00djRjMCwwLjItMC4xLDAuNC0wLjIsMC41CgkJCQkJCWMtMC4xLDAuMS0wLjMsMC4yLTAuNSwwLjJoLTIuMmMtMC4yLDAtMC40LTAuMS0wLjUtMC4yYy0wLjEtMC4xLTAuMi0wLjMtMC4yLTAuNXYtNGgtNGMtMC4yLDAtMC40LTAuMS0wLjUtMC4yCgkJCQkJCUM5LjEsMTcuMSw5LDE3LDksMTYuOHYtMi4yYzAtMC4yLDAuMS0wLjQsMC4yLTAuNXMwLjMtMC4yLDAuNS0wLjJoNHYtNGMwLTAuMiwwLjEtMC40LDAuMi0wLjVzMC4zLTAuMiwwLjUtMC4yaDIuMgoJCQkJCQljMC4yLDAsMC40LDAuMSwwLjUsMC4yczAuMiwwLjMsMC4yLDAuNXY0aDRjMC4yLDAsMC40LDAuMSwwLjUsMC4yczAuMiwwLjMsMC4yLDAuNVYxNi44eiIvPgoJCQkJPC9nPgoJCQk8L2c+CgkJCTxnIGlkPSJHcm91cC0yIj4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwtNSIgY2xhc3M9InN0NSIgY3g9IjQuNSIgY3k9IjI2LjUiIHI9IjQuNSIvPgoJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHkiIGNsYXNzPSJzdDUiIGN4PSIxMTIuNSIgY3k9IjE3LjUiIHI9IjQuNSIvPgoJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHktMyIgY2xhc3M9InN0NiIgY3g9IjEzOC41IiBjeT0iNDQuNSIgcj0iMi41Ii8+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0yIiBjbGFzcz0ic3Q3IiBjeD0iNjUuNSIgY3k9IjIuNSIgcj0iMi41Ii8+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxNDEgMTE0IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNmZmZ9LnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMzNjQyNGQ7c3Ryb2tlLXdpZHRoOjR9LnN0NHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMyOTNlNDB9PC9zdHlsZT48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQ0NSAtMTE3MikiIGlkPSJFbXB0eS1TdGF0ZXMiPjxnIGlkPSJzbi1lcy1uby10ZW1wbGF0ZXMtYXZhaWxhYmxlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDQ1IDExNzIpIj48ZyBpZD0iR3JvdXAtMzMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzIDM4KSI+PGcgaWQ9Ikdyb3VwIj48ZyBpZD0iUmVjdGFuZ2xlLTIiPjxwYXRoIGlkPSJwYXRoLTEiIGNsYXNzPSJzdDAiIGQ9Ik0zIDBoODQuOGMxLjEgMCAyIC45IDIgMnY1NmMwIDEuMS0uOSAyLTIgMkgzYy0xLjEgMC0yLS45LTItMlYyYzAtMS4xLjktMiAyLTJ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTUgMmg4MC44YzEuMSAwIDIgLjkgMiAydjUyYzAgMS4xLS45IDItMiAySDVjLTEuMSAwLTItLjktMi0yVjRjMC0xLjEuOS0yIDItMnoiLz48L2c+PHBhdGggaWQ9IlJlY3RhbmdsZS0zIiBjbGFzcz0ic3QxIiBkPSJNNTAuNSAyMi45djI0LjhINzhWMjIuOUg1MC41eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xMi4xIDIyLjloMjcuNnYyNC44SDEyLjF6Ii8+PC9nPjxwYXRoIGlkPSJwYXRoLTIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjMzY0MjRkIiBkPSJNMTAgMTJoNzB2NEgxMHoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTIgMTRoNjZ2MUgxMnoiLz48ZyBpZD0iR3JvdXAtOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUgNDUpIj48ZyBpZD0iR3JvdXAtNiI+PGVsbGlwc2UgaWQ9Ik92YWwiIGN4PSIxNS4yIiBjeT0iMTUuMyIgcng9IjE1LjIiIHJ5PSIxNS4zIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzgxYjVhMSIvPjwvZz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTkuNCAyMS4xYy0uMS4xLS4zLjItLjUuMnMtLjQtLjEtLjUtLjJsLTIuOS0yLjktMi45IDIuOWMtLjEuMS0uMy4yLS41LjJzLS40LS4xLS41LS4yTDEwIDE5LjVjMC0uMS0uMS0uMy0uMS0uNXMuMS0uNC4yLS41bDIuOS0yLjktMi45LTIuOWMtLjEtLjEtLjItLjMtLjItLjVzLjEtLjQuMi0uNWwxLjYtMS42Yy4xLS4xLjMtLjIuNS0uMnMuNC4xLjUuMmwyLjkgMi45IDIuOS0yLjljLjEtLjEuMy0uMi41LS4ycy40LjEuNS4ybDEuNiAxLjZjLjEuMS4yLjMuMi41cy0uMS40LS4yLjVsLTIuOSAyLjkgMi45IDIuOWMuMS4xLjIuMy4yLjVzLS4xLjQtLjIuNWwtMS43IDEuNnoiLz48L2c+PC9nPjxnIGlkPSJHcm91cC0yIj48Y2lyY2xlIGlkPSJPdmFsLTUiIGNsYXNzPSJzdDQiIGN4PSI0LjUiIGN5PSIyNi41IiByPSI0LjUiLz48Y2lyY2xlIGlkPSJPdmFsLTUtQ29weSIgY2xhc3M9InN0NCIgY3g9IjExMi41IiBjeT0iMTcuNSIgcj0iNC41Ii8+PGNpcmNsZSBpZD0iT3ZhbC01LUNvcHktMyIgY3g9IjEzOC41IiBjeT0iNDQuNSIgcj0iMi41IiBvcGFjaXR5PSIuMyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMyOTNlNDAiLz48Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0yIiBjeD0iNjUuNSIgY3k9IjIuNSIgcj0iMi41IiBvcGFjaXR5PSIuNCIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMyOTNlNDAiLz48L2c+PC9nPjwvZz48L3N2Zz4=\"","import React from \"react\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport { t } from \"sn-translate\";\nimport { keyUtils } from \"@devsnc/library-form\";\nimport \"sn-component-file-icon\";\nimport \"@servicenow/now-icon\";\nimport \"@servicenow/now-dropdown\";\nimport \"@servicenow/now-progress-bar\";\nimport {\n\tATTACHMENT_PREVIEW_LOAD_ACTION,\n\tATTACHMENT_PREVIEW_DISABLED_PROPERTY,\n\tFILE_SIZES,\n\tALLOWED_THUMBNAIL,\n\tATTACHMENT_ACTIONS,\n\tATTACHMENT_CARD_DROPDOWN,\n\tATTACHMENT_ERROR_MESSAGE,\n\tNOW_DROPDOWN_ELEMENT\n} from \"../constants/attachmentConstants.js\";\nimport { ADD_NOTIFICATIONS } from \"../constants/constants\";\nimport { getProperty } from \"sn-uxpage-presource\";\n\nconst MENU_TOOLTIP = t(\"Menu\");\nconst VIEW_FILE = t(\"View file\");\nconst MORE_ARIA_LABEL = t(\"Show actions for\");\n\nconst buttonActionKey = key => `action${_.camelCase(key)}Ref`;\n\nclass AttachmentCard extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onTitleBlur = this.onTitleBlur.bind(this);\n\t\tthis.enableEditing = this.enableEditing.bind(this);\n\t\tthis.onTitleKeyPress = this.onTitleKeyPress.bind(this);\n\t\tthis.onTitleKeyDown = this.onTitleKeyDown.bind(this);\n\t\tthis.isFileUnavailable = this.isFileUnavailable.bind(this);\n\t\tthis.isFileUploading = this.isFileUploading.bind(this);\n\t\tthis.onCardKeyPress = this.onCardKeyPress.bind(this);\n\t\tthis.initAttachmentPreview = this.initAttachmentPreview.bind(this);\n\t\tthis.getExtensionFromFileName = this.getExtensionFromFileName.bind(this);\n\t\tthis.focusCardMenu = this.focusCardMenu.bind(this);\n\t\tthis.state = {\n\t\t\tisEditing: false,\n\t\t\tattachmentActions: this.createAttachmentActionMenu(props.properties.item),\n\t\t\tisAttachmentPreviewDisabled: getProperty(\n\t\t\t\tATTACHMENT_PREVIEW_DISABLED_PROPERTY,\n\t\t\t\tfalse\n\t\t\t)\n\t\t};\n\t}\n\n\tonCardHiddenButtonFocus = () => {\n\t\tthis.setState({\n\t\t\tisFocused: true\n\t\t});\n\t};\n\n\tonCardBlur = () => {\n\t\tthis.setState({\n\t\t\tisFocused: false\n\t\t});\n\t};\n\n\tcreateAttachmentActionMenu = item => {\n\t\tconst actions = [];\n\t\tconst { canCreate } = this.props.properties;\n\n\t\tif (!this.isFileUnavailable(item))\n\t\t\tactions.push(\n\t\t\t\tthis.createActionItem(ATTACHMENT_ACTIONS.DOWNLOAD, item.sysId)\n\t\t\t);\n\n\t\tif (!canCreate) return actions;\n\n\t\tif (item.canDelete)\n\t\t\tactions.push(\n\t\t\t\tthis.createActionItem(ATTACHMENT_ACTIONS.REMOVE, item.sysId)\n\t\t\t);\n\n\t\tif (item.canEditName && !this.isFileUnavailable(item))\n\t\t\tactions.push(ATTACHMENT_ACTIONS.RENAME);\n\n\t\treturn actions;\n\t};\n\n\t/**\n\t * This function returns a new object back with the action menu and the id of\n\t * the attachment.\n\t */\n\tcreateActionItem = (action, attachmentId) => {\n\t\treturn {\n\t\t\t...action,\n\t\t\tattachmentId\n\t\t};\n\t};\n\n\tcomponentWillReceiveProps(props) {\n\t\tif (this.isPropDifferent(props, \"item\"))\n\t\t\tthis.setState({\n\t\t\t\tattachmentActions: this.createAttachmentActionMenu(\n\t\t\t\t\tprops.properties.item\n\t\t\t\t)\n\t\t\t});\n\n\t\tif (this.isStateDifferent(props, \"enableEditingTriggered\"))\n\t\t\tthis.enableEditing();\n\t}\n\n\tisPropDifferent(changes, prop) {\n\t\treturn (\n\t\t\tchanges.properties[prop] &&\n\t\t\tthis.props.properties[prop] !== changes.properties[prop]\n\t\t);\n\t}\n\n\tisStateDifferent(changes, prop) {\n\t\treturn changes[prop] && this.props[prop] !== changes[prop];\n\t}\n\n\trefCard = node => {\n\t\tif (!node) return;\n\t\tthis.setState({\n\t\t\tcardRef: node\n\t\t});\n\t};\n\n\trefHiddenCardButton = node => {\n\t\tif (!node) return;\n\t\tthis.setState({\n\t\t\trefHiddenCardButton: node\n\t\t});\n\t};\n\n\trefCardMenu = node => {\n\t\tif (!node || node === this.state.cardMenuRef) return;\n\t\tthis.setState({\n\t\t\tcardMenuRef: node\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { item, mode, displayUploadProgressBar } = this.props.properties;\n\t\tconst card = this.state.isEditing\n\t\t\t? this.renderCardWithInput(item)\n\t\t\t: this.renderCard(item);\n\t\tconst focusClass = this.state.isFocused ? \" icons-focused is-focus\" : \"\";\n\t\tconst unavailable = this.isFileUnavailable(item);\n\t\tconst isDisabled = unavailable ? \" is-disabled\" : \"\";\n\t\tconst isCompact = mode === \"compact\" ? \" -compact\" : \"\";\n\t\tconst attachClassName = `sn-attachments${focusClass}${isDisabled}${isCompact}`;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\tclassName={attachClassName}\n\t\t\t\t\tonClick={this.onCardClick}\n\t\t\t\t\tonBlur={this.onCardBlur}\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t\taria-label={this.getCardAriaLabel(item)}\n\t\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\t\tonKeyPress={this.onCardKeyPress}\n\t\t\t\t\t\tonFocus={this.onCardHiddenButtonFocus}\n\t\t\t\t\t\tref={this.refHiddenCardButton}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"sn-attachments-content -static has-media\">\n\t\t\t\t\t\t{unavailable && (\n\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\tsize={mode === \"compact\" ? \"lg\" : \"xl\"}\n\t\t\t\t\t\t\t\ticon=\"document-infected-outline\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!unavailable && this.renderFileThumbnail(item, mode)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{card}\n\t\t\t\t</div>\n\t\t\t\t{displayUploadProgressBar && <now-progress-bar size=\"xs\" />}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\trenderFileThumbnail = (item, mode) => {\n\t\treturn this.isImageType(item.type) ? (\n\t\t\t<img\n\t\t\t\tclassName=\"sn-attachments-img\"\n\t\t\t\tsrc={\"/\" + item.sysId + \".iix?t=small\"}\n\t\t\t\talt={item.name}\n\t\t\t/>\n\t\t) : (\n\t\t\t<sn-file-icon\n\t\t\t\tclassName=\"sn-icon\"\n\t\t\t\tsize={mode === \"compact\" ? \"xxl\" : \"2x\"}\n\t\t\t\tmime-type={item.type}\n\t\t\t\textension={this.getExtensionFromFileName(item.name)}\n\t\t\t/>\n\t\t);\n\t};\n\n\tisImageType = type => {\n\t\treturn ALLOWED_THUMBNAIL.includes(type.substring(0, type.indexOf(\"/\")));\n\t};\n\n\tonCardKeyPress(e) {\n\t\tif (keyUtils.onEnter(e) || keyUtils.onSpace(e))\n\t\t\tthis.initAttachmentPreview(e);\n\t}\n\n\tonCardClick = e => {\n\t\tthis.state.refHiddenCardButton.focus();\n\t\tthis.initAttachmentPreview(e);\n\t};\n\n\t/**\n\t * Load the attachment preview for the current attachment card\n\t * @param e Event\n\t */\n\tinitAttachmentPreview(e) {\n\t\tif (\n\t\t\te.target.tagName === NOW_DROPDOWN_ELEMENT ||\n\t\t\tthis.state.isAttachmentPreviewDisabled\n\t\t)\n\t\t\treturn;\n\n\t\tconst {\n\t\t\tdispatch,\n\t\t\tproperties: { item }\n\t\t} = this.props;\n\t\tconst securityErrorMessage = t(\n\t\t\tATTACHMENT_ERROR_MESSAGE.NOT_AVAILABLE,\n\t\t\titem.name\n\t\t);\n\n\t\tif (this.isFileUnavailable(item)) {\n\t\t\tthis.dispatchFileErrorNotification(securityErrorMessage);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isFileUploading(item)) {\n\t\t\tthis.dispatchFileErrorNotification(t(ATTACHMENT_ERROR_MESSAGE.UPLOADING));\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch(ATTACHMENT_PREVIEW_LOAD_ACTION, { item });\n\n\t\te.stopPropagation();\n\t}\n\n\tgetCardAriaLabel(item) {\n\t\tif (this.state.isAttachmentPreviewDisabled) return item.name;\n\t\treturn `${VIEW_FILE}: ${item.name}`;\n\t}\n\n\t/**\n\t * Render card with input to update name\n\t * @param item\n\t * @returns {*}\n\t */\n\trenderCardWithInput(item) {\n\t\treturn (\n\t\t\t<div className=\"sn-attachments-content -visible\">\n\t\t\t\t<div className=\"sn-control is-focus\">\n\t\t\t\t\t<div className=\"sn-control-field\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"attachment_input\"\n\t\t\t\t\t\t\tname=\"attachment_input\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tdefaultValue={item.name}\n\t\t\t\t\t\t\tclassName=\"sn-input\"\n\t\t\t\t\t\t\tonKeyPress={this.onTitleKeyPress}\n\t\t\t\t\t\t\tonKeyDown={this.onTitleKeyDown}\n\t\t\t\t\t\t\tonClick={this.preventClickDefault}\n\t\t\t\t\t\t\tonBlur={this.onTitleBlur}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<span>\n\t\t\t\t\t{\" \"}\n\t\t\t\t\t{this.isFileUnavailable(item)\n\t\t\t\t\t\t? t(\"File unavailable\")\n\t\t\t\t\t\t: this.getAttachmentSize(item.size)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tpreventClickDefault = e => {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t};\n\n\tgetAttachmentSize = attachmentSize => {\n\t\tif (!attachmentSize) return \"0 B\";\n\n\t\tattachmentSize = parseInt(attachmentSize) || 0;\n\t\tlet sizeUnit = 0;\n\t\twhile (attachmentSize > 1024) {\n\t\t\tattachmentSize = attachmentSize / 1024;\n\t\t\tsizeUnit++;\n\t\t}\n\n\t\treturn `${attachmentSize.toFixed(sizeUnit > 0 ? 1 : 0)} ${\n\t\t\tFILE_SIZES[sizeUnit]\n\t\t}`;\n\t};\n\n\tgetAriaAttributes(item) {\n\t\treturn {\n\t\t\tconfigAria: {\n\t\t\t\t\"aria-label\": `${MORE_ARIA_LABEL} ${item.name}`,\n\t\t\t\t\"aria-haspopup\": \"listbox\"\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Render card to display specific metadata.  The attributes are spread, given the consistent class\n\t * name and data attributes.\n\t * @param item\n\t * @returns {*}\n\t */\n\trenderCard(item) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"sn-attachments-content\" ref={this.refCard}>\n\t\t\t\t\t<span className=\"sn-attachments-content-title\">\n\t\t\t\t\t\t<span>{item.name}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t{this.isFileUnavailable(item) || this.isFileUploading(item)\n\t\t\t\t\t\t\t? t(\"File unavailable\")\n\t\t\t\t\t\t\t: this.getAttachmentSize(item.size)}\n\t\t\t\t\t</span>\n\t\t\t\t\t<now-tooltip target-ref={this.state.cardRef} content={item.name} />\n\t\t\t\t</div>\n\t\t\t\t{!this.isFileUploading(item) && this.state.attachmentActions.length > 0 && (\n\t\t\t\t\t<div className=\"sn-attachments-content -dropdown\">\n\t\t\t\t\t\t<now-dropdown\n\t\t\t\t\t\t\tref={this.refCardMenu}\n\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\thide-caret\n\t\t\t\t\t\t\ticon=\"ellipsis-v-outline\"\n\t\t\t\t\t\t\titems={this.state.attachmentActions}\n\t\t\t\t\t\t\tselect=\"none\"\n\t\t\t\t\t\t\tmanage-selecteditems\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\ttooltip-content={MENU_TOOLTIP}\n\t\t\t\t\t\t\tcomponent-name={ATTACHMENT_CARD_DROPDOWN}\n\t\t\t\t\t\t\t{...this.getAriaAttributes(item)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\t/**\n\t * On blur, reset the attachment state\n\t */\n\tonTitleBlur() {\n\t\tthis.resetAttachmentState();\n\t}\n\n\t/**\n\t * Update the attachment name on enter\n\t * @param e\n\t */\n\tonTitleKeyPress(e) {\n\t\te.stopPropagation();\n\t\tconst element = e.srcElement || e.target;\n\t\tconst { maxFileNameLength = 0 } = this.props.properties;\n\n\t\tif (element.value.length > maxFileNameLength) {\n\t\t\tconst message = t(\n\t\t\t\tATTACHMENT_ERROR_MESSAGE.FILE_NAME_MAX_LENGTH,\n\t\t\t\tmaxFileNameLength\n\t\t\t);\n\t\t\tthis.dispatchFileErrorNotification(message);\n\t\t} else if (keyUtils.onEnter(e)) {\n\t\t\te.preventDefault();\n\t\t\tif (!element.value) {\n\t\t\t\tconst message = t(ATTACHMENT_ERROR_MESSAGE.EMPTY_NAME);\n\t\t\t\tthis.dispatchFileErrorNotification(message);\n\t\t\t} else if (this.hasExtensionChanged(element.value)) {\n\t\t\t\tconst { item } = this.props.properties;\n\t\t\t\tconst message = t(\n\t\t\t\t\tATTACHMENT_ERROR_MESSAGE.INVALID_EXTENSION,\n\t\t\t\t\titem.name,\n\t\t\t\t\telement.value\n\t\t\t\t);\n\t\t\t\tthis.dispatchFileErrorNotification(message);\n\t\t\t} else {\n\t\t\t\tthis.props.properties.item.name = element.value;\n\t\t\t\tthis.update();\n\t\t\t\tthis.resetAttachmentState();\n\t\t\t\tthis.focusCardMenu();\n\t\t\t}\n\t\t}\n\t}\n\n\tonTitleKeyDown(e) {\n\t\tif (keyUtils.onTab(e) || keyUtils.onEscape(e)) {\n\t\t\tthis.resetAttachmentState();\n\t\t\tif (keyUtils.onEscape(e)) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.focusCardMenu();\n\t\t\t}\n\t\t}\n\t}\n\n\tfocusCardMenu() {\n\t\tsetTimeout(() => {\n\t\t\tif (!this.state.cardMenuRef) return;\n\t\t\tthis.state.cardMenuRef.focus();\n\t\t});\n\t}\n\n\t/**\n\t * Dispatched Error Notification from file rename validation\n\t */\n\tdispatchFileErrorNotification = message => {\n\t\tconst type = \"error\";\n\t\tthis.props.dispatch(ADD_NOTIFICATIONS, {\n\t\t\tnotifications: [\n\t\t\t\t{\n\t\t\t\t\ttype,\n\t\t\t\t\tmessage\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t};\n\n\t/**\n\t * This file checks and returns true/false if the file extension has changed\n\t * @param newName New name of the file\n\t */\n\thasExtensionChanged = newName => {\n\t\tconst { item } = this.props.properties;\n\t\tconst newExt = this.getExtensionFromFileName(newName);\n\t\tconst oldExt = this.getExtensionFromFileName(item.name);\n\n\t\treturn newExt !== oldExt;\n\t};\n\n\t/**\n\t * Update the name of the selected attachment\n\t */\n\tupdate() {\n\t\tconst {\n\t\t\titem: { name, sysId }\n\t\t} = this.props.properties;\n\t\tthis.props.dispatch(ATTACHMENT_ACTIONS.ATTACHMENT_UPDATE_ACTION, {\n\t\t\tfile_name: name,\n\t\t\tsys_id: sysId\n\t\t});\n\t}\n\n\t/**\n\t * Utility method to clear the attachment editing state.\n\t */\n\tresetAttachmentState() {\n\t\tthis.setState({\n\t\t\tisEditing: false\n\t\t});\n\t}\n\n\t/**\n\t * Utility method to establish a files availability.  For now, this may be verbose.  However, there are 4\n\t * sys_attachment states that have been introduced:\n\t *\n\t * available, not_available, pending, and available_conditionally\n\t *\n\t * @param item\n\t * @returns {boolean}\n\t */\n\tisFileUnavailable(item) {\n\t\treturn item.state === \"not_available\";\n\t}\n\n\t/**\n\t * Tells if the file is being uploaded\n\t *\n\t * @param item\n\t * @returns {boolean}\n\t */\n\tisFileUploading(item) {\n\t\treturn item.state === \"uploading\";\n\t}\n\n\t/**\n\t * Return the file extension if found else return ''.\n\t */\n\tgetExtensionFromFileName(name) {\n\t\tif (name.lastIndexOf(\".\") === -1) return \"\";\n\n\t\treturn name.substring(name.lastIndexOf(\".\") + 1).toLowerCase();\n\t}\n\n\t/**\n\t * Set the attachment editing to true.\n\t */\n\tenableEditing() {\n\t\tthis.setState({\n\t\t\tisEditing: true\n\t\t});\n\t}\n}\n\nexport default AttachmentCard;\n","module.exports = __TECTONIC__sn_component_file_icon;","module.exports = __TECTONIC__$servicenow_now_icon;","module.exports = __TECTONIC__$servicenow_now_progress_bar;","import {\n\tATTACHMENT_CARD_ITEM_CLICKED,\n\tATTACHMENT_ACTIONS,\n\tATTACHMENT_DELETE_ACTION,\n\tATTACHMENT_DOWNLOAD_ACTION,\n\tATTACHMENT_ENABLE_EDIT_ACTION,\n\tATTACHMENT_CARD_DROPDOWN\n} from \"../constants/attachmentConstants\";\nimport _ from \"lodash\";\n\nconst getAction = id => {\n\tswitch (id) {\n\t\tcase ATTACHMENT_ACTIONS.DOWNLOAD.id:\n\t\t\treturn ATTACHMENT_DOWNLOAD_ACTION;\n\t\tcase ATTACHMENT_ACTIONS.REMOVE.id:\n\t\t\treturn ATTACHMENT_DELETE_ACTION;\n\t\tcase ATTACHMENT_ACTIONS.RENAME.id:\n\t\t\treturn ATTACHMENT_ENABLE_EDIT_ACTION;\n\t}\n};\n\nconst attachmentActionHandler = ({ action, dispatch, properties }) => {\n\tif (action.meta.componentName !== ATTACHMENT_CARD_DROPDOWN) return;\n\tconst {\n\t\titem: { sysId, name }\n\t} = properties;\n\tconst actionId = _.get(action, \"payload.item.id\", \"\");\n\n\tconst payload = { sysId, name };\n\tconst actionName = getAction(actionId);\n\tif (actionName) dispatch(actionName, payload);\n};\n\nexport default {\n\tactions: {\n\t\t[ATTACHMENT_CARD_ITEM_CLICKED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_ENABLE_EDIT_ACTION]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\thandlers: {\n\t\t[ATTACHMENT_CARD_ITEM_CLICKED]: attachmentActionHandler,\n\t\t[ATTACHMENT_ENABLE_EDIT_ACTION]: ({ updateState, action }) =>\n\t\t\tupdateState({\n\t\t\t\tenableEditingTriggered: {\n\t\t\t\t\ttimestamp: Date.now()\n\t\t\t\t}\n\t\t\t})\n\t}\n};\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./AttachmentCard.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(now-record-common-attachment-card){display:block}.sn-attachments{background:RGBA(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));border-radius:.125rem;border:1px solid transparent;border-color:RGB(var(--now-color--border-tertiary,var(--now-color--neutral-3,209,214,214)));cursor:pointer;display:inline-flex;flex:0 0 auto;padding:1rem;position:relative;text-decoration:none;width:100%}.sn-attachments.is-hover,.sn-attachments:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-attachments.is-focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-attachments-container{display:flex}.sn-attachments-content{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-inline-end:.5rem}.sn-attachments-content:last-of-type{padding-inline-end:0}.sn-attachments-content.-visible{overflow:visible}.sn-attachments-content.-static{flex:0 0 auto;overflow:visible}.sn-attachments-content.-static>now-icon,.sn-attachments-content.-static>sn-file-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachments-content-title,.sn-attachments-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachments-content-title{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1rem;margin-bottom:.5rem;font-weight:600}.sn-attachments-content-title strong{font-weight:inherit}.sn-attachments::-moz-focus-inner{border-style:none}.sn-attachments:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-attachments-content.-dropdown{flex:0 0 auto;justify-content:flex-start}.sn-attachments-img{align-items:center;background-color:RGB(var(--now-color--neutral-12,66,80,81));background-position:50%;background-size:cover;border:1px solid transparent;border-color:RGB(var(--now-color--neutral-12,66,80,81));height:2rem;overflow:hidden;position:relative;width:2rem}.sn-attachments .hidden{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;padding:0;border:0;outline:none}.sn-attachments .hidden::-moz-focus-inner{border-style:none}.sn-attachments .hidden:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-attachments.-compact{padding:.5rem;height:3.125rem}.sn-attachments.-compact now-icon,.sn-attachments.-compact sn-file-icon{font-size:1.5rem;width:1.5rem;color:var(--now-color--neutral-18,22,27,28)}.sn-attachments.-compact .sn-attachments-img{height:1.5rem;width:1.5rem}.sn-attachments.-compact .sn-attachments-content{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.sn-attachments.-compact .sn-attachments-content-title{font-size:.75rem;margin-bottom:.125rem;font-weight:400;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.sn-attachments.-compact .sn-attachments-content.-static.has-media{padding-inline-end:.75rem}.sn-attachments.-compact .sn-input{font-size:.75rem;font-weight:400;height:1.3125rem;padding:0 .125rem}.sn-attachments.-compact .sn-control{margin-bottom:0;margin-left:-.125rem;margin-top:-.1875rem}.sn-control{border:0;display:flex;flex-direction:column;padding:0;position:relative;width:100%;margin-bottom:.125rem;margin-left:-.25rem;margin-top:-.375rem}.sn-control-controls,.sn-control-icon{align-items:center;display:flex;flex:0 0 auto;justify-content:center}.sn-control-controls>now-button,.sn-control-icon>now-button{margin-inline-end:.25rem}.sn-control-icon{margin:0 .25rem}.sn-control-field{display:flex;font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));position:relative}.sn-control-field:after{background:RGB(var(--now-color--neutral-5,172,180,181));bottom:0;content:\\\"\\\";height:1px;left:0;position:absolute;right:0}.sn-control-field.is-hover,.sn-control-field:hover{background-color:RGB(var(--now-color--background-tertiary,var(--now-color--neutral-2,228,230,231)))}.sn-control-field.is-hover:after,.sn-control-field:hover:after{height:2px}.sn-control.is-focus .sn-control-field,.sn-control:focus .sn-control-field{background-color:RGB(var(--now-color--primary-0,221,237,233))}.sn-control.is-focus .sn-control-field:after,.sn-control:focus .sn-control-field:after{background:RGB(var(--now-color--primary-1,30,133,109));height:2px}.sn-control.is-disabled .sn-control-field,.sn-control.is-readonly .sn-control-field{opacity:.5}.sn-control.is-disabled .sn-control-field.is-hover,.sn-control.is-disabled .sn-control-field:hover,.sn-control.is-focus .sn-control.is-disabled .sn-control-field,.sn-control.is-focus .sn-control.is-readonly .sn-control-field,.sn-control.is-readonly .sn-control-field.is-hover,.sn-control.is-readonly .sn-control-field:hover,.sn-control:focus .sn-control.is-disabled .sn-control-field,.sn-control:focus .sn-control.is-readonly .sn-control-field{background:transparent}.sn-control.is-disabled .sn-control-field.is-hover:after,.sn-control.is-disabled .sn-control-field:hover:after,.sn-control.is-focus .sn-control.is-disabled .sn-control-field:after,.sn-control.is-focus .sn-control.is-readonly .sn-control-field:after,.sn-control.is-readonly .sn-control-field.is-hover:after,.sn-control.is-readonly .sn-control-field:hover:after,.sn-control:focus .sn-control.is-disabled .sn-control-field:after,.sn-control:focus .sn-control.is-readonly .sn-control-field:after{height:1px}.sn-input{background:transparent;border:0;color:inherit;cursor:text;display:inline-flex;flex:1 1 auto;font-size:inherit;font-family:inherit;height:2rem;margin:0;min-width:1px;padding:0 .25rem;position:relative;width:100%;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1rem;font-weight:600}.sn-input:focus{outline:none}.sn-input::-ms-clear{display:none}.sn-input:-moz-ui-invalid{box-shadow:none}.is-disabled .sn-input,.sn-input.is-disabled{cursor:not-allowed}.sn-input::placeholder{color:RGBA(var(--now-color--neutral-18,22,27,28),.5)}\", \"\"]);\n\n// exports\n","export { default as DisplayValueBlock } from \"./displayValueBlock\";\n","import { createCustomElement, actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_DOM_TREE_READY} = actionTypes;\nimport snabbdom, { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport resizeBehavior from \"@servicenow/behavior-resize\";\nimport \"@servicenow/now-label-value\";\nimport \"@servicenow/now-heading\";\nimport \"@servicenow/now-button\";\nimport { t } from \"sn-translate\";\nimport _ from \"lodash\";\nimport { itemsSchema } from \"./schemas/displayValueSchema\";\nimport { EmptyStateElement } from \"../emptyState\";\nimport { LayoutHandler, isRTL } from \"./layoutHandler\";\nimport CONSTS from \"./displayValueBlockConstants\";\nimport styles from \"./displayValueBlock.scss\";\nimport { getMaxLineHeight } from \"./lineHeightCalculator\";\nimport classNames from \"classnames/dedupe\";\n\n// support for dynamic layoutType will go here\nconst layoutTypes = {\n\tdistributed: {\n\t\talign: \"horizontal-equal\",\n\t\ttruncated: true,\n\t\twrapped: true,\n\t\titemMinWidth: CONSTS.LAYOUT.DISTRIBUTED.MIN_WIDTH\n\t},\n\tdynamic: {\n\t\talign: \"horizontal\",\n\t\ttruncated: true,\n\t\twrapped: true\n\t}\n};\n\n//styling to apply to value div when mutltiline text and document is LTR\nconst maxLinesPerValueStyleLTR = `style=\"white-space:normal;word-break:break-all;hyphens:auto;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;`;\n//styling to apply to value div when mutltiline and document is in RTL mode\nconst maxLinesPerValueStyleRTL = `style=\"white-space:normal;word-break:break-all;hyphens:auto;`;\n\nconst acceptedProperties = {\n\t/**\n\t * Title of the component displayed at top-left in a header tag.\n\t * @type {string}\n\t */\n\ttitle: {\n\t\tschema: {\n\t\t\ttype: \"string\"\n\t\t},\n\t\tdefault: \"\"\n\t},\n\t/**\n\t * Array of label-value items. Labels can have one or more values. Values\n\t * can be rendered as a string, text link, or highlighted value.\n\t *\n\t * Label-value items are configured with the following keys:\n\t * - `label`: String. Text displayed as the label. Required.\n\t * - `value`: String or Object. Single value. Required.\n\t *\n\t * Each `value` can be a string for a simple value or an object for more\n\t * complex values. Object values are configured using the following keys:\n\t *\n\t * To render the value as a string:\n\t * - `type`: String. Enter 'string' to render value as a string.\n\t * - `value`: String. Current value.\n\t * - `previous`: String. Previous value (crossed out).\n\t *\n\t * To render the value as a highlighted-value component (see now-highlighted-value documentation for details):\n\t * - `type`: String. Enter `'highlighted-value'` to render the value with the now-highlighted-value component.\n\t * - `label`: String. Current value. Required.\n\t * - `status`: String. Enter `'low'`. Sets the background/icon color.\n\t * - `showIcon`: Boolean. Enter `false`. When true, shows a solid circle icon next to the label.\n\t *\n\t * To render the value as a text-link component (see now-text-link documentation for details):\n\t * - `type`: String. Enter `'text-link'` to render the value with the now-text-link component.\n\t * - `label`:String. Current value. Required.\n\t * - `href`: String. URL to open when a user clicks the link. Required.\n\t * - `variant`: String. Enter `'primary'`. Sets the link color.\n\t * - `underlined`: Boolean. Enter `false`. When true, the link is underlined.\n\t * - `opensWindow`: Boolean. Enter `false`. When true, opens the link in a new window or tab.\n\t *\n\t * @type {{label: string, values: (string|Object|Object[])}[]}\n\t */\n\titems: { default: [], schema: itemsSchema },\n\t/**\n\t * Sets the layout type.\n\t * @type {('distributed'|'dynamic')}\n\t */\n\tlayoutType: {\n\t\tdefault: CONSTS.LAYOUT.DISTRIBUTED.NAME,\n\t\tschema: {\n\t\t\ttype: \"string\",\n\t\t\tenum: [\"distributed\", \"dynamic\"]\n\t\t}\n\t},\n\t/**\n\t * Character to display between label-value pairs.\n\t * @type {('' | '|' | '' | '' | '-')}\n\t */\n\tdelimiter: {\n\t\tdefault: \"\",\n\t\tschema: {\n\t\t\ttype: \"string\",\n\t\t\tenum: [\"\", \"|\", \"\", \"\", \"-\"]\n\t\t}\n\t},\n\t/**\n\t * When true, labels are hidden.\n\t * @type {boolean}\n\t */\n\thideLabels: {\n\t\tschema: {\n\t\t\ttype: \"boolean\"\n\t\t},\n\t\tdefault: false\n\t},\n\t/**\n\t * When true, displays label and values side-by-side.\n\t * @type {boolean}\n\t */\n\tdisplayInline: {\n\t\tschema: {\n\t\t\ttype: \"boolean\"\n\t\t},\n\t\tdefault: false\n\t},\n\t/**\n\t * Number of lines for a text type value before it is truncated.\n\t * To prevent truncating, pass `0`,\n\t * @type {number}\n\t */\n\tmaxLinesPerValue: {\n\t\tschema: {\n\t\t\ttype: \"number\"\n\t\t},\n\t\tdefault: 1\n\t},\n\t/**\n\t * Number of rows to render on the screen. If the number of actual rows\n\t * is greater than the value of this property, excess rows will be hidden.\n\t * @type {number}\n\t */\n\trowsBeforeToggleShown: {\n\t\tschema: {\n\t\t\ttype: \"number\"\n\t\t},\n\t\tdefault: 2\n\t}\n};\n\nconst transformItems = state => {\n\tconst {\n\t\tproperties: { items, hideLabels, maxLinesPerValue, displayInline }\n\t} = state;\n\n\tif (!items || !items.length) return state;\n\n\tconst maxLinesPerValueStyle = isRTL()\n\t\t? `${maxLinesPerValueStyleRTL};${\n\t\t\t\tmaxLinesPerValue > 0\n\t\t\t\t\t? \"max-height:\" + getMaxLineHeight(maxLinesPerValue) + \"px;\"\n\t\t\t\t\t: \"\"\n\t\t  }\"`\n\t\t: `${maxLinesPerValueStyleLTR}-webkit-line-clamp:${maxLinesPerValue};\"`;\n\tconst transformedItems = items.map(item => {\n\t\tconst shouldConvertToHtml =\n\t\t\titem.value.type === \"string\" && !item.value.previous;\n\t\treturn {\n\t\t\t...item,\n\t\t\tlabel: !hideLabels ? item.label + (displayInline ? \":\" : \"\") : \"\",\n\t\t\tvalue: {\n\t\t\t\t...item.value,\n\t\t\t\ttype: shouldConvertToHtml ? \"html\" : item.value.type,\n\t\t\t\tvalue: shouldConvertToHtml\n\t\t\t\t\t? `<div title=\"${\n\t\t\t\t\t\t\titem.value.value\n\t\t\t\t\t  }\" class=\"needs-clamping\" ${maxLinesPerValueStyle}>${\n\t\t\t\t\t\t\titem.value.value\n\t\t\t\t\t  }</div>`\n\t\t\t\t\t: item.value.value\n\t\t\t}\n\t\t};\n\t});\n\n\treturn {\n\t\t...state,\n\t\titems: transformedItems\n\t};\n};\n\nconst view = (state, { updateState }) => {\n\tconst {\n\t\tproperties: { title, layoutType },\n\t\tbehaviors: { resize = {} },\n\t\twidth,\n\t\titems,\n\t\tshowToggle,\n\t\ttoggleOpen,\n\t\tinitialLayoutCalculationComplete\n\t} = state;\n\n\tif (!items || !items.length) {\n\t\tconst message = t(\"No data to display\");\n\t\treturn <EmptyStateElement message={message} />;\n\t}\n\n\tif (resize.size.width !== width) {\n\t\tLayoutHandler.onWidthChange(state);\n\t\tconst toggleState = LayoutHandler.calculateToggleState(state);\n\t\tupdateState({\n\t\t\t...(toggleState || {}),\n\t\t\twidth: resize.size.width,\n\t\t\tshouldRender: true,\n\t\t\tinitialLayoutCalculationComplete: true\n\t\t});\n\t}\n\n\tconst labelValueStackedProps = {\n\t\t...layoutTypes[layoutType],\n\t\titems: [...items]\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames({ \"--hidden\": !initialLayoutCalculationComplete })}\n\t\t>\n\t\t\t{title !== \"\" ? (\n\t\t\t\t<now-heading\n\t\t\t\t\tlabel={title}\n\t\t\t\t\tlevel=\"1\"\n\t\t\t\t\tvariant=\"header-tertiary\"\n\t\t\t\t\thasNoMargin={true}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Fragment />\n\t\t\t)}\n\t\t\t<div className=\"wrapper-div\">\n\t\t\t\t<now-label-value-stacked {...labelValueStackedProps} />\n\t\t\t</div>\n\n\t\t\t{showToggle ? (\n\t\t\t\t<now-button-bare\n\t\t\t\t\thidePadding\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tlabel={toggleOpen ? t(\"Show less\") : t(\"Show more\")}\n\t\t\t\t\ticonEnd={toggleOpen ? \"chevron-up-fill\" : \"chevron-down-fill\"}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Fragment />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\n/**\n * Display read-only information to users when they view a portal page or application.\n *\n * ```jsx\n * <now-display-value-block\n *      title={...}\n *      items={...}\n *      layoutType={...}\n *      delimeter={...}\n *      hideLabels={...}\n *      displayInline={...}\n *      maxLinesPerValue={...}\n * />\n * ```\n *\n * @seismicElement now-display-value-block\n * @summary Displays view-only record content to a user in portal pages and applications, using a configurable accordion.   \n */\ncreateCustomElement(CONSTS.COMPONENT_NAME, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\t...acceptedProperties\n\t},\n\tstyles,\n\tinitialState: {\n\t\tshowToggle: false,\n\t\ttoggleOpen: false,\n\t\ttoggleHeight: 0,\n\t\twidth: null,\n\t\ttoggleContainerRef: null,\n\t\tinitialLayoutCalculationComplete: false\n\t},\n\ttransformState(state) {\n\t\treturn transformItems(state);\n\t},\n\tbehaviors: [\n\t\t{\n\t\t\tbehavior: resizeBehavior,\n\t\t\toptions: { timer: { type: \"debounce\", wait: 150 } }\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: {\n\t\t\teffect: ({\n\t\t\t\tstate,\n\t\t\t\tupdateState,\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { value, previousValue }\n\t\t\t\t}\n\t\t\t}) => {\n\t\t\t\tif (_.isEqual(value, previousValue)) return;\n\t\t\t\tconst layoutState = LayoutHandler.recalculateLayout(state);\n\t\t\t\tupdateState({ ...layoutState, shouldRender: true });\n\t\t\t}\n\t\t},\n\t\t[CONSTS.ACTIONS.PRIVATE.LINK_CLICKED]: {\n\t\t\teffect: ({\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { item }\n\t\t\t\t},\n\t\t\t\tdispatch\n\t\t\t}) => {\n\t\t\t\tdispatch(CONSTS.ACTIONS.PUBLIC.LINK_CLICKED, item);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\n\t\t[CONSTS.ACTIONS.PRIVATE.TOGGLE_CLICKED]: {\n\t\t\teffect: ({ state, updateState }) => {\n\t\t\t\tconst { toggleOpen } = state;\n\t\t\t\tLayoutHandler.onToggleChange(state);\n\t\t\t\tupdateState({\n\t\t\t\t\ttoggleOpen: !toggleOpen\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[COMPONENT_DOM_TREE_READY]: {\n\t\t\teffect: ({ state, updateState, host }) => {\n\t\t\t\tconst wrapperDiv = host.shadowRoot.querySelector(\".wrapper-div\")\n\t\t\t\tLayoutHandler.applyStyles(state, wrapperDiv);\n\t\t\t\tupdateState({\n\t\t\t\t\ttoggleContainerRef: wrapperDiv,\n\t\t\t\t\tshouldRender: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n\nexport default CONSTS.COMPONENT_NAME;\n","module.exports = __TECTONIC__$servicenow_now_heading;","const valueSchema = {\n\ttype: \"object\",\n\tproperties: {\n\t\ttype: {\n\t\t\ttype: \"string\",\n\t\t\tenum: [\"string\", \"text-link\", \"highlighted-value\"]\n\t\t},\n\t\tvalue: { oneOf: [{ type: \"string\" }, { type: \"object\" }] },\n\t\tprevious: { oneOf: [{ type: \"string\" }, { type: \"object\" }] },\n\t\tlabel: { type: \"string\" },\n\t\tstatus: { type: \"string\" },\n\t\tshowIcon: { type: \"boolean\" },\n\t\thref: { type: \"string\" },\n\t\tvariant: { type: \"string\" },\n\t\tunderlined: { type: \"boolean\" },\n\t\topensWindow: { type: \"boolean\" }\n\t}\n};\n\nexport const itemsSchema = {\n\ttype: \"array\",\n\titems: {\n\t\ttype: \"object\",\n\t\tproperties: {\n\t\t\tlabel: { type: \"string\" },\n\t\t\tvalue: {\n\t\t\t\toneOf: [{ type: \"string\" }, valueSchema]\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tgetLabelValuePairContainer,\n\tgetLabelValuePairs,\n\tgetRects,\n\tgetRowStartIndices\n} from \"./labelValueProvider\";\nimport { lineClamp } from \"./lineClamper\";\nimport CONSTS from \"./displayValueBlockConstants\";\nimport {\n\tremoveDelimiterNodesFromContainer,\n\thandleDelimiter\n} from \"./delimiter\";\nimport { toggleHeightCalculator } from \"./toggleHeightCalculator\";\n\nconst handleDisplayInline = (state, toggleContainer) => {\n\tconst {\n\t\tproperties: { displayInline, layoutType }\n\t} = state;\n\n\tconst labelValuePairNodes = getLabelValuePairs(toggleContainer);\n\tlabelValuePairNodes.forEach(labelValuePair => {\n\t\tconst dt = labelValuePair.querySelector(\"dt\");\n\t\tconst dd = labelValuePair.querySelector(\"dd\");\n\n\t\tif (displayInline) {\n\t\t\t// temporary workaround until NDS add the property to displayInline for now-label-value-stacked\n\t\t\tlabelValuePair.style.setProperty(\"display\", \"flex\");\n\t\t\tlabelValuePair.style.setProperty(\"align-items\", \"baseline\");\n\t\t\tdt.style.setProperty(\"font-size\", \"1rem\");\n\t\t\tdd.style.setProperty(\"margin-inline-start\", \".25rem\");\n\n\t\t\tconst isHighlightedOrLink = labelValuePair.querySelector(\n\t\t\t\t\"now-highlighted-value, now-text-link\"\n\t\t\t);\n\t\t\tif (\n\t\t\t\tisHighlightedOrLink &&\n\t\t\t\tlayoutType === CONSTS.LAYOUT.DISTRIBUTED.NAME\n\t\t\t) {\n\t\t\t\tlabelValuePair\n\t\t\t\t\t.querySelector(\"dd\")\n\t\t\t\t\t.style.setProperty(\"overflow\", \"hidden\");\n\t\t\t}\n\t\t} else {\n\t\t\t// this is used to reset displayInline when changed from true to false\n\t\t\tlabelValuePair.style.removeProperty(\"display\");\n\t\t\tlabelValuePair.style.removeProperty(\"align-items\");\n\t\t\tdt.style.removeProperty(\"font-size\");\n\t\t\tdd.style.removeProperty(\"margin-inline-start\");\n\n\t\t\tconst isHighlightedOrLink = labelValuePair.querySelector(\n\t\t\t\t\"now-highlighted-value, now-text-link\"\n\t\t\t);\n\t\t\tif (\n\t\t\t\tisHighlightedOrLink &&\n\t\t\t\tlayoutType === CONSTS.LAYOUT.DISTRIBUTED.NAME\n\t\t\t) {\n\t\t\t\tlabelValuePair.querySelector(\"dd\").style.removeProperty(\"overflow\");\n\t\t\t}\n\t\t}\n\t});\n};\n\nconst handleDistributedLayout = toggleContainer => {\n\tremoveDelimiterNodesFromContainer(toggleContainer);\n};\n\nconst handleDynamicLayout = (state, toggleContainer) => {\n\tconst labelValuePairNodes = getLabelValuePairs(toggleContainer);\n\tlabelValuePairNodes.forEach(labelValuePair => {\n\t\tconst dt = labelValuePair.querySelector(\"dt\");\n\t\tconst dd = labelValuePair.querySelector(\"dd\");\n\n\t\tlabelValuePair.style.removeProperty(\"min-width\");\n\t\tdt.style.setProperty(\"max-width\", CONSTS.LAYOUT.DYNAMIC.MAX_WIDTH);\n\t\tdd.style.setProperty(\"max-width\", CONSTS.LAYOUT.DYNAMIC.MAX_WIDTH);\n\t});\n\n\thandleDelimiter(state, toggleContainer);\n};\n\nconst onToggleChange = state => {\n\tconst { toggleOpen, toggleHeight, toggleContainerRef } = state;\n\n\ttoggleHeightCalculator.applyToggleHeight(\n\t\t!toggleOpen,\n\t\ttoggleHeight,\n\t\ttoggleContainerRef\n\t);\n};\n\nconst handleLineClamping = (dd, maxLinesPerValue) => {\n\tconst divToClamp = dd.querySelector(\".needs-clamping\");\n\tif (divToClamp) lineClamp(divToClamp, maxLinesPerValue);\n};\n\nconst applyStyles = (state, host) => {\n\tconst {\n\t\ttoggleContainerRef,\n\t\tproperties: { layoutType }\n\t} = state;\n\tconst toggleContainer = toggleContainerRef || host;\n\tconst dl = getLabelValuePairContainer(toggleContainer);\n\n\tif (!dl) return;\n\n\thandleDisplayInline(state, toggleContainer);\n\n\tif (layoutType === CONSTS.LAYOUT.DYNAMIC.NAME)\n\t\thandleDynamicLayout(state, toggleContainer);\n\telse handleDistributedLayout(toggleContainer);\n};\n\nconst onWidthChange = state => {\n\tconst {\n\t\tproperties: { maxLinesPerValue, rowsBeforeToggleShown },\n\t\ttoggleContainerRef\n\t} = state;\n\tconst dl = getLabelValuePairContainer(toggleContainerRef);\n\n\tif (!dl) return;\n\n\tconst labelValuePairNodes = getLabelValuePairs(toggleContainerRef);\n\n\tlabelValuePairNodes.forEach(labelValuePair => {\n\t\tconst dd = labelValuePair.querySelector(\"dd\");\n\n\t\tif (isRTL()) handleLineClamping(dd, maxLinesPerValue);\n\t});\n};\n\nconst calculateToggleState = state => {\n\tconst {\n\t\tproperties: { enableToggle, rowsBeforeToggleShown },\n\t\tbehaviors: {\n\t\t\tresize: {\n\t\t\t\tsize: { width }\n\t\t\t}\n\t\t},\n\t\ttoggleContainerRef,\n\t\ttoggleOpen,\n\t\tshowToggle\n\t} = state;\n\n\tconst dl = getLabelValuePairContainer(toggleContainerRef);\n\n\tif (!dl) return;\n\n\tif (!(rowsBeforeToggleShown > 0)) return { width };\n\n\tconst labelValuePairRects = getRects(toggleContainerRef);\n\tconst rowStartIndices = getRowStartIndices(labelValuePairRects);\n\tconst rowCount = rowStartIndices.length;\n\n\tif (rowCount <= rowsBeforeToggleShown) {\n\t\ttoggleContainerRef.style.removeProperty(\"max-height\");\n\t\tif (showToggle)\n\t\t\treturn {\n\t\t\t\twidth,\n\t\t\t\tshowToggle: false\n\t\t\t};\n\t\treturn;\n\t}\n\n\tconst toggleHeight = toggleHeightCalculator.calcToggleHeight(\n\t\trowsBeforeToggleShown,\n\t\tlabelValuePairRects\n\t);\n\n\ttoggleHeightCalculator.applyToggleHeight(\n\t\ttoggleOpen,\n\t\ttoggleHeight,\n\t\ttoggleContainerRef\n\t);\n\n\treturn {\n\t\twidth,\n\t\tshowToggle: true,\n\t\ttoggleHeight\n\t};\n};\n\nconst recalculateLayout = state => {\n\tapplyStyles(state);\n\tonWidthChange(state);\n\treturn calculateToggleState(state);\n};\n\nexport const isRTL = () => document.dir === \"rtl\";\n\nexport const LayoutHandler = {\n\tapplyStyles,\n\tonWidthChange,\n\trecalculateLayout,\n\tonToggleChange,\n\tcalculateToggleState\n};\n","import { getMaxLineHeight } from \"./lineHeightCalculator\";\n\nconst ELLIPSIS = \"\";\n\n// do search to find index of word which is the last word that will be able to fit\n// and then another to find the best letter in the last word to pu the ellipsis\nconst setEllipsisPosition = (element, words, maxHeight) => {\n\tlet max = words.length - 1;\n\tlet min = 0;\n\tlet middleWordIndex = 0;\n\tlet bestFitWords = \"\";\n\tif (max > 0)\n\t\t// binary search for best word\n\t\twhile (min <= max) {\n\t\t\tmiddleWordIndex = Math.floor((min + max) / 2);\n\t\t\telement.innerText = words.slice(0, middleWordIndex).join(\" \") + ELLIPSIS;\n\t\t\tif (element.scrollHeight > maxHeight) {\n\t\t\t\tmax = middleWordIndex - 1;\n\t\t\t} else {\n\t\t\t\tmin = middleWordIndex + 1;\n\t\t\t\tbestFitWords = words.slice(0, middleWordIndex).join(\" \");\n\t\t\t}\n\t\t}\n\n\telement.innerText = bestFitWords;\n\n\tif (middleWordIndex > words.length - 1) return;\n\tconst wordToTruncate = words[middleWordIndex];\n\tmax = wordToTruncate.length - 1;\n\tmin = 0;\n\tlet middleLetterIndex = 0;\n\tlet bestFitFinal = bestFitWords + ELLIPSIS;\n\t//binary search to find best place in word\n\twhile (min <= max) {\n\t\tmiddleLetterIndex = Math.floor((min + max) / 2);\n\t\telement.innerText =\n\t\t\tbestFitWords +\n\t\t\t\" \" +\n\t\t\twordToTruncate.slice(0, middleLetterIndex) +\n\t\t\tELLIPSIS;\n\t\tif (element.scrollHeight > maxHeight) max = middleLetterIndex - 1;\n\t\telse {\n\t\t\tmin = middleLetterIndex + 1;\n\t\t\tbestFitFinal = element.innerText;\n\t\t}\n\t}\n\n\telement.innerText = bestFitFinal.trim();\n};\n\nexport function lineClamp(element, lineCount) {\n\t// reset back to original text if already been clamped\n\telement.innerText = element.getAttribute(\"title\");\n\t// if no lineCount or 0 then just leave it\n\tif (typeof lineCount !== \"number\" || lineCount === 0) {\n\t\telement.style.cssText = \"white-space:normal;word-break:break-all;\";\n\t\treturn;\n\t}\n\n\tconst words = element.innerText.split(\" \");\n\n\tif (!words.length) return;\n\n\t//calc the max height\n\tconst maxHeight = getMaxLineHeight(lineCount);\n\n\t// If already fits, were good to go\n\tif (element.scrollHeight <= maxHeight) return;\n\n\tsetEllipsisPosition(element, words, maxHeight);\n}\n","import {\n\tgetLabelValuePairContainer,\n\tgetLabelValuePairs\n} from \"./labelValueProvider\";\n\nconst delimiterPlaceholder = \"{{delimiter}}\";\nconst delimiterLabelPlaceholder = \"{{label}}\";\nconst delimiterInlineStylePlaceholder = \"{{inlineStyle}}\";\nconst delimiterClass = \"delimiter-item\";\nconst delimiterClassSelector = `.${delimiterClass}`;\nconst delimiterValueClass = \"delimiter-value\";\nconst delimiterDisplayInlineStyle = \"display:flex;align-items:baseline;\";\nconst delimiterItemTemplate = `<div class=\"now-label-value-pair ${delimiterClass}\" aria-hidden style=\"min-width: 0;width: .1rem;${delimiterInlineStylePlaceholder}\"><dt aria-hidden><div class=\"now-line-height-crop\">${delimiterLabelPlaceholder}<div class=\"now-label-value-label\"></div></div></dt><dd aria-hidden><div class=\"now-line-height-crop ${delimiterValueClass}\">${delimiterPlaceholder}</div></dd></div>`;\n\nconst getDelimiterHtml = (delimiter, hideLabels, displayInline) =>\n\tdelimiterItemTemplate\n\t\t.replace(delimiterPlaceholder, delimiter)\n\t\t.replace(\n\t\t\tdelimiterLabelPlaceholder,\n\t\t\thideLabels || displayInline ? \"\" : \"&nbsp;\"\n\t\t)\n\t\t.replace(\n\t\t\tdelimiterInlineStylePlaceholder,\n\t\t\tdisplayInline ? delimiterDisplayInlineStyle : \"\"\n\t\t);\n\nconst createDelimiterNode = (delimiter, hideLabels, displayInline) =>\n\tdocument\n\t\t.createRange()\n\t\t.createContextualFragment(\n\t\t\tgetDelimiterHtml(delimiter, hideLabels, displayInline)\n\t\t).firstChild;\n\nconst replaceDelimiterNodes = (\n\tnodeWrapper,\n\tdelimiterNodes,\n\tdelimiter,\n\thideLabels,\n\tdisplayInline\n) => {\n\tdelimiterNodes.forEach(node => {\n\t\tnodeWrapper.replaceChild(\n\t\t\tcreateDelimiterNode(delimiter, hideLabels, displayInline),\n\t\t\tnode\n\t\t);\n\t});\n};\n\nconst removeDelimiterNodes = (nodeWrapper, delimiterNodes) => {\n\tif (delimiterNodes.length)\n\t\tdelimiterNodes.forEach(node => nodeWrapper.removeChild(node));\n};\n\nconst getDelimiterNodes = toggleContainer => {\n\tconst dl = getLabelValuePairContainer(toggleContainer);\n\treturn { delimiterNodes: dl.querySelectorAll(delimiterClassSelector), dl };\n};\n\nconst removeDelimiterNodesFromContainer = toggleContainer => {\n\tconst { delimiterNodes, dl } = getDelimiterNodes(toggleContainer);\n\tif (delimiterNodes.length)\n\t\tdelimiterNodes.forEach(node => dl.removeChild(node));\n};\n\nconst handleDelimiter = (state, toggleContainer) => {\n\tconst {\n\t\tproperties: { delimiter, hideLabels, displayInline }\n\t} = state;\n\n\tconst { delimiterNodes, dl } = getDelimiterNodes(toggleContainer);\n\n\tif (delimiterNodes && delimiterNodes.length) {\n\t\tif (!delimiter) removeDelimiterNodes(dl, delimiterNodes);\n\t\telse\n\t\t\treplaceDelimiterNodes(\n\t\t\t\tdl,\n\t\t\t\tdelimiterNodes,\n\t\t\t\tdelimiter,\n\t\t\t\thideLabels,\n\t\t\t\tdisplayInline\n\t\t\t);\n\t} else if (delimiter) {\n\t\tconst labelValuePairNodes = getLabelValuePairs(toggleContainer);\n\t\tlabelValuePairNodes\n\t\t\t.filter(pair => !pair.classList.contains(delimiterClass))\n\t\t\t.forEach((labelValuePair, index) => {\n\t\t\t\tconst isLastNode = index === labelValuePairNodes.length - 1;\n\t\t\t\tif (!isLastNode) {\n\t\t\t\t\tlabelValuePair.insertAdjacentHTML(\n\t\t\t\t\t\t\"afterend\",\n\t\t\t\t\t\tgetDelimiterHtml(delimiter, hideLabels, displayInline)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t}\n};\n\nexport {\n\tdelimiterClass,\n\tgetDelimiterNodes,\n\tremoveDelimiterNodesFromContainer,\n\thandleDelimiter\n};\n","import { getRowStartIndices } from \"./labelValueProvider\";\n\nconst calcToggleHeight = (rowsBeforeToggleShown, labelValuePairRects) => {\n\tconst rowStartIndices = getRowStartIndices(labelValuePairRects);\n\tif (\n\t\t!(rowStartIndices && rowStartIndices.length) ||\n\t\trowsBeforeToggleShown > rowStartIndices.length\n\t)\n\t\treturn 0;\n\n\tlet maxHeightPerRow = [];\n\n\tfor (let i = 0; i < rowStartIndices[rowsBeforeToggleShown]; i++) {\n\t\tif (rowStartIndices.includes(i)) {\n\t\t\tmaxHeightPerRow.push({\n\t\t\t\tindex: i,\n\t\t\t\trect: labelValuePairRects[i].rect\n\t\t\t});\n\t\t} else {\n\t\t\tconst lastIndex = maxHeightPerRow.length - 1;\n\t\t\tif (\n\t\t\t\tlabelValuePairRects[i].rect.height >\n\t\t\t\tmaxHeightPerRow[lastIndex].rect.height\n\t\t\t) {\n\t\t\t\tmaxHeightPerRow.splice(lastIndex, 1, {\n\t\t\t\t\tindex: i,\n\t\t\t\t\trect: labelValuePairRects[i].rect\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\treturn Math.ceil(\n\t\tmaxHeightPerRow[maxHeightPerRow.length - 1].rect.bottom -\n\t\t\tmaxHeightPerRow[0].rect.top\n\t);\n};\n\nconst applyToggleHeight = (toggleOpen, toggleHeight, toggleContainer) => {\n\tif (!toggleHeight) return;\n\tif (toggleOpen) {\n\t\ttoggleContainer.style.removeProperty(\"max-height\");\n\t\treturn;\n\t}\n\ttoggleContainer.style.setProperty(\"max-height\", toggleHeight + 10 + \"px\");\n};\n\nexport const toggleHeightCalculator = {\n\tapplyToggleHeight,\n\tcalcToggleHeight\n};\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./displayValueBlock.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(now-display-value-block){display:block}:host(now-display-value-block) now-heading+.wrapper-div{margin-top:.875rem}:host(now-display-value-block) .wrapper-div{overflow:hidden;padding:.5rem 0}:host(now-display-value-block) .\\\\--hidden{opacity:0;height:0;overflow:hidden}:host(now-display-value-block) now-button-bare{margin-top:1rem}\", \"\"]);\n\n// exports\n","import { actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_DOM_TREE_READY } = actionTypes;\nconst DISPATCH_CUSTOM_EVENT = \"DISPATCH_CUSTOM_EVENT\";\nconst getLifeCycleEventListenerRenderer = (baseRenderer, lifeCycleEvent, wait = 500) => {\n\treturn {\n\t\tonStateChange: async (el,getTemplate, arg3, arg4) => {\n\t\t\tlet lifeCycleEventTriggeredResolve = null;\n\t\t\tconst lifeCycleEventTriggeredPromise = new Promise((resolve) => {\n\t\t\t\tlifeCycleEventTriggeredResolve = resolve;\n\t\t\t})\n\t\t\tconst timeout = setTimeout(() => {\n\t\t\t\tlifeCycleEventTriggeredResolve()\n\t\t\t}, wait)\n\t\t\tconst listener = async ({ detail: {type }}) => {\n\t\t\t\tif (type === lifeCycleEvent) {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\tel.removeEventListener(DISPATCH_CUSTOM_EVENT, listener);\n\t\t\t\t\tlifeCycleEventTriggeredResolve();\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tel.addEventListener(DISPATCH_CUSTOM_EVENT, listener, false);\n\t\t\tawait baseRenderer.onStateChange(el, getTemplate, arg3, arg4);\n\t\t\treturn lifeCycleEventTriggeredPromise;\n\t\t},\n\t\tonDisconnect: baseRenderer.onDisconnect\n\t}\n}\n\nexport const afterDomTreeReadyRenderer =\n\t(baseRenderer, wait = 5000) => getLifeCycleEventListenerRenderer(baseRenderer, COMPONENT_DOM_TREE_READY, wait);\n\n// BELOW is the fixture function which the above renderer is passed into when creating the fixture\n// in a functional test. it wraps the passsed renderer and delegates rendering to it, but adds\n// listener for the specified lifecycleEvent and will resolve the render when it has been triggered\n// if there is a bug and the lifecycleEvent is not triggered (this should never happen unless seismic is broken)\n// it will resolve anyways after the specified wait time\n//\n// export default function fixture(template, renderer = {}) {\n// \tconst isTemplateString = isString(template);\n// \tconst {onStateChange: render, onDisconnect: disconnect} = renderer;\n// \tlet el;\n\n// \tconst create = async () => {\n// \t\tif (el)\n// \t\t\tthrow new Error('Fixture was already created, call `destroy()` first');\n\n// \t\tel = document.createElement('DIV');\n// \t\tdocument.body.appendChild(el);\n// \t\tif (isTemplateString)\n// \t\t\tel.innerHTML = template;\n// \t\telse\n// \t\t\tawait render(el, () => template, {}, () => {});\n\n// \t\tawait flushQueue();\n// \t\treturn el.firstElementChild;\n// \t};\n\n// \tconst destroy = async () => {\n// \t\tif (!el)\n// \t\t\tthrow new Error('Fixture has not been created, call `create()` first');\n\n// \t\tif (!isTemplateString)\n// \t\t\tawait disconnect(el);\n\n// \t\tel.parentElement.removeChild(el);\n// \t\tel = null;\n// \t\treturn;\n// \t};\n\n// \treturn {create, destroy};\n// }","export { default as HeaderConnectedElement } from \"./headerConnected\";\nexport { default as HeaderElement } from \"./header\";\nexport { createHeaderDataSource } from \"./datasource/headerDataSource\";\nexport {\n\tcreateHeaderConfigurationDataProvider\n} from \"./headerConfigurationDataProvider\";\nexport {\n\tcreateHeaderConfigurationDataSource\n} from \"./datasource/configurationDataSource\";\nexport { HEADER_ACTIONS_PREVIEW_RECORD } from \"./headerConst\";\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { _isEmpty } from \"./HeaderCommon.js\";\nimport { createHeaderDataProvider } from \"./headerDataProvider\";\nimport { default as HEADER_COMPONENT } from \"./header\";\nimport _ from \"lodash\";\n\nconst headerDataProvider = createHeaderDataProvider();\n\n// Create view for renderer\nconst view = state => {\n\tconst attrs = _.pick(state.properties, [\n\t\t\"primaryValue\",\n\t\t\"secondaryItems\",\n\t\t\"table\",\n\t\t\"sysId\",\n\t\t\"recordDisplayValue\",\n\t\t\"recordTags\"\n\t]);\n\treturn <HEADER_COMPONENT {...attrs} />;\n};\n\nconst HEADER_CONNECT_COMPONENT = \"now-record-common-header-connected\";\n\n// Create header component\ncreateCustomElement(HEADER_CONNECT_COMPONENT, {\n\tproperties: headerDataProvider.properties,\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tactions: headerDataProvider.actions,\n\tactionHandlers: headerDataProvider.actionHandlers\n});\n\nexport default HEADER_CONNECT_COMPONENT;\n","import { createHeaderDataSource } from \"./datasource/headerDataSource\";\nimport { createViewableRecordTagDataSource } from \"../tags/tag/tagDataSource\";\nimport { createDataProvider, getFetchActions } from \"@devsnc/library-form\";\n\nconst HEADER_DATA_PROVIDER = \"header-data-provider\";\n\nexport const headerFetchActions = getFetchActions(HEADER_DATA_PROVIDER);\nexport const createHeaderDataProvider = () => {\n\treturn createDataProvider({\n\t\tname: HEADER_DATA_PROVIDER,\n\t\tdataSources: [\n\t\t\tcreateHeaderDataSource(\"\"),\n\t\t\tcreateViewableRecordTagDataSource(\"\")\n\t\t]\n\t});\n};\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./Header.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(now-record-common-header){display:block;min-width:0}.headerImageConstraints{height:2.625rem;width:2.625rem}.sn-heading{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:2rem;font-weight:400;margin-bottom:0;margin-top:0}.sn-heading-container{display:flex;flex-direction:column}.sn-heading-container sn-record-tags-connected{margin-left:1rem}.sn-heading-container.headerImage now-image,.sn-heading-container.subHeading now-image{align-self:flex-start;margin-inline-end:.75rem}.sn-heading-container.headerImage .subheading,.sn-heading-container.subHeading .subheading{margin-top:0;margin-bottom:.75rem}.sn-heading-container.headerImage .subheading p,.sn-heading-container.subHeading .subheading p{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0}.sn-heading-container.headerImage sn-form-internal-header-label-value-set,.sn-heading-container.subHeading sn-form-internal-header-label-value-set{margin-top:0}.sn-heading-container>.sn-heading-row{margin-bottom:0}.sn-heading-container>.sn-heading-row>.sn-heading-container>.sn-heading-row:first-of-type,.sn-heading-container>.sn-heading-row>.sn-heading-container>.sn-heading-row:only-of-type{margin-bottom:.5rem}.sn-heading-container.headerImage .sn-heading-content{flex:1 1 auto}.sn-heading-content{min-width:0}.sn-heading-row{align-items:center;display:flex}:host(:not([dir=rtl])) .sn-heading-row>now-button:first-child,:root:not([dir=rtl]) .sn-heading-row>now-button:first-child{margin-right:.5rem}:host([dir=rtl]) .sn-heading-row>now-button:first-child,:root[dir=rtl] .sn-heading-row>now-button:first-child{margin-left:.5rem}.sn-heading-row.subheading p{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1rem;margin-bottom:.75rem}\", \"\"]);\n\n// exports\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport \"@servicenow/now-label-value\";\nimport \"@servicenow/now-highlighted-value\";\nimport \"@servicenow/now-text-link\";\nimport styles from \"./HeaderLabelValueCommon.scss\";\nimport \"./HeaderLabelValue.js\";\nimport \"./HeaderLabelHighlightedValue.js\";\nimport \"./HeaderLabelReferenceValue.js\";\nimport _ from \"lodash\";\nimport { ITEM_TYPES } from \"./headerConst\";\n\nconst renderSimpleItem = item => {\n\treturn (\n\t\t<sn-form-internal-header-label-value\n\t\t\tfieldLabel={item.fieldLabel}\n\t\t\tdisplayValue={item.displayValue}\n\t\t/>\n\t);\n};\n\nconst renderHighlightedItem = item => {\n\treturn (\n\t\t<sn-form-internal-header-label-highlighted-value\n\t\t\tfieldLabel={item.fieldLabel}\n\t\t\tdisplayValue={item.displayValue}\n\t\t\tstatus={item.status}\n\t\t\tshowIcon={item.showIcon}\n\t\t/>\n\t);\n};\n\nconst renderReferenceItem = item => {\n\treturn (\n\t\t<sn-form-internal-header-label-reference-value\n\t\t\tfieldLabel={item.fieldLabel}\n\t\t\tdisplayValue={item.displayValue}\n\t\t\ttable={item.table}\n\t\t\tsysId={item.sysId}\n\t\t/>\n\t);\n};\n\nexport const view = state => {\n\tlet items = _.get(state, \"properties.items\", []);\n\tif (items.length === 0) return;\n\n\titems = items.map(item => {\n\t\t// Default type\n\t\titem.type = item.type || ITEM_TYPES.SIMPLE;\n\n\t\t// Simple label/value\n\t\tif (item.type === ITEM_TYPES.SIMPLE) return renderSimpleItem(item);\n\n\t\t// Highlighted\n\t\tif (item.type === ITEM_TYPES.HIGHLIGHTED)\n\t\t\treturn renderHighlightedItem(item);\n\n\t\t// Reference\n\t\tif (item.type === ITEM_TYPES.REFERENCE) return renderReferenceItem(item);\n\t});\n\n\treturn <dl className=\"sn-label-value-set\">{items}</dl>;\n};\n\ncreateCustomElement(\"sn-form-internal-header-label-value-set\", {\n\tproperties: {\n\t\titems: {}\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles\n});\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host-context(.sn-heading-container) .sn-label-value-set{margin-top:0;margin-bottom:0}:host(sn-form-internal-header-label-value-set){display:block}.sn-label-value-set{display:flex}.sn-label-value-pair{display:block;margin:0;max-width:9rem}:host(:not([dir=rtl])) .sn-label-value-pair,:root:not([dir=rtl]) .sn-label-value-pair{margin-right:1rem}:host([dir=rtl]) .sn-label-value-pair,:root[dir=rtl] .sn-label-value-pair{margin-left:1rem}.sn-label-value-label,.sn-label-value-value{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-label-value-label{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));font-size:.75rem;margin-bottom:.125rem}.sn-label-value-value{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));font-size:1rem}:host(:not([dir=rtl])) .sn-label-value-value,:root:not([dir=rtl]) .sn-label-value-value{margin-left:0}:host([dir=rtl]) .sn-label-value-value,:root[dir=rtl] .sn-label-value-value{margin-right:0}\", \"\"]);\n\n// exports\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport \"@servicenow/now-tooltip\";\nimport snabbdom, {\n\tcreateRef,\n\tFragment\n} from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./HeaderLabelValueCommon.scss\";\nimport { _addMissingRequiredProperty } from \"./HeaderCommon.js\";\n\nexport const acceptedProperties = {\n\tfieldLabel: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\tdisplayValue: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\tddRef: { default: null },\n\tdtRef: { default: null }\n};\n\n// Create view for renderer\nexport const view = (state, { updateProperties }) => {\n\tif (state.properties.missingRequiredProperty) return;\n\tconst {\n\t\tcomponentId,\n\t\tproperties: { fieldLabel, displayValue, dtRef, ddRef }\n\t} = state;\n\tconst labelId = `label-${componentId}`;\n\treturn (\n\t\t<div className=\"sn-label-value-pair\">\n\t\t\t<dt\n\t\t\t\tclassName=\"sn-label-value-label\"\n\t\t\t\trole=\"listitem\"\n\t\t\t\tid={labelId}\n\t\t\t\thook={{\n\t\t\t\t\tinsert: ({ elm }) => updateProperties({ dtRef: elm }),\n\t\t\t\t\tremove: () => updateProperties({ dtRef: null })\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{fieldLabel}\n\t\t\t</dt>\n\t\t\t<dd\n\t\t\t\tclassName=\"sn-label-value-value\"\n\t\t\t\thook={{\n\t\t\t\t\tinsert: ({ elm }) => updateProperties({ ddRef: elm }),\n\t\t\t\t\tremove: () => updateProperties({ ddRef: null })\n\t\t\t\t}}\n\t\t\t\taria-labelledby={labelId}\n\t\t\t>\n\t\t\t\t{displayValue}\n\t\t\t</dd>\n\t\t\t<now-tooltip\n\t\t\t\ttarget-ref={dtRef}\n\t\t\t\tcontent={fieldLabel}\n\t\t\t\tposition={[\"top-start\", \"top-end\", \"bottom-start\", \"bottom-end\"]}\n\t\t\t/>\n\t\t\t<now-tooltip\n\t\t\t\ttarget-ref={ddRef}\n\t\t\t\tcontent={displayValue}\n\t\t\t\tposition={[\"bottom-start\", \"bottom-end\"]}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\ncreateCustomElement(\"sn-form-internal-header-label-value\", {\n\tproperties: acceptedProperties,\n\trenderer: {\n\t\ttype: snabbdom,\n\t\ttransformProps(state) {\n\t\t\treturn _addMissingRequiredProperty(state, acceptedProperties);\n\t\t}\n\t},\n\tview,\n\tstyles\n});\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport \"@servicenow/now-highlighted-value\";\nimport styles from \"./HeaderLabelValueCommon.scss\";\nimport { _addMissingRequiredProperty } from \"./HeaderCommon.js\";\n\nexport const acceptedProperties = {\n\tfieldLabel: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\tdisplayValue: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\tstatus: {\n\t\tdefault: \"low\"\n\t},\n\tshowIcon: {\n\t\tdefault: false\n\t},\n\tddRef: { default: null },\n\tdtRef: { default: null }\n};\n\n// Create view for renderer\nexport const view = (state, { updateProperties }) => {\n\tif (state.properties.missingRequiredProperty) return;\n\n\tconst {\n\t\tcomponentId,\n\t\tproperties: { fieldLabel, displayValue, status, showIcon, dtRef, ddRef }\n\t} = state;\n\tconst labelId = `label-${componentId}`;\n\treturn (\n\t\t<div className=\"sn-label-value-pair\">\n\t\t\t<dt\n\t\t\t\tclassName=\"sn-label-value-label\"\n\t\t\t\trole=\"listitem\"\n\t\t\t\tid={labelId}\n\t\t\t\thook={{\n\t\t\t\t\tinsert: ({ elm }) => updateProperties({ dtRef: elm }),\n\t\t\t\t\tremove: () => updateProperties({ dtRef: null })\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{fieldLabel}\n\t\t\t</dt>\n\t\t\t<dd\n\t\t\t\tclassName=\"sn-label-value-value\"\n\t\t\t\taria-labelledby={labelId}\n\t\t\t\thook={{\n\t\t\t\t\tinsert: ({ elm }) => updateProperties({ ddRef: elm }),\n\t\t\t\t\tremove: () => updateProperties({ ddRef: null })\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<now-highlighted-value\n\t\t\t\t\tclassName=\"now-highlighted-value\"\n\t\t\t\t\tlabel={displayValue}\n\t\t\t\t\tstatus={status}\n\t\t\t\t\tshowIcon={showIcon}\n\t\t\t\t/>\n\t\t\t</dd>\n\t\t\t<now-tooltip\n\t\t\t\ttarget-ref={dtRef}\n\t\t\t\tcontent={fieldLabel}\n\t\t\t\tposition={[\"top-start\", \"top-end\", \"bottom-start\", \"bottom-end\"]}\n\t\t\t/>\n\t\t\t<now-tooltip\n\t\t\t\ttarget-ref={ddRef}\n\t\t\t\tcontent={displayValue}\n\t\t\t\tposition={[\"bottom-start\", \"bottom-end\"]}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\ncreateCustomElement(\"sn-form-internal-header-label-highlighted-value\", {\n\tproperties: acceptedProperties,\n\trenderer: {\n\t\ttype: snabbdom,\n\t\ttransformProps(state) {\n\t\t\treturn _addMissingRequiredProperty(state, acceptedProperties);\n\t\t}\n\t},\n\tview,\n\tstyles\n});\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport \"@servicenow/now-text-link\";\nimport styles from \"./HeaderLabelValueCommon.scss\";\nimport { _addMissingRequiredProperty } from \"./HeaderCommon.js\";\nimport { dispatchPreviewRecord } from \"@devsnc/library-form\";\nconst NOW_TEXT_LINK_CLICKED = \"NOW_TEXT_LINK#CLICKED\";\n\nexport const acceptedProperties = {\n\tfieldLabel: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\tdisplayValue: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\ttable: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\tsysId: {\n\t\tdefault: \"\",\n\t\trequired: true\n\t},\n\tddRef: { default: null },\n\tdtRef: { default: null }\n};\n\n// Create view for renderer\nexport const view = (state, { updateProperties }) => {\n\tif (state.properties.missingRequiredProperty) return;\n\n\tconst {\n\t\tcomponentId,\n\t\tproperties: { fieldLabel, displayValue, dtRef, ddRef }\n\t} = state;\n\tconst labelId = `label-${componentId}`;\n\treturn (\n\t\t<div className=\"sn-label-value-pair\">\n\t\t\t<dt\n\t\t\t\tclassName=\"sn-label-value-label\"\n\t\t\t\trole=\"listitem\"\n\t\t\t\tid={labelId}\n\t\t\t\thook={{\n\t\t\t\t\tinsert: ({ elm }) => updateProperties({ dtRef: elm }),\n\t\t\t\t\tremove: () => updateProperties({ dtRef: null })\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{fieldLabel}\n\t\t\t</dt>\n\t\t\t<dd\n\t\t\t\tclassName=\"sn-label-value-value\"\n\t\t\t\taria-labelledby={labelId}\n\t\t\t\thook={{\n\t\t\t\t\tinsert: ({ elm }) => updateProperties({ ddRef: elm }),\n\t\t\t\t\tremove: () => updateProperties({ ddRef: null })\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<now-text-link\n\t\t\t\t\tlabel={displayValue}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t/>\n\t\t\t</dd>\n\t\t\t<now-tooltip\n\t\t\t\ttarget-ref={dtRef}\n\t\t\t\tcontent={fieldLabel}\n\t\t\t\tposition={[\"top-start\", \"top-end\", \"bottom-start\", \"bottom-end\"]}\n\t\t\t/>\n\t\t\t<now-tooltip\n\t\t\t\ttarget-ref={ddRef}\n\t\t\t\tcontent={displayValue}\n\t\t\t\tposition={[\"bottom-start\", \"bottom-end\"]}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\ncreateCustomElement(\"sn-form-internal-header-label-reference-value\", {\n\tproperties: acceptedProperties,\n\trenderer: {\n\t\ttype: snabbdom,\n\t\ttransformProps(state) {\n\t\t\treturn _addMissingRequiredProperty(state, acceptedProperties);\n\t\t}\n\t},\n\tactions: {\n\t\t[NOW_TEXT_LINK_CLICKED]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[NOW_TEXT_LINK_CLICKED]: coeffects => {\n\t\t\tconst {\n\t\t\t\tdispatch,\n\t\t\t\tstate: {\n\t\t\t\t\tproperties: { table, sysId }\n\t\t\t\t}\n\t\t\t} = coeffects;\n\t\t\tdispatchPreviewRecord(dispatch, { table, sysId });\n\t\t}\n\t},\n\tview,\n\tstyles\n});\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport {\n\tACTIONS,\n\tLABELS,\n\tCOMPONENT_EDIT_TAG_MODAL,\n\tCOMPONENT_TAG_LIST\n} from \"../constants\";\nimport \"@servicenow/now-button\";\nimport \"@servicenow/now-popover\";\nimport tagActions from \"./tagActions\";\nimport \"../tagList/tagList\";\nimport \"../editTagModal/editTagModal\";\nimport { EmptyStateElement } from \"../../emptyState\";\nimport { t } from \"sn-translate\";\n\nconst getTagIcon = (tags = []) => {\n\tswitch (tags.length) {\n\t\tcase 0:\n\t\t\treturn \"tag-outline\";\n\t\tcase 1:\n\t\t\treturn \"tag-fill\";\n\t\tdefault:\n\t\t\treturn \"tags-fill\";\n\t}\n};\n\nconst closeTagListOnBlur = (state, dispatch) => () => {\n\tif (!state.tagIconJustClicked) {\n\t\tdispatch(ACTIONS.TAG_ICON_CLICKED, { eventSource: ACTIONS.EVENT_SOURCE });\n\t}\n};\n\nconst onTagIconMouseDown = dispatch => () => {\n\tdispatch(ACTIONS.SET_TAG_STATE, { tagIconJustClicked: true });\n};\n\nconst renderTagList = (state, dispatch) => {\n\tconst {\n\t\ttags = [],\n\t\tproperties: { table, sysId, displayValue },\n\t\topened\n\t} = state;\n\treturn (\n\t\t<COMPONENT_TAG_LIST\n\t\t\tslot=\"content\"\n\t\t\ttaglist={tags}\n\t\t\ttable={table}\n\t\t\tsysId={sysId}\n\t\t\ttabindex={opened ? \"0\" : \"-1\"}\n\t\t\tdisplayValue={displayValue}\n\t\t\ton-blur={closeTagListOnBlur(state, dispatch)}\n\t\t/>\n\t);\n};\n\nconst view = (state, { dispatch }) => {\n\tconst {\n\t\ttagEnabled,\n\t\ttags = [],\n\t\tproperties: { table, sysId, classicForm, headerSubComponent },\n\t\teditMode,\n\t\teditTagId,\n\t\topened,\n\t\thoistOverlayToContainer\n\t} = state;\n\n\tif (classicForm && !tagEnabled) return null;\n\telse if (!headerSubComponent && (!table || !sysId))\n\t\treturn <EmptyStateElement message={t(\"No data to display\")} />;\n\n\tconst tagIcon = getTagIcon(tags);\n\tconst tooltip = tags.length > 1 ? LABELS.TAGS : LABELS.TAG;\n\tconst ariaLabel = `${LABELS.TAG_ICON_ARIA_LABEL} - ${tags.length} ${tooltip}`;\n\tconst editTagModalProps = {\n\t\topened: editMode,\n\t\ttabindex: editMode ? \"0\" : \"-1\",\n\t\ttagId: editTagId\n\t};\n\n\treturn (\n\t\t<div className=\"sn-form-header-tag\">\n\t\t\t<now-popover\n\t\t\t\thide-tail={true}\n\t\t\t\tappend-to-payload={{\n\t\t\t\t\teventSource: ACTIONS.EVENT_SOURCE\n\t\t\t\t}}\n\t\t\t\topened={opened}\n\t\t\t>\n\t\t\t\t<now-button\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tbare\n\t\t\t\t\tcomponentName=\"tag-button\"\n\t\t\t\t\ticon-name={tagIcon}\n\t\t\t\t\ttooltipContent={tooltip}\n\t\t\t\t\tconfig-aria={{ \"aria-label\": ariaLabel }}\n\t\t\t\t\tslot=\"trigger\"\n\t\t\t\t\ton-mousedown={onTagIconMouseDown(dispatch)}\n\t\t\t\t/>\n\t\t\t\t{renderTagList(state, dispatch)}\n\t\t\t</now-popover>\n\t\t\t{opened || editMode ? (\n\t\t\t\thoistOverlayToContainer ?\n\t\t\t\t\t<COMPONENT_EDIT_TAG_MODAL nowHoist nowHoistPrependTo={hoistOverlayToContainer} {...editTagModalProps} /> :\n\t\t\t\t\t<COMPONENT_EDIT_TAG_MODAL {...editTagModalProps} />\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\n/**\n * Lets users add text label tags to records in order to group and organize them.\n * Users can add, delete, and modify tags, or set permissions to restrict who can see them.\n * ```jsx\n * <sn-record-tags-connected\n *\t\ttable={...}\n *\t\tsysId={...}\n *\t\topened={...}\n *\t\ttagId={...}\n *\t\trecordTags={...}\n *\t\tdisplayValue={...}\n * />\n * ```\n *\n * @seismicElement sn-record-tags-connected\n * @summary Text label added to help organize records.  \n *\n */\nexport default createCustomElement(\"sn-record-tags-connected\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\tcanCreateGlobalTags: true,\n\t\ttagEnabled: false,\n\t\ttags: [],\n\t\teditTagId: \"\",\n\t\teditMode: false,\n\t\ttagIconJustClicked: false,\n\t\topened: false,\n\t\tgetTagsFromProps: true\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Table of the record to tag.\n\t\t * @type {string}\n\t\t */\n\t\ttable: { default: \"\" },\n\t\t/**\n\t\t * Sys ID of the record to tag.\n\t\t * @type {string}\n\t\t */\n\t\tsysId: { default: \"\" },\n\t\t/**\n\t\t * Tags to load into the component.\n\t\t * @type {string[]}\n\t\t */\n\t\trecordTags: {},\n\t\t/**\n\t\t * Record display value used to create the tag title\n\t\t * @type {string}\n\t\t * @private\n\t\t */\n\t\tdisplayValue: { default: \"\" },\n\t\t/**\n\t\t * When true, the tag list is opened.\n\t\t * @type {boolean}\n\t\t */\n\t\topened: {\n\t\t\tschema: {\n\t\t\t\ttype: \"boolean\"\n\t\t\t},\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * When true, the component is rendered in a workspace form.\n\t\t * @type {boolean}\n\t\t * @private\n\t\t */\n\t\tclassicForm: {},\n\t\t/**\n\t\t * When true, the component is rendered inside the form header.\n\t\t * @type {boolean}\n\t\t * @private\n\t\t */\n\t\theaderSubComponent: {},\n\t\t/**\n\t\t * String of the selector for the container.\n\t\t * @type {string}\n\t\t */\n\t\toverlayContainer: {\n\t\t\tschema: {\n\t\t\t\ttype: \"string\"\n\t\t\t},\n\t\t\tdefault: \"\"\n\t\t}\n\t},\n\t...tagActions\n});\n","module.exports = __TECTONIC__$servicenow_now_popover;","import { ACTIONS, GQL_RESULTS } from \"../constants\";\nimport { actionTypes } from \"@servicenow/ui-core\";\nimport { EDIT_TAG_MODAL } from \"../editTagModal/constants\";\nimport { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\nimport { TAG_QUERIES } from \"./tagGraphQLQuery\";\nimport _ from \"lodash\";\nimport {\n\texecuteEffectIfValidEventSource,\n\tcreateEffectsInterceptors\n} from \"@devsnc/library-form\";\nimport { SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN } from \"@devsnc/sn-scripted-modal\";\nimport { getSelectNode } from \"../../../utils/domUtils\";\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED, COMPONENT_DISCONNECTED } = actionTypes;\n\nconst getTagStateFromQuery = (queryResult) => {\n\tif (!queryResult) return;\n\n\tconst {\n\t\tcanCreateGlobalTags,\n\t\tenabled: tagEnabled,\n\t\trecords = []\n\t} = queryResult;\n\tconst tags = records.map(\n\t\t({ sysId, name, viewableBy, canEdit, labelEntry }) => ({\n\t\t\tsysId,\n\t\t\tname,\n\t\t\tviewableBy,\n\t\t\tcanEdit,\n\t\t\tlabelEntry\n\t\t})\n\t);\n\treturn {\n\t\ttagEnabled,\n\t\tcanCreateGlobalTags,\n\t\ttags,\n\t\tgetTagsFromProps: false\n\t};\n};\n\nconst fetchViewableTags = createGraphQLEffect(TAG_QUERIES.TAGS_GET_QUERY, {\n\tvariableList: [\"table\", \"sysId\"],\n\tsuccessActionType: ACTIONS.TAG_LOAD_SUCCESS,\n\terrorActionType: ACTIONS.TAG_GRAPHQL_ERROR\n});\n\nconst loadTagsInterceptor = context => {\n\tconst { coeffects } = context;\n\tconst { state, action } = coeffects;\n\tconst {\n\t\tproperties: { table, sysId },\n\t} = state;\n\treturn {\n\t\t...context,\n\t\teffects: [\n\t\t\t{\n\t\t\t\teffect: fetchViewableTags.effect,\n\t\t\t\targs: [\n\t\t\t\t\t...fetchViewableTags.args,\n\t\t\t\t\t{\n\t\t\t\t\t\t...coeffects,\n\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t...action,\n\t\t\t\t\t\t\ttype: ACTIONS.TAGS_LOAD,\n\t\t\t\t\t\t\tpayload: { table, sysId }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t};\n};\n\nconst deleteTagLabelEntry = createGraphQLEffect(\n\tTAG_QUERIES.TAG_DELETE_LABEL_ENTRY,\n\t{\n\t\tvariableList: [\"sysId\"],\n\t\tsuccessActionType: ACTIONS.TAG_DELETE_LABEL_SUCCESS,\n\t\terrorActionType: ACTIONS.TAG_GRAPHQL_ERROR\n\t}\n);\n\nconst createSetProperFocusOnOpenCloseEffect = () => {\n\treturn {\n\t\teffect: ({ state, updateState }) => {\n\t\t\tif (state.editMode) return;\n\t\t\t// when opening we want to focus the add tag input element\n\t\t\t// verify the taglist is opened and not in editMode\n\t\t\t// have to check the opposite for opened because we just dispatched the state\n\t\t\t// change for opened and it value change hasnt taken effect yet\n\t\t\tif (!state.opened) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tupdateState(() => {\n\t\t\t\t\t\tconst popoverPanelContent = document.body.querySelector(\n\t\t\t\t\t\t\t\"seismic-hoist\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (popoverPanelContent) {\n\t\t\t\t\t\t\tconst inputEl = popoverPanelContent.shadowRoot\n\t\t\t\t\t\t\t\t.querySelector(\"sn-form-internal-add-tag\")\n\t\t\t\t\t\t\t\t.shadowRoot.querySelector(\"input\");\n\n\t\t\t\t\t\t\tif (inputEl) inputEl.focus();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn { shouldUpdate: false };\n\t\t\t\t\t});\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t}\n\t};\n};\n\nconst focusPill = ({ updateState }) => {\n\tsetTimeout(() => {\n\t\tupdateState(({ state }) => {\n\t\t\tconst popoverPanelContent = document.body.querySelector(\"seismic-hoist\");\n\t\t\tconst pill = popoverPanelContent.shadowRoot.querySelector(\n\t\t\t\t`now-pill[data-id='${state.editTagId}']`\n\t\t\t);\n\t\t\tif (pill) pill.shadowRoot.querySelector(\"button\").focus();\n\t\t\treturn { shouldUpdate: false };\n\t\t});\n\t}, 250);\n};\n\nexport default {\n\tactions: {\n\t\t[ACTIONS.TAGS_LOAD]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_LOAD_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_GRAPHQL_ERROR]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_ICON_CLICKED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.NOW_PILL_DISMISSED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_DELETE]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_DELETE_LABEL_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.NOW_PILL_SELECTION_SET]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.OPENED_SET]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.TAG_UPDATED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.SET_TAG_STATE]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[ACTIONS.BOOTSTRAP_TAG]: {\n\t\t\teffect: () => {},\n\t\t\tinterceptors: [loadTagsInterceptor],\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[ACTIONS.TAGS_LOAD]: fetchViewableTags,\n\t\t[ACTIONS.TAG_LOAD_SUCCESS]: ({ updateState, state, action }) => {\n\t\t\tconst queryResult = _.get(\n\t\t\t\taction,\n\t\t\t\tGQL_RESULTS.TAG_FETCH_VIEWABLE_RECORD_TAGS\n\t\t\t);\n\t\t\tconst updatedState = getTagStateFromQuery(queryResult);\n\t\t\tif (updatedState)\n\t\t\t\tupdateState(updatedState);\n\t\t},\n\n\t\t[ACTIONS.TAG_GRAPHQL_ERROR]: ({ action }) => {\n\t\t\tconsole.warn(`ERROR: ${action}`);\n\t\t},\n\t\t[ACTIONS.TAG_ICON_CLICKED]: executeEffectIfValidEventSource(\n\t\t\tACTIONS.EVENT_SOURCE,\n\t\t\t{\n\t\t\t\teffect: ({ updateState, state }) => {\n\t\t\t\t\tupdateState({ tagIconJustClicked: false, opened: !state.opened });\n\t\t\t\t}\n\t\t\t},\n\t\t\t[createSetProperFocusOnOpenCloseEffect()]\n\t\t),\n\t\t[ACTIONS.NOW_PILL_DISMISSED]: ({ action, dispatch }) => {\n\t\t\tconst sysId = action.meta.componentName;\n\t\t\tdispatch(ACTIONS.TAG_DELETE, { sysId });\n\t\t},\n\t\t[ACTIONS.TAG_DELETE]: deleteTagLabelEntry,\n\t\t[ACTIONS.TAG_DELETE_LABEL_SUCCESS]: ({ dispatch, action, state }) => {\n\t\t\tif (_.get(action, GQL_RESULTS.TAG_DELETED_COUNT, 0) === 1) {\n\t\t\t\tconst {\n\t\t\t\t\tproperties: { table, sysId }\n\t\t\t\t} = state;\n\t\t\t\tdispatch(ACTIONS.TAGS_LOAD, { table, sysId });\n\t\t\t}\n\t\t},\n\t\t[ACTIONS.TAG_UPDATE_REFLECT]: ({\n\t\t\tstate: {\n\t\t\t\tproperties: { table, sysId }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tdispatch(ACTIONS.TAGS_LOAD, { table, sysId });\n\t\t},\n\t\t[ACTIONS.NOW_PILL_SELECTION_SET]: ({\n\t\t\tupdateState,\n\t\t\taction: {\n\t\t\t\tpayload: { tagId: editTagId, canEdit }\n\t\t\t},\n\t\t\tdispatch,\n\t\t\tstate: { hoistOverlayToContainer }\n\t\t}) => {\n\t\t\tupdateState({ editMode: canEdit, editTagId, opened: !canEdit });\n\t\t\tif (hoistOverlayToContainer) dispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, true);\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.OPENED_SET]: createEffectsInterceptors([\n\t\t\t({\n\t\t\t\tupdateState,\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { value: editDialogOpened }\n\t\t\t\t},\n\t\t\t\tdispatch,\n\t\t\t\tstate: { hoistOverlayToContainer }\n\t\t\t}) => {\n\t\t\t\tupdateState({ editMode: editDialogOpened, opened: !editDialogOpened });\n\t\t\t\tif (hoistOverlayToContainer) dispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, editDialogOpened);\n\t\t\t},\n\t\t\tfocusPill\n\t\t]),\n\t\t[EDIT_TAG_MODAL.ACTIONS.TAG_UPDATED]: ({\n\t\t\tupdateState,\n\t\t\tstate,\n\t\t\taction: {\n\t\t\t\tpayload: { tag }\n\t\t\t}\n\t\t}) => {\n\t\t\tconst {\n\t\t\t\tname: { value: name },\n\t\t\t\tviewable_by: { value: viewableBy }\n\t\t\t} = tag;\n\t\t\tconst { tags, editTagId } = state;\n\n\t\t\tupdateState({\n\t\t\t\teditMode: false,\n\t\t\t\topened: true,\n\t\t\t\ttags: tags.map(tag =>\n\t\t\t\t\ttag.sysId === editTagId ? { ...tag, name, viewableBy } : { ...tag }\n\t\t\t\t)\n\t\t\t});\n\t\t},\n\t\t[ACTIONS.SET_TAG_STATE]: ({ updateState, action: { payload } }) => {\n\t\t\tupdateState({ ...payload });\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: coeffects => {\n\t\t\tconst {\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { name, value, previousValue }\n\t\t\t\t},\n\t\t\t\tdispatch,\n\t\t\t\tupdateState,\n\t\t\t\tproperties: { table, sysId }\n\t\t\t} = coeffects;\n\t\t\tif (\n\t\t\t\ttable &&\n\t\t\t\tsysId &&\n\t\t\t\t(name === \"table\" || name === \"sysId\") &&\n\t\t\t\t!_.isEqual(value, previousValue)\n\t\t\t) {\n\t\t\t\tdispatch(ACTIONS.TAGS_LOAD, { table, sysId });\n\t\t\t}\n\n\t\t\tif (name === \"recordTags\" && !_.isEqual(value, previousValue)) {\n\t\t\t\tconst newState = getTagStateFromQuery(value);\n\t\t\t\tif (newState)\n\t\t\t\t\tupdateState(newState);\n\t\t\t}\n\n\t\t},\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ dispatch, host, properties, state, updateState }) => {\n\t\t\tconst { opened, overlayContainer, sysId, table, recordTags } = properties;\n\t\t\tconst tagsFromProps = state.getTagsFromProps ? recordTags : undefined;\n\n\t\t\tlet updatedState = {};\n\n\t\t\tif (table && sysId && !tagsFromProps) {\n\t\t\t\tdispatch(ACTIONS.BOOTSTRAP_TAG, { table, sysId });\n\t\t\t} else {\n\t\t\t\tupdatedState = getTagStateFromQuery(recordTags);\n\t\t\t}\n\n\t\t\tconst containerNode = overlayContainer\n\t\t\t\t? getSelectNode(host.shadowRoot, overlayContainer)\n\t\t\t\t: null;\n\n\t\t\tupdateState({\n\t\t\t\t...updatedState,\n\t\t\t\thoistOverlayToContainer: containerNode,\n\t\t\t\topened\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\thoistOverlayToContainer: undefined\n\t\t\t});\n\t\t},\n\t}\n};\n","export const VIEWABLE_TAG_QUERY_KEY = \"GlideViewableTagQuery_Query\";\nexport const VIEWABLE_RECORD_TAGS = \"viewableRecordTags\";\n\nconst TAGS_GET_FRAGMENT_QUERY = `\n        ${VIEWABLE_TAG_QUERY_KEY} {\n            ${VIEWABLE_RECORD_TAGS}(table: $table, sysId: $sysId) {\n                canCreateGlobalTags\n                enabled\n                records {\n                    name\n                    canEdit\n                    sysId\n                    viewableBy\n                    labelEntry\n                }\n            }\n        }\n`;\n\nexport const TAG_QUERIES = {\n\tTAGS_GET_QUERY: `query($table: String!, $sysId: String!) {\n        ${TAGS_GET_FRAGMENT_QUERY}\n\t}`,\n\tTAGS_GET_FRAGMENT_QUERY,\n\tTAG_DELETE_LABEL_ENTRY: `mutation($sysId: String!) {\n        GlideRecord_Mutation {\n            delete_label_entry(sys_id: $sysId) {\n                modified_count\n            }\n        }\n    }`\n};\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./tagList.scss\";\nimport {\n\tVIEWABLE_BY,\n\tLABELS,\n\tCOMPONENT_ADD_TAG,\n\tCOMPONENT_TAG_LIST\n} from \"../constants\";\nimport { tagListActions } from \"./tagListActions\";\nimport {\n\ttagListSection,\n\tcreateTagSections,\n\tcreateTitle,\n\thandleClick,\n\tclearInputOnReopen\n} from \"./tagListUtils\";\nimport \"../addTag/addTag\";\nimport _ from \"lodash\";\n\nconst view = (state, { dispatch, updateState }) => {\n\tconst {\n\t\tproperties: { taglist, table, sysId, displayValue },\n\t\topenDropdown\n\t} = state;\n\n\tconst { tagListMe, tagListGroups, tagListEveryone } = createTagSections(\n\t\ttaglist\n\t);\n\tconst title = createTitle(table, displayValue);\n\treturn (\n\t\t<div className=\"sn-tag-component\">\n\t\t\t<div\n\t\t\t\tclassName=\"sn-tag-component-container\"\n\t\t\t\ton-click={e => {\n\t\t\t\t\thandleClick(e, dispatch);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"sn-tag-component--headercontainer\">\n\t\t\t\t\t<span className=\"sn-tag-component--header\">{LABELS.TAGS}</span>\n\t\t\t\t</div>\n\t\t\t\t<COMPONENT_ADD_TAG\n\t\t\t\t\tdropdown={openDropdown}\n\t\t\t\t\ttable={table}\n\t\t\t\t\tsysId={sysId}\n\t\t\t\t\tdisplayValue={title}\n\t\t\t\t\texistingTags={taglist}\n\t\t\t\t/>\n\t\t\t\t<div className=\"sn-tag-component-sections\">\n\t\t\t\t\t{tagListSection(tagListMe, VIEWABLE_BY.ME.displayValue)}\n\t\t\t\t\t{tagListSection(\n\t\t\t\t\t\ttagListGroups,\n\t\t\t\t\t\tVIEWABLE_BY.GROUPS_AND_USERS.displayValue\n\t\t\t\t\t)}\n\t\t\t\t\t{tagListSection(tagListEveryone, VIEWABLE_BY.EVERYONE.displayValue)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default createCustomElement(COMPONENT_TAG_LIST, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\topenDropdown: false\n\t},\n\tproperties: {\n\t\ttaglist: { default: [] },\n\t\ttable: { default: \"\" },\n\t\tsysId: { default: \"\" },\n\t\tdisplayValue: { default: \"\" },\n\t\tpillToFocus: { default: \"\" }\n\t},\n\tactions: tagListActions.actions,\n\tactionHandlers: {\n\t\t...tagListActions.actionHandlers\n\t},\n\tstyles\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./tagList.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sn-tag-component{z-index:1000;border:solid;border-width:.0625rem;border-color:RGB(var(--now-color--primary-1,30,133,109));background-color:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);width:16.875rem;max-height:35.625rem}.sn-tag-component-sections{max-height:28rem;max-width:inherit;overflow-y:auto}.sn-tag-component-sectionheader{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:.75rem;padding-bottom:.125rem}.sn-tag-component--headercontainer{padding:1rem}.sn-tag-component--header{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1rem}.sn-tag-component-section{padding:1rem;padding-top:0;position:relative;display:flex;flex-flow:column nowrap;justify-content:flex-start;align-items:flex-start}.sn-tag-component-tags-list{display:flex;flex-flow:row wrap;width:100%;overflow-x:hidden}.sn-tag-component-tag-pill{padding-left:.125rem;padding-bottom:.125rem;padding-top:.125rem;padding-right:.125rem;max-width:14.875rem;overflow:hidden;text-overflow:ellipsis}.aria-description{display:none}\", \"\"]);\n\n// exports\n","import { ACTIONS } from \"../constants\";\n\nexport const tagListActions = {\n\tactions: {\n\t\t[ACTIONS.TAG_LIST_CLICKED]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[ACTIONS.TAG_LIST_CLICKED]: ({ updateState, action }) => {\n\t\t\tupdateState({ openDropdown: action.payload.openDropDown });\n\t\t}\n\t}\n};\n","import { t } from \"sn-translate\";\nimport \"@servicenow/now-pill\";\nimport { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport { ACTIONS, LABELS, VIEWABLE_BY, COMPONENT_ADD_TAG } from \"../constants\";\nimport { escapeSeismicSpecialSymbols } from \"../../../utils/seismicUtils\";\n\nexport const tagListSection = (tagList, viewableBy) => {\n\tif (tagList.length === 0) return null;\n\n\treturn (\n\t\t<div className=\"sn-tag-component-section\">\n\t\t\t<span className=\"sn-tag-component-sectionheader\">{viewableBy}</span>\n\t\t\t<div className=\"sn-tag-component-tags-list\">{tagList}</div>\n\t\t</div>\n\t);\n};\n\nconst createPillFromTag = ({ sysId, canEdit, name, labelEntry }) => {\n\tconst pillAriDescriptionId = `${sysId}-ally-description`;\n\treturn (\n\t\t<Fragment>\n\t\t\t<now-pill\n\t\t\t\tcan-dismiss\n\t\t\t\tmanage-selected\n\t\t\t\tlabel={escapeSeismicSpecialSymbols(name)}\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclassName=\"sn-tag-component-tag-pill\"\n\t\t\t\tcomponent-name={labelEntry}\n\t\t\t\tdata-id={sysId}\n\t\t\t\tappend-to-payload={{ tagId: sysId, canEdit }}\n\t\t\t\taria-describedby={pillAriDescriptionId}\n\t\t\t/>\n\t\t\t<span className=\"aria-description\" id={pillAriDescriptionId}>\n\t\t\t\t{LABELS.TAG_LIST_PILL_ARIA_DESCRIPTION}\n\t\t\t</span>\n\t\t</Fragment>\n\t);\n};\n\nexport const createTagSections = taglist => {\n\tlet tagListMe = [],\n\t\ttagListGroups = [],\n\t\ttagListEveryone = [];\n\ttaglist.map(tag => {\n\t\tconst pill = createPillFromTag(tag);\n\t\tswitch (tag.viewableBy) {\n\t\t\tcase VIEWABLE_BY.EVERYONE.value:\n\t\t\t\ttagListEveryone.push(pill);\n\t\t\t\tbreak;\n\t\t\tcase VIEWABLE_BY.GROUPS_AND_USERS.value:\n\t\t\t\ttagListGroups.push(pill);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttagListMe.push(pill);\n\t\t}\n\t});\n\tconst tagSections = { tagListMe, tagListGroups, tagListEveryone };\n\treturn tagSections;\n};\n\nexport const handleClick = (e, dispatch) => {\n\te.stopPropagation();\n\tdispatch(ACTIONS.TAG_LIST_CLICKED, {\n\t\topenDropDown: e.target.localName === COMPONENT_ADD_TAG\n\t});\n};\n\nexport const createTitle = (tableName, displayValue) => {\n\treturn `${_.upperFirst(tableName)} - ${displayValue}`;\n};\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport { createRef } from \"@servicenow/ui-renderer-snabbdom\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./addTag.scss\";\nimport actions from \"./addTagActions\";\nimport {\n\thandleOnFocus,\n\thandleNonEnterKeys,\n\thandleEnterKey\n} from \"./addTagUtils\";\nimport \"../tagDropdown/tagDropdown\";\nimport {\n\tLABELS,\n\tCOMPONENT_ADD_TAG,\n\tCOMPONENT_TAG_DROPDOWN\n} from \"../constants\";\nimport behaviors from \"./addTagBehaviors\";\n\nconst view = (state, { dispatch }) => {\n\tconst {\n\t\tinputField,\n\t\ttags,\n\t\tuserText,\n\t\tactiveDescendant,\n\t\tproperties: { dropdown, table, sysId, displayValue }\n\t} = state;\n\tconst inputRef = createRef();\n\tconst handleKeyUp = _.debounce(\n\t\thandleNonEnterKeys(dispatch, inputRef, userText),\n\t\t500\n\t);\n\tconst handleKeyPress = handleEnterKey(dispatch, state, inputRef);\n\tconst handleFocus = handleOnFocus(dispatch);\n\n\treturn (\n\t\t<div className=\"sn-form-tag-filter\">\n\t\t\t<span>{LABELS.ADD_TAG}</span>\n\t\t\t<input\n\t\t\t\tid={LABELS.ADD_TAG_INPUT_ID}\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\tclassName=\"sn-form-tag-filter-text\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tref={inputRef}\n\t\t\t\ton-keyup={handleKeyUp}\n\t\t\t\ton-keypress={handleKeyPress}\n\t\t\t\ton-focus={handleFocus}\n\t\t\t\trole=\"combobox\"\n\t\t\t\taria-haspopup=\"true\"\n\t\t\t\taria-label={LABELS.ADD_TAG}\n\t\t\t\taria-owns={LABELS.TAG_DROPDOWN_ID}\n\t\t\t\taria-expanded={inputField && dropdown && tags.length ? \"true\" : \"false\"}\n\t\t\t\taria-describedby={LABELS.ADD_TAG_ARIA_DESCRIPTION_ID}\n\t\t\t\taria-autocomplete=\"both\"\n\t\t\t\taria-activedescendant={activeDescendant}\n\t\t\t/>\n\t\t\t<span\n\t\t\t\tid={LABELS.ADD_TAG_ARIA_DESCRIPTION_ID}\n\t\t\t\tclassName=\"aria-description\"\n\t\t\t>\n\t\t\t\t{LABELS.ADD_TAG_AUTOCOMPLETE_INSTRUCTIONS}\n\t\t\t</span>\n\t\t\t<div className=\"sn-form-tag-autocomplete\">\n\t\t\t\t<COMPONENT_TAG_DROPDOWN\n\t\t\t\t\topened={inputField && dropdown}\n\t\t\t\t\ttags={tags}\n\t\t\t\t\ttable={table}\n\t\t\t\t\tsysId={sysId}\n\t\t\t\t\tinputRef={inputRef}\n\t\t\t\t\tdisplayValue={displayValue}\n\t\t\t\t\tactiveDescendant={activeDescendant}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default createCustomElement(COMPONENT_ADD_TAG, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\tinputField: false,\n\t\tuserText: \"\",\n\t\ttags: [],\n\t\tactiveDescendant: \"\"\n\t},\n\tproperties: {\n\t\tdropdown: { default: true },\n\t\ttable: { default: \"\" },\n\t\tsysId: { reflect: false },\n\t\tdisplayValue: { default: \"\" },\n\t\texistingTags: { default: [] }\n\t},\n\tstyles,\n\t...actions,\n\tbehaviors\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./addTag.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sn-form-tag-filter{display:flex;flex:1 1 0;flex-flow:column;padding:1rem;padding-top:0}span{font-size:.75rem;color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));padding-bottom:.25rem}.sn-form-tag-filter-text{font-size:1rem;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));height:2rem;border:0;border-bottom:1px solid;border-color:RGB(var(--now-color--divider-secondary,var(--now-color--neutral-5,172,180,181)))}.sn-form-tag-filter-text:hover{background-color:RGB(var(--now-color--background-tertiary,var(--now-color--neutral-2,228,230,231)));border-bottom:2px solid}.sn-form-tag-filter-text:focus{background-color:RGB(var(--now-color--primary-0,221,237,233));border-bottom:2px solid;border-color:RGB(var(--now-color--primary-1,30,133,109));outline:none}.sn-form-tag-autocomplete{position:relative}.aria-description{display:none}\", \"\"]);\n\n// exports\n","import { ACTIONS, GQL_RESULTS } from \"../constants\";\nimport { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\nimport { ADD_TAG_QUERIES } from \"./addTagGraphQLQuery\";\nimport { createUpdateStateInterceptor } from \"@devsnc/library-form\";\nimport { createTagLabel } from \"./addTagUtils\";\n\nconst fetchTagsWithPrefix = createGraphQLEffect(\n\tADD_TAG_QUERIES.TAG_PREFIX_GET_QUERY,\n\t{\n\t\tvariableList: [\"prefix\"],\n\t\tsuccessActionType: ACTIONS.TAG_PREFIX_FETCH_SUCCESS,\n\t\terrorActionType: ACTIONS.TAG_GRAPHQL_ERROR\n\t}\n);\n\nconst createNewTagLabelEntry = createGraphQLEffect(\n\tADD_TAG_QUERIES.TAG_INSERT_LABEL_ENTRY,\n\t{\n\t\tvariableList: [\"tagSysId\", \"table\", \"sysId\", \"title\"],\n\t\tsuccessActionType: ACTIONS.TAG_LABEL_ENTRY_SUCCESS,\n\t\terrorActionType: ACTIONS.TAG_GRAPHQL_ERROR\n\t}\n);\n\nconst createNewTag = createGraphQLEffect(ADD_TAG_QUERIES.TAG_CREATE_LABEL, {\n\tvariableList: [\"text\"],\n\tsuccessActionType: ACTIONS.TAG_CREATE_SUCCESS,\n\terrorActionType: ACTIONS.TAG_GRAPHQL_ERROR\n});\n\nconst tagsFromRecords = (records = []) =>\n\trecords.map(({ sysId, name, viewableBy }) => ({\n\t\tsysId,\n\t\tname,\n\t\tviewableBy\n\t}));\n\nconst recordsToTagsAndFilter = (records = [], existingTags) => {\n\tconst newtags = tagsFromRecords(records);\n\treturn _.differenceWith(newtags, existingTags, (x, y) => x.sysId === y.sysId);\n};\n\nconst checkIfTagExistsEffect = createGraphQLEffect(\n\tADD_TAG_QUERIES.TAG_PREFIX_GET_QUERY,\n\t{\n\t\tvariableList: [\"prefix\"],\n\t\tsuccessActionType: ACTIONS.TAG_EXISTS_CHECK_SUCCESS,\n\t\terrorActionType: ACTIONS.TAG_EXISTS_CHECK_FAILURE\n\t}\n);\n\nexport default {\n\tactions: {\n\t\t[ACTIONS.INPUT_TAG_TYPED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_PREFIX_FETCH_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.CREATE_TAG_LABEL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_LABEL_ENTRY_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_CREATE]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_CREATE_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.ADD_TAG_FIELD_CHANGED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.ADD_TAG_FIELD_CLEARED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.RESET_ADD_TAG_COMPONENT]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.ADD_TAG_DESCENDANT_SELECTED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_EXISTS_CHECK]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_EXISTS_CHECK_SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.TAG_EXISTS_CHECK_FAILURE]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[ACTIONS.INPUT_TAG_TYPED]: fetchTagsWithPrefix,\n\t\t[ACTIONS.TAG_PREFIX_FETCH_SUCCESS]: ({ updateState, state, action }) => {\n\t\t\tconst {\n\t\t\t\tproperties: { existingTags }\n\t\t\t} = state;\n\t\t\tupdateState({\n\t\t\t\ttags: recordsToTagsAndFilter(\n\t\t\t\t\t_.get(action, GQL_RESULTS.TAG_FETCH_VIEWABLE_TAGS_RESULT, []),\n\t\t\t\t\texistingTags\n\t\t\t\t)\n\t\t\t});\n\t\t},\n\t\t[ACTIONS.CREATE_TAG_LABEL]: createNewTagLabelEntry,\n\t\t[ACTIONS.TAG_LABEL_ENTRY_SUCCESS]: ({ updateState, dispatch }) => {\n\t\t\tupdateState({\n\t\t\t\tinputField: false,\n\t\t\t\tuserText: \"\",\n\t\t\t\ttags: []\n\t\t\t});\n\t\t\tdispatch(ACTIONS.TAG_UPDATE_REFLECT);\n\t\t},\n\t\t[ACTIONS.TAG_EXISTS_CHECK]: checkIfTagExistsEffect,\n\t\t[ACTIONS.TAG_EXISTS_CHECK_SUCCESS]: ({ state, action, dispatch }) => {\n\t\t\tconst tagName = _.get(action, GQL_RESULTS.CHECK_TAG_VALUE, \"\");\n\t\t\tconst tags = tagsFromRecords(\n\t\t\t\t_.get(action, GQL_RESULTS.TAG_FETCH_VIEWABLE_TAGS_RESULT, [])\n\t\t\t);\n\t\t\tconst tag = tags.find(tag => tag.name === tagName);\n\t\t\tif (tag) createTagLabel(dispatch, tag.sysId, state.properties);\n\t\t\telse dispatch(ACTIONS.TAG_CREATE, { text: tagName });\n\t\t},\n\t\t[ACTIONS.TAG_EXISTS_CHECK_FAILURE]: ({ state, action, dispatch }) => {\n\t\t\tconst tagName = _.get(action, GQL_RESULTS.CHECK_TAG_VALUE);\n\t\t\tdispatch(ACTIONS.TAG_CREATE, { text: tagName });\n\t\t},\n\t\t[ACTIONS.TAG_CREATE]: createNewTag,\n\t\t[ACTIONS.TAG_CREATE_SUCCESS]: ({\n\t\t\tstate: {\n\t\t\t\tproperties: { table, sysId, displayValue: title }\n\t\t\t},\n\t\t\taction,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst tagSysId = _.get(\n\t\t\t\taction,\n\t\t\t\tGQL_RESULTS.TAG_AFTER_INSERT_NEW_SYS_ID,\n\t\t\t\t\"\"\n\t\t\t);\n\t\t\tif (tagSysId)\n\t\t\t\tdispatch(ACTIONS.CREATE_TAG_LABEL, { tagSysId, table, sysId, title });\n\t\t},\n\t\t[ACTIONS.ADD_TAG_FIELD_CHANGED]: ({\n\t\t\tupdateState,\n\t\t\taction: {\n\t\t\t\tpayload: { text }\n\t\t\t}\n\t\t}) => {\n\t\t\tupdateState({\n\t\t\t\tinputField: true,\n\t\t\t\tuserText: text,\n\t\t\t\tactiveDescendant: \"\"\n\t\t\t});\n\t\t},\n\t\t[ACTIONS.ADD_TAG_FIELD_CLEARED]: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tinputField: false,\n\t\t\t\tuserText: \"\",\n\t\t\t\ttags: [],\n\t\t\t\tactiveDescendant: \"\"\n\t\t\t});\n\t\t},\n\t\t[ACTIONS.RESET_ADD_TAG_COMPONENT]: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tuserText: \"\",\n\t\t\t\ttags: [],\n\t\t\t\tactiveDescendant: \"\"\n\t\t\t});\n\t\t},\n\t\t[ACTIONS.ADD_TAG_DESCENDANT_SELECTED]: ({\n\t\t\tupdateState,\n\t\t\taction: {\n\t\t\t\tpayload: { activeDescendant }\n\t\t\t}\n\t\t}) => {\n\t\t\tupdateState({\n\t\t\t\tactiveDescendant\n\t\t\t});\n\t\t}\n\t}\n};\n","export const ADD_TAG_QUERIES = {\n\tTAG_PREFIX_GET_QUERY: `query($prefix: String!) {\n        GlideViewableTagQuery_Query {\n            viewableUserTags(prefix: $prefix) {\n                records {\n                    name\n                    sysId\n                    viewableBy\n                }\n            }\n        }\n    }`,\n\tTAG_INSERT_LABEL_ENTRY: `mutation($tagSysId: String!, $table: String!, $sysId: String!, $title: String!) {\n        GlideRecord_Mutation {\n            insert_label_entry(label: $tagSysId, table: $table, table_key: $sysId, read: \"yes\", title: $title) {\n                sys_id {\n                    value\n                }\n            }\n        }\n    }`,\n\tTAG_CREATE_LABEL: `mutation($text: String!) {\n        GlideRecord_Mutation {\n            insert_label(name: $text) {\n                sys_id {\n                    value \n                }\n            }\n        }\n    }`\n};\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./tagDropdown.scss\";\nimport { createListItems } from \"./tagDropdownUtils\";\nimport behaviors from \"./tagDropdownBehaviors\";\nimport { LABELS, COMPONENT_TAG_DROPDOWN } from \"../constants\";\n\nconst view = (state, { dispatch }) => {\n\tconst {\n\t\tproperties,\n\t\tproperties: { opened, tags, activeDescendant }\n\t} = state;\n\tconst listItems = createListItems(tags, dispatch, properties);\n\tconst resultsPluralState = tags.length === 1 ? LABELS.RESULT : LABELS.RESULTS;\n\tconst ariaDropdownDescription = tags.length\n\t\t? `${tags.length} ${resultsPluralState}. ${LABELS.ADD_TAG_SUGGESTION}`\n\t\t: \"\";\n\n\tif (!listItems.length) return null;\n\n\treturn (\n\t\t<div className=\"sn-form-tag-dropdown\" hidden={!opened}>\n\t\t\t<span\n\t\t\t\tid={LABELS.TAG_DROPDOWN_ARIA_DESCRIPTION_ID}\n\t\t\t\tclassName=\"aria-description\"\n\t\t\t\taria-atomic=\"true\"\n\t\t\t\taria-live=\"polite\"\n\t\t\t>\n\t\t\t\t{ariaDropdownDescription}\n\t\t\t</span>\n\t\t\t<ul\n\t\t\t\tclassName=\"sn-form-tag-list\"\n\t\t\t\trole=\"listbox\"\n\t\t\t\taria-controls={LABELS.ADD_TAG_INPUT_ID}\n\t\t\t\tid={LABELS.TAG_DROPDOWN_ID}\n\t\t\t\taria-describedby={LABELS.TAG_DROPDOWN_ARIA_DESCRIPTION_ID}\n\t\t\t\taria-activedescendant={activeDescendant}\n\t\t\t>\n\t\t\t\t{listItems}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default createCustomElement(COMPONENT_TAG_DROPDOWN, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\topened: { default: false },\n\t\ttable: { default: \"\" },\n\t\tsysId: { default: \"\" },\n\t\tinputRef: { default: null },\n\t\ttags: { default: [] },\n\t\tdisplayValue: { default: \"\" },\n\t\tactiveDescendant: { default: \"\" }\n\t},\n\tstyles,\n\tbehaviors\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./tagDropdown.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sn-form-tag-dropdown{width:100%;background-color:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));max-height:6rem;overflow:auto;position:relative;z-index:2000;border:.0625rem solid;border-color:RGB(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25)}.sn-form-tag-list{list-style-type:none;margin:0;padding:0}.sn-form-tag-listItem{width:100%;margin:0;height:2rem;font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));border:none;padding-left:1rem;padding-right:1rem;padding-top:.25rem;text-align:left}.sn-form-tag-listItem:focus,.sn-form-tag-listItem:hover{background-color:RGB(var(--now-color--primary-0,221,237,233));outline:none}.aria-description{display:none}\", \"\"]);\n\n// exports\n","import { ACTIONS, LABELS } from \"../constants\";\n\nconst handleClick = (e, dispatch, properties) => {\n\tconst { inputRef, sysId, table, displayValue: title } = properties;\n\tif (inputRef && inputRef.current) {\n\t\tinputRef.current.value = \"\";\n\t\tinputRef.current.focus();\n\t}\n\tconst tagSysId = e.target.sysId;\n\tdispatch(ACTIONS.CREATE_TAG_LABEL, { tagSysId, table, sysId, title });\n};\n\nexport const createListItems = (tags = [], dispatch, properties) => {\n\treturn tags.map(({ sysId, name }, index) => (\n\t\t<li\n\t\t\tkey={sysId}\n\t\t\ttabindex=\"-1\"\n\t\t\trole=\"option\"\n\t\t\tid={\"id\" + sysId}\n\t\t\ttabindex={-1}\n\t\t\tclassName=\"sn-form-tag-listItem\"\n\t\t\taria-label={name}\n\t\t\taria-describedby={sysId + \"_aria_describedby\"}\n\t\t\tsysId={sysId}\n\t\t\ton-click={e => {\n\t\t\t\thandleClick(e, dispatch, properties);\n\t\t\t}}\n\t\t>\n\t\t\t<span className=\"aria-description\" id={sysId + \"_aria_describedby\"}>\n\t\t\t\t{LABELS.ADD_TAG_SUGGESTION}\n\t\t\t</span>\n\t\t\t{name}\n\t\t</li>\n\t));\n};\n","import keyBindingBehavior from \"@servicenow/behavior-key-binding\";\nimport { ACTIONS } from \"../constants\";\n\nconst findFirstLi = host => host.shadowRoot.querySelector(\"li\");\nconst findLastLi = host => host.shadowRoot.querySelector(\"li:last-of-type\");\n\nconst behaviors = [\n\t{\n\t\tbehavior: keyBindingBehavior,\n\t\toptions: {\n\t\t\tkeyBindings: {\n\t\t\t\tmoveFocus: [\"Home\", \"ArrowUp\", \"ArrowDown\", \"End\", \"Tab\"],\n\t\t\t\tselect: [\" \", \"Enter\"]\n\t\t\t},\n\t\t\thandlers: {\n\t\t\t\tmoveFocus: function(host, event, dispatch) {\n\t\t\t\t\tconst currentFocus = host.shadowRoot.querySelector(\":focus\");\n\t\t\t\t\tlet nextFocus;\n\t\t\t\t\tswitch (event.key) {\n\t\t\t\t\t\tcase \"Tab\": {\n\t\t\t\t\t\t\tnextFocus = findFirstLi(host);\n\t\t\t\t\t\t\tif (currentFocus !== nextFocus) nextFocus.focus();\n\t\t\t\t\t\t\tdispatch(ACTIONS.ADD_TAG_DESCENDANT_SELECTED, {\n\t\t\t\t\t\t\t\tactiveDescendant: \"\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdispatch(ACTIONS.TAG_LIST_CLICKED, { openDropDown: false });\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"Home\": {\n\t\t\t\t\t\t\tnextFocus = findFirstLi(host);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"ArrowDown\": {\n\t\t\t\t\t\t\tif (currentFocus) {\n\t\t\t\t\t\t\t\tconst nextLi = currentFocus.nextElementSibling;\n\t\t\t\t\t\t\t\tnextFocus = nextLi ? nextLi : findFirstLi(host);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnextFocus = findFirstLi(host);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"ArrowUp\": {\n\t\t\t\t\t\t\tif (currentFocus) {\n\t\t\t\t\t\t\t\tconst previousLi = currentFocus.previousElementSibling;\n\t\t\t\t\t\t\t\tnextFocus = previousLi ? previousLi : findLastLi(host);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnextFocus = findLastLi(host);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"End\": {\n\t\t\t\t\t\t\tnextFocus = findLastLi(host);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (nextFocus && nextFocus !== currentFocus) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tdispatch(ACTIONS.ADD_TAG_DESCENDANT_SELECTED, {\n\t\t\t\t\t\t\tactiveDescendant: nextFocus.id\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextFocus.scrollIntoView();\n\t\t\t\t\t\tnextFocus.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tselect: function(host, event) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconst listbox = host.shadowRoot.querySelector(\"ul\");\n\t\t\t\t\tconst currentFocus = host.shadowRoot.querySelector(\n\t\t\t\t\t\t\"#\" + listbox.getAttribute(\"aria-activedescendant\")\n\t\t\t\t\t);\n\t\t\t\t\tif (currentFocus) {\n\t\t\t\t\t\tcurrentFocus.click();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\n\nexport default behaviors;\n","import keyBindingBehavior from \"@servicenow/behavior-key-binding\";\nimport { ACTIONS, COMPONENT_TAG_DROPDOWN } from \"../constants\";\n\nconst isTriggeredFromInput = event =>\n\tevent.composedPath()[0].nodeName === \"INPUT\";\nconst behaviors = [\n\t{\n\t\tbehavior: keyBindingBehavior,\n\t\toptions: {\n\t\t\tkeyBindings: {\n\t\t\t\tgoToResults: [\"ArrowDown\"],\n\t\t\t\tcloseDropdown: [\"Tab\"]\n\t\t\t},\n\t\t\thandlers: {\n\t\t\t\tgoToResults: function(host, event, dispatch) {\n\t\t\t\t\tif (!isTriggeredFromInput(event)) return;\n\t\t\t\t\tconst dropDownResults = host.shadowRoot.querySelector(\n\t\t\t\t\t\tCOMPONENT_TAG_DROPDOWN\n\t\t\t\t\t).shadowRoot;\n\t\t\t\t\tlet nextFocus = dropDownResults.querySelector(\"li\");\n\t\t\t\t\tif (nextFocus) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tnextFocus.scrollIntoView();\n\t\t\t\t\t\tdispatch(ACTIONS.ADD_TAG_DESCENDANT_SELECTED, {\n\t\t\t\t\t\t\tactiveDescendant: nextFocus.id\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnextFocus.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcloseDropdown: function(host, event, dispatch) {\n\t\t\t\t\tif (!isTriggeredFromInput(event)) return;\n\t\t\t\t\tdispatch(ACTIONS.ADD_TAG_DESCENDANT_SELECTED, {\n\t\t\t\t\t\tactiveDescendant: \"\"\n\t\t\t\t\t});\n\t\t\t\t\tdispatch(ACTIONS.TAG_LIST_CLICKED, { openDropDown: false });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nexport default behaviors;\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom, { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./editTagModal.scss\";\nimport actions from \"./editTagModalActions\";\nimport { EDIT_TAG_MODAL, USERS, GROUPS } from \"./constants\";\nimport {\n\tVIEWABLE_BY,\n\tCOMPONENT_EDIT_TAG_MODAL,\n\tCOMPONENT_TAG_TYPE_AHEAD\n} from \"../constants\";\nimport \"../typeahead/typeahead\";\nimport TagDetails from \"./tagDetails\";\nimport behaviors from \"./editTagModalBehaviors\";\nimport { escapeSeismicSpecialSymbols } from \"../../../utils/seismicUtils\";\nimport _ from \"lodash\";\n\nconst renderModalContent = (tagDetails, opened, dispatch) => {\n\tconst { name, viewableBy, userList, groupList } = tagDetails;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"sn-component-edit-tag-modal-twocol-container\">\n\t\t\t\t<div className=\"sn-component-edit-tag-modal-left\">\n\t\t\t\t\t<sn-record-input-connected\n\t\t\t\t\t\tname={name.fieldName}\n\t\t\t\t\t\tlabel={name.label}\n\t\t\t\t\t\tinitialValue={escapeSeismicSpecialSymbols(name.value)}\n\t\t\t\t\t\thidden={!(opened && tagDetails.canEdit)}\n\t\t\t\t\t\tonValueChange={(event, name, value) => {\n\t\t\t\t\t\t\tdispatch(EDIT_TAG_MODAL.ACTIONS.FIELD_CHANGED, { name, value });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-component-edit-tag-modal-right\">\n\t\t\t\t\t<sn-record-choice\n\t\t\t\t\t\tname={viewableBy.fieldName}\n\t\t\t\t\t\tlabel={viewableBy.label}\n\t\t\t\t\t\tvalue={viewableBy.value}\n\t\t\t\t\t\tchoices={Object.values(VIEWABLE_BY)}\n\t\t\t\t\t\thidden={!(opened && tagDetails.canEdit)}\n\t\t\t\t\t\tonValueChange={(event, name, value) => {\n\t\t\t\t\t\t\tdispatch(EDIT_TAG_MODAL.ACTIONS.FIELD_CHANGED, { name, value });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"sn-component-edit-tag-modal-twocol-container\">\n\t\t\t\t<div className=\"sn-component-edit-tag-modal-left\">\n\t\t\t\t\t<COMPONENT_TAG_TYPE_AHEAD\n\t\t\t\t\t\tlabel={groupList.typeaheadLabel}\n\t\t\t\t\t\tdropdownLabel={groupList.dropdownLabel}\n\t\t\t\t\t\thidden={!tagDetails.isViewableBySetToUsersAndGroups}\n\t\t\t\t\t\tfieldName={groupList.fieldName}\n\t\t\t\t\t\tfilter={escapeSeismicSpecialSymbols(groupList.filter)}\n\t\t\t\t\t\tselectedItems={groupList.selected}\n\t\t\t\t\t\ttotal={groupList.total}\n\t\t\t\t\t\tavailableItems={groupList.nonSelected}\n\t\t\t\t\t\topened={opened && groupList.dropdownOpened}\n\t\t\t\t\t\tcomponent-name={groupList.fieldName}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-component-edit-tag-modal-right\">\n\t\t\t\t\t<COMPONENT_TAG_TYPE_AHEAD\n\t\t\t\t\t\tlabel={userList.typeaheadLabel}\n\t\t\t\t\t\tdropdownLabel={userList.dropdownLabel}\n\t\t\t\t\t\thidden={!tagDetails.isViewableBySetToUsersAndGroups}\n\t\t\t\t\t\tdefaultPillIcon=\"user-outline\"\n\t\t\t\t\t\tfieldName={userList.fieldName}\n\t\t\t\t\t\tfilter={escapeSeismicSpecialSymbols(userList.filter)}\n\t\t\t\t\t\tselectedItems={userList.selected}\n\t\t\t\t\t\ttotal={userList.total}\n\t\t\t\t\t\tavailableItems={userList.nonSelected}\n\t\t\t\t\t\topened={opened && userList.dropdownOpened}\n\t\t\t\t\t\tcomponent-name={userList.fieldName}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nconst view = (state, { dispatch }) => {\n\tconst { opened } = state;\n\tconst tagDetails = new TagDetails({ ...state });\n\n\tif (!(opened && tagDetails.canEdit)) return null;\n\n\tconst footerActions = [\n\t\t{\n\t\t\tvariant: EDIT_TAG_MODAL.BUTTONS.PRIMARY,\n\t\t\tlabel: EDIT_TAG_MODAL.LABELS.SAVE,\n\t\t\tclickActionType: EDIT_TAG_MODAL.ACTIONS.SAVE,\n\t\t\tdisabled: !_.trim(tagDetails.name.value) ? \"true\" : false\n\t\t},\n\t\t{\n\t\t\tvariant: EDIT_TAG_MODAL.BUTTONS.SECONDARY,\n\t\t\tlabel: EDIT_TAG_MODAL.LABELS.CANCEL,\n\t\t\tclickActionType: EDIT_TAG_MODAL.ACTIONS.CANCEL\n\t\t}\n\t];\n\n\treturn (\n\t\t<now-modal\n\t\t\tcomponent-name=\"modal2\"\n\t\t\topened={opened && tagDetails.canEdit}\n\t\t\tmanage-opened\n\t\t\tsize=\"md\"\n\t\t\theader-label={EDIT_TAG_MODAL.LABELS.TITLE}\n\t\t\tfooter-actions={footerActions}\n\t\t>\n\t\t\t<div className=\"sn-component-edit-tag-modal-container\">\n\t\t\t\t{renderModalContent(tagDetails, opened, dispatch)}\n\t\t\t</div>\n\t\t</now-modal>\n\t);\n};\n\nexport default createCustomElement(COMPONENT_EDIT_TAG_MODAL, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\ttagId: {},\n\t\topened: false,\n\t\t[USERS]: {\n\t\t\ttotal: 0,\n\t\t\tdropdown: false,\n\t\t\tfilter: \"\",\n\t\t\tavailable: []\n\t\t},\n\t\t[GROUPS]: {\n\t\t\ttotal: 0,\n\t\t\tdropdown: false,\n\t\t\tfilter: \"\",\n\t\t\tavailable: []\n\t\t},\n\t\ttagDetails: {\n\t\t\tname: {},\n\t\t\tviewable_by: {},\n\t\t\tuser_list: {},\n\t\t\tgroup_list: {}\n\t\t}\n\t},\n\tproperties: {\n\t\ttagId: {},\n\t\topened: {\n\t\t\tdefault: false\n\t\t}\n\t},\n\t...actions,\n\tstyles,\n\tbehaviors\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./editTagModal.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}:host{overflow-x:hidden;width:100%}.sn-component-edit-tag-modal-container{width:calc(100% - 17px);height:12.5rem}.sn-component-edit-tag-modal-twocol-container{width:100%;display:flex}.sn-component-edit-tag-modal-twocol-container .sn-component-edit-tag-modal-left,.sn-component-edit-tag-modal-twocol-container .sn-component-edit-tag-modal-right{width:50%}.sn-component-edit-tag-modal-twocol-container .sn-component-edit-tag-modal-right{padding-left:.5rem}.sn-component-edit-tag-modal-twocol-container .sn-component-edit-tag-modal-left{padding-right:.5rem}.sn-component-edit-tag-modal-twocol-container:not(:first-child){margin-top:1rem}.sn-component-edit-tag-modal-twocol-container:first-child{height:4.125rem}\", \"\"]);\n\n// exports\n","import { actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED } = actionTypes;\nimport { EDIT_TAG_MODAL, USERS, GROUPS } from \"./constants\";\nimport { EDIT_TAG_MODAL_QUERIES } from \"./editTagModalGraphQLQuery\";\nimport { ACTIONS } from \"../constants\";\nimport { TYPEAHEAD } from \"../typeahead/constants\";\nimport TagDetails from \"./tagDetails\";\nimport { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\n\n/* Helpers */\n\nexport const getPrefix = condition => condition.split(\"STARTSWITH\").pop();\n\nexport const getLoadAction = key =>\n\tkey === USERS\n\t\t? EDIT_TAG_MODAL.ACTIONS.LOAD_USERS\n\t\t: EDIT_TAG_MODAL.ACTIONS.LOAD_USER_GROUPS;\n\nexport const getListKey = fieldName =>\n\tfieldName === \"user_list\" ? USERS : GROUPS;\n\n/* GraphQL request Handlers */\n\n/* Load tag */\n\nconst loadTagEffect = createGraphQLEffect(\n\tEDIT_TAG_MODAL_QUERIES.GET_TAG_DETAILS,\n\t{\n\t\tvariableList: [\"tagId\"],\n\t\tsuccessActionType: EDIT_TAG_MODAL.ACTIONS.LOAD_TAG_DETAILS_SUCCESSFUL\n\t}\n);\n\nconst loadTagInterceptor = context => {\n\tconst { coeffects } = context;\n\tconst tagId = _.get(coeffects, \"state.properties.tagId\", \"\");\n\tif (!tagId) return context;\n\n\treturn {\n\t\t...context,\n\t\teffects: [\n\t\t\t{\n\t\t\t\t...loadTagEffect,\n\t\t\t\targs: [\n\t\t\t\t\t...loadTagEffect.args,\n\t\t\t\t\t{\n\t\t\t\t\t\t...coeffects,\n\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t...coeffects.action,\n\t\t\t\t\t\t\tpayload: { tagId }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t};\n};\nconst transformState = ({ properties, updateState }) => {\n\tupdateState({ opened: properties.opened, tagId: properties.tagId });\n};\n\nconst loadTagSuccessHandler = ({\n\tupdateState,\n\taction: {\n\t\tpayload: {\n\t\t\tdata: {\n\t\t\t\tGlideRecord_Query: {\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\t_results: [tagDetails]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}) => updateState({ tagDetails });\n\n/* Load avatars of users */\n\nconst loadAvatarsEffect = createGraphQLEffect(\n\tEDIT_TAG_MODAL_QUERIES.GET_AVATARS,\n\t{\n\t\tvariableList: [\"queryConditions\"],\n\t\tsuccessActionType: EDIT_TAG_MODAL.ACTIONS.LOAD_AVATARS_SUCCESSFUL\n\t}\n);\n\nconst initializeAvatarsInterceptor = context => {\n\tconst { effects, coeffects } = context;\n\tconst { action } = coeffects;\n\tconst {\n\t\tpayload: {\n\t\t\tdata: {\n\t\t\t\tGlideRecord_Query: {\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\t_results: [tagDetails]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} = action;\n\tconst { user_list: userList } = tagDetails;\n\tif (!userList.value) return context;\n\n\tconst loadAvatarAction = {\n\t\t...action,\n\t\ttype: EDIT_TAG_MODAL.ACTIONS.LOAD_AVATARS,\n\t\tpayload: {\n\t\t\tqueryConditions: \"sys_idIN\" + userList.value\n\t\t}\n\t};\n\treturn {\n\t\t...context,\n\t\teffects: [\n\t\t\t...effects,\n\t\t\t{\n\t\t\t\teffect: loadAvatarsEffect.effect,\n\t\t\t\targs: [\n\t\t\t\t\t...loadAvatarsEffect.args,\n\t\t\t\t\t{\n\t\t\t\t\t\t...coeffects,\n\t\t\t\t\t\taction: loadAvatarAction\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t};\n};\n\nconst formatAvatars = (avatars = [], userValues) => {\n\tif (!userValues) return \"\";\n\n\tconst userAvatars = avatars.reduce(\n\t\t(accumulator, { sys_id, avatar }) => ({\n\t\t\t...accumulator,\n\t\t\t[sys_id.value]: avatar.value\n\t\t}),\n\t\t{}\n\t);\n\n\treturn userValues\n\t\t.split(\",\")\n\t\t.map(userId => userAvatars[userId] || \"\")\n\t\t.join(\",\");\n};\n\nconst loadAvatarsSuccessHandler = ({\n\tupdateState,\n\tstate,\n\taction: { payload }\n}) => {\n\tconst avatars = _.get(\n\t\tpayload,\n\t\t\"data.GlideRecord_Query.sys_user._results\",\n\t\t[]\n\t);\n\tupdateState({\n\t\ttagDetails: {\n\t\t\t...state.tagDetails,\n\t\t\tuser_list: {\n\t\t\t\t...state.tagDetails.user_list,\n\t\t\t\tavatars: formatAvatars(avatars, state.tagDetails.user_list.value)\n\t\t\t}\n\t\t}\n\t});\n};\n\n/* load users */\nconst loadUsersHandler = createGraphQLEffect(EDIT_TAG_MODAL_QUERIES.GET_USERS, {\n\tvariableList: [\"queryConditions\"],\n\tsuccessActionType: EDIT_TAG_MODAL.ACTIONS.LOAD_USERS_SUCCESSFUL\n});\n\nconst loadUsersSuccessHandler = ({\n\tupdateState,\n\tstate,\n\taction: {\n\t\tpayload: {\n\t\t\tdata: {\n\t\t\t\tGlideRecord_Query: {\n\t\t\t\t\tsys_user: { _results: results, _rowCount: totalResults }\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmeta: {\n\t\t\toptions: {\n\t\t\t\tvariables: { queryConditions }\n\t\t\t}\n\t\t}\n\t}\n}) => {\n\tconst prefix = getPrefix(queryConditions);\n\tconst userList = new TagDetails({ ...state }).userList;\n\tuserList.updateAvailableItems(prefix, { results, totalResults });\n\n\t// Return if the prefix is outdated, user typed since last request.\n\tif (userList.filter === prefix) {\n\t\tupdateState({ [USERS]: userList.properties });\n\t}\n};\n\n/* load user groups */\nconst loadUserGroupsHandler = createGraphQLEffect(\n\tEDIT_TAG_MODAL_QUERIES.GET_USER_GROUPS,\n\t{\n\t\tvariableList: [\"queryConditions\"],\n\t\tsuccessActionType: EDIT_TAG_MODAL.ACTIONS.LOAD_USER_GROUPS_SUCCESSFUL\n\t}\n);\n\nconst loadUserGroupsSuccessHandler = ({\n\tupdateState,\n\tstate,\n\taction: {\n\t\tpayload: {\n\t\t\tdata: {\n\t\t\t\tGlideRecord_Query: {\n\t\t\t\t\tsys_user_group: { _results: results, _rowCount: totalResults }\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmeta: {\n\t\t\toptions: {\n\t\t\t\tvariables: { queryConditions }\n\t\t\t}\n\t\t}\n\t}\n}) => {\n\tconst prefix = getPrefix(queryConditions);\n\tconst groupList = new TagDetails({ ...state }).groupList;\n\tgroupList.updateAvailableItems(prefix, { results, totalResults });\n\n\t// Return if the prefix is outdated, user typed since last request.\n\tif (groupList.filter === prefix) {\n\t\tupdateState({ [GROUPS]: groupList.properties });\n\t}\n};\n\n/* update Tag */\nconst updateTagHandler = createGraphQLEffect(\n\tEDIT_TAG_MODAL_QUERIES.UPDATE_TAG,\n\t{\n\t\tvariableList: [\"sys_id\", \"name\", \"user_list\", \"group_list\", \"viewable_by\"],\n\t\tsuccessActionType: EDIT_TAG_MODAL.ACTIONS.UPDATE_TAG_SUCCESSFUL\n\t}\n);\n\nconst updateTagSuccessHandler = ({\n\tdispatch,\n\taction: {\n\t\tpayload: {\n\t\t\tdata: {\n\t\t\t\tGlideRecord_Mutation: { update_label: updatedTagDetails }\n\t\t\t}\n\t\t}\n\t}\n}) => {\n\tdispatch(EDIT_TAG_MODAL.ACTIONS.TAG_UPDATED, { tag: updatedTagDetails });\n};\n\n/* Modal interaction handlers */\nconst saveButtonHandler = ({ state, dispatch }) => {\n\tconst tagDetails = new TagDetails({ ...state });\n\n\tif (!tagDetails.name.value) return;\n\n\tdispatch(EDIT_TAG_MODAL.ACTIONS.UPDATE_TAG, tagDetails.value);\n\tdispatch(EDIT_TAG_MODAL.ACTIONS.OPENED_SET, {\n\t\tvalue: false,\n\t\ttagId: state.tagId\n\t});\n};\n\nconst cancelButtonHandler = ({ state, dispatch }) => {\n\tdispatch(EDIT_TAG_MODAL.ACTIONS.OPENED_SET, {\n\t\tvalue: false,\n\t\ttagId: state.tagId\n\t});\n};\n\nconst fieldChangedHandler = ({\n\tupdateState,\n\tstate,\n\taction: {\n\t\tpayload: { name, value, displayValue, avatars }\n\t}\n}) =>\n\tupdateState({\n\t\ttagDetails: {\n\t\t\t...state.tagDetails,\n\t\t\t[name]: {\n\t\t\t\t...state.tagDetails[name],\n\t\t\t\tvalue: value,\n\t\t\t\tdisplayValue: displayValue || state.tagDetails[name].displayValue,\n\t\t\t\tavatars: avatars\n\t\t\t}\n\t\t},\n\t\t[USERS]: {\n\t\t\t...state[USERS],\n\t\t\tfilter: \"\",\n\t\t\tdropdown: false\n\t\t},\n\t\t[GROUPS]: {\n\t\t\t...state[GROUPS],\n\t\t\tfilter: \"\",\n\t\t\tdropdown: false\n\t\t}\n\t});\n\nconst loadItemsRequestFromTypeaheadInterceptor = context => {\n\tconst { coeffects } = context;\n\tconst { action, state } = coeffects;\n\tconst {\n\t\tpayload: { name: fieldName, prefix }\n\t} = action;\n\n\tconst list = new TagDetails({ ...state }).getList(fieldName);\n\tlist.filter = prefix;\n\tlist.dropdown = false;\n\n\tif (!prefix || list.loadAvailableItemsFromCache(prefix)) {\n\t\tconst effect = ({ updateState, state }) =>\n\t\t\tupdateState({\n\t\t\t\t[USERS]: { ...state[USERS], dropdown: false },\n\t\t\t\t[GROUPS]: { ...state[GROUPS], dropdown: false },\n\t\t\t\t[list.listKey]: list.properties\n\t\t\t});\n\t\treturn {\n\t\t\t...context,\n\t\t\teffects: [{ effect, args: [coeffects] }]\n\t\t};\n\t}\n\n\tconst effect =\n\t\tlist.listKey === USERS ? loadUsersHandler : loadUserGroupsHandler;\n\treturn {\n\t\t...context,\n\t\teffects: [\n\t\t\t{\n\t\t\t\t...effect,\n\t\t\t\targs: [\n\t\t\t\t\t...effect.args,\n\t\t\t\t\t{\n\t\t\t\t\t\t...coeffects,\n\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\t...action,\n\t\t\t\t\t\t\ttype: getLoadAction(list.listKey),\n\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\tqueryConditions: \"active=true^nameSTARTSWITH\" + prefix\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t};\n};\n\nconst pillRemovedHandler = ({\n\tdispatch,\n\tstate,\n\taction: {\n\t\tpayload: { name: fieldName, value }\n\t}\n}) => {\n\tconst list = new TagDetails({ ...state }).getList(fieldName);\n\tconst selectedItems = list.selected;\n\tconst newItems = selectedItems.filter(i => i.value !== value);\n\tlist.updateSelectedItems(newItems);\n\tdispatch(EDIT_TAG_MODAL.ACTIONS.FIELD_CHANGED, {\n\t\tname: list.fieldName,\n\t\tvalue: list.value,\n\t\tdisplayValue: list.displayValue,\n\t\tavatars: list.avatars\n\t});\n};\n\nconst pillAddeddHandler = ({\n\tdispatch,\n\tstate,\n\taction: {\n\t\tpayload: { name: fieldName, value }\n\t}\n}) => {\n\tconst list = new TagDetails({ ...state }).getList(fieldName);\n\tconst availableItems = list.available;\n\tconst selectedItems = list.selected;\n\n\tconst newItems = [\n\t\t...selectedItems,\n\t\t...availableItems.filter(i => i.value === value)\n\t];\n\tlist.updateSelectedItems(newItems);\n\tdispatch(EDIT_TAG_MODAL.ACTIONS.FIELD_CHANGED, {\n\t\tname: list.fieldName,\n\t\tvalue: list.value,\n\t\tdisplayValue: list.displayValue,\n\t\tavatars: list.avatars\n\t});\n};\n\nconst typeAheadDropdownOpenedHandler = ({ updateState, state, action }) => {\n\tconst {\n\t\tpayload: { value },\n\t\tmeta: { componentName: fieldName }\n\t} = action;\n\tif (value) return;\n\n\tconst listKey = getListKey(fieldName);\n\tupdateState({\n\t\t[listKey]: { ...state[listKey], dropdown: false, filter: \"\" }\n\t});\n};\n\nconst noopHandler = () => {};\n\nconst actions = Object.freeze({\n\tactions: {\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_TAG_DETAILS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_AVATARS_SUCCESSFUL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_TAG_DETAILS_SUCCESSFUL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.UPDATE_TAG]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.UPDATE_TAG_SUCCESSFUL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_USERS_SUCCESSFUL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_USER_GROUPS_SUCCESSFUL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.SAVE]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.CANCEL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.FIELD_CHANGED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[TYPEAHEAD.ACTIONS.LOAD_ITEMS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[TYPEAHEAD.ACTIONS.PILL_REMOVED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[TYPEAHEAD.ACTIONS.PILL_ADDED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ACTIONS.NOW_PILL_SELECTION_SET]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_TAG_DETAILS]: {\n\t\t\teffect: transformState,\n\t\t\tinterceptors: [loadTagInterceptor]\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_AVATARS_SUCCESSFUL]: loadAvatarsSuccessHandler,\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_TAG_DETAILS_SUCCESSFUL]: {\n\t\t\teffect: loadTagSuccessHandler,\n\t\t\tinterceptors: [\n\t\t\t\t{\n\t\t\t\t\tafter: initializeAvatarsInterceptor\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t[EDIT_TAG_MODAL.ACTIONS.UPDATE_TAG]: updateTagHandler,\n\t\t[EDIT_TAG_MODAL.ACTIONS.UPDATE_TAG_SUCCESSFUL]: updateTagSuccessHandler,\n\t\t[EDIT_TAG_MODAL.ACTIONS.LOAD_USERS_SUCCESSFUL]: loadUsersSuccessHandler,\n\t\t[EDIT_TAG_MODAL.ACTIONS\n\t\t\t.LOAD_USER_GROUPS_SUCCESSFUL]: loadUserGroupsSuccessHandler,\n\t\t[EDIT_TAG_MODAL.ACTIONS.SAVE]: saveButtonHandler,\n\t\t[EDIT_TAG_MODAL.ACTIONS.CANCEL]: cancelButtonHandler,\n\t\t[EDIT_TAG_MODAL.ACTIONS.FIELD_CHANGED]: fieldChangedHandler,\n\t\t[TYPEAHEAD.ACTIONS.LOAD_ITEMS]: {\n\t\t\teffect: noopHandler,\n\t\t\tinterceptors: [\n\t\t\t\t{\n\t\t\t\t\tafter: loadItemsRequestFromTypeaheadInterceptor\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t[TYPEAHEAD.ACTIONS.PILL_REMOVED]: pillRemovedHandler,\n\t\t[TYPEAHEAD.ACTIONS.PILL_ADDED]: pillAddeddHandler,\n\t\t[ACTIONS.NOW_PILL_SELECTION_SET]: noopHandler,\n\t\t[TYPEAHEAD.ACTIONS\n\t\t\t.DROPDOWN_PANEL_OPENED_SET]: typeAheadDropdownOpenedHandler,\n\t\t[COMPONENT_BOOTSTRAPPED]: {\n\t\t\teffect: transformState\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: context => {\n\t\t\tconst {\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { name, value, previousValue }\n\t\t\t\t},\n\t\t\t\tdispatch\n\t\t\t} = context;\n\t\t\tif (name && name === \"opened\" && !_.isEqual(value, previousValue)) {\n\t\t\t\tdispatch(EDIT_TAG_MODAL.ACTIONS.LOAD_TAG_DETAILS);\n\t\t\t}\n\t\t}\n\t}\n});\n\nexport default actions;\n","export const EDIT_TAG_MODAL_QUERIES = {\n\tGET_TAG_DETAILS: `\n        query($tagId: String!) {\n            GlideRecord_Query {\n                label(sys_id: $tagId) {\n                    _results{\n\t\t\t\t\t\tsys_id { value }\n\t\t\t\t\t\tname { value, canWrite }\n\t\t\t\t\t\tviewable_by { value }\n\t\t\t\t\t\tuser_list { value displayValue }\n\t\t\t\t\t\tgroup_list { value displayValue }\n\t\t\t\t\t\towner { value displayValue}\n                    }\n                }\n            }\n        }\n    `,\n\tUPDATE_TAG: `\n        mutation ($sys_id: String!, $name: String!, $user_list: String, $group_list: String, $viewable_by: String!) {\n            GlideRecord_Mutation {\n                update_label(\n                    sys_id: $sys_id\n                    name: $name,\n                    user_list: $user_list,\n                    group_list: $group_list\n                    viewable_by: $viewable_by\n                ) {\n                    name { value }\n                    viewable_by { value }\n                }\n            }\n        }\n    `,\n\tGET_USERS: `\n        query($queryConditions: String!) {\n            GlideRecord_Query {\n                sys_user(queryConditions: $queryConditions, pagination: { limit: 10}) {\n                    _results {\n                        name { value }\n                        sys_id { value }\n                        email { value }\n                        avatar { value }\n                    }\n                    _rowCount\n                }\n            }\n        }\n    `,\n\tGET_AVATARS: `\n        query($queryConditions: String!) {\n            GlideRecord_Query {\n                sys_user(queryConditions: $queryConditions, pagination: { limit: 20}) {\n                    _results {\n                        sys_id { value }\n                        avatar { value }\n                    }\n                    _rowCount\n                }\n            }\n        }\n    `,\n\tGET_USER_GROUPS: `\n        query($queryConditions: String!) {\n            GlideRecord_Query {\n                sys_user_group(queryConditions: $queryConditions, pagination: { limit: 10}) {\n                    _results {\n                        name { value }\n                        sys_id { value }\n                    }\n                    _rowCount\n                }\n            }\n        }\n    `\n};\n","/* ************************************************************\n+   TODO: Replace with official emotive component.\n+\n+   This component is temporary until the official now-typeahead is released and can be configured to suit our needs.\n+\n+*************************************************************** */\n\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { createCustomElement } from \"@servicenow/ui-core\";\n// eslint-disable-next-line no-unused-vars\nimport styles from \"./_typeahead.scss\";\nimport actions from \"./actions\";\nimport behaviors from \"./behaviors\";\nimport { Typeahead } from \"./views\";\nimport { COMPONENT_TAG_TYPE_AHEAD } from \"../constants\";\n\n/** @seismicElement now-dropdown */\ncreateCustomElement(COMPONENT_TAG_TYPE_AHEAD, {\n\tproperties: {\n\t\t/**\n\t\t * Label to be displayed above the input field.\n\t\t * @type {string}\n\t\t */\n\t\tlabel: {},\n\n\t\t/**\n\t\t * Label to be displayed as dropdown header\n\t\t * @type {string}\n\t\t */\n\t\tdropdownLabel: {},\n\n\t\t/** Array of available items\n\t\t * @type {{value: (string|number), displayValue: string, secondaryDisplayValue: string, icon: string}[]}\n\t\t */\n\t\tavailableItems: { default: [], cast: \"array\" },\n\n\t\t/** Array of selected items\n\t\t * @type {{value: (string|number), displayValue: string, secondaryDisplayValue: string, icon: string}[]}\n\t\t */\n\t\tselectedItems: { default: [], cast: \"array\" },\n\n\t\t/**\n\t\t * Manage the property to control when the typeahead dropdown is open.\n\t\t * @type {boolean}\n\t\t */\n\t\topened: { default: false, manageable: true },\n\n\t\t/**\n\t\t * Input value of the filter\n\t\t * @type {string}\n\t\t */\n\t\tfilter: { default: \"\", manageable: true },\n\n\t\t/**\n\t\t * Name of the element. Will be passed in dispatch events.\n\t\t * @type {string}\n\t\t */\n\t\tfieldName: { default: \"typeahead-element\" },\n\n\t\t/**\n\t\t * Default pill icon to render if image url is not set or not found.\n\t\t * @type {string}\n\t\t */\n\t\tdefaultPillIcon: {},\n\n\t\t/**\n\t\t * Total available items\n\t\t * @type {number}\n\t\t */\n\t\ttotal: {},\n\t\tinputRef: {},\n\t\tdropdownPanelRef: {}\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: Typeahead\n\t},\n\t...actions,\n\tbehaviors,\n\tstyles\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_typeahead.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}:host{display:inline-block}.multiselect-pill{margin:.125rem .25rem .125rem 0;max-width:16.5625rem}label{margin-bottom:.25rem;font-size:.75rem;color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));display:flex;pointer-events:none}:host(:not([dir=rtl])) label,:root:not([dir=rtl]) label{padding-left:.25rem}:host([dir=rtl]) label,:root[dir=rtl] label{padding-right:.25rem}:host(:not([dir=rtl])) label,:root:not([dir=rtl]) label{padding-right:var(--now-input-action-padding)}:host([dir=rtl]) label,:root[dir=rtl] label{padding-left:var(--now-input-action-padding)}.multi-select-container{display:flex;flex-wrap:wrap;border-bottom-width:.0625rem;border-bottom-style:solid;border-bottom-color:RGB(var(--now-color--divider-secondary,var(--now-color--neutral-5,172,180,181)));outline:none;width:16.5625rem}:host(:not([dir=rtl])) .multi-select-container,:root:not([dir=rtl]) .multi-select-container{padding-left:.25rem}:host([dir=rtl]) .multi-select-container,:root[dir=rtl] .multi-select-container{padding-right:.25rem}:host(:not([dir=rtl])) .multi-select-container,:root:not([dir=rtl]) .multi-select-container{padding-right:var(--now-input-action-padding)}:host([dir=rtl]) .multi-select-container,:root[dir=rtl] .multi-select-container{padding-left:var(--now-input-action-padding)}.multi-select-container:hover{background-color:RGB(var(--now-color--background-tertiary,var(--now-color--neutral-2,228,230,231)))}.multi-select-container:focus-within{border-width:.125rem;border-color:RGB(var(--now-color--primary-1,30,133,109));background-color:RGB(var(--now-color--primary-0,221,237,233))}input{flex-grow:1;flex-shrink:1;height:2rem;border:none;padding:0;font-size:1rem;background:transparent;outline:none}\", \"\"]);\n\n// exports\n","import { TYPEAHEAD } from \"./constants\";\nconst itemSelectedHandler = ({\n\tdispatch,\n\tstate: {\n\t\tproperties: { fieldName, inputRef }\n\t},\n\taction: {\n\t\tpayload: { value }\n\t}\n}) => {\n\tdispatch(TYPEAHEAD.ACTIONS.PILL_ADDED, {\n\t\tname: fieldName,\n\t\tvalue: value\n\t});\n\twindow.setTimeout(() => {\n\t\tinputRef.focus();\n\t\tinputRef.scrollIntoView;\n\t}, 20);\n};\n\nconst pillDismissHandler = ({\n\tdispatch,\n\tstate: {\n\t\tproperties: { selectedItems, inputRef, fieldName }\n\t},\n\taction: {\n\t\tpayload: {\n\t\t\titem: { value }\n\t\t}\n\t}\n}) => {\n\tdispatch(TYPEAHEAD.ACTIONS.PILL_REMOVED, { name: fieldName, value: value });\n\tif (selectedItems.length === 1) {\n\t\twindow.setTimeout(() => {\n\t\t\tinputRef.focus();\n\t\t\tinputRef.scrollIntoView;\n\t\t}, 20);\n\t}\n};\n\nconst DROPDOWN_PANEL_SELECTED_ITEM = \"DROPDOWN_PANEL#SELECTED_ITEM_SET\";\nconst DROPDOWN_PANEL_DISMISS_PILL = \"NOW_PILL#DISMISSED\";\n\nexport default {\n\tactions: {\n\t\t[DROPDOWN_PANEL_SELECTED_ITEM]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[DROPDOWN_PANEL_DISMISS_PILL]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[DROPDOWN_PANEL_SELECTED_ITEM]: itemSelectedHandler,\n\t\t[DROPDOWN_PANEL_DISMISS_PILL]: pillDismissHandler\n\t}\n};\n","import keyBindingBehavior from \"@servicenow/behavior-key-binding\";\nimport { fitBehavior } from \"@servicenow/behavior-fit\";\nimport { TYPEAHEAD } from \"./constants\";\nimport { COMPONENT_TAG_TYPE_AHEAD_DROPDOWN_PANEL } from \"../constants\";\nconst isTriggeredFromInput = event =>\n\tevent.composedPath()[0].nodeName === \"INPUT\";\nconst behaviors = [\n\t{\n\t\tbehavior: fitBehavior,\n\t\toptions: {\n\t\t\tposition: [\n\t\t\t\t\"bottom-start top-start\",\n\t\t\t\t\"top-start bottom-start\",\n\t\t\t\t\"bottom-end top-end\",\n\t\t\t\t\"top-end bottom-end\"\n\t\t\t],\n\t\t\tconstrain: {\n\t\t\t\tminHeight: 32,\n\t\t\t\tminWidth: \"target\",\n\t\t\t\tmaxWidth: 300,\n\t\t\t\tmaxHeight: 300\n\t\t\t},\n\t\t\tcanScrollVertical: true\n\t\t}\n\t},\n\t{\n\t\tbehavior: keyBindingBehavior,\n\t\toptions: {\n\t\t\tkeyBindings: {\n\t\t\t\topen: [\"ArrowDown\"],\n\t\t\t\tdismiss: [\"Escape\", \"Tab\"],\n\t\t\t\tremove: [\"Backspace\"],\n\t\t\t\tfocus: [\"Enter\", \" \"]\n\t\t\t},\n\t\t\thandlers: {\n\t\t\t\topen: function(host, event, dispatch) {\n\t\t\t\t\tif (!isTriggeredFromInput(event)) return;\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconst dropDownResults = host.shadowRoot.querySelector(\n\t\t\t\t\t\tCOMPONENT_TAG_TYPE_AHEAD_DROPDOWN_PANEL\n\t\t\t\t\t).shadowRoot;\n\t\t\t\t\tlet listbox = dropDownResults.querySelector(\"ul\");\n\t\t\t\t\tlet nextFocus = dropDownResults.querySelector(\"li\");\n\t\t\t\t\tif (nextFocus) {\n\t\t\t\t\t\tnextFocus.scrollIntoView();\n\t\t\t\t\t\tlistbox.setAttribute(\"aria-activedescendant\", nextFocus.id);\n\t\t\t\t\t\tnextFocus.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdismiss: function(host, event, dispatch) {\n\t\t\t\t\tif (host.opened) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tdispatch(TYPEAHEAD.ACTIONS.DROPDOWN_PANEL_OPENED_SET, {\n\t\t\t\t\t\t\tvalue: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\thost.shadowRoot.querySelector(\".typeahead-input\").focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tremove: function(host, event, dispatch) {\n\t\t\t\t\tif (host.filter || host.selectedItems.length === 0) return;\n\t\t\t\t\tdispatch(TYPEAHEAD.ACTIONS.PILL_REMOVED, {\n\t\t\t\t\t\tname: host.fieldName,\n\t\t\t\t\t\tvalue: host.selectedItems[host.selectedItems.length - 1].value\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tfocus: function(host, event, dispatch) {\n\t\t\t\t\tif (host.opened) host.inputRef.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nexport default behaviors;\n","import { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport { TYPEAHEAD } from \"./constants\";\nimport {\n\tsetFitOpened,\n\tsetFitTarget,\n\tsetFitContent\n} from \"@servicenow/behavior-fit\";\nimport \"./dropdownpanel/dropdownPanel\";\nimport \"@servicenow/now-pill\";\nimport { escapeSeismicSpecialSymbols } from \"../../../utils/seismicUtils\";\nconst MultiSelectInput = ({\n\tlabel,\n\tdispatch,\n\tselectedItems,\n\tvalue,\n\tfieldName,\n\tdefaultPillIcon,\n\tmainComponentId\n}) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t{label && <label htmlFor={mainComponentId}>{label}</label>}\n\t\t\t<div\n\t\t\t\thook={{\n\t\t\t\t\tinsert: ({ elm }) => setFitTarget(dispatch, elm),\n\t\t\t\t\tremove: () => setFitTarget(dispatch, null)\n\t\t\t\t}}\n\t\t\t\ton-scroll={(event, { elm }) => setFitTarget(dispatch, elm)}\n\t\t\t\ton-wheel={(event, { elm }) => setFitTarget(dispatch, elm)}\n\t\t\t\tclassName=\"multi-select-container\"\n\t\t\t>\n\t\t\t\t{selectedItems.map(item => {\n\t\t\t\t\tconst pillIcon = item.icon ? \"\" : defaultPillIcon;\n\t\t\t\t\tconst displayValue = escapeSeismicSpecialSymbols(item.displayValue);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<now-pill\n\t\t\t\t\t\t\tclassName={\"multiselect-pill\"}\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\timageSrc={item.icon}\n\t\t\t\t\t\t\ticonName={pillIcon}\n\t\t\t\t\t\t\tmanageSelected\n\t\t\t\t\t\t\tlabel={displayValue}\n\t\t\t\t\t\t\tcanDismiss={true}\n\t\t\t\t\t\t\tappend-to-payload={{ item }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<input\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\tid={mainComponentId}\n\t\t\t\t\tclassName=\"typeahead-input\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\thook={{\n\t\t\t\t\t\tinsert: ({ elm }) => {\n\t\t\t\t\t\t\tdispatch(\"PROPERTIES_SET\", { inputRef: elm });\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremove: () => dispatch(\"PROPERTIES_SET\", { inputRef: null })\n\t\t\t\t\t}}\n\t\t\t\t\ton-input={evt => {\n\t\t\t\t\t\tdispatch(TYPEAHEAD.ACTIONS.LOAD_ITEMS, {\n\t\t\t\t\t\t\tname: fieldName,\n\t\t\t\t\t\t\tprefix: evt.target.value.trim()\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nconst getFitStyle = (style, dropdownPanelEl) => {\n\tif (_.isEmpty(style)) return {};\n\n\tconst contentEl =\n\t\tdropdownPanelEl && dropdownPanelEl.shadowRoot\n\t\t\t? dropdownPanelEl.shadowRoot.querySelector(\"section\")\n\t\t\t: null;\n\tconst height = style.height ? style.height.replace(\"px\", \"\") * 1 : 0;\n\tconst newHeight = contentEl\n\t\t? Math.min(Math.max(contentEl.clientHeight, height), 300)\n\t\t: 0;\n\treturn {\n\t\t..._.omit(style, [\"height\", \"width\"]),\n\t\tmaxHeight: newHeight ? `${newHeight}px` : style.height\n\t};\n};\n\nexport const Typeahead = (state, dispatch) => {\n\tconst {\n\t\topened,\n\t\tavailableItems = [],\n\t\tselectedItems = [],\n\t\tfilter = \"\",\n\t\tlabel,\n\t\tdropdownLabel,\n\t\tfieldName,\n\t\tdefaultPillIcon,\n\t\tdropdownPanelRef\n\t} = state.properties;\n\tconst { fit } = state.behaviors;\n\tconst fitStyle = getFitStyle(fit.style, dropdownPanelRef);\n\treturn (\n\t\t<Fragment>\n\t\t\t<MultiSelectInput\n\t\t\t\tmainComponentId={state.componentId}\n\t\t\t\tfieldName={fieldName}\n\t\t\t\tstate={state}\n\t\t\t\tselectedItems={selectedItems}\n\t\t\t\tlabel={label}\n\t\t\t\tvalue={filter}\n\t\t\t\tdefaultPillIcon={defaultPillIcon}\n\t\t\t\tdispatch={dispatch}\n\t\t\t/>\n\t\t\t<sn-form-internal-dropdown-panel\n\t\t\t\titems={availableItems}\n\t\t\t\tlabel={dropdownLabel}\n\t\t\t\topened={opened}\n\t\t\t\tcomponent-name={fieldName}\n\t\t\t\ton-wheel={(event, { elm }) => {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tsetFitContent(dispatch, elm);\n\t\t\t\t}}\n\t\t\t\thook={{\n\t\t\t\t\tupdate: (oldNode, newNode) => {\n\t\t\t\t\t\tconst wasOpened = oldNode.data.props.opened;\n\t\t\t\t\t\tconst opened = newNode.data.props.opened;\n\t\t\t\t\t\tconst oldItems = oldNode.data.props.items.map(i => i.id).join();\n\t\t\t\t\t\tconst newItems = newNode.data.props.items.map(i => i.id).join();\n\t\t\t\t\t\tif (wasOpened !== opened || (opened && oldItems !== newItems))\n\t\t\t\t\t\t\tsetFitOpened(dispatch, opened);\n\t\t\t\t\t\tif (oldItems !== newItems || wasOpened !== opened)\n\t\t\t\t\t\t\tsetFitContent(dispatch, newNode.elm);\n\t\t\t\t\t},\n\t\t\t\t\tinsert: ({ elm }) => {\n\t\t\t\t\t\tif (elm && elm !== dropdownPanelRef) {\n\t\t\t\t\t\t\tdispatch(\"PROPERTIES_SET\", { dropdownPanelRef: elm });\n\t\t\t\t\t\t\tsetFitContent(dispatch, elm);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdestroy: () => setFitContent(dispatch, null),\n\t\t\t\t\tremove: () => {\n\t\t\t\t\t\tdispatch(\"PROPERTIES_SET\", { dropdownPanelRef: null });\n\t\t\t\t\t\tsetFitContent(dispatch, null);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tstyle={fitStyle}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n","// Extending now dropdown panel\nimport { createCustomElement } from \"@servicenow/ui-core\";\nimport \"@servicenow/now-avatar\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport styles from \"./_dropdown_panel.scss\";\nimport behaviors from \"./behaviors\";\nimport { DropdownPanel } from \"./views\";\nimport { TYPEAHEAD } from \"../constants\";\nimport {\n\taddOutsideClickListener,\n\tremoveOutsideClickListener\n} from \"../../../../utils/outsideClickHandler\";\nimport { COMPONENT_TAG_TYPE_AHEAD_DROPDOWN_PANEL } from \"../../constants\";\n\n/** @seismicElement sn-component-dropdown-panel */\ncreateCustomElement(COMPONENT_TAG_TYPE_AHEAD_DROPDOWN_PANEL, {\n\tproperties: {\n\t\t/**\n\t\t * An array of item objects describing each item in the dropdown.\n\t\t * Each object must have a unique value and displayValue.\n\t\t * @type {{value: (string|number), displayValue: string, secondaryDisplayValue: string, icon: string}[]}\n\t\t */\n\t\titems: { default: [], cast: \"array\" },\n\n\t\t/**\n\t\t * label to be display at the top of the items (header)\n\t\t * @type (string)\n\t\t */\n\t\tlabel: { default: \"\" },\n\n\t\t/**\n\t\t * Whether the dropdown is open or not\n\t\t * @type (boolean)\n\t\t */\n\t\topened: { default: false, manageable: true }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: DropdownPanel\n\t},\n\tstyles,\n\tbehaviors,\n\tonBootstrap(host, dispatch) {\n\t\tconst { table, sysId } = host;\n\t\taddOutsideClickListener(host, dispatch, (host, dispatch, event) => {\n\t\t\tif (host.opened) {\n\t\t\t\tconst paths = event.composedPath();\n\t\t\t\tconst rootHost = host.getRootNode();\n\t\t\t\tif (paths.length > 0 && paths[0].getRootNode() !== rootHost) {\n\t\t\t\t\tdispatch(TYPEAHEAD.ACTIONS.DROPDOWN_PANEL_OPENED_SET, {\n\t\t\t\t\t\tvalue: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tonDisconnect(host) {\n\t\tremoveOutsideClickListener(host);\n\t}\n});\n","module.exports = __TECTONIC__$servicenow_now_avatar;","\n        var result = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_dropdown_panel.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop--sm:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}section.sn-component-dropdown-panel-container{width:100%;display:table;table-layout:auto}section.sn-component-dropdown-panel-container section.sn-component-dropdown-panel-left,section.sn-component-dropdown-panel-container section.sn-component-dropdown-panel-right{display:table-cell}section.sn-component-dropdown-panel-container section.sn-component-dropdown-panel-left{padding-right:.25rem;vertical-align:middle}.sn-component-dropdown-panel,:host{position:fixed;top:0;left:0;display:block;visibility:hidden;box-sizing:border-box;border-width:1px;border-style:solid;overflow:auto;border-color:RGB(var(--now-color--primary-2,23,100,82));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);background-color:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)))}.sn-component-dropdown-panel-header{font-size:.75rem;color:RGB(var(--now-color--neutral-8,117,130,132))}:host(:not([dir=rtl])) .sn-component-dropdown-panel-header,:root:not([dir=rtl]) .sn-component-dropdown-panel-header{padding-left:1rem}:host([dir=rtl]) .sn-component-dropdown-panel-header,:root[dir=rtl] .sn-component-dropdown-panel-header{padding-right:1rem}.sn-component-dropdown-panel-list{overflow-y:auto;height:100%;margin:0;padding:0;list-style:none;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.sn-component-dropdown-panel-item{display:flex;align-items:center;height:2.5rem}:host(:not([dir=rtl])) .sn-component-dropdown-panel-item,:root:not([dir=rtl]) .sn-component-dropdown-panel-item{padding-left:1rem}:host(:not([dir=rtl])) .sn-component-dropdown-panel-item,:host([dir=rtl]) .sn-component-dropdown-panel-item,:root:not([dir=rtl]) .sn-component-dropdown-panel-item,:root[dir=rtl] .sn-component-dropdown-panel-item{padding-right:1rem}:host([dir=rtl]) .sn-component-dropdown-panel-item,:root[dir=rtl] .sn-component-dropdown-panel-item{padding-left:1rem}.sn-component-dropdown-panel-item:focus,.sn-component-dropdown-panel-item:hover{background-color:RGB(var(--now-color--primary-0,221,237,233));outline:none}.sn-component-dropdown-panel-item:focus{cursor:pointer}.sn-component-dropdown-panel-item-label{font-size:1rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-component-dropdown-panel-item-secondary-label{font-size:.75rem;color:RGB(var(--now-color--neutral-8,117,130,132));overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-component-dropdown-panel-item-icon{min-width:1rem;color:RGB(var(--now-color--primary-2,23,100,82))}\", \"\"]);\n\n// exports\n","import keyBindingBehavior from \"@servicenow/behavior-key-binding\";\nimport { TYPEAHEAD } from \"../constants\";\nconst findFirstLi = host => host.shadowRoot.querySelector(\"li\");\nconst findLastLi = host => host.shadowRoot.querySelector(\"li:last-of-type\");\nconst behaviors = [\n\t{\n\t\tbehavior: keyBindingBehavior,\n\t\toptions: {\n\t\t\tkeyBindings: {\n\t\t\t\tmoveFocus: [\"Home\", \"ArrowUp\", \"ArrowDown\", \"End\", \"Tab\"],\n\t\t\t\tdismiss: [\"Escape\", \" \", \"Enter\"],\n\t\t\t\tselect: [\" \", \"Enter\"]\n\t\t\t},\n\t\t\thandlers: {\n\t\t\t\tmoveFocus: function(host, event, dispatch) {\n\t\t\t\t\tconst currentFocus = host.shadowRoot.querySelector(\":focus\");\n\t\t\t\t\tlet nextFocus;\n\n\t\t\t\t\tswitch (event.key) {\n\t\t\t\t\t\tcase \"Tab\": {\n\t\t\t\t\t\t\tnextFocus = host.parentNode.querySelector(\"input\");\n\t\t\t\t\t\t\tnextFocus.focus();\n\t\t\t\t\t\t\tdispatch(TYPEAHEAD.ACTIONS.DROPDOWN_PANEL_OPENED_SET, {\n\t\t\t\t\t\t\t\tvalue: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"Home\": {\n\t\t\t\t\t\t\tnextFocus = findFirstLi(host);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"ArrowDown\": {\n\t\t\t\t\t\t\tconst nextLi = currentFocus.nextElementSibling;\n\t\t\t\t\t\t\tnextFocus = nextLi ? nextLi : findFirstLi(host);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"ArrowUp\": {\n\t\t\t\t\t\t\tconst previousLi = currentFocus.previousElementSibling;\n\t\t\t\t\t\t\tnextFocus = previousLi ? previousLi : findLastLi(host);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase \"End\": {\n\t\t\t\t\t\t\tnextFocus = findLastLi(host);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconst listbox = host.shadowRoot.querySelector(\"ul\");\n\t\t\t\t\tif (nextFocus && nextFocus !== currentFocus) {\n\t\t\t\t\t\tnextFocus.scrollIntoView();\n\t\t\t\t\t\tlistbox.setAttribute(\"aria-activedescendant\", nextFocus.id);\n\t\t\t\t\t\tnextFocus.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdismiss: function(host, event, dispatch) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tdispatch(TYPEAHEAD.ACTIONS.DROPDOWN_PANEL_OPENED_SET, {\n\t\t\t\t\t\tvalue: false\n\t\t\t\t\t});\n\t\t\t\t\tconst parent = host.getRootNode();\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tconst input = parent.querySelector(\"input\");\n\t\t\t\t\t\tif (input) input.focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tselect: function(host, event) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tconst listbox = host.shadowRoot.querySelector(\"ul\");\n\t\t\t\t\tconst currentFocus = host.shadowRoot.querySelector(\n\t\t\t\t\t\t\"#\" + listbox.getAttribute(\"aria-activedescendant\")\n\t\t\t\t\t);\n\t\t\t\t\tif (currentFocus) {\n\t\t\t\t\t\tcurrentFocus.click();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nexport default behaviors;\n","const DropdownPanelItemWithSecondayValue = ({\n\titem: { value, displayValue, secondaryDisplayValue, icon },\n\tonClick\n}) => {\n\treturn (\n\t\t<li\n\t\t\ttabindex=\"-1\"\n\t\t\tid={\"key\" + value}\n\t\t\tclassName=\"sn-component-dropdown-panel-item\"\n\t\t\ton-click={onClick}\n\t\t\trole=\"option\"\n\t\t>\n\t\t\t<div className=\"sn-component-line-height-crop\">\n\t\t\t\t<section className=\"sn-component-dropdown-panel-container\">\n\t\t\t\t\t<section className=\"sn-component-dropdown-panel-left\">\n\t\t\t\t\t\t<now-avatar image-src={icon} size=\"sm\" />\n\t\t\t\t\t</section>\n\t\t\t\t\t<section className=\"sn-component-dropdown-panel-right\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"sn-component-dropdown-panel-item-label\"\n\t\t\t\t\t\t\ton-mouseover={({ target }) => {\n\t\t\t\t\t\t\t\tif (target.offsetWidth < target.scrollWidth) {\n\t\t\t\t\t\t\t\t\ttarget.title = displayValue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{displayValue}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"sn-component-dropdown-panel-item-secondary-label\"\n\t\t\t\t\t\t\ton-mouseover={({ target }) => {\n\t\t\t\t\t\t\t\tif (target.offsetWidth < target.scrollWidth) {\n\t\t\t\t\t\t\t\t\ttarget.title = secondaryDisplayValue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{secondaryDisplayValue}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\n// eslint-disable-next-line no-unused-vars\nconst DropdownPanelItem = ({ item: { value, displayValue }, onClick }) => {\n\treturn (\n\t\t<li\n\t\t\ttabindex=\"-1\"\n\t\t\tid={\"key\" + value}\n\t\t\tclassName=\"sn-component-dropdown-panel-item\"\n\t\t\ton-click={onClick}\n\t\t\trole=\"option\"\n\t\t>\n\t\t\t<div className=\"sn-component-line-height-crop\">\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"sn-component-dropdown-panel-item-label\"\n\t\t\t\t\ton-mouseover={({ target }) => {\n\t\t\t\t\t\tif (target.offsetWidth < target.scrollWidth) {\n\t\t\t\t\t\t\ttarget.title = displayValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{displayValue}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nexport const DropdownPanel = (state, { dispatch }) => {\n\tconst { items, label } = state.properties;\n\n\tconst onToggleItemSelected = value => {\n\t\tdispatch(\"DROPDOWN_PANEL#SELECTED_ITEM_SET\", { value });\n\t};\n\n\treturn (\n\t\t<section>\n\t\t\t<label className=\"sn-component-dropdown-panel-header\"> {label} </label>\n\t\t\t<ul\n\t\t\t\trole=\"listbox\"\n\t\t\t\tclass={{ \"sn-component-dropdown-panel-list\": true }}\n\t\t\t\ttabindex=\"-1\"\n\t\t\t>\n\t\t\t\t{items.map(item => {\n\t\t\t\t\tif (item.secondaryDisplayValue || item.icon) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<DropdownPanelItemWithSecondayValue\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tonClick={() => onToggleItemSelected(item.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<DropdownPanelItem\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tonClick={() => onToggleItemSelected(item.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</section>\n\t);\n};\n","const hostToClickListener = new WeakMap();\n\nexport const addOutsideClickListener = (host, dispatch, handler) => {\n\tconst listener = e => {\n\t\tconst path = e.composedPath ? e.composedPath() : e.path;\n\t\tconst hostInPath = path.indexOf(host) !== -1;\n\t\tif (!hostInPath) {\n\t\t\tif (handler) handler(host, dispatch, e);\n\t\t}\n\t};\n\tdocument.addEventListener(\"click\", listener, false);\n\thostToClickListener.set(host, listener);\n};\n\nexport const removeOutsideClickListener = host => {\n\tconst listener = hostToClickListener.get(host);\n\tif (listener) {\n\t\tdocument.removeEventListener(\"click\", listener, false);\n\t\thostToClickListener.delete(host);\n\t}\n};\n","import keyBindingBehavior from \"@servicenow/behavior-key-binding\";\nimport { EDIT_TAG_MODAL } from \"./constants\";\nconst behaviors = [\n\t{\n\t\tbehavior: keyBindingBehavior,\n\t\toptions: {\n\t\t\tkeyBindings: {\n\t\t\t\tdismiss: [\"Escape\"]\n\t\t\t},\n\t\t\thandlers: {\n\t\t\t\tdismiss: function(host, event, dispatch) {\n\t\t\t\t\tif (host.opened) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tdispatch(EDIT_TAG_MODAL.ACTIONS.OPENED_SET, { value: false });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\nexport default behaviors;\n","module.exports = __TECTONIC__$servicenow_now_image;","import { createHeaderConfigurationDataSource } from \"./datasource/configurationDataSource\";\nimport { createDataProvider } from \"@devsnc/library-form\";\n\nconst HEADER_CONFIGURATION_DATA_PROVIDER = \"header-configuration-data-provider\";\nconst configurationDataSource = createHeaderConfigurationDataSource();\nexport const createHeaderConfigurationDataProvider = () =>\n\tcreateDataProvider({\n\t\tname: HEADER_CONFIGURATION_DATA_PROVIDER,\n\t\tdataSources: [configurationDataSource]\n\t});\n","export const HEADER_CONFIGURATION_QUERY_KEY = \"HeaderConfiguration\";\nexport const HEADER_CONFIGURATION_TABLE = \"sys_aw_form_header\";\nexport const QUERY_FRAGMENT = `\n\t\t${HEADER_CONFIGURATION_QUERY_KEY}:GlideRecord_Query  {\n\t\t\t${HEADER_CONFIGURATION_TABLE}(queryConditions: $conditions, pagination: {limit: 1}) {\n\t\t\t\t_results {\n\t\t\t\t\tsys_id {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t\tprimary_field {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t\tsecondary_fields {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n`;\nexport const QUERY = `\n\tquery($conditions: String!) {\n\t\t${QUERY_FRAGMENT}}\n\t}\n`;\n","export { default as UIActionBarConnectedElement } from \"./UIActionBarConnected\";\nexport { default as UIActionBarElement } from \"./UIActionBarElement\";\nexport { createUIActionDataSource } from \"./data/uiActionDataSource\";\nexport { createUxActionDataSource } from \"./data/uxActionDataSource\";\nexport {\n\tUI_ACTION_BAR_ACTIONS,\n\tUI_ACTION_BAR_CONNECTED_ACTIONS,\n\tUI_ACTION_BAR_DEFAULT_WIDTH_PERCENTAGE,\n\tUI_ACTION_TYPES,\n\tUX_ACTION_TYPES\n} from \"./UIActionBarConst\";\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { default as uiActionDataProvider } from \"./data/uiActionDataProvider\";\nimport { default as UIACTION_ELEMENT } from \"./UIActionBarElement\";\nimport {\n\tUI_ACTION_BAR_ACTIONS,\n\tUI_ACTION_BAR_CONNECTED_ACTIONS\n} from \"./UIActionBarConst\";\n\n// Create view for renderer\nconst view = state => {\n\tconst {\n\t\tproperties: { actionNodes }\n\t} = state;\n\treturn <UIACTION_ELEMENT action-nodes={actionNodes} />;\n};\n\nconst UIACTIONBAR_CONNECT_ELEMENT = \"now-record-common-uiactionbar-connected\";\n\n// Create header component\ncreateCustomElement(UIACTIONBAR_CONNECT_ELEMENT, {\n\tproperties: uiActionDataProvider.properties,\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tactions: {\n\t\t[UI_ACTION_BAR_ACTIONS.ACTION_CLICK]: {\n\t\t\tprivate: true\n\t\t},\n\t\t...uiActionDataProvider.actions\n\t},\n\tactionHandlers: {\n\t\t...uiActionDataProvider.actionHandlers,\n\t\t[UI_ACTION_BAR_ACTIONS.ACTION_CLICK]: ({ action, dispatch }) => {\n\t\t\tconst {\n\t\t\t\tpayload: { actionSysId }\n\t\t\t} = action;\n\n\t\t\tdispatch(UI_ACTION_BAR_CONNECTED_ACTIONS.ACTION_CLICK, {\n\t\t\t\tactionSysId\n\t\t\t});\n\t\t}\n\t}\n});\n\nexport default UIACTIONBAR_CONNECT_ELEMENT;\n","import { createUIActionDataSource } from \"./uiActionDataSource\";\nimport { createDataProvider } from \"@devsnc/library-form\";\n\nconst UIACTION_DATA_PROVIDER = \"uiaction-data-provider\";\n\nexport default createDataProvider({\n\tname: UIACTION_DATA_PROVIDER,\n\tdataSources: [createUIActionDataSource(\"\")]\n});\n","import React from \"react\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport \"@devsnc/sn-declarative-actions\";\nimport UIActionBarInternalElement from \"./UIActionBarInternalElement\";\nfunction UIActionBar(props) {\n\tconst {\n\t\tactionNodes,\n\t\tfixedButtonNumber,\n\t\thandleClick,\n\t\twidth,\n\t\tdaModel = {},\n\t\tclassicForm\n\t} = props.properties;\n\n\tconst attributes = {\n\t\tactionNodes,\n\t\tfixedButtonNumber,\n\t\thandleClick,\n\t\twidth,\n\t\tdaModel,\n\t\tclassicForm\n\t};\n\tif (classicForm) return <UIActionBarInternalElement {...attributes} />;\n\n\treturn (\n\t\t<sn-declarative-mediator should-wrap-action={!classicForm}>\n\t\t\t<UIActionBarInternalElement {...attributes} />\n\t\t</sn-declarative-mediator>\n\t);\n}\nexport default UIActionBar;\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport _ from \"lodash\";\nimport resizeBehavior from '@servicenow/behavior-resize';\n\nimport actions from \"./UIActionBarAction\";\nimport UIActionBarInternal from \"./UIActionBarInternal\";\nimport styles from \"./UIActionBar.scss\";\n\nconst UI_ACTION_BAR_INTERNAL_ELEMENT = \"sn-form-internal-uiactionbar\";\n\n/**\n * Set of horizontal buttons mapped to ui actions that fits the size of its container\n * Clicking on a button will execute the UIAction\n *\n * ```jsx\n * <sn-form-internal-uiactionbar\n *\t\taction-nodes={...}\n *\t\twidth={...}\n *\t\thandleClick={...}\n *\t\t/>\n * ```\n *\n * @seismicElement sn-form-internal-uiactionbar\n * @summary Set of horizontal buttons mapped to ui actions that fits the size of its container\n */\ncreateCustomElement(UI_ACTION_BAR_INTERNAL_ELEMENT, {\n\trenderer: {\n\t\ttype: react,\n\t\tview: UIActionBarInternal\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Array of action nodes which will be mapped to clickable nds components for execution (now-button | now-split-button | now-dropdown)\n\t\t * @type {(Array.<ActionNode>)}\n\t\t */\n\t\tactionNodes: {},\n\t\t/**\n\t\t * Minimum number of UI actions to be displayed without overflow.\n\t\t * @type {{Number}}\n\t\t */\n\t\tfixedButtonNumber: { \t\t\t\n\t\t\tdefault: 0,\n\t\t\tschema: {\n\t\t\t\ttype: 'number'\n\t\t\t} \n\t\t},\n\t\t/**\n\t\t * this is an object which contains the data needed for all of the components represented by all of the actions to load\n\t\t * @type {SidebarFormModel}\n\t\t */\n\t\tdaModel: {\n\t\t\tdefault: {},\n\t\t\tschema: {\n\t\t\t\ttype: \"object\"\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Does something asynchronously and executes the callback on completion.\n\t\t * @type {UIActionClickCallback} handleClick - optional if pass will be called when the UIAction is clicked;\n\t\t * otherwise, NOW_RECORD_COMMON_UI_ACTION_BAR#CLICKED will be dispatched with selectedAction\n\t\t */\n\t\thandleClick: {},\n\t\t/**\n\t\t * Width of the parent container, when it changes it recalculates what buttons are shown in dropdown menu\n\t\t *\n\t\t * @type {(string)}\n\t\t */\n\t\twidth: {},\n\t\t/**\n\t\t * whether or not this is rendered in the workspace Form\n\t\t * @type {boolean}\n\t\t */\n\t\tclassicForm: {}\n\t},\n\tbehaviors: [{ behavior: resizeBehavior }],\n\tstyles,\n\t...actions,\n\tdispatches: {\n\t\t/**\n\t\t * SysId of UI Action that was clicked\n\t\t *\n\t\t * @type {(string)}\n\t\t */\n\t\t\"NOW_RECORD_UI_ACTION_BAR#CLICKED\": {}\n\t}\n});\n\nexport default UI_ACTION_BAR_INTERNAL_ELEMENT;\n","import { createActionToStateHandler } from \"@devsnc/library-form\";\nimport {\n\tUI_ACTION_BAR_INTERNAL_ACTIONS,\n\tUI_ACTION_BAR_EVENT_SOURCE\n} from \"./UIActionBarConst\";\nimport { executeEffectIfValidEventSource } from \"@devsnc/library-form\";\n\nconst updateStateIfValidEventSource = executeEffectIfValidEventSource(\n\tUI_ACTION_BAR_EVENT_SOURCE,\n\t{ effect: createActionToStateHandler(\"buttonClicked\") }\n);\n\nexport default {\n\tactions: {\n\t\t[UI_ACTION_BAR_INTERNAL_ACTIONS.BUTTON_CLICK]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[UI_ACTION_BAR_INTERNAL_ACTIONS.MENU_CLICK]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t// TODO: this is a temporary solution, we will need to find a better solution to handler size change\n\t\t[UI_ACTION_BAR_INTERNAL_ACTIONS.BUTTON_CLICK]: updateStateIfValidEventSource,\n\t\t[UI_ACTION_BAR_INTERNAL_ACTIONS.MENU_CLICK]: updateStateIfValidEventSource,\n\t\t[UI_ACTION_BAR_INTERNAL_ACTIONS.SPLIT_BUTTON_CLICKED]: updateStateIfValidEventSource,\n\t\t[UI_ACTION_BAR_INTERNAL_ACTIONS.SPLIT_BUTTON_ACTION_CLICKED]: updateStateIfValidEventSource\n\t}\n};\n","import React from \"react\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport _ from \"lodash\";\nimport { findDOMNode } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport { t } from \"sn-translate\";\nimport { UI_ACTION_TYPES, UX_ACTION_TYPES ,\n\tUI_ACTION_BAR_INTERNAL_ACTIONS,\n\tUI_ACTION_BAR_EVENT_SOURCE,\n\tUI_ACTION_BAR_ACTIONS\n} from \"./UIActionBarConst\";\nimport \"@servicenow/now-dropdown\";\nimport \"@servicenow/now-button\";\nimport \"@servicenow/now-split-button\";\n\nimport { EmptyStateElement } from \"../emptyState\";\nimport { transformer } from \"@devsnc/sn-declarative-actions\";\n\nconst MORE_TEXT = t(\"More Actions\");\nconst MORE_ARIA_LABEL = t(\"Show hidden actions\");\nconst DROPDOWN_NAME = \"ui_action_more_dropdown\";\nconst WORKSPACE_FORM_LAYOUT_ACTION_DISABLE_FORM =\n\t\"WORKSPACE_FORM_LAYOUT#DISABLE_FORM\";\n\nconst UI_ACTION_DEFAULT = 3;\n\nconst initialState = (actionNodes = []) => {\n\tconst [buttonNodes, overflowNodes] = _.partition(\n\t\tactionNodes,\n\t\tnode => !node.overflow\n\t);\n\treturn { overflowNodes, isDisabled: false, buttonNodes };\n};\n\nconst colorToVariant = {\n\tprimary: \"primary\",\n\tunstyled: \"secondary\",\n\tdestructive: \"primary-negative\"\n};\n\nconst validClickTypes = {\n\t[UI_ACTION_BAR_INTERNAL_ACTIONS.BUTTON_CLICK]: \"\",\n\t[UI_ACTION_BAR_INTERNAL_ACTIONS.MENU_CLICK]: \"\",\n\t[UI_ACTION_BAR_INTERNAL_ACTIONS.SPLIT_BUTTON_ACTION_CLICKED]: \"\",\n\t[UI_ACTION_BAR_INTERNAL_ACTIONS.SPLIT_BUTTON_CLICKED]: \"\"\n};\n\nconst isActionableClick = type => type in validClickTypes;\n\nclass UIActionBarInternal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.buttonRefs = [];\n\t\tthis.buttonRects = [];\n\t\tthis.rectsCalculated = false\n\t\tthis.overflowRef = null;\n\t\tthis.resize = this.resize.bind(this);\n\t\tthis.refActionContainer = this.refActionContainer.bind(this);\n\t\tthis.refFixedButtonsContainer = this.refFixedButtonsContainer.bind(this);\n\t\tthis.refActionButtons = this.refActionButtons.bind(this);\n\t\tthis.setOverflowButtonRef = this.setOverflowButtonRef.bind(this);\n\t\tthis.getComponentMargin = this.getComponentMargin.bind(this);\n\t\tthis.state = initialState(props.properties.actionNodes);\n\t}\n\n\trefActionContainer(node) {\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\t\tthis.actionContainer = node;\n\t}\n\n\trefFixedButtonsContainer(node) {\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\t\tthis.fixedButtonsContainer = node;\n\t}\n\n\trefActionButtons(node) {\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\t\tconst index = parseInt(node.getAttribute(\"data-index\"), 10);\n\t\tthis.buttonRefs[index] = node;\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { actionNodes } = this.props.properties;\n\t\tif (actionNodes) {\n\t\t\tthis.setActionBarVisibility(\"hidden\");\n\t\t\tsetTimeout(() => this.getRenderWidth());\n\t\t}\n\t}\n\n\tfocusOnLastClickedAction() {\n\t\tif (!this.state.lastClickedAction) return;\n\n\t\tconst buttonNodeIndex = this.state.buttonNodes.findIndex(buttonNode =>\n\t\t\t_.isEqual(buttonNode.children[0], this.state.lastClickedAction.action)\n\t\t);\n\t\tconst focusIndex = buttonNodeIndex > 0 ? buttonNodeIndex : 0;\n\n\t\t// focus on the same ui action, or if action is removed, focus on the first action\n\t\treturn this.onceElementHasFocus(this.buttonRefs[focusIndex], 10, 100);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (\n\t\t\tthis.state.lastClickedAction &&\n\t\t\tprevState.lastClickedAction !== this.state.lastClickedAction\n\t\t) {\n\t\t\tthis.focusOnLastClickedAction();\n\t\t}\n\n\t\tif (this.props.properties.actionNodes !== prevProps.properties.actionNodes)\n\t\t\tsetTimeout(() => this.getRenderWidth());\n\t\telse if (this.props.properties.width !== prevProps.properties.width)\n\t\t\tsetTimeout(() => this.getRenderWidth());\n\t}\n\n\tcomponentWillReceiveProps(changedProps) {\n\t\tconst {\n\t\t\tproperties: { actionNodes, classicForm },\n\t\t\tbuttonClicked,\n\t\t\tbehaviors: {\n\t\t\t\tresize: {\n\t\t\t\t\tsize: { width }\n\t\t\t\t}\n\t\t\t},\n\t\t} = changedProps;\n\n\t\tif (!classicForm && width && width !== this.state.resizeWidth) {\n\t\t\tthis.setState({resizeWidth: width}, () => this.getRenderWidth());\n\t\t}\n\n\t\tif (this.state.lastClickedAction && this.state.actionNodesLoaded) {\n\t\t\tthis.focusOnLastClickedAction().then(() =>\n\t\t\t\tthis.setState({ lastClickedAction: null, actionNodesLoaded: false })\n\t\t\t);\n\t\t}\n\n\t\tif (buttonClicked && buttonClicked != this.props.buttonClicked) {\n\t\t\tconst { type, payload } = changedProps.buttonClicked;\n\t\t\tif (isActionableClick(type)) {\n\t\t\t\tconst { item, actionFromPayload } = payload;\n\t\t\t\tconst action = item || actionFromPayload;\n\t\t\t\tif (action != null) this.submitAction(action);\n\t\t\t}\n\t\t}\n\n\t\tif (actionNodes && actionNodes !== this.props.properties.actionNodes) {\n\t\t\tthis.setState(initialState(actionNodes));\n\n\t\t\t// to signal when to focus on the last clicked button\n\t\t\tif (this.state.lastClickedAction) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tactionNodesLoaded: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tgetComponentMargin(component) {\n\t\ttry {\n\t\t\tconst style = window.getComputedStyle(component);\n\t\t\treturn parseInt(style.getPropertyValue(\"margin-inline-start\"));\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tgetRenderWidth() {\n\t\tif (!this.actionContainer || !this.actionContainer.childNodes) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { buttonNodes, overflowNodes } = initialState(this.props.properties.actionNodes);\n\t\tif (buttonNodes.length <= UI_ACTION_DEFAULT && overflowNodes.length == 0) {\n\t\t\tthis.setActionBarVisibility(\"visible\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.shouldGetRects()) {\n\t\t\tlet marginLeft;\n\t\t\tthis.buttonRects = this.buttonRefs.map(node => {\n\t\t\t\tif (!marginLeft) marginLeft = this.getComponentMargin(node);\n\t\t\t\treturn Object.assign(node.getBoundingClientRect(), {\n\t\t\t\t\tmarginLeft\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.rectsCalculated = true;\n\t\t\tthis.fixedButtonsContainerRect = this.fixedButtonsContainer.getBoundingClientRect();\n\t\t}\n\t\tthis.resize();\n\t}\n\n\t// FF only return correct rect on the later rendering.\n\t// DEF0092342: refs with the right widths are returned on later rendering\n\tshouldGetRects() {\n\t\tif (this.rectsCalculated)\n\t\t\treturn false;\n\n\t\tif (this.buttonRects.length !== this.buttonRefs.length &&\n\t\t\tthis.buttonRefs.length > 0) {\n\t\t\t\tconst rect = this.buttonRefs[0].getBoundingClientRect();\n\t\t\t\treturn rect && rect.width > 0;\n\t\t\t}\n\n\t\treturn this.buttonRects.length > 1 &&\n\t\t\tthis.buttonRects[0].x === this.buttonRects[1].x;\n\t}\n\n\tresize() {\n\t\tconst { actionNodes, fixedButtonNumber } = this.props.properties;\n\t\tconst { buttonNodes, overflowNodes } = initialState(actionNodes);\n\n\t\tconst fixedButtonWidth = this.fixedButtonsContainerRect\n\t\t\t? this.fixedButtonsContainerRect.width\n\t\t\t: 0;\n\n\t\tlet containerWidth = this.props.properties.width;\n\t\tif (!containerWidth) {\n\t\t\tconst containerRect = this.actionContainer.parentNode.getBoundingClientRect();\n\t\t\tcontainerWidth = containerRect.width;\n\t\t}\n\n\t\tif (!containerWidth) {\n\t\t\tthis.setActionBarVisibility(\"visible\");\n\t\t\treturn false;\n\t\t}\n\n\t\tconst maxWidth = containerWidth - fixedButtonWidth;\n\t\tlet sumWidth = 0;\n\t\tthis.buttonRects.forEach(rec => {\n\t\t\tconst width = rec.width;\n\t\t\tsumWidth += width + (rec.marginLeft || 0);\n\n\t\t\tif ((sumWidth > maxWidth) && (buttonNodes.length > fixedButtonNumber)) {\n\t\t\t\tconst button = buttonNodes.pop();\n\t\t\t\tif (button) overflowNodes.unshift(button);\n\t\t\t}\n\t\t});\n\n\t\tnew Promise(resolve => {\n\t\t\tif (this.state.buttonNodes.length !== buttonNodes.length) {\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tbuttonNodes,\n\t\t\t\t\t\toverflowNodes\n\t\t\t\t\t},\n\t\t\t\t\tresolve\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t}).finally(() => {\n\t\t\tthis.setActionBarVisibility(\"visible\");\n\t\t});\n\t\treturn true;\n\t}\n\n\tsetActionBarVisibility(visibility = \"visible\") {\n\t\tif (this.actionContainer)\n\t\t\tthis.actionContainer.style.visibility = visibility;\n\t}\n\n\tsetDisable(disabled) {\n\t\tconst { dispatch } = this.props;\n\n\t\tthis.setState({ isDisabled: disabled });\n\t\tdispatch(WORKSPACE_FORM_LAYOUT_ACTION_DISABLE_FORM, {\n\t\t\tdisabled: disabled\n\t\t});\n\t}\n\n\tonceElementHasFocus(element, frequency = 10, tries = 100) {\n\t\tconst hasFocus = element => {\n\t\t\tif (element) element.focus();\n\t\t\tif (!element.shadowRoot.activeElement) return false;\n\n\t\t\treturn true;\n\t\t};\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet attempts = 0;\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tattempts++;\n\t\t\t\tif (hasFocus(element)) {\n\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\tresolve(element);\n\t\t\t\t}\n\t\t\t\tif (attempts >= tries) {\n\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t`waitForRender executed the maximum number of attempts, ${tries}`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}, frequency);\n\t\t});\n\t}\n\n\thandleActionClick(action) {\n\t\tconst {\n\t\t\tdispatch,\n\t\t\tproperties: { handleClick, daModel }\n\t\t} = this.props;\n\n\t\tif (handleClick) {\n\t\t\tthis.setDisable(true);\n\t\t\tPromise.resolve(handleClick(action))\n\t\t\t\t.then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tconsole.log(\"Action succeeded!\");\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tconsole.log(\"Action failed!\");\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.setDisable(false);\n\t\t\t\t});\n\t\t} else {\n\t\t\tif (action.uxActionType === UX_ACTION_TYPES.DECLARATIVE_ACTION) {\n\t\t\t\tconst daActions = transformer([action.action], daModel);\n\t\t\t\tif (daActions.length > 0)\n\t\t\t\t\tdispatch(UI_ACTION_BAR_ACTIONS.DECLARATIVE_ACTION, {\n\t\t\t\t\t\taction: daActions[0],\n\t\t\t\t\t\tmodel: daModel\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdispatch(UI_ACTION_BAR_ACTIONS.ACTION_CLICK, {\n\t\t\t\t\tactionSysId: action.id\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tsubmitAction(action) {\n\t\tthis.handleActionClick(action);\n\n\t\tvar lastClickedAction = this.state.buttonNodes.find(button =>\n\t\t\tbutton.children.includes(action)\n\t\t);\n\t\tif (!lastClickedAction) {\n\t\t\tconst dropdownMenuEl = this.fixedButtonsContainer.querySelector(\n\t\t\t\t\"now-dropdown\"\n\t\t\t);\n\t\t\tthis.onceElementHasFocus(dropdownMenuEl, 10, 100);\n\t\t} else {\n\t\t\tlastClickedAction = { action: lastClickedAction.children[0] };\n\t\t\tthis.setState({ lastClickedAction });\n\t\t}\n\t}\n\n\treturnFocusToOverflowButton() {\n\t\tif (this.overflowRef) {\n\t\t\tthis.overflowRef.focus();\n\t\t}\n\t}\n\n\tgetBaseNodeAttributes(\n\t\tkey,\n\t\tlabel,\n\t\ttooltipContent,\n\t\tvariant,\n\t\tdisabled,\n\t\tappendPayload,\n\t\tid = \"\"\n\t) {\n\t\treturn {\n\t\t\t\"data-index\": key,\n\t\t\tref: this.refActionButtons,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t\ttooltipContent,\n\t\t\tcomponentName: `${this.state.componentName || \"\"}_node${key}_${id}`,\n\t\t\tvariant,\n\t\t\t...(disabled && { disabled }),\n\t\t\t\"config-aria\": {\n\t\t\t\t\"aria-label\": label\n\t\t\t},\n\t\t\t\"append-to-payload\": {\n\t\t\t\teventSource: UI_ACTION_BAR_EVENT_SOURCE,\n\t\t\t\t...(appendPayload || {})\n\t\t\t}\n\t\t};\n\t}\n\n\trenderButtonNode(action, index, variant, disabled) {\n\t\treturn (\n\t\t\t<now-button\n\t\t\t\t{...this.getBaseNodeAttributes(\n\t\t\t\t\tindex,\n\t\t\t\t\taction.label,\n\t\t\t\t\taction.hint,\n\t\t\t\t\tvariant,\n\t\t\t\t\tdisabled,\n\t\t\t\t\t{ item: action },\n\t\t\t\t\taction.id\n\t\t\t\t)}\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderSplitButtonNode(\n\t\tactionForPayload,\n\t\tdropActions,\n\t\tindex,\n\t\tvariant,\n\t\tdisabled\n\t) {\n\t\tconst { label } = actionForPayload;\n\t\treturn (\n\t\t\t<now-split-button\n\t\t\t\titems={dropActions}\n\t\t\t\t{...this.getBaseNodeAttributes(index, label, label, variant, disabled, {\n\t\t\t\t\tactionFromPayload: actionForPayload\n\t\t\t\t})}\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderMenuButtonNode(label, dropActions, index, variant, disabled) {\n\t\treturn (\n\t\t\t<now-dropdown\n\t\t\t\titems={dropActions}\n\t\t\t\tmanage-selected-items\n\t\t\t\tselect={\"none\"}\n\t\t\t\tplaceholder={label}\n\t\t\t\t{...this.getBaseNodeAttributes(index, label, label, variant, disabled)}\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderButtonNodes(buttons, disabled) {\n\t\tif (!buttons || !buttons.length) return null;\n\t\tif (this.buttonRefs.length) this.buttonRefs = [];\n\t\treturn buttons.map((node, index) => {\n\t\t\tconst { children } = node;\n\t\t\tif (!children || children.length == 0) return null;\n\t\t\tconst action = children[0];\n\t\t\tconst color = colorToVariant[node.color || \"\"];\n\t\t\tif (node.type === UI_ACTION_TYPES.BUTTON || children.length == 1)\n\t\t\t\treturn this.renderButtonNode(action, index, color, disabled);\n\t\t\telse if (node.type === UI_ACTION_TYPES.SPLIT_BUTTON)\n\t\t\t\treturn this.renderSplitButtonNode(\n\t\t\t\t\taction,\n\t\t\t\t\tchildren.slice(1),\n\t\t\t\t\tindex,\n\t\t\t\t\tcolor,\n\t\t\t\t\tdisabled\n\t\t\t\t);\n\t\t\telse\n\t\t\t\treturn this.renderMenuButtonNode(\n\t\t\t\t\tnode.label,\n\t\t\t\t\tchildren,\n\t\t\t\t\tindex,\n\t\t\t\t\tcolor,\n\t\t\t\t\tdisabled\n\t\t\t\t);\n\t\t});\n\t}\n\n\tsetOverflowButtonRef(node) {\n\t\tthis.overflowRef = findDOMNode(node);\n\t}\n\n\trenderOverflow(disabled) {\n\t\tconst { overflowNodes } = this.state;\n\t\tif (!overflowNodes || !overflowNodes.length) return null;\n\t\treturn (\n\t\t\t<now-dropdown\n\t\t\t\tmanage-selected-items\n\t\t\t\tappend-to-payload={{\n\t\t\t\t\teventSource: UI_ACTION_BAR_EVENT_SOURCE\n\t\t\t\t}}\n\t\t\t\tconfig-aria={{\n\t\t\t\t\t\"aria-label\": MORE_ARIA_LABEL\n\t\t\t\t}}\n\t\t\t\t{...{\n\t\t\t\t\tselect: \"none\",\n\t\t\t\t\tclassName: \"uiaction-bar-dropdown\",\n\t\t\t\t\tsize: \"md\",\n\t\t\t\t\thideCaret: true,\n\t\t\t\t\ticon: \"ellipsis-h-outline\",\n\t\t\t\t\titems: overflowNodes,\n\t\t\t\t\ttooltipContent: MORE_TEXT,\n\t\t\t\t\tcomponentName: DROPDOWN_NAME,\n\t\t\t\t\t...(disabled && { disabled })\n\t\t\t\t}}\n\t\t\t\tref={node => {\n\t\t\t\t\tif (node && node.shadowRoot)\n\t\t\t\t\t\tthis.setOverflowButtonRef(\n\t\t\t\t\t\t\tnode.shadowRoot.getElementById(\"trigger\")\n\t\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n\n\trenderActionBar() {\n\t\tconst { overflowNodes, isDisabled, buttonNodes } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"uiaction-bar-wrapper\">\n\t\t\t\t<div className=\"uiaction-bar\" ref={this.refActionContainer}>\n\t\t\t\t\t<div className=\"uiaction-bar-btn-container\">\n\t\t\t\t\t\t{buttonNodes.length > 0 &&\n\t\t\t\t\t\t\tthis.renderButtonNodes(buttonNodes, isDisabled)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"uiaction-bar-btn-container uiaction-bar-btn\"\n\t\t\t\t\t\tref={this.refFixedButtonsContainer}\n\t\t\t\t\t>\n\t\t\t\t\t\t{overflowNodes.length > 0 && this.renderOverflow(isDisabled)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { actionNodes, classicForm } = this.props.properties;\n\t\tif (!classicForm && !actionNodes)\n\t\t\treturn <EmptyStateElement message={t(\"No data to display\")} />;\n\n\t\treturn this.renderActionBar();\n\t}\n}\n\nUIActionBarInternal.propTypes = {\n\tactionNodes: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\tid: PropTypes.number,\n\t\t\toverflow: PropTypes.bool,\n\t\t\ttype: PropTypes.string,\n\t\t\tcolor: PropTypes.string,\n\t\t\tchildren: PropTypes.arrayOf(\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\tid: PropTypes.string,\n\t\t\t\t\tlabel: PropTypes.string,\n\t\t\t\t\thint: PropTypes.string\n\t\t\t\t})\n\t\t\t)\n\t\t})\n\t),\n\tfixedButtonNumber: PropTypes.number,\n\thandleClick: PropTypes.func, // optional if pass will be called when action is click; otherwise, NOW_RECORD_COMMON_UI_ACTION_BAR#CLICKED will be dispatched with selectedAction\n\twidth: PropTypes.number,\n\tclassicForm: PropTypes.bool\n};\n\nexport default UIActionBarInternal;\n","module.exports = __TECTONIC__react_dom;","module.exports = __TECTONIC__$servicenow_now_split_button;","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./UIActionBar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(now-record-common-uiactionbar),:host(sn-form-internal-uiactionbar){display:block}.uiaction-bar-wrapper{display:inline-flex;position:relative;justify-content:flex-end;width:100%}.uiaction-bar{display:flex}.uiaction-bar .uiaction-bar-dropdown{margin-inline-start:.5rem}.uiaction-bar now-button+now-button,.uiaction-bar now-button+now-dropdown,.uiaction-bar now-button+now-split-button,.uiaction-bar now-dropdown+now-button,.uiaction-bar now-dropdown+now-dropdown,.uiaction-bar now-dropdown+now-split-button,.uiaction-bar now-split-button+now-button,.uiaction-bar now-split-button+now-dropdown,.uiaction-bar now-split-button+now-split-button{flex:0 0 auto;margin-inline-start:.5rem}.uiaction-bar-btn{flex:0 0 auto}.uiaction-bar-btn-container{display:flex;flex:1 1 auto}.uiaction-bar-btn-container:last-child{flex:0 0 auto}:host(:not([dir=rtl])) .uiaction-bar,:root:not([dir=rtl]) .uiaction-bar{flex-direction:row}:host(:not([dir=rtl])) .uiaction-bar-btn-container,:root:not([dir=rtl]) .uiaction-bar-btn-container{flex-direction:row;justify-content:flex-end}:host([dir=rtl]) .uiaction-bar,:root([dir=rtl]) .uiaction-bar{flex-direction:row-reverse}:host([dir=rtl]) .uiaction-bar-btn-container,:root([dir=rtl]) .uiaction-bar-btn-container{flex-direction:row-reverse;justify-content:flex-start}\", \"\"]);\n\n// exports\n","import { createDataProviderDataSource, getValue } from \"@devsnc/library-form\";\nimport { CONTEXTUAL_LINK_NAMES } from \"../../../constants/contextualLinks\";\nimport { UI_ACTION_TYPES, UX_ACTION_TYPES } from \"../UIActionBarConst\";\nimport { transformer, contractGenerator } from \"@devsnc/sn-declarative-actions\";\n\nexport const UX_ACTION_QUERY_KEY = \"GlideUxActionLayout_Query\";\nexport const GET_ACTIONS_KEY = \"getActionLayout\";\nexport const UI_ACTION_FORM_ACTIONS = \"formActions\";\nexport const MESSAGES = \"messages\";\nexport const ACTION_LAYOUT_ITEMS = \"actionLayoutItems\";\nexport const QUERY_FRAGMENT = `\n${UX_ACTION_QUERY_KEY} {\n    ${GET_ACTIONS_KEY}(table: $table, sysId: $sysId, view: $view, query: $query, actionConfigId: $actionConfigId){\n        ${MESSAGES} {\n            name\n            value\n        }\n        ${ACTION_LAYOUT_ITEMS} {\n            ... on  GlideUxActionLayout_UxActionGroupType {\n                name\n                label\n                color\n                shouldBeInOverflow\n                type\n                actions        \n                {\n                    ... on GlideUxActionLayout_UxUiActionType {\n                        name\n                        label\n                        color\n                        shouldBeInOverflow\n                        order\n                        sysId\n                        clientScript\n                        hint\n                        hasClientScript\n                    }\n                    ... on GlideUxActionLayout_UxDeclarativeActionType {\n                        name\n                        label\n                        color\n                        shouldBeInOverflow\n                        assignmentId\n                        tooltip\n                        actionPayload\n                        actionDispatch\n                        actionType\n                        confirmationMessage\n                        confirmationRequired\n                        modelConditions {\n                            field\n                            operator\n                            value\n                            newQuery\n                            or\n                        }\n                        payloadMap {\n                            name\n                            value\n                        }\n                    }\n                }\n            }\n\n            ... on GlideUxActionLayout_UxUiActionType {\n                name\n                label\n                color\n                shouldBeInOverflow\n                sysId\n                clientScript\n                hint\n                hasClientScript\n            }\n\n            ... on GlideUxActionLayout_UxDeclarativeActionType {\n                name\n                label\n                color\n                shouldBeInOverflow\n                assignmentId\n                tooltip\n                actionPayload\n                actionDispatch\n                actionType\n                confirmationMessage\n                confirmationRequired\n                modelConditions {\n                    field\n                    operator\n                    value\n                    newQuery\n                    or\n                }\n                payloadMap {\n                    name\n                    value\n                }\n            }\n        }\n    }\n}`;\n\nconst transformMessages = (messages = []) =>\n\tmessages.reduce(\n\t\t(loadedMessages, message) =>\n\t\t\tmessage.name\n\t\t\t\t? {\n\t\t\t\t\t\t...loadedMessages,\n\t\t\t\t\t\t[message.name]: message.value\n\t\t\t\t  }\n\t\t\t\t: loadedMessages,\n\t\t{}\n\t);\n\nconst transformAction = (action, actionsMap) => {\n\tconst id = action.sysId || action.assignmentId;\n\treturn {\n\t\tid,\n\t\tlabel: action.label || action.title,\n\t\thint: action.hint || action.tooltip,\n\t\tuxActionType: action.sysId\n\t\t\t? UX_ACTION_TYPES.UI_ACTION\n\t\t\t: UX_ACTION_TYPES.DECLARATIVE_ACTION,\n\t\taction: actionsMap[id]\n\t};\n};\n\nconst transformActions = (actions, actionsMap) => {\n\treturn actions.map(action => transformAction(action, actionsMap));\n};\n\nconst transformActionNodes = (nodes, actionIds, formActions) => {\n\tconst actionsMap = formActions.reduce((map, action) => {\n\t\treturn {\n\t\t\t...map,\n\t\t\t[action.id]: action\n\t\t};\n\t}, {});\n\tlet nodeId = 1;\n\treturn nodes.reduce((groups, node) => {\n\t\tconst actions = (node.actions || [node]).filter(action =>\n\t\t\tactionIds.has(action.sysId || action.assignmentId)\n\t\t);\n\t\tif (!actions.length) return groups;\n\n\t\tconst hasMultipleChildren = actions.length > 1;\n\t\treturn [\n\t\t\t...groups,\n\t\t\t{\n\t\t\t\tid: nodeId++,\n\t\t\t\tlabel: node.type === UI_ACTION_TYPES.MENU ? node.label : \"\",\n\t\t\t\toverflow: node.shouldBeInOverflow,\n\t\t\t\tcolor: node.color,\n\t\t\t\ttype: hasMultipleChildren ? node.type : UI_ACTION_TYPES.BUTTON,\n\t\t\t\tchildren: transformActions(actions, actionsMap)\n\t\t\t}\n\t\t];\n\t}, []);\n};\n\nexport const transformDAActionsToUXFContract = (daActions, properties, state) => {\n\tconst {\n\t\trecord: { table, trueTable, sysId, view, query}\n\t} = state;\n\tconst { actionConfigId } = properties;\n\tconst model = {\n\t\tmodelType: 'FORM',\n\t\ttable: trueTable || table,\n\t\tsysId,\n\t\tview,\n\t\tquery,\n\t\tactionConfigId\n\t}\n\treturn contractGenerator(daActions, model) || {};\n};\n\nconst getActionsFromNodes = (nodes, formModel, formActions) => {\n\tconst actionIds = new Set();\n\tconst uiActionIds = new Set();\n\tconst uiActions = [];\n\tconst declarativeActions = [];\n\tconst transformNode = node => {\n\t\tconst id = node.sysId || node.assignmentId;\n\t\tif (actionIds.has(id)) return;\n\n\t\tactionIds.add(id);\n\t\tconst uxActionType = node.sysId\n\t\t\t? UX_ACTION_TYPES.UI_ACTION\n\t\t\t: UX_ACTION_TYPES.DECLARATIVE_ACTION;\n\t\tconst action = {\n\t\t\t...node,\n\t\t\tid,\n\t\t\tuxActionType\n\t\t};\n\t\tif (uxActionType == UX_ACTION_TYPES.UI_ACTION) {\n\t\t\tuiActions.push(action);\n\t\t\tuiActionIds.add(id);\n\t\t} else declarativeActions.push(action);\n\t};\n\n\tnodes.forEach(node => {\n\t\tif (node.actions) {\n\t\t\tfor (const action of node.actions) {\n\t\t\t\ttransformNode(action);\n\t\t\t}\n\t\t} else {\n\t\t\ttransformNode(node);\n\t\t}\n\t});\n\n\tconst daActions = transformer(declarativeActions, formModel);\n\tconst evaluatedActionIds = new Set([...uiActionIds, ...daActions.map(da => da.assignmentId)]);\n\treturn {\n\t\tactionIds: evaluatedActionIds,\n\t\tformActions: [...uiActions, ...daActions],\n\t\tdaActions\n\t};\n};\n\nconst createTransform = getValueOrDefault => (\n\tdata,\n\tstate,\n\tproperties,\n\tformModel\n) => {\n\tconst {\n\t\tisFormReadonly,\n\t\tproperties: { table }\n\t} = state;\n\tconst { record: { trueTable = table } = {} } = state;\n\n\tconst actionLayoutItems = getValueOrDefault(ACTION_LAYOUT_ITEMS, [])(data);\n\n\tconst { formActions = [], actionIds = new Set(), daActions = [] } = isFormReadonly\n\t\t? {}\n\t\t: getActionsFromNodes(actionLayoutItems, formModel);\n\n\tconst actionNodes = isFormReadonly\n\t\t? []\n\t\t: transformActionNodes(actionLayoutItems, actionIds, formActions);\n\n\tconst encodedQuery = encodeURIComponent(`active=true`);\n\tconst configurationItem = {\n\t\torder: CONTEXTUAL_LINK_NAMES.uxActions.order,\n\t\tlabel: CONTEXTUAL_LINK_NAMES.uxActions.name,\n\t\turl: encodeURIComponent(\n\t\t\t`sys_ux_form_action_layout_item_list.do?sysparm_query=${encodedQuery}`\n\t\t)\n\t};\n\n\tconst daClientActionContract = transformDAActionsToUXFContract(daActions, properties, state);\n\n\tconst messages = transformMessages(getValueOrDefault(MESSAGES, [])(data));\n\n\treturn {\n\t\tformActions,\n\t\tactionNodes,\n\t\tdaClientActionContract,\n\t\tconfigurationItem,\n\t\tmessages\n\t};\n};\n\nexport const createUxActionDataSource = (queryPrefix = \"\") => {\n\tconst baseKey = `${queryPrefix}${UX_ACTION_QUERY_KEY}.${GET_ACTIONS_KEY}`;\n\tconst getValueOrDefault = getValue(baseKey);\n\tconst transform = createTransform(getValueOrDefault);\n\n\treturn createDataProviderDataSource({\n\t\tquery: QUERY_FRAGMENT,\n\t\tvariables: ['table', 'view', 'sysId', 'query', 'actionConfigId'],\n\t\ttransform,\n\t\tprops: {\n\t\t\ttable: { default: '' },\n\t\t\tview: { default: '' },\n\t\t\tsysId: { default: '' },\n\t\t\tquery: { default: '' },\n\t\t\tactionConfigId: { default: '' }\n\t\t},\n\t\tselectableProps: {\n\t\t\tformActions: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tconfigurationItem: {},\n\t\t\tmessages: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tactionNodes: {\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\tdaClientActionContract: {\n\t\t\t\tdefault: {}\n\t\t\t}\n\t\t}\n\t});\n};\n","export { createViewableRecordTagDataSource } from \"./tag/tagDataSource\";\n","export { default as SidebarElement } from \"./sidebar/sidebar\";\nexport { SIDEBAR_ACTION } from \"./constants/constants\";\nexport { default as SidebarConnectedElement } from \"./sidebar/sidebarConnected\";\nexport {\n\ttransformActions,\n\tisAttachmentAvailable,\n\tisAttachmentInSidebar\n} from \"./sidebar/sidebarTransformer\";\nexport {\n\tcreateDeclarativeFormActionDataSource\n} from \"../sidebar/dataSource/sidebarDataSource\";\n","import { createCustomElement, actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport _ from \"lodash\";\nimport \"./sidebarAction\";\nimport resizeBehavior from \"@servicenow/behavior-resize\";\nimport {\n\tcreateSidebarKeyBindingBehavior,\n\tcreateSidebarKeyBindingActions,\n\tcreateSidebarKeyBindingActionsHandlers\n} from \"./sidebarKeyBinding\";\nimport { SIDEBAR } from \"../constants/constants\";\nimport \"@servicenow/now-button\";\nimport \"../menu/sidebarMenu\";\nimport styles from \"./sidebarToolbar.scss\";\nimport \"@servicenow/now-legacy-icon\";\nimport { focusActionByName } from \"./sidebarKeyBinding\";\n\nconst BUTTON_HEIGHT = 40;\nconst SIDEBAR_TOOLBAR_ACTIONS_THRESHOLD = 3;\nconst isSelectMore = (moreActions, selectedAction) =>\n\tmoreActions.findIndex(a => a.name === selectedAction) > -1;\n\nconst transformState = (state, actions, updateState) => {\n\tconst {\n\t\tbehaviors: {\n\t\t\tresize: { size }\n\t\t}\n\t} = state;\n\tconst { height } = size;\n\tif (!height) return;\n\n\t// fitHeight: height that will fit the number of buttons without the empty space so we'll use that to set the height of the internal div that hold actions.\n\t// maxActions: maximum number of action buttons that can fit in the fitHeight.\n\t// If the maxActions is less than the number of actions we need to show, those don't fit in the space will be push to the overflow, and the overflow button will be shown.\n\tconst fitHeight = height - (height % BUTTON_HEIGHT);\n\tconst maxActions = Math.max(\n\t\tfitHeight ? fitHeight / BUTTON_HEIGHT : actions.length,\n\t\tSIDEBAR_TOOLBAR_ACTIONS_THRESHOLD\n\t); //always show minimum of SIDEBAR_TOOLBAR_ACTIONS_THRESHOLD buttons\n\tconst hasMore = actions.length > maxActions;\n\tconst visibleActions = hasMore ? actions.slice(0, maxActions - 1) : actions;\n\tconst moreActions = hasMore ? actions.slice(maxActions - 1) : [];\n\n\tupdateState({\n\t\thasMore,\n\t\tvisibleActions,\n\t\tmoreActions,\n\t\tfitHeight,\n\t\theight\n\t});\n};\n\nconst focusSelectedAction = (state, dispatch, target) => {\n\tconst {\n\t\tproperties: { selectedAction, openedMore, actions },\n\t\tvisibleActions = actions,\n\t\thasMore = false\n\t} = state;\n\tconst index = actions.findIndex(a => a.name === selectedAction);\n\tconst newIndex = index === -1 ? 0 : index;\n\tconst shouldOpenMore = newIndex > visibleActions.length - 1;\n\n\tif (hasMore && shouldOpenMore && !openedMore) {\n\t\tconst activeElement = _.get(target, \"shadowRoot.activeElement\");\n\t\tif (activeElement) activeElement.blur();\n\t\tdispatch(SIDEBAR.INTERNAL_ACTIONS.MORE_CLICKED, { opened: true });\n\t} else focusActionByName(target, actions[newIndex].name, shouldOpenMore);\n};\n\nconst view = (state, { dispatch, updateState }) => {\n\tconst {\n\t\tproperties: { actions = [], selectedAction, openedMore },\n\t\thasMore,\n\t\tvisibleActions = actions,\n\t\tmoreActions = [],\n\t\tfitHeight,\n\t\theight,\n\t\tbehaviors: { resize = {} },\n\t\tcomponentId,\n\t\ttargetRef\n\t} = state;\n\n\tif (\n\t\tresize.size.height !== height &&\n\t\tactions.length > SIDEBAR_TOOLBAR_ACTIONS_THRESHOLD\n\t) {\n\t\ttransformState(state, actions, updateState);\n\t}\n\tconst inlineStyle = fitHeight\n\t\t? {\n\t\t\t\theight: `${fitHeight}px;`\n\t\t  }\n\t\t: {};\n\tconst menuStyle = fitHeight\n\t\t? {\n\t\t\t\tbottom: `${height - fitHeight}px;`\n\t\t  }\n\t\t: {};\n\n\tconst moreButtonId = `${componentId}_moreButton`;\n\tconst isSelectedInMenu =\n\t\thasMore && selectedAction\n\t\t\t? isSelectMore(moreActions, selectedAction)\n\t\t\t: false;\n\tconst moreButtonClass = `sidebar-action-button ${\n\t\tSIDEBAR.CLASSES.MORE_BUTTON\n\t} ${isSelectedInMenu ? \"is-selected\" : \"\"}`;\n\n\tconst isFirstOrLastAction = index =>\n\t\tindex === 0 || index === visibleActions.length - 1;\n\tlet focusFromClick = false;\n\n\treturn (\n\t\t<div className=\"sidebar-action-wrapper\" style={inlineStyle}>\n\t\t\t<div className={SIDEBAR.CLASSES.TOOLBAR_CONTAINER} tabIndex=\"-1\">\n\t\t\t\t{visibleActions.map((action, index) => (\n\t\t\t\t\t<sn-form-internal-sidebar-action\n\t\t\t\t\t\t{...action}\n\t\t\t\t\t\tselected={selectedAction === action.name}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\ton-mousedown={() => {\n\t\t\t\t\t\t\tif (isFirstOrLastAction(index)) focusFromClick = true;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton-focus={e => {\n\t\t\t\t\t\t\tif (isFirstOrLastAction(index) && !focusFromClick) {\n\t\t\t\t\t\t\t\tconst target = e\n\t\t\t\t\t\t\t\t\t.composedPath()\n\t\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t\tx =>\n\t\t\t\t\t\t\t\t\t\t\tx.tagName &&\n\t\t\t\t\t\t\t\t\t\t\tx.tagName.toLowerCase() === SIDEBAR.ELEMENTS.TOOLBAR\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tfocusSelectedAction(state, dispatch, target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton-mouseup={() => {\n\t\t\t\t\t\t\tif (isFirstOrLastAction(index)) focusFromClick = false;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcomponent-id={`${componentId}_action_${action.assignmentId}`}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t{hasMore ? (\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={moreButtonClass}\n\t\t\t\t\t\ton-mousedown={e => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tdispatch(SIDEBAR.INTERNAL_ACTIONS.MORE_CLICKED, {\n\t\t\t\t\t\t\t\topened: !openedMore\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton-keydown={event => {\n\t\t\t\t\t\t\tif (event.code === \"Space\" || event.code === \"Enter\") {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tdispatch(SIDEBAR.INTERNAL_ACTIONS.MORE_CLICKED, {\n\t\t\t\t\t\t\t\t\topened: !openedMore\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thidden={!hasMore}\n\t\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\t\thook={{\n\t\t\t\t\t\t\tinsert: ({ elm }) =>\n\t\t\t\t\t\t\t\telm ? setTimeout(() => updateState({ targetRef: elm })) : null\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-label={SIDEBAR.MORE_ACTION.tooltip}\n\t\t\t\t\t\tid={moreButtonId}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t<now-icon icon={SIDEBAR.MORE_ACTION.icon} size=\"md\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<now-tooltip\n\t\t\t\t\t\ttarget-ref={targetRef}\n\t\t\t\t\t\tcontent={SIDEBAR.MORE_ACTION.tooltip}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{openedMore ? (\n\t\t\t\t<sn-form-internal-sidebar-menu\n\t\t\t\t\ton-focusout={e => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tdispatch(SIDEBAR.INTERNAL_ACTIONS.MORE_CLICKED, {\n\t\t\t\t\t\t\topened: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={menuStyle}\n\t\t\t\t\tactions={moreActions}\n\t\t\t\t\tselected-action={selectedAction}\n\t\t\t\t\tcomponent-id={`${componentId}_menu`}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\ncreateCustomElement(SIDEBAR.ELEMENTS.TOOLBAR, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tactions: {\n\t\t\tdefault: []\n\t\t},\n\t\tselectedAction: {\n\t\t\tdefault: \"\"\n\t\t},\n\t\topenedMore: {\n\t\t\tdefault: false\n\t\t}\n\t},\n\tbehaviors: [createSidebarKeyBindingBehavior(), { behavior: resizeBehavior }],\n\tactions: {\n\t\t...createSidebarKeyBindingActions()\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: context => {\n\t\t\tconst {\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { name, value, previousValue }\n\t\t\t\t},\n\t\t\t\tstate,\n\t\t\t\tupdateState\n\t\t\t} = context;\n\t\t\tif (name && name === \"actions\" && !_.isEqual(value, previousValue)) {\n\t\t\t\ttransformState(state, value, updateState);\n\t\t\t}\n\t\t},\n\t\t...createSidebarKeyBindingActionsHandlers()\n\t},\n\tstyles\n});\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport \"@servicenow/now-button\";\nimport { SIDEBAR } from \"../constants/constants\";\nimport styles from \"./sidebarAction.scss\";\nimport \"@servicenow/now-tooltip\";\n\nconst view = (state, { dispatch, updateState }) => {\n\tconst {\n\t\tproperties: { icon, name, selected, tooltip, badge },\n\t\ttargetRef\n\t} = state;\n\tconst variant = selected\n\t\t? \"sidebar-action-button is-selected\"\n\t\t: \"sidebar-action-button\";\n\n\tconst setTargetRef = ref => {\n\t\tif (!targetRef) setTimeout(() => updateState({ targetRef: ref }));\n\t\telse if (!ref) setTimeout(() => updateState({ targetRef: null }));\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={variant}\n\t\t\t\ton-click={event => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tif (targetRef) targetRef.focus();\n\t\t\t\t\tdispatch(SIDEBAR.INTERNAL_ACTIONS.ACTION_CLICKED, { name });\n\t\t\t\t}}\n\t\t\t\thook={{\n\t\t\t\t\tdestroy: () => setTargetRef(null),\n\t\t\t\t\tinsert: ({ elm }) => setTargetRef(elm)\n\t\t\t\t}}\n\t\t\t\taria-label={tooltip}\n\t\t\t>\n\t\t\t\t{\" \"}\n\t\t\t\t<span className=\"sidebar-icon-badge-wrapper\">\n\t\t\t\t\t<now-icon icon={icon} size=\"md\" />\n\t\t\t\t\t{badge && (\n\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\ticon=\"presence-fill\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tclassName=\"sidebar-icon-presence\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<now-tooltip target-ref={targetRef} content={tooltip} />\n\t\t</div>\n\t);\n};\n\ncreateCustomElement(\"sn-form-internal-sidebar-action\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tproperties: {\n\t\tbadge: {},\n\t\tname: {},\n\t\ticon: {},\n\t\tselected: {\n\t\t\tunstableParse: true\n\t\t},\n\t\ttooltip: {}\n\t}\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sidebarAction.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sidebar-icon-badge-wrapper{position:relative}.sidebar-icon-presence{position:absolute;color:RGB(var(--now-color--alert-info-2,14,120,196));bottom:-6px;right:-6px}:host(sn-form-internal-sidebar-action){display:block;margin-bottom:.5rem}:host(sn-form-internal-sidebar-action:focus){outline:none}.sidebar-action-button{display:flex;justify-content:center;align-items:center;width:inherit;font-style:var(--mv9-kWzzvm--Pvmz-1zOjt,normal);font-weight:var(--mv9-kWzzvm--Pvmz-9tAf8z,normal);font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:var(--mv9-kWzzvm--ztuz-zZrm1PvZT,none);text-indent:0;text-shadow:none;white-space:nowrap;font-family:var(--mv9-kWzzvm--Pvmz-PrTAjO,var(--now-font-family));cursor:pointer;height:calc(2rem*var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1));font-size:1rem;line-height:1.25;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));margin:0;padding:0;vertical-align:middle;width:2rem}.sidebar-action-button:active{color:currentColor}.sidebar-action-button::-moz-focus-inner{border-style:none}.sidebar-action-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sidebar-action-button,.sidebar-action-button:active,.sidebar-action-button:hover{border:none;background-color:transparent}.sidebar-action-button:hover{background-color:RGBA(var(--now-color--secondary-2,1,89,107),.25);color:RGB(var(--now-color--secondary-2,1,89,107))}.sidebar-action-button:active{background-color:RGBA(var(--now-color--secondary-2,1,89,107),.5);color:RGB(var(--now-color--secondary-3,1,60,71))}.sidebar-action-button.is-disabled,.sidebar-action-button.is-disabled:hover{background:transparent;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));opacity:.5}.sidebar-action-button.is-selected{color:RGB(var(--now-color--primary-1,30,133,109))}.sidebar-action-button.is-selected:hover{color:RGB(var(--now-color--primary-2,23,100,82))}.sidebar-action-button.is-selected:active{color:RGB(var(--now-color--secondary-3,1,60,71))}.sidebar-action-button.is-selected.is-disabled,.sidebar-action-button.is-selected.is-disabled:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sidebar-action-button[hidden]{display:none}\", \"\"]);\n\n// exports\n","import keyBindingBehavior from \"@servicenow/behavior-key-binding\";\nimport { SIDEBAR } from \"../constants/constants\";\n\nconst ARROW_KEY_PRESSED_ACTION = \"ARROW_KEY_PRESSED_ACTION\";\nconst ENTER_KEY_PRESSED_ACTION = \"ENTER_KEY_PRESSED_ACTION\";\n\nconst getActiveAction = el => {\n\treturn el.shadowRoot && el.shadowRoot.activeElement && el.index === undefined\n\t\t? getActiveAction(el.shadowRoot.activeElement)\n\t\t: el;\n};\n\nconst getActiveActionIndex = el => {\n\tconst activeElement = getActiveAction(el);\n\treturn activeElement && activeElement.index !== undefined\n\t\t? activeElement.index\n\t\t: -1;\n};\n\nconst getMoreButton = host =>\n\thost.shadowRoot &&\n\thost.shadowRoot.querySelector(SIDEBAR.SELECTORS.MORE_BUTTON);\n\nconst eventCameFromMoreButton = (host, event) => {\n\tconst moreButton = getMoreButton(host);\n\tif (!moreButton) return false;\n\treturn event.composedPath()[0] === moreButton;\n};\n\nconst eventCameFromMenuAction = event => {\n\tconst classes = event.composedPath()[0].className || \"\";\n\treturn classes.indexOf(\"sidebar-toolbar-menu-item\") > -1;\n};\n\nconst nextActionIndex = (actions, index) =>\n\tindex + 1 > actions.length - 1 ? 0 : index + 1;\n\nconst prevActionIndex = (actions, index) =>\n\tindex - 1 >= 0 ? index - 1 : actions.length - 1;\n\nexport const focusActionByName = (target, name, shouldOpenMore) => {\n\tif (target && target.shadowRoot) {\n\t\tif (shouldOpenMore) {\n\t\t\tconst menu = target.shadowRoot.querySelector(SIDEBAR.ELEMENTS.MENU);\n\t\t\tif (menu && menu.shadowRoot) {\n\t\t\t\tconst menuItem = menu.shadowRoot.querySelector(\n\t\t\t\t\t`${SIDEBAR.ELEMENTS.MENU_ITEM}[name='${name}']`\n\t\t\t\t);\n\t\t\t\tif (menuItem) menuItem.shadowRoot.querySelector(\"div\").focus();\n\t\t\t}\n\t\t} else {\n\t\t\tconst sidebarAction = target.shadowRoot.querySelector(\n\t\t\t\t`${SIDEBAR.ELEMENTS.TOOLBAR_ACTION}[name='${name}']`\n\t\t\t);\n\t\t\tif (sidebarAction && sidebarAction.shadowRoot) {\n\t\t\t\tconst button = sidebarAction.shadowRoot.querySelector(\"button\").focus();\n\t\t\t\tif (button) button.focus();\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst selectAction = findActionFn => (state, dispatch, target) => {\n\tconst {\n\t\tproperties: { selectedAction, actions },\n\t\tvisibleActions = actions\n\t} = state;\n\tconst index = actions.findIndex(a => a.name === selectedAction);\n\tconst focusIndex = index === -1 ? getActiveActionIndex(target) : index;\n\tconst newIndex = findActionFn(\n\t\tactions,\n\t\tfocusIndex === undefined ? -1 : focusIndex\n\t);\n\tconst shouldOpenMore = newIndex > visibleActions.length - 1;\n\n\tif (index === newIndex) return;\n\n\tif (!shouldOpenMore)\n\t\tfocusActionByName(target, actions[newIndex].name, shouldOpenMore);\n\n\tconst payload = {\n\t\tname: actions[newIndex].name,\n\t\topenedMore: shouldOpenMore\n\t};\n\n\tdispatch(SIDEBAR.INTERNAL_ACTIONS.ACTION_CLICKED, payload);\n};\n\nconst nextAction = selectAction(nextActionIndex);\nconst prevAction = selectAction(prevActionIndex);\n\nconst selectMoreAdjacentAction = (state, dispatch, target, after = false) => {\n\tconst {\n\t\tproperties: { actions },\n\t\tvisibleActions = actions,\n\t\thasMore = false\n\t} = state;\n\tif (!hasMore) return;\n\n\tconst newIndex = visibleActions.length + (after ? 1 : -1);\n\tconst payload = {\n\t\tname: actions[newIndex].name,\n\t\topenedMore: after\n\t};\n\tfocusActionByName(target, actions[newIndex].name, after);\n\tdispatch(SIDEBAR.INTERNAL_ACTIONS.ACTION_CLICKED, payload);\n};\n\nconst selectActionBeforeMore = (state, dispatch, target) =>\n\tselectMoreAdjacentAction(state, dispatch, target, false);\nconst selectActionAfterMore = (state, dispatch, target) =>\n\tselectMoreAdjacentAction(state, dispatch, target, true);\n\nconst focusFirstOrLastAction = (host, getLast = false, fromMenu = false) => {\n\tif (!host.shadowRoot) return;\n\tconst action = host.shadowRoot.querySelector(\n\t\t`${\n\t\t\tfromMenu ? SIDEBAR.ELEMENTS.MENU_ITEM : SIDEBAR.ELEMENTS.TOOLBAR_ACTION\n\t\t}${getLast ? \":last-child\" : \"\"}`\n\t);\n\tif (!action || !action.shadowRoot) return;\n\tconst element = action.shadowRoot.querySelector(fromMenu ? \"div\" : \"button\");\n\tif (element) element.focus();\n};\n\nconst focusLastAction = host => focusFirstOrLastAction(host, true);\nconst focusLastMenuAction = host => focusFirstOrLastAction(host, true, true);\nconst focusFirstTabbable = host => {\n\tif (host.shadowRoot)\n\t\thost.shadowRoot.querySelector(SIDEBAR.SELECTORS.TOOLBAR_CONTAINER).focus();\n};\n\nconst focusLastActionOrMoreButton = host => {\n\tif (!host.shadowRoot) return;\n\tconst menu = host.shadowRoot.querySelector(SIDEBAR.ELEMENTS.MENU);\n\tif (menu) {\n\t\tfocusLastMenuAction(menu);\n\t} else {\n\t\tconst moreButton = getMoreButton(host);\n\t\tif (moreButton && !moreButton.hidden) {\n\t\t\tmoreButton.focus();\n\t\t} else focusLastAction(host);\n\t}\n};\n\nexport const createSidebarKeyBindingBehavior = () => {\n\treturn {\n\t\tbehavior: keyBindingBehavior,\n\t\toptions: {\n\t\t\tkeyBindings: {\n\t\t\t\tonEnterKeyPress: [\"Enter\", \" \"],\n\t\t\t\tonArrowKeyPress: [\"ArrowUp\", \"ArrowDown\"],\n\t\t\t\tonTabKeyPress: [\"Tab\"]\n\t\t\t},\n\t\t\thandlers: {\n\t\t\t\tonArrowKeyPress: (host, event, dispatch) => {\n\t\t\t\t\tif (event.ctrlKey || event.shiftKey) return true;\n\t\t\t\t\tdispatch(ARROW_KEY_PRESSED_ACTION, {\n\t\t\t\t\t\thost,\n\t\t\t\t\t\tevent\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonEnterKeyPress: (host, event, dispatch) => {\n\t\t\t\t\tif (!eventCameFromMenuAction(event)) return;\n\t\t\t\t\tdispatch(ENTER_KEY_PRESSED_ACTION, {\n\t\t\t\t\t\thost,\n\t\t\t\t\t\tevent\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonTabKeyPress: (host, event) => {\n\t\t\t\t\tif (event.shiftKey) focusFirstTabbable(host);\n\t\t\t\t\telse focusLastActionOrMoreButton(host);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport const createSidebarKeyBindingActionsHandlers = () => {\n\treturn {\n\t\t[ARROW_KEY_PRESSED_ACTION]: ({ action, state, dispatch }) => {\n\t\t\tconst {\n\t\t\t\tproperties: { openedMore }\n\t\t\t} = state;\n\t\t\tconst {\n\t\t\t\tevent,\n\t\t\t\tevent: { target, code },\n\t\t\t\thost\n\t\t\t} = action.payload;\n\t\t\tswitch (code) {\n\t\t\t\tcase \"Down\":\n\t\t\t\tcase \"ArrowDown\": {\n\t\t\t\t\tif (!openedMore && eventCameFromMoreButton(host, event))\n\t\t\t\t\t\tselectActionAfterMore(state, dispatch, host);\n\t\t\t\t\telse nextAction(state, dispatch, host);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcase \"Up\":\n\t\t\t\tcase \"ArrowUp\": {\n\t\t\t\t\tif (!openedMore && eventCameFromMoreButton(host, event))\n\t\t\t\t\t\tselectActionBeforeMore(state, dispatch, host);\n\t\t\t\t\telse prevAction(state, dispatch, host);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[ENTER_KEY_PRESSED_ACTION]: ({ action, state, dispatch }) => {\n\t\t\tconst {\n\t\t\t\tproperties: { openedMore }\n\t\t\t} = state;\n\t\t\tconst { host } = action.payload;\n\t\t\tif (!openedMore) return;\n\t\t\tconst moreButton = getMoreButton(host);\n\t\t\tif (moreButton) moreButton.focus();\n\t\t\tdispatch(SIDEBAR.INTERNAL_ACTIONS.MORE_CLICKED, { opened: false });\n\t\t}\n\t};\n};\n\nexport const createSidebarKeyBindingActions = () => {\n\treturn {\n\t\t[ARROW_KEY_PRESSED_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ENTER_KEY_PRESSED_ACTION]: {\n\t\t\tprivate: true\n\t\t}\n\t};\n};\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport \"./sidebarMenuItem\";\nimport styles from \"./sidebarMenu.scss\";\n\nconst focusNodeIfNeeded = node => {\n\tif (node.data.props.shouldFocus) {\n\t\twindow.requestAnimationFrame(() => {\n\t\t\tconst focusEl = node.elm.shadowRoot\n\t\t\t\t? node.elm.shadowRoot.querySelector(\"div\")\n\t\t\t\t: node.elm;\n\t\t\tif (focusEl) focusEl.focus();\n\t\t});\n\t}\n};\n\nconst focusIfNeededUpdate = (oldNode, newNode) => focusNodeIfNeeded(newNode);\n\nconst focusIfNeededInsert = newNode => {\n\twindow.requestAnimationFrame(() => {\n\t\tfocusNodeIfNeeded(newNode);\n\t});\n};\n\nconst view = state => {\n\tconst {\n\t\tproperties: { actions, selectedAction },\n\t\tcomponentId\n\t} = state;\n\n\treturn (\n\t\t<div>\n\t\t\t{actions.map((action, index) => (\n\t\t\t\t<sn-form-internal-sidebar-menu-item\n\t\t\t\t\t{...action}\n\t\t\t\t\tselected={selectedAction === action.name}\n\t\t\t\t\tshould-focus={selectedAction === action.name}\n\t\t\t\t\thook={{ update: focusIfNeededUpdate, insert: focusIfNeededInsert }}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tcomponent-id={`${componentId}_action_${action.assignmentId}`}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\ncreateCustomElement(\"sn-form-internal-sidebar-menu\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tactions: { default: [] },\n\t\tselectedAction: { default: {} }\n\t},\n\tstyles\n});\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport \"@servicenow/now-button\";\nimport \"@servicenow/now-tooltip\";\nimport \"@servicenow/now-legacy-icon\";\nimport { SIDEBAR } from \"../constants/constants\";\nimport styles from \"./sidebarMenuItem.scss\";\n\nconst view = (state, { dispatch, updateState }) => {\n\tconst {\n\t\tproperties: { icon, name, label, selected, tooltip, badge },\n\t\ttargetRef\n\t} = state;\n\n\tconst setTargetRef = ref => {\n\t\tif (!targetRef) setTimeout(() => updateState({ targetRef: ref }));\n\t\telse if (!ref) setTimeout(() => updateState({ targetRef: null }));\n\t};\n\n\tconst tooltipId = `tooltip-${name}`;\n\n\treturn (\n\t\t<div\n\t\t\thook={{\n\t\t\t\tdestroy: () => setTargetRef(null),\n\t\t\t\tinsert: ({ elm }) => setTargetRef(elm)\n\t\t\t}}\n\t\t\ton-click={() =>\n\t\t\t\tdispatch(SIDEBAR.INTERNAL_ACTIONS.ACTION_CLICKED, { name })\n\t\t\t}\n\t\t\tclass={{ \"sidebar-toolbar-menu-item\": true, \"-selected\": selected }}\n\t\t\ttabIndex=\"0\"\n\t\t\taria-label={tooltip}\n\t\t>\n\t\t\t<span className=\"sidebar-icon-badge-wrapper\">\n\t\t\t\t<now-icon\n\t\t\t\t\tclassName=\"sidebar-toolbar-menu-item-icon\"\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tweight=\"bold\"\n\t\t\t\t/>\n\t\t\t\t{badge && (\n\t\t\t\t\t<now-icon\n\t\t\t\t\t\ticon=\"presence-fill\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tclassName=\"sidebar-icon-presence\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t\t<span\n\t\t\t\tclassName=\"sidebar-toolbar-menu-item-label\"\n\t\t\t\ton-mouseover={({ target }) => {\n\t\t\t\t\tif (target.offsetWidth < target.scrollWidth) {\n\t\t\t\t\t\ttarget.title = label;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{label}\n\t\t\t</span>\n\t\t\t{tooltip ? (\n\t\t\t\t<now-tooltip id={tooltipId} target-ref={targetRef} content={tooltip} />\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\ncreateCustomElement(\"sn-form-internal-sidebar-menu-item\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tname: {\n\t\t\treflect: true\n\t\t},\n\t\tlabel: {\n\t\t\treflect: true\n\t\t},\n\t\ticon: {\n\t\t\treflect: true\n\t\t},\n\t\tselected: {\n\t\t\treflect: true,\n\t\t\tdefault: false,\n\t\t\tunstableParse: true\n\t\t},\n\t\ttooltip: {},\n\t\tbadge: {}\n\t},\n\tstyles\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sidebarMenuItem.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sidebar-icon-badge-wrapper{position:relative}.sidebar-icon-presence{position:absolute;color:RGB(var(--now-color--alert-info-2,14,120,196));bottom:-6px;right:-6px}:host(sn-form-internal-sidebar-menu-item){margin:0;padding:0}:host(sn-form-internal-sidebar-menu-item:focus){outline:none}.sidebar-toolbar-menu-item{display:flex;align-items:center;height:2rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}:host(:not([dir=rtl])) .sidebar-toolbar-menu-item,:root:not([dir=rtl]) .sidebar-toolbar-menu-item{padding-left:.75rem}:host([dir=rtl]) .sidebar-toolbar-menu-item,:root[dir=rtl] .sidebar-toolbar-menu-item{padding-right:.75rem}:host(:not([dir=rtl])) .sidebar-toolbar-menu-item,:root:not([dir=rtl]) .sidebar-toolbar-menu-item{padding-right:1rem}:host([dir=rtl]) .sidebar-toolbar-menu-item,:root[dir=rtl] .sidebar-toolbar-menu-item{padding-left:1rem}.sidebar-toolbar-menu-item:focus,.sidebar-toolbar-menu-item:hover{background:RGBA(var(--now-color--neutral-9,99,114,116),.25);outline:none}.sidebar-toolbar-menu-item.-selected{color:RGB(var(--now-color--primary-1,30,133,109))}.sidebar-toolbar-menu-item.-disabled{color:RGBA(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)),.5)}.sidebar-toolbar-menu-item-label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}:host(:not([dir=rtl])) .sidebar-toolbar-menu-item-label,:root:not([dir=rtl]) .sidebar-toolbar-menu-item-label{padding-left:.25rem}:host([dir=rtl]) .sidebar-toolbar-menu-item-label,:root[dir=rtl] .sidebar-toolbar-menu-item-label{padding-right:.25rem}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sidebarMenu.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sidebar-icon-badge-wrapper{position:relative}.sidebar-icon-presence{position:absolute;color:RGB(var(--now-color--alert-info-2,14,120,196));bottom:-6px;right:-6px}:host(sn-form-internal-sidebar-menu){display:block;position:absolute;bottom:1.25rem;right:3.5rem;padding:0;margin:0;background-color:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));border:RGB(var(--now-color--primary-1,30,133,109)) 1px solid;box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));font-size:1rem;z-index:2000}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sidebarToolbar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sidebar-icon-badge-wrapper{position:relative}.sidebar-icon-presence{position:absolute;color:RGB(var(--now-color--alert-info-2,14,120,196));bottom:-6px;right:-6px}:host(sn-form-internal-sidebar-toolbar){display:flex;flex:0 0 auto;flex-direction:column;height:100%;padding:.5rem;border-left:1px solid RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)))}.sidebar-action-container,.sidebar-action-wrapper{flex:1 1 auto}.sidebar-action-container:active,.sidebar-action-container:focus,.sidebar-action-wrapper:active,.sidebar-action-wrapper:focus{outline:0}.sidebar-action-button{display:flex;justify-content:center;align-items:center;width:inherit;font-style:var(--mv9-kWzzvm--Pvmz-1zOjt,normal);font-weight:var(--mv9-kWzzvm--Pvmz-9tAf8z,normal);font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:var(--mv9-kWzzvm--ztuz-zZrm1PvZT,none);text-indent:0;text-shadow:none;white-space:nowrap;font-family:var(--mv9-kWzzvm--Pvmz-PrTAjO,var(--now-font-family));cursor:pointer;height:calc(2rem*var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1));font-size:1rem;line-height:1.25;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));margin:0;padding:0;vertical-align:middle;width:2rem}.sidebar-action-button:active{color:currentColor}.sidebar-action-button::-moz-focus-inner{border-style:none}.sidebar-action-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sidebar-action-button,.sidebar-action-button:active,.sidebar-action-button:hover{border:none;background-color:transparent}.sidebar-action-button:hover{background-color:RGBA(var(--now-color--secondary-2,1,89,107),.25);color:RGB(var(--now-color--secondary-2,1,89,107))}.sidebar-action-button:active{background-color:RGBA(var(--now-color--secondary-2,1,89,107),.5);color:RGB(var(--now-color--secondary-3,1,60,71))}.sidebar-action-button.is-disabled,.sidebar-action-button.is-disabled:hover{background:transparent;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));opacity:.5}.sidebar-action-button.is-selected{color:RGB(var(--now-color--primary-1,30,133,109))}.sidebar-action-button.is-selected:hover{color:RGB(var(--now-color--primary-2,23,100,82))}.sidebar-action-button.is-selected:active{color:RGB(var(--now-color--secondary-3,1,60,71))}.sidebar-action-button.is-selected.is-disabled,.sidebar-action-button.is-selected.is-disabled:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sidebar-action-button[hidden]{display:none}\", \"\"]);\n\n// exports\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport _ from \"lodash\";\nimport styles from \"./sidebarPanel.scss\";\nimport { AttachmentElement } from \"../../attachments/AttachmentElement\";\nimport { TemplateElement } from \"../../templates/TemplateElement\";\n\nconst { createElement } = snabbdom;\n\nconst getComponentId = (baseInstance, componentName) =>\n\t`${baseInstance}_${(componentName || \"\")\n\t\t.replace(\"sn-form-internal-\", \"\")\n\t\t.replace(\"-\", \"\")}`;\n\nconst view = state => {\n\tconst {\n\t\tproperties: {\n\t\t\tcomponentName,\n\t\t\tformModel,\n\t\t\tactionAttributes = {},\n\t\t\tclassicForm,\n\t\t\trecordDisplayValue,\n\t\t\tsidebarPanelExtras\n\t\t},\n\t\tcomponentId\n\t} = state;\n\n\tif (!componentName) return null;\n\n\tconst modelAttribute = formModel || {};\n\n\treturn createElement(componentName, {\n\t\t...actionAttributes,\n\t\tmodel: modelAttribute,\n\t\t...formModel,\n\t\t\"component-id\": getComponentId(componentId, componentName),\n\t\tclassicForm,\n\t\trecordDisplayValue,\n\t\t...(sidebarPanelExtras || {})\n\t});\n};\n\ncreateCustomElement(\"sn-form-internal-sidebar-panel\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tproperties: {\n\t\tcomponentName: {},\n\t\tformModel: {\n\t\t\tdefault: {}\n\t\t},\n\t\tactionAttributes: {\n\t\t\tdefault: {}\n\t\t},\n\t\tclassicForm: {},\n\t\trecordDisplayValue: {},\n\t\t/**\n\t\t * object whose properties will be spread and added to the components being rendered as additional attributes\n\t\t * @type {SidebarPanelExtra}\n\t\t */\n\t\tsidebarPanelExtras: {\n\t\t\tdefault: {}\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sidebarPanel.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sidebar-icon-badge-wrapper{position:relative}.sidebar-icon-presence{position:absolute;color:RGB(var(--now-color--alert-info-2,14,120,196));bottom:-6px;right:-6px}:host(sn-form-internal-sidebar-panel){display:block;height:100%;position:relative;width:100%;max-height:100%;overflow-y:auto}:host(sn-form-internal-sidebar-panel) now-agent-assist,:host(sn-form-internal-sidebar-panel) now-record-common-attachments-connected,:host(sn-form-internal-sidebar-panel) now-record-common-templates-connected{left:0;position:absolute;right:0;top:0}\", \"\"]);\n\n// exports\n","const SessionMessageFragment = `\nsessionQuery: GlideDomain_Query {\n\tsession {\n\t\tnotifications {\n\t\t\ttype\n\t\t\ttext\n\t\t\tnotificationType\n\t\t\tnotificationAttributes {\n\t\t\t\tattributeName\n\t\t\t\tattributeValue\n\t\t\t}\n\t\t\tchildNotifications {\n\t\t\t\ttype\n\t\t\t\ttext\n\t\t\t\tnotificationType\n\t\t\t}\n\t\t}\n\t}\n}\n`;\n\nconst AttachmentGraphQLQuery = `\nquery ($table: String!, $sysId: String!) {\n\tquery: GlideAttachmentQuery_Query {\n\t\tmodel: attachments(table: $table, sysId: $sysId) {\n\t\t\tattachments: records{\n\t\t\t\tname\n\t\t\t\tuserId\n\t\t\t\tuserName\n\t\t\t\tdate\n\t\t\t\tdateLabel\n\t\t\t\ttype\n\t\t\t\tstate\n\t\t\t\tsize\n\t\t\t\tsysId\n\t\t\t\tcanEditName\n\t\t\t\tcanDelete\n\t\t\t}\n\t\t\tcount\n\t\t\ttypes\n\t\t\tdocViewerEnabled\n\t\t\textensions\n\t\t\tcanCreate\n\t\t\tfileNameLength\n\t\t}\n\t}\n\t\n\t${SessionMessageFragment}\n}\n`;\n\nexport { AttachmentGraphQLQuery };\n","const AttachmentGraphQLUpdate = `\nmutation ($sys_id: String!, $file_name: String!) {\n\tGlideRecord_Mutation {\n\t\tupdate_sys_attachment(sys_id: $sys_id, file_name: $file_name) {\n\t\t\tfile_name {\n\t\t\t\tvalue\n\t\t\t}\n\t\t}\n\t}\n}\n`;\n\nexport { AttachmentGraphQLUpdate };\n","import React from \"react\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport { t } from \"sn-translate\";\nimport _ from \"lodash\";\nimport \"../attachments/AttachmentHeader\";\nimport \"../attachments/AttachmentList\";\nimport \"@servicenow/now-modal\";\nimport {\n\tATTACHMENT_ACTIONS,\n\tATTACHMENT_DELETE_CONFIRM_ACTION,\n\tATTACHMENT_MODAL_CLOSED_ACTION,\n\tREMOVE_MODAL_EVENT_SOURCE,\n\tINVALID_TYPE_MODAL_EVENT_SOURCE\n} from \"../constants/attachmentConstants\";\nimport { getActiveElement } from \"../../utils/domUtils\";\nimport \"./overlay/attachmentOverlay\";\nimport { getReadOnlyPreviewOverlayProps } from \"./overlay/preview/attachmentPreviewActions\";\n\nconst MODAL_PROPS = {\n\tinvalid_type: () => ({\n\t\theaderLabel: t(\"Invalid Attachment Type\"),\n\t\tcontent: t(\"This file type is not supported\"),\n\t\tfooterActions: [\n\t\t\t{\n\t\t\t\tlabel: t(\"Okay\"),\n\t\t\t\tclickActionType: ATTACHMENT_MODAL_CLOSED_ACTION\n\t\t\t}\n\t\t],\n\t\tappendToPayload: {\n\t\t\teventSource: INVALID_TYPE_MODAL_EVENT_SOURCE\n\t\t}\n\t}),\n\tdelete_confirmation: (data = {}) => ({\n\t\theaderLabel: t(\"Delete\"),\n\t\tcontent: t(\n\t\t\t\"Are you sure you want to delete this file?  Changes cannot be undone.\"\n\t\t),\n\t\tfooterActions: [\n\t\t\t{\n\t\t\t\tlabel: t(\"Cancel\"),\n\t\t\t\tclickActionType: ATTACHMENT_MODAL_CLOSED_ACTION\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t(\"Delete\"),\n\t\t\t\tvariant: \"primary-negative\",\n\t\t\t\tdata,\n\t\t\t\tclickActionType: ATTACHMENT_DELETE_CONFIRM_ACTION\n\t\t\t}\n\t\t],\n\t\tappendToPayload: {\n\t\t\teventSource: REMOVE_MODAL_EVENT_SOURCE\n\t\t}\n\t})\n};\n\n/**\n * Attachment Component, for listing, uploading, and editing\n * attachments.\n */\nclass Attachment extends React.Component {\n\t/**\n\t * Constructor\n\t * @param props {Object}\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.uploadAttachments = this.uploadAttachments.bind(this);\n\t\tthis.setFileInputRef = this.setFileInputRef.bind(this);\n\t\tthis.getExtensionFromFileName = this.getExtensionFromFileName.bind(this);\n\t\tthis.isInvalidFileType = this.isInvalidFileType.bind(this);\n\t\tthis.state = {\n\t\t\tlist: [],\n\t\t\tcount: 0\n\t\t};\n\t}\n\n\t/**\n\t * Read attachments if we have a proper table and sysId\n\t */\n\tcomponentWillMount() {\n\t\tconst {\n\t\t\tproperties: { table, sysId }\n\t\t} = this.props;\n\t\tif (!table || !sysId) return;\n\n\t\tthis.read(table, sysId);\n\t}\n\n\t/**\n\t * Utility method to check if the current state is the same as the incoming state change\n\t * @param changes\n\t * @param prop\n\t * @returns {boolean}\n\t */\n\tisStateDifferent(changes, prop) {\n\t\treturn changes[prop] && this.props[prop] !== changes[prop];\n\t}\n\n\thasAttachments() {\n\t\treturn !_.isEmpty(_.get(this.props, \"data.attachments\", []));\n\t}\n\n\tcanCreate() {\n\t\tconst { isAttachmentUploadDisabled, isReadOnly } = this.props.properties;\n\t\tconst { data = {} } = this.props;\n\t\tconst { canCreate = true } = data;\n\t\treturn !isReadOnly && canCreate && !isAttachmentUploadDisabled;\n\t}\n\n\t/**\n\t * Read attachments (GraphQL datasource)\n\t */\n\tread(table, sysId) {\n\t\tif (!table || !sysId) return;\n\n\t\tthis.props.dispatch(ATTACHMENT_ACTIONS.ATTACHMENT_READ_QUERY, {\n\t\t\tsysId: sysId,\n\t\t\ttable: table\n\t\t});\n\t}\n\n\t/**\n\t * Return the file extension if found else return ''.\n\t */\n\tgetExtensionFromFileName(name) {\n\t\tif (name.lastIndexOf(\".\") === -1) return \"\";\n\n\t\treturn name.substring(name.lastIndexOf(\".\") + 1).toLowerCase();\n\t}\n\n\t/**\n\t * Types are extensions set in glide.attachment.extensions property\n\t * if set\n\t * \t\tonly allowed specified extensions\n\t * else\n\t * \t\tallows everything\n\t */\n\tisInvalidFileType(file, types) {\n\t\treturn !types.includes(this.getExtensionFromFileName(file.name));\n\t}\n\n\t/**\n\t * Uploads a new attachment (REST datasource)\n\t * @param e\n\t */\n\tuploadAttachments(e) {\n\t\tconst {\n\t\t\tproperties: { table, sysId },\n\t\t\tdispatch: { updateState }\n\t\t} = this.props;\n\t\tconst files = [...(e.target.files || e.dataTransfer.files)];\n\t\tupdateState({ uploadFiles: files });\n\t\te.target.value = null;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.state.showAttachmentPreview) {\n\t\t\t// Need to do this hack, as by this time the shadowroot is empty.\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst button =\n\t\t\t\t\tthis.previewDownloadButton &&\n\t\t\t\t\tthis.previewDownloadButton.shadowRoot.querySelector(\"button\");\n\t\t\t\tif (button) {\n\t\t\t\t\tbutton.focus();\n\t\t\t\t\tconst event = new FocusEvent(\"focus\", {\n\t\t\t\t\t\tview: window,\n\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\tcancelable: true,\n\t\t\t\t\t\tcomposed: true\n\t\t\t\t\t});\n\t\t\t\t\tbutton.dispatchEvent(event); //only composed events escape shadow dom, needed for Firefox\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.previousActiveElement = getActiveElement(document.activeElement);\n\t\t} else if (this.previousActiveElement && this.previousActiveElement.focus) {\n\t\t\tthis.previousActiveElement.focus();\n\t\t\tthis.previousActiveElement = null;\n\t\t}\n\n\t\tif (\n\t\t\t(!this.hasAttachments(prevProps) &&\n\t\t\t\t(this.props.list || []).length === (prevProps.list || []).length) ||\n\t\t\t!this.prevState ||\n\t\t\t(this.prevState &&\n\t\t\t\tthis.prevState.previousAttachmentSysId &&\n\t\t\t\t!this.state.previousAttachmentSysId)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tsetFileInputRef(node) {\n\t\tconst { updateState } = this.props.dispatch;\n\n\t\tupdateState({\n\t\t\tfileInputRef: node,\n\t\t\tshouldRender: false\n\t\t});\n\t}\n\n\t/**\n\t * Utility method to establish a files availability.  For now, this may be verbose.  However, there are 4\n\t * sys_attachment states that have been introduced:\n\t *\n\t * available, not_available, pending, and available_conditionally\n\t *\n\t * @param item\n\t * @returns {boolean}\n\t */\n\tisFileUnavailable(item) {\n\t\treturn item.state === \"not_available\";\n\t}\n\n\tupdateAttachmentName = ({ value: currentFileName }) => {\n\t\tthis.props.dispatch.updateState({ currentFileName });\n\t};\n\n\tsetPreviewRef = node => {\n\t\tif (node) this.previewOverlayRef = node;\n\t};\n\n\tsetPreviewDownloadRef = node => {\n\t\tthis.previewDownloadButton = node;\n\t};\n\n\tcreateFileDataURL = file => {\n\t\tvar reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onload = () => {\n\t\t\tif (reader.result !== this.state.uploadFileDataURL)\n\t\t\t\tthis.setState({\n\t\t\t\t\tuploadFileDataURL: reader.result\n\t\t\t\t});\n\t\t};\n\t};\n\n\t/**\n\t * Renders the attachment overlay for upload and preview.\n\t * @returns overlay panel\n\t */\n\trenderOverlay() {\n\t\tconst {\n\t\t\thoistOverlayToContainer,\n\t\t\tcomponentId,\n\t\t\tdocViewerState,\n\t\t\tdocViewerEnabled,\n\t\t\tuploadFiles,\n\t\t\tproperties : { disableUploadModal }\n\t\t} = this.props;\n\n\t\tif (hoistOverlayToContainer === undefined) return null;\n\n\t\tconst { recordDisplayValue } = this.props.properties;\n\t\tconst canUploadAttachment = this.canCreate();\n\n\t\tconst overlayProps = {\n\t\t\t...getReadOnlyPreviewOverlayProps(this.props, this.props.properties),\n\t\t\tcanUploadAttachment,\n\t\t\tisReadOnly: !canUploadAttachment,\n\t\t\trecordDisplayValue,\n\t\t\tcomponentId: `${componentId}_overlay`, \n\t\t\tdocViewerState,\n\t\t\tdocViewerEnabled,\n\t\t\tuploadFiles,\n\t\t\tisHoisted: hoistOverlayToContainer,\n\t\t\tdisableUploadModal\n\t\t};\n\n\t\treturn hoistOverlayToContainer ? (\n\t\t\t<sn-form-internal-attachment-overlay\n\t\t\t\tnowHoist\n\t\t\t\tnowHoistPrependTo={hoistOverlayToContainer}\n\t\t\t\t{...overlayProps}\n\t\t\t/>\n\t\t) : (\n\t\t\t<sn-form-internal-attachment-overlay {...overlayProps} />\n\t\t);\n\t}\n\n\t/**\n\t * Renders the component, filtering out items that don't meet some criteria.\n\t * @returns {*}\n\t */\n\trender() {\n\t\tconst { sysId, classicForm, mode } = this.props.properties;\n\t\tconst {\n\t\t\tmodal = {},\n\t\t\tlist,\n\t\t\tloadingItems = [],\n\t\t\tdata: { maxFileNameLength } = { maxFileNameLength: 0 },\n\t\t\thoistOverlayToContainer\n\t\t} = this.props;\n\t\tconst { display: displayModal, type: modalType, data } = modal;\n\t\tconst modalProps = displayModal ? MODAL_PROPS[modalType](data) : {};\n\t\tconst isCompact = mode === \"compact\" ? \"-compact\" : \"\";\n\t\tconst isWorkspace = classicForm ? \"-workspace\" : \"\";\n\t\tconst modifierClassName = `${isCompact} ${isWorkspace}`;\n\n\t\tconst hasAttachments = this.hasAttachments();\n\t\tconst canCreate = this.canCreate();\n\n\t\tif (!hasAttachments && !this.props.attachmentsInitialized)\n\t\t\treturn !classicForm ? this.renderNodata() : null;\n\n\t\treturn (\n\t\t\t<div className={`sn-panel ${modifierClassName}`}>\n\t\t\t\t{this.renderOverlay()}\n\t\t\t\t<input\n\t\t\t\t\tid={`fileInput_${sysId}`}\n\t\t\t\t\tclassName=\"now-a11y-label\"\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tmultiple=\"true\"\n\t\t\t\t\tonChange={this.uploadAttachments}\n\t\t\t\t\tref={this.setFileInputRef}\n\t\t\t\t/>\n\t\t\t\t<sn-form-internal-attachments-header\n\t\t\t\t\tclassName={modifierClassName}\n\t\t\t\t\ttitle={t(\"Attachments\")}\n\t\t\t\t\thasAttachments={hasAttachments}\n\t\t\t\t\tcanCreate={canCreate}\n\t\t\t\t\tmode={mode}\n\t\t\t\t/>\n\t\t\t\t<sn-form-internal-attachments-list\n\t\t\t\t\tclassName={modifierClassName}\n\t\t\t\t\tlist={list}\n\t\t\t\t\tloadingList={loadingItems}\n\t\t\t\t\tcanCreate={canCreate}\n\t\t\t\t\tmaxFileNameLength={maxFileNameLength}\n\t\t\t\t\tattachmentsNotFound={\n\t\t\t\t\t\tthis.props.searchString !== \"\" && hasAttachments\n\t\t\t\t\t}\n\t\t\t\t\tmode={mode}\n\t\t\t\t\tclassicForm={classicForm}\n\t\t\t\t/>\n\t\t\t\t{hoistOverlayToContainer ? \n\t\t\t\t\t<now-modal nowHoist nowHoistPrependTo={hoistOverlayToContainer} opened={displayModal} {...modalProps} size=\"md\" /> :\n\t\t\t\t\t<now-modal opened={displayModal} {...modalProps} size=\"md\" />\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Renders a panel with No data to display message.\n\t * @returns {*}\n\t */\n\trenderNodata() {\n\t\tconst text = t(\"No data to display\");\n\t\treturn (\n\t\t\t<div className=\"sn-empty-state\">\n\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t<div className=\"sn-empty-state-img -no-attachments\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-empty-state-row -header\">{text}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Attachment;\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport \"@servicenow/now-button\";\nimport { t } from \"sn-translate\";\n\nimport SearchbarElement from \"../searchbar\";\nimport styles from \"./AttachmentHeader.scss\";\nimport {\n\tNOW_BUTTON_ICONIC_CLICKED,\n\tNOW_BUTTON_BARE_CLICKED,\n\tATTACHMENT_UPLOAD_BUTTON_CLICKED,\n\tATTACHMENT_ACTIONS\n} from \"../constants/attachmentConstants.js\";\n\nfunction renderFullMode(properties) {\n\treturn (\n\t\t<div className={`sn-panel-header`}>\n\t\t\t<h2 className=\"sn-panel-header-title\">{properties.title}</h2>\n\t\t\t<div className=\"sn-panel-header-search\">\n\t\t\t\t<div className=\"sn-panel-header-content\">\n\t\t\t\t\t{properties.hasAttachments && (\n\t\t\t\t\t\t<SearchbarElement placeholder={t(\"Search attachments\")} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-panel-header-content\">\n\t\t\t\t\t{properties.canCreate && properties.hasAttachments && (\n\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\ticon=\"plusOutline\"\n\t\t\t\t\t\t\tconfigAria={{ \"aria-label\": ATTACHMENT_ACTIONS.ADD_FILE.label }}\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\ttooltipContent={ATTACHMENT_ACTIONS.ADD_FILE.label}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction renderCompactMode(properties) {\n\treturn (\n\t\t<div className={`sn-panel-header -compact`}>\n\t\t\t<h2 className=\"sn-panel-header-title -compact\">{properties.title}</h2>\n\t\t\t{properties.canCreate && (\n\t\t\t\t<now-button-bare\n\t\t\t\t\ticonStart=\"plusOutline\"\n\t\t\t\t\tlabel={ATTACHMENT_ACTIONS.ADD_FILE.label}\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nfunction view(state) {\n\tconst { properties } = state;\n\n\treturn properties.mode === \"compact\"\n\t\t? renderCompactMode(properties)\n\t\t: renderFullMode(properties);\n}\n\n/**\n * Component used to render the header of the attachment component.\n * This component displays the component title and an upload button in the compact mode,\n * as well as a searchbar in the full mode.\n *\n * ```jsx\n * <sn-form-internal-attachments-header\n *\t\ttitle={...}\n *\t\thasAttachments={...}\n *\t\tcanCreate={...}\n *\t\tmode={...}\n * />\n * ```\n *\n * @seismicElement sn-form-internal-attachments-header\n * @summary Header for the attachment component\n *\n */\ncreateCustomElement(\"sn-form-internal-attachments-header\", {\n\trenderer: {\n\t\ttype: react,\n\t\tview\n\t},\n\tstyles,\n\tproperties: {\n\t\t/**\n\t\t * Flag that indicates whether a user can upload attachments.\n\t\t * If false, the upload button is not displayed in the header\n\t\t * @type {boolean}\n\t\t */\n\t\tcanCreate: {},\n\t\t/**\n\t\t * Flag that indicates whether the record has any attachments.\n\t\t * If false, the searchbar and upload button are not displayed in the full mode\n\t\t * @type {boolean}\n\t\t */\n\t\thasAttachments: {},\n\t\t/**\n\t\t * The layout in which the component is rendered.\n\t\t * The current supported layouts are \"full\" and \"compact\".\n\t\t * @type {string}\n\t\t */\n\t\tmode: { default: \"full\" },\n\t\t/**\n\t\t * The title of the attachment component displayed in the header\n\t\t * @type {string}\n\t\t */\n\t\ttitle: {}\n\t},\n\tactions: {\n\t\t[NOW_BUTTON_ICONIC_CLICKED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[NOW_BUTTON_BARE_CLICKED]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Action dispatched when the upload button in the header is clicked\n\t\t * @type {{}}\n\t\t */\n\t\t[ATTACHMENT_UPLOAD_BUTTON_CLICKED]: {}\n\t},\n\tactionHandlers: {\n\t\t[NOW_BUTTON_ICONIC_CLICKED]: ({ dispatch }) => {\n\t\t\tdispatch(ATTACHMENT_UPLOAD_BUTTON_CLICKED);\n\t\t},\n\t\t[NOW_BUTTON_BARE_CLICKED]: ({ dispatch }) => {\n\t\t\tdispatch(ATTACHMENT_UPLOAD_BUTTON_CLICKED);\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./AttachmentHeader.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host(){display:block}.sn-panel-header{display:flex;flex:0 0 auto;flex-direction:column}.sn-panel-header-title{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));margin:0 0 1rem;font-size:1.5rem;font-weight:400}.sn-panel-header-title.-compact{margin:0;margin-inline-end:.5rem;font-size:1rem;color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.sn-panel-header-search{display:flex}.sn-panel-header-content{flex:1 1 auto;margin-bottom:1rem;margin-inline-end:1rem}.sn-panel-header-content:first-of-type{max-width:48rem}.sn-panel-header-content:last-of-type{flex:0 0 auto;margin-inline-end:0}.sn-panel-header-content:only-of-type{flex:1 1 auto;margin-inline-end:0}.sn-panel-header.-compact{flex-direction:row;padding:0}\", \"\"]);\n\n// exports\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport react from \"@servicenow/ui-renderer-react\";\nimport \"@servicenow/now-button\";\nimport _ from \"lodash\";\nimport React from \"react\";\nimport { t } from \"sn-translate\";\n\nimport styles from \"./AttachmentList.scss\";\nimport \"../attachmentCard/AttachmentCardElement\";\nimport {\n\tATTACHMENT_UPLOAD_BUTTON_CLICKED,\n\tNOW_BUTTON_CLICKED\n} from \"../constants/attachmentConstants.js\";\n\n/**\n * Render panel, which conists of a list of cards, or cards and a card with an input\n * @param properties\n * @returns {*}\n */\nfunction renderPanel(properties) {\n\tconst {\n\t\tlist,\n\t\tmaxFileNameLength,\n\t\tcanCreate,\n\t\tmode,\n\t\tloadingList = []\n\t} = properties;\n\tconst isCompact = mode === \"compact\" ? \"-compact\" : \"\";\n\tconst modifierClassName = `${isCompact}`;\n\n\treturn (\n\t\t<ul className={`sn-card-list ${modifierClassName}`}>\n\t\t\t{list.map((item, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={index} data-index={index} className=\"sn-card\">\n\t\t\t\t\t\t<now-record-common-attachment-card\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tmaxFileNameLength={maxFileNameLength}\n\t\t\t\t\t\t\tcanCreate={canCreate}\n\t\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t{loadingList.map((item, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li\n\t\t\t\t\t\tkey={list.length + index}\n\t\t\t\t\t\tdata-index={list.length + index}\n\t\t\t\t\t\tclassName=\"sn-card\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<now-record-common-attachment-card\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tdisplayUploadProgressBar={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n}\n\n/**\n * Renders a no match found empty panel with the corresponding svg\n * @returns {*}\n */\nfunction renderNotFoundState() {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t<div className=\"sn-empty-state-img -no-match\" />\n\t\t\t</div>\n\t\t\t<h1 className=\"sn-empty-state-row -header\">{t(\"No Match Found\")}</h1>\n\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t{t(\"We could not find what you were looking for.\")}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n/**\n * Renders a panel with an upload button and the No Attachments message.\n * @returns {*}\n */\nfunction renderEmptyState(canCreate) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t<div className=\"sn-empty-state-img -no-attachments\" />\n\t\t\t</div>\n\t\t\t<div className=\"sn-empty-state-row -header\">\n\t\t\t\t{t(\"No Attachments Available\")}\n\t\t\t</div>\n\t\t\t{canCreate && (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t\t{t(\"Browse for a file to add it as an attachment.\")}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sn-empty-state-row\">\n\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tlabel={t(\"Browse\")}\n\t\t\t\t\t\t\tconfigAria={{ \"aria-label\": t(\"Browse attachments\") }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n}\n\nfunction renderEmptyPanel(properties) {\n\treturn properties.mode === \"compact\" ? (\n\t\t<div className=\"sn-compact-empty-state\" />\n\t) : (\n\t\t<div className=\"sn-empty-state\">\n\t\t\t{properties.attachmentsNotFound\n\t\t\t\t? renderNotFoundState()\n\t\t\t\t: renderEmptyState(properties.canCreate)}\n\t\t</div>\n\t);\n}\n\nfunction view(state) {\n\tconst { properties } = state;\n\tconst { mode } = properties;\n\tconst isCompact = mode === \"compact\" ? \"-compact\" : \"\";\n\tconst panelBodyClass = `sn-panel-body ${isCompact}`;\n\n\treturn (\n\t\t<div className={panelBodyClass}>\n\t\t\t{properties.list.length === 0 && properties.loadingList.length === 0\n\t\t\t\t? renderEmptyPanel(properties)\n\t\t\t\t: renderPanel(properties)}\n\t\t</div>\n\t);\n}\n\n/**\n * The body of the attachment component. It displays the list of attachments passed in as tiles.\n *\n * ```jsx\n * <sn-form-internal-attachments-list\n *\t\tlist={...}\n *\t\tmaxFileNameLength={...}\n *\t\tcanCreate={...}\n *\t\tattachmentsNotFound={...}\n *\t\tmode={...}\n * />\n * ```\n *\n * @seismicElement sn-form-internal-attachments-list\n * @summary Presentational view of attachments\n */\ncreateCustomElement(\"sn-form-internal-attachments-list\", {\n\trenderer: {\n\t\ttype: react,\n\t\tview\n\t},\n\tstyles,\n\tproperties: {\n\t\t/**\n\t\t * Flag that indicates whether any attachments were found.\n\t\t * If true, the not found state of the component is rendered when there are no attachments.\n\t\t * @type {boolean}\n\t\t */\n\t\tattachmentsNotFound: {},\n\t\t/**\n\t\t * Flag that indicates whether a user can upload attachments.\n\t\t * If false, the upload button is not displayed when the list of attachments is empty\n\t\t * @type {boolean}\n\t\t */\n\t\tcanCreate: {},\n\t\t/**\n\t\t * The list of attachments to be displayed.\n\t\t * Each entry is an object that is used to render the attachment card.\n\t\t * See <now-record-common-attachment-card> for details.\n\t\t * @type {Array<Object>}\n\t\t */\n\t\tlist: {\n\t\t\tdefault: []\n\t\t},\n\t\t/**\n\t\t * The list of attachments that are currently being uploadede.\n\t\t * Each entry is an object that is used to render the attachment card.\n\t\t * See <now-record-common-attachment-card> for details.\n\t\t * @type {Array<Object>}\n\t\t */\n\t\tloadingList: {\n\t\t\tdefault: []\n\t\t},\n\t\t/**\n\t\t * The maximum length of the file name that can be specified for the attachments\n\t\t * @type {integer}\n\t\t */\n\t\tmaxFileNameLength: {},\n\t\t/**\n\t\t * The layout in which the component is rendered.\n\t\t * The current supported layouts are \"full\" and \"compact\".\n\t\t * @type {string}\n\t\t */\n\t\tmode: { default: \"full\" }\n\t},\n\tactions: {\n\t\t[NOW_BUTTON_CLICKED]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Action dispatched when the upload button in the body is clicked\n\t\t * @type {{}}\n\t\t */\n\t\t[ATTACHMENT_UPLOAD_BUTTON_CLICKED]: {}\n\t},\n\tactionHandlers: {\n\t\t[NOW_BUTTON_CLICKED]: ({ action, dispatch }) => {\n\t\t\tdispatch(ATTACHMENT_UPLOAD_BUTTON_CLICKED);\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./AttachmentList.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","var escape = require(\"../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host(){display:block}.sn-panel-body{flex:1 1 auto;padding:0;position:relative}.sn-panel-body.-workspace{overflow-x:hidden;overflow-y:auto}.sn-panel-body.-compact{overflow-y:hidden}.sn-empty-state{align-items:center;display:flex;flex-direction:column;justify-content:center;margin-bottom:1rem;margin-top:7.5rem;position:relative}.sn-empty-state-row{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));display:flex;font-size:1rem;justify-content:center;margin-top:.75rem;max-width:20rem;text-align:center;padding:0 1rem;width:100%}.sn-empty-state-row:first-child{margin-top:0}.sn-empty-state-row.-header{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1.25rem;font-weight:400;margin-bottom:0;padding:0}.sn-empty-state-img{background-repeat:no-repeat}.sn-empty-state-img.-no-match{background-image:url(\" + escape(require(\"../utils/sn-es-no-match.svg\")) + \");height:4.4375rem;width:8.8125rem}.sn-empty-state .-no-attachments{background-image:url(\" + escape(require(\"./sn-es-no-attachments.svg\")) + \");height:6.4375rem;width:8.8125rem}.sn-compact-empty-state{margin-bottom:1rem}.sn-card-list{display:grid;gap:.5rem;grid-auto-columns:minmax(16rem,23.75rem);grid-template-columns:repeat(auto-fit,minmax(16rem,1fr));list-style:none;margin:0;padding:0}.sn-card-list .sn-card{display:block}.sn-card-list.-compact{padding:.75rem 0 0;grid-auto-columns:minmax(12.125rem,23.75rem);grid-template-columns:repeat(auto-fit,minmax(12.125rem,1fr))}now-button{display:flex;justify-content:center;align-items:center;width:inherit;font-style:var(--mv9-kWzzvm--Pvmz-1zOjt,normal);font-weight:var(--mv9-kWzzvm--Pvmz-9tAf8z,normal);font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:var(--mv9-kWzzvm--ztuz-zZrm1PvZT,none);text-indent:0;text-shadow:none;white-space:nowrap;font-family:var(--mv9-kWzzvm--Pvmz-PrTAjO,var(--now-font-family));cursor:pointer;border:1px solid transparent;vertical-align:middle;margin:0}now-button:active{color:currentColor}now-button.-md{height:calc(2rem*var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1));font-size:1rem;line-height:1.25;padding-right:1rem;padding-left:1rem}now-button.-primary{border-color:RGB(var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ,var(--now-color--primary-3,15,67,55)));color:RGB(var(--mv9-kWzzvm--XZATrZO--JvjvZ,var(--now-color--neutral-0,255,255,255)));background-color:RGB(var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ,var(--now-color--primary-1,30,133,109)))}now-button.-primary:hover{border-color:RGB(var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ--8vstZ,var(--now-color--primary-3,15,67,55)));color:RGB(var(--mv9-kWzzvm--XZATrZO--JvjvZ--8vstZ,var(--now-color--neutral-0,255,255,255)));background-color:RGB(var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)))}now-button.-primary:active{border-color:RGB(var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));color:RGB(var(--mv9-kWzzvm--XZATrZO--JvjvZ--rJzAst,var(--now-color--neutral-0,255,255,255)));background-color:RGB(var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)))}now-button.-tertiary{border-color:RGB(var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--mv9-kWzzvm--ztZzArZO--JvjvZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255)),var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--vXrJAzO,0))}now-button.-tertiary:hover{border-color:RGB(var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--8vstZ,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--mv9-kWzzvm--ztZzArZO--JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107)));background-color:RGB(var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-2,228,230,231)))}now-button.-tertiary:active{border-color:RGB(var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--mv9-kWzzvm--ztZzArZO--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71)));background-color:RGB(var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181)))}now-button.only-icon{padding-right:0;padding-left:0}now-button.only-icon.-md{width:2rem}now-button::-moz-focus-inner{border-style:none}now-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$devsnc_sn_record_input_connected;","import _ from \"lodash\";\nimport {\n\tATTACHMENT_UPLOAD_MODAL_FOOTER_ACTION,\n\tATTACHMENT_MODAL_FOOTER_BUTTON,\n\tUPLOAD_MODAL_EVENT_SOURCE\n} from \"../constants\";\nimport { NOW_MODAL_OPENED_SET_ACTION } from \"../../../constants/attachmentConstants\";\nimport {\n\tshowAttachmentUploadErrors,\n\tuploadAttachmentToServer,\n\tgetExtensionFromFileName\n} from \"./attachmentUploadUtil\";\nimport { executeEffectIfValidEventSource } from \"@devsnc/library-form\";\nimport { SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN } from \"@devsnc/sn-scripted-modal\";\nimport { t } from \"sn-translate\";\n\nconst dismissModal = (updateState, dispatch) => {\n\tupdateState({\n\t\tshowUploadFileModal: false,\n\t\tuploadAttachmentListIndex: 0,\n\t\tuploadAttachmentList: []\n\t});\n\tdispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, false);\n};\n\nconst uploadNext = (state, updateState, dispatch) => {\n\tconst {\n\t\terrorAttachmentList,\n\t\tuploadAttachmentList,\n\t\tuploadAttachmentListIndex\n\t} = state;\n\tconst nextFileIndex = uploadAttachmentListIndex + 1;\n\tif (nextFileIndex <= uploadAttachmentList.length - 1) {\n\t\tupdateState({\n\t\t\tuploadAttachmentListIndex: nextFileIndex,\n\t\t\tcurrentFileName: uploadAttachmentList[nextFileIndex].name\n\t\t});\n\t} else {\n\t\tdismissModal(updateState, dispatch);\n\t\tshowAttachmentUploadErrors(errorAttachmentList, dispatch);\n\t}\n};\n\nconst uploadFile = (action, state, dispatch) => {\n\tif (!action.payload.file) return;\n\n\tconst {\n\t\terrorAttachmentList,\n\t\tcurrentFileName,\n\t\tproperties: { table, sysId }\n\t} = state;\n\tconst originalFileName = action.payload.file.name;\n\tif (\n\t\tgetExtensionFromFileName(currentFileName) !==\n\t\tgetExtensionFromFileName(originalFileName)\n\t)\n\t\terrorAttachmentList.push(\n\t\t\tt(\n\t\t\t\t\"Renaming attachment {0} to new name {1} is not allowed.\",\n\t\t\t\toriginalFileName,\n\t\t\t\tcurrentFileName\n\t\t\t)\n\t\t);\n\telse {\n\t\tconst fileToUpload =\n\t\t\tcurrentFileName === originalFileName\n\t\t\t\t? action.payload.file\n\t\t\t\t: new File([action.payload.file], currentFileName, {\n\t\t\t\t\t\ttype: action.payload.file.type\n\t\t\t\t  });\n\n\t\tuploadAttachmentToServer(table, sysId, fileToUpload, dispatch);\n\t}\n};\n\nconst updateStateOnModalOpenedEffect = {\n\teffect: ({ updateState, state, dispatch }) => {\n\t\tuploadNext(state, updateState, dispatch);\n\t}\n};\n\nconst updateStateOnUploadEffect = {\n\teffect: ({ updateState, state, action, dispatch }) => {\n\t\tconst actionButtonId = _.get(action, \"payload.action.id\", \"\");\n\t\tif (actionButtonId === ATTACHMENT_MODAL_FOOTER_BUTTON.UPLOAD) {\n\t\t\tuploadFile(action, state, dispatch);\n\t\t\tuploadNext(state, updateState, dispatch);\n\t\t} else if (actionButtonId === ATTACHMENT_MODAL_FOOTER_BUTTON.CANCEL) {\n\t\t\tconst { errorAttachmentList } = state;\n\t\t\tdismissModal(updateState, dispatch);\n\t\t\tshowAttachmentUploadErrors(errorAttachmentList, dispatch);\n\t\t}\n\t}\n};\n\nexport default {\n\tactions: {\n\t\t[ATTACHMENT_UPLOAD_MODAL_FOOTER_ACTION]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[NOW_MODAL_OPENED_SET_ACTION]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[ATTACHMENT_UPLOAD_MODAL_FOOTER_ACTION]: executeEffectIfValidEventSource(\n\t\t\tUPLOAD_MODAL_EVENT_SOURCE,\n\t\t\tupdateStateOnUploadEffect\n\t\t),\n\t\t[NOW_MODAL_OPENED_SET_ACTION]: executeEffectIfValidEventSource(\n\t\t\tUPLOAD_MODAL_EVENT_SOURCE,\n\t\t\tupdateStateOnModalOpenedEffect\n\t\t)\n\t}\n};\n","import { actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\nimport { SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN } from \"@devsnc/sn-scripted-modal\";\nimport {\n\tATTACHMENT_DOC_VIEWER_CLOSED_OR_DELETED,\n\tATTACHMENT_PREVIEW_DISMISS_ACTION,\n\tALL_ATTACHMENTS_UPLOADED\n} from \"./constants\";\nimport { ATTACHMENT_ACTIONS } from \"../../constants/attachmentConstants\";\nimport {\n\tcreateDragHandlers,\n\tshowAttachmentUploadErrors,\n\tuploadAttachmentToServer,\n\tprocessFiles\n} from \"./upload/attachmentUploadUtil\";\nimport { getFirstDiv } from \"../../../utils/domUtils\";\n\nexport default {\n\tactions: {},\n\thandlers: {\n\t\t[ATTACHMENT_DOC_VIEWER_CLOSED_OR_DELETED]: ({\n\t\t\tproperties,\n\t\t\tdispatch,\n\t\t\taction\n\t\t}) => {\n\t\t\tconst { attachmentPreviewItem, table, sysId } = properties;\n\t\t\tif (!(action.payload.viewerHidden || action.payload.deleted)) return;\n\t\t\tdispatch(ATTACHMENT_PREVIEW_DISMISS_ACTION, {\n\t\t\t\tname: attachmentPreviewItem.name,\n\t\t\t\tsysId: attachmentPreviewItem.sysId\n\t\t\t});\n\t\t\tif (!action.payload.deleted) return;\n\t\t\tdispatch(ATTACHMENT_ACTIONS.ATTACHMENT_READ_QUERY, {\n\t\t\t\tsysId,\n\t\t\t\ttable\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tupdateState,\n\t\t\tproperties,\n\t\t\tstate,\n\t\t\tdispatch,\n\t\t\thost\n\t\t}) => {\n\t\t\tconst { canUploadAttachment, nowHoistPrependTo, disableUploadModal } = properties;\n\t\t\tconst { showAttachmentUploadOverlay } = state;\n\n\t\t\tconst closeUploadModal = () => {\n\t\t\t\tupdateState({\n\t\t\t\t\tshowUploadFileModal: false,\n\t\t\t\t\tuploadAttachmentListIndex: 0,\n\t\t\t\t\tuploadAttachmentList: []\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst showAttachmentErrors = errorList => {\n\t\t\t\tcloseUploadModal();\n\t\t\t\tshowAttachmentUploadErrors(errorList, dispatch);\n\t\t\t};\n\n\t\t\tconst setShowAttachmentUploadOverlay = value => {\n\t\t\t\tif (value === showAttachmentUploadOverlay) return;\n\t\t\t\tupdateState({\n\t\t\t\t\tshowAttachmentUploadOverlay: value\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst finishedDroppingFilesCallback = (uploadList, errorList) => {\n\t\t\t\tif (uploadList.length) {\n\t\t\t\t\tif(disableUploadModal) {\n\t\t\t\t\t\tdispatch(ALL_ATTACHMENTS_UPLOADED,{uploadList, errorList});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tshowUploadFileModal: true,\n\t\t\t\t\t\tuploadAttachmentList: uploadList,\n\t\t\t\t\t\terrorAttachmentList: errorList,\n\t\t\t\t\t\tuploadAttachmentListIndex: 0,\n\t\t\t\t\t\tcurrentFileName: uploadList[0].name\n\t\t\t\t\t});\n\t\t\t\t\tif (nowHoistPrependTo) dispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, true);\n\t\t\t\t}\n\n\t\t\t\tif (!uploadList.length && errorList.length) {\n\t\t\t\t\tshowAttachmentErrors(errorList);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst dragHandlers = canUploadAttachment\n\t\t\t\t? createDragHandlers(\n\t\t\t\t\t\tsetShowAttachmentUploadOverlay,\n\t\t\t\t\t\tfinishedDroppingFilesCallback\n\t\t\t\t  )\n\t\t\t\t: {};\n\n\t\t\tconst dropTarget = nowHoistPrependTo || getFirstDiv(host);\n\t\t\tif (dragHandlers.onDragEnter)\n\t\t\t\tdropTarget.addEventListener(\"dragenter\", dragHandlers.onDragEnter);\n\t\t\tif (dragHandlers.onDragOver)\n\t\t\t\tdropTarget.addEventListener(\"dragover\", dragHandlers.onDragOver);\n\t\t\tif (dragHandlers.onDragLeave)\n\t\t\t\tdropTarget.addEventListener(\"dragleave\", dragHandlers.onDragLeave);\n\t\t\tif (dragHandlers.onDrop)\n\t\t\t\tdropTarget.addEventListener(\"drop\", dragHandlers.onDrop);\n\n\t\t\tupdateState({\n\t\t\t\tdragHandlers,\n\t\t\t\tdropTarget\n\t\t\t});\n\t\t},\n\t\t[ALL_ATTACHMENTS_UPLOADED]: ({\n\t\t\tdispatch,\n\t\t\tproperties: { table, sysId },\n\t\t\taction: {\n\t\t\t\tpayload: { uploadList, errorList }\n\t\t\t}\n\t\t}) => {\n\t\t\t_.forEach(uploadList, file => uploadAttachmentToServer(table, sysId, file, dispatch));\n\t\t\tif (errorList.length > 0) showAttachmentUploadErrors(errorList, dispatch);\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\taction,\n\t\t\tdispatch,\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tconst { name, value: uploadFiles, previousValue } = action.payload;\n\n\t\t\tconst { showUploadFileModal } = state;\n\t\t\tconst { nowHoistPrependTo, disableUploadModal } = properties;\n\n\t\t\tif (\n\t\t\t\tname === \"uploadFiles\" &&\n\t\t\t\tuploadFiles !== previousValue &&\n\t\t\t\tuploadFiles &&\n\t\t\t\tuploadFiles.length > 0\n\t\t\t)\n\t\t\t\tprocessFiles(uploadFiles, (uploadList, errorList) => {\n\t\t\t\t\tif (uploadList.length > 0) {\n\t\t\t\t\t\tif(disableUploadModal) {\n\t\t\t\t\t\t\tdispatch(ALL_ATTACHMENTS_UPLOADED,{uploadList, errorList});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tshowUploadFileModal: true,\n\t\t\t\t\t\t\tuploadAttachmentList: uploadList,\n\t\t\t\t\t\t\terrorAttachmentList: errorList,\n\t\t\t\t\t\t\tcurrentFileName: uploadList[0].name,\n\t\t\t\t\t\t\tuploadAttachmentListIndex: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (nowHoistPrependTo) dispatch(SN_SCRIPTED_MODAL_HOISTED_MODAL_IS_OPEN, true);\n\t\t\t\t\t}\n\t\t\t\t\telse if (errorList.length > 0)\n\t\t\t\t\t\tshowAttachmentUploadErrors(errorList, dispatch);\n\t\t\t\t});\n\t\t}\n\t}\n};\n","const focusableTagsHashSet = {\n\tBUTTON: 1,\n\tINPUT: 1,\n\tSELECT: 1,\n\tTEXTAREA: 1\n};\n\nconst isVisible = elem => {\n\treturn !!(\n\t\telem.offsetWidth ||\n\t\telem.offsetHeight ||\n\t\telem.getClientRects().length\n\t);\n};\n\nconst isFocusable = elem => {\n\tif (typeof elem.getAttribute !== \"function\") return false;\n\tif ((elem.getAttribute(\"class\") || \"\") === \"focus-trap-bound\") return false; //ignore\n\tif (elem.hasAttribute(\"disabled\")) return false;\n\tconst tabIndex = elem.getAttribute(\"tabindex\") || \"\";\n\tif (tabIndex !== \"\") return parseInt(tabIndex) >= 0;\n\tif (!isVisible(elem)) return false;\n\treturn (\n\t\tfocusableTagsHashSet[elem.tagName] === 1 ||\n\t\t((elem.getAttribute(\"href\") || \"\") !== \"\" &&\n\t\t\telem.tagName !== \"LINK\" &&\n\t\t\telem.tagName !== \"BASE\")\n\t);\n};\n\nconst getContentBody = elem => {\n\tif (!elem) return elem;\n\tif (elem.tagName === \"IFRAME\")\n\t\treturn elem.contentDocument || elem.contentWindow.document;\n\tif (elem.shadowRoot) return elem.shadowRoot;\n\treturn elem;\n};\n\nconst getFirstAndLastFocusableElement = doc => {\n\tif (!doc) return null;\n\n\tconst children = doc.childNodes || [];\n\tif (children.length === 0) return null;\n\n\tlet first = 0;\n\tlet last = children.length - 1;\n\tlet foundFirst = null;\n\tlet foundLast = null;\n\n\twhile (first <= last && !(foundFirst && foundLast)) {\n\t\tif (isFocusable(children[first])) foundFirst = children[first];\n\t\tif (isFocusable(children[last])) foundLast = children[last];\n\n\t\tif (!foundFirst && children[first].tagName) {\n\t\t\tconst inner = getFirstAndLastFocusableElement(\n\t\t\t\tgetContentBody(children[first])\n\t\t\t);\n\t\t\tif (inner !== null) foundFirst = inner.first;\n\t\t}\n\n\t\tif (!foundLast && children[last].tagName) {\n\t\t\tconst inner = getFirstAndLastFocusableElement(\n\t\t\t\tgetContentBody(children[last])\n\t\t\t);\n\t\t\tif (inner !== null) foundLast = inner.last;\n\t\t}\n\n\t\tif (!foundFirst) first++;\n\t\tif (!foundLast) last--;\n\t}\n\n\treturn foundFirst && foundLast\n\t\t? { first: foundFirst, last: foundLast }\n\t\t: null;\n};\n\nconst createNewEvent = (eventName, params) => {\n\treturn typeof window.CustomEvent === \"function\"\n\t\t? new CustomEvent(eventName, params)\n\t\t: () => {\n\t\t\t\tparams = params || {\n\t\t\t\t\tbubbles: false,\n\t\t\t\t\tcancelable: false,\n\t\t\t\t\tdetail: { ...params }\n\t\t\t\t};\n\t\t\t\tconst evt = document.createEvent(eventName);\n\t\t\t\tevt.initCustomEvent(\n\t\t\t\t\teventName,\n\t\t\t\t\tparams.bubbles,\n\t\t\t\t\tparams.cancelable,\n\t\t\t\t\tparams\n\t\t\t\t);\n\t\t\t\treturn evt;\n\t\t  };\n};\n\nconst resendEvent = (toElem, originalEvent) => {\n\tconst { shiftKey } = originalEvent;\n\ttoElem.dispatchEvent(createNewEvent(\"focus-cycle\", { detail: { shiftKey } }));\n};\n\nconst createCycleElem = () => {\n\tlet elem = document.createElement(\"i\");\n\telem.setAttribute(\"class\", \"focus-trap-bound\");\n\telem.setAttribute(\"tabIndex\", \"0\");\n\telem.setAttribute(\"style\", \"opacity: 0; width: 0; height: 0\");\n\treturn elem;\n};\n\nconst addFocusCycleEventListener = (\n\tcontainer,\n\telem,\n\tisFirstChild,\n\toppositeElem\n) => {\n\telem.addEventListener(\"keyup\", e => {\n\t\tconst TAB_KEY = 9;\n\t\tif (\n\t\t\te.which === TAB_KEY &&\n\t\t\t((isFirstChild && e.shiftKey) || (!isFirstChild && !e.shiftKey))\n\t\t) {\n\t\t\toppositeElem.focus();\n\t\t\tresendEvent(oppositeElem, e);\n\t\t}\n\t});\n\n\telem.addEventListener(\"focus-cycle\", e => {\n\t\tconst { shiftKey } = e.detail;\n\t\tconst { first, last } = getFirstAndLastFocusableElement(\n\t\t\tgetContentBody(container)\n\t\t);\n\t\tif (isFirstChild) {\n\t\t\tif (!shiftKey && first !== null) first.focus();\n\t\t} else {\n\t\t\tif (shiftKey && last !== null) last.focus();\n\t\t}\n\t});\n};\n\n/**\n * Use to attach focus trap handler to a container\n */\nexport const attachFocusTrap = container => {\n\tif (!container.getAttribute(\"data-focus-trapped\")) {\n\t\tcontainer.setAttribute(\"data-focus-trapped\", \"true\");\n\t\tconst firstElem = createCycleElem();\n\t\tcontainer.insertBefore(firstElem, container.childNodes[0]);\n\t\tconst lastElem = createCycleElem();\n\t\tcontainer.appendChild(lastElem);\n\t\taddFocusCycleEventListener(container, firstElem, true, lastElem);\n\t\taddFocusCycleEventListener(container, lastElem, false, firstElem);\n\t}\n};\n\n/**\n * Use as onFocus handler where we need focus trap\n * @param event\n * @return void\n */\nexport const focusTrapHandler = event => {\n\tconst container = event.currentTarget;\n\tif (container) attachFocusTrap(container);\n};\n","import _ from \"lodash\";\n\nconst attachmentActionHandler = (dispatch, action, item, e) => {\n\te.stopPropagation();\n\tconst { sysId, name } = item;\n\tdispatch(action, {\n\t\tsysId,\n\t\tname\n\t});\n};\n\nexport { attachmentActionHandler };\n","module.exports = __TECTONIC__$servicenow_now_loader;","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./attachmentOverlay.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","var escape = require(\"../../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host(sn-form-internal-attachment-overlay){display:block}.attachment-overlay{background:RGBA(var(--now-color--secondary-0,217,235,238),.85);height:100%;position:absolute;width:100%;padding:1.5rem;z-index:3999}.attachment-overlay.preview{background:RGBA(var(--now-color--neutral-21,0,0,0),.85);display:flex;flex-direction:column}.attachment-overlay.no-hoist{position:fixed;top:0;left:0;width:100%;height:100%}.attachment-overlay--body{height:inherit;display:flex;justify-content:center;align-items:center;border-width:1px;border-style:dashed;border-color:RGB(var(--now-color--border-secondary,var(--now-color--neutral-5,172,180,181)))}.attachment-overlay--body .attachment-overlay--content{width:16.25rem;text-align:center;font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.attachment-overlay--body .attachment-overlay--content .upload-art{margin:auto;padding:1rem 0;background-image:url(\" + escape(require(\"./upload/attachment-upload-file.svg\")) + \");height:5rem;width:5rem}.attachment-overlay--body .attachment-overlay--content .title{font-weight:600;margin-bottom:1rem}.attachment-preview--header{padding-bottom:1.5rem;display:flex;justify-content:space-between}.attachment-preview--header .title{color:RGB(var(--now-color--neutral-0,255,255,255));overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.attachment-preview--header .actions{display:inline-flex}.attachment-preview--header .actions .action-button{cursor:pointer;color:RGB(var(--now-color--neutral-0,255,255,255));margin-right:.5rem;background:transparent;border:0}.attachment-preview--header .actions .action-button.\\\\--dismiss{margin-left:2rem}.attachment-preview--header .actions .action-button:hover{background:RGBA(var(--now-color--primary-1,30,133,109),.5)}.attachment-preview--body{height:inherit;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:2rem}.attachment-preview--body .preview-image{max-width:100%;max-height:100%}.attachment-preview--body .no-preview{width:16.25rem;text-align:center;font-size:1rem;color:RGB(var(--now-color--neutral-0,255,255,255))}.attachment-preview--body .no-preview .no-preview-icon{margin:1rem 0}.attachment-preview--body .no-preview .title{font-size:600;margin-bottom:1rem}.sn-attachment-upload-preview{height:199px;background-color:RGB(var(--now-color--background-secondary,var(--now-color--neutral-1,246,247,247)));margin-top:1rem;text-align:center;overflow:hidden}.sn-attachment-upload-preview .image{max-height:100%;max-width:100%}\", \"\"]);\n\n// exports\n","module.exports = \"data:image/svg+xml;base64,PHN2ZwoJd2lkdGg9IjgwcHgiCgloZWlnaHQ9IjgwcHgiCgl2aWV3Qm94PSIwIDAgODAgODAiCgl2ZXJzaW9uPSIxLjEiCgl4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCgl4bWxuc1hsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIgo+Cgk8dGl0bGU+dGlsZS1kcmFnZHJvcDwvdGl0bGU+Cgk8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KCTxkZWZzPgoJCTxwb2x5Z29uCgkJCWlkPSJwYXRoLTEiCgkJCXBvaW50cz0iMC4wMDAzOTIxNTY4NjMgMC40MDc4NDMxMzcgNTQuNzQxNTY4NiAwLjQwNzg0MzEzNyA1NC43NDE1Njg2IDcwLjk5NTY4NjMgMC4wMDAzOTIxNTY4NjMgNzAuOTk1Njg2MyIKCQkvPgoJPC9kZWZzPgoJPGcKCQlpZD0idGlsZS1kcmFnZHJvcCIKCQlzdHJva2U9Im5vbmUiCgkJc3Ryb2tlV2lkdGg9IjEiCgkJZmlsbD0ibm9uZSIKCQlmaWxsUnVsZT0iZXZlbm9kZCIKCT4KCQk8ZyBpZD0iRHJhZy0mYW1wOy1Ecm9wLUljb24iPgoJCQk8cmVjdCBpZD0iUmVjdGFuZ2xlIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMiIGhlaWdodD0iODAiIC8+CgkJCTxwYXRoCgkJCQlkPSJNNTguOTIyNzQ1MSwzMS42OTIxNTY5IEM1OC45MjI3NDUxLDMwLjYwOTgwMzkgNTguMDQ0MzEzNywyOS43MzEzNzI1IDU2Ljk2MTk2MDgsMjkuNzMxMzcyNSBMMjEuNzgxNTY4NiwyOS43MzEzNzI1IEMyMC42OTkyMTU3LDI5LjczMTM3MjUgMTkuODIwNzg0MywzMC42MDk4MDM5IDE5LjgyMDc4NDMsMzEuNjkyMTU2OSBDMTkuODIwNzg0MywzMi43NzQ1MDk4IDIwLjY5OTIxNTcsMzMuNjUyOTQxMiAyMS43ODE1Njg2LDMzLjY1Mjk0MTIgTDU2Ljk2MTk2MDgsMzMuNjUyOTQxMiBDNTguMDQ0MzEzNywzMy42NTI5NDEyIDU4LjkyMjc0NTEsMzIuNzc0NTA5OCA1OC45MjI3NDUxLDMxLjY5MjE1NjkiCgkJCQlpZD0iRmlsbC0xIgoJCQkJZmlsbD0iIzZDOEY4OCIKCQkJLz4KCQkJPGcgaWQ9Ikdyb3VwLTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyLjAwMDAwMCwgMC42ODAwMDApIj4KCQkJCTxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KCQkJCQk8dXNlIGhyZWY9IiNwYXRoLTEiIC8+CgkJCQk8L21hc2s+CgkJCQk8ZyBpZD0iQ2xpcC00IiAvPgoJCQkJPHBhdGgKCQkJCQlkPSJNMzUuMTkyNTQ5LDIwLjAxNTI5NDEgTDM1LjE5MjU0OSw2LjA3ODAzOTIyIEw0OS4xODA3ODQzLDIwLjAxNTI5NDEgTDM1LjE5MjU0OSwyMC4wMTUyOTQxIFogTTU0Ljc0MTU2ODYsMjAuMDMwOTgwNCBMNTQuNzQxNTY4NiwyMC4wMTUyOTQxIEw1NC43MjU4ODI0LDIwLjAxNTI5NDEgTDM1LjE5MjU0OSwwLjU0ODYyNzQ1MSBMMzUuMTkyNTQ5LDAuNDA3NDUwOTggTDM1LjA1MTM3MjUsMC40MDc0NTA5OCBMMC4wMDAzOTIxNTY4NjMsMC40MDc0NTA5OCBMMC4wMDAzOTIxNTY4NjMsNzAuOTk1Njg2MyBMMzEuMTMzNzI1NSw3MC45OTU2ODYzIEwyNy4wNDc0NTEsNjcuMDc0MTE3NiBMMy45MTAxOTYwOCw2Ny4wNzQxMTc2IEwzLjkxMDE5NjA4LDQuMzI5MDE5NjEgTDMxLjI4Mjc0NTEsNC4zMjkwMTk2MSBMMzEuMjgyNzQ1MSwyMy45MzY4NjI3IEwzNS4xOTI1NDksMjMuOTM2ODYyNyBMNTAuODMxNzY0NywyMy45MzY4NjI3IEw1MC44MzE3NjQ3LDQzLjA2NjI3NDUgTDU0Ljc0MTU2ODYsNDQuNDQ2NjY2NyBMNTQuNzQxNTY4NiwyMC4wMzA5ODA0IFoiCgkJCQkJaWQ9IkZpbGwtMyIKCQkJCQlmaWxsPSIjMjk0MTQyIgoJCQkJCW1hc2s9InVybCgjbWFzay0yKSIKCQkJCS8+CgkJCTwvZz4KCQkJPHBhdGgKCQkJCWQ9Ik0zMy41Njg2Mjc1LDQ1LjQxNzY0NzEgTDIxLjgwMzkyMTYsNDUuNDE3NjQ3MSBDMjAuNzI1NDkwMiw0NS40MTc2NDcxIDE5Ljg0MzEzNzMsNDQuNTM1Mjk0MSAxOS44NDMxMzczLDQzLjQ1Njg2MjcgQzE5Ljg0MzEzNzMsNDIuMzc4NDMxNCAyMC43MjU0OTAyLDQxLjQ5NjA3ODQgMjEuODAzOTIxNiw0MS40OTYwNzg0IEwzMy41Njg2Mjc1LDQxLjQ5NjA3ODQgQzM0LjY0NzA1ODgsNDEuNDk2MDc4NCAzNS41Mjk0MTE4LDQyLjM3ODQzMTQgMzUuNTI5NDExOCw0My40NTY4NjI3IEMzNS41Mjk0MTE4LDQ0LjUzNTI5NDEgMzQuNjQ3MDU4OCw0NS40MTc2NDcxIDMzLjU2ODYyNzUsNDUuNDE3NjQ3MSIKCQkJCWlkPSJGaWxsLTYiCgkJCQlmaWxsPSIjNkM4Rjg4IgoJCQkvPgoJCQk8cGF0aAoJCQkJZD0iTTU3Ljg3MDg5MzEsNzYuOTQyNzk3MyBMNzAuMTIwNjU4OSw3My4yNDgxODQzIEw3MC44OTUyODI5LDYxLjk2NzQ0MzEgQzcxLjExODgxMjMsNTkuOTU5NiA2OS45MDMxMjYsNTguMDY5NDAzOSA2OC4wODc0Mzk3LDU3LjU5NDg5NDEgTDU4LjYzMjUzNzgsNTUuMTMyMTQ5IEw1Ny44MjA3NzMsNDguMDczMzI1NSBDNTcuNTU0MTA2NCw0NS43NTE3NTY4IDU1LjYyMDc3Myw0NC4wNjk0MDM5IDUzLjQ5OTIwNDQsNDQuMzEyNTQxMSBDNTEuMzc3NjM1OCw0NC41NTU2Nzg0IDQ5Ljg3MTc1MzQsNDYuNjM4MDMxMyA1MC4xMzg0MjAxLDQ4Ljk1NTY3ODQgTDUxLjY1MjE0NTYsNjIuMDg5MDExNyBMNDcuMjQ4MjI0LDYyLjAxNDUwMTkgQzQ1LjUxNDg5MDcsNjEuOTg3MDUxIDQ0LjE0MjM0MTcsNjMuNTQ3ODM1MyA0NC4yMzI1Mzc4LDY1LjQzODAzMTMgQzQ0LjI5MTM2MTMsNjYuNjQxOTUyOSA0NC45NDIzNDE3LDY3LjcyODIyNzQgNDUuOTM0NDk4NSw2OC4yODExNjg2IEw1Ny44NzA4OTMxLDc2Ljk0Mjc5NzMgWiIKCQkJCWlkPSJTdHJva2UtOCIKCQkJCXN0cm9rZT0iIzI5NDE0MiIKCQkJCXN0cm9rZVdpZHRoPSI0IgoJCQkJdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTcuNTc1MDMxLCA2MC42MTU5ODkpIHJvdGF0ZSgtMi4wMDAwMDApIHRyYW5zbGF0ZSgtNTcuNTc1MDMxLCAtNjAuNjE1OTg5KSAiCgkJCS8+CgkJPC9nPgoJPC9nPgo8L3N2Zz4K\"","module.exports = __TECTONIC__$servicenow_library_enhanced_utils_19_0_11;","import attachmentPreviewActions from \"./preview/attachmentPreviewActions\";\nimport attachmentDeleteActions from \"./delete/attachmentDeleteActions\";\nimport attachmentUploadActions from \"./upload/attachmentUploadActions\";\n\nexport const createAttachmentActionHandlers = (\n\tenableUpload = true,\n\tadditionalActions = { actions: {}, actionsHandlers: {} }\n) => {\n\treturn {\n\t\tactions: {\n\t\t\t...attachmentPreviewActions.actions,\n\t\t\t...attachmentDeleteActions.actions,\n\t\t\t...(enableUpload ? attachmentUploadActions.actions : {}),\n\t\t\t...additionalActions.actions\n\t\t},\n\t\tactionHandlers: {\n\t\t\t...attachmentPreviewActions.actionHandlers,\n\t\t\t...attachmentDeleteActions.actionHandlers,\n\t\t\t...(enableUpload ? attachmentUploadActions.actionHandlers : {}),\n\t\t\t...additionalActions.actionsHandlers\n\t\t}\n\t};\n};\n","import { ATTACHMENT_DELETE } from \"../constants\";\nimport { ATTACHMENT_ACTIONS } from \"../../../constants/attachmentConstants\";\nimport { ADD_NOTIFICATIONS } from \"../../../constants/constants\";\nimport { attachmentGraphQLDelete } from \"./attachmentGraphQLDelete\";\nimport { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\nimport { t } from \"sn-translate\";\n\nconst createDeleteActions = () => {\n\tconst handleStart = createGraphQLEffect(attachmentGraphQLDelete, {\n\t\tvariableList: [\"sys_id\"],\n\t\ttemplateVarList: [],\n\t\tstartActionType: ATTACHMENT_DELETE.ACTIONS.STARTED,\n\t\tsuccessActionType: ATTACHMENT_DELETE.ACTIONS.SUCCEEDED,\n\t\terrorActionType: ATTACHMENT_DELETE.ACTIONS.FAILED\n\t});\n\n\tconst handleSucceeded = ({ dispatch, properties }) => {\n\t\tconst { table, sysId } = properties;\n\n\t\tdispatch(ATTACHMENT_ACTIONS.ATTACHMENT_READ_QUERY, {\n\t\t\tsysId,\n\t\t\ttable\n\t\t});\n\t};\n\n\tconst handleFailed = ({ state, action, dispatch }) => {\n\t\tconst {\n\t\t\tdata: { message }\n\t\t} = action.payload;\n\t\tconst name = _.get(state, \"modal.data.name\", \"\");\n\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\tnotifications: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tmessage: t(`Error deleting '{0}': {1}`, name, message)\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t};\n\n\treturn {\n\t\tactions: {\n\t\t\t[ATTACHMENT_DELETE.ACTIONS.START]: {\n\t\t\t\tprivate: true\n\t\t\t},\n\t\t\t[ATTACHMENT_DELETE.ACTIONS.SUCCEEDED]: {\n\t\t\t\tprivate: true\n\t\t\t},\n\t\t\t[ATTACHMENT_DELETE.ACTIONS.FAILED]: {\n\t\t\t\tprivate: true\n\t\t\t}\n\t\t},\n\t\tactionHandlers: {\n\t\t\t[ATTACHMENT_DELETE.ACTIONS.START]: handleStart,\n\t\t\t[ATTACHMENT_DELETE.ACTIONS.SUCCEEDED]: handleSucceeded,\n\t\t\t[ATTACHMENT_DELETE.ACTIONS.FAILED]: handleFailed\n\t\t}\n\t};\n};\n\nexport default createDeleteActions();\n","const attachmentGraphQLDelete = `\nmutation ($sys_id: String!) {\n\tGlideRecord_Mutation {\n\t\tdelete_sys_attachment(sys_id: $sys_id) {\n\t\t\tmodified_count\n\t\t}\n\t}\n}\n`;\n\nexport { attachmentGraphQLDelete };\n","import { createHttpEffect } from \"@servicenow/ui-effect-http\";\nimport _ from \"lodash\";\nimport { ATTACHMENT_ACTIONS } from \"../../../constants/attachmentConstants\";\nimport { ADD_NOTIFICATIONS } from \"../../../constants/constants\";\n\nimport { ATTACHMENT_UPLOAD_SAVE, FILE_UPLOAD } from \"../constants\";\nimport { t } from \"sn-translate\";\nimport { getFileFromFormData, transformLoadingItem } from \"./attachmentUploadUtil\";\nimport AttachmentElement from \"../../../attachments/AttachmentElement\";\nimport { loadDocViewer } from '../attachmentOverlayUtil';\n\nconst createUploadAttachmentEffect = createHttpEffect(\n\t\"/angular.do?sysparm_type=ngk_attachments&sysparm_verbose_session_message=true\",\n\t{\n\t\tmethod: \"POST\",\n\t\theaders: { \"X-WantSessionNotificationMessages\": true },\n\t\tqueryParams: [\"action\", \"table\", \"sys_id\", \"load_attachment_record\"],\n\t\tdataParam: \"data\",\n\t\tbatch: false,\n\t\tstartActionType: FILE_UPLOAD.ACTIONS.STARTED,\n\t\tsuccessActionType: ATTACHMENT_UPLOAD_SAVE.ACTIONS.SUCCESS,\n\t\terrorActionType: ATTACHMENT_UPLOAD_SAVE.ACTIONS.FAIL\n\t}\n);\n\nconst createCheckErrorOnUploadInterceptor = context => {\n\tconst { coeffects } = context;\n\tconst { state, action, dispatch } = coeffects;\n\n\tconst errors = _.get(action, \"payload.errors\", []);\n\tif (_.isEmpty(errors)) return context;\n\telse {\n\t\tconst fileName = action.payload.file_name;\n\t\tlet notifications = [];\n\t\terrors.forEach(error => {\n\t\t\tif (!_.isEmpty(error.message))\n\t\t\t\tnotifications.push({\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tmessage: t(`Error uploading ${fileName}: ${error.message}`)\n\t\t\t\t});\n\t\t});\n\t\tif (notifications.length)\n\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\tnotifications\n\t\t\t});\n\t\treturn {\n\t\t\t...context,\n\t\t\teffects: []\n\t\t};\n\t}\n};\n\nexport default {\n\tactions: {\n\t\t[ATTACHMENT_UPLOAD_SAVE.ACTIONS.START]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_UPLOAD_SAVE.ACTIONS.SUCCESS]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[ATTACHMENT_UPLOAD_SAVE.ACTIONS.FAIL]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[FILE_UPLOAD.ACTIONS.STARTED]: {\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[FILE_UPLOAD.ACTIONS.SUCCEEDED]: {\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[FILE_UPLOAD.ACTIONS.FAILED]: {\n\t\t\tstopPropagation: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[ATTACHMENT_UPLOAD_SAVE.ACTIONS.START]: createUploadAttachmentEffect,\n\t\t[ATTACHMENT_UPLOAD_SAVE.ACTIONS.FAIL]: ({ state, action, dispatch }) => {\n\t\t\tconst {\n\t\t\t\tdata,\n\t\t\t\toptions: { params }\n\t\t\t} = action.payload;\n\t\t\tconst message = data && data.message;\n\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\tnotifications: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tmessage: t(\n\t\t\t\t\t\t\t`Error uploading '{0}'{1}`,\n\t\t\t\t\t\t\tstate[\"currentFileName\"],\n\t\t\t\t\t\t\tmessage ? \": \" + message : \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t\tconst file = getFileFromFormData(action);\n\t\t\tdispatch(FILE_UPLOAD.ACTIONS.FAILED, { ...action.payload, file });\n\t\t},\n\t\t[ATTACHMENT_UPLOAD_SAVE.ACTIONS.SUCCESS]: {\n\t\t\teffect: ({ properties, dispatch, action }) => {\n\t\t\t\tconst { table, sysId } = properties;\n\t\t\t\tconst file = getFileFromFormData(action);\n\t\t\t\tdispatch(FILE_UPLOAD.ACTIONS.SUCCEEDED, { ...action.payload, file });\n\t\t\t},\n\t\t\tinterceptors: [{ after: createCheckErrorOnUploadInterceptor }]\n\t\t},\n\t\t[FILE_UPLOAD.ACTIONS.STARTED]: ({ state, updateState, action }) => {\n\t\t\tconst file = getFileFromFormData(action);\n\t\t\tconst { loadingItems, docViewerEnabled, docViewerState } = state;\n\t\t\tconst item = {\n\t\t\t\tcanDelete: false,\n\t\t\t\tcanEditName: false,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\tstate: \"uploading\",\n\t\t\t\ttype: file.type,\n\t\t\t\tfile\n\t\t\t};\n\t\t\tupdateState(({ state: { loadingItems } }) => ({\n\t\t\t\tloadingItems: [...loadingItems, item]\n\t\t\t}));\n\t\t\tif (docViewerEnabled)\n\t\t\t\tloadDocViewer(docViewerState, updateState);\n\t\t},\n\t\t[FILE_UPLOAD.ACTIONS.SUCCEEDED]: ({ state, updateState, action, dispatch }) => {\n\t\t\tconst { loadingItems, list, data, data: {attachments=[], count=0} } = state;\n\t\t\tconst {file} = action.payload;\n\t\t\tlet items = [...loadingItems];\n\t\t\tconst itemIndex = items.findIndex(item => item.file === file);\n\t\t\tlet [item] = items.splice(itemIndex, 1);\n\t\t\titem = transformLoadingItem(item, action.payload);\n\n\t\t\tupdateState({\n\t\t\t\tdata: { ...data, attachments: [...attachments, item], count: count + 1 },\n\t\t\t\tlist: [...list, item],\n\t\t\t\tcount: list.length + 1,\n\t\t\t\tloadingItems: items\n\t\t\t});\n\n\t\t\tdispatch(ATTACHMENT_ACTIONS.ATTACHMENT_UPLOAD_SUCCESS,action.payload);\n\n\t\t\tdispatch(\"NOW_RECORD_FORM#ACTION_STATUS_UPDATED\", {\n\t\t\t\tcomponent: AttachmentElement,\n\t\t\t\ttype: \"badge\",\n\t\t\t\tvalue: (count+1).toString()\n\t\t\t});\n\n\t\t},\n\t\t[FILE_UPLOAD.ACTIONS.FAILED]: ({ state, updateState, action }) => {\n\t\t\tconst { loadingItems } = state;\n\t\t\tconst { file } = action.payload;\n\t\t\tlet items = [...loadingItems];\n\t\t\tlet itemIndex = items.findIndex(item => item.file === file);\n\t\t\titems.splice(itemIndex, 1);\n\t\t\tupdateState({ loadingItems: items });\n\t\t}\n\t}\n};\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./Attachment.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","var escape = require(\"../../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host(now-record-common-attachments-connected){display:block}.sn-panel{display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-panel.-workspace{padding:1.5rem 1.5rem}.sn-panel.-workspace.-compact{margin:1rem 0 0;padding:0}.sn-empty-state{align-items:center;display:flex;flex-direction:column;justify-content:center;position:relative}.sn-empty-state-row{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));display:flex;font-size:1rem;justify-content:center;margin-top:.75rem;max-width:20rem;text-align:center;padding:0;width:100%}.sn-empty-state-row:first-child{margin-top:0}.sn-empty-state-row.-header{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:1.25rem;font-weight:400;margin-bottom:0;padding:0}.sn-empty-state-img{background-repeat:no-repeat}.sn-empty-state .-no-attachments{background-image:url(\" + escape(require(\"./sn-es-no-attachments.svg\")) + \");height:6.4375rem;width:8.8125rem}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sidebar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sidebar-icon-badge-wrapper{position:relative}.sidebar-icon-presence{position:absolute;color:RGB(var(--now-color--alert-info-2,14,120,196));bottom:-6px;right:-6px}:host(now-record-common-sidebar){display:block;height:100%}.sidebar{display:flex;height:100%;flex-direction:row-reverse;position:relative}.sidebar-panel{height:100%;box-sizing:content-box;flex:1 1 auto}.sidebar-panel.is-hidden,.sidebar-panel .is-hidden{display:none}\", \"\"]);\n\n// exports\n","import { createCustomElement, actionTypes } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { createSidebarDataProvider } from \"../dataProvider/sidebarDataProvider\";\nimport { default as SIDEBAR_COMPONENT } from \"./sidebar\";\nimport _ from \"lodash\";\nimport { SIDEBAR } from \"../constants/constants\";\nimport { preWsConfigSysId } from \"sn-uxpage-presource\";\n\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst view = state => {\n\tconst {\n\t\tproperties: { sidebarActions, formModel, sidebarPanelExtras },\n\t\topened\n\t} = state;\n\n\tif (_.isEmpty(sidebarActions)) return null;\n\n\treturn (\n\t\t<SIDEBAR_COMPONENT\n\t\t\tactions={sidebarActions}\n\t\t\topened={opened}\n\t\t\tform-model={formModel}\n\t\t\tsidebar-panel-extras={sidebarPanelExtras}\n\t\t\tmanage-opened={true}\n\t\t/>\n\t);\n};\n\nconst SIDEBAR_CONNECTED_COMPONENT = \"now-record-common-sidebar-connected\";\nconst sidebarDataProvider = createSidebarDataProvider();\ncreateCustomElement(SIDEBAR_CONNECTED_COMPONENT, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tbehaviors: [preWsConfigSysId],\n\tproperties: {\n\t\tformModel: {\n\t\t\tdefault: {},\n\t\t\tunstableParse: true\n\t\t},\n\t\topened: {\n\t\t\tdefault: true,\n\t\t\tunstableParse: true\n\t\t},\n\t\tsidebarPanelExtras: {\n\t\t\tdefault: {}\n\t\t},\n\t\t...sidebarDataProvider.properties\n\t},\n\tinitialState: {\n\t\topened: true\n\t},\n\tactions: sidebarDataProvider.actions,\n\tactionHandlers: {\n\t\t...sidebarDataProvider.actionHandlers,\n\t\t[SIDEBAR.ACTIONS.OPENED_SET]: ({ action, state, updateState }) => {\n\t\t\tconst {\n\t\t\t\tpayload: { value: opened }\n\t\t\t} = action;\n\t\t\tif (opened !== state.opened) updateState({ opened });\n\t\t\taction.stopPropagation();\n\t\t},\n\t\t[COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tproperties: { opened },\n\t\t\tstate,\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tif (opened !== state.opened) updateState({ opened });\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ action, state, updateState }) => {\n\t\t\tconst { name, value } = action.payload;\n\t\t\tif (name === \"opened\" && value !== state.opened)\n\t\t\t\tupdateState({ opened: value });\n\t\t}\n\t}\n});\n\nexport default SIDEBAR_CONNECTED_COMPONENT;\n","import { createDeclarativeFormActionDataSource } from \"../dataSource/sidebarDataSource\";\nimport { createDataProvider } from \"@devsnc/library-form\";\n\nconst SIDEBAR_DATA_PROVIDER = \"sidebar-data-provider\";\n\nexport const createSidebarDataProvider = () =>\n\tcreateDataProvider({\n\t\tname: SIDEBAR_DATA_PROVIDER,\n\t\tdataSources: [createDeclarativeFormActionDataSource()]\n\t});\n","export const DECLARATIVE_ACTIONS_QUERY_KEY = \"GlideDeclarativeActions_Query\";\nexport const DECLARATIVE_ACTIONS_FORM_QUERY_KEY =\n\t\"GlideDeclarativeActions_formQuery\";\nexport const FORM_DECLARATIVE_ACTIONS_KEY = \"formDeclarativeActions\";\nexport const FORM_ACTIONS_KEY = \"formActions\";\nexport const QUERY_FRAGMENT = `\n${DECLARATIVE_ACTIONS_QUERY_KEY} {\n\t${DECLARATIVE_ACTIONS_FORM_QUERY_KEY} {\n\t\t${FORM_DECLARATIVE_ACTIONS_KEY} (table: $table, view: $view, sysId: $sysId, query: $query, source: \"form\", workspaceConfigId: $workspaceConfigId, actionConfigId: $actionConfigId) {\n\t\t\t${FORM_ACTIONS_KEY} {\n\t\t\t\tposition\n                actions {\n                    name\n                    icon\n                    label\n                    tooltip\n                    actionComponent\n                    actionAttributes\n                    order\n\t\t\t\t\tassignmentId\n\t\t\t\t\tmodelConditions {\n\t\t\t\t\t\tfield\n\t\t\t\t\t\toperator\n\t\t\t\t\t\tvalue\n\t\t\t\t\t\tnewQuery\n\t\t\t\t\t\tor\n\t\t\t\t\t}\n\t\t\t\t\tpayloadMap {\n\t\t\t\t\t\tname\n\t\t\t\t\t\tvalue\n\t\t\t\t\t  }\n                }\n            }\n\t\t}\n\t}\n}`;\n","export { default as AttachmentElement } from \"./AttachmentElement\";\nexport {\n\tdefault as AttachmentOverlayElement\n} from \"./overlay/attachmentOverlay\";\nexport {\n\tdefault as attachmentPreviewActions,\n\tgetReadOnlyPreviewOverlayProps\n} from \"./overlay/preview/attachmentPreviewActions\";\n","export { default as RibbonElement } from \"./ribbon.js\";\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@seismic/snabbdom-renderer';\nimport styles from './styles.scss';\nimport view from './view';\nimport { actionHandlers } from './actionHandlers';\nimport {\n\tRIBBON_OPEN_PHONE,\n\tRIBBON_PREVIEW_RECORD,\n\tRIBBON_ADD_NOTIFICATIONS,\n\tRIBBON_REMOVE_NOTIFICATIONS,\n\tRIBBON_CLEAR_NOTIFICATIONS,\n\tRIBBON_ITEM_SELECTED,\n\tRIBBON_EXECUTED_UI_ACTION,\n\tRIBBON_WRAPPED_ACTION\n} from '../constants/ribbonConstants';\n\nconst RIBBON_ELEMENT = 'sn-record-ribbon';\n\nconst valueSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tvalue: { type: 'string' },\n\t\tdisplayValue: { type: 'string' }\n\t}\n};\n\n/**\n * The ribbon displays widgets for requestors and fulfillers who are viewing and updating records and record pages.\n *\n * ```jsx\n * <sn-record-ribbon\n *\t\ttable={...}\n *\t\tsysId={...}\n *\t\twidgets={...}\n *\t\tactive={...}\n *\t\tcanCollapse={...}\n *\t\twidgets={...}\n *\t\tcollapsed={...}\n *\t\t/>\n * ```\n *\n * @seismicElement sn-record-ribbon\n * @summary Ribbon is a container that holds one or more ribbon widget sub-components.\n */\n\ncreateCustomElement(RIBBON_ELEMENT, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\twidgetsLoading: true,\n\t\ttagsLoaded: []\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Table of the record.\n\t\t * @type {string}\n\t\t */\n\t\ttable: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\tdefault: ''\n\t\t},\n\n\t\t/**\n\t\t * Sys ID of the record.\n\t\t * @type {string}\n\t\t */\n\t\tsysId: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\tdefault: ''\n\t\t},\n\n\t\t/**\n\t\t * Widget objects passed to the ribbon.\n\t\t * @type {array}\n\t\t */\n\t\twidgets: {\n\t\t\tschema: {\n\t\t\t\ttype: 'array',\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\ttable: {\n\t\t\t\t\t\t\t\t...valueSchema\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t...valueSchema\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tvariables: {\n\t\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\t\tvariableName: { type: 'string' },\n\t\t\t\t\t\t\t\t\t\t\tvariableValue: { type: 'string' }\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcomponent: {\n\t\t\t\t\t\t\t\t...valueSchema\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttag: {\n\t\t\t\t\t\t\t\t...valueSchema\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\twidth: {\n\t\t\t\t\t\t\t\t...valueSchema\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\torder: {\n\t\t\t\t\t\t\t\t...valueSchema\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadditionalProperties: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tdefault: []\n\t\t},\n\n\t\t/**\n\t\t * When true, the record is active.\n\t\t * @type {boolean}\n\t\t */\n\t\tactive: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t},\n\t\t\tdefault: false\n\t\t},\n\n\t\t/**\n\t\t * When true, the component is visible.\n\t\t * @type {boolean}\n\t\t */\n\t\tisVisible: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t},\n\t\t\tdefault: false\n\t\t},\n\n\t\t/**\n\t\t * When true, the component is collapsed.\n\t\t * @type {boolean}\n\t\t */\n\t\tcollapsed: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t},\n\t\t\tdefault: true\n\t\t},\n\n\t\t/**\n\t\t * When true, the component is collapsible.\n\t\t * @type {boolean}\n\t\t */\n\t\tcanCollapse: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t},\n\t\t\tdefault: true\n\t\t},\n\n\t\t/**\n\t\t * When true, the component is rendered in a workspace form.\n\t\t * @type {boolean}\n\t\t */\n\t\tclassicForm: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t},\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * When true, an Openframe is configured.\n\t\t * @type {boolean}\n\t\t */\n\t\tisOpenframeConfigValid: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t},\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched to open the phone feature.\n\t\t * @type {OpenPhone}\n\t\t */\n\t\t[RIBBON_OPEN_PHONE]: {},\n\t\t/**\n\t\t * Dispatched to preview a record.\n\t\t * @type {PreviewRecordPayload}\n\t\t */\n\t\t[RIBBON_PREVIEW_RECORD]: {},\n\t\t/**\n\t\t * Dispatched to show notification messages.\n\t\t * @type {RibbonAddNotificationsPayload}\n\t\t */\n\t\t[RIBBON_ADD_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched to remove notification message.\n\t\t * @type {RibbonRemoveNotificationsPayload}\n\t\t */\n\t\t[RIBBON_REMOVE_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched to clear all notification messages.\n\t\t */\n\t\t[RIBBON_CLEAR_NOTIFICATIONS]: {},\n\t\t/**\n\t\t * Dispatched when an item is selected.\n\t\t * @type {ItemSelectedPayload}\n\t\t */\n\t\t[RIBBON_ITEM_SELECTED]: {},\n\t\t/**\n\t\t * Dispatched to execute a UI action.\n\t\t * @type {UIAction}\n\t\t */\n\t\t[RIBBON_EXECUTED_UI_ACTION]: {},\n\t\t/**\n\t\t * Dispatched to wrap an intended action in a payload.\n\t\t * @type {WrappedAction}\n\t\t */\n\t\t[RIBBON_WRAPPED_ACTION]: {}\n\t},\n\tactionHandlers,\n\tstyles\n});\n\nexport default RIBBON_ELEMENT;\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-widget{background:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));border:1px solid;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));border-radius:.125rem;display:flex;flex:1 1 auto;flex-direction:column;height:12.0625rem;padding:.5rem;position:relative}.sn-widget-header{align-items:center;border-bottom:1px solid;border-bottom-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));font-size:1rem;display:flex;flex-shrink:0;height:1.375rem;justify-content:space-between;padding:0 0 .5rem}.sn-widget-header,.sn-widget-header-content{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.sn-widget-header-content:first-of-type{margin-right:.5rem}.sn-widget-body{flex:1 1 auto;flex-direction:column;position:relative}.sn-widget-body,.sn-widget-footer{display:flex;justify-content:center;padding:.5rem 0 0}.sn-widget-row{display:flex;flex:0 0 auto;padding-bottom:.5rem;position:relative;width:100%}.sn-widget-row:last-of-type{padding-bottom:0}.sn-widget.has-slider .sn-widget-row.has-slider{align-items:center;border-top:1px solid;border-top-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));display:flex;height:100%;padding:.125rem 0 0;position:relative}.sn-widget.has-slider .sn-widget-row.has-slider .sn-widget--table--cell{padding:0 0 0 1.25rem}.sn-widget-column{display:flex;flex:1 1 auto;flex-direction:column;min-width:50%;overflow:hidden;padding:0 .25rem}.sn-widget-column.is-error{align-items:center;justify-content:center}.sn-widget-column>span{display:block;font-size:.75rem;font-style:italic;text-align:center}.sn-widget-table{border:none;border-collapse:collapse;font-size:.75rem;margin:0;padding:0;position:relative;table-layout:fixed;width:100%}.sn-widget-table-row{overflow:hidden;padding-bottom:.25rem;position:relative;width:100%}.sn-widget-table-row:last-of-type .sn-widget-table-cell{margin-bottom:0}.sn-widget-table-cell{padding:0 0 .5rem 1rem;position:relative;vertical-align:top}.sn-widget-table-cell:first-of-type{padding:0 0 0 3.125rem}.sn-widget-table-cell:last-of-type{margin-right:0}.sn-widget-table-content{display:block;position:relative;white-space:normal}.sn-widget-table-content:last-of-type{margin-right:0}.sn-widget-line-height-crop:after,.sn-widget-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.sn-widget-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.sn-widget-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.sn-widget-line-height-crop+.sn-widget-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.sn-widget-label-value{font-size:.75rem;margin:0 auto}.sn-widget-label-value-label{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.sn-widget-label-value-label,.sn-widget-label-value-value{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-widget-label-value-pair>dt{margin-bottom:.125rem}.sn-widget-label-value-pair>dd{margin-left:0}.sn-widget-user{align-items:center;display:inline-flex;overflow:hidden}.sn-widget-user-profile{display:flex;flex-wrap:wrap;font-size:.75rem;overflow:hidden}.sn-widget-user .sn-widget-user-profile{margin-left:.5rem}.sn-widget-user-profile-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));font-size:.75rem}.sn-widget-user-profile-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));display:inline-block;font-size:1rem;font-weight:600;margin:0 .25rem .25rem 0}.sn-widget-user-profile>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;align-items:center;display:inline-flex;width:100%}.sn-slider{opacity:0;position:absolute;top:0;width:100%}.sn-widget .sn-slider{display:flex;opacity:1;padding:0 0;position:static}.sn-slider-pages{display:flex;list-style:none;margin:0;padding:0}.sn-slider-pages li{height:.25rem;margin:0 .25rem;width:.25rem}.sn-slider-page{background:RGB(var(--now-color--neutral-15,44,53,55));border:0;border-radius:50%;color:RGB(var(--now-color--neutral-15,44,53,55));cursor:pointer;height:.25rem;opacity:.5;overflow:hidden;padding:0;text-indent:-624.9375rem;width:.25rem}.sn-slider-page.is-active,.sn-slider-page.is-hover,.sn-slider-page:hover{background:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));opacity:1}.sn-ribbon{background-color:RGB(var(--now-color--background-secondary,var(--now-color--neutral-1,246,247,247)));display:flex;height:13.0625rem;overflow:visible;padding:.5rem;position:relative;width:100%;margin-top:-.5rem}.sn-ribbon.-overflow{overflow-x:auto}.context-spm .sn-ribbon,:host(.context-spm) .sn-ribbon{height:8.8125rem + 1rem}.sn-ribbon-row{bottom:.5rem;display:flex;left:.5rem;position:absolute;right:.5rem;top:.5rem;width:auto}.sn-ribbon-column{align-items:stretch;display:flex;flex-direction:column;padding-right:.5rem}.sn-ribbon-column.-col-2{flex:0 0 16.7%;max-width:16.7%}.sn-ribbon-column.-col-3{flex:0 0 25%;max-width:25%}.sn-ribbon-column.-col-4{flex:0 0 33.3%;max-width:33.3%}.sn-ribbon-column.-col-5{flex:0 0 41.66%;max-width:41.66%}.sn-ribbon-column.-col-6{flex:0 0 50%;max-width:50%}.sn-ribbon-column:last-of-type{padding-right:0}.sn-ribbon-toggle{background-color:transparent;border:none;cursor:pointer;font-size:1.5rem;height:2rem;padding:0;text-align:center;width:2rem}.sn-ribbon-toggle.is-open .sn-ribbon-toggle.-collapsed{display:none}.sn-ribbon-toggle.is-open .sn-ribbon-toggle.-open{display:block}.sn-ribbon-toggle-open{display:none}.sn-btn.is-disabled{cursor:default;opacity:.5}.sn-btn__default-borderless{background:transparent;border:none}now-uxf-page-container{padding-inline-start:2rem}.ribbon-container>.collapse-trigger,now-uxf-page-container>.collapse-trigger,now-uxf-page-container>div>button{outline:none}:host{display:block;width:100%}:host ::ng-deep .collapse-trigger,:host ::ng-deep .collapse-trigger>div>button{outline:none}\", \"\"]);\n\n// exports\n","import { get, isEmpty } from \"lodash\";\nimport { toAttributes } from \"./utils/utils\";\nimport { EmptyStateElement } from \"../emptyState\";\nimport { t } from \"sn-translate\";\n\nimport \"@servicenow/now-uxf-page\";\n\nconst constructWidgets = (widgets, defaultAttributes, isVisible) => {\n\treturn widgets\n\t\t.filter(widget => get(widget, \"tag.value\"))\n\t\t.map(widget => {\n\t\t\tconst CustomTag = get(widget, \"tag.value\");\n\t\t\tconst name = get(widget, \"name.displayValue\");\n\t\t\tconst width = get(widget, \"width.value\", 3);\n\t\t\tconst compId =\n\t\t\t\tname +\n\t\t\t\t\"-\" +\n\t\t\t\tdefaultAttributes.table +\n\t\t\t\t\"-\" +\n\t\t\t\tdefaultAttributes.sysid +\n\t\t\t\tMath.random();\n\n\t\t\tlet compAttributes = (get(widget, \"attrs.variables\") || []).reduce(\n\t\t\t\t(attributes, { variableName, variableValue }) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t[variableName]: variableValue\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{ name, ...defaultAttributes }\n\t\t\t);\n\n\t\t\tcompAttributes = toAttributes(compAttributes);\n\n\t\t\tlet columns = 1;\n\t\t\tif (width > 3) {\n\t\t\t\tcolumns = 3;\n\t\t\t} else if (width > 1) {\n\t\t\t\tcolumns = 2;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div key={\"col-\" + name} className={`sn-ribbon-column -col-${width}`}>\n\t\t\t\t\t<CustomTag\n\t\t\t\t\t\t{...compAttributes}\n\t\t\t\t\t\tcomponent-id={compId}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tisVisible={isVisible}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n};\n\nconst view = state => {\n\tconst {\n\t\tproperties: {\n\t\t\ttable,\n\t\t\tsysId,\n\t\t\twidgets,\n\t\t\tactive,\n\t\t\tisVisible,\n\t\t\tcollapsed,\n\t\t\tcanCollapse,\n\t\t\tclassicForm,\n\t\t\tisOpenframeConfigValid\n\t\t},\n\t\twidgetsLoading\n\t} = state;\n\n\tif (!sysId || !table)\n\t\treturn classicForm ? (\n\t\t\t<div />\n\t\t) : (\n\t\t\t<EmptyStateElement message={t(\"No data to display\")} />\n\t\t);\n\n\tif (widgetsLoading || isEmpty(widgets)) return <div class=\"empty-ribbon\" />;\n\n\tconst defaultAttributes = {\n\t\tsysid: sysId,\n\t\ttable,\n\t\tactive,\n\t\t...(classicForm ? {} : { isOpenframeConfigValid })\n\t};\n\n\tconst htmls = constructWidgets(widgets, defaultAttributes, isVisible);\n\n\treturn (\n\t\t<div className=\"ribbon-container\">\n\t\t\t<now-uxf-page-container\n\t\t\t\tbare\n\t\t\t\tcan-collapse={canCollapse}\n\t\t\t\tcollapsed={collapsed}\n\t\t\t>\n\t\t\t\t{htmls.length && (\n\t\t\t\t\t<div className=\"sn-ribbon\">\n\t\t\t\t\t\t<div className=\"sn-ribbon-row\">{htmls}</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</now-uxf-page-container>\n\t\t</div>\n\t);\n};\n\nexport default view;\n","module.exports = __TECTONIC__$servicenow_now_uxf_page;","import { LOAD_EXTERNAL_START, LOAD_EXTERNAL_COMPLETED } from './actions';\nimport { actionTypes } from '@servicenow/ui-core';\nimport {\n\tloadComponents,\n\tcreateReDispatchActionHandler,\n\ttransformPreviewRecordPayload\n} from '@devsnc/library-form';\nimport { getTagsNotInCache, getWigetTagNames } from './utils/utils';\nimport {\n\tRIBBON_ACTIONS,\n\tRIBBON_OPEN_PHONE,\n\tRIBBON_PREVIEW_RECORD,\n\tRIBBON_ADD_NOTIFICATIONS,\n\tRIBBON_REMOVE_NOTIFICATIONS,\n\tRIBBON_CLEAR_NOTIFICATIONS,\n\tRIBBON_ITEM_SELECTED,\n\tRIBBON_EXECUTED_UI_ACTION,\n\tRIBBON_WRAPPED_ACTION\n} from '../constants/ribbonConstants';\n\nconst loadExternalWidgetsEffect = ({\n\tdispatch,\n\tstate,\n\taction: {\n\t\tpayload: { tagNames }\n\t}\n}) => {\n\tloadComponents(tagNames).finally(() => {\n\t\tdispatch(LOAD_EXTERNAL_COMPLETED, { tagNames });\n\t});\n};\n\nconst loadExternalWidgetsCompletedEffect = ({\n\tupdateState,\n\tstate,\n\taction: {\n\t\tpayload: { tagNames }\n\t}\n}) => {\n\tupdateState({\n\t\twidgetsLoading: false,\n\t\ttagsLoaded: [...state.tagsLoaded, ...tagNames]\n\t});\n};\n\nexport const actionHandlers = {\n\t[actionTypes.COMPONENT_BOOTSTRAPPED]: ({ properties, dispatch }) => {\n\t\tconst tagNames = getWigetTagNames(properties.widgets);\n\t\tif (tagNames.length) {\n\t\t\tdispatch(LOAD_EXTERNAL_START, { tagNames });\n\t\t}\n\t},\n\t[actionTypes.COMPONENT_PROPERTY_CHANGED]: {\n\t\teffect(context) {\n\t\t\tconst {\n\t\t\t\tdispatch,\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { name, value }\n\t\t\t\t},\n\t\t\t\tstate: { tagsLoaded }\n\t\t\t} = context;\n\t\t\tif (name === 'widgets') {\n\t\t\t\tconst tagsNotInCache = getTagsNotInCache(tagsLoaded, value);\n\t\t\t\tif (tagsNotInCache.length) {\n\t\t\t\t\tdispatch(LOAD_EXTERNAL_START, { tagNames: tagsNotInCache });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t[LOAD_EXTERNAL_START]: loadExternalWidgetsEffect,\n\t[LOAD_EXTERNAL_COMPLETED]: loadExternalWidgetsCompletedEffect,\n\t[RIBBON_ACTIONS.OPEN_PHONE]: createReDispatchActionHandler(RIBBON_OPEN_PHONE),\n\t[RIBBON_ACTIONS.PREVIEW_RECORD]: createReDispatchActionHandler(\n\t\tRIBBON_PREVIEW_RECORD,\n\t\ttransformPreviewRecordPayload\n\t),\n\t[RIBBON_ACTIONS.ADD_NOTIFICATIONS]: createReDispatchActionHandler(RIBBON_ADD_NOTIFICATIONS),\n\t[RIBBON_ACTIONS.REMOVE_NOTIFICATIONS]: createReDispatchActionHandler(RIBBON_REMOVE_NOTIFICATIONS),\n\t[RIBBON_ACTIONS.CLEAR_NOTIFICATIONS]: createReDispatchActionHandler(RIBBON_CLEAR_NOTIFICATIONS),\n\t[RIBBON_ACTIONS.ITEM_SELECTED]: createReDispatchActionHandler(RIBBON_ITEM_SELECTED),\n\t[RIBBON_ACTIONS.EXECUTED_UI_ACTION]: createReDispatchActionHandler(RIBBON_EXECUTED_UI_ACTION),\n\t[RIBBON_ACTIONS.WRAPPED_ACTION]: createReDispatchActionHandler(RIBBON_WRAPPED_ACTION)\n};\n","export const LOAD_EXTERNAL_START = \"LOAD_EXTERNAL_START\";\nexport const LOAD_EXTERNAL_COMPLETED = \"LOAD_EXTERNAL_COMPLETED\";\n"],"sourceRoot":""}