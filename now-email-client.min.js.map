{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///external \"__TECTONIC__sn_translate\"","webpack:///external \"__TECTONIC__lodash_4_17_4\"","webpack:///external \"__TECTONIC__$servicenow_ui_core\"","webpack:///external \"__TECTONIC__$servicenow_ui_effect_graphql\"","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///external \"__TECTONIC__sn_uxpage_presource_18_0_5\"","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///external \"__TECTONIC__lodash_4_17_4[\\\"unset\\\"]\"","webpack:///external \"__TECTONIC__$servicenow_now_button\"","webpack:///external \"__TECTONIC__lodash_4_17_4[\\\"isEmpty\\\"]\"","webpack:///external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack:///external \"__TECTONIC__$servicenow_now_icon\"","webpack:///external \"__TECTONIC__$servicenow_now_alert\"","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///external \"__TECTONIC__$devsnc_library_uxf\"","webpack:///external \"__TECTONIC__$servicenow_now_dropdown\"","webpack:///external \"__TECTONIC__$servicenow_now_record_common\"","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack:///external \"__TECTONIC__lodash_4_17_4[\\\"set\\\"]\"","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///external \"__TECTONIC__$servicenow_now_heading\"","webpack:///external \"__TECTONIC__$servicenow_now_pill\"","webpack:///external \"__TECTONIC__$servicenow_now_loader\"","webpack:///external \"__TECTONIC__$servicenow_now_modal\"","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./src/components/sn-email-client-internal-header/styles.scss?475d","webpack:///./src/components/now-email-client-viewer-connected/styles.scss?bc3d","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/dropdownList/styles.scss?86da","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/styles.scss?44a3","webpack:///./src/components/now-email-client-composer-details/EmailEditor/tinymce.css?7ff3","webpack:///./src/components/now-email-client-composer-details/styles.scss?c80e","webpack:///./src/components/now-email-client-mini-composer-connected/styles.scss?6601","webpack:///external \"__TECTONIC__$servicenow_library_enhanced_utils_19_0_8\"","webpack:///./src/components/now-email-client-quick-messages/ListView/styles.scss?8ae0","webpack:///./src/components/now-email-client-quick-messages/DetailView/styles.scss?77a4","webpack:///./src/components/now-email-client-quick-messages/styles.scss?d9f1","webpack:///./src/components/sn-email-client-internal-quick-message-wrapper/styles.scss?cc64","webpack:///./src/components/now-email-client-composer-connected/styles.scss?a4d9","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///external \"__TECTONIC__regenerator_runtime_0_13_5\"","webpack:///./src/components/sn-email-client-internal-header/styles.scss","webpack:///external \"__TECTONIC__$servicenow_now_avatar\"","webpack:///external \"__TECTONIC__$servicenow_now_highlighted_value\"","webpack:///external \"__TECTONIC__$servicenow_now_checkbox\"","webpack:///./src/components/now-email-client-viewer-connected/styles.scss","webpack:///external \"__TECTONIC__$servicenow_now_popover\"","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/dropdownList/styles.scss","webpack:///external \"__TECTONIC__$servicenow_now_tooltip\"","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/styles.scss","webpack:///external \"__TECTONIC__$servicenow_now_record_html_editor\"","webpack:///./src/components/now-email-client-composer-details/EmailEditor/tinymce.css","webpack:///external \"__TECTONIC__sn_tinymce_18_0_16\"","webpack:///./src/components/now-email-client-composer-details/styles.scss","webpack:///./src/components/now-email-client-composer-details/icons/empty_state.svg","webpack:///./src/components/now-email-client-mini-composer-connected/styles.scss","webpack:///external \"__TECTONIC__$servicenow_now_card\"","webpack:///./src/components/now-email-client-quick-messages/ListView/styles.scss","webpack:///./src/components/now-email-client-quick-messages/icons/sn-ec-no-match.svg","webpack:///./src/components/now-email-client-quick-messages/icons/sn-ec-no-records.svg","webpack:///./src/components/now-email-client-quick-messages/DetailView/styles.scss","webpack:///./src/components/now-email-client-quick-messages/styles.scss","webpack:///./src/components/sn-email-client-internal-quick-message-wrapper/styles.scss","webpack:///./src/components/now-email-client-composer-connected/styles.scss","webpack:///./src/commons/EmailAttachments/constants.js","webpack:///./src/commons/EmailAttachments/AttachmentPreview/initialState.js","webpack:///./src/components/now-email-client-viewer-connected/initialState.js","webpack:///./src/constants/nowConstants.js","webpack:///./src/constants/emailConstants.js","webpack:///./src/components/now-email-client-viewer-connected/constants.js","webpack:///./src/components/now-email-client-viewer-connected/schemas/datasources.js","webpack:///./src/commons/schemas/datasources.js","webpack:///./src/commons/EmailAttachments/schemas/restQueries.js","webpack:///./src/commons/EmailAttachments/utils.js","webpack:///./src/commons/EmailAttachments/schemas/datasources.js","webpack:///./src/commons/EmailAttachments/AttachmentErrors/AttachmentErrorMap.js","webpack:///./src/commons/EmailAttachments/AttachmentErrors/AttachmentErrorHandler.js","webpack:///./src/commons/EmailAttachments/Attachments/actionhandlers.js","webpack:///./src/components/now-email-client-viewer-connected/dataModel.js","webpack:///./src/components/now-email-client-viewer-connected/EmailDetails/actionHandlers.js","webpack:///./src/components/sn-email-client-internal-header/constants.js","webpack:///./src/commons/EmailAttachments/AttachmentPreview/actionHandlers.js","webpack:///./src/commons/workspaceActionMap.js","webpack:///./src/components/now-email-client-viewer-connected/actionHandlers.js","webpack:///./src/components/sn-email-client-internal-header/actionHandlers.js","webpack:///./src/components/sn-email-client-internal-header/index.js","webpack:///./src/components/sn-email-client-internal-header/view.js","webpack:///./src/components/now-email-client-viewer-connected/EmailDetails/EmailDetails.js","webpack:///./src/components/now-email-client-viewer-connected/EmailBody/EmailBody.js","webpack:///./src/commons/EmailAttachments/AttachmentCards/AttachmentCards.js","webpack:///./src/components/now-email-client-viewer-connected/utils.js","webpack:///./src/commons/EmailAttachments/AttachmentPreview/AttachmentPreview.js","webpack:///./src/components/now-email-client-viewer-connected/index.js","webpack:///./src/components/now-email-client-viewer-connected/view.js","webpack:///./src/components/now-email-client-mini-composer-connected/constants.js","webpack:///./src/components/now-email-client-composer-details/constants.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/actionHandlers.js","webpack:///./src/commons/keyUtils.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/dropdownList/view.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/dropdownList/util.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/dropdownList/behaviors.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/dropdownList/dropdownList.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/utils.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/view.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/typeahead.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/typeahead/initialState.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/emailRecipientPicker.js","webpack:///./src/components/now-email-client-composer-details/EmailEditor/tinymceInit.js","webpack:///./src/components/now-email-client-composer-details/EmailEditor/utils.js","webpack:///./src/components/now-email-client-composer-details/DragDrop/DragDrop.js","webpack:///./src/components/now-email-client-composer-details/EmailEditor/EmailEditor.js","webpack:///./src/components/now-email-client-composer-details/EmailEditor/eventHandlers.js","webpack:///./src/commons/EmailAttachments/Attachments/Attachments.js","webpack:///./src/commons/EmailAttachments/AttachmentsAdd/AddAttachments.js","webpack:///./src/commons/EmailAttachments/AttachmentsBrowse/AttachmentsBrowse.js","webpack:///./src/components/now-email-client-composer-details/view.js","webpack:///./src/components/now-email-client-composer-details/EmailHeader/utils.js","webpack:///./src/components/now-email-client-composer-details/EmailHeader/actionHandlers.js","webpack:///./src/components/now-email-client-composer-details/schemas/datasources.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/utils.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/actionHandlers.js","webpack:///./src/components/now-email-client-composer-details/EmailEditor/actionHandlers.js","webpack:///./src/components/now-email-client-composer-details/EmailFrom/actionHandlers.js","webpack:///./src/components/now-email-client-composer-details/EmailSubject/actionHandlers.js","webpack:///./src/commons/User.js","webpack:///./src/components/now-email-client-composer-details/actionHandlers.js","webpack:///./src/commons/EmailAttachments/Attachments/initialState.js","webpack:///./src/components/now-email-client-composer-details/initialState.js","webpack:///./src/components/now-email-client-composer-details/EmailFrom/initialState.js","webpack:///./src/components/now-email-client-composer-details/EmailReplyTo/initialState.js","webpack:///./src/components/now-email-client-composer-details/RecipientPicker/initialState.js","webpack:///./src/components/now-email-client-composer-details/EmailSubject/initialState.js","webpack:///./src/components/now-email-client-composer-details/EmailEditor/initialState.js","webpack:///./src/components/now-email-client-composer-details/index.js","webpack:///./src/components/now-email-client-composer-details/EmailFrom/EmailFrom.js","webpack:///./src/components/now-email-client-composer-details/EmailReplyTo/EmailReplyTo.js","webpack:///./src/components/now-email-client-composer-details/EmailSubject/EmailSubject.js","webpack:///./src/components/now-email-client-mini-composer-connected/view.js","webpack:///./src/commons/utils/compositeInitialState.js","webpack:///./src/commons/utils/compositeActionHandlers.js","webpack:///./src/components/now-email-client-mini-composer-connected/actionHandlers.js","webpack:///./src/components/now-email-client-mini-composer-connected/index.js","webpack:///./src/components/now-email-client-composer-connected/constants.js","webpack:///./src/components/now-email-client-composer-connected/sidebarDependencymanager.js","webpack:///./src/components/now-email-client-composer-connected/utils.js","webpack:///./src/components/now-email-client-quick-messages/constants.js","webpack:///./src/components/now-email-client-quick-messages/utils.js","webpack:///./src/components/now-email-client-quick-messages/ListView/utils.js","webpack:///./src/components/now-email-client-quick-messages/ListView/listView.js","webpack:///./src/components/now-email-client-quick-messages/ListView/view.js","webpack:///./src/components/now-email-client-quick-messages/DetailView/utils.js","webpack:///./src/components/now-email-client-quick-messages/DetailView/view.js","webpack:///./src/components/now-email-client-quick-messages/DetailView/detailView.js","webpack:///./src/components/now-email-client-quick-messages/view.js","webpack:///./src/components/now-email-client-quick-messages/actionHandlers.js","webpack:///./src/components/now-email-client-quick-messages/index.js","webpack:///./src/components/now-email-client-quick-messages/initialState.js","webpack:///./src/components/sn-email-client-internal-quick-message-wrapper/view.js","webpack:///./src/components/sn-email-client-internal-quick-message-wrapper/constants.js","webpack:///./src/components/sn-email-client-internal-quick-message-wrapper/schemas/datasources.js","webpack:///./src/components/sn-email-client-internal-quick-message-wrapper/actionHandlers.js","webpack:///./src/components/sn-email-client-internal-quick-message-wrapper/index.js","webpack:///./src/components/now-email-client-composer-connected/view.js","webpack:///./src/components/now-email-client-composer-connected/initialState.js","webpack:///./src/components/now-email-client-composer-connected/actionHandlers.js","webpack:///./src/components/now-email-client-composer-connected/index.js","webpack:///./src/components/sn-email-client-wrapper/constants.js","webpack:///./src/components/sn-email-client-wrapper/index.js","webpack:///./src/components/sn-email-client-wrapper/view.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","obj","configurable","writable","__TECTONIC__sn_translate","__TECTONIC__lodash_4_17_4","__TECTONIC__$servicenow_ui_core","__TECTONIC__$servicenow_ui_effect_graphql","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","__TECTONIC__sn_uxpage_presource_18_0_5","arrayWithoutHoles","require","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","__TECTONIC__$servicenow_now_button","__TECTONIC__$servicenow_ui_effect_http","__TECTONIC__$servicenow_now_icon","__TECTONIC__$servicenow_now_alert","_typeof","iterator","constructor","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","protoProps","staticProps","__TECTONIC__$devsnc_library_uxf","__TECTONIC__$servicenow_now_dropdown","__TECTONIC__$servicenow_now_record_common","len","arr2","Array","__TECTONIC__$servicenow_now_heading","__TECTONIC__$servicenow_now_pill","__TECTONIC__$servicenow_now_loader","__TECTONIC__$servicenow_now_modal","url","options","test","slice","hash","needQuotes","replace","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","self","args","arguments","apply","err","undefined","result","__TECTONIC__$servicenow_library_enhanced_utils_19_0_8","arrayLikeToArray","isArray","iter","from","minLen","__TECTONIC__regenerator_runtime_0_13_5","___CSS_LOADER_API_IMPORT___","__TECTONIC__$servicenow_now_avatar","__TECTONIC__$servicenow_now_highlighted_value","__TECTONIC__$servicenow_now_checkbox","__TECTONIC__$servicenow_now_popover","__TECTONIC__$servicenow_now_tooltip","__TECTONIC__$servicenow_now_record_html_editor","__TECTONIC__sn_tinymce_18_0_16","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","__TECTONIC__$servicenow_now_card","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_REPLACEMENT_1___","ATTACHMENT_CONSTANTS","freeze","BROWSE_FROM_COMPUTER","BROWSE_FROM_RECORD","ATTACHMENT_BROWSE_OPTIONS","label","ATTACHMENT_BROWSE_ACTION_CLICKED","GET_ATTACHMENTS_FROM_RECORD","GET_ATTACHMENTS_FROM_RECORD_SUCCEEDED","GET_ATTACHMENTS_FROM_RECORD_FAILED","EMAIL_ATTACHMENT_READ_QUERY","EMAIL_ATTACHMENT_FILE_ADD_UPDATE","EMAIL_ATTACHMENT_STATE_UPDATE","ATTACHMENT_TEMPLATE_ACTION_CLICKED","ATTACHMENT_RENAME_ACTION_PRESSED","ATTACHMENT_CANCEL_ACTION_PRESSED","ATTACHMENT_SHARE_ACTION_PRESSED","ATTACHMENT_DELETE_ACTION_PRESSED","EMAIL_ATTACHMENT_READ_QUERY_SUCCESS","EMAIL_ATTACHMENT_READ_QUERY_FAILED","ATTACHMENT_MODAL_ITEM_ACTION_CLICKED","BROWSE_BUTTON_CLICKED","BROWSE_MODAL_ACTION_CLICKED","ATTACH_FILES_FROM_RECORD","ATTACH_FILES_FROM_RECORD_SUCCESS","ATTACH_FILES_FROM_RECORD_FAIL","ATTACH_FILES","FILES_UPLOADED","FILES_UPLOAD_SUCCEEDED","FILES_UPLOAD_FAILED","FILE_DELETED","FILE_DELETE_SUCCEEDED","FILE_DELETE_FAILED","ATTACHMENT_MODAL_CARD_CHECKED","FILE_RENAMED","FILE_RENAME_SUCCEEDED","FILE_RENAME_FAILED","FILE_NAME_CHAR_LIMIT","ATTACHMENT_CONTENT_DISPOSITION","attachment","inline","ATTACHMENT_STATES","UPLOADING","PENDING","NOT_AVAILABLE","ATTACHMENT_POSITION","LAYOUT","MODAL","MAX_ATTACHMENT_COUNT","getProperty","MAX_ATTACHMENT_SIZE","MAX_TOTAL_ATTACHMENTS_SIZE","ATTACHMENT_QUERY_CONSTANTS","SYS_EMAIL","SYSPARAM_TABLE","SYSPARAM_SYS_ID","SYSPARAM_NOSTACK","ATTACHMENTS_MODIFIED","ENCRYPTION_CONTEXT","FILE","DRAFT_ID","CONTENT_DISPOSITION","ATTACHMENT_CARDS_STATUS","COLLALPSED","EXPANDED","NORMAL","ATTACHMENT_CARD_ACTIONS","ATTACHMENT_DOWNLOAD_ACTION","ATTACHMENT_DELETE_ACTION","ATTACHMENT_UPDATE_ACTION","ATTACHMENT_NOTIFICATION_ACTION","ATTACHMENT_PREVIEW_CONSTANTS","ATTACHMENT_PREVIEW_LOAD","DOC_VIEWER_CLOSE_DELETE_ACTION_CLICKED","DOC_VIEWER_STATES","ABSENT","LOADING","READY","DISABLED","FAILED","ATTACHMENT_PREVIEW_ERROR_MAP","Map","attachmentToPreview","docViewerState","emailDataObject","showDetails","hasMore","hasLess","cardsStatus","meta","root","host","alertList","docViewerEnabled","previewIntialState","NOW_ACTIONS","NOW_DROPDOWN_ITEM_CLICKED","NOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED","NOW_PILL_DISMISSED","NOW_BUTTON_CLICKED","NOW_BUTTON_BARE_CLICKED","NOW_BUTTON_ICONIC_CLICKED","NOW_TEMPLATE_CARD_ATTACHMENT_ACTION_CLICKED","NOW_MODAL_FOOTER_ACTION_CLICKED","NOW_MODAL_OPENED_SET","NOW_CARD_CLICKED","NOW_BUTTON_STATEFUL_SELECTED_SET","NOW_INPUT_VALUE_SET","NOW_INPUT_INVALID_SET","ADD_TO_ALERT_LIST","NOW_ALERT_LIST_UPDATED","NOW_CHECKBOX_CHECKED_SET","ALERT_CONSTANTS","STATUS","CRITICAL","HIGH","MODERATE","WARNING","INFO","POSITIVE","LOW","ICONS","HEADER","ACTION","TYPES","DISMISS","ACKNOWLEDGE","OPEN","COMPOSITE_ACTIONS","EMAIL_RECORD_INITIALISED","EMAIL_DRAFT_FIELD_MODIFIED","EMAIL_DRAFT_RECORD_SEND_SUCESS","EMAIL_DRAFT_RECORD_SEND_FAILED","EMAIL_DRAFT_RECORD_SEND_CANCELED","EMAIL_DRAFT_RECORD_SAVE_SUCESS","EMAIL_DRAFT_RECORD_SAVE_FAILED","EMAIL_DRAFT_RECORD_SAVE_CANCELED","LOAD_DOCUMENT_VIEWER","EMAIL_DRAFT_INITIALISED","EMAIL_DRAFT_MODIFIED","EMAIL_SUCCESSFULLY_SAVED","EMAIL_SUCCESSFULLY_SEND","EMAIL_SEND_FAILED","EMAIL_SAVE_FAILED","EMAIL_SHOW_HIDE_BUTTON_CLICKED","EMAIL_DRAFT_REINITIALISE_TRIGGERED","EMAIL_TABLES","SENT_EMAIL","DRAFT_EMAIL","EMAIL_DRAFT_TYPES","NEW_DRAFT","NEW_RESPONSE_DRAFT","EXISTING_DRAFT","SEND_ERROR_MAP","EMAIL_VIEWER_CONSTANTS","EMAIL_RECORD_FETCHED","EMAIL_RECORD_FETCHED_SUCCESS","EMAIL_RECORD_FETCHED_FAILURE","RETRIEVE_TO_INFORMATION","RETRIEVE_TO_INFORMATION_SUCCESS","RETRIEVE_TO_INFORMATION_FAILURE","RETRIEVE_CC_INFORMATION","RETRIEVE_CC_INFORMATION_SUCCESS","RETRIEVE_CC_INFORMATION_FAILURE","RETRIEVE_BCC_INFORMATION","RETRIEVE_BCC_INFORMATION_SUCCESS","RETRIEVE_BCC_INFORMATION_FAILURE","EMAIL_CREATE_RESPONSE_DRAFT","EMAIL_CREATE_RESPONSE_DRAFT_SUCCESS","EMAIL_CREATE_RESPONSE_DRAFT_FAILED","SHOW_DETAILS_BUTTON_PRESSED","PREVIEW_RECORD","VALID_SENT_EMAIL_TYPES","IMPORTANCE_MAP","high","HEADER_ACTION_BUTTONS","REPLY_BUTTON","type","variant","REPLY_ALL_BUTTON","FORWARD_BUTTON","DOC_VIEWER_CONSTANTS","FETCH_DOC_VIEWER_FLAG","FETCH_DOC_VIEWER_FLAG_SUCCESS","FETCH_DOC_VIEWER_FLAG_FAILURE","DOC_VIEWER_FLAG_QUERY","EMAIL_CLIENT_RETRIEVE_SENT_EMAIL","RETRIEVE_RECIPIENT_INFORMATION","EMAIL_VIEWER_QUERIES","EMAIL_CLIENT_CREATE_RESPONSE_DRAFT","COMMON_EMAIL_MUTATIONS","UPLOAD_FILE","method","batch","headers","window","g_ck","dataParam","UPLOAD_INLINE_IMAGE","DELETE_INLINE_IMAGE","pathParams","handleExpandCollapse","cardsEl","updateState","WIDTH_OF_CONTAINER","clientWidth","childElementCount","isOverflow","collapseCards","expandCards","normalCards","ATTACHMENTS_QUERY","RECORD_ATTACHMENT_QUERY","ATTACHMENT_MUTATIONS","EMAIL_CLIENT_DELETE_ATTACHMENT","EMAIL_CLIENT_RENAME_ATTACHMENT","UPLOAD_ATTACHMENT_FROM_TARGET_RECORD","ErrorMap","ATTACHMENT_BROWSE_FAIL","ATTACHMENT_NOT_FOUND","ATTACHMENT_RENAME_FAILED","fromName","toName","ATTACHMENT_DELETE_NETWORK_ERROR","ATTACHMENT_DELETE_FAILED","sysId","ATTACHMENT_ADD_FROM_RECORD_FAIL","ATTACHMENT_UPLOAD_ERROR","ATTACHMENTS_ALREADY_EXISTS","ATTACHMENT_UPLOAD_INVALID_FILE_ERROR","ATTACHMENT_UPLOAD_NETWORK_ERROR","ATTACHMENT_UPLOAD_FOLDER_ERROR","ATTACHMENT_UPLOAD_SIZE_ERROR","sizeLimit","ATTACHMENT_NAME_CHAR_LIMIT_ERROR","limit","DEFAULT_ERROR","Date","now","status","icon","action","ATTACHMENTS_LIMIT","ERROR_REASONS","showAlert","dispatch","ctx","defaultAlert","alert","header","alerts","getTruncatedFileName","fileName","includes","words","split","extention","pop","relativeLimit","substring","uploadFiles","createHttpEffect","resources","successActionType","errorActionType","onComponentRender","payload","state","shadowRoot","querySelector","addEventListener","findDraftAttachmentIdFromSysId","attachmentList","find","deleteFile","createGraphQLEffect","variableList","renameFile","onDeleteFileFail","formData","failedFile","getAll","getAttachmentsFromRecord","uploadFilesFromRecord","effect","stopPropagation","nowAction","targetRecord","table","fileInputRef","focus","click","config","errors","attachments","openBrowseModal","actionId","emailRecord","selectedIds","filter","selected","partitions","partition","att","duplicates","tobeUploaded","draftId","attachmentIds","uploaded","forEach","message","attachmentId","files","FormData","append","path","file","uploading","size","isSystemFile","operation","failed","findIndex","f","reason","description","has","limitError","sizeLimitError","invaliFileTypeError","defaultUploadError","failedFiles","nwError","serverError","attachmentEditing","originalName","renameTo","names","actionTypes","COMPONENT_RENDERED","link","setAttribute","attachmentToDelete","sys_id","file_name","attachmentToRename","attachmentSelected","updatedAttachments","notifications","EmailViewerDataModel","to","cc","bcc","subject","userInfo","createdOn","important","body","targetTable","toObject","ccObject","bccObject","actionObject","body_text","sys_created_on","importance","user_id","target_table","_reference","fullName","avatarPath","avatar","displayValue","toLowerCase","attachmentContent","content_disposition","attachmentObject","contentDisposition","size_bytes","content_type","attachmentArray","setAttachmentValues","HEADER_BUTTON_ACTIONS","HEADER_ACTION_BUTTON_CLICKED","loadComponent","componentTag","a","getComponentsByTagNames","loadDocViewer","customElements","whenDefined","dispatchClassicAndUibActions","componentHost","actionName","modifiedNodeName","nodeName","handleNowActions","dispatchedEvent","getEmailFromQueryCondition","query","handleEmailRecordFetch","handleFetchToInfo","handleRecipientFetchFailure","console","warn","handleFetchCcInfo","handleFetchBccInfo","fetchDocViewerFlag","createEmailResponseDraft","detailActionHandlers","previewActionHandlers","COMPONENT_BOOTSTRAPPED","emailRecordId","properties","queryConditions","sentEmailId","queryCondition","COMPONENT_ERROR_THROWN","coeffect","log","EmailDataObject","EMAIL_QUERY_PATH","GlideRecord_Query","sys_email","_results","ATTACHMENT_QUERY_PATH","sys_email_attachment","setValues","setAttachments","direct","copied","blind_copied","getRecipientInformation","getEmailDocViewerFlag","QUERY_PATH","sys_user","newStateObject","setRecipientTo","email","variables","emailAddress","setRecipientCc","setRecipientBcc","actionType","responseType","GlideEmail_Mutation","createResponseDraft","getValues","isDocViewerEnabled","GlideEmail_Query","getEmailTargetTableDocViewerFlag","isEnabled","headerType","createCustomElement","renderer","snabbdom","view","headingValue","headerButtons","padding","className","level","has-no-margin","wont-wrap","tooltip-content","append-to-payload","default","styles","actionHandlers","dispatches","convertRecipientsIntoPills","recipients","dataState","manage-selected","document","createElement","fragment","innerHTML","createElementFromNode","convertStringToHtml","getAttachmentItem","currentUser","canEdit","canDelete","canEditName","userId","userName","getAttachmentCard","position","checked","manage-checked","config-aria","can-create","max-file-name-length","display-upload-progress-bar","createAttachmentCards","scroll","on-click","href","download","cardsConfig","selection","checkEmailTypeAndSentActions","aria-live","sys-id","delete-hidden","NowEmailClientViewer","attachmentTileCount","getAttachmentTileCount","hasAlertList","isEmpty","docViewerLoaderClassName","role","PreviewAttachment","imgSrc","user-name","image-src","aria-label","color","show-icon","htmlFor","EmailDetails","createAttachmentTiles","EmailBody","items","manage-items","initialState","EMAIL_MINI_COMPOSER_ACTIONS","EMAIL_DRAFT_SEND_SUCCESS","EMAIL_DRAFT_SAVE_SUCCESS","EMAIL_CLIENT_POP_OUT_BUTTON_CLICKED","EMAIL_CLIENT_POP_OUT_SUCCEEDED","ATTACHMENTS_ADDED","SEND_BUTTON","SAVE_BUTTON","EMAIL_DRAFT_CONSTANTS","EMAIL_CONFIG_REQUESTED","EMAIL_CONFIG_FETCH_SUCCEEDED","EMAIL_CONFIG_FETCH_FAILED","EMAIL_CREATE_DRAFT_FROM_RECORD","DRAFT_RECORD_CREATION_SUCCESS","DRAFT_RECORD_CREATION_FAILED","RETRIEVE_EMAIL_BY_ID","RETRIEVE_EMAIL_BY_ID_SUCCESS","RETRIEVE_EMAIL_BY_ID_FAILURE","EMAIL_CLIENT_MODAL_CONFIRMATION_BUTTON_CLICKED","EMAIL_RENDERING_STATUS","SENDING","SAVING","NONE","isDragDropEnabled","EDITOR_CONSTANTS","ATTACH_INLINE_IMAGES","UPLOAD_INLINE_IMAGES","UPLOAD_INLINE_IMAGES_SUCCESS","UPLOAD_INLINE_IMAGES_FAIL","DELETE_INLINE_IMAGES","DELETE_INLINE_IMAGE_SUCCEESS","DELETE_INLINE_IMAGE_FAIL","UPLOAD_PROGRESS","FILE_DRAGOVER","EMAIL_EDITOR_MIN_LINE_COUNT","QUICK_MESSAGE_INSERT_CONTENT","EDITOR_VALUE_CHANGED","FROM_CONSTANTS","EMAIL_FROM_DROPDOWN_ACTION","SUBJECT_CONSTANTS","EMAIL_SUBJECT_CHANGED","EMAIL_IMPORTANT_FLAG_CHANGED","RECIPIENT_CONSTANTS","EMAIL_RECIPIENT_UPDATE_STATE","EMAIL_RECIPIENT_REMOVED","EMAIL_RECIPIENT_FETCH_STARTED","EMAIL_RECIPIENT_SEARCHED","EMAIL_RECIPIENT_FETCH_SUCCESS","EMAIL_RECIPIENT_FETCH_ERROR","EMAIL_RECIPIENT_VALIDATION_STARTED","EMAIL_RECIPIENT_VALIDATION_CHECK","EMAIL_RECIPIENT_VALIDATION_CHECK_SUCCES","EMAIL_RECIPIENT_VALIDATION_CHECK_ERROR","EMAIL_RECIPIENT_CC_BCC_COLLAPSE","EMAIL_RECIPIENT_RELATED_TARGET","EMAIL_RECIPIENT_SEARCH_MIN_CHAR","EMAIL_RECIPIENT_SEARCH_DELAY","RECIPIENT_INVALID_FLAGS","INVALID","BLACKLISTED","NOT_ALLOWED","RECIPIENT_INVALID_REASONS","EMAIL_RECIPIENT_DROPDOWN_CONSTRAINTS","minWidth","maxWidth","height","EMAIL_RECIPIENT_DROPDOWN_ITEM_SET_ACTIVE","EMAIL_RECIPIENT_DROPDOWN_ITEM_CLICKED","HEADER_CONSTANTS","EMAIL_HEADER_SEND_BUTTON_CLICKED","EMAIL_HEADER_SAVE_BUTTON_CLICKED","EMAIL_CLIENT_SEND_DRAFT","EMAIL_CLIENT_SEND_DRAFT_SUCCESS","EMAIL_CLIENT_SEND_DRAFT_FAILED","EMAIL_CLIENT_UPDATE_DRAFT","EMAIL_CLIENT_UPDATE_DRAFT_SUCCESS","EMAIL_CLIENT_UPDATE_DRAFT_FAILED","SEND_RESULT_STATES","SEND_SUCCESS","DRAFT_STATE_FAIL","ATTACHMENT_UNAVAILABLE","CONFIRMATION_MODAL_CONSTANTS","SEND","DONT_SEND","RECIPIENT_TYPES","TO","CC","BCC","FAILURE_MESSAGES","SEND_FAILURE","SAVE_FAILURE","COMPONENT_DOM_READY","COMPONENT_PROPERTY_CHANGED","activeItem","input","autofocus","setTimeout","opened","KEY_ESCAPE","code","KEY_SPACE","KEY_ENTER","KEY_LEFT_ARROW","KEY_RIGHT_ARROW","KEY_UP_ARROW","KEY_DOWN_ARROW","KEY_TAB","isKeyEvent","expectedKey","event","keyCode","onKeyEvent","callback","found","keyUtils","onEnter","onTab","persist","shiftKey","onShiftTab","onEscape","onSpace","onLeftArrow","onRightArrow","onUpArrow","onDownArrow","renderLabels","sublabel","additionalFields","reduce","prev","displayName","componentId","handleMouseHover","handleClick","e","preventDefault","handleMouseDown","screen-reader-behavior-id","active","isActive","aria-selected","on-mouseover","on-mousedown","getDynamicallyCreatedTarget","rootNode","containerId","existingNode","newNode","style","appendChild","behavior","screenReaderInjectInto","screenReaderId","updateProperties","selector","screenReaderView","isConnected","parentRoot","getRootNode","node","created","tagName","getRenderTarget","prevState","behaviors","remove","onStateChange","unmount","shouldRender","helpers","mutateNode","unset","idSuffix","newId","set","children","child","index","isScreenReaderBehaviorRender","updateViewForScreenReader","pillRef","convertRecipientsToPills","isValid","invalidReason","pillId","elmRef","createRef","genrateRef","ref","canDismiss","aria-describedby","itemIndex","target-ref","current","getItemByIndex","currentActiveInput","pillItems","availableItems","listId","optionPrefix","ariaActiveDescendant","handleEnter","chars","trim","addPill","resetInputValue","handleBackspace","charsLen","removeRecipient","selectionEnd","selectionStart","recipientSearchResults","setNextActive","delta","nextItem","lastActiveIndex","Math","min","max","getNextItem","activeDescendant","addActiveDescendant","handleClickOnRecipientBox","currentTarget","hide-tail","constrain","pick","manage-opened","interaction-type","slot","aria-expanded","String","aria-haspopup","aria-owns","aria-controls","on-focus","aria-autocomplete","aria-activedescendant","on-input","trimStart","qs","startSearch","on-keydown","on-keyup","on-blur","closest","resetInputBoxScroll","relatedTarget","collapseInput","screen-reader-id","cast","schema","recipients_to","showCcBcc","recipients_cc","recipients_bcc","tinymce","baseURL","deleteImgs","imgs","ed","isExtracted","img","hasImgDuplicates","targetElm","sysIds","dataset","src","dispatchEvent","CustomEvent","detail","getBody","imgCopies","querySelectorAll","imgCopyThreshold","on","editor","container","tinymceStyles","insertBefore","indexOf","getNode","isCollapsed","rng","getRng","cloneRange","extractContents","uniqBy","deleteSelectedImgs","editorToolbar","createDropOverlay","onDrop","onDragLeaveState","on-drop","on-dragenter","classList","add","on-dragleave","showEditorDropOverlay","browseTypePannelopened","createEditorDropOverlay","dataTransfer","fileGroups","groupBy","imgFiles","images","nonImgFiles","others","imgNodes","imgNode","setNode","dom","events","cancel","tinyMCE","activeEditor","plugins","toolbar","editorValue","language","minLineCount","placeholder","referringTable","referringRecordId","powerPasteHtmlImport","on-file-drop","on-image-drop","on-image-delete","on-dragover","browseOptions","multiple","on-change","hook-insert","elm","hook-destroy","select","icon-start","createAddAttachmentAction","count","getSelectedAttachmentCount","modalActions","disabled","footer-actions","header-label","browseAttachments","displayInvalidReason","recipient","validateRecipients","consolidateRecipients","recipientSource","recipientSourceTable","validateAttachments","isUploading","some","isAttachmentUploading","dispatchRecipientAlerts","toOptional","checkRecipientToMandatory","isAttachmentsUploading","isRecipientToValid","isRecipientCcValid","isRecipientBccValid","subjectValue","showConfirmationModel","draftRecord","author","replyTo","replyToValue","fromValue","contentType","RETRIEVE_CURRENT_USER","EMAIL_CLIENT_CONFIG_QUERY","EMAIL_CLIENT_RETRIEVE_DRAFT_RECORD","EMAIL_CLIENT_RECIPIENT_QUERY","EMAIL_CLIENT_ADDRESS_VALIDATION","EMAIL_CLIENT_CREATE_DRAFT_FROM_RECORD","EMAIL_CLIENT_SEND_DRAFT_RECORD","EMAIL_CLIENT_UPDATE_DRAFT_RECORD","EMAIL_QUERIES","EMAIL_MUTATIONS","containsOnlyChars","validChars","sText","charAt","isAlphaNum","thchar","isAlpha","isDigit","recipientDataState","debounceFn","debounce","fetchRecipients","validateEmailAddress","searchRecipients","substr","periodIndex","periods","validateEmail","cancelSearch","dataStates","setRecipientDataState","emailAddressFilterIds","emailAddressFilters","validateAddress","emailId","searchString","newRecipientList","uploadInlineImage","progressActionType","deleteInlineImage","execCommand","total","progressEvent","uploadPercent","loaded","showAttachmentDropOverlay","isInsert","insertContent","setContent","defaultLanguage","User","user","lang","_language","templateRecipients","handleRecordInitialisationAction","draftRecordId","responseObj","replyType","replyId","draft_type","recordId","draftType","initialStateUpdate","queryPath","responseObjModified","assign","attachmentTileList","fromChoices","forOwn","updateTemplateRecipients","emailConfigGraphQLRequest","createEmailDraftRecord","retrieveDraftById","handleSendDraftRequest","mapResultToAlert","handleUpdateDraftRequest","headerActionHandlers","recipientActionHandlers","editorActionHandlers","attachmentActionHandlers","fromActionHandlers","subjectActionHandlers","dirtyFields","previousValue","isEqual","GlideDomain_Query","getConfiguration","displayFrom","displayReplyTo","recipientQualifiers","configFetched","selectedCards","collapseRecipients","AttachmentState","showEmailDetails","tabComposerDetails","fullScreenClass","contains","on-scroll","bare","selected-items","panel-fit-props","tab-index","aria-roledescription","EmailFrom","EmailReplyTo","EmailRecipientPicker","importantAriaLabel","maxlength","config-role","EmailSubject","EmailAttachments","createAttachmentDropOverlay","onDropHandler","EmailEditor","sendDraft","saveDraft","quickMessages","initiateSend","initiateSave","recordModified","popOutButtonClicked","recordUpdate","compositeActionHandlers","NowEmailClientMiniComposer","target-table","target-record","dirty-fields","draft-record-id","response-obj","send-draft","save-draft","show-email-details","checkComponentLoad","heading-value","header-buttons","compositeInitialState","EMAIL_COMPOSER","SIDEBAR_OPENED","SIDEBAR_COMPONENTS_UPDATED","RECORD_STATUS_CHANGED","FORM_UPDATE_HEADER","UPDATE_ONE_TAB","QUICK_MESSAGE_ELEMENT","order","actionAttributes","attributes","RESPONSE_TEMPLATE_ELEMENT","channel","DYNAMIC_LOAD_COMPONENTS","ELEMENT_TAGS","ELEMENT_TAG_STATE","setElementState","elementTag","currentState","isUndefined","getEmailClientSidebarActions","sidebarActions","element","actionElement","tooltip","actionComponent","QUICK_MESSAGE_CONSTANTS","ACTION_CLICKED","INSERT_BUTTON_CLICKED","NEXT_BUTTON_CLICKED","TITLE","SEARCH_MESSAGES","NO_MATCHING_RESULT","NO_QUICK_MESSAGES_YET","BACK_ARIA_MESSAGE","BACK_TOOL_TIP","INSERT","INSERT_ARIA_MESSAGE","PREVIOUS","NEXT","MAX_CHAR_IN_CARD_HEADER_LINE","UPDATE_ITEM_STATE","QUICK_MESSAGE_INSERT","convertMarkup","isTruncate","nodes","innerText","focusFirstChild","focusableNodes","findTabbableNodes","getCardList","messages","selectedItem","title","lines","screenReaderLabel","interaction","hookInsert","detailView","heading","actions","clickActionType","filteredItems","RegExp","searchedItems","getCards","backgroundImageClass","cardItems","tabindex","handleInput","manageable","headerRef","bodyRef","scrollTop","hide-padding","toggle","configAria","NowEmailClientQuickMessages","activeItems","QUICK_MESSAGE_WRAPPER_CONSTANTS","RETRIEVE_QUICK_MESSAGES","RETRIEVE_QUICK_MESSAGES_SUCCESS","RETRIEVE_QUICK_MESSAGES_FAILED","EMAIL_CLIENT_QUICK_MESSAGE_QUERY","retrieveQuickMessages","sidebarWidth","getQuickMessages","active-items","previewInitialState","sideBarActions","sidebarExpanded","TAB_DISPLAY_VALUE_MAP","component","loadDynamicSidebarComponents","recordDisplayValue","tabId","tab_id","NowEmailClientComposer","sideBarClassName","quick-messages","tab-composer-details","classic-form","SnEmailClientWrapper","params","isString","parse","parentTable","parentSysId","reply-type","reply-id","tab-id","email-record-id"],"mappings":"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","file":"@servicenow/now-email-client/now-email-client.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 44);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__lodash_4_17_4;","module.exports = __TECTONIC__$servicenow_ui_core;","module.exports = __TECTONIC__$servicenow_ui_effect_graphql;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","module.exports = __TECTONIC__sn_uxpage_presource_18_0_5;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = __TECTONIC__lodash_4_17_4[\"unset\"];","module.exports = __TECTONIC__$servicenow_now_button;","module.exports = __TECTONIC__lodash_4_17_4[\"isEmpty\"];","module.exports = __TECTONIC__$servicenow_ui_effect_http;","module.exports = __TECTONIC__$servicenow_now_icon;","module.exports = __TECTONIC__$servicenow_now_alert;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","module.exports = __TECTONIC__$devsnc_library_uxf;","module.exports = __TECTONIC__$servicenow_now_dropdown;","module.exports = __TECTONIC__$servicenow_now_record_common;","module.exports = require(\"regenerator-runtime\");\n","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","module.exports = __TECTONIC__lodash_4_17_4[\"set\"];","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","module.exports = __TECTONIC__$servicenow_now_heading;","module.exports = __TECTONIC__$servicenow_now_pill;","module.exports = __TECTONIC__$servicenow_now_loader;","module.exports = __TECTONIC__$servicenow_now_modal;","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./tinymce.css\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","module.exports = __TECTONIC__$servicenow_library_enhanced_utils_19_0_8;","\n        var result = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\n        var result = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../node_modules/resolve-url-loader/index.js??ref--5-3!../../../node_modules/sass-loader/dist/cjs.js??ref--5-4!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","module.exports = __TECTONIC__regenerator_runtime_0_13_5;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.ec-header{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;margin-left:1.5rem}.ec-header-title{overflow:hidden;min-height:2rem}.ec-header-secondary-items{display:flex;flex-flow:row nowrap;align-items:flex-end}.ec-header-secondary-item{margin-left:.5rem}.ec-header-padding-large{margin-top:1.5rem;margin-bottom:1.5rem}.ec-header-padding-small{margin-top:.5rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __TECTONIC__$servicenow_now_avatar;","module.exports = __TECTONIC__$servicenow_now_highlighted_value;","module.exports = __TECTONIC__$servicenow_now_checkbox;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.ec-viewer{margin-bottom:0;height:100%;overflow-y:auto}.ec-loader{position:absolute;top:50%;left:50%}.ec-loader-container{display:inline-block;margin-left:-50%}.ec-hidden{display:none}.ec-divider{width:100%;margin:0;border-width:0;border-top:.0625rem solid rgb(var(--now-color_divider--primary,var(--now-color--neutral-7,135,147,148)))}.header-no-left-pad{margin-left:0!important}.ec-viewer-attachments{margin-left:1.5rem;margin-bottom:1rem}.ec-viewer-attachments-label{font-size:1rem;color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)));margin-bottom:.25rem}.ec-attachments-cards{display:flex;flex-flow:row wrap;max-height:7.0625rem;margin-right:.5rem;margin-left:-.5rem;margin-bottom:.5rem;padding-bottom:.0625rem}.ec-attachments-cards.collapsed,.ec-attachments-cards.normal{max-height:7.0625rem}.ec-attachments-cards.expanded{max-height:none}.ec-attachments-cards.attachment-block{overflow:hidden}.ec-alerts-container{position:absolute;width:calc(40% + 2rem);margin:0 auto;top:0;left:0;right:0}.ec-attachment-card{width:13.5rem;margin-top:.5rem;margin-left:.5rem}.doc-viewer-loading{opacity:.2;pointer-events:none;user-select:none}.ec-details{margin-top:1rem;margin-bottom:.75rem;margin-left:1.5rem}.ec-details-user{display:flex;flex-flow:row nowrap;margin-bottom:.75rem}.ec-details-user-avatar{margin-right:.5rem}.ec-details-user-more{display:flex;flex-flow:column nowrap}.ec-details-user-more-date-important{display:flex;flex-flow:row nowrap;align-items:baseline}.ec-details-recipients{display:flex;flex-flow:column nowrap}.ec-details-recipients-components{display:flex;flex-flow:row nowrap;align-items:center}.ec-viewer-recipients{padding-right:.25rem;padding-top:.25rem}.ec-details-username{font-size:1rem;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.ec-viewer-details-label{font-size:1rem;color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)));margin-right:.5rem;align-self:center;min-width:1.875rem;max-width:12.5rem}.ec-viewer-details-list{display:flex;flex-flow:row wrap}.margin-bottom{margin-bottom:.25rem}.ec-details-date{margin-right:.25rem;font-size:.75rem;color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.to-collapsed{overflow:hidden;max-height:1.875rem}.ec-viewer-to-more{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:center}.ec-recipient-more{font-size:1rem;color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.ec-body-container{margin-left:1.5rem;margin-top:1.25rem;margin-bottom:1.25rem;font-size:1rem;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.email-client-attachment-preview-overlay{background:RGBA(var(--now-color--secondary-0,217,235,238),.85);height:100%;position:absolute;width:100%;padding:1.5rem;z-index:4020}.loader-container{display:inline-block;margin-left:-50%}.doc-viewer-loader{top:50%;left:50%;position:absolute}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __TECTONIC__$servicenow_now_popover;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.ec-dropdown-list{display:flex;flex-direction:column;height:inherit;max-height:inherit;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255)));outline:none}.ec-dropdown-list-items{overflow:auto}.ec-dropdown-list-item{display:flex;align-items:center;max-height:2.5rem;padding-inline-start:1rem;padding-inline-end:1.5rem;padding-top:.25rem;padding-bottom:.25rem;font-size:1rem}.ec-dropdown-list-item.active,.ec-dropdown-list-item:focus{background-color:RGBA(var(--now-color--secondary-0,217,235,238));outline:none}.ec-dropdown-list-item-labels{min-width:0;max-height:2rem}.ec-dropdown-list-item-sublabel{margin-top:.125rem;font-size:.75rem;line-height:1.33333;color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.ec-dropdown-list-item-truncate{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __TECTONIC__$servicenow_now_tooltip;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.ec-label-input-container{display:flex;flex-flow:column nowrap;align-items:flex-start;margin-bottom:.5rem}.ec-field-input{width:100%;height:1.5rem;border:none;box-shadow:none;font-size:1rem;font-family:inherit;background:none;outline:none;padding:0}.ec-field-label{font-size:.75rem;color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)));margin-bottom:.5rem}.ec-recipient-picker-autocomplete{display:flex;flex-grow:1;max-width:100%;max-height:1.5rem;margin:.125rem}.ec-recipient-picker-field{width:100%}.ec-recipient-picker-pill{margin:.125rem}.ec-recipient-picker-multiple{display:flex;flex-flow:row wrap;align-items:center;min-width:10.9375rem;max-height:5rem;padding:.125rem;box-shadow:0 .0625rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));background-color:transparent;overflow-y:auto}.ec-recipient-picker-multiple:hover{box-shadow:0 .125rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));background-color:RGB(var(--now-color_background--tertiary,var(--now-color--neutral-2,228,230,231)));cursor:text}.ec-recipient-picker-multiple:focus-within{box-shadow:0 .125rem 0 0 RGB(var(--now-color--secondary-1,1,119,142));background-color:RGB(var(--now-color--secondary-0,217,235,238));outline:none}.recipient-pill{max-width:25rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __TECTONIC__$servicenow_now_record_html_editor;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"div.sn-editor{margin:0;height:100%;width:calc(100% - 2px)}.sn-editor>.sn-control,.sn-editor>.sn-control>div,.sn-editor>.sn-control>div>slot>div,.sn-editor>.sn-control>div>slot>div>div,div.mce-container-body,div.mce-edit-area>iframe{height:100%}div.mce-edit-area{height:calc(100% - 34px)}div.mce-tinymce{height:calc(100% - 2px)}.sn-resizehandle{display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __TECTONIC__sn_tinymce_18_0_16;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"./icons/empty_state.svg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.ec-details-view{display:flex;height:100%}.ec-loader{top:50%;left:50%;position:absolute;z-index:1}.ec-loader-container{display:inline-block;margin-left:-50%}.ec-attachment-drop-container{position:relative}.ec-body{flex-grow:1;display:flex;flex-flow:column nowrap}.ec-body-noaction{opacity:.2;pointer-events:none;user-select:none}.ec-body-show-hide-fields{margin-top:.75rem;margin-bottom:.75rem;display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center}.ec-body-input-container{display:flex;flex-flow:column nowrap}.ec-body-attachments-container{margin-top:.25rem;margin-bottom:.75rem}.ec-field-label{font-size:.75rem;color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)));margin-bottom:.5rem}.ec-label-input-container{display:flex;flex-flow:column nowrap;align-items:flex-start;margin-bottom:.5rem}.ec-from-dropdown{width:100%;margin-top:.125rem}.ec-from-trigger{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;box-shadow:0 .0625rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));background-color:transparent;padding:.25rem;width:100%;height:1.5rem;border:none;font-size:1rem;font-family:inherit;outline:none}.ec-from-trigger:hover{box-shadow:0 .125rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));background-color:RGB(var(--now-color_background--tertiary,var(--now-color--neutral-2,228,230,231)));cursor:text}.ec-from-trigger:focus{box-shadow:0 .125rem 0 0 RGB(var(--now-color--secondary-1,1,119,142));background-color:RGB(var(--now-color--secondary-0,217,235,238));outline:none}.ec-reply-to-input{margin-top:.125rem;display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;box-shadow:0 .0625rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));background-color:transparent;padding:.25rem;overflow-y:auto;width:100%;height:1.5rem;border:none;font-size:1rem;font-family:inherit;outline:none}.ec-reply-to-input:hover{box-shadow:0 .125rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));background-color:RGB(var(--now-color_background--tertiary,var(--now-color--neutral-2,228,230,231)));cursor:text}.ec-reply-to-input:focus{box-shadow:0 .125rem 0 0 RGB(var(--now-color--secondary-1,1,119,142));background-color:RGB(var(--now-color--secondary-0,217,235,238));outline:none}.ec-add-files{width:100%}.ec-add-files .ec-add-file-label{font-size:.75rem;color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)));margin-right:.5rem}.ec-attachment-card{width:13.5rem;margin-top:.5rem;margin-left:.5rem}.ec-attachments-cards{display:flex;flex-flow:row;flex-wrap:wrap;margin-right:.5rem;margin-bottom:.5rem;margin-left:-.5rem;padding-bottom:.0625rem}.ec-attachments-cards.collapsed,.ec-attachments-cards.normal{max-height:7.75rem}.ec-attachments-cards.expanded{max-height:none}.ec-attachments-cards.attachment-block{overflow:hidden}.ec-attachments-cards.modal-list{display:flex;flex-flow:row wrap;justify-content:space-between;overflow:auto;max-height:14.0625rem;padding-left:.1875rem;padding-bottom:.1875rem}.ec-browse-files-modal-cards{margin-top:1rem;overflow:auto}.ec-cards-empty .ec-cards-empty-icon{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-repeat:no-repeat;height:8.75rem;width:8.75rem;margin:0 auto}.ec-cards-empty .ec-cards-empty-message{text-align:center;font-size:1rem;color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}input#ec-file-select{height:0;width:0;visibility:hidden}.ec-hidden{display:none}.ec-attachment-modal{display:flex;flex-flow:row nowrap;justify-content:space-evenly;align-items:center;margin-left:.5rem}.ec-attachment-modal-card{margin-top:.5rem;width:13.5rem}.ec-attachments-add-menu-container{display:flex}.ec-editor{overflow:hidden;height:100%;border-bottom:.0625rem solid rgb(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)))}.ec-body-container{position:relative;flex-basis:100%}.ec-body-container.mce-fullscreen{position:static}.ec-subject-important{margin-top:.25rem}.ec-subject-important-container{display:flex;flex-flow:row nowrap;width:100%;margin-top:.125rem;align-items:baseline}.ec-filled-input{display:flex;flex-flow:row wrap;align-items:center;box-shadow:0 .0625rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));background-color:transparent;padding:.25rem;margin-right:.5rem;overflow-y:auto;width:100%;height:1.5rem;border:none;font-size:1rem;font-family:inherit;outline:none}.ec-filled-input:hover{box-shadow:0 .125rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));background-color:RGB(var(--now-color_background--tertiary,var(--now-color--neutral-2,228,230,231)));cursor:text}.ec-filled-input:focus{box-shadow:0 .125rem 0 0 RGB(var(--now-color--secondary-1,1,119,142));background-color:RGB(var(--now-color--secondary-0,217,235,238));outline:none}.drag-drop-overlay{position:absolute;display:flex;top:0;width:100%;height:100%;z-index:4000;background-color:RGBA(var(--now-color--secondary-0,217,235,238));opacity:.65}.drag-drop-overlay .overlay-dashed-border{display:flex;flex:auto;align-items:center;margin:1.5rem;border:1px dashed rgb(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)))}.drag-drop-overlay .overlay-content{display:flex;flex-flow:column;margin:0 auto;text-align:center}.drag-drop-overlay .overlay-content .overlay-content-body,.drag-drop-overlay .overlay-content .overlay-content-header,.drag-drop-overlay .overlay-content .overlay-content-icon{padding-bottom:1.5rem}.drag-drop-overlay .overlay-content .overlay-content-body,.drag-drop-overlay .overlay-content .overlay-content-header{font-size:1rem;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.drag-drop-overlay .overlay-content .overlay-content-header{font-weight:600}.drag-drop-overlay .overlay-content .overlay-content-icon{margin:0 auto}.disable-pointer-events *{pointer-events:none}.ec-recipient-picker{display:flex;flex-flow:column nowrap}.ec-recipient-picker-wrapper{display:flex;flex-flow:row nowrap;align-items:flex-end}.ec-recipient-picker-fields{flex-grow:1}.ec-recipient-picker-cc-bcc-button{margin-left:.5rem;margin-bottom:.4375rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDUgMTA2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNDUgMTA2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJFbXB0eS1TdGF0ZXMiPgoJPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ2MC4wMDAwMDAsIC0xMTcyLjAwMDAwMCkiPgoJCTxnIGlkPSJHcm91cC00NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzg1LjAwMDAwMCwgMTE3Mi4wMDAwMDApIj4KCQkJPGcgaWQ9InNuLWVzLW5vLXJlY29yZHMtdG8tZGlzcGxheSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMuMDAwMDAwLCAwLjAwMDAwMCkiPgoJCQkJPGcgaWQ9Imdsb2JhbC1zZWFyY2gtZW1wdHktc3RhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAzNS4wMDAwMDApIj4KCQkJCQk8ZyBpZD0iZW1wdHktc3RhdGUtaWNvbi01Ij4KCgkJCQkJCQk8ZyBpZD0iUGFnZS0xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNy41MDAwMDAsIDM2LjUwMDAwMCkgcm90YXRlKC0xOS4wMDAwMDApIHRyYW5zbGF0ZSgtMjcuNTAwMDAwLCAtMzYuNTAwMDAwKSB0cmFuc2xhdGUoNy4wMDAwMDAsIDE0LjAwMDAwMCkiPgoJCQkJCQkJPGcgaWQ9Ikdyb3VwLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAzOC4wMDAwMDApIj4KCQkJCQkJCQk8ZyBpZD0iQ2xpcC0yIj4KCQkJCQkJCQk8L2c+CgkJCQkJCQkJPGRlZnM+CgkJCQkJCQkJCTxmaWx0ZXIgaWQ9IkFkb2JlX09wYWNpdHlNYXNrRmlsdGVyIiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9Ii0wLjciIHk9IjEuMyIgd2lkdGg9IjQyLjciIGhlaWdodD0iNC4yIj4KCQkJCQkJCQkJCTxmZUNvbG9yTWF0cml4ICB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMSAwIDAgMCAwICAwIDEgMCAwIDAgIDAgMCAxIDAgMCAgMCAwIDAgMSAwIi8+CgkJCQkJCQkJCTwvZmlsdGVyPgoJCQkJCQkJCTwvZGVmcz4KCQkJCQkJCQk8bWFzayBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSItMC43IiB5PSIxLjMiIHdpZHRoPSI0Mi43IiBoZWlnaHQ9IjQuMiIgaWQ9Im1hc2stMl8xXyI+CgkJCQkJCQkJCTxwb2x5Z29uIGlkPSJwYXRoLTFfMV8iIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjRkZGRkZGIiBmaWx0ZXI9InVybCgjQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIpIiBwb2ludHM9IjAsNyA0MCw3IDQwLDAuNiAwLDAuNiAJCQkJCQkJCQkiLz4KCQkJCQkJCQk8L21hc2s+CgkJCQkJCQkJPHBhdGggaWQ9IkZpbGwtMSIgbWFzaz0idXJsKCNtYXNrLTJfMV8pIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0VDRjFGMCIgZD0iTTUsMC42Yy0xLjYsMC0yLjgsMC4zLTMuNywwLjlTMCwyLjksMCwzLjhjMCwwLjksMC40LDEuNiwxLjMsMi4yUzMuNCw3LDUsN2wzNSwwCgkJCQkJCQkJCWMtMC4zLTIuMS0wLjMtNC4yLDAtNi40TDUsMC42eiIvPgoJCQkJCQkJPC9nPgoJCQkJCQkJPGcgaWQ9Ikdyb3VwLTYiPgoJCQkJCQkJCTxnIGlkPSJDbGlwLTUiPgoJCQkJCQkJCTwvZz4KCQkJCQkJCQk8ZGVmcz4KCQkJCQkJCQkJPGZpbHRlciBpZD0iQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXJfMV8iIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iLTEwIiB5PSI0LjEiIHdpZHRoPSIyOC4xIiBoZWlnaHQ9IjI5LjQiPgoJCQkJCQkJCQkJPGZlQ29sb3JNYXRyaXggIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIxIDAgMCAwIDAgIDAgMSAwIDAgMCAgMCAwIDEgMCAwICAwIDAgMCAxIDAiLz4KCQkJCQkJCQkJPC9maWx0ZXI+CgkJCQkJCQkJPC9kZWZzPgoJCQkJCQkJCTxtYXNrIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9Ii0xMCIgeT0iNC4xIiB3aWR0aD0iMjguMSIgaGVpZ2h0PSIyOS40IiBpZD0ibWFzay00XzFfIj4KCQkJCQkJCQkJPHBvbHlnb24gaWQ9InBhdGgtM18xXyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNBZG9iZV9PcGFjaXR5TWFza0ZpbHRlcl8xXykiIHBvaW50cz0iNy4zLDAuNCAwLDAuNCAwLDE4LjcgMCwzNyA3LjMsMzcgCQkJCQkJCQkJIi8+CgkJCQkJCQkJPC9tYXNrPgoJCQkJCQkJCTxwYXRoIGlkPSJGaWxsLTQiIG1hc2s9InVybCgjbWFzay00XzFfKSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFQ0YxRjAiICBkPSJNNy4zLDM1LjRsMC0zNWwtMS44LDBjLTEuNSwwLTIuOCwwLjUtMy45LDEuNEMwLjUsMi43LDAsMy44LDAsNS4xTDAsMzcKCQkJCQkJCQkJYzEuNi0xLjEsMy40LTEuNiw1LjUtMS42SDcuM3oiLz4KCQkJCQkJCTwvZz4KCQkJCQkJCTxnIGlkPSJHcm91cC05IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC4wMDAwMDAsIDAuMDAwMDAwKSI+CgkJCQkJCQkJPGcgaWQ9IkNsaXAtOCI+CgkJCQkJCQkJPC9nPgoJCQkJCQkJCTxkZWZzPgoJCQkJCQkJCQk8ZmlsdGVyIGlkPSJBZG9iZV9PcGFjaXR5TWFza0ZpbHRlcl8yXyIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSItMTAuMiIgeT0iNC4xIiB3aWR0aD0iNTEuMiIgaGVpZ2h0PSIyNy42Ij4KCQkJCQkJCQkJCTxmZUNvbG9yTWF0cml4ICB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMSAwIDAgMCAwICAwIDEgMCAwIDAgIDAgMCAxIDAgMCAgMCAwIDAgMSAwIi8+CgkJCQkJCQkJCTwvZmlsdGVyPgoJCQkJCQkJCTwvZGVmcz4KCQkJCQkJCQk8bWFzayBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSItMTAuMiIgeT0iNC4xIiB3aWR0aD0iNTEuMiIgaGVpZ2h0PSIyNy42IiBpZD0ibWFzay02XzFfIj4KCQkJCQkJCQkJPHBvbHlnb24gaWQ9InBhdGgtNV8xXyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNBZG9iZV9PcGFjaXR5TWFza0ZpbHRlcl8yXykiIHBvaW50cz0iMzAuMiwwLjQgMC42LDAuNCAwLjYsMzUuNCAzMC4yLDM1LjQgCQkJCQkJCQkJIi8+CgkJCQkJCQkJPC9tYXNrPgoJCQkJCQkJCTxwYXRoIGlkPSJGaWxsLTciIG1hc2s9InVybCgjbWFzay02XzFfKSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFQ0YxRjAiICBkPSJNNS41LDE3LjVjMC0wLjMsMC4xLTAuNiwwLjQtMC44YzAuMi0wLjIsMC41LTAuMywwLjktMC4zbDE3LjMsMGMwLjMsMCwwLjYsMC4xLDAuOSwwLjMKCQkJCQkJCQkJYzAuMiwwLjIsMC40LDAuNSwwLjQsMC44djAuOGMwLDAuMy0wLjEsMC42LTAuNCwwLjhjLTAuMiwwLjItMC41LDAuMy0wLjksMC4zbC0xNy4zLDBjLTAuMywwLTAuNi0wLjEtMC45LTAuMwoJCQkJCQkJCQljLTAuMi0wLjItMC40LTAuNS0wLjQtMC44TDUuNSwxNy41eiBNNS41LDExLjFjMC0wLjMsMC4xLTAuNiwwLjQtMC44YzAuMi0wLjIsMC41LTAuMywwLjktMC4zbDE3LjMsMAoJCQkJCQkJCQljMC4zLDAsMC42LDAuMSwwLjksMC4zYzAuMiwwLjIsMC40LDAuNSwwLjQsMC44djAuOGMwLDAuMy0wLjEsMC42LTAuNCwwLjhjLTAuMiwwLjItMC41LDAuMy0wLjksMC4zbC0xNy4zLDAKCQkJCQkJCQkJYy0wLjMsMC0wLjYtMC4xLTAuOS0wLjNjLTAuMi0wLjItMC40LTAuNS0wLjQtMC44TDUuNSwxMS4xeiBNMC42LDM1LjRsMjkuNiwwbDAtMzUuMWwtMjkuNiwwTDAuNiwzNS40eiIvPgoJCQkJCQkJPC9nPgoJCQkJCQk8L2c+CgkJCQkJCTxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjQzJDRUQwIiAgZD0iTTgzLjMsMTkuN2wtMTIuNywwLjFMNzAuNSw3bDAuNiwwYzAuNywwLDEuMiwwLjIsMS43LDAuN2w5LjgsOS43YzAuNSwwLjUsMC43LDEsMC43LDEuN0w4My4zLDE5Ljd6CgkJCQkJCQkgTTY5LjksMjNsMTMuNS0wLjFsMC4zLDMyLjljMCwwLjctMC4yLDEuMi0wLjcsMS43Yy0wLjUsMC41LTEsMC43LTEuNywwLjdsLTMzLjMsMC4zYy0wLjcsMC0xLjItMC4yLTEuNy0wLjcKCQkJCQkJCWMtMC41LTAuNS0wLjctMS0wLjctMS43TDQ1LjIsOS42YzAtMC43LDAuMi0xLjIsMC43LTEuN2MwLjUtMC41LDEtMC43LDEuNy0wLjdMNjcuMyw3bDAuMSwxMy42YzAsMC43LDAuMiwxLjIsMC43LDEuNwoJCQkJCQkJQzY4LjYsMjIuOCw2OS4yLDIzLDY5LjksMjN6IE01Ni41LDI0LjdjLTEuMywwLTIuNCwwLjUtMy40LDEuNGMtMC45LDAuOS0xLjQsMi4xLTEuNCwzLjRjMCwxLjMsMC41LDIuNSwxLjQsMy40CgkJCQkJCQljMC45LDAuOSwyLDEuNCwzLjMsMS40YzEuMywwLDIuNC0wLjUsMy40LTEuNGMxLTAuOSwxLjQtMi4xLDEuNC0zLjRjMC0xLjMtMC41LTIuNS0xLjUtMy40UzU3LjcsMjQuNyw1Ni41LDI0Ljd6IE03Ny4zLDQ4LjYKCQkJCQkJCWwtMC4xLTExLjJsLTQtNGMtMC4yLTAuMi0wLjUtMC4zLTAuOC0wLjNjLTAuMywwLTAuNiwwLjEtMC45LDAuM0w2MS40LDQ0bC00LTRjLTAuMy0wLjItMC41LTAuMy0wLjgtMC4zCgkJCQkJCQljLTAuMywwLTAuNSwwLjEtMC43LDAuM2wtMy45LDRsMCw0LjhMNzcuMyw0OC42eiIvPgoJCQkJCQk8ZyBpZD0iUGFwZXItSWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzAuMDAwMDAwLCAwLjAwMDAwMCkiPgoJCQkJCQkJPHBvbHlsaW5lIGlkPSJQYXRoLTMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjRjRGNEY0IiAgcG9pbnRzPSIyLjcsNDguMiAyMi42LDEgNDcuMSwxMC45IDUzLjUsMjYuMSAzNy4yLDY0LjYgMi43LDQ5LjYgCQkJCQkJCSIvPgoJCQkJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM4MUI1QTEiICBkPSJNMzUuNiwyMS41Yy0wLjIsMC42LTAuMiwxLjMsMCwxLjljMC4zLDAuNiwwLjcsMS4xLDEuNCwxLjNsMTMuMSw1TDM3LjksNjEuN2MtMC4yLDAuNi0wLjcsMS4xLTEuMywxLjQKCQkJCQkJCQljLTAuNiwwLjMtMS4zLDAuMy0xLjksMC4xTDIuMyw1MC43Yy0wLjYtMC4yLTEuMS0wLjctMS40LTEuM3MtMC4zLTEuMywwLTEuOUwxOC4yLDIuM2MwLjItMC42LDAuNy0xLjEsMS4zLTEuNAoJCQkJCQkJCWMwLjYtMC4zLDEuMy0wLjMsMS45LTAuMWwxOS4zLDcuNEwzNS42LDIxLjV6IE0zMyw0Ni45bDAuMy0wLjhjMC4xLTAuMywwLjEtMC42LDAtMWMtMC4xLTAuMy0wLjQtMC41LTAuNy0wLjdsLTE2LjItNi4yCgkJCQkJCQkJYy0wLjMtMC4xLTAuNi0wLjEtMC45LDBjLTAuMywwLjEtMC41LDAuNC0wLjcsMC43bC0wLjMsMC44Yy0wLjEsMC4zLTAuMSwwLjYsMCwxYzAuMSwwLjMsMC40LDAuNSwwLjcsMC43bDE2LjIsNi4yCgkJCQkJCQkJYzAuMywwLjEsMC42LDAuMSwwLjksMEMzMi42LDQ3LjQsMzIuOCw0Ny4yLDMzLDQ2Ljl6IE0zNS4zLDQwLjZsMC4zLTAuOGMwLjEtMC4zLDAuMS0wLjYsMC0xcy0wLjQtMC41LTAuNy0wLjdMMTguOCwzMgoJCQkJCQkJCWMtMC4zLTAuMS0wLjYtMC4xLTAuOSwwYy0wLjMsMC4xLTAuNSwwLjQtMC43LDAuN2wtMC4zLDAuOGMtMC4xLDAuMy0wLjEsMC42LDAsMWMwLjEsMC4zLDAuNCwwLjUsMC43LDAuN2wxNi4yLDYuMgoJCQkJCQkJCWMwLjMsMC4xLDAuNiwwLjEsMC45LDBDMzUsNDEuMiwzNS4yLDQxLDM1LjMsNDAuNnogTTM4LDMzLjZjMC4xLTAuMywwLjEtMC42LDAtMXMtMC40LTAuNS0wLjctMC43bC0xNi4yLTYuMgoJCQkJCQkJCWMtMC4zLTAuMS0wLjYtMC4xLTAuOSwwcy0wLjUsMC40LTAuNywwLjdsLTAuMywwLjhjLTAuMSwwLjMtMC4xLDAuNiwwLDFjMC4xLDAuMywwLjQsMC41LDAuNywwLjdsMTYuMiw2LjIKCQkJCQkJCQljMC4zLDAuMSwwLjYsMC4xLDAuOSwwYzAuMy0wLjEsMC41LTAuNCwwLjctMC43TDM4LDMzLjZ6IE01MS4zLDI2LjdMMzksMjEuOWw0LjgtMTIuNWwwLjYsMC4yYzAuNiwwLjIsMS4xLDAuNywxLjQsMS4zCgkJCQkJCQkJbDUuOCwxMy4yYzAuMywwLjYsMC4zLDEuMywwLDEuOUw1MS4zLDI2Ljd6Ii8+CgkJCQkJCQk8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMy4wMDAwMDAsIDIyLjAwMDAwMCkiPgoJCQkJCQkJCTxnIGlkPSJNYXNrIj4KCQkJCQkJCQkJPGVsbGlwc2UgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNGRkZGRkYiICBjeD0iMTguNyIgY3k9IjE5LjUiIHJ4PSIxOC43IiByeT0iMTkuNSIvPgoJCQkJCQkJCTwvZz4KCQkJCQkJCQk8ZGVmcz4KCQkJCQkJCQkJPGZpbHRlciBpZD0iQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXJfM18iIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iLTI5LjgiIHk9Ii00Mi4yIiB3aWR0aD0iODIiIGhlaWdodD0iMTAwLjciPgoJCQkJCQkJCQkJPGZlQ29sb3JNYXRyaXggIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIxIDAgMCAwIDAgIDAgMSAwIDAgMCAgMCAwIDEgMCAwICAwIDAgMCAxIDAiLz4KCQkJCQkJCQkJPC9maWx0ZXI+CgkJCQkJCQkJPC9kZWZzPgoJCQkJCQkJCTxtYXNrIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9Ii0yOS44IiB5PSItNDIuMiIgd2lkdGg9IjgyIiBoZWlnaHQ9IjEwMC43IiBpZD0ibWFzay04XzFfIj4KCQkJCQkJCQkJPGNpcmNsZSBpZD0icGF0aC03XzFfIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0ZGRkZGRiIgZmlsdGVyPSJ1cmwoI0Fkb2JlX09wYWNpdHlNYXNrRmlsdGVyXzNfKSIgIGN4PSIxOC41IiBjeT0iMTkuNSIgcj0iMTkuNSIvPgoJCQkJCQkJCTwvbWFzaz4KCQkJCQkJCQk8cGF0aCBtYXNrPSJ1cmwoI21hc2stOF8xXykiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjODFCNUExIiAgZD0iTTI2LjMtOC43Yy0wLjQsMS0wLjQsMi4xLDAuMSwzLjFjMC40LDEsMS4yLDEuNywyLjIsMi4xbDIxLjEsOC4xTDI5LjksNTUuOWMtMC40LDEtMS4xLDEuOC0yLjEsMi4yCgkJCQkJCQkJCWMtMSwwLjUtMiwwLjUtMy4xLDAuMWwtNTItMjBjLTEtMC40LTEuOC0xLjEtMi4yLTIuMWMtMC40LTEtMC41LTItMC4xLTMuMWwyNy45LTcyLjdjMC40LTEsMS4xLTEuOCwyLjEtMi4yCgkJCQkJCQkJCWMxLTAuNSwyLTAuNSwzLjEtMC4xbDMxLDExLjlMMjYuMy04Ljd6IE0yMiwzMmwwLjUtMS4zYzAuMi0wLjUsMC4yLTEsMC0xLjVjLTAuMi0wLjUtMC42LTAuOS0xLjEtMS4xbC0yNi0xMAoJCQkJCQkJCQljLTAuNS0wLjItMS0wLjItMS41LDBzLTAuOSwwLjYtMS4xLDEuMWwtMC41LDEuM2MtMC4yLDAuNS0wLjIsMSwwLDEuNWMwLjIsMC41LDAuNiwwLjksMS4xLDEuMWwyNiwxMGMwLjUsMC4yLDEsMC4yLDEuNSwwCgkJCQkJCQkJCUMyMS41LDMyLjksMjEuOCwzMi42LDIyLDMyeiBNMjUuOSwyMmwwLjUtMS4zYzAuMi0wLjUsMC4yLTEsMC0xLjVjLTAuMi0wLjUtMC42LTAuOS0xLjEtMS4xbC0yNi0xMGMtMC41LTAuMi0xLTAuMi0xLjUsMAoJCQkJCQkJCQlzLTAuOSwwLjYtMS4xLDEuMWwtMC41LDEuM2MtMC4yLDAuNS0wLjIsMSwwLDEuNWMwLjIsMC41LDAuNiwwLjksMS4xLDEuMWwyNiwxMGMwLjUsMC4yLDEsMC4yLDEuNSwwCgkJCQkJCQkJCUMyNS4zLDIyLjksMjUuNywyMi41LDI1LjksMjJ6IE0zMC4yLDEwLjdjMC4yLTAuNSwwLjItMSwwLTEuNWMtMC4yLTAuNS0wLjYtMC45LTEuMS0xLjFMMy0xLjhDMi41LTIsMi0yLDEuNS0xLjgKCQkJCQkJCQkJUzAuNy0xLjIsMC41LTAuN0wwLDAuNmMtMC4yLDAuNS0wLjIsMSwwLDEuNUMwLjIsMi42LDAuNiwzLDEuMSwzLjJsMjYsMTBjMC41LDAuMiwxLDAuMiwxLjUsMGMwLjUtMC4yLDAuOS0wLjYsMS4xLTEuMQoJCQkJCQkJCQlMMzAuMiwxMC43eiBNNTEuNS0wLjVMMzEuNy04LjFsNy43LTIwbDAuOSwwLjRjMSwwLjQsMS44LDEuMSwyLjIsMi4xbDkuMywyMS4yYzAuNCwxLDAuNSwyLDAuMSwzLjFMNTEuNS0wLjV6Ii8+CgkJCQkJCQk8L2c+CgkJCQkJCTwvZz4KCQkJCQk8L2c+CgkJCQkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMyOTNFNDAiICBkPSJNMTQwLjIsNjkuMmMwLjIsMC4yLDAuMywwLjUsMC4zLDAuOHMtMC4xLDAuNi0wLjMsMC45bC0xLDAuOWMtMC4zLDAuMy0wLjYsMC40LTAuOSwwLjRzLTAuNi0wLjEtMC44LTAuNAoJCQkJCQlsLTEyLjgtMTIuOGMtMC4zLTAuMi0wLjQtMC41LTAuNC0wLjh2LTFjLTEuOSwxLjctNCwzLjEtNi40LDRjLTIuNCwxLTUsMS40LTcuNiwxLjRjLTMuOCwwLTcuMy0wLjktMTAuNC0yLjhzLTUuNy00LjQtNy41LTcuNQoJCQkJCQljLTEuOS0zLjItMi44LTYuNi0yLjgtMTAuNHMwLjktNy4zLDIuOC0xMC40YzEuOS0zLjIsNC40LTUuNyw3LjUtNy41czYuNi0yLjgsMTAuNC0yLjhjMy44LDAsNy4zLDAuOSwxMC40LDIuOAoJCQkJCQlzNS43LDQuNCw3LjUsNy41czIuOCw2LjYsMi44LDEwLjRjMCwyLjctMC41LDUuMi0xLjQsNy42Yy0xLDIuNC0yLjMsNC42LTQsNi40aDFjMC4zLDAsMC42LDAuMSwwLjksMC40TDE0MC4yLDY5LjJ6CgkJCQkJCSBNMTEwLjIsNTkuNGMzLjIsMCw2LjEtMC44LDguOC0yLjNjMi43LTEuNiw0LjgtMy43LDYuNC02LjRjMS42LTIuNywyLjMtNS42LDIuMy04LjhzLTAuOC02LjEtMi4zLTguOAoJCQkJCQljLTEuNi0yLjctMy43LTQuOC02LjQtNi40cy01LjYtMi4zLTguOC0yLjNjLTMuMiwwLTYuMSwwLjgtOC44LDIuM3MtNC44LDMuNy02LjQsNi40Yy0xLjYsMi43LTIuMyw1LjYtMi4zLDguOAoJCQkJCQlzMC44LDYuMSwyLjMsOC44YzEuNiwyLjcsMy43LDQuOCw2LjQsNi40QzEwNC4xLDU4LjYsMTA3LDU5LjQsMTEwLjIsNTkuNHoiLz4KCQkJCTwvZz4KCQkJCTxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2LjAwMDAwMCwgMC4wMDAwMDApIj4KCQkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjMjkzRTQwIiBjeD0iNC41IiBjeT0iMjYuNSIgcj0iNC41Ii8+CgkJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjMjkzRTQwIiBjeD0iMTEyLjUiIGN5PSIxNy41IiByPSI0LjUiLz4KCQkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0zIiBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjMjkzRTQwIiAgY3g9IjEzOC41IiBjeT0iNDQuNSIgcj0iMi41Ii8+CgkJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHktMiIgb3BhY2l0eT0iMC40IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzI5M0U0MCIgIGN4PSI2NS41IiBjeT0iMi41IiByPSIyLjUiLz4KCQkJCTwvZz4KCQkJPC9nPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}:host{flex-grow:1}.ec-mini-email-composer{position:relative;display:flex;flex-flow:column nowrap;width:100%;height:100%}.ec-mini-email-composer-details-container{flex-grow:1;overflow:auto;height:100%;min-height:5rem}.ec-alerts-container{position:absolute;min-width:20rem;width:calc(40% + 2rem);margin:0 auto;top:0;left:0;right:0}.email-client-attachment-preview-overlay{background:RGBA(var(--now-color--secondary-0,217,235,238),.85);height:100%;position:absolute;width:100%;padding:1.5rem;z-index:4020}.loader-container{display:inline-block;margin-left:-50%}.doc-viewer-loader{top:50%;left:50%;position:absolute}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __TECTONIC__$servicenow_now_card;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../icons/sn-ec-no-match.svg\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../icons/sn-ec-no-records.svg\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.quick-message-panel{display:flex;height:100%;flex-direction:column;width:auto}.quick-message-panel-header{margin-bottom:1rem;color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)));font-size:1rem;padding:1.5rem 1.5rem 0}.quick-message-panel-search{display:flex;flex-flow:row;align-items:center;border-bottom:.0625rem solid rgb(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));background-color:transparent;width:100%;min-height:2rem;max-height:5rem;overflow-x:hidden;overflow-y:auto}.quick-message-panel-search:hover{box-shadow:0 .125rem 0 0 RGB(var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)));background-color:RGB(var(--now-color_background--tertiary,var(--now-color--neutral-2,228,230,231)));cursor:text}.quick-message-panel-search:focus-within{box-shadow:0 .125rem 0 0 RGB(var(--now-color--secondary-1,1,119,142));background-color:RGB(var(--now-color--secondary-0,217,235,238));outline:none}.quick-message-panel-search-icon{margin:0 .25rem;pointer-events:none;outline:none}.quick-message-panel-search-input{border:0;font-size:1rem;width:100%;padding:0 .25rem;background-color:transparent;color:var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28));outline:none;font-family:inherit}.quick-message-panel-search-input::placeholder{color:var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))}.quick-message-panel-body{display:flex;flex-direction:column;width:auto;height:100%;overflow:auto;margin-top:.5rem;padding:0 1.5rem 1.5rem}.quick-message-panel-body-card-list{margin-bottom:.25rem;margin-top:.25rem}.quick-message-panel-body-card-content{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)));font-size:1rem;overflow:hidden;margin:.5rem 0 0}.quick-message-panel-body-card-content img,.quick-message-panel-body-card-content video{display:none}.quick-message-panel-body-empty{height:100%;display:flex;justify-content:center;align-items:center;flex-flow:column}.quick-message-panel-body-empty-no-match-icon{width:8.8125rem;height:4.4375rem;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");margin-bottom:1rem}.quick-message-panel-body-empty-no-record-icon{width:9.1875rem;height:7.25rem;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");margin-bottom:1rem}.quick-message-panel-body-empty-message{font-size:1rem;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));font-weight:600}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDEgNzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0MSA3MTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7fQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQoJLnN0MntmaWxsOm5vbmU7c3Ryb2tlOiNGRkZGRkY7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO30KCS5zdDN7ZmlsbDojODFCNUExO30KCS5zdDR7ZmlsbDojRkZGRkZGO30KCS5zdDV7ZmlsbDojMjkzRTQwO30KCS5zdDZ7b3BhY2l0eTowLjM7ZmlsbDojMjkzRTQwO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0N3tvcGFjaXR5OjAuNDtmaWxsOiMyOTNFNDA7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDt9Cjwvc3R5bGU+Cjx0aXRsZT5zbi1lcy1uby1tYXRjaC1mb3VuZDwvdGl0bGU+CjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgo8ZyBpZD0iRW1wdHktU3RhdGVzIj4KCTxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNTQuMDAwMDAwLCAtNTA4LjAwMDAwMCkiPgoJCTxnIGlkPSJzbi1lcy1uby1tYXRjaC1mb3VuZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzU0LjAwMDAwMCwgNTA4LjAwMDAwMCkiPgoJCQk8ZyBpZD0iR3JvdXAtMjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMxLjAwMDAwMCwgMjYuMDAwMDAwKSI+CgkJCQk8ZyBpZD0iR3JvdXAtMTQiPgoJCQkJCTxnIGlkPSJHcm91cC0xMyI+CgkJCQkJCTxnIGlkPSJHcm91cC0xMiI+CgkJCQkJCQk8cGF0aCBpZD0iUmVjdGFuZ2xlLTYiIGNsYXNzPSJzdDAiIGQ9Ik0wLjUtMS41aDY0LjNjMS4xLDAsMiwwLjksMiwydjM0YzAsMS4xLTAuOSwyLTIsMkgwLjVjLTEuMSwwLTItMC45LTItMnYtMzQKCQkJCQkJCQlDLTEuNS0wLjYtMC42LTEuNSwwLjUtMS41eiIvPgoJCQkJCQk8L2c+CgkJCQkJCTxwYXRoIGlkPSJMaW5lLTIiIGNsYXNzPSJzdDEiIGQ9Ik01LjMsNi4zaDM5LjgiLz4KCQkJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTUuMiwxMy4xaDQ4LjciLz4KCQkJCQkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTUuMiwyMS4xaDMxIi8+CgkJCQkJPC9nPgoJCQkJCTxnIGlkPSJHcm91cC0xMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTkuMDAwMDAwLCAyOC4wMDAwMDApIj4KCQkJCQkJPHBhdGggaWQ9IkxpbmUiIGNsYXNzPSJzdDIiIGQ9Ik0wLjIsNy44bDcuNy03LjciLz4KCQkJCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTcuOCw3LjhMMC4yLDAuMiIvPgoJCQkJCTwvZz4KCQkJCTwvZz4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwiIGNsYXNzPSJzdDMiIGN4PSI2MyIgY3k9IjMzIiByPSIxMiIvPgoJCQkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTY1LDM2LjhjMCwwLjYtMC4yLDEuMS0wLjYsMS41QzY0LDM4LjgsNjMuNSwzOSw2MywzOXMtMS0wLjItMS40LTAuNkM2MS4yLDM4LDYxLDM3LjUsNjEsMzYuOQoJCQkJCXMwLjItMS4xLDAuNi0xLjVjMC40LTAuNCwwLjktMC42LDEuNC0wLjZzMSwwLjIsMS40LDAuNkM2NC44LDM1LjcsNjUsMzYuMiw2NSwzNi44eiBNNjEuMiwyNS43YzAtMC4yLDAuMS0wLjMsMC4yLTAuNQoJCQkJCWMwLjEtMC4xLDAuMy0wLjIsMC40LTAuMmgyLjRjMC4yLDAsMC4zLDAuMSwwLjQsMC4yczAuMiwwLjMsMC4yLDAuNWwtMC4zLDcuNGMwLDAuMi0wLjEsMC4zLTAuMiwwLjVzLTAuMywwLjItMC40LDAuMmgtMS43CgkJCQkJYy0wLjIsMC0wLjMtMC4xLTAuNC0wLjJzLTAuMi0wLjMtMC4yLTAuNUw2MS4yLDI1Ljd6Ii8+CgkJCTwvZz4KCQkJPGcgaWQ9ImJ1YmJsZXMiPgoJCQkJPGNpcmNsZSBpZD0iT3ZhbC01IiBjbGFzcz0ic3Q1IiBjeD0iNC41IiBjeT0iMjYuNSIgcj0iNC41Ii8+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weSIgY2xhc3M9InN0NSIgY3g9IjExMi41IiBjeT0iMTcuNSIgcj0iNC41Ii8+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0zIiBjbGFzcz0ic3Q2IiBjeD0iMTM4LjUiIGN5PSI0NC41IiByPSIyLjUiLz4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwtNS1Db3B5LTIiIGNsYXNzPSJzdDciIGN4PSI2NS41IiBjeT0iMi41IiByPSIyLjUiLz4KCQkJPC9nPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuNiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNjEuMyAxMjAuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYxLjMgMTIwLjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRjRGNEY0O30KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRUNGMUYwO30KCS5zdDJ7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojQzJDRUQwO30KCS5zdDN7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojODFCNUExO30KCS5zdDR7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30KCS5zdDV7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojMjkzRTQwO30KCS5zdDZ7b3BhY2l0eTowLjM7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojMjkzRTQwO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0N3tvcGFjaXR5OjAuNDtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMyOTNFNDA7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDt9Cgkuc3Q4e2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+Cjx0aXRsZT5zbi1lcy1uby1yZWNvcmRzLXRvLWRpc3BsYXk8L3RpdGxlPgo8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyNi4xLDUyLjdjMC42LDAuMiwxLjEsMC43LDEuNCwxLjNsNS44LDEzLjJjMC4zLDAuNiwwLjMsMS4zLDAsMS45bC0wLjMsMC43bC0xMy40LDM1CgljLTAuMiwwLjYtMC43LDEuMS0xLjMsMS40Yy0wLjYsMC4zLTEuMywwLjMtMS45LDAuMWwtMi45LTEuM0wxMjUsNTIuMUwxMjYuMSw1Mi43eiIvPgo8ZyBpZD0iRW1wdHktU3RhdGVzXzFfIj4KCTxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NjAuMDAwMDAwLCAtMTE3Mi4wMDAwMDApIj4KCQk8ZyBpZD0iR3JvdXAtNDVfMV8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM4NS4wMDAwMDAsIDExNzIuMDAwMDAwKSI+CgkJCTxnIGlkPSJzbi1lcy1uby1yZWNvcmRzLXRvLWRpc3BsYXlfMV8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDczLjAwMDAwMCwgMC4wMDAwMDApIj4KCQkJCTxnIGlkPSJnbG9iYWwtc2VhcmNoLWVtcHR5LXN0YXRlXzFfIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMzUuMDAwMDAwKSI+CgkJCQkJPGcgaWQ9ImVtcHR5LXN0YXRlLWljb24tNV8xXyI+CgkJCQkJCQoJCQkJCQkJPGcgaWQ9IlBhZ2UtMV8xXyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjcuNTAwMDAwLCAzNi41MDAwMDApIHJvdGF0ZSgtMTkuMDAwMDAwKSB0cmFuc2xhdGUoLTI3LjUwMDAwMCwgLTM2LjUwMDAwMCkgdHJhbnNsYXRlKDcuMDAwMDAwLCAxNC4wMDAwMDApIj4KCQkJCQkJCTxnIGlkPSJHcm91cC0zXzFfIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMzguMDAwMDAwKSI+CgkJCQkJCQkJPGcgaWQ9IkNsaXAtMl8xXyI+CgkJCQkJCQkJPC9nPgoJCQkJCQkJCTxwYXRoIGlkPSJGaWxsLTFfMV8iIGNsYXNzPSJzdDEiIGQ9Ik0xNC41LDExLjhjLTEuNiwwLTIuOCwwLjMtMy43LDAuOWMtMC45LDAuNi0xLjMsMS40LTEuMywyLjNjMCwwLjksMC40LDEuNiwxLjMsMi4yCgkJCQkJCQkJCWMwLjksMC42LDIuMSwxLDMuNywxbDM1LDBjLTAuMy0yLjEtMC4zLTQuMiwwLTYuNEwxNC41LDExLjh6Ii8+CgkJCQkJCQk8L2c+CgkJCQkJCQk8ZyBpZD0iR3JvdXAtNl8xXyI+CgkJCQkJCQkJPGcgaWQ9IkNsaXAtNV8xXyI+CgkJCQkJCQkJPC9nPgoJCQkJCQkJCTxwYXRoIGlkPSJGaWxsLTRfMV8iIGNsYXNzPSJzdDEiIGQ9Ik0xNi44LDQ2LjZsMC0zNWwtMS44LDBjLTEuNSwwLTIuOCwwLjUtMy45LDEuNHMtMS42LDItMS42LDMuM2wwLDMxLjkKCQkJCQkJCQkJYzEuNi0xLjEsMy40LTEuNiw1LjUtMS42TDE2LjgsNDYuNnoiLz4KCQkJCQkJCTwvZz4KCQkJCQkJCTxnIGlkPSJHcm91cC05XzFfIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC4wMDAwMDAsIDAuMDAwMDAwKSI+CgkJCQkJCQkJPGcgaWQ9IkNsaXAtOF8xXyI+CgkJCQkJCQkJPC9nPgoJCQkJCQkJCTxwYXRoIGlkPSJGaWxsLTdfMV8iIGNsYXNzPSJzdDEiIGQ9Ik0xNSwyOC43YzAtMC4zLDAuMS0wLjYsMC40LTAuOGMwLjItMC4yLDAuNS0wLjMsMC45LTAuM2wxNy4zLDBjMC4zLDAsMC42LDAuMSwwLjksMC4zCgkJCQkJCQkJCWMwLjIsMC4yLDAuNCwwLjUsMC40LDAuOHYwLjhjMCwwLjMtMC4xLDAuNi0wLjQsMC44Yy0wLjIsMC4yLTAuNSwwLjMtMC45LDAuM2wtMTcuMywwYy0wLjMsMC0wLjYtMC4xLTAuOS0wLjMKCQkJCQkJCQkJYy0wLjItMC4yLTAuNC0wLjUtMC40LTAuOFYyOC43eiBNMTUsMjIuM2MwLTAuMywwLjEtMC42LDAuNC0wLjhjMC4yLTAuMiwwLjUtMC4zLDAuOS0wLjNsMTcuMywwYzAuMywwLDAuNiwwLjEsMC45LDAuMwoJCQkJCQkJCQljMC4yLDAuMiwwLjQsMC41LDAuNCwwLjh2MC44YzAsMC4zLTAuMSwwLjYtMC40LDAuOGMtMC4yLDAuMi0wLjUsMC4zLTAuOSwwLjNsLTE3LjMsMGMtMC4zLDAtMC42LTAuMS0wLjktMC4zCgkJCQkJCQkJCWMtMC4yLTAuMi0wLjQtMC41LTAuNC0wLjhWMjIuM3ogTTEwLjEsNDYuNmwyOS42LDBsMC0zNS4xbC0yOS42LDBMMTAuMSw0Ni42eiIvPgoJCQkJCQkJPC9nPgoJCQkJCQk8L2c+CgkJCQkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik05NS45LDI3LjJsLTEyLjcsMC4xbC0wLjEtMTIuOGgwLjZjMC43LDAsMS4yLDAuMiwxLjcsMC43bDkuOCw5LjdjMC41LDAuNSwwLjcsMSwwLjcsMS43VjI3LjJ6CgkJCQkJCQkgTTgyLjUsMzAuNUw5NiwzMC40bDAuMywzMi45YzAsMC43LTAuMiwxLjItMC43LDEuN3MtMSwwLjctMS43LDAuN0w2MC42LDY2Yy0wLjcsMC0xLjItMC4yLTEuNy0wLjdzLTAuNy0xLTAuNy0xLjdsLTAuNC00Ni41CgkJCQkJCQljMC0wLjcsMC4yLTEuMiwwLjctMS43czEtMC43LDEuNy0wLjdsMTkuNy0wLjJMODAsMjguMWMwLDAuNywwLjIsMS4yLDAuNywxLjdDODEuMiwzMC4zLDgxLjgsMzAuNSw4Mi41LDMwLjV6IE02OS4xLDMyLjIKCQkJCQkJCWMtMS4zLDAtMi40LDAuNS0zLjQsMS40Yy0wLjksMC45LTEuNCwyLjEtMS40LDMuNHMwLjUsMi41LDEuNCwzLjRzMiwxLjQsMy4zLDEuNHMyLjQtMC41LDMuNC0xLjRzMS40LTIuMSwxLjQtMy40CgkJCQkJCQlzLTAuNS0yLjUtMS41LTMuNFM3MC4zLDMyLjIsNjkuMSwzMi4yeiBNODkuOSw1Ni4xbC0wLjEtMTEuMmwtNC00Yy0wLjItMC4yLTAuNS0wLjMtMC44LTAuM3MtMC42LDAuMS0wLjksMC4zTDc0LDUxLjVsLTQtNAoJCQkJCQkJYy0wLjMtMC4yLTAuNS0wLjMtMC44LTAuM3MtMC41LDAuMS0wLjcsMC4zbC0zLjksNHY0LjhMODkuOSw1Ni4xeiIvPgoJCQkJCQk8ZyBpZD0iUGFwZXItSWNvbl8xXyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzAuMDAwMDAwLCAwLjAwMDAwMCkiPgoJCQkJCQkJPHBhdGggY2xhc3M9InN0MyIgZD0iTTQ4LjIsMjljLTAuMiwwLjYtMC4yLDEuMywwLDEuOWMwLjMsMC42LDAuNywxLjEsMS40LDEuM2wxMy4xLDVsLTEyLjIsMzJjLTAuMiwwLjYtMC43LDEuMS0xLjMsMS40CgkJCQkJCQkJcy0xLjMsMC4zLTEuOSwwLjFMMTQuOSw1OC4yYy0wLjYtMC4yLTEuMS0wLjctMS40LTEuM2MtMC4zLTAuNi0wLjMtMS4zLDAtMS45TDMwLjgsOS44YzAuMi0wLjYsMC43LTEuMSwxLjMtMS40CgkJCQkJCQkJczEuMy0wLjMsMS45LTAuMWwxOS4zLDcuNEw0OC4yLDI5eiBNNDUuNiw1NC40bDAuMy0wLjhjMC4xLTAuMywwLjEtMC42LDAtMWMtMC4xLTAuMy0wLjQtMC41LTAuNy0wLjdMMjksNDUuNwoJCQkJCQkJCWMtMC4zLTAuMS0wLjYtMC4xLTAuOSwwcy0wLjUsMC40LTAuNywwLjdsLTAuMywwLjhjLTAuMSwwLjMtMC4xLDAuNiwwLDFjMC4xLDAuMywwLjQsMC41LDAuNywwLjdMNDQsNTUuMQoJCQkJCQkJCWMwLjMsMC4xLDAuNiwwLjEsMC45LDBDNDUuMiw1NC45LDQ1LjQsNTQuNyw0NS42LDU0LjR6IE00Ny45LDQ4LjFsMC4zLTAuOGMwLjEtMC4zLDAuMS0wLjYsMC0xcy0wLjQtMC41LTAuNy0wLjdsLTE2LjEtNi4xCgkJCQkJCQkJYy0wLjMtMC4xLTAuNi0wLjEtMC45LDBzLTAuNSwwLjQtMC43LDAuN0wyOS41LDQxYy0wLjEsMC4zLTAuMSwwLjYsMCwxYzAuMSwwLjMsMC40LDAuNSwwLjcsMC43bDE2LjIsNi4yCgkJCQkJCQkJYzAuMywwLjEsMC42LDAuMSwwLjksMEM0Ny42LDQ4LjcsNDcuOCw0OC41LDQ3LjksNDguMXogTTUwLjYsNDEuMWMwLjEtMC4zLDAuMS0wLjYsMC0xcy0wLjQtMC41LTAuNy0wLjdsLTE2LjItNi4yCgkJCQkJCQkJYy0wLjMtMC4xLTAuNi0wLjEtMC45LDBjLTAuMywwLjEtMC41LDAuNC0wLjcsMC43bC0wLjMsMC44Yy0wLjEsMC4zLTAuMSwwLjYsMCwxYzAuMSwwLjMsMC40LDAuNSwwLjcsMC43bDE2LjIsNi4yCgkJCQkJCQkJYzAuMywwLjEsMC42LDAuMSwwLjksMGMwLjMtMC4xLDAuNS0wLjQsMC43LTAuN0w1MC42LDQxLjF6IE02My45LDM0LjJsLTEyLjMtNC44bDQuOC0xMi41bDAuNiwwLjJjMC42LDAuMiwxLjEsMC43LDEuNCwxLjMKCQkJCQkJCQlsNS44LDEzLjJjMC4zLDAuNiwwLjMsMS4zLDAsMS45TDYzLjksMzQuMnoiLz4KCQkJCQkJCTxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIzLjAwMDAwMCwgMjIuMDAwMDAwKSI+CgkJCQkJCQkJPGcgaWQ9Ik1hc2tfMV8iPgoJCQkJCQkJCQk8ZWxsaXBzZSBjbGFzcz0ic3Q0IiBjeD0iMzEuMyIgY3k9IjI3IiByeD0iMTguNyIgcnk9IjE5LjUiLz4KCQkJCQkJCQk8L2c+CgkJCQkJCQk8L2c+CgkJCQkJCTwvZz4KCQkJCQk8L2c+CgkJCQkJPHBhdGggY2xhc3M9InN0NSIgZD0iTTE1Mi44LDc2LjdjMC4yLDAuMiwwLjMsMC41LDAuMywwLjhzLTAuMSwwLjYtMC4zLDAuOWwtMSwwLjljLTAuMywwLjMtMC42LDAuNC0wLjksMC40cy0wLjYtMC4xLTAuOC0wLjQKCQkJCQkJbC0xMi44LTEyLjhjLTAuMy0wLjItMC40LTAuNS0wLjQtMC44di0xYy0xLjksMS43LTQsMy4xLTYuNCw0Yy0yLjQsMS01LDEuNC03LjYsMS40Yy0zLjgsMC03LjMtMC45LTEwLjQtMi44cy01LjctNC40LTcuNS03LjUKCQkJCQkJYy0xLjktMy4yLTIuOC02LjYtMi44LTEwLjRzMC45LTcuMywyLjgtMTAuNGMxLjktMy4yLDQuNC01LjcsNy41LTcuNXM2LjYtMi44LDEwLjQtMi44czcuMywwLjksMTAuNCwyLjgKCQkJCQkJYzMuMSwxLjksNS43LDQuNCw3LjUsNy41czIuOCw2LjYsMi44LDEwLjRjMCwyLjctMC41LDUuMi0xLjQsNy42Yy0xLDIuNC0yLjMsNC42LTQsNi40aDFjMC4zLDAsMC42LDAuMSwwLjksMC40TDE1Mi44LDc2Ljd6CgkJCQkJCSBNMTIyLjgsNjYuOWMzLjIsMCw2LjEtMC44LDguOC0yLjNjMi43LTEuNiw0LjgtMy43LDYuNC02LjRjMS42LTIuNywyLjMtNS42LDIuMy04LjhzLTAuOC02LjEtMi4zLTguOAoJCQkJCQljLTEuNi0yLjctMy43LTQuOC02LjQtNi40Yy0yLjctMS42LTUuNi0yLjMtOC44LTIuM2MtMy4yLDAtNi4xLDAuOC04LjgsMi4zcy00LjgsMy43LTYuNCw2LjRzLTIuMyw1LjYtMi4zLDguOAoJCQkJCQlzMC44LDYuMSwyLjMsOC44YzEuNiwyLjcsMy43LDQuOCw2LjQsNi40QzExNi43LDY2LjEsMTE5LjYsNjYuOSwxMjIuOCw2Ni45eiIvPgoJCQkJPC9nPgoJCQkJPGcgaWQ9Ikdyb3VwLTJfMV8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYuMDAwMDAwLCAwLjAwMDAwMCkiPgoJCQkJCTxjaXJjbGUgaWQ9Ik92YWwtNV8xXyIgY2xhc3M9InN0NSIgY3g9IjE3LjEiIGN5PSI0MSIgcj0iNC41Ii8+CgkJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHlfMV8iIGNsYXNzPSJzdDUiIGN4PSIxMjUuMSIgY3k9IjMyIiByPSI0LjUiLz4KCQkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0zXzFfIiBjbGFzcz0ic3Q2IiBjeD0iMTUxLjEiIGN5PSI1OSIgcj0iMi41Ii8+CgkJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHktMl8xXyIgY2xhc3M9InN0NyIgY3g9Ijc4LjEiIGN5PSIxNyIgcj0iMi41Ii8+CgkJCQk8L2c+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+CjwvZz4KPHBhdGggY2xhc3M9InN0MyIgZD0iTTEyMC44LDEwMS45YzMuMiwwLDYuMS0wLjgsOC44LTIuM2MyLjctMS42LDQuOC0zLjcsNi40LTYuNGMxLjYtMi43LDIuMy01LjYsMi4zLTguOGMwLTMuMi0wLjgtNi4xLTIuMy04LjgKCWMtMS42LTIuNy0zLjctNC44LTYuNC02LjRzLTUuNi0yLjMtOC44LTIuM2MtMy4yLDAtNi4xLDAuOC04LjgsMi4zcy00LjgsMy43LTYuNCw2LjRjLTEuNiwyLjctMi4zLDUuNi0yLjMsOC44CgljMCwzLjIsMC44LDYuMSwyLjMsOC44YzEuNiwyLjcsMy43LDQuOCw2LjQsNi40QzExNC43LDEwMS4xLDExNy42LDEwMS45LDEyMC44LDEwMS45eiIvPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDgiIGQ9Ik0xMjguOSw4Mi42TDEwNi42LDc0Yy0wLjQsMC41LTAuNywxLTEsMS42Yy0wLjYsMS0xLjEsMi4xLTEuNSwzLjJsMjIuOCw4LjhjMC41LDAuMiwxLDAuMiwxLjUsMAoJCXMwLjktMC42LDEuMS0xLjFsMC41LTEuM2MwLjItMC41LDAuMi0xLDAtMS41UzEyOS40LDgyLjgsMTI4LjksODIuNnoiLz4KCTxwYXRoIGNsYXNzPSJzdDgiIGQ9Ik0xMjUsOTIuNmwtMjEuNy04LjN2MC4xYzAsMi4xLDAuNCw0LjEsMSw2bDE4LjcsNy4yYzAuNSwwLjIsMSwwLjIsMS41LDBjMC42LTAuMiwwLjktMC41LDEuMS0xLjFsMC41LTEuMwoJCWMwLjItMC41LDAuMi0xLDAtMS41UzEyNS41LDkyLjgsMTI1LDkyLjZ6Ii8+Cgk8cGF0aCBjbGFzcz0ic3Q4IiBkPSJNMTMzLjgsNzMuN2MtMC4yLTAuNS0wLjYtMC45LTEuMS0xLjFsLTE0LjUtNS41Yy0yLjIsMC4zLTQuMiwxLTYuMiwyLjFjLTAuNCwwLjItMC45LDAuNS0xLjMsMC44bDIwLDcuNwoJCWMwLjUsMC4yLDEsMC4yLDEuNSwwczAuOS0wLjYsMS4xLTEuMWwwLjUtMS40QzEzNCw3NC43LDEzNCw3NC4yLDEzMy44LDczLjd6Ii8+CjwvZz4KPC9zdmc+Cg==\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.quick-message-detail{display:flex;height:100%;flex-direction:column;width:auto}.quick-message-detail-header{display:flex;flex-direction:row;color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)));font-size:1rem;padding:1.5rem 1.5rem 1rem 1.125rem;background-color:RGB(var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255)))}.quick-message-detail-header-actions{display:flex;flex-flow:row nowrap;flex-grow:1;align-items:baseline}.quick-message-detail-header-actions-back{display:flex;flex-grow:1;justify-content:flex-start}.quick-message-detail-header-actions-insert{display:flex;flex-grow:1;justify-content:flex-end}.quick-message-detail-header-flyout{box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);background-color:RGB(var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255)));margin-bottom:0}.quick-message-detail-body{display:flex;flex-direction:column;height:100%;width:auto;overflow:auto;padding:0 1.5rem 1.5rem}.quick-message-detail-body-title{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)));border-bottom:.0625rem solid rgb(var(--now-color_border--tertiary,var(--now-color--neutral-3,209,214,214)));font-size:1rem;font-weight:600;padding-bottom:.75rem;margin-bottom:.75rem}.quick-message-detail-body-content{font-size:1rem;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));overflow-wrap:break-word}.quick-message-detail-body-content img,.quick-message-detail-body-content video{width:100%;margin-top:.75rem;margin-bottom:.75rem}.quick-message-detail-body-footer{display:flex;padding:.25rem .5rem .25rem .25rem;border-top:.0625rem solid rgb(var(--now-color_border--tertiary,var(--now-color--neutral-3,209,214,214)));height:2.5rem}.quick-message-detail-body-footer-actions{display:flex;flex-grow:1;justify-content:flex-end}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.quick-message-body{max-width:100%;height:100%;overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}:host{display:block;width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}:host{flex-grow:1}.ec-email-composer{position:relative;display:flex;flex-flow:column nowrap;width:100%;height:100%}.ec-email-composer-header-container{margin-right:1.5rem}.ec-email-composer-layout{display:flex;flex-flow:row nowrap;flex-grow:1;overflow:auto;height:100%}.ec-email-composer-layout-details{flex-basis:80%;overflow:auto}.ec-email-composer-layout-details-component{height:100%;padding-left:.75rem;padding-right:.75rem}.ec-email-composer-layout-details-expanded{overflow:auto;flex-grow:1}.ec-email-composer-layout-sidebar-expanded{min-width:19.5rem;flex-basis:20%;border-left:.0625rem solid rgb(var(--now-color_divider--secondary,var(--now-color--neutral-5,172,180,181)))}.ec-email-composer-divider{margin:0;border-width:0;border-top:.0625rem solid rgb(var(--now-color_divider--primary,var(--now-color--neutral-7,135,147,148)))}.ec-alerts-container{position:absolute;width:calc(40% + 2rem);margin:0 auto;top:0;left:0;right:0}.doc-viewer-loading{opacity:.2;pointer-events:none;user-select:none}.email-client-attachment-preview-overlay{background:RGBA(var(--now-color--secondary-0,217,235,238),.85);height:100%;position:absolute;width:100%;padding:1.5rem;z-index:4020}.loader-container{display:inline-block;margin-left:-50%}.doc-viewer-loader{top:50%;left:50%;position:absolute}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import { t } from 'sn-translate';\nimport { getProperty } from 'sn-uxpage-presource';\n\nexport const ATTACHMENT_CONSTANTS = Object.freeze({\n\tBROWSE_FROM_COMPUTER: 'BROWSE_FROM_COMPUTER',\n\tBROWSE_FROM_RECORD: 'BROWSE_FROM_RECORD',\n\tATTACHMENT_BROWSE_OPTIONS: [\n\t\t{ id: 'BROWSE_FROM_COMPUTER', label: t('From Computer') },\n\t\t{ id: 'BROWSE_FROM_RECORD', label: t('From Record') }\n\t],\n\tATTACHMENT_BROWSE_ACTION_CLICKED: 'ATTACHMENT_BROWSE_ACTION_CLICKED',\n\tGET_ATTACHMENTS_FROM_RECORD: 'GET_ATTACHMENTS_FROM_RECORD',\n\tGET_ATTACHMENTS_FROM_RECORD_SUCCEEDED:\n\t\t'GET_ATTACHMENTS_FROM_RECORD_SUCCEEDED',\n\tGET_ATTACHMENTS_FROM_RECORD_FAILED: 'GET_ATTACHMENTS_FROM_RECORD_FAILED',\n\n\tEMAIL_ATTACHMENT_READ_QUERY: 'EMAIL_ATTACHMENT_READ_QUERY',\n\tEMAIL_ATTACHMENT_FILE_ADD_UPDATE: 'EMAIL_ATTACHMENT_FILE_ADD_UPDATE',\n\tEMAIL_ATTACHMENT_STATE_UPDATE: 'EMAIL_ATTACHMENT_STATE_UPDATE',\n\tATTACHMENT_TEMPLATE_ACTION_CLICKED: 'ATTACHMENT_TEMPLATE_ACTION_CLICKED',\n\tATTACHMENT_RENAME_ACTION_PRESSED: 'ATTACHMENT_RENAME_ACTION_PRESSED',\n\tATTACHMENT_CANCEL_ACTION_PRESSED: 'ATTACHMENT_CANCEL_ACTION_PRESSED',\n\tATTACHMENT_SHARE_ACTION_PRESSED: 'ATTACHMENT_SHARE_ACTION_PRESSED',\n\tATTACHMENT_DELETE_ACTION_PRESSED: 'ATTACHMENT_DELETE_ACTION_PRESSED',\n\tEMAIL_ATTACHMENT_READ_QUERY_SUCCESS: 'EMAIL_ATTACHMENT_READ_QUERY_SUCCESS',\n\tEMAIL_ATTACHMENT_READ_QUERY_FAILED: 'EMAIL_ATTACHMENT_READ_QUERY_FAILED',\n\tATTACHMENT_MODAL_ITEM_ACTION_CLICKED: 'ATTACHMENT_MODAL_ITEM_ACTION_CLICKED',\n\n\tBROWSE_BUTTON_CLICKED: 'ATTACHMENT_BROWSE_BUTTON_CLICKED',\n\tBROWSE_MODAL_ACTION_CLICKED: 'ATTACHMENT_BROWSE_MODAL_ACTION_CLICKED',\n\n\tATTACH_FILES_FROM_RECORD: 'ATTACH_FILES_FROM_RECORD',\n\tATTACH_FILES_FROM_RECORD_SUCCESS: 'ATTACH_FILES_FROM_RECORD_SUCCESS',\n\tATTACH_FILES_FROM_RECORD_FAIL: 'ATTACH_FILES_FROM_RECORD_FAIL',\n\n\tATTACH_FILES: 'ATTACHMENT_ATTACH_FILES',\n\tFILES_UPLOADED: 'ATTACHMENT_FILES_UPLOADED',\n\tFILES_UPLOAD_SUCCEEDED: 'ATTACHMENT_FILES_UPLOAD_SUCCEEDED',\n\tFILES_UPLOAD_FAILED: 'ATTACHMENT_UPLOAD_FILES_FAILED',\n\n\tFILE_DELETED: 'ATTACHMENT_FILE_DELETED',\n\tFILE_DELETE_SUCCEEDED: 'FILE_DELETE_SUCCEEDED',\n\tFILE_DELETE_FAILED: 'FILE_DELETE_FAILED',\n\n\tATTACHMENT_MODAL_CARD_CHECKED: 'ATTACHMENT_MODAL_CARD_CHECKED',\n\n\tFILE_RENAMED: 'ATTACHMENT_FILE_RENAMED',\n\tFILE_RENAME_SUCCEEDED: 'FILE_RENAME_SUCCEEDED',\n\tFILE_RENAME_FAILED: 'FILE_RENAME_FAILED',\n\tFILE_NAME_CHAR_LIMIT: 100\n});\n\nexport const ATTACHMENT_CONTENT_DISPOSITION = Object.freeze({\n\tattachment: 'attachment',\n\tinline: 'inline'\n});\n\nexport const ATTACHMENT_STATES = Object.freeze({\n\tUPLOADING: 'uploading',\n\tPENDING: 'pending',\n\tNOT_AVAILABLE: 'not_available'\n});\n\nexport const ATTACHMENT_POSITION = Object.freeze({\n\tLAYOUT: 'attachment-block',\n\tMODAL: 'modal-list'\n});\n\n/**** Attachment limits ****/\nexport const MAX_ATTACHMENT_COUNT = getProperty(\n\t'glide.email.outbound.max_attachment_count',\n\t50\n);\nexport const MAX_ATTACHMENT_SIZE = getProperty(\n\t'com.glide.attachment.max_size',\n\t1024\n);\nexport const MAX_TOTAL_ATTACHMENTS_SIZE = getProperty(\n\t'glide.email.outbound.max_total_attachment_size_bytes',\n\t15728640\n);\n\nexport const ATTACHMENT_QUERY_CONSTANTS = Object.freeze({\n\tSYS_EMAIL: 'sys_email',\n\tSYSPARAM_TABLE: 'table_name',\n\tSYSPARAM_SYS_ID: 'table_sys_id',\n\tSYSPARAM_NOSTACK: 'sysparm_nostack',\n\tATTACHMENTS_MODIFIED: 'attachments_modified',\n\tENCRYPTION_CONTEXT: 'encryption_context',\n\tFILE: 'file',\n\tDRAFT_ID: 'draft_id',\n\tCONTENT_DISPOSITION: 'content_disposition'\n});\n\nexport const ATTACHMENT_CARDS_STATUS = Object.freeze({\n\tCOLLALPSED: 'collapsed',\n\tEXPANDED: 'expanded',\n\tNORMAL: 'normal'\n});\n\nexport const ATTACHMENT_CARD_ACTIONS = Object.freeze({\n\tATTACHMENT_DOWNLOAD_ACTION: 'ATTACHMENT#DOWNLOAD',\n\tATTACHMENT_DELETE_ACTION: 'ATTACHMENT#DELETE',\n\tATTACHMENT_UPDATE_ACTION: 'ATTACHMENT_UPDATE_ACTION',\n\tATTACHMENT_NOTIFICATION_ACTION: 'ADD_NOTIFICATIONS'\n});\n\nexport const ATTACHMENT_PREVIEW_CONSTANTS = Object.freeze({\n\tATTACHMENT_PREVIEW_LOAD: 'ATTACHMENT_PREVIEW#LOAD',\n\tDOC_VIEWER_CLOSE_DELETE_ACTION_CLICKED: 'DOCVIEWER#CLOSE_ACTION_CLICKED'\n});\n\nexport const DOC_VIEWER_STATES = Object.freeze({\n\tABSENT: 'absent',\n\tLOADING: 'loading',\n\tREADY: 'ready',\n\tDISABLED: 'disabled',\n\tFAILED: 'failed'\n})\n\nexport const ATTACHMENT_PREVIEW_ERROR_MAP = new Map([\n\t[DOC_VIEWER_STATES.FAILED, t(\"Attachment preview has failed to load. Try again later or contact your administrator\")],\n\t[DOC_VIEWER_STATES.DISABLED, t(\"Attachment preview has been disabled. Contact your administrator\")]\n  ]);\n  ","import { DOC_VIEWER_STATES } from '../constants';\n\nexport default {\n    attachmentToPreview: null,\n    docViewerState: DOC_VIEWER_STATES.ABSENT\n}","import { ATTACHMENT_CARDS_STATUS } from '../../commons/EmailAttachments/constants';\nimport previewIntialState from '../../commons/EmailAttachments/AttachmentPreview/initialState';\n\nexport default {\n\temailDataObject: null,\n\tshowDetails: false,\n\thasMore: false,\n\thasLess: false,\n\tcardsStatus: ATTACHMENT_CARDS_STATUS.NORMAL,\n\tmeta: {\n\t\troot: '',\n\t\thost: ''\n\t},\n\talertList: [],\n\tdocViewerEnabled: false,\n\t...previewIntialState\n};\n","export const NOW_ACTIONS = Object.freeze({\n\tNOW_DROPDOWN_ITEM_CLICKED: 'NOW_DROPDOWN#ITEM_CLICKED',\n\tNOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED:\n\t\t'NOW_DROPDOWN_CUSTOM_TARGET#ITEM_CLICKED',\n\tNOW_PILL_DISMISSED: 'NOW_PILL#DISMISSED',\n\tNOW_BUTTON_CLICKED: 'NOW_BUTTON#CLICKED',\n\tNOW_BUTTON_BARE_CLICKED: 'NOW_BUTTON_BARE#CLICKED',\n\tNOW_BUTTON_ICONIC_CLICKED: 'NOW_BUTTON_ICONIC#CLICKED',\n\tNOW_TEMPLATE_CARD_ATTACHMENT_ACTION_CLICKED:\n\t\t'NOW_TEMPLATE_CARD_ATTACHMENT#ACTION_CLICKED',\n\tNOW_MODAL_FOOTER_ACTION_CLICKED: 'NOW_MODAL#FOOTER_ACTION_CLICKED',\n\tNOW_MODAL_OPENED_SET: 'NOW_MODAL#OPENED_SET',\n\tNOW_CARD_CLICKED: 'NOW_CARD#CLICKED',\n\tNOW_BUTTON_STATEFUL_SELECTED_SET: 'NOW_BUTTON_STATEFUL#SELECTED_SET',\n\tNOW_INPUT_VALUE_SET: 'NOW_INPUT#VALUE_SET',\n\tNOW_INPUT_INVALID_SET: 'NOW_INPUT#INVALID_SET',\n\tADD_TO_ALERT_LIST: 'EMAIL_CLIENT#ADD_ALERTS',\n\tNOW_ALERT_LIST_UPDATED: 'NOW_ALERT_LIST#ITEMS_SET',\n\tNOW_CHECKBOX_CHECKED_SET: 'NOW_CHECKBOX#CHECKED_SET'\n});\n\nexport const ALERT_CONSTANTS = Object.freeze({\n\tSTATUS: {\n\t\tCRITICAL: 'critical',\n\t\tHIGH: 'high',\n\t\tMODERATE: 'moderate',\n\t\tWARNING: 'warning',\n\t\tINFO: 'info',\n\t\tPOSITIVE: 'positive',\n\t\tLOW: 'low'\n\t},\n\tICONS: {\n\t\tCRITICAL: 'circle-exclamation-outline',\n\t\tHIGH: 'exclamation-circle-outline',\n\t\tMODERATE: 'info-circle-fill',\n\t\tWARNING: 'exclamation-triangle-outline',\n\t\tINFO: 'circle-info-outline',\n\t\tPOSITIVE: 'circle-check-outline',\n\t\tLOW: 'low'\n\t},\n\tHEADER: {\n\t\tCRITICAL: 'Critical:',\n\t\tHIGH: 'High:',\n\t\tMODERATE: 'Moderate:',\n\t\tWARNING: 'Warning:',\n\t\tINFO: 'Info:',\n\t\tPOSITIVE: 'Positive:',\n\t\tLOW: 'Low:'\n\t},\n\tACTION: {\n\t\tTYPES: {\n\t\t\tDISMISS: 'dismiss',\n\t\t\tACKNOWLEDGE: 'acknowledge',\n\t\t\tOPEN: 'open'\n\t\t}\n\t}\n});\n","import { t } from 'sn-translate';\n\nexport const COMPOSITE_ACTIONS = Object.freeze({\n\tEMAIL_RECORD_INITIALISED: 'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#INITIALISED',\n\tEMAIL_DRAFT_FIELD_MODIFIED:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#FIELD_MODIFIED',\n\tEMAIL_DRAFT_RECORD_SEND_SUCESS:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#SEND_SUCCEEDED',\n\tEMAIL_DRAFT_RECORD_SEND_FAILED:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#SEND_FAILED',\n\tEMAIL_DRAFT_RECORD_SEND_CANCELED:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#SEND_CANCELED',\n\tEMAIL_DRAFT_RECORD_SAVE_SUCESS:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#SAVE_SUCCEEDED',\n\tEMAIL_DRAFT_RECORD_SAVE_FAILED:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#SAVE_FAILED',\n\tEMAIL_DRAFT_RECORD_SAVE_CANCELED:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#SAVE_CANCELED',\n  \tLOAD_DOCUMENT_VIEWER:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_DETAILS#LOAD_DOCUMENT_VIEWER',\n\tEMAIL_DRAFT_INITIALISED: 'EMAIL_CLIENT#DRAFT_INITIALISED',\n\tEMAIL_DRAFT_MODIFIED: 'EMAIL_CLIENT#DRAFT_MODIFIED',\n\tEMAIL_SUCCESSFULLY_SAVED: 'EMAIL_CLIENT#SAVE_SUCCEEDED',\n\tEMAIL_SUCCESSFULLY_SEND: 'EMAIL_CLIENT#SEND_SUCCEEDED',\n\tEMAIL_SEND_FAILED: 'EMAIL_CLIENT#SEND_FAILED',\n\tEMAIL_SAVE_FAILED: 'EMAIL_CLIENT#SAVE_FAILED',\n\tEMAIL_SHOW_HIDE_BUTTON_CLICKED: 'EMAIL_SHOW_HIDE_BUTTON_CLICKED',\n\tEMAIL_DRAFT_REINITIALISE_TRIGGERED: 'EMAIL_DRAFT_REINITIALISE_TRIGGERED'\n});\n\nexport const EMAIL_TABLES = Object.freeze({\n\tSENT_EMAIL: 'sys_email',\n\tDRAFT_EMAIL: 'sys_email_draft'\n});\n\nexport const EMAIL_DRAFT_TYPES = Object.freeze({\n\tNEW_DRAFT: 'new_draft',\n\tNEW_RESPONSE_DRAFT: 'new_response_draft',\n\tEXISTING_DRAFT: 'existing_draft'\n});\n\nexport const SEND_ERROR_MAP = new Map([\n\t[\n\t\t'read_failure',\n\t\tt(\n\t\t\t'Access is blocked. Contact your system administrator to verify permission.'\n\t\t)\n\t],\n\t[\n\t\t'write_failure',\n\t\tt(\n\t\t\t'Access is blocked. Contact your system administrator to verify permission.'\n\t\t)\n\t],\n\t[\n\t\t'role_failure',\n\t\tt(\n\t\t\t'Access is blocked. Contact your system administrator to verify permission.'\n\t\t)\n\t],\n\t[\n\t\t'failure',\n\t\tt(\n\t\t\t'An unexpected problem has occured. Contact your system administrator for help.'\n\t\t)\n\t],\n\t[\n\t\t'delete_failure',\n\t\tt(\n\t\t\t'Access is blocked. Contact your system administrator to verify permission.'\n\t\t)\n\t],\n\t[\n\t\t'send_fail',\n\t\tt(\n\t\t\t'There was an issue sending the email. Contact your system administrator for help.'\n\t\t)\n\t],\n\t['reply_to_failure', t('The email contains an invalid reply to field.')]\n]);\n","import { t } from 'sn-translate';\n\nexport const EMAIL_VIEWER_CONSTANTS = Object.freeze({\n\tEMAIL_RECORD_FETCHED: 'EMAIL_RECORD_FETCHED',\n\tEMAIL_RECORD_FETCHED_SUCCESS: 'EMAIL_RECORD_FETCHED_SUCCESS',\n\tEMAIL_RECORD_FETCHED_FAILURE: 'EMAIL_RECORD_FETCHED_FAILURE',\n\tRETRIEVE_TO_INFORMATION: 'RETRIEVE_TO_INFORMATION',\n\tRETRIEVE_TO_INFORMATION_SUCCESS: 'RETRIEVE_TO_INFORMATION_SUCCESS',\n\tRETRIEVE_TO_INFORMATION_FAILURE: 'RETRIEVE_TO_INFORMATION_FAILURE',\n\tRETRIEVE_CC_INFORMATION: 'RETRIEVE_CC_INFORMATION',\n\tRETRIEVE_CC_INFORMATION_SUCCESS: 'RETRIEVE_CC_INFORMATION_SUCCESS',\n\tRETRIEVE_CC_INFORMATION_FAILURE: 'RETRIEVE_CC_INFORMATION_FAILURE',\n\tRETRIEVE_BCC_INFORMATION: 'RETRIEVE_BCC_INFORMATION',\n\tRETRIEVE_BCC_INFORMATION_SUCCESS: 'RETRIEVE_BCC_INFORMATION_SUCCESS',\n\tRETRIEVE_BCC_INFORMATION_FAILURE: 'RETRIEVE_BCC_INFORMATION_FAILURE',\n\tEMAIL_CREATE_RESPONSE_DRAFT: 'EMAIL_CREATE_RESPONSE_DRAFT',\n\tEMAIL_CREATE_RESPONSE_DRAFT_SUCCESS: 'EMAIL_CREATE_RESPONSE_DRAFT_SUCCESS',\n\tEMAIL_CREATE_RESPONSE_DRAFT_FAILED: 'EMAIL_CREATE_RESPONSE_DRAFT_FAILED',\n\tSHOW_DETAILS_BUTTON_PRESSED: 'SHOW_DETAILS_BUTTON_PRESSED',\n\tLOAD_DOCUMENT_VIEWER: 'LOAD_DOCUMENT_VIEWER',\n\tPREVIEW_RECORD: 'NOW_EMAIL_CLIENT_VIEWER_CONNECTED#PREVIEW_RECORD'\n});\n\nexport const VALID_SENT_EMAIL_TYPES = ['sent', 'received'];\n\nexport const IMPORTANCE_MAP = Object.freeze({\n\thigh: 1\n});\n\nexport const HEADER_ACTION_BUTTONS = Object.freeze({\n\tREPLY_BUTTON: {\n\t\tlabel: t('Reply'),\n\t\tid: 'ec-header-reply',\n\t\ttype: 'reply',\n\t\tvariant: 'secondary'\n\t},\n\tREPLY_ALL_BUTTON: {\n\t\tlabel: t('Reply All'),\n\t\tid: 'ec-header-replyall',\n\t\ttype: 'replyall',\n\t\tvariant: 'secondary'\n\t},\n\tFORWARD_BUTTON: {\n\t\tlabel: t('Forward'),\n\t\tid: 'ec-header-forward',\n\t\ttype: 'forward',\n\t\tvariant: 'secondary'\n\t}\n});\n\nexport const DOC_VIEWER_CONSTANTS = Object.freeze({\n\tFETCH_DOC_VIEWER_FLAG: 'FETCH_DOC_VIEWER_FLAG',\n\tFETCH_DOC_VIEWER_FLAG_SUCCESS: 'FETCH_DOC_VIEWER_FLAG_SUCCESS',\n\tFETCH_DOC_VIEWER_FLAG_FAILURE: 'FETCH_DOC_VIEWER_FLAG_FAILURE'\n});\n","const GLIDE_RECORD_QUERY = 'GlideRecord_Query';\nconst GLIDE_EMAIL_QUERY = 'GlideEmail_Query';\n\nconst RESULTS = '_results';\nconst REFERENCE = '_reference';\nconst GLIDE_EMAIL_DOC_VIEWER_ENABLED_CHECK = 'getEmailTargetTableDocViewerFlag';\n\nconst DOC_VIEWER_FLAG_QUERY = `\nquery($table: String!) {\n\t${GLIDE_EMAIL_QUERY} {\n\t\t${GLIDE_EMAIL_DOC_VIEWER_ENABLED_CHECK}(table: $table) {\n\t\t\tisEnabled\n\t\t}\n\t}\n}\n`;\n\nconst EMAIL_CLIENT_RETRIEVE_SENT_EMAIL = `\nquery($sentEmailId: String!, $queryCondition: String!) {\n\t${GLIDE_RECORD_QUERY} {\n\t\tsys_email (sys_id: $sentEmailId) {\n\t\t\t${RESULTS} {\n\t\t\t\tbody {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tbody_text {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tcontent_type {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tsys_created_on {\n\t\t\t\t\tdisplayValue\n\t\t\t\t}\n\t\t\t\tsys_id {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\timportance {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tsubject {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\ttarget_table {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tinstance {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\ttype {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tuser_id {\n\t\t\t\t\t${REFERENCE} {\n\t\t\t\t\t\tname {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t\tavatar {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdirect {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tcopied {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tblind_copied {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsys_email_attachment(queryConditions: $queryCondition, pagination: {limit: 30, offset: 0}) {\n\t\t\t${RESULTS} {\n\t\t\t\tfile_name {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tcontent_disposition {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\tattachment {\n\t\t\t\t\t${REFERENCE} {\n\t\t\t\t\t\tfile_name {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsys_id {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsize_bytes {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontent_type {\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n`;\n\nconst RETRIEVE_RECIPIENT_INFORMATION = `\nquery($queryCondition: String!) {\n\t${GLIDE_RECORD_QUERY} {\n\t\tsys_user(queryConditions: $queryCondition) {\n\t\t\t_results {\n\t\t\t\tname {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\temail {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nexport const EMAIL_VIEWER_QUERIES = Object.freeze({\n\tEMAIL_CLIENT_RETRIEVE_SENT_EMAIL,\n\tRETRIEVE_RECIPIENT_INFORMATION,\n\tDOC_VIEWER_FLAG_QUERY\n});\n","const GLIDE_EMAIL_MUTATION = 'GlideEmail_Mutation';\nconst GLIDE_EMAIL_CREATE_RESPONSE_DRAFT = 'createResponseDraft';\n\nconst EMAIL_CLIENT_CREATE_RESPONSE_DRAFT = `\nmutation($emailRecordId: String!, $responseType: String!) {\n\t${GLIDE_EMAIL_MUTATION} {\n\t\t${GLIDE_EMAIL_CREATE_RESPONSE_DRAFT}(originalEmailId: $emailRecordId, responseType: $responseType) {\n\t\t\tsysId\n\t\t\tauthor\n\t\t\tsubject\n\t\t\ttargetTable\n\t\t\ttargetRecord\n\t\t\tbody\n\t\t\timportant\n\t\t\tfrom\n\t\t\tfromChoices\n\t\t\treplyTo\n\t\t\temails\n\t\t\tto {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tcc {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tbcc {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n            },\n            attachments {\n\t\t\t\tattachmentId\n\t\t\t\tcontentDisposition\n\t\t\t\tdraftId\n\t\t\t\tsysId\n\t\t\t\tattachment {\n\t\t\t\t\tname\n\t\t\t\t\tsize\n\t\t\t\t\tstate\n\t\t\t\t\tsysId\n\t\t\t\t\ttype\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nexport const COMMON_EMAIL_MUTATIONS = Object.freeze({\n\tEMAIL_CLIENT_CREATE_RESPONSE_DRAFT\n});\n","export default {\n\tUPLOAD_FILE: {\n\t\turl: 'api/now/draft_attachment/upload',\n\t\toptions: {\n\t\t\tmethod: 'POST',\n\t\t\tbatch: false,\n\t\t\theaders: {\n\t\t\t\t'X-WantSessionNotificationMessages': true,\n\t\t\t\t'X-UserToken': window.g_ck\n\t\t\t},\n\t\t\tdataParam: 'data'\n\t\t}\n\t},\n\tUPLOAD_INLINE_IMAGE: {\n\t\turl: '/api/now/attachment/upload',\n\t\toptions: {\n\t\t\tmethod: 'POST',\n\t\t\tbatch: false,\n\t\t\theaders: {\n\t\t\t\t'X-WantSessionNotificationMessages': true,\n\t\t\t\t'X-UserToken': window.g_ck\n\t\t\t},\n\t\t\tdataParam: 'data'\n\t\t}\n\t},\n\tDELETE_INLINE_IMAGE: {\n\t\turl: '/api/now/attachment/:sysId',\n\t\toptions: {\n\t\t\tmethod: 'DELETE',\n\t\t\tbatch: false,\n\t\t\theaders: {\n\t\t\t\t'X-WantSessionNotificationMessages': true,\n\t\t\t\t'X-UserToken': window.g_ck\n\t\t\t},\n\t\t\tpathParams: ['sysId']\n\t\t}\n\t}\n};\n","import { ATTACHMENT_CARDS_STATUS } from './constants';\n\nexport const isOverflow = cardsEl => {\n\tconst WIDTH_OF_ONE_ATTACHMENT_CARD = 224;\t\t\t//Unfortunate; Sigh.\n\tconst WIDTH_OF_CONTAINER = cardsEl.clientWidth;\n\tconst numberOfLinesRequired = (cardsEl.childElementCount * WIDTH_OF_ONE_ATTACHMENT_CARD)/ WIDTH_OF_CONTAINER;\n\treturn (numberOfLinesRequired > 2)\n};\n\nexport const handleExpandCollapse = (\n\tcardsEl,\n\thasMore,\n\thasLess,\n\tupdateState\n) => {\n\tif (cardsEl) {\n\t\tconst overflow = isOverflow(cardsEl);\n\t\tif (overflow) {\n\t\t\tif (hasMore || (!hasMore && !hasLess)) {\n\t\t\t\tcollapseCards(updateState);\n\t\t\t} else {\n\t\t\t\texpandCards(updateState);\n\t\t\t}\n\t\t} else {\n\t\t\tnormalCards(updateState);\n\t\t}\n\t}\n};\n\nexport const collapseCards = updateState => {\n\tupdateState({\n\t\thasMore: true,\n\t\thasLess: false,\n\t\tcardsStatus: ATTACHMENT_CARDS_STATUS.COLLALPSED\n\t});\n};\n\nexport const expandCards = updateState => {\n\tupdateState({\n\t\thasMore: false,\n\t\thasLess: true,\n\t\tcardsStatus: ATTACHMENT_CARDS_STATUS.EXPANDED\n\t});\n};\n\nexport const normalCards = updateState => {\n\tupdateState({\n\t\thasMore: false,\n\t\thasLess: false,\n\t\tcardsStatus: ATTACHMENT_CARDS_STATUS.NORMAL\n\t});\n};\n\nexport const getSelectedAttachmentCount = attachments => {\n\tlet count = 0;\n\tattachments.forEach(item => {\n\t\tif (item.selected) {\n\t\t\tcount++;\n\t\t}\n\t});\n\treturn count++;\n};\n","const GLIDE_ATTACHMENT_QUERY = 'GlideAttachmentQuery_Query';\nconst GLIDE_EMAIL_MUTATION = 'GlideEmail_Mutation';\nconst GET_ATTACHMENTS = 'attachments';\nconst GLIDE_EMAIL_DELETE_ATTACHMENT = 'deleteAttachment';\nconst GLIDE_EMAIL_RENAME_ATTACHMENT = 'renameAttachment';\nconst GLIDE_EMAIL_UPLOAD_ATTACHMENT_FROM_TARGET_RECORD =\n\t'addAttachmentsFromTargetRecord';\n\nconst RECORD_ATTACHMENT_QUERY = `\nquery($table: String!, $sysId: String!) {\n    ${GLIDE_ATTACHMENT_QUERY} {\n        ${GET_ATTACHMENTS}(table: $table, sysId: $sysId) {\n            records{\n\t\t\t\tname\n\t\t\t\tuserId\n\t\t\t\tuserName\n\t\t\t\tdate\n\t\t\t\tdateLabel\n\t\t\t\ttype\n\t\t\t\tstate\n\t\t\t\tsize\n\t\t\t\tsysId\n\t\t\t\tcanEditName\n\t\t\t\tcanDelete\n\t\t\t}\n\t\t\ttypes\n\t\t\textensions\n\t\t\tcanCreate\n\t\t\tfileNameLength\n        }\n    }\n}`;\n\nconst EMAIL_CLIENT_DELETE_ATTACHMENT = `\nmutation($sysId: String!) {\n    ${GLIDE_EMAIL_MUTATION} {\n        ${GLIDE_EMAIL_DELETE_ATTACHMENT}(id: $sysId)\n    }\n}`;\n\nconst EMAIL_CLIENT_RENAME_ATTACHMENT = `\nmutation($sysId: String!, $name: String!) {\n    ${GLIDE_EMAIL_MUTATION} {\n        ${GLIDE_EMAIL_RENAME_ATTACHMENT}(id: $sysId, name: $name) {\n            sysId\n            draftId\n            attachmentId\n            contentDisposition\n            attachment {\n              sysId\n              name\n              size\n              type\n              state\n            }\n        }\n    }\n}`;\n\nconst UPLOAD_ATTACHMENT_FROM_TARGET_RECORD = `\nmutation($draftId: String!, $attachmentIds: [String!]!) {\n    ${GLIDE_EMAIL_MUTATION} {\n        ${GLIDE_EMAIL_UPLOAD_ATTACHMENT_FROM_TARGET_RECORD}(draftId:$draftId, attachmentIds:$attachmentIds) {\n            sysId\n            draftId\n            attachmentId\n            contentDisposition\n            attachment {\n              sysId\n              name\n              size\n              type\n              state\n            }\n        }\n    }\n}`;\n\nexport const ATTACHMENTS_QUERY = {\n\tRECORD_ATTACHMENT_QUERY\n};\n\nexport const ATTACHMENT_MUTATIONS = {\n\tEMAIL_CLIENT_DELETE_ATTACHMENT,\n\tEMAIL_CLIENT_RENAME_ATTACHMENT,\n\tUPLOAD_ATTACHMENT_FROM_TARGET_RECORD\n};\n","import { t } from 'sn-translate';\nimport { ALERT_CONSTANTS } from '../../../constants/nowConstants';\nimport { MAX_ATTACHMENT_COUNT, MAX_TOTAL_ATTACHMENTS_SIZE } from '../constants';\n\nexport const ErrorMap = {\n\tATTACHMENT_BROWSE_FAIL: {\n\t\tcontent: t(\n\t\t\t'Unable to browse files due to an unexpected problem. Contact your system administrator for help.'\n\t\t)\n\t},\n\tATTACHMENT_NOT_FOUND: {\n\t\tcontent: t('No attachment found for the curent record.')\n\t},\n\tATTACHMENT_RENAME_FAILED: (fromName, toName) => ({\n\t\tcontent: t(\n\t\t\t\"The file '{0}' couldn't be renamed to '{1}', plese check file extention or ACLs.\",\n\t\t\tfromName,\n\t\t\ttoName\n\t\t)\n\t}),\n\tATTACHMENT_DELETE_NETWORK_ERROR: name => ({\n\t\tcontent: t(\n\t\t\t\"The attachment '{0}' failed to delete due to network errors. Please try agian.\",\n\t\t\tname\n\t\t)\n\t}),\n\tATTACHMENT_DELETE_FAILED: sysId => ({\n\t\tcontent: t(\n\t\t\t\"The attachment '{0}' couldn't be deleted, it is either not found or an error with ACLs.\",\n\t\t\tsysId\n\t\t)\n\t}),\n\tATTACHMENT_ADD_FROM_RECORD_FAIL: {\n\t\tcontent: t('Failed to add attachments from record.')\n\t},\n\tATTACHMENT_UPLOAD_ERROR: name => ({\n\t\tcontent: t(\n\t\t\t\"The file '{0}' failed to upload due to an unexpected problem. Contact your system administrator for help.\",\n\t\t\tname\n\t\t)\n\t}),\n\tATTACHMENTS_ALREADY_EXISTS: {\n\t\tcontent: t('Selected attachment is already present inside email draft.')\n\t},\n\tATTACHMENT_UPLOAD_INVALID_FILE_ERROR: name => ({\n\t\tcontent: t(\"The file '{0}' has an invalid format.\", name)\n\t}),\n\tATTACHMENT_UPLOAD_NETWORK_ERROR: name => ({\n\t\tcontent: t(\n\t\t\t\"The file '{0}' failed to upload due to network errors. Please try agian.\",\n\t\t\tname\n\t\t)\n\t}),\n\tATTACHMENT_UPLOAD_FOLDER_ERROR: name => ({\n\t\tcontent: t(\n\t\t\t\"The file '{0}' has an invalid format or a netwrok error occured.\",\n\t\t\tname\n\t\t)\n\t}),\n\tATTACHMENT_UPLOAD_SIZE_ERROR: (name, sizeLimit) => ({\n\t\tcontent: t(\n\t\t\t\"The file '{0}' is too large. Maximum upload size is {1} MB.\",\n\t\t\tname,\n\t\t\tsizeLimit\n\t\t)\n\t}),\n\tATTACHMENT_NAME_CHAR_LIMIT_ERROR: limit => ({\n\t\tcontent: t(\n\t\t\t'File name is truncated as it reached the character limit of {0}.',\n\t\t\tlimit\n\t\t)\n\t}),\n\tDEFAULT_ERROR: {\n\t\tid: `now_email_alert_${Date.now()}`,\n\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\ticon: ALERT_CONSTANTS.ICONS.HIGH,\n\t\tcontent: t(\n\t\t\t'An unexpected problem has occurred. Contact your system administrator for help.'\n\t\t),\n\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t},\n\tATTACHMENTS_LIMIT: new Map([\n\t\t[\n\t\t\t'attachment_count_limit',\n\t\t\t{\n\t\t\t\tcontent: t(\n\t\t\t\t\t'This email already has the maximum number of attachments ({0}).',\n\t\t\t\t\tMAX_ATTACHMENT_COUNT\n\t\t\t\t)\n\t\t\t}\n\t\t],\n\t\t[\n\t\t\t'attachment_size_limit',\n\t\t\t{\n\t\t\t\tcontent: t(\n\t\t\t\t\t'Total attachment size is greater than the maximum allowed limit ({0} bytes).',\n\t\t\t\t\tMAX_TOTAL_ATTACHMENTS_SIZE\n\t\t\t\t)\n\t\t\t}\n\t\t]\n\t])\n};\n\nexport const ERROR_REASONS = {\n\tSIZE_LIMIT_ERROR:\n\t\t\"Attachment's size is greater than the maximum allowed by the system\"\n};\n","import { ErrorMap } from './AttachmentErrorMap';\nimport { NOW_ACTIONS } from '../../../constants/nowConstants';\n\nexport const showAlert = (name, dispatch, args, ctx = window) => {\n\tconst defaultAlert = ErrorMap['DEFAULT_ERROR'];\n\tlet alert =\n\t\ttypeof name === 'object'\n\t\t\t? name\n\t\t\t: ErrorMap.ATTACHMENTS_LIMIT.get(name) || ErrorMap[name];\n\targs = Array.isArray(args) ? args : [args];\n\talert = typeof alert === 'function' ? alert.apply(ctx, args) : alert;\n\tconst { id, status, icon, header, content, action } = {\n\t\t...defaultAlert,\n\t\t...alert\n\t};\n\n\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\talerts: [{ id, status, icon, header, content, action }]\n\t});\n};\n","import { createHttpEffect } from '@servicenow/ui-effect-http';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { actionTypes } from '@servicenow/ui-core';\nimport resources from '../schemas/restQueries';\nimport { handleExpandCollapse } from '../utils';\nimport {\n\tATTACHMENT_MUTATIONS,\n\tATTACHMENTS_QUERY\n} from '../schemas/datasources';\nimport { showAlert } from '../AttachmentErrors/AttachmentErrorHandler';\nimport { get, partition } from 'lodash';\nimport { MAX_ATTACHMENT_SIZE } from '../constants';\nimport { ERROR_REASONS } from '../AttachmentErrors/AttachmentErrorMap';\n\nimport {\n\tATTACHMENT_CONSTANTS,\n\tATTACHMENT_CARD_ACTIONS,\n\tATTACHMENT_CONTENT_DISPOSITION,\n\tATTACHMENT_QUERY_CONSTANTS\n} from '../constants';\nimport { NOW_ACTIONS } from '../../../constants/nowConstants';\nimport { ErrorMap } from '../AttachmentErrors/AttachmentErrorMap';\nimport { COMPOSITE_ACTIONS } from '../../../constants/emailConstants';\n\nconst onBrowseButtonClick = ({ action, updateState }) => {\n\tupdateState({\n\t\t...action.payload\n\t});\n};\n\nconst onBrowseTypeSelect = ({ action: { payload }, state, dispatch }) => {\n\tif (\n\t\tpayload.nowAction.type ===\n\t\tNOW_ACTIONS.NOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED\n\t) {\n\t\tconst {item} = payload;\n\t\tconst {\n\t\t\ttargetRecord: { sysId, table },\n\t\t\tfileInputRef\n\t\t} = state;\n\n\t\tif (item.id === ATTACHMENT_CONSTANTS.BROWSE_FROM_COMPUTER) {\n\t\t\tfileInputRef.focus();\n\t\t\tfileInputRef.click();\n\t\t} else if (item.id === ATTACHMENT_CONSTANTS.BROWSE_FROM_RECORD) {\n\t\t\tdispatch(ATTACHMENT_CONSTANTS.GET_ATTACHMENTS_FROM_RECORD, {\n\t\t\t\tsysId,\n\t\t\t\ttable\n\t\t\t});\n\t\t}\n\t}\n};\n\nexport const getTruncatedFileName = fileName => {\n\tconst limit = ATTACHMENT_CONSTANTS.FILE_NAME_CHAR_LIMIT;\n\tif (fileName.includes('.')) {\n\t\tvar words = fileName.split('.');\n\t\tvar extention = words.pop();\n\t\tvar relativeLimit = limit - extention.length - 1;\n\t\tvar name = words.join('.').substring(0, relativeLimit);\n\t\treturn name + '.' + extention;\n\t} else {\n\t\treturn fileName.substring(0, limit - 1);\n\t}\n};\n\nconst attachFiles = ({\n\tstate,\n\taction: {\n\t\tpayload: { files }\n\t},\n\tdispatch,\n\tupdateState\n}) => {\n\tconst data = new FormData();\n\tdata.append(ATTACHMENT_QUERY_CONSTANTS.DRAFT_ID, state.emailRecord.sysId);\n\tdata.append(\n\t\tATTACHMENT_QUERY_CONSTANTS.CONTENT_DISPOSITION,\n\t\tATTACHMENT_CONTENT_DISPOSITION.attachment\n\t);\n\tfiles = Array.from(files).map(file => {\n\t\tdata.append(ATTACHMENT_QUERY_CONSTANTS.FILE, file);\n\t\treturn {\n\t\t\tname: getTruncatedFileName(file.name),\n\t\t\ttype: file.type,\n\t\t\tuploading: true,\n\t\t\tsize: file.size,\n\t\t\tisSystemFile: true\n\t\t};\n\t});\n\tupdateState({\n\t\tpath: 'attachments',\n\t\tvalue: files,\n\t\toperation: 'concat'\n\t});\n\tdispatch(ATTACHMENT_CONSTANTS.FILES_UPLOADED, { data });\n};\n\nconst uploadFiles = createHttpEffect(resources.UPLOAD_FILE.url, {\n\t...resources.UPLOAD_FILE.options,\n\tsuccessActionType: ATTACHMENT_CONSTANTS.FILES_UPLOAD_SUCCEEDED,\n\terrorActionType: ATTACHMENT_CONSTANTS.FILES_UPLOAD_FAILED\n});\n\nconst onFileUploadSuccess = ({\n\taction: { payload },\n\tupdateState,\n\tdispatch,\n\tstate\n}) => {\n\tconst { config: { docViewerEnabled }, attachments } = state;\n\tconst uploaded = payload.result.uploaded.map(file => {\n\t\treturn {\n\t\t\t...file.attachment,\n\t\t\tdraftId: file.draftId,\n\t\t\tattachmentId: file.sysId\n\t\t};\n\t});\n\tconst failed = payload.result.failed;\n\tconst uploadedAttachments = attachments.filter(\t\t\t//Remove failed attachments from list\n\t\tattachment => {\n\t\t\tconst { sysId, name } = attachment;\n\t\t\treturn sysId ? true : !(failed.findIndex(f => f.fileName === name) > -1);\t\t//Check for sysId since the same attachment can be added twice.\n\t\t}\n\t).map(\n\t\tattachment => {\n\t\t\tconst { sysId, name } = attachment;\n\t\t\tconst file =\n\t\t\t\tuploaded.find(f => (sysId ? sysId === f.sysId : name === f.name)) || {};\n\t\t\treturn { \n\t\t\t\t...attachment,\n\t\t\t\t...file,\n\t\t\t\tuploading: false\n\t\t\t};\n\t\t}\n\t);\n\tupdateState({\n\t\tattachments: uploadedAttachments\n\t});\n\n\tdispatch(COMPOSITE_ACTIONS.LOAD_DOCUMENT_VIEWER, {\n\t\tdocViewerEnabled\n\t});\n\n\t//Alert users regarding the failed attachement\n\tif (failed.length > 0) {\n\t\tconst alerts = failed.map(f => {\n\t\t\tconst reason = f.description || '';\n\t\t\tconst defaultAlert = ErrorMap['DEFAULT_ERROR'];\n\t\t\tif (ErrorMap.ATTACHMENTS_LIMIT.has(reason)) {\n\t\t\t\tconst limitError = ErrorMap.ATTACHMENTS_LIMIT.get(reason);\n\t\t\t\treturn { ...defaultAlert, ...limitError };\n\t\t\t} else if (reason === ERROR_REASONS.SIZE_LIMIT_ERROR) {\n\t\t\t\tconst sizeLimitError = ErrorMap['ATTACHMENT_UPLOAD_SIZE_ERROR'](\n\t\t\t\t\tf.fileName,\n\t\t\t\t\tMAX_ATTACHMENT_SIZE\n\t\t\t\t);\n\t\t\t\treturn { ...defaultAlert, ...sizeLimitError };\n\t\t\t} else if (reason.includes('Invalid file type')) {\n\t\t\t\tconst invaliFileTypeError = ErrorMap[\n\t\t\t\t\t'ATTACHMENT_UPLOAD_INVALID_FILE_ERROR'\n\t\t\t\t](f.fileName);\n\t\t\t\treturn { ...defaultAlert, ...invaliFileTypeError };\n\t\t\t} else {\n\t\t\t\tconst defaultUploadError = ErrorMap['ATTACHMENT_UPLOAD_ERROR'](\n\t\t\t\t\tf.fileName\n\t\t\t\t);\n\t\t\t\treturn { ...defaultAlert, ...defaultUploadError };\n\t\t\t}\n\t\t});\n\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, { alerts });\n\t}\n};\n\nconst onFileUploadFail = ({ action, dispatch, updateState, state }) => {\n\tconst formData = get(action, 'meta.request.data');\n\tconst failedFiles = formData.getAll(ATTACHMENT_QUERY_CONSTANTS.FILE) || [];\n\tlet { attachments } = state;\n\tupdateState({\n\t\tattachments: attachments.filter(attachment => \n\t\t\tattachment.uploading ? !failedFiles.find(f => f.name === attachment.name) : true\t\n\t\t)\n\t});\n\n\tconst alerts = failedFiles.map(f => {\n\t\tconst defaultAlert = ErrorMap['DEFAULT_ERROR'];\n\t\tconst message = get(action, 'payload.data.message', '');\n\t\tconst nwError = get(action, 'payload.message', '');\n\t\tconst serverError = get(action, 'payload.data.error');\n\t\tlet content;\n\t\tif (nwError === 'Network Error' && f.type === '') {\n\t\t\tcontent = ErrorMap['ATTACHMENT_UPLOAD_FOLDER_ERROR'](f.name);\n\t\t} else if (nwError === 'Network Error') {\n\t\t\tcontent = ErrorMap['ATTACHMENT_UPLOAD_NETWORK_ERROR'](f.name);\n\t\t} else if (serverError === 'Request Entity Too Large') {\n\t\t\tcontent = ErrorMap['ATTACHMENT_UPLOAD_SIZE_ERROR'](\n\t\t\t\tf.name,\n\t\t\t\tmessage.split(' ').pop()\n\t\t\t);\n\t\t} else {\n\t\t\tcontent = ErrorMap['ATTACHMENT_UPLOAD_ERROR'](f.name);\n\t\t}\n\t\treturn { ...defaultAlert, ...content };\n\t});\n\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, { alerts });\n};\n\nexport const onComponentRender = ({\n\taction: {\n\t\tpayload: { host }\n\t},\n\tstate: { hasMore, hasLess },\n\tupdateState\n}) => {\n\tconst cardsEl = host.shadowRoot.querySelector('.ec-attachments-cards');\n\thandleExpandCollapse(cardsEl, hasMore, hasLess, updateState);\n\n\twindow.addEventListener('resize', () => {\n\t\thandleExpandCollapse(cardsEl, hasMore, hasLess, updateState);\n\t});\n};\n\nconst findDraftAttachmentIdFromSysId = (sysId, attachmentList) =>\n\tattachmentList.find(attachment => attachment.sysId === sysId);\n\nconst handleAttachmentDelete = ({\n\taction: {\n\t\tpayload: { sysId }\n\t},\n\tstate: { attachments },\n\tdispatch\n}) => {\n\tconst attachmentToDelete = findDraftAttachmentIdFromSysId(sysId, attachments);\n\tif (attachmentToDelete) {\n\t\tdispatch(ATTACHMENT_CONSTANTS.FILE_DELETED, {\n\t\t\tsysId: attachmentToDelete.attachmentId\n\t\t});\n\t}\n};\n\nconst deleteFile = createGraphQLEffect(\n\tATTACHMENT_MUTATIONS.EMAIL_CLIENT_DELETE_ATTACHMENT,\n\t{\n\t\tvariableList: ['sysId'],\n\t\tsuccessActionType: ATTACHMENT_CONSTANTS.FILE_DELETE_SUCCEEDED,\n\t\terrorActionType: ATTACHMENT_CONSTANTS.FILE_DELETE_FAILED\n\t}\n);\n\nconst handleAttachmentRename = ({\n\taction: {\n\t\tpayload: { sys_id, file_name }\n\t},\n\tstate: { attachments },\n\tdispatch,\n\tupdateState\n}) => {\n\tconst attachmentToRename = findDraftAttachmentIdFromSysId(\n\t\tsys_id,\n\t\tattachments\n\t);\n\tconst { name: originalName } = attachmentToRename;\n\tif (attachmentToRename && originalName !== file_name) {\n\t\tdispatch(ATTACHMENT_CONSTANTS.FILE_RENAMED, {\n\t\t\tsysId: attachmentToRename.attachmentId,\n\t\t\tname: file_name\n\t\t});\n\t\tupdateState({\n\t\t\tattachments: attachments.map(item => {\n\t\t\t\tif (item.sysId === attachmentToRename.sysId) {\n\t\t\t\t\titem.name = file_name;\n\t\t\t\t}\n\t\t\t\treturn item;\n\t\t\t}),\n\t\t\tattachmentEditing: {\n\t\t\t\tsysId: attachmentToRename.sysId,\n\t\t\t\toriginalName: originalName,\n\t\t\t\trenameTo: file_name\n\t\t\t}\n\t\t});\n\t}\n};\n\nconst renameFile = createGraphQLEffect(\n\tATTACHMENT_MUTATIONS.EMAIL_CLIENT_RENAME_ATTACHMENT,\n\t{\n\t\tvariableList: ['sysId', 'name'],\n\t\tsuccessActionType: ATTACHMENT_CONSTANTS.FILE_RENAME_SUCCEEDED,\n\t\terrorActionType: ATTACHMENT_CONSTANTS.FILE_RENAME_FAILED\n\t}\n);\n\nconst renameFileSuccess = ({\n\taction: { payload },\n\tstate,\n\tdispatch,\n\tupdateState\n}) => {\n\tconst errors = get(payload, 'errors', []);\n\tconst {\n\t\tattachments,\n\t\tattachmentEditing: { originalName, renameTo, sysId }\n\t} = state;\n\tconst names = [originalName, renameTo];\n\tif (errors.length) {\n\t\tupdateState({\n\t\t\tattachmentEditing: null,\n\t\t\tattachments: attachments.map(item => {\n\t\t\t\tif (item.sysId === sysId) {\n\t\t\t\t\titem.name = originalName;\n\t\t\t\t}\n\t\t\t\treturn item;\n\t\t\t})\n\t\t});\n\t\tshowAlert('ATTACHMENT_RENAME_FAILED', dispatch, names);\n\t}\n};\n\nconst renameFileFail = ({ dispatch, state, updateState }) => {\n\tconst {\n\t\tattachmentEditing: { originalName, renameTo, sysId },\n\t\tattachments\n\t} = state;\n\tconst names = [originalName, renameTo];\n\tupdateState({\n\t\tattachmentEditing: null,\n\t\tattachments: attachments.map(item => {\n\t\t\tif (item.sysId === sysId) {\n\t\t\t\titem.name = originalName;\n\t\t\t}\n\t\t\treturn item;\n\t\t})\n\t});\n\tshowAlert('ATTACHMENT_RENAME_FAILED', dispatch, names);\n};\n\nconst onDeleteFileSuccess = ({ action, state, updateState, dispatch }) => {\n\tconst { payload } = action;\n\tif (payload.errors.length) {\n\t\tonDeleteFileFail({ action, dispatch });\n\t} else {\n\t\tconst sysId = get(\n\t\t\taction,\n\t\t\t'payload.data.GlideEmail_Mutation.deleteAttachment'\n\t\t);\n\t\tconst attachments = state.attachments.filter(\n\t\t\tfile => file.attachmentId !== sysId\n\t\t);\n\t\tupdateState({ attachments });\n\t}\n};\n\nconst onDeleteFileFail = ({ action, dispatch }) => {\n\tconst sysId = get(action, 'meta.options.variables.sysId');\n\tconst formData = get(action, 'meta.request.data');\n\tconst failedFile =\n\t\tformData && formData.getAll(ATTACHMENT_QUERY_CONSTANTS.FILE);\n\tconst fileName = (failedFile && failedFile.name) || sysId;\n\tconst nwError = get(action, 'payload.message', '');\n\n\tlet content;\n\tif (nwError === 'Network request failed') {\n\t\tcontent = ErrorMap['ATTACHMENT_DELETE_NETWORK_ERROR'](fileName);\n\t} else {\n\t\tcontent = ErrorMap['ATTACHMENT_DELETE_FAILED'](fileName);\n\t}\n\tconst defaultAlert = ErrorMap['DEFAULT_ERROR'];\n\tshowAlert({ ...defaultAlert, ...content }, dispatch);\n};\n\nconst getAttachmentsFromRecord = createGraphQLEffect(\n\tATTACHMENTS_QUERY.RECORD_ATTACHMENT_QUERY,\n\t{\n\t\tvariableList: ['table', 'sysId'],\n\t\tsuccessActionType:\n\t\t\tATTACHMENT_CONSTANTS.GET_ATTACHMENTS_FROM_RECORD_SUCCEEDED,\n\t\terrorActionType: ATTACHMENT_CONSTANTS.GET_ATTACHMENTS_FROM_RECORD_FAILED\n\t}\n);\n\nconst onGetAttachmentsFromRecordSuccess = ({\n\taction: { payload },\n\tstate,\n\tdispatch,\n\tupdateState\n}) => {\n\tconst {config: {docViewerEnabled}} = state;\n\tconst errors = get(payload, 'errors');\n\tconst attachments = get(\n\t\tpayload,\n\t\t'data.GlideAttachmentQuery_Query.attachments.records',\n\t\t[]\n\t);\n\tif (errors.length) {\n\t\tshowAlert('ATTACHMENT_BROWSE_FAIL', dispatch);\n\t} else {\n\t\tdispatch(COMPOSITE_ACTIONS.LOAD_DOCUMENT_VIEWER, {\n\t\t\tdocViewerEnabled\n\t\t});\n\t\tupdateState({\n\t\t\ttargetRecord: { ...state.targetRecord, attachments },\n\t\t\topenBrowseModal: true\n\t\t});\n\t}\n};\n\nconst onGetAttachmentsFromRecordFail = ({ dispatch }) => {\n\tshowAlert('ATTACHMENT_BROWSE_FAIL', dispatch);\n};\n\nconst uploadFilesFromRecord = createGraphQLEffect(\n\tATTACHMENT_MUTATIONS.UPLOAD_ATTACHMENT_FROM_TARGET_RECORD,\n\t{\n\t\tvariableList: ['draftId', 'attachmentIds'],\n\t\tsuccessActionType: ATTACHMENT_CONSTANTS.ATTACH_FILES_FROM_RECORD_SUCCESS,\n\t\terrorActionType: ATTACHMENT_CONSTANTS.ATTACH_FILES_FROM_RECORD_FAIL\n\t}\n);\nconst getAttachments = items => {\n\treturn items.map(item => {\n\t\tconst { sysId, draftId } = item;\n\t\treturn { ...item.attachment, draftId, attachmentId: sysId };\n\t});\n};\nconst uploadFilesFromRecordSuccess = ({\n\taction: { payload },\n\tstate,\n\tdispatch,\n\tupdateState\n}) => {\n\tconst {config: {docViewerEnabled}} = state;\n\tlet uploaded = get(\n\t\tpayload,\n\t\t'data.GlideEmail_Mutation.addAttachmentsFromTargetRecord',\n\t\t[]\n\t);\n\tlet { attachments } = state;\n\n\tif (payload.errors.length) {\n\t\tpayload.errors.forEach(error => showAlert(error.message, dispatch));\n\t} else if (uploaded.length) {\n\t\tuploaded = getAttachments(uploaded);\n\t\tattachments = [...attachments, ...uploaded];\n\t\tupdateState({ attachments });\n\t\tdispatch(COMPOSITE_ACTIONS.LOAD_DOCUMENT_VIEWER, {\n\t\t\tdocViewerEnabled\n\t\t});\n\t} else {\n\t\tshowAlert('ATTACHMENT_ADD_FROM_RECORD_FAIL', dispatch);\n\t}\n};\n\nconst uploadFilesFromRecordFail = ({ dispatch }) => {\n\tshowAlert('ATTACHMENT_ADD_FROM_RECORD_FAIL', dispatch);\n};\n\nconst onBrowseFromRecordActionClick = ({\n\taction,\n\tstate,\n\tdispatch,\n\tupdateState\n}) => {\n\tconst actionId = get(action, 'payload.footerAction.id', '');\n\tupdateState({ openBrowseModal: false });\n\tif (actionId === 'Add') {\n\t\tconst { targetRecord, emailRecord, attachments } = state;\n\n\t\tconst selectedIds = targetRecord.attachments\n\t\t\t.filter(item => item.selected)\n\t\t\t.map(item => item.sysId);\n\t\tconst partitions = partition(selectedIds, id =>\n\t\t\tattachments.find(att => att.sysId === id)\n\t\t);\n\t\tconst duplicates = partitions[0];\n\t\tconst tobeUploaded = partitions[1];\n\t\tif (duplicates.length) {\n\t\t\tshowAlert('ATTACHMENTS_ALREADY_EXISTS', dispatch);\n\t\t}\n\t\tif (tobeUploaded.length) {\n\t\t\tdispatch(ATTACHMENT_CONSTANTS.ATTACH_FILES_FROM_RECORD, {\n\t\t\t\tdraftId: emailRecord.sysId,\n\t\t\t\tattachmentIds: tobeUploaded\n\t\t\t});\n\t\t}\n\t}\n};\n\nconst handleAttachmentDownload = ({ action: { payload }, state }) => {\n\tconst { sysId } = payload;\n\tconst host = state.meta.host;\n\tconst link = host.shadowRoot.querySelector('#download_attachment_link');\n\tif (sysId && link) {\n\t\tlink.setAttribute('href', `/sys_attachment.do?sys_id=${sysId}`);\n\t\tlink.click();\n\t}\n};\n\nconst handleAttachmentModalCheckboxClicked = ({\n\taction: { payload },\n\tupdateState,\n\tstate: { targetRecord }\n}) => {\n\tconst { attachmentSelected } = payload;\n\tconst { attachments } = targetRecord;\n\tconst updatedAttachments = attachments.map(item => {\n\t\tif (item.sysId === attachmentSelected.sysId) {\n\t\t\titem.selected = payload.value;\n\t\t}\n\t\treturn item;\n\t});\n\tupdateState({\n\t\ttargetRecord: {\n\t\t\t...targetRecord,\n\t\t\tattachments: updatedAttachments\n\t\t}\n\t});\n};\n\nconst handleExtentionChange = ({ action: { payload }, dispatch }) => {\n\tconst { notifications } = payload;\n\tconst { message: content } = notifications.length ? notifications.pop() : '';\n\tconst defaultAlert = ErrorMap['DEFAULT_ERROR'];\n\tif (content) {\n\t\tdefaultAlert.content = content;\n\t}\n\n\tshowAlert(defaultAlert, dispatch);\n};\n\nexport default {\n\t[ATTACHMENT_CONSTANTS.BROWSE_BUTTON_CLICKED]: {\n\t\teffect: onBrowseButtonClick,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.ATTACHMENT_BROWSE_ACTION_CLICKED]: {\n\t\teffect: onBrowseTypeSelect,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.GET_ATTACHMENTS_FROM_RECORD]: {\n\t\t...getAttachmentsFromRecord,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.GET_ATTACHMENTS_FROM_RECORD_SUCCEEDED]: {\n\t\teffect: onGetAttachmentsFromRecordSuccess,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.GET_ATTACHMENTS_FROM_RECORD_FAILED]: {\n\t\teffect: onGetAttachmentsFromRecordFail,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.BROWSE_MODAL_ACTION_CLICKED]: {\n\t\teffect: onBrowseFromRecordActionClick,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.ATTACH_FILES_FROM_RECORD]: {\n\t\t...uploadFilesFromRecord,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.ATTACH_FILES_FROM_RECORD_SUCCESS]: {\n\t\teffect: uploadFilesFromRecordSuccess,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.ATTACH_FILES_FROM_RECORD_FAIL]: {\n\t\teffect: uploadFilesFromRecordFail,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.ATTACH_FILES]: {\n\t\teffect: attachFiles,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILES_UPLOADED]: {\n\t\t...uploadFiles,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILES_UPLOAD_SUCCEEDED]: {\n\t\teffect: onFileUploadSuccess,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILES_UPLOAD_FAILED]: {\n\t\teffect: onFileUploadFail,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILE_RENAMED]: {\n\t\t...renameFile,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILE_RENAME_SUCCEEDED]: {\n\t\teffect: renameFileSuccess,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILE_RENAME_FAILED]: {\n\t\teffect: renameFileFail,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILE_DELETED]: {\n\t\t...deleteFile,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILE_DELETE_SUCCEEDED]: {\n\t\teffect: onDeleteFileSuccess,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.FILE_DELETE_FAILED]: {\n\t\teffect: onDeleteFileFail,\n\t\tstopPropagation: true\n\t},\n\t[actionTypes.COMPONENT_RENDERED]: {\n\t\teffect: onComponentRender,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CARD_ACTIONS.ATTACHMENT_DOWNLOAD_ACTION]: {\n\t\teffect: handleAttachmentDownload,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CARD_ACTIONS.ATTACHMENT_DELETE_ACTION]: {\n\t\teffect: handleAttachmentDelete,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CARD_ACTIONS.ATTACHMENT_UPDATE_ACTION]: {\n\t\teffect: handleAttachmentRename,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CONSTANTS.ATTACHMENT_MODAL_CARD_CHECKED]: {\n\t\teffect: handleAttachmentModalCheckboxClicked,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CARD_ACTIONS.ATTACHMENT_NOTIFICATION_ACTION]: {\n\t\teffect: handleExtentionChange,\n\t\tstopPropagation: true\n\t}\n};\n","import { IMPORTANCE_MAP } from './constants';\nexport default class EmailViewerDataModel {\n\tconstructor(object) {\n\t\tif (!object) {\n\t\t\tthis.attachments = [];\n\t\t\tthis.to = [];\n\t\t\tthis.cc = [];\n\t\t\tthis.bcc = [];\n\t\t} else {\n\t\t\tthis.attachments = object.attachments;\n\t\t\tthis.to = object.to;\n\t\t\tthis.cc = object.cc;\n\t\t\tthis.bcc = object.bcc;\n\t\t\tthis.subject = object.subject;\n\t\t\tthis.userInfo = object.userInfo;\n\t\t\tthis.createdOn = object.createdOn;\n\t\t\tthis.type = object.type;\n\t\t\tthis.sysId = object.sysId;\n\t\t\tthis.important = object.important;\n\t\t\tthis.body = object.body;\n\t\t\tthis.targetTable = object.targetTable;\n\t\t\tthis.targetRecord = object.targetRecord;\n\t\t}\n\t}\n\n\tsetRecipientTo(toObject) {\n\t\tthis.to.push(toObject);\n\t}\n\n\tsetRecipientCc(ccObject) {\n\t\tthis.cc.push(ccObject);\n\t}\n\n\tsetRecipientBcc(bccObject) {\n\t\tthis.bcc.push(bccObject);\n\t}\n\n\tsetValues(actionObject) {\n\t\tconst {\n\t\t\tsubject,\n\t\t\tbody,\n\t\t\tbody_text,\n\t\t\tsys_created_on,\n\t\t\tsys_id,\n\t\t\timportance,\n\t\t\tuser_id,\n\t\t\ttarget_table,\n\t\t\tinstance,\n\t\t\ttype\n\t\t} = actionObject;\n\t\tif (user_id) {\n\t\t\tconst { _reference } = user_id;\n\t\t\tlet userInfo = {\n\t\t\t\tfullName: _reference.name ? _reference.name.value : null,\n\t\t\t\tavatarPath: _reference.avatar ? _reference.avatar.value : null\n\t\t\t};\n\t\t\tthis.userInfo = userInfo;\n\t\t} else {\n\t\t\tthis.userInfo = null;\n\t\t}\n\t\tthis.targetTable = target_table ? target_table.value : null;\n\t\tthis.targetRecord = instance ? instance.value : null;\n\t\tthis.createdOn = sys_created_on ? sys_created_on.displayValue : null;\n\t\tthis.type = type ? type.value : null;\n\t\tthis.sysId = sys_id ? sys_id.value : null;\n\t\tthis.important =\n\t\t\timportance && importance.value\n\t\t\t\t? IMPORTANCE_MAP[importance.value.toLowerCase()]\n\t\t\t\t: null;\n\t\tthis.subject = subject ? subject.value : null;\n\t\tthis.body = body\n\t\t\t? body.value\n\t\t\t\t? body.value\n\t\t\t\t: body_text\n\t\t\t\t? body_text.value\n\t\t\t\t: null\n\t\t\t: null;\n\t}\n\n\tsetAttachmentValues(actionObject) {\n\t\tconst { file_name, content_disposition, attachment } = actionObject;\n\t\tlet attachmentObject = {\n\t\t\tfileName: file_name ? file_name.value : null,\n\t\t\tcontentDisposition: content_disposition ? content_disposition.value : null\n\t\t};\n\t\tlet attachmentContent;\n\t\tif (attachment) {\n\t\t\tconst { _reference } = attachment;\n\t\t\tattachmentContent = {\n\t\t\t\tname: _reference.file_name ? _reference.file_name.value : null,\n\t\t\t\tstate: _reference.state ? _reference.state.value : null,\n\t\t\t\tsysId: _reference.sys_id ? _reference.sys_id.value : null,\n\t\t\t\tsize: _reference.size_bytes ? _reference.size_bytes.value : null,\n\t\t\t\ttype: _reference.content_type ? _reference.content_type.value : null\n\t\t\t};\n\t\t}\n\t\tthis.attachments.push({\n\t\t\t...attachmentObject,\n\t\t\tattachment: attachmentContent\n\t\t});\n\t}\n\n\tsetAttachments(attachmentArray) {\n\t\tattachmentArray.forEach(item => this.setAttachmentValues(item));\n\t}\n\n\tgetValues() {\n\t\treturn {\n\t\t\ttargetTable: this.targetTable,\n\t\t\ttargetRecord: this.targetRecord,\n\t\t\tsysId: this.sysId,\n\t\t\tto: this.to,\n\t\t\tcc: this.cc,\n\t\t\tbcc: this.bcc,\n\t\t\tsubject: this.subject,\n\t\t\tbody: this.body,\n\t\t\ttype: this.type,\n\t\t\timportant: this.important,\n\t\t\tuserInfo: this.userInfo,\n\t\t\tcreatedOn: this.createdOn,\n\t\t\tattachments: this.attachments\n\t\t};\n\t}\n}\n","import { EMAIL_VIEWER_CONSTANTS } from '../constants';\n\nconst handleShowDetailsButtonPressed = ({ updateState, state }) => {\n\tconst { showDetails } = state;\n\tupdateState({ showDetails: !showDetails });\n};\nexport default {\n\t[EMAIL_VIEWER_CONSTANTS.SHOW_DETAILS_BUTTON_PRESSED]: {\n\t\teffect: handleShowDetailsButtonPressed,\n\t\tstopPropagation: true\n\t}\n};\n","export const HEADER_BUTTON_ACTIONS = Object.freeze({\n\tHEADER_ACTION_BUTTON_CLICKED:\n\t\t'SN_EMAIL_CLIENT_INTERNAL_HEADER#HEADER_ACTION_BUTTON_CLICKED'\n});\n","/* eslint-disable no-console */\nimport { ATTACHMENT_PREVIEW_CONSTANTS, DOC_VIEWER_STATES, ATTACHMENT_PREVIEW_ERROR_MAP } from '../constants';\nimport { getComponentsByTagNames } from '@devsnc/library-uxf';\nimport { COMPOSITE_ACTIONS } from '../../../constants/emailConstants';\nimport { EMAIL_VIEWER_CONSTANTS } from '../../../components/now-email-client-viewer-connected/constants';\nimport { NOW_ACTIONS, ALERT_CONSTANTS } from '../../../constants/nowConstants';\n\nconst DOC_VIEWER_COMPONENT_TAG = \"sn-document-viewer\";\n\n/*\n * Downloads a single component tag\n */\nconst loadComponent = async (componentTag) => {\n  if (!componentTag) return;\n  return getComponentsByTagNames([componentTag])\n    .then(names => names)\n};\n\nconst loadDocViewer = ( {updateState, state: {docViewerState}, action : {payload} }) => {\n  if  (!payload.docViewerEnabled && docViewerState !== DOC_VIEWER_STATES.DISABLED) {\n    updateState({ docViewerState: DOC_VIEWER_STATES.DISABLED });\n    return;\n  }\n  else if (docViewerState !== DOC_VIEWER_STATES.ABSENT && \n      docViewerState === DOC_VIEWER_STATES.DISABLED) return;\n      \n  const isDefined = !!customElements.get(DOC_VIEWER_COMPONENT_TAG);\n  if (isDefined) {\n    updateState({docViewerState: DOC_VIEWER_STATES.READY});\n    return;\n  }\n  loadComponent(DOC_VIEWER_COMPONENT_TAG)\n    .catch(updateState({docViewerState: DOC_VIEWER_STATES.FAILED}));\n  \n  updateState({docViewerState: DOC_VIEWER_STATES.LOADING});\n\n  customElements.whenDefined(DOC_VIEWER_COMPONENT_TAG)\n  .then(() => \n    updateState({docViewerState: DOC_VIEWER_STATES.READY}))\n  .catch(() =>\n      updateState({docViewerState: DOC_VIEWER_STATES.FAILED}));\n}\n\nconst handleDocViewerCloseOrDelete = ( {updateState} ) =>\n    updateState({attachmentToPreview: null});\n\n\nconst loadAttachmentPreview = ( {updateState, action: {payload}, state, dispatch }) => {\n  const { docViewerState } = state;\n  if (ATTACHMENT_PREVIEW_ERROR_MAP.has(docViewerState)) {\n    dispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n      alerts: [\n        {\n          id: `now_email_alert_${Date.now()}`,\n          status: ALERT_CONSTANTS.STATUS.INFO,\n          icon: ALERT_CONSTANTS.ICONS.INFO,\n          content: ATTACHMENT_PREVIEW_ERROR_MAP.get(docViewerState),\n          action: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n        }\n      ]\n    });\n    return;\n  }\n  updateState({attachmentToPreview: payload.item});\n}\n\nexport default {\n    [COMPOSITE_ACTIONS.LOAD_DOCUMENT_VIEWER]: {\n        effect: loadDocViewer,\n        stopPropagation: true\n    },\n    [EMAIL_VIEWER_CONSTANTS.LOAD_DOCUMENT_VIEWER]: {\n      effect: loadDocViewer,\n      stopPropagation: true\n    },\n    [ATTACHMENT_PREVIEW_CONSTANTS.ATTACHMENT_PREVIEW_LOAD]: {\n      effect: loadAttachmentPreview,\n      stopPropagation: true\n    },\n    [ATTACHMENT_PREVIEW_CONSTANTS.DOC_VIEWER_CLOSE_DELETE_ACTION_CLICKED]: {\n      effect: handleDocViewerCloseOrDelete,\n      stopPropagation: true\n    }\n}","export const dispatchClassicAndUibActions = (componentHost, actionName, dispatch, payload) => {\n    const modifiedNodeName = componentHost.nodeName.replace(/-/g,\"_\");\n    dispatch(`${modifiedNodeName}#${actionName}`, payload);\n    dispatch(actionName, payload);\n}","/* eslint-disable no-console */\nimport { actionTypes } from '@servicenow/ui-core';\nimport { NOW_ACTIONS, ALERT_CONSTANTS } from '../../constants/nowConstants';\nimport { SEND_ERROR_MAP } from '../../constants/emailConstants';\nimport { EMAIL_VIEWER_CONSTANTS, DOC_VIEWER_CONSTANTS } from './constants';\nimport { ATTACHMENT_CARD_ACTIONS } from '../../commons/EmailAttachments/constants';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { EMAIL_VIEWER_QUERIES } from './schemas/datasources';\nimport { COMMON_EMAIL_MUTATIONS } from '../../commons/schemas/datasources';\nimport { onComponentRender } from '../../commons/EmailAttachments/Attachments/actionhandlers';\nimport EmailViewerDataModel from './dataModel';\nimport detailActionHandlers from './EmailDetails/actionHandlers';\nimport {HEADER_BUTTON_ACTIONS} from '../sn-email-client-internal-header/constants';\nimport previewActionHandlers from '../../commons/EmailAttachments/AttachmentPreview/actionHandlers';\nimport { dispatchClassicAndUibActions } from '../../commons/workspaceActionMap';\n\nconst handleNowActions = ({ action, dispatch }) => {\n\tlet { payload } = action;\n\tif (payload.dispatchedEvent) {\n\t\tdispatch(payload.dispatchedEvent, {\n\t\t\t...payload,\n\t\t\tnowAction: action\n\t\t});\n\t}\n};\n\nconst getEmailFromQueryCondition = query => {\n\tconst querySplit = query.split('=');\n\treturn querySplit[1];\n};\n\nconst handleComponentBoot = ({ dispatch, state, action, updateState }) => {\n\tconst {\n\t\tproperties: { emailRecordId }\n\t} = state;\n\tconst queryConditions = `email=${emailRecordId}`;\n\tdispatch(EMAIL_VIEWER_CONSTANTS.EMAIL_RECORD_FETCHED, {\n\t\tsentEmailId: emailRecordId,\n\t\tqueryCondition: queryConditions\n\t});\n\tupdateState({\n\t\tpath: 'meta',\n\t\tvalue: {\n\t\t\troot: action.payload.host.shadowRoot,\n\t\t\thost: action.payload.host\n\t\t},\n\t\toperation: 'set'\n\t});\n};\n\nconst handleEmailRecordFetch = createGraphQLEffect(\n\tEMAIL_VIEWER_QUERIES.EMAIL_CLIENT_RETRIEVE_SENT_EMAIL,\n\t{\n\t\tvariableList: ['sentEmailId', 'queryCondition'],\n\t\tsuccessActionType: EMAIL_VIEWER_CONSTANTS.EMAIL_RECORD_FETCHED_SUCCESS,\n\t\terrorActionType: EMAIL_VIEWER_CONSTANTS.EMAIL_RECORD_FETCHED_FAILURE\n\t}\n);\n\nconst getRecipientInformation = (direct, copied, blind_copied, dispatch) => {\n\tif (direct.value) {\n\t\tconst to = direct.value.split(',');\n\t\tto.forEach(item =>\n\t\t\tdispatch(EMAIL_VIEWER_CONSTANTS.RETRIEVE_TO_INFORMATION, {\n\t\t\t\tqueryCondition: `email=${item}`\n\t\t\t})\n\t\t);\n\t}\n\tif (copied.value) {\n\t\tconst cc = copied.value.split(',');\n\t\tcc.forEach(item =>\n\t\t\tdispatch(EMAIL_VIEWER_CONSTANTS.RETRIEVE_CC_INFORMATION, {\n\t\t\t\tqueryCondition: `email=${item}`\n\t\t\t})\n\t\t);\n\t}\n\tif (blind_copied.value) {\n\t\tconst bcc = blind_copied.value.split(',');\n\t\tbcc.forEach(item =>\n\t\t\tdispatch(EMAIL_VIEWER_CONSTANTS.RETRIEVE_BCC_INFORMATION, {\n\t\t\t\tqueryCondition: `email=${item}`\n\t\t\t})\n\t\t);\n\t}\n};\n\nconst handleFetchToInfo = createGraphQLEffect(\n\tEMAIL_VIEWER_QUERIES.RETRIEVE_RECIPIENT_INFORMATION,\n\t{\n\t\tvariableList: ['queryCondition'],\n\t\tsuccessActionType: EMAIL_VIEWER_CONSTANTS.RETRIEVE_TO_INFORMATION_SUCCESS,\n\t\terrorActionType: EMAIL_VIEWER_CONSTANTS.RETRIEVE_TO_INFORMATION_FAILURE\n\t}\n);\n\nconst handleToFetchSuccess = ({ action, state, updateState }) => {\n\tconst { payload, meta } = action;\n\tif (payload.data) {\n\t\tconst QUERY_PATH = payload.data.GlideRecord_Query.sys_user._results[0];\n\t\tlet newStateObject = new EmailViewerDataModel(state.emailDataObject);\n\t\tif (QUERY_PATH) {\n\t\t\tnewStateObject.setRecipientTo({\n\t\t\t\tname: QUERY_PATH.name.value,\n\t\t\t\temail: QUERY_PATH.email.value\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tpath: 'emailDataObject',\n\t\t\t\tvalue: newStateObject,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t} else {\n\t\t\tconst {\n\t\t\t\toptions: { variables }\n\t\t\t} = meta;\n\t\t\tconst emailAddress = getEmailFromQueryCondition(variables.queryCondition); //TODO: Workaround method to be replaced once the API comes in\n\t\t\tnewStateObject.setRecipientTo({\n\t\t\t\tname: '',\n\t\t\t\temail: emailAddress\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tpath: 'emailDataObject',\n\t\t\t\tvalue: newStateObject,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t}\n\t}\n};\n\nconst handleRecipientFetchFailure = ({ action }) => {\n\tconsole.warn('Recipient cant be fetched', action);\n};\n\nconst handleFetchCcInfo = createGraphQLEffect(\n\tEMAIL_VIEWER_QUERIES.RETRIEVE_RECIPIENT_INFORMATION,\n\t{\n\t\tvariableList: ['queryCondition'],\n\t\tsuccessActionType: EMAIL_VIEWER_CONSTANTS.RETRIEVE_CC_INFORMATION_SUCCESS,\n\t\terrorActionType: EMAIL_VIEWER_CONSTANTS.RETRIEVE_CC_INFORMATION_FAILURE\n\t}\n);\n\nconst handleCcFetchSuccess = ({ action, state, updateState }) => {\n\tconst { payload, meta } = action;\n\tif (payload.data) {\n\t\tconst QUERY_PATH = payload.data.GlideRecord_Query.sys_user._results[0];\n\t\tlet newStateObject = new EmailViewerDataModel(state.emailDataObject);\n\t\tif (QUERY_PATH) {\n\t\t\tnewStateObject.setRecipientCc({\n\t\t\t\tname: QUERY_PATH.name.value,\n\t\t\t\temail: QUERY_PATH.email.value\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tpath: 'emailDataObject',\n\t\t\t\tvalue: newStateObject,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t} else {\n\t\t\tconst {\n\t\t\t\toptions: { variables }\n\t\t\t} = meta;\n\t\t\tconst emailAddress = getEmailFromQueryCondition(variables.queryCondition);\n\t\t\tnewStateObject.setRecipientCc({\n\t\t\t\tname: '',\n\t\t\t\temail: emailAddress\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tpath: 'emailDataObject',\n\t\t\t\tvalue: newStateObject,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t}\n\t}\n};\n\nconst handleFetchBccInfo = createGraphQLEffect(\n\tEMAIL_VIEWER_QUERIES.RETRIEVE_RECIPIENT_INFORMATION,\n\t{\n\t\tvariableList: ['queryCondition'],\n\t\tsuccessActionType: EMAIL_VIEWER_CONSTANTS.RETRIEVE_BCC_INFORMATION_SUCCESS,\n\t\terrorActionType: EMAIL_VIEWER_CONSTANTS.RETRIEVE_BCC_INFORMATION_FAILURE\n\t}\n);\n\nconst handleBccFetchSuccess = ({ action, state, updateState }) => {\n\tconst { payload, meta } = action;\n\tif (payload.data) {\n\t\tconst QUERY_PATH = payload.data.GlideRecord_Query.sys_user._results[0];\n\t\tlet newStateObject = new EmailViewerDataModel(state.emailDataObject);\n\t\tif (QUERY_PATH) {\n\t\t\tnewStateObject.setRecipientBcc({\n\t\t\t\tname: QUERY_PATH.name.value,\n\t\t\t\temail: QUERY_PATH.email.value\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tpath: 'emailDataObject',\n\t\t\t\tvalue: newStateObject,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t} else {\n\t\t\tconst {\n\t\t\t\toptions: { variables }\n\t\t\t} = meta;\n\t\t\tconst emailAddress = getEmailFromQueryCondition(variables.queryCondition);\n\t\t\tnewStateObject.setRecipientBcc({\n\t\t\t\tname: '',\n\t\t\t\temail: emailAddress\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tpath: 'emailDataObject',\n\t\t\t\tvalue: newStateObject,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t}\n\t}\n};\n\nconst handleAttachmentDownload = ({ action: { payload }, state }) => {\n\tconst { sysId } = payload;\n\tconst host = state.meta.host;\n\tconst link = host.shadowRoot.querySelector('#download_attachment_link');\n\tif (sysId && link) {\n\t\tlink.setAttribute('href', `/sys_attachment.do?sys_id=${sysId}`);\n\t\tlink.click();\n\t}\n};\n\nconst getEmailDocViewerFlag = (targetTable, dispatch) => {\n\tdispatch(DOC_VIEWER_CONSTANTS.FETCH_DOC_VIEWER_FLAG, {\n\t\ttable: targetTable\n\t});\n}\n\nconst fetchDocViewerFlag = createGraphQLEffect(\n\tEMAIL_VIEWER_QUERIES.DOC_VIEWER_FLAG_QUERY,\n\t{\n\t\tvariableList: ['table'],\n\t\tsuccessActionType: DOC_VIEWER_CONSTANTS.FETCH_DOC_VIEWER_FLAG_SUCCESS,\n\t\terrorActionType: DOC_VIEWER_CONSTANTS.FETCH_DOC_VIEWER_FLAG_FAILURE\n\t}\n);\n\nconst docViewerFlagFetchSuccess = ({action: {payload}, updateState, dispatch, state: {emailDataObject}}) => {\n\tconst dataObj = emailDataObject;\n\tconst {attachments} = dataObj.getValues();\n\tconst isDocViewerEnabled = payload.data.GlideEmail_Query.getEmailTargetTableDocViewerFlag.isEnabled;\n\tif (attachments.length) {\n\t\tdispatch(EMAIL_VIEWER_CONSTANTS.LOAD_DOCUMENT_VIEWER, {\n\t\t\tdocViewerEnabled: isDocViewerEnabled\n\t\t})\n\t}\n\tupdateState({docViewerEnabled: isDocViewerEnabled});\n}\n\nconst docViewerFlagFetchFailure = ({ action }) => {\n\tconsole.error('Failed to fetch record', action);\n};\n\nconst handleEmailRecordFetchSuccess = ({\n\taction: { payload },\n\tupdateState,\n\tdispatch\n}) => {\n\tif (payload.data) {\n\t\tlet EmailDataObject = new EmailViewerDataModel();\n\t\tconst EMAIL_QUERY_PATH =\n\t\t\tpayload.data.GlideRecord_Query.sys_email._results[0];\n\t\tconst ATTACHMENT_QUERY_PATH =\n\t\t\tpayload.data.GlideRecord_Query.sys_email_attachment._results;\n\t\tEmailDataObject.setValues(EMAIL_QUERY_PATH);\n\t\tEmailDataObject.setAttachments(ATTACHMENT_QUERY_PATH);\n\t\tconst { direct, copied, blind_copied, target_table } = EMAIL_QUERY_PATH;\n\t\tupdateState({ emailDataObject: EmailDataObject });\n\t\tgetRecipientInformation(direct, copied, blind_copied, dispatch);\n\t\tgetEmailDocViewerFlag(target_table.value, dispatch);\n\t}\n};\n\nconst handleEmailRecordFetchFailure = ({ action }) => {\n\tconsole.error('Failed to fetch record', action);\n};\n\nconst createEmailResponseDraft = createGraphQLEffect(\n\tCOMMON_EMAIL_MUTATIONS.EMAIL_CLIENT_CREATE_RESPONSE_DRAFT,\n\t{\n\t\tvariableList: ['emailRecordId', 'responseType'],\n\t\tsuccessActionType:\n\t\t\tEMAIL_VIEWER_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT_SUCCESS,\n\t\terrorActionType: EMAIL_VIEWER_CONSTANTS.EMAIL_CLIENT_CREATE_RESPONSE_DRAFT\n\t}\n);\n\n/**\n * Here we are firing an API to create a ResponseDraft and monitoring it's result.\n * An error in the payload would result in displaying an alert message in the viewer,\n * whereas a valid sysId would then be dispatched with a PREVIEW_RECORD action.\n * Now ideally, all we would have needed to do is to dispatch a PREVIEW_RECORD actions with a sysId '-1' and a responseType,\n * which would have reduced the load time for a responseDraft.\n * But this wouldn't enable us to display the alert message inside the viewer.\n * This internal KungFu is unfortunate and would be replaced when a valid API for sys_email records is created! Peace to the world!\n */\n\nconst handleResponseButtonClicked = ({\n\tdispatch,\n\tstate: { properties },\n\taction: { payload }\n}) => {\n\tconst { actionType } = payload;\n\tdispatch(EMAIL_VIEWER_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT, {\n\t\temailRecordId: properties.emailRecordId,\n\t\tresponseType: actionType\n\t});\n};\n\nconst handleResponseCreationFail = ({ action }) => {\n\tif (action.error) {\n\t\tconsole.error('GraphQL Error', action);\n\t}\n};\n\nconst handleResponseCreationSuccess = ({ action: { payload }, dispatch, state }) => {\n\tif (payload.errors && payload.errors.length) {\n\t\tpayload.errors.forEach(error => {\n\t\t\tconst { message } = error;\n\t\t\tif (SEND_ERROR_MAP.has(message)) {\n\t\t\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\t\t\t\talerts: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\t\t\t\t\t\ticon: ALERT_CONSTANTS.ICONS.CRITICAL,\n\t\t\t\t\t\t\tcontent: SEND_ERROR_MAP.get(message),\n\t\t\t\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else if (payload.data) {\n\t\tconst QUERY_PATH = payload.data.GlideEmail_Mutation.createResponseDraft;\n\t\tconst { meta: { host } } = state;\n\t\tdispatchClassicAndUibActions(host, 'PREVIEW_RECORD', dispatch, {\n\t\t\ttable: 'sys_email_draft',\n\t\t\tsys_id: QUERY_PATH.sysId\n\t\t});\n\t}\n};\n\nconst addToAlertList = ({ action, state, updateState }) =>\n\tupdateState({\n\t\talertList: [...state.alertList, ...(action.payload.alerts || [])]\n\t});\n\nconst dismissAlertEffect = ({ action, updateState }) =>\n\tupdateState({\n\t\talertList: action.payload.value || []\n\t});\n\nexport default {\n\t...detailActionHandlers,\n\t...previewActionHandlers,\n\t[actionTypes.COMPONENT_BOOTSTRAPPED]: {\n\t\teffect: handleComponentBoot,\n\t\tstopPropagation: true\n\t},\n\t[actionTypes.COMPONENT_ERROR_THROWN]: coeffect => {\n\t\tconsole.log('ERROR', coeffect);\n\t},\n\t[actionTypes.COMPONENT_RENDERED]: {\n\t\teffect: onComponentRender,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_BUTTON_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.EMAIL_RECORD_FETCHED]: {\n\t\t...handleEmailRecordFetch,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.EMAIL_RECORD_FETCHED_SUCCESS]: {\n\t\teffect: handleEmailRecordFetchSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.EMAIL_RECORD_FETCHED_FAILURE]: {\n\t\teffect: handleEmailRecordFetchFailure,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_BUTTON_BARE_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_TO_INFORMATION]: {\n\t\t...handleFetchToInfo,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_TO_INFORMATION_SUCCESS]: {\n\t\teffect: handleToFetchSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_CC_INFORMATION]: {\n\t\t...handleFetchCcInfo,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_CC_INFORMATION_SUCCESS]: {\n\t\teffect: handleCcFetchSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_BCC_INFORMATION]: {\n\t\t...handleFetchBccInfo,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_BCC_INFORMATION_SUCCESS]: {\n\t\teffect: handleBccFetchSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_TO_INFORMATION_FAILURE]: {\n\t\teffect: handleRecipientFetchFailure,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_CC_INFORMATION_FAILURE]: {\n\t\teffect: handleRecipientFetchFailure,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.RETRIEVE_BCC_INFORMATION_FAILURE]: {\n\t\teffect: handleRecipientFetchFailure,\n\t\tstopPropagation: true\n\t},\n\t[ATTACHMENT_CARD_ACTIONS.ATTACHMENT_DOWNLOAD_ACTION]: {\n\t\teffect: handleAttachmentDownload,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_BUTTON_ACTIONS.HEADER_ACTION_BUTTON_CLICKED]: {\n\t\teffect: handleResponseButtonClicked,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT]: {\n\t\t...createEmailResponseDraft,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT_SUCCESS]: {\n\t\teffect: handleResponseCreationSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_VIEWER_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT_FAILED]: {\n\t\teffect: handleResponseCreationFail,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.ADD_TO_ALERT_LIST]: {\n\t\teffect: addToAlertList,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_ALERT_LIST_UPDATED]: {\n\t\teffect: dismissAlertEffect,\n\t\tstopPropagation: true\n\t},\n\t[DOC_VIEWER_CONSTANTS.FETCH_DOC_VIEWER_FLAG]: {\n\t\t...fetchDocViewerFlag,\n\t\tstopPropagation: true\n\t},\n\t[DOC_VIEWER_CONSTANTS.FETCH_DOC_VIEWER_FLAG_SUCCESS]: {\n\t\teffect: docViewerFlagFetchSuccess,\n\t\tstopPropagation: true\n\t},\n\t[DOC_VIEWER_CONSTANTS.FETCH_DOC_VIEWER_FLAG_FAILURE]: {\n\t\teffect: docViewerFlagFetchFailure,\n\t\tstopPropagation: true\n\t}\n};\n","import { NOW_ACTIONS } from '../../constants/nowConstants';\nimport { HEADER_BUTTON_ACTIONS } from './constants';\n\nconst handleHeaderButtonClicked = ({ action: { payload }, dispatch }) =>\n\tdispatch(HEADER_BUTTON_ACTIONS.HEADER_ACTION_BUTTON_CLICKED, {\n\t\tactionType: payload.headerType\n\t});\n\nexport default {\n\t[NOW_ACTIONS.NOW_BUTTON_CLICKED]: {\n\t\teffect: handleHeaderButtonClicked,\n\t\tstopPropagation: true\n\t}\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport styles from './styles.scss';\nimport actionHandlers from './actionHandlers';\nimport { HEADER_BUTTON_ACTIONS } from './constants';\n\n/**\n * Internal email client header component\n *\n * ```jsx\n * <sn-email-client-internal-header\n * \t\theading-value={..}\n * \t\theader-buttons={..}\n * />\n * ```\n *\n * @seismicElement sn-email-client-internal-header\n * @summary Internal email client header component\n *\n */\n\ncreateCustomElement('sn-email-client-internal-header', {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tproperties: {\n\t\t/**\n\t\t * The heading value - Expected to recieve a translated value.\n\t\t * @type {string}\n\t\t */\n\t\theadingValue: { default: '' },\n\t\t/**\n\t\t * The array of header action buttons\n\t\t * @type {Array.<HeaderActionButton>}}\n\t\t */\n\t\theaderButtons: { default: [] },\n\t\t/**\n\t\t * The size of top and bottom padding around header\n\t\t * @type {string}\n\t\t */\n\t\tpadding: {default: 'large'}\n\n\t},\n\tstyles,\n\tactionHandlers,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when a header action button is clicked.\n\t\t * @type {{actionType: string}}\n\t\t */\n\t\t[HEADER_BUTTON_ACTIONS.HEADER_ACTION_BUTTON_CLICKED]: {}\n\t}\n});\n","import '@servicenow/now-heading';\nimport '@servicenow/now-button';\nimport { t } from 'sn-translate';\n\nconst displayHeaderActions = options => {\n\treturn options.map(item => (\n\t\t<span className=\"ec-header-secondary-item\">\n\t\t\t<now-button\n\t\t\t\tvariant={item.variant}\n\t\t\t\tsize=\"md\"\n\t\t\t\tlabel={item.label}\n\t\t\t\tid={item.id}\n\t\t\t\ttooltip-content={`${item.label} ${t('Email')}`}\n\t\t\t\tappend-to-payload={{\n\t\t\t\t\theaderType: item.type\n\t\t\t\t}}\n\t\t\t/>\n\t\t</span>\n\t));\n};\n\nexport default state => {\n\tconst { headingValue, headerButtons, padding } = state.properties;\n\tif (headingValue !== null) {\n\t\treturn (\n\t\t\t<div className={`ec-header ec-header-padding-${padding}`}>\n\t\t\t\t<div className=\"ec-header-title\">\n\t\t\t\t\t<now-heading\n\t\t\t\t\t\tlabel={headingValue}\n\t\t\t\t\t\tlevel=\"2\"\n\t\t\t\t\t\thas-no-margin\n\t\t\t\t\t\tvariant=\"header-primary\"\n\t\t\t\t\t\twont-wrap\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ec-header-secondary-items\">\n\t\t\t\t\t{displayHeaderActions(headerButtons)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n};\n","import '@servicenow/now-avatar';\nimport '@servicenow/now-button';\nimport '@servicenow/now-pill';\nimport '@servicenow/now-icon';\nimport { t } from 'sn-translate';\nimport { EMAIL_VIEWER_CONSTANTS } from '../constants';\nimport '@servicenow/now-highlighted-value';\n// eslint-disable-next-line no-unused-vars\nimport { Fragment } from '@servicenow/ui-renderer-snabbdom';\n\nconst convertRecipientsIntoPills = (recipients, dataState) => {\n\treturn recipients.map(item => (\n\t\t<div className=\"ec-viewer-recipients\">\n\t\t\t<now-pill\n\t\t\t\tclassName={`ec-viewer-recipients-${dataState}`}\n\t\t\t\tkey={item.sysId}\n\t\t\t\tlabel={item.name ? item.name : item.email}\n\t\t\t\tsize=\"sm\"\n\t\t\t\tselected={false}\n\t\t\t\tmanage-selected\n\t\t\t/>\n\t\t</div>\n\t));\n};\n\nexport default options => {\n\tconst { userInfo, to, cc, bcc, showDetails, createdOn, important } = options;\n\tconst { fullName, avatarPath } = userInfo;\n\tconst imgSrc = `/${avatarPath}.iix`;\n\n\treturn (\n\t\t<div className=\"ec-details\">\n\t\t\t<div className=\"ec-details-user\">\n\t\t\t\t<div className=\"ec-details-user-avatar\">\n\t\t\t\t\t<now-avatar size=\"md\" user-name={fullName} image-src={imgSrc} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ec-details-user-more\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"ec-details-username\"\n\t\t\t\t\t\taria-label={t('sent by {0}', fullName)}>\n\t\t\t\t\t\t{fullName}\n\t\t\t\t\t</span>\n\t\t\t\t\t<div className=\"ec-details-user-more-date-important\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"ec-details-date\"\n\t\t\t\t\t\t\taria-label={t('sent on {0}', createdOn)}>\n\t\t\t\t\t\t\t{createdOn}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{important ? (\n\t\t\t\t\t\t\t<now-highlighted-value\n\t\t\t\t\t\t\t\tcolor=\"high\"\n\t\t\t\t\t\t\t\ticon=\"flag-outline\"\n\t\t\t\t\t\t\t\tlabel={t('Important')}\n\t\t\t\t\t\t\t\tshow-icon\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"ec-details-recipients\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t'ec-details-recipients-components ' +\n\t\t\t\t\t\t(showDetails ? 'margin-bottom' : '')\n\t\t\t\t\t}>\n\t\t\t\t\t<div\n\t\t\t\t\t\taria-label={t('sent to following')}\n\t\t\t\t\t\tclassName=\"ec-viewer-details-label\"\n\t\t\t\t\t\thtmlFor=\"ec-viewer-to\">\n\t\t\t\t\t\t{t('To:')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ec-viewer-to-more\">\n\t\t\t\t\t\t<span className=\"ec-viewer-details-list \" id=\"ec-viewer-to\">\n\t\t\t\t\t\t\t{convertRecipientsIntoPills(to, 'to')}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{showDetails ? (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{cc.length ? (\n\t\t\t\t\t\t\t<div className=\"ec-details-recipients-components cc margin-bottom\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\taria-label={t('carbon copied to following')}\n\t\t\t\t\t\t\t\t\tclassName=\"ec-viewer-details-label\"\n\t\t\t\t\t\t\t\t\thtmlFor=\"ec-viewer-cc\">\n\t\t\t\t\t\t\t\t\t{t('Cc:')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span className=\"ec-viewer-details-list\" id=\"ec-viewer-cc\">\n\t\t\t\t\t\t\t\t\t{convertRecipientsIntoPills(cc, 'cc')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{bcc.length ? (\n\t\t\t\t\t\t\t<div className=\"ec-details-recipients-components bcc margin-bottom\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\taria-label={t('blind carbon copied to following')}\n\t\t\t\t\t\t\t\t\tclassName=\"ec-viewer-details-label\"\n\t\t\t\t\t\t\t\t\thtmlFor=\"ec-viewer-bcc\">\n\t\t\t\t\t\t\t\t\t{t('Bcc:')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span className=\"ec-viewer-details-list\" id=\"ec-viewer-bcc\">\n\t\t\t\t\t\t\t\t\t{convertRecipientsIntoPills(bcc, 'bcc')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t\t{cc.length || bcc.length ? (\n\t\t\t\t\t<now-button-bare\n\t\t\t\t\t\tid=\"ec-viewer-showmore\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tlabel={!showDetails ? t('Show Details') : t('Hide Details')}\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\tdispatchedEvent:\n\t\t\t\t\t\t\t\tEMAIL_VIEWER_CONSTANTS.SHOW_DETAILS_BUTTON_PRESSED\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { createElementFromNode } from '@servicenow/ui-renderer-snabbdom';\n\nconst convertStringToHtml = body => {\n\tif (!document || !document.createElement) {\n\t\treturn;\n\t}\n\tconst fragment = document.createElement('DIV');\n\tfragment.innerHTML = body;\n\tfragment.setAttribute('id', 'ec-viewer-body-value');\n\treturn createElementFromNode(fragment);\n};\n\nexport default body => {\n\treturn <div className=\"ec-body-container\">{convertStringToHtml(body)}</div>;\n};\n","import { t } from 'sn-translate';\nimport { collapseCards, expandCards } from '../utils';\nimport {\n\tATTACHMENT_POSITION,\n\tATTACHMENT_CONSTANTS,\n} from '../constants';\nimport '@servicenow/now-checkbox';\nimport '@servicenow/now-record-common';\n\nconst getAttachmentItem = (attachment, currentUser, canEdit) => {\n\treturn {\n\t\tcanDelete: canEdit,\n\t\tcanEditName: canEdit,\n\t\tname: attachment.name,\n\t\tsize: attachment.size,\n\t\tstate: !attachment.uploading ? attachment.state : \"uploading\",\n\t\tsysId: attachment.sysId,\n\t\ttype: attachment.type,\n\t\tuserId: currentUser ? currentUser.sys_id : '',\n\t\tuserName: currentUser ? currentUser.userName : ''\n\t};\n};\n\nexport const getAttachmentCard = (\n\tattachment,\n\t{ currentUser },\n\t{ canEdit },\n\tposition\n) => {\n\tif (position === ATTACHMENT_POSITION.MODAL) {\n\t\treturn (\n\t\t\t<div className=\"ec-attachment-modal\">\n\t\t\t\t<div className=\"ec-attachment-modal-checkbox\">\n\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\tchecked={attachment.selected}\n\t\t\t\t\t\tid={`attachment-checkbox-${attachment.sysId}`}\n\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\tdispatchedEvent:\n\t\t\t\t\t\t\t\tATTACHMENT_CONSTANTS.ATTACHMENT_MODAL_CARD_CHECKED,\n\t\t\t\t\t\t\tattachmentSelected: attachment\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmanage-checked\n\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t'aria-label': attachment.selected\n\t\t\t\t\t\t\t\t? t('Click to deselect {0}', attachment.name)\n\t\t\t\t\t\t\t\t: t('Click to select {0}', attachment.name)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ec-attachment-modal-card\">\n\t\t\t\t\t<now-record-common-attachment-card\n\t\t\t\t\t\tid={`attachment-card-${attachment.sysId}`}\n\t\t\t\t\t\tcan-create={canEdit}\n\t\t\t\t\t\tclassName=\"ec-attachment-cards-modal\"\n\t\t\t\t\t\titem={getAttachmentItem(attachment, currentUser, canEdit)}\n\t\t\t\t\t\tmax-file-name-length={100}\n\t\t\t\t\t\tmode=\"compact\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\treturn (\n\t\t<div className=\"ec-attachment-card\">\n\t\t\t<now-record-common-attachment-card\n\t\t\t\tcan-create={canEdit}\n\t\t\t\titem={getAttachmentItem(attachment, currentUser, canEdit)}\n\t\t\t\tmax-file-name-length={100}\n\t\t\t\tmode=\"compact\"\n\t\t\t\tclassName=\"ec-attachment-cards-body\"\n\t\t\t\tdisplay-upload-progress-bar={attachment.uploading}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport const createAttachmentCards = (\n\tattachments,\n\tconfig,\n\tstate,\n\tupdateState,\n\tposition = ATTACHMENT_POSITION.LAYOUT\n) => {\n\tlet { hasMore, hasLess, cardsStatus } = state;\n\n\tif (config.scroll) {\n\t\thasMore = hasLess = false;\n\t\tcardsStatus = 'normal';\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={`ec-attachments-cards ${cardsStatus} ${position}`}>\n\t\t\t\t{attachments.map(attachment => getAttachmentCard(attachment, state, config, position))}\n\t\t\t</div>\n\t\t\t{hasMore || hasLess ? (\n\t\t\t\t<now-button-bare\n\t\t\t\t\tid=\"email-attachments-show-more-less\"\n\t\t\t\t\tclassName=\"show-more\"\n\t\t\t\t\tlabel={hasMore ? t('Show More') : t('Show Less')}\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\ttooltip-content={hasMore ? t('Show More') : t('Show Less')}\n\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t'aria-label': hasMore ? t('Show More') : t('Show Less')\n\t\t\t\t\t}}\n\t\t\t\t\ton-click={() => {\n\t\t\t\t\t\tif (hasMore) {\n\t\t\t\t\t\t\texpandCards(updateState);\n\t\t\t\t\t\t} else if (hasLess) {\n\t\t\t\t\t\t\tcollapseCards(updateState);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t\t<a\n\t\t\t\tid=\"download_attachment_link\"\n\t\t\t\tclassName=\"ec-hidden\"\n\t\t\t\thref=\"/sys_attachment.do\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\tdownload>\n\t\t\t\tDownload\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n","import { createAttachmentCards } from '../../commons/EmailAttachments/AttachmentCards/AttachmentCards';\nimport { VALID_SENT_EMAIL_TYPES } from './constants';\nimport { ATTACHMENT_CONTENT_DISPOSITION } from '../../commons/EmailAttachments/constants';\nimport { HEADER_ACTION_BUTTONS } from './constants';\n\nconst cardsConfig = {\n\tselection: false,\n\tscroll: false,\n\tcanEdit: false\n};\n\nexport const createAttachmentTiles = (attachments, state, updateState) => {\n\treturn createAttachmentCards(attachments, cardsConfig, state, updateState);\n};\n\nexport const getAttachmentTileCount = attachments => {\n\treturn attachments\n\t\t.filter(\n\t\t\tattachment =>\n\t\t\t\tattachment.contentDisposition &&\n\t\t\t\tattachment.contentDisposition.toLowerCase() ===\n\t\t\t\t\tATTACHMENT_CONTENT_DISPOSITION.attachment\n\t\t)\n\t\t.map(item => {\n\t\t\tconst { attachment, draftId, sysId } = item;\n\t\t\treturn { ...attachment, draftId, attachmentId: sysId };\n\t\t});\n};\n\nexport const checkEmailTypeAndSentActions = type => {\n\tif (VALID_SENT_EMAIL_TYPES.includes(type)) {\n\t\treturn [\n\t\t\tHEADER_ACTION_BUTTONS.REPLY_BUTTON,\n\t\t\tHEADER_ACTION_BUTTONS.REPLY_ALL_BUTTON,\n\t\t\tHEADER_ACTION_BUTTONS.FORWARD_BUTTON\n\t\t];\n\t}\n\treturn [];\n};\n","import { DOC_VIEWER_STATES } from '../constants';\nimport { t } from 'sn-translate';\nimport { ATTACHMENT_PREVIEW_ERROR_MAP } from '../constants';\nimport { NOW_ACTIONS, ALERT_CONSTANTS } from '../../../constants/nowConstants';\n \nexport default (attachment, docViewerState, dispatch) => {\n    const {sysId} = attachment;\n    switch (docViewerState) {\n        case DOC_VIEWER_STATES.LOADING: \n            return (\n                <div className=\"doc-viewer-loader\">\n                    <span aria-live=\"assertive\" className=\"loader-container\">\n                        <now-loader size=\"lg\" label={t('Loading')} />\n                    </span>\n                </div>  \n            )\n        case DOC_VIEWER_STATES.READY:\n            return (\n                <div className=\"email-client-attachment-preview-overlay\">\n                    <sn-document-viewer\n                        sys-id={sysId}\n                        delete-hidden='true'\n                    />\n                </div>\n            )\n        case DOC_VIEWER_STATES.FAILED:\n            dispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n                alerts: [\n                  {\n                    id: `now_email_alert_${Date.now()}`,\n                    status: ALERT_CONSTANTS.STATUS.INFO,\n                    icon: ALERT_CONSTANTS.ICONS.INFO,\n                    content: ATTACHMENT_PREVIEW_ERROR_MAP.get(docViewerState),\n                    action: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n                  }\n                ]\n            });\n        break;\n    }   \n}","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport initialState from './initialState';\nimport actionHandlers from './actionHandlers';\nimport view from './view';\nimport styles from './styles.scss';\nimport { EMAIL_VIEWER_CONSTANTS } from './constants';\n\n/**\n * Lets users, such as workspace agents, view sent emails to verify information and formatting.\n *\n * ```jsx\n * <now-email-client-viewer-connected\n * \t\temail-record-id={..}\n * />\n * ```\n *\n * @seismicElement now-email-client-viewer-connected\n * @summary Enables users to view sent emails.\n *\n */\nexport const NowEmailClientViewer = 'now-email-client-viewer-connected';\ncreateCustomElement(NowEmailClientViewer, {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tinitialState,\n\tproperties: {\n\t\temailRecordId: {}\n\t},\n\tactionHandlers,\n\tstyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when a response action is clicked on the email viewer header.\n\t\t * @type {PreviewRecordPayload}\n\t\t */\n\t\t[EMAIL_VIEWER_CONSTANTS.PREVIEW_RECORD]: {}\n\t}\n});\n","import '../sn-email-client-internal-header';\nimport { t } from 'sn-translate';\nimport EmailDetails from './EmailDetails/EmailDetails';\nimport EmailBody from './EmailBody/EmailBody';\nimport {\n\tcreateAttachmentTiles,\n\tgetAttachmentTileCount,\n\tcheckEmailTypeAndSentActions\n} from './utils';\nimport isEmpty from 'lodash/isEmpty';\nimport '@servicenow/now-loader';\nimport '@servicenow/now-alert';\nimport PreviewAttachment from '../../commons/EmailAttachments/AttachmentPreview/AttachmentPreview';\nimport { DOC_VIEWER_STATES } from '../../commons/EmailAttachments/constants';\n\nexport default (state, { updateState, dispatch }) => {\n\tconst { emailDataObject, showDetails, alertList = [], attachmentToPreview, docViewerState } = state;\n\tif (!emailDataObject) {\n\t\treturn (\n\t\t\t<div className=\"ec-loader\">\n\t\t\t\t<span aria-live=\"assertive\" className=\"ec-loader-container\">\n\t\t\t\t\t<now-loader size=\"lg\" label={t('Loading')} />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\tconst {\n\t\tsubject,\n\t\tto,\n\t\tcc,\n\t\tbcc,\n\t\tbody,\n\t\tuserInfo,\n\t\ttype,\n\t\tcreatedOn,\n\t\timportant,\n\t\tattachments = []\n\t} = emailDataObject.getValues();\n\tconst attachmentTileCount = getAttachmentTileCount(attachments);\n\tconst hasAlertList = alertList && !isEmpty(alertList);\n\tconst isDocViewerLoading = attachmentToPreview && (docViewerState === DOC_VIEWER_STATES.LOADING);\n\tconst docViewerLoaderClassName = isDocViewerLoading ? 'doc-viewer-loading' : '';\n\treturn (\n\t\t<div className=\"ec-viewer\" role=\"main\">\n\t\t\t{attachmentToPreview ? PreviewAttachment(attachmentToPreview, docViewerState, dispatch) : ''}\n\t\t\t<sn-email-client-internal-header\n\t\t\t\tclassName={`${docViewerLoaderClassName}`}\n\t\t\t\theadingValue={subject}\n\t\t\t\theaderButtons={checkEmailTypeAndSentActions(type)}\n\t\t\t/>\n\t\t\t<hr className={`ec-divider ${docViewerLoaderClassName}`} />\n\t\t\t<div className={`ec-viewer-details ${docViewerLoaderClassName}`}>\n\t\t\t\t{EmailDetails({\n\t\t\t\t\tuserInfo,\n\t\t\t\t\tto,\n\t\t\t\t\tcc,\n\t\t\t\t\tbcc,\n\t\t\t\t\tsubject,\n\t\t\t\t\tshowDetails,\n\t\t\t\t\tcreatedOn,\n\t\t\t\t\timportant\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t{attachmentTileCount.length ? (\n\t\t\t\t<div className={`ec-viewer-attachments ${docViewerLoaderClassName}`}>\n\t\t\t\t\t<div className=\"ec-viewer-attachments-label\">{t('Attachments:')}</div>\n\t\t\t\t\t<div className=\"ec-viewer-attachments-list\">\n\t\t\t\t\t\t{createAttachmentTiles(attachmentTileCount, state, updateState)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t\t<hr className={`ec-divider ${docViewerLoaderClassName}`} />\n\t\t\t<div className={`ec-viewer-body ${docViewerLoaderClassName}`}>\n\t\t\t\t{EmailBody(body)}\n\t\t\t</div>\n\t\t\t{hasAlertList ? (\n\t\t\t\t<div className={`ec-alerts-container ${docViewerLoaderClassName}`}>\n\t\t\t\t\t<span aria-live=\"assertive\">\n\t\t\t\t\t\t<now-alert-list\n\t\t\t\t\t\t\titems={alertList}\n\t\t\t\t\t\t\tmanage-items={true}\n\t\t\t\t\t\t\tclassName=\"ec-alerts\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import { t } from 'sn-translate';\n\nexport const EMAIL_MINI_COMPOSER_ACTIONS = Object.freeze({\n\tEMAIL_DRAFT_INITIALISED:\n\t\t'NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#DRAFT_INITIALISED',\n\tEMAIL_DRAFT_MODIFIED:\n\t\t'NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#DRAFT_MODIFIED',\n\tEMAIL_DRAFT_SEND_SUCCESS:\n\t\t'NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#DRAFT_SEND_SUCCEEDED',\n\tEMAIL_DRAFT_SAVE_SUCCESS:\n\t\t'NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#DRAFT_SAVE_SUCCEEDED',\n\tEMAIL_CLIENT_POP_OUT_BUTTON_CLICKED: 'EMAIL_CLIENT_POP_OUT_BUTTON_CLICKED',\n\tEMAIL_CLIENT_POP_OUT_SUCCEEDED: \n\t\t'NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#POP_OUT_SUCCEEDED',\n\tATTACHMENTS_ADDED: \n\t\t'NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#ATTACHMENTS_ADDED',\n\tPREVIEW_RECORD:\n\t\t'NOW_EMAIL_CLIENT_MINI_COMPOSER_CONNECTED#PREVIEW_RECORD'\n});\n\nexport const HEADER_ACTION_BUTTONS = Object.freeze({\n\tSEND_BUTTON: {\n\t\tlabel: t('Send Email'),\n\t\tid: 'ec-header-send',\n\t\tvariant: 'secondary',\n\t\ttype: 'send'\n\t},\n\tSAVE_BUTTON: {\n\t\tlabel: t('Save as draft'),\n\t\tid: 'ec-header-save',\n\t\tvariant: 'tertiary',\n\t\ttype: 'save'\n\t}\n});\n","import { getProperty } from 'sn-uxpage-presource';\nimport { t } from 'sn-translate';\n\nexport const EMAIL_DRAFT_CONSTANTS = Object.freeze({\n\tEMAIL_CONFIG_REQUESTED: 'EMAIL_CONFIG_REQUESTED',\n\tEMAIL_CONFIG_FETCH_SUCCEEDED: 'EMAIL_CONFIG_FETCH_SUCCEEDED',\n\tEMAIL_CONFIG_FETCH_FAILED: 'EMAIL_CONFIG_FETCH_FAILED',\n\tEMAIL_CREATE_DRAFT_FROM_RECORD: 'EMAIL_CREATE_DRAFT_FROM_RECORD',\n\tEMAIL_CREATE_RESPONSE_DRAFT: 'EMAIL_CREATE_RESPONSE_DRAFT',\n\tEMAIL_CREATE_RESPONSE_DRAFT_SUCCESS: 'EMAIL_CREATE_RESPONSE_DRAFT_SUCCESS',\n\tEMAIL_CREATE_RESPONSE_DRAFT_FAILED: 'EMAIL_CREATE_RESPONSE_DRAFT_FAILED',\n\tDRAFT_RECORD_CREATION_SUCCESS: 'DRAFT_RECORD_CREATION_SUCCESS',\n\tDRAFT_RECORD_CREATION_FAILED: 'DRAFT_RECORD_CREATION_FAILED',\n\tRETRIEVE_EMAIL_BY_ID: 'RETRIEVE_EMAIL_BY_ID',\n\tRETRIEVE_EMAIL_BY_ID_SUCCESS: 'RETRIEVE_EMAIL_BY_ID_SUCCESS',\n\tRETRIEVE_EMAIL_BY_ID_FAILURE: 'RETRIEVE_EMAIL_BY_ID_FAILURE',\n\tEMAIL_CLIENT_MODAL_CONFIRMATION_BUTTON_CLICKED:\n\t\t'EMAIL_CLIENT_MODAL_CONFIRMATION_BUTTON_CLICKED'\n});\n\nexport const EMAIL_TABLES = {\n\tSENT_EMAIL: 'sys_email',\n\tDRAFT_EMAIL: 'sys_email_draft'\n};\n\nexport const EMAIL_RENDERING_STATUS = Object.freeze({\n\tSENDING: 'Sending',\n\tSAVING: 'Saving',\n\tNONE: 'none'\n});\n\nexport const isDragDropEnabled = getProperty(\n\t'glide.ui.attachment_drag_and_drop',\n\ttrue\n);\n\nexport const EDITOR_CONSTANTS = Object.freeze({\n\tATTACH_INLINE_IMAGES: 'EMAIL_EDITOR#ATTACH_INLINE_IMAGES',\n\tUPLOAD_INLINE_IMAGES: 'EMAIL_EDITOR#UPLOAD_INLINE_IMAGES',\n\tUPLOAD_INLINE_IMAGES_SUCCESS: 'EMAIL_EDITOR#UPLOAD_INLINE_IMAGES_SUCCESS',\n\tUPLOAD_INLINE_IMAGES_FAIL: 'EMAIL_EDITOR#UPLOAD_INLINE_IMAGES_FAIL',\n\n\tDELETE_INLINE_IMAGES: 'EMAIL_EDITOR#DELETE_INLINE_IMAGES',\n\tDELETE_INLINE_IMAGE: 'EMAIL_EDITOR#DELETE_INLINE_IMAGE',\n\tDELETE_INLINE_IMAGE_SUCCEESS: 'EMAIL_EDITOR#DELETE_INLINE_IMAGE_SUCCEESS',\n\tDELETE_INLINE_IMAGE_FAIL: 'EMAIL_EDITOR#DELETE_INLINE_IMAGE_FAIL',\n\n\tUPLOAD_PROGRESS: 'EMAIL_EDITOR#UPLOAD_PROGRESS',\n\n\tFILE_DRAGOVER: 'FILE_DRAGOVER',\n\tEMAIL_EDITOR_MIN_LINE_COUNT: 16,\n\n\tQUICK_MESSAGE_INSERT_CONTENT: 'QUICK_MESSAGE_INSERT_CONTENT',\n\tEDITOR_VALUE_CHANGED: 'NOW_RECORD_HTML_EDITOR#VALUE_CHANGED'\n});\n\nexport const FROM_CONSTANTS = Object.freeze({\n\tEMAIL_FROM_DROPDOWN_ACTION: 'EMAIL_FROM_DROPDOWN_ACTION'\n});\n\nexport const SUBJECT_CONSTANTS = Object.freeze({\n\tEMAIL_SUBJECT_CHANGED: 'EMAIL_SUBJECT_CHANGED',\n\tEMAIL_IMPORTANT_FLAG_CHANGED: 'EMAIL_IMPORTANT_FLAG_CHANGED'\n});\n\nexport const RECIPIENT_CONSTANTS = Object.freeze({\n\tEMAIL_RECIPIENT_UPDATE_STATE: 'EMAIL_RECIPIENT_UPDATE_STATE',\n\tEMAIL_RECIPIENT_REMOVED: 'EMAIL_RECIPIENT_REMOVED',\n\tEMAIL_RECIPIENT_FETCH_STARTED: 'EMAIL_RECIPIENT_FETCH_STARTED',\n\tEMAIL_RECIPIENT_SEARCHED: 'EMAIL_RECIPIENT_SEARCHED',\n\tEMAIL_RECIPIENT_FETCH_SUCCESS: 'EMAIL_RECIPIENT_FETCH_SUCCESS',\n\tEMAIL_RECIPIENT_FETCH_ERROR: 'EMAIL_RECIPIENT_FETCH_ERROR',\n\tEMAIL_RECIPIENT_VALIDATION_STARTED: 'EMAIL_RECIPIENT_VALIDATION_STARTED',\n\tEMAIL_RECIPIENT_VALIDATION_CHECK: 'EMAIL_RECIPIENT_VALIDATION_CHECK',\n\tEMAIL_RECIPIENT_VALIDATION_CHECK_SUCCES:\n\t\t'EMAIL_RECIPIENT_VALIDATION_CHECK_SUCCES',\n\tEMAIL_RECIPIENT_VALIDATION_CHECK_ERROR:\n\t\t'EMAIL_RECIPIENT_VALIDATION_CHECK_ERROR',\n\tEMAIL_RECIPIENT_CC_BCC_COLLAPSE: 'EMAIL_RECIPIENT_CC_BCC_COLLAPSE',\n\tEMAIL_RECIPIENT_RELATED_TARGET: 'NOW-EMAIL-CLIENT-INTERNAL-TYPEAHEAD',\n\tEMAIL_RECIPIENT_SEARCH_MIN_CHAR: 2,\n\tEMAIL_RECIPIENT_SEARCH_DELAY: 500,\n\tRECIPIENT_INVALID_FLAGS: {\n\t\tINVALID: 'Invalid email address',\n\t\tBLACKLISTED: 'Disallowed Domain',\n\t\tNOT_ALLOWED: 'Not an allowed domain'\n\t},\n\tRECIPIENT_INVALID_REASONS: new Map([\n\t\t['Invalid email address', t('Invalid email address')],\n\t\t['Disallowed Domain', t('Disallowed Domain')],\n\t\t['Not an allowed domain', t('Not an allowed domain')]\n\t]),\n\tEMAIL_RECIPIENT_DROPDOWN_CONSTRAINTS: {\n\t\tminWidth: 'target',\n\t\tmaxWidth: 'target',\n\t\theight: '100%'\n\t},\n\tEMAIL_RECIPIENT_DROPDOWN_ITEM_SET_ACTIVE:\n\t\t'EMAIL_RECIPIENT_DROPDWON_ITEM_SET_ACTIVE',\n\tEMAIL_RECIPIENT_DROPDOWN_ITEM_CLICKED: 'EMAIL_RECIPIENT_DROPDOWN_ITEM_CLICKED'\n});\n\nexport const HEADER_CONSTANTS = Object.freeze({\n\tEMAIL_HEADER_SEND_BUTTON_CLICKED: 'EMAIL_HEADER_SEND_BUTTON_CLICKED',\n\tEMAIL_HEADER_SAVE_BUTTON_CLICKED: 'EMAIL_HEADER_SAVE_BUTTON_CLICKED',\n\tEMAIL_CLIENT_SEND_DRAFT: 'EMAIL_CLIENT_SEND_DRAFT',\n\tEMAIL_CLIENT_SEND_DRAFT_SUCCESS: 'EMAIL_CLIENT_SEND_DRAFT_SUCCESS',\n\tEMAIL_CLIENT_SEND_DRAFT_FAILED: 'EMAIL_CLIENT_SEND_DRAFT_FAILED',\n\tEMAIL_CLIENT_UPDATE_DRAFT: 'EMAIL_CLIENT_UPDATE_DRAFT',\n\tEMAIL_CLIENT_UPDATE_DRAFT_SUCCESS: 'EMAIL_CLIENT_UPDATE_DRAFT_SUCCESS',\n\tEMAIL_CLIENT_UPDATE_DRAFT_FAILED: 'EMAIL_CLIENT_UPDATE_DRAFT_FAILED'\n});\n\nexport const SEND_RESULT_STATES = Object.freeze({\n\tSEND_SUCCESS: 'send_success',\n\tDRAFT_STATE_FAIL: 'draft_state_fail',\n\tATTACHMENT_UNAVAILABLE: 'attachment_unavailable'\n});\n\nexport const CONFIRMATION_MODAL_CONSTANTS = Object.freeze({\n\tSEND: 'Send',\n\tDONT_SEND: 'Dont_Send'\n});\n\nexport const RECIPIENT_TYPES = Object.freeze({\n\tTO: 'recipients_to',\n\tCC: 'recipients_cc',\n\tBCC: 'recipients_bcc'\n});\n\nexport const FAILURE_MESSAGES = Object.freeze({\n\tSEND_FAILURE: t(\n\t\t'Message failed to send. Try again later or contact your administrator.'\n\t),\n\tSAVE_FAILURE: t(\n\t\t'Message failed to save. Try again later or contact your administrator.'\n\t)\n});\n","import { RECIPIENT_CONSTANTS } from '../../constants';\nimport { COMPOSITE_ACTIONS } from '../../../../constants/emailConstants';\nimport { actionTypes } from '@servicenow/ui-core';\nconst { COMPONENT_DOM_READY, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst handleDropdownItemActive = ({\n\taction: {\n\t\tpayload: { activeItem }\n\t},\n\tupdateState\n}) => {\n\tupdateState({\n\t\tactiveItem: activeItem\n\t});\n};\n\nconst handleDropdownItemClick = ({\n\thost,\n\taction: {\n\t\tpayload: { dataState, item }\n\t},\n\tdispatch\n}) => {\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED);\n\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_STARTED, {\n\t\t...item,\n\t\tdataState\n\t});\n\tconst input = host.shadowRoot.querySelector('input');\n\tif (input) {\n\t\tinput.value = '';\n\t\tinput.focus();\n\t}\n};\n\nconst handleDomReady = ({ host, properties }) => {\n\tif (properties.autofocus) {\n\t\tsetTimeout(() => {\n\t\t\tconst input = host.shadowRoot.querySelector('input');\n\t\t\tif (input) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t}, 100);\n\t}\n};\n\nconst handlePropertyChange = ({ properties, state, updateState }) => {\n\tconst { opened } = properties;\n\tconst { activeItem } = state;\n\tif (opened && activeItem) {\n\t\t//reset activeItem\n\t\tupdateState({\n\t\t\tactiveItem: null\n\t\t});\n\t}\n};\n\nexport default {\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_DROPDOWN_ITEM_SET_ACTIVE]: {\n\t\teffect: handleDropdownItemActive,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_DROPDOWN_ITEM_CLICKED]: {\n\t\teffect: handleDropdownItemClick,\n\t\tstopPropagation: true\n\t},\n\t[COMPONENT_DOM_READY]: {\n\t\teffect: handleDomReady,\n\t\tstopPropagation: true\n\t},\n\t[COMPONENT_PROPERTY_CHANGED]: {\n\t\teffect: handlePropertyChange,\n\t\tstopPropagation: true\n\t},\n\t['NOW_POPOVER#OPENED_SET']: {\n\t\tstopPropagation: true\n\t}\n};\n","const KEY_ESCAPE = {\n\tcode: 27,\n\tkey: 'Escape'\n};\n\nconst KEY_SPACE = {\n\tcode: 32,\n\tkey: ' '\n};\n\nconst KEY_ENTER = {\n\tcode: 13,\n\tkey: 'Enter'\n};\n\nconst KEY_LEFT_ARROW = {\n\tcode: 37,\n\tkey: 'ArrowLeft'\n};\n\nconst KEY_RIGHT_ARROW = {\n\tcode: 39,\n\tkey: 'ArrowRight'\n};\n\nconst KEY_UP_ARROW = {\n\tcode: 38,\n\tkey: 'ArrowUp'\n};\n\nconst KEY_DOWN_ARROW = {\n\tcode: 40,\n\tkey: 'ArrowDown'\n};\n\nconst KEY_TAB = {\n\tcode: 9,\n\tkey: 'Tab'\n};\n\nfunction isKeyEvent(expectedKey, event) {\n\tconst { key, keyCode } = event;\n\tif (expectedKey.key && expectedKey.key === key) {\n\t\treturn true;\n\t}\n\tif (expectedKey.code && expectedKey.code === keyCode) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction onKeyEvent(key, event, callback) {\n\tlet found = isKeyEvent(key, event);\n\tif (found && callback) {\n\t\tcallback();\n\t}\n\treturn found;\n}\n\nexport function onEnter(event, callback) {\n\treturn onKeyEvent(KEY_ENTER, event, callback);\n}\n\nexport function onTab(event, callback) {\n\tif (event.persist) {\n\t\tevent.persist();\n\t}\n\treturn !event.shiftKey && onKeyEvent(KEY_TAB, event, callback);\n}\n\nexport function onShiftTab(event, callback) {\n\treturn event.shiftKey && onKeyEvent(KEY_TAB, event, callback);\n}\n\nexport function onEscape(event, callback) {\n\treturn onKeyEvent(KEY_ESCAPE, event, callback);\n}\n\nexport function onSpace(event, callback) {\n\treturn onKeyEvent(KEY_SPACE, event, callback);\n}\n\nexport function onLeftArrow(event, callback) {\n\treturn onKeyEvent(KEY_LEFT_ARROW, event, callback);\n}\n\nexport function onRightArrow(event, callback) {\n\treturn onKeyEvent(KEY_RIGHT_ARROW, event, callback);\n}\n\nexport function onUpArrow(event, callback) {\n\treturn onKeyEvent(KEY_UP_ARROW, event, callback);\n}\n\nexport function onDownArrow(event, callback) {\n\treturn onKeyEvent(KEY_DOWN_ARROW, event, callback);\n}\n\nconst keyUtils = {\n\tonEnter,\n\tonTab,\n\tonShiftTab,\n\tonEscape,\n\tonSpace,\n\tonLeftArrow,\n\tonRightArrow,\n\tonUpArrow,\n\tonDownArrow,\n\tisKeyEvent\n};\n\nexport { keyUtils };\n","import { RECIPIENT_CONSTANTS } from '../../../constants';\n\nconst renderLabel = label => {\n\treturn <span className=\"ec-dropdown-list-item-truncate\">{label}</span>;\n};\n\nconst renderLabels = item => {\n\tconst sublabel = item.additionalFields.reduce((prev, { value }) => {\n\t\tif (value && prev) {\n\t\t\treturn ` ${prev} | ${value} `;\n\t\t}\n\t\treturn prev || value;\n\t}, item.emailAddress || '');\n\n\treturn (\n\t\t<div className=\"ec-dropdown-list-item-labels\">\n\t\t\t{renderLabel(item.displayName)}\n\t\t\t{sublabel ? (\n\t\t\t\t<span className=\"ec-dropdown-list-item-sublabel\">\n\t\t\t\t\t<span className=\"ec-dropdown-list-item-truncate\">{sublabel}</span>\n\t\t\t\t</span>\n\t\t\t) : (\n\t\t\t\tundefined\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst isActive = ({ emailAddress, displayName }, activeItem) => {\n\tif (!activeItem) {\n\t\treturn false;\n\t}\n\treturn emailAddress\n\t\t? emailAddress === activeItem.emailAddress\n\t\t: displayName === activeItem.displayName;\n};\n\nexport default (state, { dispatch }) => {\n\tconst { componentId } = state;\n\tconst { items, activeItem, dataState } = state.properties;\n\n\tconst handleMouseHover = activeItem => () => {\n\t\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_DROPDOWN_ITEM_SET_ACTIVE, {\n\t\t\tactiveItem: activeItem\n\t\t});\n\t};\n\n\tconst handleClick = e => {\n\t\te.preventDefault();\n\t\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_DROPDOWN_ITEM_CLICKED, {\n\t\t\tdataState: dataState,\n\t\t\titem: activeItem\n\t\t});\n\t};\n\n\tconst handleMouseDown = e => {\n\t\t//avoid blur\n\t\te.preventDefault();\n\t};\n\n\treturn (\n\t\t<div className=\"ec-dropdown-list\">\n\t\t\t<div\n\t\t\t\tid={`${componentId}-items`}\n\t\t\t\tclassName=\"ec-dropdown-list-items\"\n\t\t\t\trole=\"listbox\"\n\t\t\t\tscreen-reader-behavior-id=\"listbox\">\n\t\t\t\t{items.map(item => {\n\t\t\t\t\tconst active = isActive(item, activeItem);\n\t\t\t\t\tconst id = item.emailAddress || item.displayName.replace(/\\s+/g, '_');\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\tkey={`${id}-${componentId}`}\n\t\t\t\t\t\t\tscreen-reader-behavior-id={`option-${id}`}\n\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\taria-selected=\"false\"\n\t\t\t\t\t\t\tclassName={`ec-dropdown-list-item  ${active && 'active'}`}\n\t\t\t\t\t\t\ton-mouseover={handleMouseHover(item)}\n\t\t\t\t\t\t\ton-mousedown={handleMouseDown}\n\t\t\t\t\t\t\ton-click={handleClick}>\n\t\t\t\t\t\t\t{renderLabels(item)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","// This file is taken from the design system repository\nconst BEHAVIOR_NAME = 'screenReader';\nimport { actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport unset from 'lodash/unset';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\nconst { COMPONENT_RENDERED } = actionTypes;\n\nconst updateViewForScreenReader = (view, id) => (state, helpers) => {\n\tfunction mutateNode(node) {\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\n\t\tunset(node, 'data.class');\n\t\tunset(node, 'data.props.className');\n\n\t\tunset(node, 'data.props.id', id);\n\t\tunset(node, 'data.attrs.id', id);\n\n\t\tconst idSuffix =\n\t\t\tget(node, 'data.props.screenReaderBehaviorId') ||\n\t\t\tget(node, 'data.props.screen-reader-behavior-id');\n\t\tif (idSuffix) {\n\t\t\tconst newId = `${id}-${idSuffix}`;\n\t\t\tset(node, 'data.attrs.id', newId);\n\t\t\tset(node, 'data.props.id', newId);\n\t\t\tunset(node, 'data.props.screenReaderBehaviorId');\n\t\t\tunset(node, 'data.props.screen-reader-behavior-id');\n\t\t}\n\n\t\tif (Array.isArray(node.children)) {\n\t\t\tnode.children.forEach((child, index) => {\n\t\t\t\tnode.children[index] = mutateNode(child);\n\t\t\t});\n\t\t}\n\n\t\treturn node;\n\t}\n\n\tconst vdom = view(\n\t\t{\n\t\t\t...state,\n\t\t\tproperties: {\n\t\t\t\t...state.properties,\n\t\t\t\tisScreenReaderBehaviorRender: true\n\t\t\t}\n\t\t},\n\t\thelpers\n\t);\n\treturn mutateNode(vdom);\n};\n\nfunction getDynamicallyCreatedTarget(rootNode, id) {\n\tconst containerId = `${BEHAVIOR_NAME}-behavior-${id}`;\n\tconst existingNode = rootNode.querySelector(`#${containerId}`);\n\n\tif (existingNode) {\n\t\treturn existingNode;\n\t}\n\n\tconst newNode = document.createElement('div');\n\tnewNode.id = containerId;\n\n\t// stolen from now-a11y-label mixin. Need explicit styles because\n\t// we might be in somebody else's shadowRoot\n\tnewNode.style =\n\t\t'position: absolute; overflow: hidden; width: 1px; height: 1px; margin: 0; border: none; padding: 0; white-space: nowrap; clip: rect(0 0 0 0); clip-path: inset(50%);';\n\n\trootNode.appendChild(newNode);\n\n\treturn newNode;\n}\n\nfunction isCustomElement(node) {\n\treturn node && node.shadowRoot && node.tagName.includes('-');\n}\n\nfunction getRenderTarget(host, id, selector) {\n\tlet parentRoot = host.getRootNode();\n\n\tif (parentRoot === document) {\n\t\tparentRoot = document.body;\n\t}\n\n\tif (!selector) {\n\t\treturn {\n\t\t\tnode: getDynamicallyCreatedTarget(parentRoot, id),\n\t\t\tcreated: true\n\t\t};\n\t}\n\n\tconst target = parentRoot.querySelector(selector);\n\n\tif (isCustomElement(target)) {\n\t\treturn {\n\t\t\tnode: getDynamicallyCreatedTarget(target.shadowRoot, id),\n\t\t\tcreated: true\n\t\t};\n\t}\n\n\treturn {\n\t\tnode: target,\n\t\tcreated: false\n\t};\n}\n\nfunction unmount(node, created) {\n\tif (!node) {\n\t\treturn;\n\t}\n\n\t// If this behavior created the node, then it's safe to remove the entire\n\t// node.\n\tif (created) {\n\t\tnode.remove();\n\t} else {\n\t\t// Otherwise we just want to clear out its children. This still goes\n\t\t// through `onStateChange` so that function can do some additional cleanup.\n\t\tsnabbdom.onStateChange(node, () => null);\n\t}\n}\n\nexport default {\n\tname: BEHAVIOR_NAME,\n\tproperties: {\n\t\tscreenReaderInjectInto: {},\n\t\tscreenReaderId: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_RENDERED]: ({\n\t\t\taction,\n\t\t\thost,\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\tdispatch,\n\t\t\tupdateState,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst {\n\t\t\t\tscreenReaderInjectInto: selector,\n\t\t\t\tscreenReaderId: id\n\t\t\t} = properties;\n\t\t\tconst { screenReaderView } = action.payload.options;\n\n\t\t\tif (!screenReaderView || !id || !host.isConnected) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { node, created } = getRenderTarget(host, id, selector);\n\n\t\t\tif (!node) {\n\t\t\t\t/* eslint-disable-next-line no-console */\n\t\t\t\tconsole.error(\n\t\t\t\t\t`[@servicenow/behavior-screen-reader <${host.tagName.toLowerCase()} component-id=\"${\n\t\t\t\t\t\taction.meta.id\n\t\t\t\t\t}\">]: Could not locate target DOM node \"${selector}\" to append screen-reader content. Verify that this node exists in the shadowRoot.`\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdateState(({ state }) => {\n\t\t\t\tconst prevState = state.behaviors[BEHAVIOR_NAME];\n\t\t\t\tif (prevState.node !== node) {\n\t\t\t\t\tunmount(prevState.node, prevState.created);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\toperation: 'assign',\n\t\t\t\t\tpath: `behaviors.${BEHAVIOR_NAME}`,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\tcreated\n\t\t\t\t\t},\n\t\t\t\t\tshouldRender: false\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tsnabbdom.onStateChange(\n\t\t\t\tnode,\n\t\t\t\tupdateViewForScreenReader(screenReaderView, id),\n\t\t\t\tstate,\n\t\t\t\t{\n\t\t\t\t\tdispatch,\n\t\t\t\t\tupdateState,\n\t\t\t\t\tupdateProperties\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n};\n","import screenReaderBehavior from './util';\nimport view from './view';\n\nexport default [\n\t{\n\t\tbehavior: screenReaderBehavior,\n\t\toptions: {\n\t\t\tscreenReaderView: view\n\t\t}\n\t}\n];\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport styles from './styles.scss';\nimport behaviors from './behaviors';\n\n/**\n * Internal dropdown list component for email client\n *\n * ```jsx\n * <sn-email-client-internal-recipient-dropdown-list\n * \t\tdata-state={..}\n * \t\tacitve-item={..}\n * \t\titems={..}\n * />\n * ```\n *\n * @seismicElement sn-email-client-internal-recipient-dropdown-list\n * @summary Internal dropdown list component for email client\n *\n */\n\ncreateCustomElement('sn-email-client-internal-recipient-dropdown-list', {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tproperties: {\n\t\t/**\n\t\t * An array of `DropdownListItem` or `DropdownSection` items.\n\t\t * @type {Array.<DropdownListItem>}\n\t\t */\n\t\titems: {\n\t\t\tdefault: []\n\t\t},\n\t\t/**\n\t\t * ID of the current active descendant in the dropdown list.\n\t\t * @type {string}\n\t\t */\n\t\tactiveItem: { default: null },\n\n\t\tdataState: { default: '' }\n\t},\n\tbehaviors,\n\tstyles\n});\n","import { RECIPIENT_CONSTANTS } from '../../constants';\nimport { COMPOSITE_ACTIONS } from '../../../../constants/emailConstants';\nimport '@servicenow/now-pill';\nimport '@servicenow/now-tooltip';\nimport { t } from 'sn-translate';\n// eslint-disable-next-line\nimport { createRef } from '@servicenow/ui-renderer-snabbdom';\n\nconst pillRef = {};\nconst genrateRef = id => {\n\tif (!pillRef[id]) {\n\t\tpillRef[id] = createRef();\n\t}\n\n\treturn pillRef[id];\n};\n\nexport const convertRecipientsToPills = (items, dataState, label) =>\n\titems.map(({ id, displayName, isValid, invalidReason }, index) => {\n\t\tconst pillId = `${dataState}_${id}_${index}`;\n\t\tconst elmRef = genrateRef(pillId);\n\t\treturn (\n\t\t\t<span className=\"ec-recipient-picker-pill\">\n\t\t\t\t<now-pill\n\t\t\t\t\tid={pillId}\n\t\t\t\t\tkey={pillId}\n\t\t\t\t\tref={elmRef}\n\t\t\t\t\tlabel={displayName}\n\t\t\t\t\taria-label={t('{0} Recipient', label)}\n\t\t\t\t\ticon={isValid === false ? 'circle-exclamation-outline' : ''}\n\t\t\t\t\tcanDismiss\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tclassName=\"recipient-pill\"\n\t\t\t\t\taria-describedby={pillId}\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\tdispatchedEvent: RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_REMOVED,\n\t\t\t\t\t\titemIndex: index,\n\t\t\t\t\t\tdataState: dataState\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{!isValid ? (\n\t\t\t\t\t<now-tooltip\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\ttarget-ref={pillRef[pillId].current}\n\t\t\t\t\t\tcontent={t(`{0}`, invalidReason)}\n\t\t\t\t\t\tposition={[\"bottom-center top-center\"]}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t\t''\n\t\t\t\t\t)}\n\t\t\t</span>\n\t\t);\n\t});\n\nexport const mapEndLabelsToDivs = () => (\n\t<div className=\"ec-recipient-picker-cc-bcc-button\">\n\t\t<now-button\n\t\t\tid=\"ec-recipient-cc-bcc-button\"\n\t\t\tvariant=\"tertiary\"\n\t\t\tsize=\"md\"\n\t\t\tlabel={t('Cc/Bcc')}\n\t\t\tappend-to-payload={{\n\t\t\t\tdispatchedEvent: RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_UPDATE_STATE,\n\t\t\t\tshowCcBcc: true,\n\t\t\t\tautofocus: true\n\t\t\t}}\n\t\t/>\n\t</div>\n);\n\nexport const getNextItem = (items, activeItem, delta) => {\n\tconst id = activeItem.emailAddress || activeItem.displayName;\n\tconst lastActiveIndex = items.findIndex(({ emailAddress, displayName }) =>\n\t\temailAddress ? emailAddress === id : displayName === id\n\t);\n\n\tconst nextIndex = Math.min(\n\t\tMath.max(lastActiveIndex + delta, 0),\n\t\titems.length - 1\n\t);\n\treturn items[nextIndex];\n};\n\nexport const addActiveDescendant = (input, optionPrefix, activeItem) => {\n\tconst id =\n\t\tactiveItem.emailAddress || activeItem.displayName.replace(/\\s+/g, '_');\n\tconst activeDescendant = `${optionPrefix}-${id}`;\n\tinput.setAttribute('aria-activedescendant', activeDescendant);\n};\n\nexport const getItemByIndex = (items, index) => {\n\treturn index < 0 ? items[items.length + index] : items[index];\n};\n\nexport const removeRecipient = (index, dataState, dispatch) => {\n\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_REMOVED, {\n\t\titemIndex: index,\n\t\tdataState: dataState\n\t});\n};\n\nexport const addPill = (item, dispatch, dataState) => {\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED);\n\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_STARTED, {\n\t\t...item,\n\t\tdataState\n\t});\n};\n\nexport const collapseInput = (e, dispatch) => {\n\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_CC_BCC_COLLAPSE, {\n\t\trelatedTarget: e.relatedTarget\n\t});\n};\n\nexport const startSearch = (dispatch, dataState, chars) => {\n\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_FETCH_STARTED, {\n\t\tqs: chars,\n\t\tdataState\n\t});\n};\n\nexport const resetInputValue = e => {\n\te.target ? (e.target.value = '') : null;\n};\n\nexport const resetInputBoxScroll = e => {\n\te.target.closest('.ec-recipient-picker-multiple').scroll(0, 0);\n};\n\nexport const isEntireTextSelected = target => {\n\tconst selectionRange = target.selectionEnd - target.selectionStart;\n\treturn selectionRange === target.value.length ? true : false;\n};\n","import { RECIPIENT_CONSTANTS } from '../../constants';\nimport { keyUtils } from '../../../../commons/keyUtils';\n// eslint-disable-next-line no-unused-vars\nimport { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-dropdown';\nimport '@servicenow/now-popover';\nimport './dropdownList/dropdownList';\nimport { pick } from 'lodash';\nimport {\n\tstartSearch,\n\taddPill,\n\tresetInputValue,\n\tresetInputBoxScroll,\n\tremoveRecipient,\n\tgetNextItem,\n\taddActiveDescendant,\n\tgetItemByIndex,\n\tcollapseInput,\n\tconvertRecipientsToPills,\n\tisEntireTextSelected\n} from './utils';\n\nlet currentActiveInput = '';\n\nexport default (state, { dispatch }) => {\n\tconst { componentId } = state;\n\tconst {\n\t\tlabel,\n\t\tdataState,\n\t\tpillItems,\n\t\tavailableItems,\n\t\topened\n\t} = state.properties;\n\n\tconst listId = `sn-email-client-internal-recipient-dropdown-list-${componentId}`;\n\tconst optionPrefix = `${listId}-option`;\n\tconst activeItem = state.activeItem || availableItems[0];\n\tconst id = activeItem\n\t\t? activeItem.emailAddress || activeItem.displayName.replace(/\\s+/g, '_')\n\t\t: undefined;\n\tconst ariaActiveDescendant = opened ? `${optionPrefix}-${id}` : undefined;\n\n\tconst handleInput = e => {\n\t\tcurrentActiveInput = dataState;\n\t\tconst chars = e.target.value.trimStart();\n\t\tif (chars) {\n\t\t\tstartSearch(dispatch, currentActiveInput, chars);\n\t\t}\n\t};\n\n\tconst handleEnter = e => {\n\t\tconst chars = e.target.value.trim();\n\t\tconst item = opened ? activeItem : { emailAddress: chars };\n\t\tif (opened || chars) {\n\t\t\taddPill(item, dispatch, dataState);\n\t\t}\n\t\tresetInputValue(e);\n\t};\n\n\tconst handleBackspace = e => {\n\t\tconst charsLen = e.target.value.length;\n\t\tconst { length } = pillItems;\n\t\tif (!charsLen && length) {\n\t\t\tremoveRecipient(length - 1, dataState, dispatch);\n\t\t}\n\t\tif (isEntireTextSelected(e.target)) {\n\t\t\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_UPDATE_STATE, {\n\t\t\t\topened: false,\n\t\t\t\trecipientSearchResults: []\n\t\t\t});\n\t\t}\n\t};\n\n\tconst setNextActive = e => {\n\t\tconst delta = e.key === 'ArrowDown' ? 1 : -1;\n\t\tconst nextItem = getNextItem(availableItems, activeItem, delta);\n\t\tif (nextItem) {\n\t\t\taddActiveDescendant(e.target, optionPrefix, nextItem); //hack for safari + VO\n\t\t\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_DROPDOWN_ITEM_SET_ACTIVE, {\n\t\t\t\tactiveItem: nextItem\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleKeyDown = e => {\n\t\tif (keyUtils.isKeyEvent({ code: 8 }, e)) {\n\t\t\thandleBackspace(e);\n\t\t} else if ((opened && keyUtils.onDownArrow(e)) || keyUtils.onUpArrow(e)) {\n\t\t\tsetNextActive(e);\n\t\t\te.preventDefault();\n\t\t} else if (keyUtils.onEnter(e) || keyUtils.onTab(e)) {\n\t\t\thandleEnter(e);\n\t\t\topened && e.preventDefault();\n\t\t} else if (keyUtils.isKeyEvent({ code: 36 }, e)) {\n\t\t\tgetItemByIndex(availableItems, 0);\n\t\t} else if (keyUtils.isKeyEvent({ code: 35 }, e)) {\n\t\t\tgetItemByIndex(availableItems, -1);\n\t\t}\n\t};\n\n\tconst handleClickOnRecipientBox = e => {\n\t\te.currentTarget.querySelector('input').focus();\n\t};\n\n\tconst handleBlur = e => {\n\t\thandleEnter(e);\n\t\tresetInputBoxScroll(e);\n\t\tcollapseInput(e, dispatch);\n\t};\n\n\tconst handleKeyUp = e => {\n\t\tif (opened && keyUtils.onEscape(e)) {\n\t\t\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_UPDATE_STATE, {\n\t\t\t\topened: false,\n\t\t\t\trecipientSearchResults: []\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"ec-recipient-picker-label ec-label-input-container\">\n\t\t\t\t<label id={`ec-field-label-${componentId}`} className=\"ec-field-label\">\n\t\t\t\t\t{`${label}:`}\n\t\t\t\t</label>\n\t\t\t\t<now-popover\n\t\t\t\t\thide-tail\n\t\t\t\t\tclassName=\"ec-recipient-picker-field\"\n\t\t\t\t\tconstrain={pick(\n\t\t\t\t\t\tRECIPIENT_CONSTANTS.EMAIL_RECIPIENT_DROPDOWN_CONSTRAINTS,\n\t\t\t\t\t\t['width', 'minWidth', 'maxWidth']\n\t\t\t\t\t)}\n\t\t\t\t\tmanage-opened\n\t\t\t\t\topened={opened}\n\t\t\t\t\tinteraction-type=\"listbox\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tslot=\"trigger\"\n\t\t\t\t\t\tclassName=\"ec-recipient-picker-multiple\"\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\taria-expanded={String(opened)}\n\t\t\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\t\t\taria-owns={`${listId}-listbox`}\n\t\t\t\t\t\taria-controls={`${listId}-listbox`}\n\t\t\t\t\t\ton-click={handleClickOnRecipientBox}\n\t\t\t\t\t\ton-focus={handleClickOnRecipientBox}>\n\t\t\t\t\t\t{convertRecipientsToPills(pillItems, dataState, label)}\n\t\t\t\t\t\t<div className=\"ec-recipient-picker-autocomplete\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid={`ec-field-input-${dataState}`}\n\t\t\t\t\t\t\t\tclassName=\"ec-field-input\"\n\t\t\t\t\t\t\t\taria-label={t(`${label} recipient`)}\n\t\t\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\t\t\taria-activedescendant={ariaActiveDescendant}\n\t\t\t\t\t\t\t\trole=\"searchbox\"\n\t\t\t\t\t\t\t\ton-input={handleInput}\n\t\t\t\t\t\t\t\ton-keydown={handleKeyDown}\n\t\t\t\t\t\t\t\ton-keyup={handleKeyUp}\n\t\t\t\t\t\t\t\ton-blur={handleBlur}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{opened && currentActiveInput === dataState ? (\n\t\t\t\t\t\t<sn-email-client-internal-recipient-dropdown-list\n\t\t\t\t\t\t\tslot=\"content\"\n\t\t\t\t\t\t\titems={availableItems}\n\t\t\t\t\t\t\tactiveItem={activeItem}\n\t\t\t\t\t\t\tdataState={dataState}\n\t\t\t\t\t\t\tscreen-reader-id={listId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tundefined\n\t\t\t\t\t)}\n\t\t\t\t</now-popover>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport actionHandlers from './actionHandlers';\nimport view from './view';\nimport initialState from './initialState';\nimport styles from './styles.scss';\n\n/**\n * Internal typeahead component for email client\n *\n * ```jsx\n * <sn-email-client-internal-typeahead\n * \t\tlabel={..}\n * \t\tdata-state={..}\n * \t\tpill-items={..}\n * \t\tavailable-items={..}\n * \t\tauto-focus={..}\n * \t\topened={..}\n * />\n * ```\n *\n * @seismicElement sn-email-client-internal-typeahead\n * @summary Internal typeahead component for email client\n *\n */\n\ncreateCustomElement('sn-email-client-internal-typeahead', {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tproperties: {\n\t\t/**\n\t\t * Label of typeahead field\n\t\t */\n\t\tlabel: {},\n\t\t/**\n\t\t * Datastate of typeahead field\n\t\t */\n\t\tdataState: { default: [] },\n\t\t/**\n\t\t * Item List which comes as pill\n\t\t */\n\t\tpillItems: { default: [], cast: 'array' },\n\t\t/**\n\t\t * Item List which comes as part of dropdown\n\t\t */\n\t\tavailableItems: { default: [] },\n\n\t\tautofocus: { schema: { type: 'boolean' } },\n\n\t\topened: { default: false }\n\t},\n\tinitialState,\n\tactionHandlers,\n\tstyles\n});\n","export default {\n\tactiveItem: null\n};\n","import './typeahead/typeahead';\nimport { mapEndLabelsToDivs } from './typeahead/utils';\nimport { t } from 'sn-translate';\n\nexport default (state, dispatch) => {\n\treturn (\n\t\t<div className=\"ec-recipient-picker\">\n\t\t\t{/* *Recipient To Picker */}\n\t\t\t<div className=\"ec-recipient-picker-wrapper\">\n\t\t\t\t<sn-email-client-internal-typeahead\n\t\t\t\t\tid=\"ec-recipient-picker-field-to\"\n\t\t\t\t\tclassName=\"ec-recipient-picker-fields\"\n\t\t\t\t\tlabel={t('To')}\n\t\t\t\t\tdataState=\"recipients_to\"\n\t\t\t\t\tpillItems={state.recipients_to}\n\t\t\t\t\tavailableItems={state.recipientSearchResults}\n\t\t\t\t\topened={state.opened}\n\t\t\t\t/>\n\t\t\t\t{!state.showCcBcc ? mapEndLabelsToDivs(dispatch) : ''}\n\t\t\t</div>\n\t\t\t{/**Recipient cc picker */}\n\t\t\t{state.showCcBcc ? (\n\t\t\t\t<sn-email-client-internal-typeahead\n\t\t\t\t\tid=\"ec-recipient-picker-field-cc\"\n\t\t\t\t\tclassName=\"ec-recipient-picker-fields\"\n\t\t\t\t\tlabel={t('Cc')}\n\t\t\t\t\tdataState=\"recipients_cc\"\n\t\t\t\t\tpillItems={state.recipients_cc}\n\t\t\t\t\tavailableItems={state.recipientSearchResults}\n\t\t\t\t\topened={state.opened}\n\t\t\t\t\tautofocus={state.autofocus}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t\t{/**Recipient bcc picker */}\n\t\t\t{state.showCcBcc ? (\n\t\t\t\t<sn-email-client-internal-typeahead\n\t\t\t\t\tid=\"ec-recipient-picker-field-bcc\"\n\t\t\t\t\tclassName=\"ec-recipient-picker-fields\"\n\t\t\t\t\tlabel={t('Bcc')}\n\t\t\t\t\tdataState=\"recipients_bcc\"\n\t\t\t\t\tpillItems={state.recipients_bcc}\n\t\t\t\t\tavailableItems={state.recipientSearchResults}\n\t\t\t\t\topened={state.opened}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","/* eslint-disable no-console */\nimport tinymceStyles from './tinymce.css';\nimport { uniqBy } from 'lodash';\nimport 'sn-tinymce';\nimport { isDragDropEnabled } from '../constants';\n\n//Tinymce Inits\nwindow.tinymce.baseURL =\n\t'/scripts/tinymce_default/node_modules/sn-tinymce/js/tinymce';\n\nconst deleteImgs = (imgs = [], ed, isExtracted = false) => {\n\tconst deleteImgs = [];\n\timgs.forEach(img => {\n\t\tif (!hasImgDuplicates(img, ed, isExtracted)) {\n\t\t\tdeleteImgs.push(img);\n\t\t}\n\t});\n\tif (deleteImgs.length) {\n\t\tconst host = ed.targetElm.getRootNode().host;\n\t\tconst sysIds = deleteImgs.map(img => {\n\t\t\treturn img.dataset.sysId || img.src.split('?sys_id=').pop();\n\t\t});\n\t\thost.dispatchEvent(new CustomEvent('image-delete', { detail: { sysIds } }));\n\t}\n};\n\nconst hasImgDuplicates = (img, ed, isExtracted = false) => {\n\tconst body = ed.getBody();\n\tconst sysId = img.dataset.sysId;\n\tconst imgCopies = body.querySelectorAll(`img[data-sys-id*='${sysId}']`);\n\tconst imgCopyThreshold = isExtracted ? 0 : 1;\n\treturn imgCopies.length > imgCopyThreshold;\n};\n\nconst deleteSelectedImgs = ed => {\n\tconst img = ed.selection.getNode();\n\tif (img && img.nodeName == 'IMG') {\n\t\tdeleteImgs([img], ed, false);\n\t} else if (!ed.selection.isCollapsed()) {\n\t\tlet rng = ed.selection.getRng();\n\t\trng = rng.cloneRange();\n\t\tconst fragment = rng.extractContents();\n\t\tlet imgs = fragment.querySelectorAll('img[data-sys-id]');\n\t\timgs = uniqBy([...imgs], function(img) {\n\t\t\treturn img.dataset.sysId;\n\t\t});\n\t\tdeleteImgs(imgs, ed, true);\n\t}\n};\n\nwindow.tinymce.on('addeditor', e => {\n\tif (\n\t\te.editor &&\n\t\te.editor.targetElm &&\n\t\te.editor.targetElm.getRootNode().host &&\n\t\te.editor.targetElm.getRootNode().host.name == 'sn-email-client-editor'\n\t) {\n\t\tconst host = e.editor.targetElm.getRootNode().host;\n\t\tconst ed = e.editor;\n\t\ted.on('init', function(e) {\n\t\t\t//Editor Ready\n\t\t\tconst root = e.target.container.getRootNode(),\n\t\t\t\tstyle = document.createElement('style');\n\t\t\tstyle.setAttribute('type', 'text/css');\n\t\t\tstyle.innerHTML = tinymceStyles;\n\t\t\troot.insertBefore(style, root.querySelector('.sn-editor'));\n\n\t\t\t//save editor reference in state\n\t\t\thost.dispatchEvent(new CustomEvent('editorRef', { detail: ed }));\n\t\t})\n\t\t\t//bring drop overlay on drag start\n\t\t\t.on('dragover', () => {\n\t\t\t\thost.dispatchEvent(new CustomEvent('dragover'));\n\t\t\t})\n\t\t\t.on('drop', e => {\n\t\t\t\tif (!isDragDropEnabled) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('keydown', e => {\n\t\t\t\tif ([8, 46, 13, 32].indexOf(e.keyCode) >= 0) {\n\t\t\t\t\tdeleteSelectedImgs(ed);\n\t\t\t\t}\n\t\t\t});\n\t}\n});\n","export const editorPlugins =\n\t'link,lists,advlist,table,powerpaste,searchreplace,preview,autoresize,fullscreen,a11y_fixes,placeholder,readonlynoborder,code,image,align_listitems';\nexport const editorToolbar = [\n\t'bold,italic,underline,undo,redo,|,fontselect,fontsizeselect,table,|,forecolor,backcolor,link,unlink,|,image,code,|,alignleft,aligncenter,alignright,|,bullist,numlist,fullscreen'\n];\n","import { t } from 'sn-translate';\nimport { isDragDropEnabled } from '../constants';\n\nexport const createAttachmentDropOverlay = (\n\tstate,\n\tupdateState,\n\tdispatch,\n\tonDrop\n) => {\n\tconst onleaveState = {\n\t\tshowAttachmentDropOverlay: false,\n\t\tbrowseTypePannelopened: false\n\t};\n\treturn isDragDropEnabled\n\t\t? createDropOverlay(state, updateState, dispatch, onDrop, onleaveState)\n\t\t: null;\n};\nexport const createEditorDropOverlay = (\n\tstate,\n\tupdateState,\n\tdispatch,\n\tonDrop\n) => {\n\tconst onleaveState = {\n\t\tshowEditorDropOverlay: false,\n\t\tbrowseTypePannelopened: false\n\t};\n\treturn isDragDropEnabled\n\t\t? createDropOverlay(state, updateState, dispatch, onDrop, onleaveState)\n\t\t: null;\n};\nexport const createDropOverlay = (\n\tstate,\n\tupdateState,\n\tdispatch,\n\tonDrop,\n\tonDragLeaveState\n) => {\n\treturn (\n\t\t<div\n\t\t\tclassName=\"drag-drop-overlay\"\n\t\t\ton-drop={onDrop} /*{e => onDrop(e, state, dispatch)}*/\n\t\t\ton-dragenter={e => {\n\t\t\t\te.target.classList.add('disable-pointer-events');\n\t\t\t\te.stopPropagation();\n\t\t\t}}\n\t\t\ton-dragleave={e => {\n\t\t\t\tupdateState(onDragLeaveState);\n\t\t\t\te.stopPropagation();\n\t\t\t}}>\n\t\t\t<div className=\"overlay-dashed-border\">\n\t\t\t\t<div className=\"overlay-content\">\n\t\t\t\t\t<now-icon\n\t\t\t\t\t\ticon=\"documents-outline\"\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tclassName=\"overlay-content-icon\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"overlay-content-header\">{t('Upload File')}</div>\n\t\t\t\t\t<div className=\"overlay-content-body\">\n\t\t\t\t\t\t{t('Drop a file in to add it as an attachment')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/* eslint-disable no-console */\nimport '@servicenow/now-record-html-editor';\nimport { ATTACHMENT_CONSTANTS } from '../../../commons/EmailAttachments/constants';\nimport './tinymceInit';\nimport { EDITOR_CONSTANTS, isDragDropEnabled } from '../constants';\nimport { editorPlugins, editorToolbar } from './utils';\nimport { onDrop } from './eventHandlers';\nimport { createEditorDropOverlay } from '../DragDrop/DragDrop';\nimport '@servicenow/now-icon';\nimport { t } from 'sn-translate';\n\nexport default (state, dispatch, updateState) => {\n\tconst onOverlayDrop = e => onDrop(e, window.tinyMCE.activeEditor);\n\treturn (\n\t\t<div className=\"ec-editor\">\n\t\t\t{state.showEditorDropOverlay\n\t\t\t\t? createEditorDropOverlay(state, updateState, dispatch, onOverlayDrop)\n\t\t\t\t: ''}\n\t\t\t<now-record-html-editor\n\t\t\t\tname=\"sn-email-client-editor\"\n\t\t\t\tplugins={editorPlugins}\n\t\t\t\ttoolbar={editorToolbar}\n\t\t\t\tvalue={state.editorValue}\n\t\t\t\tlanguage={state.currentUser.language}\n\t\t\t\tminLineCount={EDITOR_CONSTANTS.EMAIL_EDITOR_MIN_LINE_COUNT}\n\t\t\t\tplaceholder={t('Compose your email here')}\n\t\t\t\tautofocus\n\t\t\t\treferringTable={state.emailRecord.table}\n\t\t\t\treferringRecordId={state.emailRecord.sysId}\n\t\t\t\tpowerPasteHtmlImport=\"merge\"\n\t\t\t\ton-file-drop={e => {\n\t\t\t\t\tdispatch(ATTACHMENT_CONSTANTS.ATTACH_FILES, {\n\t\t\t\t\t\tfiles: e.detail.files\n\t\t\t\t\t});\n\t\t\t\t\tupdateState({ showEditorDropOverlay: false });\n\t\t\t\t}}\n\t\t\t\ton-image-drop={e => {\n\t\t\t\t\tdispatch(EDITOR_CONSTANTS.ATTACH_INLINE_IMAGES, {\n\t\t\t\t\t\timgs: e.detail.imgs,\n\t\t\t\t\t\tfiles: e.detail.files\n\t\t\t\t\t});\n\t\t\t\t\tupdateState({ showEditorDropOverlay: false });\n\t\t\t\t}}\n\t\t\t\ton-image-delete={e =>\n\t\t\t\t\tdispatch(EDITOR_CONSTANTS.DELETE_INLINE_IMAGES, {\n\t\t\t\t\t\tsysIds: e.detail.sysIds\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\ton-dragover={() => {\n\t\t\t\t\tif (!state.showEditorDropOverlay && isDragDropEnabled) {\n\t\t\t\t\t\tdispatch(EDITOR_CONSTANTS.FILE_DRAGOVER);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { groupBy } from 'lodash';\nexport const onDrop = (e, ed) => {\n\tconst host = ed.targetElm.getRootNode().host;\n\tconst files = Array.from(e.dataTransfer.files);\n\tconst fileGroups = groupBy(files, function(file) {\n\t\tif (/image\\/(gif|jpe?g|png|bmp|tiff)/gi.test(file.type)) {\n\t\t\treturn 'images';\n\t\t} else {\n\t\t\treturn 'others';\n\t\t}\n\t});\n\n\tconst imgFiles = fileGroups.images;\n\tconst nonImgFiles = fileGroups.others;\n\t// add inline image tag for tiff explicitly\n\tif (imgFiles) {\n\t\tlet imgNodes = [];\n\t\timgFiles.forEach(file => {\n\t\t\tlet imgNode = document.createElement('img');\n\t\t\timgNode.dataset.fileName = file.name;\n\t\t\ted.selection.setNode(imgNode);\n\t\t\timgNode = ed.selection\n\t\t\t\t.getNode()\n\t\t\t\t.querySelector(`[data-file-name=\"${file.name}\"]:not([data-sys-id])`);\n\t\t\timgNodes.push(imgNode);\n\t\t});\n\t\thost.dispatchEvent(\n\t\t\tnew CustomEvent('image-drop', {\n\t\t\t\tdetail: { imgs: imgNodes, files: imgFiles }\n\t\t\t})\n\t\t);\n\t}\n\tif (nonImgFiles) {\n\t\thost.dispatchEvent(\n\t\t\tnew CustomEvent('file-drop', { detail: { files: nonImgFiles } })\n\t\t);\n\t}\n\treturn ed.dom.events.cancel(e);\n};\n","import { createAddAttachmentAction } from '../AttachmentsAdd/AddAttachments';\nimport { createAttachmentCards } from '../AttachmentCards/AttachmentCards';\nimport { browseAttachments } from '../AttachmentsBrowse/AttachmentsBrowse';\n\nexport default (state, dispatch, updateState) => {\n\tconst cardsConfig = {\n\t\tselection: false,\n\t\tscroll: false,\n\t\tcanEdit: true\n\t};\n\tconst { openBrowseModal, attachments } = state;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"ec-attachments\"\n\t\t\ton-dragover={e => {\n\t\t\t\te.preventDefault();\n\t\t\t}}>\n\t\t\t{createAddAttachmentAction(updateState, dispatch)}\n\t\t\t{createAttachmentCards(attachments, cardsConfig, state, updateState)}\n\t\t\t{openBrowseModal ? browseAttachments(state, updateState, dispatch) : ''}\n\t\t</div>\n\t);\n};\n","import { ATTACHMENT_CONSTANTS } from '../constants';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-dropdown';\n\n\nexport const createAddAttachmentAction = (updateState, dispatch) => {\n\tconst browseOptions = ATTACHMENT_CONSTANTS.ATTACHMENT_BROWSE_OPTIONS;\n\treturn (\n\t\t<div className=\"ec-attachments-add-menu-container\">\n\t\t\t<input\n\t\t\t\ttype=\"file\"\n\t\t\t\tid=\"ec-file-select\"\n\t\t\t\tmultiple\n\t\t\t\ton-click={e => {\n\t\t\t\t\te.target.value = '';\n\t\t\t\t}}\n\t\t\t\ton-change={e => {\n\t\t\t\t\tdispatch(ATTACHMENT_CONSTANTS.ATTACH_FILES, {\n\t\t\t\t\t\tfiles: e.target.files\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\thook-insert={\n\t\t\t\t\t({elm}) => updateState({fileInputRef: elm})\n\t\t\t\t}\n\t\t\t\thook-destroy={\n\t\t\t\t\t() => updateState({fileInputRef: null})\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div className=\"ec-add-files\">\n\t\t\t\t<label htmlFor=\"#ec-add-file\" className=\"ec-add-file-label\">\n\t\t\t\t\t{t('Attachments:')}\n\t\t\t\t</label>\n\t\t\t\t<now-dropdown-custom-target\n\t\t\t\t\titems={browseOptions}\n\t\t\t\t\tid=\"ec-add-file\"\n\t\t\t\t\tselect=\"none\"\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\tdispatchedEvent:\n\t\t\t\t\t\t\tATTACHMENT_CONSTANTS.ATTACHMENT_BROWSE_ACTION_CLICKED,\n\t\t\t\t\t}}>\n\t\t\t\t\t<now-button-bare\n\t\t\t\t\t\tslot=\"trigger\"\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tlabel={t('Add File')}\n\t\t\t\t\t\ttooltip-content={t('Attach files to Email')}\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\ticon-start=\"plus-fill\"\n\t\t\t\t\t/>\n\t\t\t\t</now-dropdown-custom-target>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import '@servicenow/now-modal';\nimport { t } from 'sn-translate';\n\nimport { createAttachmentCards } from '../AttachmentCards/AttachmentCards';\nimport {\n\tATTACHMENT_CONSTANTS,\n\tATTACHMENT_STATES,\n\tATTACHMENT_POSITION\n} from '../constants';\nimport { getSelectedAttachmentCount } from '../utils';\n\nexport const browseAttachments = (state, updateState) => {\n\tlet {\n\t\ttargetRecord: { attachments = [] }\n\t} = state;\n\n\tattachments = attachments.filter(\n\t\tfile => file.state.toLowerCase() !== ATTACHMENT_STATES.NOT_AVAILABLE\n\t);\n\n\tconst cardsConfig = {\n\t\tselection: true,\n\t\tscroll: true,\n\t\tcanEdit: false\n\t};\n\n\tconst count = getSelectedAttachmentCount(attachments);\n\tconst addLabel = t('Add') + (count ? t(` (${count})`) : '');\n\tconst modalActions = [\n\t\t{\n\t\t\tid: 'Add',\n\t\t\tlabel: addLabel,\n\t\t\tvariant: 'primary',\n\t\t\tdisabled: count ? false : true\n\t\t},\n\t\t{ id: 'cancel', label: t('Cancel'), variant: 'secondary' }\n\t];\n\n\treturn (\n\t\t<now-modal\n\t\t\tid=\"browse-from-record-modal\"\n\t\t\tfooter-actions={modalActions}\n\t\t\theader-label={t('Attachments From Record')}\n\t\t\tsize=\"md\"\n\t\t\topened\n\t\t\tappend-to-payload={{\n\t\t\t\tdispatchedEvent: ATTACHMENT_CONSTANTS.BROWSE_MODAL_ACTION_CLICKED\n\t\t\t}}>\n\t\t\t<div className=\"ec-browse-files-modal-content\">\n\t\t\t\t<div className=\"ec-browse-files-modal-title\">\n\t\t\t\t\t{attachments.length ? t('Select files to add as attachments:') : ''}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ec-browse-files-modal-cards\">\n\t\t\t\t\t{attachments.length\n\t\t\t\t\t\t? createAttachmentCards(\n\t\t\t\t\t\t\t\tattachments,\n\t\t\t\t\t\t\t\tcardsConfig,\n\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\tupdateState,\n\t\t\t\t\t\t\t\tATTACHMENT_POSITION.MODAL\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: ''}\n\t\t\t\t</div>\n\t\t\t\t{attachments.length == 0 ? (\n\t\t\t\t\t<div className=\"ec-cards-empty\">\n\t\t\t\t\t\t<div className=\"ec-cards-empty-icon\" />\n\t\t\t\t\t\t<div className=\"ec-cards-empty-message\">\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{t('No attachments to display.')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</now-modal>\n\t);\n};\n","import EmailFrom from './EmailFrom/EmailFrom';\nimport EmailReplyTo from './EmailReplyTo/EmailReplyTo';\nimport EmailRecipientPicker from './RecipientPicker/emailRecipientPicker';\nimport EmailSubject from './EmailSubject/EmailSubject';\nimport EmailEditor from './EmailEditor/EmailEditor';\nimport EmailAttachments from '../../commons/EmailAttachments/Attachments/Attachments';\nimport { createAttachmentDropOverlay } from './DragDrop/DragDrop';\nimport { ATTACHMENT_CONSTANTS } from '../../commons/EmailAttachments/constants';\nimport { COMPOSITE_ACTIONS } from '../../constants/emailConstants';\nimport { EMAIL_MINI_COMPOSER_ACTIONS } from '../now-email-client-mini-composer-connected/constants';\nimport {\n\tEMAIL_DRAFT_CONSTANTS,\n\tCONFIRMATION_MODAL_CONSTANTS\n} from './constants';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-loader';\nimport '@servicenow/now-modal';\nimport '@servicenow/now-button';\nimport '@servicenow/now-alert';\n\nconst modalActions = [\n\t{\n\t\tid: CONFIRMATION_MODAL_CONSTANTS.SEND,\n\t\tlabel: t('Yes, send'),\n\t\tvariant: 'primary'\n\t},\n\t{\n\t\tid: CONFIRMATION_MODAL_CONSTANTS.DONT_SEND,\n\t\tlabel: t('No'),\n\t\tvariant: 'secondary'\n\t}\n];\n\nexport default (state, { dispatch, updateState }) => {\n\tconst {\n\t\tstatus,\n\t\tshowConfirmationModel,\n\t\tconfig: { configFetched },\n\t\tresponseObjModified,\n\t\tproperties: { showEmailDetails, tabComposerDetails }\n\t} = state;\n\tif (!configFetched || responseObjModified) {\n\t\treturn (\n\t\t\t<div className=\"ec-loader\">\n\t\t\t\t<span aria-live=\"assertive\" className=\"ec-loader-container\">\n\t\t\t\t\t<now-loader size=\"lg\" label={t('Loading')} />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n\tconst onDropHandler = (e, state, dispatch) => {\n\t\tconst files = Array.from(e.dataTransfer.files);\n\t\tupdateState({ showAttachmentDropOverlay: false });\n\t\tdispatch(ATTACHMENT_CONSTANTS.ATTACH_FILES, { files });\n\t};\n\tconst onDrop = e => onDropHandler(e, state, dispatch);\n\tconst fullScreenClass = document.body.classList.contains('mce-fullscreen')\n\t\t? 'mce-fullscreen'\n\t\t: '';\n\treturn (\n\t\t<div className=\"ec-details-view\">\n\t\t\t{status !== 'none' ? (\n\t\t\t\t<div className=\"ec-loader\">\n\t\t\t\t\t<span aria-live=\"assertive\" className=\"ec-loader-container\">\n\t\t\t\t\t\t<now-loader size=\"lg\" label={t(status)} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t\t<div\n\t\t\t\tclassName={'ec-body ' + (status !== 'none' ? 'ec-body-noaction' : '')}\n\t\t\t\trole=\"form\"\n\t\t\t\ton-drop={e => e.preventDefault()}\n\t\t\t\ton-dragover={e => e.preventDefault()}\n\t\t\t\ton-scroll={() => {\n\t\t\t\t\tif (state.recipientSearchResults) {\n\t\t\t\t\t\tupdateState({ recipientSearchResults: [] }); //removing anchoring between dropdown and recipient input.\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t<div className=\"ec-body-show-hide-fields\">\n\t\t\t\t\t<now-button-bare\n\t\t\t\t\t\tid=\"ec-composer-details-show-hide-details\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\tshowEmailDetails\n\t\t\t\t\t\t\t\t? t('Hide email details')\n\t\t\t\t\t\t\t\t: t('Show email details')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t'aria-label': 'Show/hide details button'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\tdispatchedEvent: COMPOSITE_ACTIONS.EMAIL_SHOW_HIDE_BUTTON_CLICKED\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{!tabComposerDetails ? (\n\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\ticon=\"tabset-outline\"\n\t\t\t\t\t\t\tid=\"ec-composer-details-pop-out-button\"\n\t\t\t\t\t\t\ttooltip-content={t(\"Pop out email draft to new workspace tab\")}\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tbare={true}\n\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t'aria-label': 'Pop out email draft to new workspace tab'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\tdispatchedEvent:\n\t\t\t\t\t\t\t\t\tEMAIL_MINI_COMPOSER_ACTIONS.EMAIL_CLIENT_POP_OUT_BUTTON_CLICKED\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t''\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{showEmailDetails ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"ec-attachment-drop-container\"\n\t\t\t\t\t\ton-dragover={() => {\n\t\t\t\t\t\t\tif (!state.showAttachmentDropOverlay) {\n\t\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\t\tshowAttachmentDropOverlay: true,\n\t\t\t\t\t\t\t\t\tshowEditorDropOverlay: false,\n\t\t\t\t\t\t\t\t\tbrowseTypePannelopened: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"ec-body-input-container\">\n\t\t\t\t\t\t\t{state.config.displayFrom ? EmailFrom(state) : ''}\n\t\t\t\t\t\t\t{state.config.displayReplyTo\n\t\t\t\t\t\t\t\t? EmailReplyTo(state, updateState, dispatch)\n\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t{EmailRecipientPicker(state, dispatch, updateState)}\n\t\t\t\t\t\t\t{EmailSubject(state, dispatch, updateState)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"ec-body-attachments-container\">\n\t\t\t\t\t\t\t{EmailAttachments(state, dispatch, updateState)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{state.showAttachmentDropOverlay\n\t\t\t\t\t\t\t? createAttachmentDropOverlay(\n\t\t\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\t\t\tupdateState,\n\t\t\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\t\t\tonDrop\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t\t<div className={`ec-body-container ${fullScreenClass}`}>\n\t\t\t\t\t{EmailEditor(state, dispatch, updateState)}\n\t\t\t\t</div>\n\t\t\t\t{showConfirmationModel ? (\n\t\t\t\t\t<now-modal\n\t\t\t\t\t\tid=\"ec-send-confirmation-model\"\n\t\t\t\t\t\tcontent={t('There is no subject or message yet.')}\n\t\t\t\t\t\theader-label={t('Do you want to send anyway?')}\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\topened\n\t\t\t\t\t\tmanage-opened\n\t\t\t\t\t\tfooter-actions={modalActions}\n\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\tdispatchedEvent:\n\t\t\t\t\t\t\t\tEMAIL_DRAFT_CONSTANTS.EMAIL_CLIENT_MODAL_CONFIRMATION_BUTTON_CLICKED\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { RECIPIENT_CONSTANTS } from '../constants';\nimport { t } from 'sn-translate';\nimport { NOW_ACTIONS, ALERT_CONSTANTS } from '../../../constants/nowConstants';\nimport { isEmpty } from 'lodash';\n\nconst displayInvalidReason = recipient => {\n\tif (\n\t\trecipient.invalidReason ===\n\t\tRECIPIENT_CONSTANTS.RECIPIENT_INVALID_FLAGS.INVALID\n\t) {\n\t\treturn t('The recipient {0} is invalid.', recipient.emailAddress);\n\t} else if (\n\t\trecipient.invalidReason ===\n\t\t\tRECIPIENT_CONSTANTS.RECIPIENT_INVALID_FLAGS.BLACKLISTED ||\n\t\trecipient.invalidReason ===\n\t\t\tRECIPIENT_CONSTANTS.RECIPIENT_INVALID_FLAGS.NOT_ALLOWED\n\t) {\n\t\treturn t(\n\t\t\t'The recipient {0} is blocked. Contact your system administrator for permission.',\n\t\t\trecipient.emailAddress\n\t\t);\n\t}\n};\n\nexport const validateRecipients = (recipients, dispatch) => {\n\tlet isValid = true;\n\trecipients.forEach(recipient => {\n\t\tif (!recipient.isValid && typeof recipient.isValid !== 'undefined') {\n\t\t\tisValid = false;\n\t\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\t\t\talerts: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\t\t\t\t\ticon: ALERT_CONSTANTS.ICONS.CRITICAL,\n\t\t\t\t\t\tcontent: displayInvalidReason(recipient),\n\t\t\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\t});\n\treturn isValid;\n};\n\nexport const consolidateRecipients = recipients => {\n\treturn recipients\n\t\t.filter(recipient => recipient.isValid)\n\t\t.map(\n\t\t\t({\n\t\t\t\temailAddress,\n\t\t\t\tdisplayName,\n\t\t\t\trecipientSource,\n\t\t\t\trecipientSourceTable\n\t\t\t}) => ({\n\t\t\t\temailAddress,\n\t\t\t\tdisplayName,\n\t\t\t\trecipientSource,\n\t\t\t\trecipientSourceTable\n\t\t\t})\n\t\t);\n};\n\nconst isAttachmentUploading = attachments => attachments.some(attachment => attachment.uploading); \n\nexport const validateAttachments = (attachments, dispatch) => {\n\tconst isUploading = isAttachmentUploading(attachments);\n\tif (isUploading) {\n\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\t\talerts: [\n\t\t\t\t{\n\t\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.INFO,\n\t\t\t\t\ticon: ALERT_CONSTANTS.ICONS.INFO,\n\t\t\t\t\tcontent: t(\n\t\t\t\t\t\t'An attachment is still uploading. Try again when the upload is done.'\n\t\t\t\t\t),\n\t\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\treturn isUploading;\n};\n\nexport const checkRecipientToMandatory = (recipients_to, toOptional) => {\n\treturn toOptional ? false : isEmpty(recipients_to)\n}","/* eslint-disable no-console */\nimport { EMAIL_RENDERING_STATUS } from '../constants';\nimport { HEADER_CONSTANTS } from '../constants';\nimport { ALERT_CONSTANTS, NOW_ACTIONS } from '../../../constants/nowConstants';\nimport {\n\tconsolidateRecipients,\n\tvalidateAttachments,\n\tvalidateRecipients,\n\tcheckRecipientToMandatory\n} from './utils';\nimport { t } from 'sn-translate';\nimport { isEmpty } from 'lodash';\nimport { COMPOSITE_ACTIONS } from '../../../constants/emailConstants';\n\nconst dispatchRecipientAlerts = (dispatch, message) => {\n\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\talerts: [\n\t\t\t{\n\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\t\t\ticon: ALERT_CONSTANTS.ICONS.CRITICAL,\n\t\t\t\tcontent: message,\n\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t}\n\t\t]\n\t});\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_CANCELED);\n}\n\nconst handleSendButtonPressed = ({ state, dispatch, updateState }) => {\n\tconst {\n\t\trecipients_to,\n\t\trecipients_cc,\n\t\trecipients_bcc,\n\t\tattachments,\n\t\tconfig : { toOptional }\n\t} = state;\n\tconst { table, sysId } = state.targetRecord;\n\tif (checkRecipientToMandatory(recipients_to, toOptional)) {\t//If To field is mandatory check for empty To\n\t\tdispatchRecipientAlerts(dispatch, t('The recipient To field is required.'));\n\t\treturn;\n\t}\n\telse if (toOptional && \n\t\t(isEmpty(recipients_to) && isEmpty(recipients_cc) && isEmpty(recipients_bcc))) {\t//If To field is not mandatory check for at least one recipient.\n\t\t\tdispatchRecipientAlerts(dispatch, t('At least one recipient is required.'));\n\t\t\treturn;\n\t\t}\n\tconst isAttachmentsUploading = validateAttachments(\n\t\tattachments,\n\t\tdispatch\n\t);\n\tconst isRecipientToValid = validateRecipients(recipients_to, dispatch);\n\tconst isRecipientCcValid = validateRecipients(recipients_cc, dispatch);\n\tconst isRecipientBccValid = validateRecipients(recipients_bcc, dispatch);\n\tconst isRecipientsValid =\n\t\tisRecipientToValid && isRecipientCcValid && isRecipientBccValid;\n\tif (isAttachmentsUploading || !isRecipientsValid) {\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_CANCELED);\n\t\treturn;\n\t}\n\tconst { subjectValue } = state;\n\tif (isEmpty(subjectValue) || isEmpty(state.editorValue)) {\n\t\tupdateState({ showConfirmationModel: true });\n\t\treturn;\n\t}\n\tconst to = consolidateRecipients(recipients_to);\n\tconst cc = consolidateRecipients(recipients_cc);\n\tconst bcc = consolidateRecipients(recipients_bcc);\n\tdispatch(HEADER_CONSTANTS.EMAIL_CLIENT_SEND_DRAFT, {\n\t\tdraftRecord: {\n\t\t\tsysId: state.emailRecord.sysId,\n\t\t\tauthor: state.author,\n\t\t\tsubject: state.subjectValue,\n\t\t\tbody: state.editorValue,\n\t\t\treplyTo: state.replyToValue,\n\t\t\tfrom: state.fromValue,\n\t\t\tcontentType: 'text/html',\n\t\t\timportant: state.important,\n\t\t\tto: to,\n\t\t\tcc: cc,\n\t\t\tbcc: bcc,\n\t\t\ttargetTable: table,\n\t\t\ttargetRecord: sysId\n\t\t}\n\t});\n\tupdateState({\n\t\tstatus: EMAIL_RENDERING_STATUS.SENDING\n\t});\n};\n\nconst handleSaveButtonPressed = ({ state, dispatch, updateState }) => {\n\tconst {\n\t\trecipients_to,\n\t\trecipients_cc,\n\t\trecipients_bcc,\n\t\tattachments\n\t} = state;\n\tconst { table, sysId } = state.targetRecord;\n\tconst isAttachmentsUploading = validateAttachments(\n\t\tattachments,\n\t\tdispatch\n\t);\n\tif (isAttachmentsUploading) {\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_CANCELED);\n\t\treturn;\n\t}\n\tconst to = consolidateRecipients(recipients_to);\n\tconst cc = consolidateRecipients(recipients_cc);\n\tconst bcc = consolidateRecipients(recipients_bcc);\n\tdispatch(HEADER_CONSTANTS.EMAIL_CLIENT_UPDATE_DRAFT, {\n\t\tdraftRecord: {\n\t\t\tsysId: state.emailRecord.sysId,\n\t\t\tauthor: state.author,\n\t\t\tsubject: state.subjectValue,\n\t\t\tbody: state.editorValue,\n\t\t\treplyTo: state.replyToValue,\n\t\t\timportant: state.important,\n\t\t\tfrom: state.fromValue,\n\t\t\tcontentType: 'text/html',\n\t\t\tto: to,\n\t\t\tcc: cc,\n\t\t\tbcc: bcc,\n\t\t\ttargetTable: table,\n\t\t\ttargetRecord: sysId\n\t\t}\n\t});\n\tupdateState({\n\t\tstatus: EMAIL_RENDERING_STATUS.SAVING\n\t});\n};\n\nexport default {\n\t[HEADER_CONSTANTS.EMAIL_HEADER_SEND_BUTTON_CLICKED]: {\n\t\teffect: handleSendButtonPressed,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_CONSTANTS.EMAIL_HEADER_SAVE_BUTTON_CLICKED]: {\n\t\teffect: handleSaveButtonPressed,\n\t\tstopPropagation: true\n\t}\n};\n","const GLIDE_EMAIL_QUERY = 'GlideEmail_Query';\nconst GLIDE_DOMAIN_QUERY = 'GlideDomain_Query';\nconst GLIDE_EMAIL_MUTATION = 'GlideEmail_Mutation';\n\nconst GLIDE_EMAIL_GET_CONFIGURATION = 'getConfiguration';\nconst GLIDE_EMAIL_RETRIEVE_DRAFT = 'getDraftById';\nconst GLIDE_EMAIL_SEARCH_RECIPIENTS = 'searchRecipients';\nconst GLIDE_EMAIL_ADDRESS_VALIDATION = 'validateAddress';\nconst GLIDE_EMAIL_DOC_VIEWER_ENABLED_CHECK = 'getEmailTargetTableDocViewerFlag';\n\nconst GLIDE_EMAIL_CREATE_DRAFT_FROM_TARGET = 'createDraftFromTargetRecord';\nconst GLIDE_EMAIL_UPDATE_DRAFT_AND_SEND = 'updateDraftAndSend';\nconst GLIDE_EMAIL_UPDATE_DRAFT_RECORD = 'updateDraft';\n\nconst RETRIEVE_CURRENT_USER = `${GLIDE_DOMAIN_QUERY} {\n    user {\n        sys_id\n        userName\n        language\n      }\n}`;\n\n\nconst EMAIL_CLIENT_CONFIG_QUERY = `\nquery($targetTable: String!) {\n    ${RETRIEVE_CURRENT_USER},\n    ${GLIDE_EMAIL_QUERY} {\n        ${GLIDE_EMAIL_GET_CONFIGURATION}(table: $targetTable) {\n            sysId\n\t        name\n        \tdisplayFrom\n\t        displayReplyTo\n\t        recipientQualifiers\n\t\t\temailAddressFilters\n\t\t\ttoOptional\n\t\t},\n\t\t${GLIDE_EMAIL_DOC_VIEWER_ENABLED_CHECK}(table: $targetTable) {\n\t\t\tisEnabled\n\t\t}\n    }\n}`;\n\nconst EMAIL_CLIENT_RETRIEVE_DRAFT_RECORD = `\nquery($draftRecordId: String!) {\n\t${GLIDE_EMAIL_QUERY} {\n\t\t${GLIDE_EMAIL_RETRIEVE_DRAFT}(id: $draftRecordId) {\n\t\t\tsysId\n\t\t\tauthor\n\t\t\tsubject\n\t\t\ttargetTable\n\t\t\ttargetRecord\n\t\t\tbody\n\t\t\timportant\n\t\t\tfrom\n\t\t\tfromChoices\n\t\t\treplyTo\n\t\t\tto {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tcc {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tbcc {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n            },\n            attachments {\n\t\t\t\tattachmentId\n\t\t\t\tcontentDisposition\n\t\t\t\tdraftId\n\t\t\t\tsysId\n\t\t\t\tattachment {\n\t\t\t\t\tname\n\t\t\t\t\tsize\n\t\t\t\t\tstate\n\t\t\t\t\tsysId\n\t\t\t\t\ttype\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nconst EMAIL_CLIENT_RECIPIENT_QUERY = `\nquery($chars: String!, $draftId: String!) {\n\t${GLIDE_EMAIL_QUERY} {\n\t\t${GLIDE_EMAIL_SEARCH_RECIPIENTS}(chars: $chars, draftId: $draftId) {\n\t\t\trecipientSource\n\t\t\trecipientSourceTable\n\t\t\temailAddress\n\t\t\tdisplayName\n\t\t\tadditionalFields {\n\t\t\t\tname\n\t\t\t\tvalue\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nconst EMAIL_CLIENT_ADDRESS_VALIDATION = `\nquery($emailAddress: String!, $emailAddressFilterIds: [String!]) {\n\t${GLIDE_EMAIL_QUERY} {\n\t\t${GLIDE_EMAIL_ADDRESS_VALIDATION}(emailAddress: $emailAddress, emailAddressFilterIds: $emailAddressFilterIds) {\n\t\t\tisValid\n\t\t\temailAddress\n\t\t\tinvalidReason\n\t\t}\n\t}\n}`;\n\nconst EMAIL_CLIENT_CREATE_DRAFT_FROM_RECORD = `\nmutation($targetTable: String!, $sysId: String!, $input: [GlideEmail_EmailDraftDirtyFieldInputType]) {\n\t${GLIDE_EMAIL_MUTATION} {\n\t\t${GLIDE_EMAIL_CREATE_DRAFT_FROM_TARGET}(table: $targetTable, id: $sysId, dirtyFields: $input) {\n\t\t\tsysId\n\t\t\tauthor\n\t\t\tsubject\n\t\t\tbody\n\t\t\timportant\n\t\t\tfrom\n\t\t\tfromChoices\n\t\t\ttargetRecord\n\t\t\ttargetTable\n\t\t\treplyTo\n\t\t\tto {\n\t\t\t\tsysId\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tcc {\n\t\t\t\tsysId\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tbcc {\n\t\t\t\tsysId\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tattachments {\n\t\t\t\tattachmentId\n\t\t\t\tcontentDisposition\n\t\t\t\tdraftId\n\t\t\t\tsysId\n\t\t\t\tattachment {\n\t\t\t\t\tname\n\t\t\t\t\tsize\n\t\t\t\t\tstate\n\t\t\t\t\tsysId\n\t\t\t\t\ttype\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nconst EMAIL_CLIENT_SEND_DRAFT_RECORD = `\nmutation($draftRecord: GlideEmail_DraftInput_updateDraftAndSend!) {\n\t${GLIDE_EMAIL_MUTATION} {\n\t\t${GLIDE_EMAIL_UPDATE_DRAFT_AND_SEND}(draft: $draftRecord) {\n\t\t\tresult\n\t\t\tsentDraft {\n\t\t\t\tsysId\n\t\t\t\tauthor\n\t\t\t\tsubject\n\t\t\t\tbody\n\t\t\t\tfrom\n\t\t\t\timportant\n\t\t\t\tfromChoices\n\t\t\t\treplyTo\n\t\t\t\tto {\n\t\t\t\t\temailAddress\n\t\t\t\t\tdisplayName\n\t\t\t\t\trecipientType\n\t\t\t\t\trecipientSource\n\t\t\t\t\trecipientSourceTable\n\t\t\t\t}\n\t\t\t\tcc {\n\t\t\t\t\temailAddress\n\t\t\t\t\tdisplayName\n\t\t\t\t\trecipientType\n\t\t\t\t\trecipientSource\n\t\t\t\t\trecipientSourceTable\n\t\t\t\t}\n\t\t\t\tbcc {\n\t\t\t\t\temailAddress\n\t\t\t\t\tdisplayName\n\t\t\t\t\trecipientType\n\t\t\t\t\trecipientSource\n\t\t\t\t\trecipientSourceTable\n\t\t\t\t}\n\t\t\t\tattachments {\n\t\t\t\t\tattachment {\n\t\t\t\t\t\tname\n\t\t\t\t\t\tsize\n\t\t\t\t\t\tstate\n\t\t\t\t\t\tsysId\n\t\t\t\t\t\ttype\n\t\t\t\t\t}\n\t\t\t\t\tsysId\n\t\t\t\t\tcontentDisposition\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nconst EMAIL_CLIENT_UPDATE_DRAFT_RECORD = `\nmutation($draftRecord: GlideEmail_DraftInput_update!) {\n\t${GLIDE_EMAIL_MUTATION} {\n\t\t${GLIDE_EMAIL_UPDATE_DRAFT_RECORD}(draft: $draftRecord) {\n\t\t\tsysId\n\t\t\tsubject\n\t\t\tbody\n\t\t\tfrom\n\t\t\tfromChoices\n\t\t\timportant\n\t\t\treplyTo\n\t\t\tto {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientType\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tcc {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientType\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t\tbcc {\n\t\t\t\temailAddress\n\t\t\t\tdisplayName\n\t\t\t\trecipientType\n\t\t\t\trecipientSource\n\t\t\t\trecipientSourceTable\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nexport const EMAIL_QUERIES = Object.freeze({\n\tEMAIL_CLIENT_CONFIG_QUERY,\n\tEMAIL_CLIENT_RETRIEVE_DRAFT_RECORD,\n\tEMAIL_CLIENT_RECIPIENT_QUERY,\n\tEMAIL_CLIENT_ADDRESS_VALIDATION\n});\n\nexport const EMAIL_MUTATIONS = Object.freeze({\n\tEMAIL_CLIENT_CREATE_DRAFT_FROM_RECORD,\n\tEMAIL_CLIENT_UPDATE_DRAFT_RECORD,\n\tEMAIL_CLIENT_SEND_DRAFT_RECORD\n});\n","const EMAIL_VALIDATION_LOCALCHARS_REGEX =\n\t\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%*/?|^{}`~&'+-=_.\";\nconst EMAIL_VALIATION_DOMAIN_REGEX =\n\t'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.';\n\nconst containsOnlyChars = (validChars, sText) => {\n\tif (!sText) {\n\t\treturn true;\n\t}\n\n\tfor (let i = 0; i < sText.length; i++) {\n\t\tconst c = sText.charAt(i);\n\t\tif (validChars.indexOf(c) === -1) {\n\t\t\t// not a match\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\n// determine if the current character is a alpha or digit character (A-Za-z0-9)\nconst isAlphaNum = thchar => {\n\treturn isAlpha(thchar) || isDigit(thchar);\n};\n\n// determine if the current character is a alpha character (A-Za-z)\nconst isAlpha = thchar => {\n\treturn (\n\t\t(thchar >= 'a' && thchar <= 'z\\uffff') ||\n\t\t(thchar >= 'A' && thchar <= 'Z\\uffff') ||\n\t\tthchar === '_'\n\t);\n};\n\n// determine if the current character is a digit (0-9)\nconst isDigit = thchar => {\n\treturn thchar >= '0' && thchar <= '9';\n};\n\nexport function validateEmail(value) {\n\tconst localPartChars = EMAIL_VALIDATION_LOCALCHARS_REGEX;\n\tconst domainChars = EMAIL_VALIATION_DOMAIN_REGEX;\n\tif (!value) {\n\t\treturn false;\n\t}\n\t// break into local part and domain\n\tif (value.indexOf('@') === -1) {\n\t\treturn false;\n\t}\n\tconst s = value.split('@');\n\tif (s.length != 2) {\n\t\treturn false;\n\t}\n\n\t// check the local part of the address\n\tif (\n\t\t!containsOnlyChars(localPartChars, s[0]) ||\n\t\ts[0].length < 1 ||\n\t\ts[0].substr(0, 1) === '.' ||\n\t\ts[0].substr(s[0].length - 1, 1) === '.'\n\t) {\n\t\treturn false;\n\t}\n\n\t// check the domain part of the address\n\tif (!containsOnlyChars(domainChars, s[1])) {\n\t\treturn false;\n\t}\n\tconst periodIndex = s[1].indexOf('.');\n\tif (periodIndex === -1 || periodIndex === 0) {\n\t\treturn false;\n\t}\n\n\tconst periods = s[1].split('.');\n\tconst lastPeriod = periods[periods.length - 1];\n\tif (\n\t\tlastPeriod.length < 1 ||\n\t\t!isAlphaNum(s[1].substr(0, 1)) ||\n\t\t!isAlphaNum(s[1].substr(s[1].length - 1, 1))\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true; // address is OK\n}\n","import { RECIPIENT_CONSTANTS } from '../constants';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { EMAIL_QUERIES } from '../schemas/datasources';\nimport { debounce, reject } from 'lodash';\nimport { validateEmail } from './utils';\nimport { t } from 'sn-translate';\n\nconst recipientDataState = {};\n\nconst cancelSearch = opened => {\n\tif (!opened) {\n\t\tdebounceFn.cancel();\n\t}\n};\n\nconst setRecipientDataState = (emailAddress, dataState, displayName) => {\n\tif (emailAddress in recipientDataState) {\n\t\t//when same email address is used multiple time and in multiple field\n\t\trecipientDataState[emailAddress].dataStates.push(dataState);\n\t} else {\n\t\trecipientDataState[emailAddress] = {\n\t\t\tdisplayName: displayName || emailAddress,\n\t\t\tdataStates: [dataState]\n\t\t};\n\t}\n};\n\nconst handleRecipentCollapse = ({\n\taction: {\n\t\tpayload: { relatedTarget }\n\t},\n\tstate: { recipients_cc, recipients_bcc },\n\tupdateState\n}) => {\n\tif (\n\t\t(!relatedTarget ||\n\t\t\t(relatedTarget.label !== t('Cc') && relatedTarget.label !== t('Bcc'))) &&\n\t\t(!recipients_cc.length && !recipients_bcc.length)\n\t) {\n\t\tupdateState({ showCcBcc: false });\n\t}\n};\n\nconst searchResults = (dispatch, sysId, qs, updateState) => {\n\tif (qs.length >= RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_SEARCH_MIN_CHAR) {\n\t\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_SEARCHED, {\n\t\t\tchars: qs,\n\t\t\tdraftId: sysId\n\t\t});\n\t} else {\n\t\tupdateState({\n\t\t\trecipientSearchResults: [],\n\t\t\topened: false\n\t\t});\n\t}\n};\n\nconst debounceFn = debounce(\n\tsearchResults,\n\tRECIPIENT_CONSTANTS.EMAIL_RECIPIENT_SEARCH_DELAY\n);\n\nconst handleRecipientSearch = ({\n\taction: {\n\t\tpayload: { qs }\n\t},\n\tstate: {\n\t\temailRecord: { sysId }\n\t},\n\tupdateState,\n\tdispatch\n}) => {\n\tdebounceFn(dispatch, sysId, qs, updateState);\n};\n\nconst fetchRecipients = createGraphQLEffect(\n\tEMAIL_QUERIES.EMAIL_CLIENT_RECIPIENT_QUERY,\n\t{\n\t\tvariableList: ['chars', 'draftId'],\n\t\tsuccessActionType: RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_FETCH_SUCCESS,\n\t\terrorActionType: RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_FETCH_ERROR\n\t}\n);\n\nconst handleRecipientFetchSuccess = ({ action: { payload }, updateState }) => {\n\tconst result = payload.data.GlideEmail_Query.searchRecipients;\n\tconst opened = result.length ? true : false;\n\tupdateState({\n\t\trecipientSearchResults: result,\n\t\topened: opened\n\t});\n};\n\nconst handleRecipientFetchError = ({ action: { payload } }) => {\n\tconsole.error(\n\t\t'ERROR',\n\t\tpayload.error\n\t); /* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n};\n\nconst checkEmailAddressValidityStart = ({\n\taction: {\n\t\tpayload: {\n\t\t\temailAddress,\n\t\t\tdataState,\n\t\t\tdisplayName,\n\t\t\trecipientSource,\n\t\t\trecipientSourceTable\n\t\t}\n\t},\n\tdispatch,\n\tupdateState,\n\tstate: { config, showCcBcc, opened }\n}) => {\n\tif (\n\t\t(dataState === 'recipients_cc' || dataState === 'recipients_bcc') &&\n\t\t!showCcBcc\n\t) {\n\t\tupdateState({ showCcBcc: true });\n\t}\n\tif (!validateEmail(emailAddress)) {\n\t\tcancelSearch(opened);\n\t\tupdateState({\n\t\t\trecipientSearchResults: [],\n\t\t\topened: false\n\t\t});\n\n\t\tif (typeof emailAddress === 'undefined' || emailAddress === '') {\n\t\t\tif (recipientSource && recipientSourceTable) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: `${dataState}`,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tid: displayName,\n\t\t\t\t\t\temailAddress: '',\n\t\t\t\t\t\tisValid: true,\n\t\t\t\t\t\tdisplayName: displayName,\n\t\t\t\t\t\tinvalidReason: '',\n\t\t\t\t\t\trecipientSource: recipientSource,\n\t\t\t\t\t\trecipientSourceTable: recipientSourceTable\n\t\t\t\t\t},\n\t\t\t\t\toperation: 'push'\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tupdateState({\n\t\t\t\tpath: `${dataState}`,\n\t\t\t\tvalue: {\n\t\t\t\t\tid: emailAddress,\n\t\t\t\t\temailAddress: emailAddress,\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdisplayName: emailAddress,\n\t\t\t\t\tinvalidReason: RECIPIENT_CONSTANTS.RECIPIENT_INVALID_REASONS.get(\n\t\t\t\t\t\t'Invalid email address'\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\toperation: 'push'\n\t\t\t});\n\t\t}\n\t} else {\n\t\tsetRecipientDataState(emailAddress, dataState, displayName);\n\t\tdispatch(RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_CHECK, {\n\t\t\temailAddress: emailAddress,\n\t\t\temailAddressFilterIds: config.emailAddressFilters\n\t\t});\n\t}\n};\n\nconst validateEmailAddress = createGraphQLEffect(\n\tEMAIL_QUERIES.EMAIL_CLIENT_ADDRESS_VALIDATION,\n\t{\n\t\tvariableList: ['emailAddress', 'emailAddressFilterIds'],\n\t\tsuccessActionType:\n\t\t\tRECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_CHECK_SUCCES,\n\t\terrorActionType: RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_CHECK_ERROR\n\t}\n);\n\nconst checkEmailAddressValiditySuccess = ({\n\taction: { payload },\n\tstate,\n\tupdateState\n}) => {\n\tconst {\n\t\temailAddress,\n\t\tisValid,\n\t\tinvalidReason\n\t} = payload.data.GlideEmail_Query.validateAddress;\n\tconst emailId = emailAddress || state.searchString;\n\tconst { displayName, dataStates } = recipientDataState[emailId] || {};\n\tconst dataState = dataStates ? dataStates.pop() : '';\n\tupdateState({\n\t\tpath: `${dataState}`,\n\t\tvalue: {\n\t\t\tid: emailId,\n\t\t\temailAddress: emailId,\n\t\t\tisValid: isValid,\n\t\t\tdisplayName: displayName,\n\t\t\tinvalidReason: RECIPIENT_CONSTANTS.RECIPIENT_INVALID_REASONS.get(\n\t\t\t\tinvalidReason\n\t\t\t)\n\t\t},\n\t\toperation: 'push'\n\t});\n\tupdateState({\n\t\trecipientSearchResults: [],\n\t\topened: false\n\t});\n};\n\nconst checkEmailAddressValidityError = ({ action: { payload } }) => {\n\tconsole.error(\n\t\t'ERROR',\n\t\tpayload.error\n\t); /* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n};\n\nconst handleRecipientUpdateState = ({ action: { payload }, updateState }) => {\n\tupdateState({\n\t\t...payload\n\t});\n};\n\nconst removeEmailRecipient = ({\n\taction: {\n\t\tpayload: { itemIndex, dataState }\n\t},\n\tstate,\n\tupdateState\n}) => {\n\tconst newRecipientList = reject(\n\t\tstate[dataState],\n\t\t(value, index) => index === itemIndex\n\t);\n\tupdateState({\n\t\tpath: `${dataState}`,\n\t\tvalue: newRecipientList,\n\t\toperation: 'set'\n\t});\n};\n\nexport default {\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_FETCH_STARTED]: {\n\t\teffect: handleRecipientSearch,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_SEARCHED]: {\n\t\t...fetchRecipients,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_FETCH_SUCCESS]: {\n\t\teffect: handleRecipientFetchSuccess,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_FETCH_ERROR]: {\n\t\teffect: handleRecipientFetchError,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_STARTED]: {\n\t\teffect: checkEmailAddressValidityStart,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_CHECK]: {\n\t\t...validateEmailAddress,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_CHECK_SUCCES]: {\n\t\teffect: checkEmailAddressValiditySuccess,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_VALIDATION_CHECK_ERROR]: {\n\t\teffect: checkEmailAddressValidityError,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_UPDATE_STATE]: {\n\t\teffect: handleRecipientUpdateState,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_REMOVED]: {\n\t\teffect: removeEmailRecipient,\n\t\tstopPropagation: true\n\t},\n\t[RECIPIENT_CONSTANTS.EMAIL_RECIPIENT_CC_BCC_COLLAPSE]: {\n\t\teffect: handleRecipentCollapse,\n\t\tstopPropagation: true\n\t}\n};\n","/* eslint-disable no-console */\nimport { createHttpEffect } from '@servicenow/ui-effect-http';\nimport resources from '../../../commons/EmailAttachments/schemas/restQueries';\nimport { showAlert } from '../../../commons/EmailAttachments/AttachmentErrors/AttachmentErrorHandler';\nimport { get } from 'lodash';\nimport { ErrorMap } from '../../../commons/EmailAttachments/AttachmentErrors/AttachmentErrorMap';\n\nimport { ATTACHMENT_QUERY_CONSTANTS } from '../../../commons/EmailAttachments/constants';\nimport { EDITOR_CONSTANTS } from '../constants';\nimport { COMPOSITE_ACTIONS } from '../../../constants/emailConstants';\n\nlet imgNodes = [];\nconst attachInlineImage = ({ action, state, dispatch }) => {\n\t//If no Sys_Id then no Email recrod yet to save the images\n\tif (!state.emailRecord.sysId) {\n\t\treturn;\n\t}\n\tconst { table, sysId } = state.emailRecord;\n\tconst files = action.payload.files || [];\n\timgNodes = action.payload.imgs || [];\n\n\tfiles.forEach(file => {\n\t\tconst data = new FormData();\n\t\tdata.append(ATTACHMENT_QUERY_CONSTANTS.SYSPARAM_TABLE, table);\n\t\tdata.append(ATTACHMENT_QUERY_CONSTANTS.SYSPARAM_SYS_ID, sysId);\n\t\tdata.append(ATTACHMENT_QUERY_CONSTANTS.FILE, file);\n\t\tdispatch(EDITOR_CONSTANTS.UPLOAD_INLINE_IMAGES, { data });\n\t});\n};\n\nconst uploadInlineImage = createHttpEffect(resources.UPLOAD_INLINE_IMAGE.url, {\n\t...resources.UPLOAD_INLINE_IMAGE.options,\n\tsuccessActionType: EDITOR_CONSTANTS.UPLOAD_INLINE_IMAGES_SUCCESS,\n\terrorActionType: EDITOR_CONSTANTS.UPLOAD_INLINE_IMAGES_FAIL,\n\tprogressActionType: EDITOR_CONSTANTS.UPLOAD_PROGRESS\n});\n\nconst onUploadInlineImageSuccess = ({\n\taction: {\n\t\tpayload: { result }\n\t}\n}) => {\n\tconst { file_name, sys_id } = result;\n\tlet img = imgNodes.find(node => node.dataset.fileName === file_name);\n\tif (img) {\n\t\timg.src = `/sys_attachment.do?sys_id=${sys_id}`;\n\t\timg.dataset.sysId = sys_id;\n\t}\n\n\tsetTimeout(() => {\n\t\tconst editor = window.tinyMCE.activeEditor;\n\t\teditor.focus();\n\t\teditor.execCommand('mceAutoResize');\n\t}, 400);\n};\n\nconst onUploadInlineImageFail = ({ action, dispatch }) => {\n\tconst formData = get(action, 'meta.request.data');\n\tconst file = formData && formData.get('file');\n\tlet fileName = (file && file.name) || '';\n\tconst defaultAlert = ErrorMap['DEFAULT_ERROR'];\n\tconst message = get(action, 'payload.data.message', '');\n\tconst nwError = get(action, 'payload.message', '');\n\tconst serverError = get(action, 'payload.data.error');\n\tlet content;\n\n\tif (nwError === 'Network Error') {\n\t\tcontent = ErrorMap['ATTACHMENT_UPLOAD_NETWORK_ERROR'](fileName);\n\t} else if (serverError === 'Request Entity Too Large') {\n\t\tcontent = ErrorMap['ATTACHMENT_UPLOAD_SIZE_ERROR'](\n\t\t\tfileName,\n\t\t\tmessage.split(' ').pop()\n\t\t);\n\t} else {\n\t\tcontent = ErrorMap['ATTACHMENT_UPLOAD_ERROR'](fileName);\n\t}\n\tshowAlert({ ...defaultAlert, ...content }, dispatch);\n};\n\nconst deleteInlineImages = ({\n\taction: {\n\t\tpayload: { sysIds = [] }\n\t},\n\tdispatch\n}) => {\n\tsysIds.forEach(sysId => {\n\t\tif (sysId) {\n\t\t\tdispatch(EDITOR_CONSTANTS.DELETE_INLINE_IMAGE, { sysId });\n\t\t}\n\t});\n};\n\nconst deleteInlineImage = createHttpEffect(resources.DELETE_INLINE_IMAGE.url, {\n\t...resources.DELETE_INLINE_IMAGE.options,\n\tsuccessActionType: EDITOR_CONSTANTS.DELETE_INLINE_IMAGE_SUCCEESS,\n\terrorActionType: EDITOR_CONSTANTS.DELETE_INLINE_IMAGE_FAIL\n});\n\nconst deleteInlineImageSuccess = coeffect => {\n\tconst { action } = coeffect;\n\tconst url = get(action, 'meta.request.updatedUrl');\n\tconst sysId = url.split('/').pop();\n\tconsole.info(`Delete Success: Image '${sysId}' successfully deleted.`);\n};\n\nconst deleteInlineImageFail = ({ action, dispatch }) => {\n\tconst url = get(action, 'meta.request.updatedUrl');\n\tconst sysId = url.split('/').pop();\n\tshowAlert('ATTACHMENT_DELETE_FAILED', dispatch, sysId);\n};\n\nconst uploadProgress = ({ action: payload }) => {\n\tconst total = payload.payload.progressEvent.total;\n\tconst loaded = payload.payload.progressEvent.loaded;\n\tconst uploadPercent = (loaded / total) * 100;\n\tconsole.log('Upload Progress :', uploadPercent, '%');\n};\n\nconst onDragOver = ({ updateState }) =>\n\tupdateState({\n\t\tshowEditorDropOverlay: true,\n\t\tshowAttachmentDropOverlay: false\n\t});\n\nconst addHtmlToEditor = ({\n\taction: {\n\t\tpayload: { message, isInsert }\n\t}\n}) => {\n\tconst { body } = message;\n\tif (isInsert) {\n\t\twindow.tinyMCE.activeEditor.insertContent(body);\n\t} else {\n\t\twindow.tinyMCE.activeEditor.setContent(body);\n\t}\n};\n\nconst editorContentsChanged = ({ action, dispatch, updateState }) => {\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED);\n\tupdateState({ editorValue: action.payload.value, shouldRender: false });\n};\n\nexport default {\n\t[EDITOR_CONSTANTS.ATTACH_INLINE_IMAGES]: {\n\t\teffect: attachInlineImage,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.UPLOAD_INLINE_IMAGES]: {\n\t\t...uploadInlineImage,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.UPLOAD_INLINE_IMAGES_SUCCESS]: {\n\t\teffect: onUploadInlineImageSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.UPLOAD_INLINE_IMAGES_FAIL]: {\n\t\teffect: onUploadInlineImageFail,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.DELETE_INLINE_IMAGES]: {\n\t\teffect: deleteInlineImages,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.DELETE_INLINE_IMAGE]: {\n\t\t...deleteInlineImage,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.DELETE_INLINE_IMAGE_SUCCEESS]: {\n\t\teffect: deleteInlineImageSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.DELETE_INLINE_IMAGE_FAIL]: {\n\t\teffect: deleteInlineImageFail,\n\t\tstopPropagation: true\n\t},\n\n\t[EDITOR_CONSTANTS.UPLOAD_PROGRESS]: {\n\t\teffect: uploadProgress,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.FILE_DRAGOVER]: {\n\t\teffect: onDragOver,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.QUICK_MESSAGE_INSERT_CONTENT]: {\n\t\teffect: addHtmlToEditor,\n\t\tstopPropagation: true\n\t},\n\t[EDITOR_CONSTANTS.EDITOR_VALUE_CHANGED]: {\n\t\teffect: editorContentsChanged,\n\t\tstopPropagation: true\n\t}\n};\n","import { FROM_CONSTANTS } from '../constants';\nimport { NOW_ACTIONS } from '../../../constants/nowConstants';\nimport { COMPOSITE_ACTIONS } from '../../../constants/emailConstants';\n\nconst handleFromDropdownAction = ({\n\taction: { payload },\n\tupdateState,\n\tdispatch\n}) => {\n\tif (\n\t\tpayload.nowAction.type ===\n\t\tNOW_ACTIONS.NOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED\n\t) {\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED);\n\t\tupdateState({ fromValue: payload.item.label });\n\t}\n};\n\nexport default {\n\t[FROM_CONSTANTS.EMAIL_FROM_DROPDOWN_ACTION]: {\n\t\teffect: handleFromDropdownAction,\n\t\tstopPropagation: true\n\t}\n};\n","import { SUBJECT_CONSTANTS } from '../constants';\nimport { COMPOSITE_ACTIONS } from '../../../constants/emailConstants';\n\nconst handleImportantFlagToggle = ({ state, updateState, dispatch }) => {\n\tconst { important } = state;\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED);\n\tupdateState({ important: !important });\n};\n\nconst handleEmailSubjectChange = ({\n\taction: { payload },\n\tupdateState,\n\tdispatch\n}) => {\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED, {\n\t\tsubject: payload.value\n\t});\n\tupdateState({ subjectValue: payload.value });\n};\n\nexport default {\n\t[SUBJECT_CONSTANTS.EMAIL_SUBJECT_CHANGED]: {\n\t\teffect: handleEmailSubjectChange,\n\t\tstopPropagation: true\n\t},\n\t[SUBJECT_CONSTANTS.EMAIL_IMPORTANT_FLAG_CHANGED]: {\n\t\teffect: handleImportantFlagToggle,\n\t\tstopPropagation: true\n\t}\n};\n","import { getProperty } from 'sn-uxpage-presource';\nexport const defaultLanguage = getProperty('glide.sys.language', 'en');\n\nexport default class User {\n\tconstructor(user) {\n\t\tif (typeof user === 'object') {\n\t\t\tthis.sys_id = user.sys_id;\n\t\t\tthis.userName = user.userName;\n\t\t\tthis.language = user.language;\n\t\t}\n\t}\n\n\tset language(lang) {\n\t\tthis._language = lang || defaultLanguage;\n\t}\n\tget language() {\n\t\treturn this._language;\n\t}\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable curly */\n/* eslint-disable no-console */\nimport headerActionHandlers from './EmailHeader/actionHandlers';\nimport recipientActionHandlers from './RecipientPicker/actionHandlers';\nimport editorActionHandlers from './EmailEditor/actionHandlers';\nimport attachmentActionHandlers from '../../commons/EmailAttachments/Attachments/actionhandlers';\nimport fromActionHandlers from './EmailFrom/actionHandlers';\nimport subjectActionHandlers from './EmailSubject/actionHandlers';\nimport { actionTypes } from '@servicenow/ui-core';\nimport { forOwn, isEqual, get } from 'lodash';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { t } from 'sn-translate';\nimport { consolidateRecipients } from './EmailHeader/utils';\nimport { ErrorMap } from '../../commons/EmailAttachments/AttachmentErrors/AttachmentErrorMap';\nimport {\n\tEMAIL_DRAFT_CONSTANTS,\n\tEMAIL_TABLES,\n\tEDITOR_CONSTANTS,\n\tEMAIL_RENDERING_STATUS,\n\tRECIPIENT_CONSTANTS,\n\tHEADER_CONSTANTS,\n\tSEND_RESULT_STATES,\n\tCONFIRMATION_MODAL_CONSTANTS,\n\tRECIPIENT_TYPES,\n\tFAILURE_MESSAGES\n} from './constants';\nimport {\n\tATTACHMENT_CONTENT_DISPOSITION\n} from '../../commons/EmailAttachments/constants';\nimport { NOW_ACTIONS, ALERT_CONSTANTS } from '../../constants/nowConstants';\nimport {\n\tSEND_ERROR_MAP,\n\tCOMPOSITE_ACTIONS,\n\tEMAIL_DRAFT_TYPES,\n} from '../../constants/emailConstants';\n\nimport { EMAIL_QUERIES, EMAIL_MUTATIONS } from './schemas/datasources';\nimport { COMMON_EMAIL_MUTATIONS } from '../../commons/schemas/datasources';\nimport User from '../../commons/User';\n\nconst templateRecipients = {};\n\nconst updateTemplateRecipients = dispatch => {\n\tdelete templateRecipients.showCcBcc;\n\tforOwn(templateRecipients, (recipients, key) => {\n\t\tif (\n\t\t\t(key === RECIPIENT_TYPES.CC || key === RECIPIENT_TYPES.BCC) &&\n\t\t\trecipients && recipients.length\n\t\t) {\n\t\t\ttemplateRecipients.showCcBcc = true;\n\t\t}\n\t\tif (recipients)\n\t\t\ttemplateRecipients[key] = recipients.map(recipient => ({\n\t\t\t\t...recipient,\n\t\t\t\tisValid: true\n\t\t\t}));\n\t});\n\tdispatch(\n\t\tRECIPIENT_CONSTANTS.EMAIL_RECIPIENT_UPDATE_STATE,\n\t\ttemplateRecipients\n\t);\n};\n\nconst handleNowActions = ({ action, dispatch }) => {\n\tconst { payload } = action;\n\tif (payload.dispatchedEvent) {\n\t\tdispatch(payload.dispatchedEvent, {\n\t\t\t...payload,\n\t\t\tnowAction: action\n\t\t});\n\t}\n};\n\nconst handleRecordInitialisationAction = (\n\tdispatch,\n\tsubject,\n\tsysId,\n\ttarget,\n\tproperties\n) => {\n\tconst { draftRecordId, responseObj: { \n\t\treplyType, replyId \n\t}} = properties;\n\tconst draft_type =\n\t\tdraftRecordId === '-1'\n\t\t\t? replyId && replyType\n\t\t\t\t? EMAIL_DRAFT_TYPES.NEW_RESPONSE_DRAFT\n\t\t\t\t: EMAIL_DRAFT_TYPES.NEW_DRAFT\n\t\t\t: EMAIL_DRAFT_TYPES.EXISTING_DRAFT;\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_RECORD_INITIALISED, {\n\t\tsubject: subject,\n\t\trecordId: sysId,\n\t\ttargetTable: target.table,\n\t\ttargetRecord: target.sysId,\n\t\tdraftType: draft_type\n\t});\n};\n\nconst initialStateUpdate = (state, queryPath, dispatch, updateState) => {\n\tconst { responseObjModified, properties } = state;\n\tif (!responseObjModified) {\n\t\tdispatch(EMAIL_DRAFT_CONSTANTS.EMAIL_CONFIG_REQUESTED, {\n\t\t\ttargetTable: queryPath.targetTable\n\t\t});\n\t}\n\tObject.assign(templateRecipients, {\n\t\trecipients_to: queryPath.to,\n\t\trecipients_cc: queryPath.cc,\n\t\trecipients_bcc: queryPath.bcc\n\t});\n\n\tconst attachments = queryPath.attachments;\n\tconst attachmentTileList = attachments\n\t\t.filter(\n\t\t\tattachment =>\n\t\t\t\tattachment.contentDisposition &&\n\t\t\t\tattachment.contentDisposition.toLowerCase() ===\n\t\t\t\t\tATTACHMENT_CONTENT_DISPOSITION.attachment\n\t\t)\n\t\t.map(item => {\n\t\t\tconst { attachment, draftId, sysId } = item;\n\t\t\treturn { ...attachment, draftId, attachmentId: sysId };\n\t\t});\n\tconst { subject, sysId, targetRecord, targetTable } = queryPath;\n\tupdateState({\n\t\t...state,\n\t\temailRecord: {\n\t\t\ttable: EMAIL_TABLES.DRAFT_EMAIL,\n\t\t\tsysId: sysId\n\t\t},\n\t\tauthor: queryPath.author,\n\t\timportant: queryPath.important,\n\t\ttargetRecord: {\n\t\t\ttable: targetTable,\n\t\t\tsysId: targetRecord\n\t\t},\n\t\tsubjectValue: subject,\n\t\tfromValue: queryPath.from,\n\t\tfromChoices: queryPath.fromChoices.map(\n\t\t\t(item, index) => ({\n\t\t\t\tid: index,\n\t\t\t\tlabel: `${item}`\n\t\t\t})\n\t\t),\n\t\treplyToValue: queryPath.replyTo,\n\t\teditorValue: queryPath.body,\n\t\tattachments: attachmentTileList\n\t});\n\tupdateTemplateRecipients(dispatch);\n\tif ( responseObjModified ) {\n\t\thandleRecordInitialisationAction(\n\t\t\tdispatch,\n\t\t\tsubject,\n\t\t\tsysId,\n\t\t\ttargetRecord,\n\t\t\tproperties\n\t\t);\n\t}\n};\n\nconst handleComponentBoot = ({ action, state, dispatch, updateState }) => {\n\tconst {\n\t\tproperties: {\n\t\t\ttargetTable,\n\t\t\ttargetRecord,\n\t\t\tdirtyFields,\n\t\t\tdraftRecordId,\n\t\t\tresponseObj: {\n\t\t\t\treplyType,\n\t\t\t\treplyId\n\t\t\t}\n\t\t}\n\t} = state;\n\n\tif (draftRecordId === '-1') {\n\t\tif (replyType && replyId) {\n\t\t\tdispatch(EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT, {\n\t\t\t\temailRecordId: replyId,\n\t\t\t\tresponseType: replyType\n\t\t\t});\n\t\t} else {\n\t\t\tdispatch(EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_DRAFT_FROM_RECORD, {\n\t\t\t\ttargetTable: targetTable,\n\t\t\t\tsysId: targetRecord,\n\t\t\t\tinput: dirtyFields\n\t\t\t});\n\t\t}\n\t} else {\n\t\tdispatch(EMAIL_DRAFT_CONSTANTS.RETRIEVE_EMAIL_BY_ID, {\n\t\t\tdraftRecordId: draftRecordId\n\t\t});\n\t}\n\tupdateState({\n\t\tpath: 'meta',\n\t\tvalue: {\n\t\t\troot: action.payload.host.shadowRoot,\n\t\t\thost: action.payload.host\n\t\t},\n\t\toperation: 'set'\n\t});\n};\n\nconst emailConfigGraphQLRequest = createGraphQLEffect(\n\tEMAIL_QUERIES.EMAIL_CLIENT_CONFIG_QUERY,\n\t{\n\t\tvariableList: ['targetTable'],\n\t\tsuccessActionType: EMAIL_DRAFT_CONSTANTS.EMAIL_CONFIG_FETCH_SUCCEEDED,\n\t\terrorActionType: EMAIL_DRAFT_CONSTANTS.EMAIL_CONFIG_FETCH_FAILED\n\t}\n);\n\nconst handleConfigFetchSuccessResponse = ({\n\taction: { payload },\n\tupdateState,\n\tstate,\n\tdispatch\n}) => {\n\tconst { \n\t\tattachments, \n\t\temailRecord: { sysId },\n\t\tsubjectValue,\n\t\ttargetRecord,\n\t\tproperties\n\t} = state;\n\tif (payload.data) {\n\t\tconst { user } = payload.data.GlideDomain_Query;\n\t\tconst isDocViewerEnabled =\n\t\t\tpayload.data.GlideEmail_Query.getEmailTargetTableDocViewerFlag.isEnabled;\n\t\tif (user) {\n\t\t\tconst currentUser = new User(user);\n\t\t\tupdateState({ currentUser, shouldRender: false });\n\t\t}\n\t\tconst QUERY_PATH = payload.data.GlideEmail_Query.getConfiguration;\n\t\tif (QUERY_PATH) {\n\t\t\tupdateState({\n\t\t\t\tpath: 'config',\n\t\t\t\tvalue: {\n\t\t\t\t\tsysId: QUERY_PATH.sysId,\n\t\t\t\t\tdisplayFrom: QUERY_PATH.displayFrom,\n\t\t\t\t\tdisplayReplyTo: QUERY_PATH.displayReplyTo,\n\t\t\t\t\temailAddressFilters: QUERY_PATH.emailAddressFilters,\n\t\t\t\t\trecipientQualifiers: QUERY_PATH.recipientQualifiers,\n\t\t\t\t\ttoOptional: QUERY_PATH.toOptional,\n\t\t\t\t\tconfigFetched: true,\n\t\t\t\t\tdocViewerEnabled: isDocViewerEnabled\n\t\t\t\t},\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t} else {\n\t\t\tupdateState({\n\t\t\t\tpath: 'config',\n\t\t\t\tvalue: {\n\t\t\t\t\t...state.config,\n\t\t\t\t\tconfigFetched: true,\n\t\t\t\t\tdocViewerEnabled: isDocViewerEnabled\n\t\t\t\t},\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t}\n\t\tif (attachments.length) {\n\t\t\tdispatch(COMPOSITE_ACTIONS.LOAD_DOCUMENT_VIEWER, {\n\t\t\t\tdocViewerEnabled: isDocViewerEnabled\n\t\t\t});\n\t\t}\n\t\thandleRecordInitialisationAction(\n\t\t\tdispatch,\n\t\t\tsubjectValue,\n\t\t\tsysId,\n\t\t\ttargetRecord,\n\t\t\tproperties\n\t\t);\n\t}\n};\n\nconst handleConfigFetchErrorResponse = ({ action }) => {\n\tif (action.error) {\n\t\tconsole.error('GraphQL Error', action);\n\t}\n};\n\nconst createEmailDraftRecord = createGraphQLEffect(\n\tEMAIL_MUTATIONS.EMAIL_CLIENT_CREATE_DRAFT_FROM_RECORD,\n\t{\n\t\tvariableList: ['targetTable', 'sysId', 'input'],\n\t\tsuccessActionType: EMAIL_DRAFT_CONSTANTS.DRAFT_RECORD_CREATION_SUCCESS,\n\t\terrorActionType: EMAIL_DRAFT_CONSTANTS.DRAFT_RECORD_CREATION_FAILED\n\t}\n);\n\nconst handleRecordCreationSuccess = ({\n\taction: { payload },\n\tupdateState,\n\tstate,\n\tdispatch\n}) => {\n\tif (payload.data) {\n\t\tconst queryPath = get(\n\t\t\tpayload,\n\t\t\t'data.GlideEmail_Mutation.createDraftFromTargetRecord',\n\t\t\t{}\n\t\t);\n\t\tinitialStateUpdate(state, queryPath, dispatch, updateState);\n\t}\n};\n\nconst handleRecordCreationFail = ({ action }) => {\n\tif (action.error) {\n\t\tconsole.error('GraphQL Error', action);\n\t}\n};\n\nconst createEmailResponseDraft = createGraphQLEffect(\n\tCOMMON_EMAIL_MUTATIONS.EMAIL_CLIENT_CREATE_RESPONSE_DRAFT,\n\t{\n\t\tvariableList: ['emailRecordId', 'responseType'],\n\t\tsuccessActionType:\n\t\t\tEMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT_SUCCESS,\n\t\terrorActionType: EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT_FAILED\n\t}\n);\n\nconst handleResponseCreationSuccess = ({\n\taction: { payload },\n\tupdateState,\n\tstate,\n\tdispatch\n}) => {\n\tif (payload.data) {\n\t\tconst { responseObjModified } = state;\n\t\tconst queryPath = get(\n\t\t\tpayload,\n\t\t\t'data.GlideEmail_Mutation.createResponseDraft',\n\t\t\t{}\n\t\t);\n\t\tinitialStateUpdate(state, queryPath, dispatch, updateState);\n\t\tif (responseObjModified) {\n\t\t\tupdateState({responseObjModified: false});\n\t\t}\n\t}\n};\n\nconst handleResponseCreationFail = ({ action }) => {\n\tif (action.error) {\n\t\tconsole.error('GraphQL Error', action);\n\t}\n};\n\nconst retrieveDraftById = createGraphQLEffect(\n\tEMAIL_QUERIES.EMAIL_CLIENT_RETRIEVE_DRAFT_RECORD,\n\t{\n\t\tvariableList: ['draftRecordId'],\n\t\tsuccessActionType: EMAIL_DRAFT_CONSTANTS.RETRIEVE_EMAIL_BY_ID_SUCCESS,\n\t\terrorActionType: EMAIL_DRAFT_CONSTANTS.RETRIEVE_EMAIL_BY_ID_FAILURE\n\t}\n);\n\nconst retrieveDraftByIdSuccess = ({\n\taction: { payload },\n\tstate,\n\tupdateState,\n\tdispatch\n}) => {\n\tif (payload.data) {\n\t\tconst queryPath = get(payload, 'data.GlideEmail_Query.getDraftById', {});\n\t\tinitialStateUpdate(state, queryPath, dispatch, updateState);\n\t}\n};\n\nconst retrieveDraftByIdFailure = ({ action }) => {\n\tHEADER_CONSTANTS;\n\tconsole.error('GraphQL Error', action);\n};\n\nconst handleSendDraftRequest = createGraphQLEffect(\n\tEMAIL_MUTATIONS.EMAIL_CLIENT_SEND_DRAFT_RECORD,\n\t{\n\t\tvariableList: ['draftRecord'],\n\t\tsuccessActionType: HEADER_CONSTANTS.EMAIL_CLIENT_SEND_DRAFT_SUCCESS,\n\t\terrorActionType: HEADER_CONSTANTS.EMAIL_CLIENT_SEND_DRAFT_FAILED\n\t}\n);\n\nconst mapResultToAlert = (result, dispatch) => {\n\tif (ErrorMap.ATTACHMENTS_LIMIT.has(result)) {\n\t\tconst { content } = ErrorMap.ATTACHMENTS_LIMIT.get(result);\n\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\t\talerts: [\n\t\t\t\t{\n\t\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\t\t\t\ticon: ALERT_CONSTANTS.ICONS.CRITICAL,\n\t\t\t\t\tcontent: content,\n\t\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_FAILED);\n\t} else if (SEND_ERROR_MAP.has(result)) {\n\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\t\talerts: [\n\t\t\t\t{\n\t\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\t\t\t\ticon: ALERT_CONSTANTS.ICONS.CRITICAL,\n\t\t\t\t\tcontent: SEND_ERROR_MAP.get(result),\n\t\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_FAILED);\n\t} else if (\n\t\tresult === SEND_RESULT_STATES.SEND_SUCCESS ||\n\t\tresult === SEND_RESULT_STATES.ATTACHMENT_UNAVAILABLE\n\t) {\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_SUCESS);\n\t} else if (result === SEND_RESULT_STATES.DRAFT_STATE_FAIL) {\n\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\t\talerts: [\n\t\t\t\t{\n\t\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.INFO,\n\t\t\t\t\ticon: ALERT_CONSTANTS.ICONS.INFO,\n\t\t\t\t\tcontent: t('The email is sending now.'),\n\t\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n};\n\nconst handleSendDraftSuccess = ({\n\taction: { payload },\n\tupdateState,\n\tdispatch\n}) => {\n\tconst result = get(\n\t\tpayload,\n\t\t'data.GlideEmail_Mutation.updateDraftAndSend.result',\n\t\t''\n\t);\n\tif (payload.errors && payload.errors.length) {\n\t\tpayload.errors.forEach(error => {\n\t\t\tmapResultToAlert(error.message, dispatch);\n\t\t});\n\t} else if (payload.data) {\n\t\tmapResultToAlert(result, dispatch);\n\t}\n\tif (\n\t\tresult !== SEND_RESULT_STATES.SEND_SUCCESS ||\n\t\tresult !== SEND_RESULT_STATES.ATTACHMENT_UNAVAILABLE\n\t) {\n\t\tupdateState({\n\t\t\tstatus: EMAIL_RENDERING_STATUS.NONE\n\t\t});\n\t}\n};\n\nconst handleSendDraftFailed = ({ dispatch, updateState }) => {\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_FAILED);\n\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\talerts: [\n\t\t\t{\n\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\t\t\ticon: ALERT_CONSTANTS.ICONS.CRITICAL,\n\t\t\t\tcontent: FAILURE_MESSAGES.SEND_FAILURE,\n\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t}\n\t\t]\n\t});\n\tupdateState({\n\t\tstatus: EMAIL_RENDERING_STATUS.NONE\n\t});\n};\n\nconst handleUpdateDraftRequest = createGraphQLEffect(\n\tEMAIL_MUTATIONS.EMAIL_CLIENT_UPDATE_DRAFT_RECORD,\n\t{\n\t\tvariableList: ['draftRecord'],\n\t\tsuccessActionType: HEADER_CONSTANTS.EMAIL_CLIENT_UPDATE_DRAFT_SUCCESS,\n\t\terrorActionType: HEADER_CONSTANTS.EMAIL_CLIENT_UPDATE_DRAFT_FAILED\n\t}\n);\n\nconst updateDraftRecordSuccess = ({\n\taction: { payload },\n\tupdateState,\n\tdispatch\n}) => {\n\tif (payload.data) {\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_SUCESS);\n\t\tupdateState({\n\t\t\tstatus: EMAIL_RENDERING_STATUS.NONE\n\t\t});\n\t}\n};\n\nconst updateDraftRecordFailed = ({ dispatch, updateState }) => {\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_FAILED);\n\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\talerts: [\n\t\t\t{\n\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.CRITICAL,\n\t\t\t\ticon: ALERT_CONSTANTS.ICONS.CRITICAL,\n\t\t\t\tcontent: FAILURE_MESSAGES.SAVE_FAILURE,\n\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t}\n\t\t]\n\t});\n\tupdateState({\n\t\tstatus: EMAIL_RENDERING_STATUS.NONE\n\t});\n};\n\nconst handleConfirmationModalButtonClick = ({\n\tstate,\n\taction: { payload },\n\tdispatch,\n\tupdateState\n}) => {\n\tconst {\n\t\tnowAction: { type }\n\t} = payload;\n\tif (type === NOW_ACTIONS.NOW_MODAL_OPENED_SET) {\n\t\tupdateState({ showConfirmationModel: false });\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_CANCELED);\n\t\treturn;\n\t}\n\tconst {\n\t\taction: { id }\n\t} = payload;\n\tconst { recipients_bcc, recipients_cc, recipients_to } = state;\n\tif (id === CONFIRMATION_MODAL_CONSTANTS.DONT_SEND) {\n\t\tupdateState({ showConfirmationModel: false });\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_CANCELED);\n\t} else if (id === CONFIRMATION_MODAL_CONSTANTS.SEND) {\n\t\tconst to = consolidateRecipients(recipients_to);\n\t\tconst cc = consolidateRecipients(recipients_cc);\n\t\tconst bcc = consolidateRecipients(recipients_bcc);\n\t\tdispatch(HEADER_CONSTANTS.EMAIL_CLIENT_SEND_DRAFT, {\n\t\t\tdraftRecord: {\n\t\t\t\tsysId: state.emailRecord.sysId,\n\t\t\t\tauthor: state.author,\n\t\t\t\tsubject: state.subjectValue,\n\t\t\t\tbody: state.editorValue,\n\t\t\t\treplyTo: state.replyToValue,\n\t\t\t\tfrom: state.fromValue,\n\t\t\t\tto: to,\n\t\t\t\tcc: cc,\n\t\t\t\tbcc: bcc,\n\t\t\t\timportant: state.important,\n\t\t\t\ttargetTable: state.properties.targetTable,\n\t\t\t\ttargetRecord: state.properties.targetRecord\n\t\t\t}\n\t\t});\n\t\tupdateState({\n\t\t\tshowConfirmationModel: false,\n\t\t\tstatus: EMAIL_RENDERING_STATUS.SENDING\n\t\t});\n\t}\n};\n\nconst handleComponentPropChanged = ({ action: { payload }, dispatch, updateState}) => {\n\tconst { value, previousValue, name } = payload;\n\tswitch(name) {\n\t\tcase 'sendDraft':\n\t\t\tif (value && !previousValue) \n\t\t\t\tdispatch(HEADER_CONSTANTS.EMAIL_HEADER_SEND_BUTTON_CLICKED);\n\t\tbreak;\n\t\tcase 'saveDraft':\n\t\t\tif (value && !previousValue)\n\t\t\t\tdispatch(HEADER_CONSTANTS.EMAIL_HEADER_SAVE_BUTTON_CLICKED);\n\t\tbreak;\n\t\tcase 'quickMessages':\n\t\t\tif (value) {\n\t\t\t\tconst { message, isInsert } = value;\n\t\t\t\tdispatch(EDITOR_CONSTANTS.QUICK_MESSAGE_INSERT_CONTENT, {\n\t\t\t\t\tmessage: message,\n\t\t\t\t\tisInsert: isInsert\n\t\t\t\t});\n\t\t\t}\n\t\tbreak;\n\t\tcase 'responseObj':\n\t\t\tconst {replyType, replyId} = value;\n\t\t\tif (replyType && replyId && !isEqual(value, previousValue)) {\n\t\t\t\tupdateState({responseObjModified: true});\n\t\t\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_REINITIALISE_TRIGGERED);\n\t\t\t\tdispatch(EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT, {\n\t\t\t\t\temailRecordId: replyId,\n\t\t\t\t\tresponseType: replyType\n\t\t\t\t});\n\t\t\t}\n\t}\n};\n\nexport default {\n\t...headerActionHandlers,\n\t...recipientActionHandlers,\n\t...editorActionHandlers,\n\t...attachmentActionHandlers,\n\t...fromActionHandlers,\n\t...subjectActionHandlers,\n\t[actionTypes.COMPONENT_BOOTSTRAPPED]: {\n\t\teffect: handleComponentBoot,\n\t\tstopPropagation: true\n\t},\n\t[actionTypes.COMPONENT_ERROR_THROWN]: coeffect => {\n\t\tconsole.log('ERROR', coeffect);\n\t},\n\t[actionTypes.COMPONENT_PROPERTY_CHANGED]: {\n\t\teffect: handleComponentPropChanged,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_DROPDOWN_ITEM_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_PILL_DISMISSED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_BUTTON_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_BUTTON_BARE_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_CARD_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_BUTTON_ICONIC_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_CHECKBOX_CHECKED_SET]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CONFIG_REQUESTED]: {\n\t\t...emailConfigGraphQLRequest,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CONFIG_FETCH_SUCCEEDED]: {\n\t\teffect: handleConfigFetchSuccessResponse,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CONFIG_FETCH_FAILED]: {\n\t\teffect: handleConfigFetchErrorResponse,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_DRAFT_FROM_RECORD]: {\n\t\t...createEmailDraftRecord,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.DRAFT_RECORD_CREATION_SUCCESS]: {\n\t\teffect: handleRecordCreationSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.DRAFT_RECORD_CREATION_FAILED]: {\n\t\teffect: handleRecordCreationFail,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT]: {\n\t\t...createEmailResponseDraft,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT_SUCCESS]: {\n\t\teffect: handleResponseCreationSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CREATE_RESPONSE_DRAFT_FAILED]: {\n\t\teffect: handleResponseCreationFail,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_CONSTANTS.EMAIL_CLIENT_SEND_DRAFT]: {\n\t\t...handleSendDraftRequest,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_CONSTANTS.EMAIL_CLIENT_SEND_DRAFT_SUCCESS]: {\n\t\teffect: handleSendDraftSuccess,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_CONSTANTS.EMAIL_CLIENT_SEND_DRAFT_FAILED]: {\n\t\teffect: handleSendDraftFailed,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_CONSTANTS.EMAIL_CLIENT_UPDATE_DRAFT]: {\n\t\t...handleUpdateDraftRequest,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_CONSTANTS.EMAIL_CLIENT_UPDATE_DRAFT_SUCCESS]: {\n\t\teffect: updateDraftRecordSuccess,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_CONSTANTS.EMAIL_CLIENT_UPDATE_DRAFT_FAILED]: {\n\t\teffect: updateDraftRecordFailed,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.RETRIEVE_EMAIL_BY_ID]: {\n\t\t...retrieveDraftById,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.RETRIEVE_EMAIL_BY_ID_SUCCESS]: {\n\t\teffect: retrieveDraftByIdSuccess,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.RETRIEVE_EMAIL_BY_ID_FAILURE]: {\n\t\teffect: retrieveDraftByIdFailure,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_TEMPLATE_CARD_ATTACHMENT_ACTION_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_MODAL_FOOTER_ACTION_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_BUTTON_STATEFUL_SELECTED_SET]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_MODAL_OPENED_SET]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_DRAFT_CONSTANTS.EMAIL_CLIENT_MODAL_CONFIRMATION_BUTTON_CLICKED]: {\n\t\teffect: handleConfirmationModalButtonClick,\n\t\tstopPropagation: true\n\t}\n};\n","import { ATTACHMENT_CARDS_STATUS } from '../constants';\n\nexport default {\n\tattachments: [],\n\thasMore: false,\n\thasLess: false,\n\tcardsStatus: ATTACHMENT_CARDS_STATUS.NORMAL,\n\topenBrowseModal: false,\n\tselectedCards: [],\n\tattachmentEditing: null,\n\tfileInputRef: null\n};\n","import FromState from './EmailFrom/initialState';\nimport ReplyToState from './EmailReplyTo/initialState';\nimport RecipientPickerState from './RecipientPicker/initialState';\nimport SubjectState from './EmailSubject/initialState';\nimport EditorState from './EmailEditor/initialState';\nimport AttachmentState from '../../commons/EmailAttachments/Attachments/initialState';\nimport { EMAIL_TABLES } from './constants';\n\nexport default {\n\temailRecord: {\n\t\ttable: EMAIL_TABLES.DRAFT_EMAIL,\n\t\tsysId: ''\n\t},\n\ttargetRecord: {\n\t\ttable: '',\n\t\tsysId: '',\n\t\tattachments: []\n\t},\n\tmeta: {\n\t\troot: '',\n\t\thost: ''\n\t},\n\tconfig: {\n\t\tsysId: '',\n\t\tdisplayFrom: true,\n\t\tdisplayReplyTo: true,\n\t\temailAddressFilters: [],\n\t\trecipientQualifiers: [],\n\t\tconfigFetched: false,\n\t\tdocViewerEnabled: false,\n\t\ttoOptional: false\n\t},\n\tauthor: '',\n\tstatus: 'none',\n\tshowConfirmationModel: false,\n\tcurrentUser: null,\n\tshowAttachmentDropOverlay: false,\n\tresponseObjModified: false,\n\t...FromState,\n\t...ReplyToState,\n\t...RecipientPickerState,\n\t...SubjectState,\n\t...AttachmentState,\n\t...EditorState\n};\n","export default {\n\tfromValue: '',\n\tfromChoices: []\n};\n","export default {\n\treplyToValue: ''\n};\n","export default {\n\trecipients_to: [],\n\trecipients_cc: [],\n\trecipients_bcc: [],\n\trecipientSearchResults: [],\n\tshowCcBcc: false,\n\tcollapseRecipients: true,\n\topened: false,\n\tautofocus: false\n};\n","export default {\n\tsubjectValue: '',\n\timportant: false\n};\n","export default {\n\teditorValue: '',\n\tshowEditorDropOverlay: false\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport actionHandlers from './actionHandlers';\nimport styles from './styles.scss';\nimport initialState from './initialState';\nimport { COMPOSITE_ACTIONS } from '../../constants/emailConstants';\n\n/**\n * Component used to render the email client details component\n *\n * ```jsx\n * <now-email-client-composer-details\n * \t\ttarget-table={..}\n * \t\ttarget-record={..}\n * \t\treply-type={..}\n * \t\treply-id={..}\n * \t\tdraft-record-id={..}\n * \t\tsend-draft={..}\n * \t\tsave-draft={..}\n * \t\tquick-messages={..}\n * \t\tshow-email-details={..}\n * />\n * ```\n *\n * @seismicElement now-email-client-composer-details\n * @summary Component used to render the email client details component\n *\n */\n\ncreateCustomElement('now-email-client-composer-details', {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tproperties: {\n\t\t/**\n\t\t * Table name of the record againnst which Email Client\n\t\t * needs to be launched\n\t\t * @type {tableName}\n\t\t */\n\t\ttargetTable: { default: '' },\n\t\t/**\n\t\t * Record sysId against which Email Client needs to be launched\n\t\t * @type {sysId}\n\t\t */\n\t\ttargetRecord: { default: '' },\n\t\t/**\n\t\t * Dirty fields in the form before the email client gets launched.\n\t\t */\n\t\tdirtyFields: { default: [] },\n\t\t/**\n\t\t * SysId of the record inside sys_email_draft table to be displayed. Only used if newRecord is false.\n\t\t * @type {sysId}\n\t\t */\n\t\tdraftRecordId: { default: '' },\n\t\t/**\n\t\t * The object containing the response operation to be performed.\n\t\t * @type {ResponseOperationObject}\n\t\t */\n\t\tresponseObj: {default: {\n\t\t\treplyType: \"\",\n\t\t\treplyId: \"\"\n\t\t}},\n\t\t/**\n\t\t * Flag to be set to initiate a send operation.\n\t\t * @type {boolean}\n\t\t */\n\t\tsendDraft: { default: false },\n\t\t/**\n\t\t * Flag to be set to initiate a save operation.\n\t\t * @type {boolean}\n\t\t */\n\t\tsaveDraft: { default: false },\n\t\t/**\n\t\t * Flag to show/hide email details - True by default\n\t\t * @type {boolean}\n\t\t */\n\t\tshowEmailDetails: { default: true },\n\t\t/**\n\t\t * Object containing quick messages and configs\n\t\t * @type {QuickMessageDetails}\n\t\t */\n\t\tquickMessages: { default: {} },\n\t\t/**\n\t\t * Flag indicating if details is from workspace tab composer\n\t\t */\n\t\ttabComposerDetails: { default: false }\n\t},\n\tinitialState,\n\tactionHandlers,\n\tstyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the email draft record has been initialised.\n\t\t * @type {{subject: string, recordId: subject}}\n\t\t */\n\t\t[COMPOSITE_ACTIONS.EMAIL_RECORD_INITIALISED]: {},\n\t\t/**\n\t\t * Dispatched when an email field has been modified. Has a payload of subjec if and only if subject field is modified.\n\t\t * @type {{subject: string}}\n\t\t */\n\t\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED]: {},\n\t\t/**\n\t\t * Dispatched when the draft record has been successfully send.\n\t\t */\n\t\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_SUCESS]: {},\n\t\t/**\n\t\t * Dispatched when the draft record send action has failed.\n\t\t */\n\t\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_FAILED]: {},\n\t\t/**\n\t\t * Dispatched when the draft record has been successfully saved.\n\t\t */\n\t\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_SUCESS]: {},\n\t\t/**\n\t\t * Dispatched when the draft record save action has failed.\n\t\t */\n\t\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_FAILED]: {},\n\t\t/**\n\t\t * Dispatched to communicate to the parent component to load doc viewer\n\t\t */\n\t\t[COMPOSITE_ACTIONS.LOAD_DOCUMENT_VIEWER]: {}\n\t}\n});\n","import '@servicenow/now-dropdown';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-button';\nimport { FROM_CONSTANTS } from '../constants';\nimport { t } from 'sn-translate';\n\nexport default state => {\n\tconst { fromValue, fromChoices } = state;\n\treturn (\n\t\t<div className=\"ec-from ec-label-input-container\">\n\t\t\t<label htmlFor=\"#ec-from-input\" className=\"ec-field-label\">\n\t\t\t\t{t('From:')}\n\t\t\t</label>\n\t\t\t<div className=\"ec-from-dropdown\">\n\t\t\t\t<now-dropdown-custom-target\n\t\t\t\t\titems={fromChoices}\n\t\t\t\t\tid=\"ec-from-input\"\n\t\t\t\t\tselect=\"single\"\n\t\t\t\t\tselected-items={[0]}\n\t\t\t\t\tpanel-fit-props={{\n\t\t\t\t\t\tconstrain: {\n\t\t\t\t\t\t\tminWidth: 'target',\n\t\t\t\t\t\t\tmaxWidth: 'target'\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\tdispatchedEvent: FROM_CONSTANTS.EMAIL_FROM_DROPDOWN_ACTION\n\t\t\t\t\t}}\n\t\t\t\t\ttooltip-content={t('Select From Choice')}\n\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t'aria-label': t('Please select an item from the From choice list')\n\t\t\t\t\t}}>\n\t\t\t\t\t<div\n\t\t\t\t\t\ttab-index=\"0\"\n\t\t\t\t\t\tid=\"ec-from-trigger\"\n\t\t\t\t\t\tslot=\"trigger\"\n\t\t\t\t\t\tclassName=\"ec-from-trigger\"\n\t\t\t\t\t\taria-roledescription={t('From Dropdown List')}\n\t\t\t\t\t\taria-label={t('From field')}>\n\t\t\t\t\t\t<span id=\"ec-from-input-span\" className=\"ec-from-trigger-text\">\n\t\t\t\t\t\t\t{fromValue}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"ec-from-trigger-icon\">\n\t\t\t\t\t\t\t<now-icon icon=\"caret-down-fill\" size=\"md\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</now-dropdown-custom-target>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { t } from 'sn-translate';\nimport { COMPOSITE_ACTIONS } from '../../../constants/emailConstants';\n\nexport default (state, updateState, dispatch) => {\n\treturn (\n\t\t<div className=\"ec-reply-to ec-label-input-container\">\n\t\t\t<label htmlFor=\"ec-replyto-input\" className=\"ec-field-label\">\n\t\t\t\t{t('Reply To:')}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid=\"ec-replyto-input\"\n\t\t\t\tclassName=\"ec-reply-to-input\"\n\t\t\t\ttype=\"text\"\n\t\t\t\ton-change={e => {\n\t\t\t\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED);\n\t\t\t\t\tupdateState({ replyToValue: e.target.value });\n\t\t\t\t}}\n\t\t\t\tvalue={state.replyToValue}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { t } from 'sn-translate';\nimport { SUBJECT_CONSTANTS } from '../constants';\nimport '@servicenow/now-button';\n\nexport default (state, dispatch) => {\n\tconst {subjectValue, important} = state;\n\tconst importantAriaLabel =\n\t\tt('The email is marked as ') +\n\t\t(important ? t('important.') : t('not important.')) +\n\t\tt(' Click to toggle important flag');\n\treturn (\n\t\t<div className=\"ec-subject-important ec-label-input-container\">\n\t\t\t<label htmlFor=\"ec-subject-input\" className=\"ec-field-label\">\n\t\t\t\t{t('Subject:')}\n\t\t\t</label>\n\t\t\t<div className=\"ec-subject-important-container\">\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"ec-filled-input\"\n\t\t\t\t\tid=\"ec-subject-input\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tmaxlength=\"160\"\n\t\t\t\t\ton-input={e =>\n\t\t\t\t\t\tdispatch(SUBJECT_CONSTANTS.EMAIL_SUBJECT_CHANGED, {\n\t\t\t\t\t\t\tvalue: e.target.value\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tvalue={subjectValue}\n\t\t\t\t/>\n\t\t\t\t<now-button-stateful\n\t\t\t\t\ticon=\"flag-outline\"\n\t\t\t\t\tconfig-role=\"button\"\n\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t'aria-label': importantAriaLabel,\n\t\t\t\t\t\t'aria-pressed': important\n\t\t\t\t\t}}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\ttooltip-content={\n\t\t\t\t\t\timportant ? t('Remove flag') : t('Flag as important')\n\t\t\t\t\t}\n\t\t\t\t\tselected={important}\n\t\t\t\t\tmanage-selected\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\tdispatchedEvent: SUBJECT_CONSTANTS.EMAIL_IMPORTANT_FLAG_CHANGED\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import '../sn-email-client-internal-header';\nimport { HEADER_ACTION_BUTTONS } from './constants';\nimport '../now-email-client-composer-details';\nimport isEmpty from 'lodash/isEmpty';\nimport '@servicenow/now-alert';\n\nconst getValidHeaderButtons = () => {\n\treturn [HEADER_ACTION_BUTTONS.SAVE_BUTTON, HEADER_ACTION_BUTTONS.SEND_BUTTON];\n};\n\nconst checkComponentLoad = recordId => (recordId ? true : false);\n\nexport default state => {\n\tconst {\n\t\tproperties: {\n\t\t\ttargetTable,\n\t\t\ttargetRecord,\n\t\t\tdirtyFields,\n\t\t\tsysId,\n\t\t\treplyType,\n\t\t\treplyId,\n\t\t\tshowEmailDetails\n\t\t}\n\t} = state;\n\tconst { initiateSave, initiateSend, recordId, alertList = [] } = state;\n\tconst hasAlertList = alertList && !isEmpty(alertList);\n\treturn (\n\t\t<div className=\"ec-mini-email-composer\">\n\t\t\t<div className=\"ec-mini-email-composer-details-container\">\n\t\t\t\t<now-email-client-composer-details\n\t\t\t\t\ttarget-table={targetTable}\n\t\t\t\t\ttarget-record={targetRecord}\n\t\t\t\t\tdirty-fields={dirtyFields}\n\t\t\t\t\tdraft-record-id={sysId}\n\t\t\t\t\tresponse-obj={{replyType, replyId}}\n\t\t\t\t\tsend-draft={initiateSend}\n\t\t\t\t\tsave-draft={initiateSave}\n\t\t\t\t\tshow-email-details={showEmailDetails}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{checkComponentLoad(recordId) ? (\n\t\t\t\t<div className=\"ec-mini-email-composer-header-container\">\n\t\t\t\t\t<sn-email-client-internal-header\n\t\t\t\t\t\theading-value={''}\n\t\t\t\t\t\theader-buttons={getValidHeaderButtons()}\n\t\t\t\t\t\tpadding=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : ''}\n\t\t\t{hasAlertList ? (\n\t\t\t\t\t<div className='ec-alerts-container '>\n\t\t\t\t\t\t<span aria-live=\"assertive\">\n\t\t\t\t\t\t\t<now-alert-list\n\t\t\t\t\t\t\t\titems={alertList}\n\t\t\t\t\t\t\t\tmanage-items={true}\n\t\t\t\t\t\t\t\tclassName=\"ec-alerts\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t) : ''\n\t\t\t}\n\t\t</div>\n\t);\n};\n","export default {\n\tinitiateSend: false,\n\tinitiateSave: false,\n\tsubject: null,\n\trecordModified: false,\n\trecordId: '',\n\talertList: [],\n\ttargetRecord: '',\n\ttargetTable: '',\n\tmeta: {\n\t\troot: '',\n\t\thost: ''\n\t}\n};\n","/* eslint-disable no-console */\nimport {\n\tCOMPOSITE_ACTIONS,\n\tEMAIL_TABLES\n} from '../../constants/emailConstants';\nimport { NOW_ACTIONS, ALERT_CONSTANTS } from '../../constants/nowConstants';\nimport { HEADER_BUTTON_ACTIONS } from '../../components/sn-email-client-internal-header/constants';\nimport { EMAIL_MINI_COMPOSER_ACTIONS } from '../../components/now-email-client-mini-composer-connected/constants';\nimport {t} from 'sn-translate';\nimport { actionTypes } from '@servicenow/ui-core';\nimport { dispatchClassicAndUibActions } from '../workspaceActionMap';\n\nconst handleEmailRecordInitialised = ({\n\taction: { payload },\n\tupdateState,\n\tdispatch\n}) => {\n\tconst { subject, recordId, targetTable, targetRecord, draftType } = payload;\n\tupdateState({\n\t\tsubject,\n\t\trecordId,\n\t\ttargetRecord,\n\t\ttargetTable\n\t});\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_INITIALISED, {\n\t\ttable: EMAIL_TABLES.DRAFT_EMAIL,\n\t\tsysId: recordId,\n\t\tsubject: subject,\n\t\ttype: draftType\n\t});\n};\n\nconst handleEmailFieldModified = ({\n\tstate,\n\tdispatch,\n\tupdateState,\n\taction: { payload }\n}) => {\n\tif (payload) {\n\t\tconst { subject } = payload;\n\t\tupdateState({ subject: subject });\n\t}\n\tconst { recordModified, recordId } = state;\n\tif (!recordModified) {\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_DRAFT_MODIFIED, {\n\t\t\ttable: EMAIL_TABLES.DRAFT_EMAIL,\n\t\t\tsysId: recordId\n\t\t});\n\t\tupdateState({ recordModified: true });\n\t}\n};\n\nconst handleHeaderButtonClicked = ({ action: { payload }, updateState }) => {\n\tconst { actionType } = payload;\n\tif (actionType === 'save') {\n\t\tupdateState({ initiateSave: true });\n\t} else if (actionType === 'send') {\n\t\tupdateState({ initiateSend: true });\n\t}\n};\n\nconst handleSendSuccess = ({ updateState, dispatch, state }) => {\n\tconst { recordId } = state;\n\tupdateState({ initiateSend: false });\n\tdispatch(COMPOSITE_ACTIONS.EMAIL_SUCCESSFULLY_SEND, {\n\t\ttable: EMAIL_TABLES.DRAFT_EMAIL,\n\t\tsysId: recordId\n\t});\n};\n\nconst handleSendFail = ({ updateState }) => {\n\tupdateState({ initiateSend: false });\n};\n\nconst handleSendCancel = ({ updateState }) =>\n\tupdateState({ initiateSend: false });\n\nconst handleSaveSuccess = ({ updateState, dispatch, state }) => {\n\tconst { recordId, \n\t\t\trecordModified, \n\t\t\tpopOutButtonClicked, \n\t\t\tmeta: { host }\n\t\t} = state;\n\tupdateState({ initiateSave: false, recordModified: false });\n\tif (popOutButtonClicked) {\n\t\t//For mini email composer if pop out button is clicked.\n\t\tupdateState({ popOutButtonClicked: false });\n\t\tdispatch(EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_CLIENT_POP_OUT_SUCCEEDED);\n\t\tdispatchClassicAndUibActions(host, 'PREVIEW_RECORD', dispatch, {\n\t\t\ttable: EMAIL_TABLES.DRAFT_EMAIL,\n\t\t\tsys_id: recordId\n\t\t});\n\t} else {\n\t\tdispatch(NOW_ACTIONS.ADD_TO_ALERT_LIST, {\n\t\t\talerts: [\n\t\t\t\t{\n\t\t\t\t\tid: `now_email_alert_${Date.now()}`,\n\t\t\t\t\tstatus: ALERT_CONSTANTS.STATUS.POSITIVE,\n\t\t\t\t\ticon: ALERT_CONSTANTS.ICONS.POSITIVE,\n\t\t\t\t\tcontent: t('Email draft saved.'),\n\t\t\t\t\taction: { type: ALERT_CONSTANTS.ACTION.TYPES.DISMISS }\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\tdispatch(COMPOSITE_ACTIONS.EMAIL_SUCCESSFULLY_SAVED, {\n\t\t\ttable: EMAIL_TABLES.DRAFT_EMAIL,\n\t\t\tsysId: recordId,\n\t\t\trecordUpdate: recordModified\n\t\t});\n\t}\n};\n\nconst handleSaveFail = ({ updateState, state }) => {\n\tconst { popOutButtonClicked } = state;\n\tupdateState({ initiateSave: false });\n\tif (popOutButtonClicked) {\n\t\t//For mini email composer if pop out button is clicked.\n\t\tupdateState({ popOutButtonClicked: false });\n\t}\n};\n\nconst handleSaveCancel = ({ updateState, state }) => {\n\tconst { popOutButtonClicked } = state;\n\tupdateState({ initiateSave: false });\n\tif (popOutButtonClicked) {\n\t\t//For mini email composer if pop out button is clicked.\n\t\tupdateState({ popOutButtonClicked: false });\n\t}\n};\n\nconst addToAlertList = ({ action: { payload }, updateState }) => \n\tupdateState({\n\t\tpath: 'alertList',\n\t\tvalue: payload.alerts,\n\t\toperation: 'concat'\n\t});\n\nconst dismissAlertEffect = ({ action, updateState }) =>\n\tupdateState({\n\t\talertList: action.payload.value || []\n\t});\n\nconst handleShowDetailsButtonClicked = ({ updateProperties, state }) => {\n\tconst {\n\t\tproperties: { showEmailDetails }\n\t} = state;\n\tupdateProperties({ showEmailDetails: !showEmailDetails }); //I hate doing this\n};\n\nconst removeExistingDraft = ({ updateState }) => {\n\tupdateState({ \n\t\talertList: [],\n\t\tsubject: null,\n\t\trecordModified: false,\n\t\trecordId: '',\n\t\ttargetRecord: '',\n\t\ttargetTable: ''\n\t});\n}\n\nconst handleComponentBootstrap = ({ action: { payload }, updateState }) => {\n\tupdateState({\n\t\tpath: 'meta',\n\t\tvalue: {\n\t\t\troot: payload.host.shadowRoot,\n\t\t\thost: payload.host\n\t\t},\n\t\toperation: 'set'\n\t});\n}\n\nexport default {\n\t[COMPOSITE_ACTIONS.EMAIL_RECORD_INITIALISED]: {\n\t\teffect: handleEmailRecordInitialised,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_FIELD_MODIFIED]: {\n\t\teffect: handleEmailFieldModified,\n\t\tstopPropagation: true\n\t},\n\t[HEADER_BUTTON_ACTIONS.HEADER_ACTION_BUTTON_CLICKED]: {\n\t\teffect: handleHeaderButtonClicked,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_SUCESS]: {\n\t\teffect: handleSendSuccess,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_FAILED]: {\n\t\teffect: handleSendFail,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SEND_CANCELED]: {\n\t\teffect: handleSendCancel,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_SUCESS]: {\n\t\teffect: handleSaveSuccess,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_FAILED]: {\n\t\teffect: handleSaveFail,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_RECORD_SAVE_CANCELED]: {\n\t\teffect: handleSaveCancel,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_SHOW_HIDE_BUTTON_CLICKED]: {\n\t\teffect: handleShowDetailsButtonClicked,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.ADD_TO_ALERT_LIST]: {\n\t\teffect: addToAlertList,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_ALERT_LIST_UPDATED]: {\n\t\teffect: dismissAlertEffect,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_REINITIALISE_TRIGGERED]: {\n\t\teffect: removeExistingDraft,\n\t\tstopPropagation: true\n\t},\n\t[actionTypes.COMPONENT_BOOTSTRAPPED]: {\n\t\teffect: handleComponentBootstrap,\n\t\tstopPropagation: true\n\t}\n};\n","import { EMAIL_MINI_COMPOSER_ACTIONS } from './constants';\nimport { COMPOSITE_ACTIONS } from '../../constants/emailConstants';\nimport compositeActionHandlers from '../../commons/utils/compositeActionHandlers';\n\nconst handleEmailDraftInitialised = ({ dispatch, action: { payload } }) => {\n\tconst { table, sysId, subject } = payload;\n\tdispatch(EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_INITIALISED, {\n\t\ttable: table,\n\t\tsysId: sysId,\n\t\tsubject: subject\n\t});\n};\n\nconst handleEmailDraftModified = ({ dispatch, action: { payload } }) => {\n\tconst { sysId, table } = payload;\n\tdispatch(EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_MODIFIED, {\n\t\ttable: table,\n\t\tsysId: sysId\n\t});\n};\n\nconst handleEmailDraftSaved = ({ dispatch, action: { payload } }) => {\n\tconst { sysId, table } = payload;\n\tdispatch(EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_SAVE_SUCCESS, {\n\t\ttable: table,\n\t\tsysId: sysId\n\t});\n};\n\nconst handleEmailDraftSend = ({ dispatch, action: { payload } }) => {\n\tconst { sysId, table } = payload;\n\tdispatch(EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_SEND_SUCCESS, {\n\t\ttable: table,\n\t\tsysId: sysId\n\t});\n};\n\nconst miniComposerPopOutHandler = ({ updateState }) =>\n\tupdateState({\n\t\tpopOutButtonClicked: true,\n\t\tinitiateSave: true\n\t});\n\nconst handleAttachmentAddedAction = ({dispatch}) => {\n\tdispatch(EMAIL_MINI_COMPOSER_ACTIONS.ATTACHMENTS_ADDED);\n}\n\nexport default {\n\t...compositeActionHandlers,\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_INITIALISED]: {\n\t\teffect: handleEmailDraftInitialised,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_MODIFIED]: {\n\t\teffect: handleEmailDraftModified,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_SUCCESSFULLY_SAVED]: {\n\t\teffect: handleEmailDraftSaved,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_SUCCESSFULLY_SEND]: {\n\t\teffect: handleEmailDraftSend,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_CLIENT_POP_OUT_BUTTON_CLICKED]: {\n\t\teffect: miniComposerPopOutHandler,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.LOAD_DOCUMENT_VIEWER]: {\n\t\teffect: handleAttachmentAddedAction,\n\t\tstopPropagation: true\n\t}\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport styles from './styles.scss';\nimport compositeInitialState from '../../commons/utils/compositeInitialState';\nimport actionHandlers from './actionHandlers';\nimport { EMAIL_MINI_COMPOSER_ACTIONS } from './constants';\n\n/**\n * Component used to render the mini email composer.\n *\n * ```jsx\n * <now-email-client-mini-composer-connected\n * \t\tsys-id={..}\n * \t\ttarget-table={..}\n * \t\ttarget-record={..}\n * \t\treply-type={..}\n * \t\treply-id={..}\n * \t\tshow-email-details={..}\n * />\n * ```\n *\n * @seismicElement now-email-client-mini-composer-connected\n * @summary Component used to render the mini email composer.\n *\n */\nexport const NowEmailClientMiniComposer =\n\t'now-email-client-mini-composer-connected';\ncreateCustomElement(NowEmailClientMiniComposer, {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tstyles,\n\tinitialState: {\n\t\t...compositeInitialState,\n\t\tpopOutButtonClicked: false\n\t},\n\tactionHandlers,\n\tproperties: {\n\t\t/**\n\t\t * The sysId of the email_draft record\n\t\t * @type {sysId}\n\t\t */\n\t\tsysId: {},\n\t\t/**\n\t\t * Table name of the record againnst which Email Client\n\t\t * needs to be launched\n\t\t * @type {tableName}\n\t\t */\n\t\ttargetTable: { default: '' },\n\t\t/**\n\t\t * Record sysId against which Email Client needs to be launched\n\t\t * @type {sysId}\n\t\t */\n\t\ttargetRecord: { default: '' },\n\t\t/**\n\t\t * Dirty fields in the form before the email client gets launched.\n\t\t */\n\t\tdirtyFields: { default: [] },\n\t\t/**\n\t\t * The reply type in case its a responce draft - reply, replyall or forward\n\t\t * @type {string}\n\t\t */\n\t\treplyType: { default: '' },\n\t\t/**\n\t\t * The sys_id of the email to reply to in case its a responce draft\n\t\t * @type {sysId}\n\t\t */\n\t\treplyId: { default: '' },\n\t\t/**\n\t\t * Flag to show/hide email details - false by default\n\t\t * @type {boolean}\n\t\t */\n\t\tshowEmailDetails: { default: false }\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the email draft has been initialised and rendered\n\t\t * @type {{table: string, sysId: string, subject: string}}\n\t\t */\n\t\t[EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_INITIALISED]: {},\n\t\t/**\n\t\t * Dispatched when any field of the email draft has been modified\n\t\t * @type {EmailDraftPayload}\n\t\t */\n\t\t[EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_MODIFIED]: {},\n\t\t/**\n\t\t * Dispatched when the email draft has been succesfully saved\n\t\t * @type {EmailDraftPayload}\n\t\t */\n\t\t[EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_SAVE_SUCCESS]: {},\n\t\t/**\n\t\t * Dispatched when the email draft has been succesfully send\n\t\t * @type {EmailDraftPayload}\n\t\t */\n\t\t[EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_DRAFT_SEND_SUCCESS]: {},\n\t\t/**\n\t\t * Dispatched when the email draft has to be pulled into a new workspace tab\n\t\t */\n\t\t[EMAIL_MINI_COMPOSER_ACTIONS.EMAIL_CLIENT_POP_OUT_BUTTON_CLICKED]: {},\n\t\t/**\n\t\t * Dipsatched when attachments are present inside the details component. For document viewer load usecase\n\t\t */\n\t\t[EMAIL_MINI_COMPOSER_ACTIONS.ATTACHMENTS_ADDED]: {},\n\t\t/**\n\t\t * Dispatch when the pop out button is clicked and the save succeeds\n\t\t */\n\t\t[EMAIL_MINI_COMPOSER_ACTIONS.PREVIEW_RECORD]: {}\n\t}\n});\n","import { t } from 'sn-translate';\n\nexport const EMAIL_COMPOSER = Object.freeze({\n\tEMAIL_DRAFT_INITIALISED:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_CONNECTED#DRAFT_INITIALISED',\n\tEMAIL_DRAFT_MODIFIED: 'NOW_EMAIL_CLIENT_COMPOSER_CONNECTED#DRAFT_MODIFIED',\n\tEMAIL_DRAFT_SEND_SUCCESS:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_CONNECTED#DRAFT_SEND_SUCCEEDED',\n\tEMAIL_DRAFT_SAVE_SUCCESS:\n\t\t'NOW_EMAIL_CLIENT_COMPOSER_CONNECTED#DRAFT_SAVE_SUCCEEDED',\n\tSIDEBAR_OPENED: 'NOW_RECORD_COMMON_SIDEBAR#OPENED_SET',\n\tSIDEBAR_COMPONENTS_UPDATED: 'SIDEBAR_COMPONENTS_UPDATED',\n\tRECORD_STATUS_CHANGED: 'NOW_EMAIL_CLIENT_COMPOSER_CONNECTED#RECORD_STATUS_CHANGED',\n\tFORM_UPDATE_HEADER: 'NOW_EMAIL_CLIENT_COMPOSER_CONNECTED#FORM_UPDATE_HEADER',\n\tUPDATE_ONE_TAB: 'NOW_EMAIL_CLIENT_COMPOSER_CONNECTED#UPDATE_ONE_TAB'\n});\n\nexport const HEADER_ACTION_BUTTONS = Object.freeze({\n\tSEND_BUTTON: {\n\t\tlabel: t('Send Email'),\n\t\tid: 'ec-header-send',\n\t\tvariant: 'primary',\n\t\ttype: 'send'\n\t},\n\tSAVE_BUTTON: {\n\t\tlabel: t('Save as draft'),\n\t\tid: 'ec-header-save',\n\t\tvariant: 'secondary',\n\t\ttype: 'save'\n\t}\n});\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { isUndefined } from 'lodash';\nimport { t } from 'sn-translate';\nimport { getComponentsByTagNames } from '@devsnc/library-uxf';\nimport { EMAIL_COMPOSER } from './constants';\n\nconst getQuickMessageAttributes = (attributes) => {\n\tconst {targetTable, targetRecord, dirtyFields} = attributes;\n\treturn {\n\t\ttargetTable,\n\t\ttargetRecord,\n\t\tdirtyFields\n\t}\n}\n\nconst getResponseTemplatesAttributes = (attributes) => {\n\tconst {targetTable, targetRecord} = attributes;\n\treturn {\n\t\ttable: targetTable,\n\t\tsysId: targetRecord,\n\t\tchannel: 'Email'\n\t}\n}\n\n/* eslint-disable no-console */\nconst QUICK_MESSAGE_ELEMENT = {\n\tcomponentTag: 'sn-email-client-internal-quick-message-wrapper',\n\ticon: 'document-plus-outline',\n\tlabel: t('Quick Messages'),\n\torder: 0,\n\tactionAttributes: getQuickMessageAttributes\n};\n\nconst RESPONSE_TEMPLATE_ELEMENT = {\n\tcomponentTag: 'sn-response-templates',\n\ticon: 'checklist-outline',\n\tlabel: t('Response Templates'),\n\torder: 1,\n\tactionAttributes: getResponseTemplatesAttributes\n}\n\nconst DYNAMIC_LOAD_COMPONENTS = [\n\tRESPONSE_TEMPLATE_ELEMENT\n]\n\nexport const ELEMENT_TAGS = [\n\tQUICK_MESSAGE_ELEMENT,\n\t...DYNAMIC_LOAD_COMPONENTS\n];\n\nexport const ELEMENT_TAG_STATE = {\n\t[QUICK_MESSAGE_ELEMENT.componentTag]: true,\n\t[RESPONSE_TEMPLATE_ELEMENT.componentTag]: false\n};\n\nexport function getElementState(elementTag) {\n\treturn ELEMENT_TAG_STATE[elementTag];\n}\n\nexport function setElementState(elementTag, state) {\n\tconst currentState = ELEMENT_TAG_STATE[elementTag];\n\tif (isUndefined(currentState)) {\n\t\tconsole.warn('Unregistered element tag: ', elementTag);\n\t}\n\tELEMENT_TAG_STATE[elementTag] = state;\n}\n\nfunction getDisabledElement(elementTag, isConfigured) {\n\tconst message = isConfigured\n\t\t? `${elementTag} is not enabled!`\n\t\t: `${elementTag} is not configured. Double check the tag name.`;\n\n\t// using a HOC pattern\n\treturn createCustomElement('undefined-element', {\n\t\trenderer: {\n\t\t\ttype: snabbdom\n\t\t},\n\t\tview: () => <div key={elementTag}>{message}</div>\n\t});\n}\n\nexport function getElementTag(elementTag) {\n\tconst isEnabled = ELEMENT_TAG_STATE[elementTag];\n\tif (isEnabled) {\n\t\treturn elementTag;\n\t}\n\treturn getDisabledElement(elementTag, typeof isEnabled !== 'undefined');\n}\n\nexport const loadDynamicSidebarComponents = (dispatch) => {\n\tDYNAMIC_LOAD_COMPONENTS.forEach(component => {\n\t\tconst { componentTag } = component;\n\t\tconst isDefined = !!customElements.get(componentTag);\n\t\tif (isDefined) {\n\t\t\tsetElementState(componentTag, true );\n\t\t\treturn;\n\t\t}\n\t\tgetComponentsByTagNames([componentTag]).catch((e) => {\n\t\t\tconsole.warn(e);\n\t\t});\n\t\tcustomElements.whenDefined(componentTag)\n\t\t\t.then(() => { \n\t\t\t\tsetElementState(componentTag, true); \n\t\t\t\tdispatch(EMAIL_COMPOSER.SIDEBAR_COMPONENTS_UPDATED);\n\t\t\t})\n\t});\n}\n\nexport function getAllEnabledStateElements() {\n\treturn ELEMENT_TAGS.filter(\n\t\telement => ELEMENT_TAG_STATE[element.componentTag]\n\t);\n}\n","import { getAllEnabledStateElements } from './sidebarDependencymanager';\n\nexport const getEmailClientSidebarActions = (\n\tdirtyFields,\n\tstate\n) => {\n\tconst sidebarActions = getAllEnabledStateElements();\n\tconst {targetTable, targetRecord} = state;\n\treturn sidebarActions.map(actionElement => ({\n\t\ticon: actionElement.icon,\n\t\tlabel: actionElement.label,\n\t\ttooltip: actionElement.label,\n\t\tname: actionElement.label,\n\t\tactionComponent: actionElement.componentTag,\n\t\tactionAttributes: actionElement.actionAttributes({\n\t\t\ttargetTable,\n\t\t\ttargetRecord,\n\t\t\tdirtyFields\n\t\t})\n\t}));\n};\n","import { t } from 'sn-translate';\nimport { getProperty } from 'sn-uxpage-presource';\n\nexport const QUICK_MESSAGE_CONSTANTS = Object.freeze({\n\tACTION_CLICKED: 'ACTION_CLICKED',\n\tINSERT_BUTTON_CLICKED: 'INSERT_BUTTON_CLICKED',\n\tNEXT_BUTTON_CLICKED: 'NEXT_BUTTON_CLICKED',\n\tTITLE: t('Quick Messages'),\n\tSEARCH_MESSAGES: t('Search messages'),\n\tNO_MATCHING_RESULT: t('No matching results'),\n\tNO_QUICK_MESSAGES_YET: t('No quick messages yet'),\n\tBACK_ARIA_MESSAGE: t('Back to quick messages'),\n\tBACK_TOOL_TIP: t('Back'),\n\tINSERT: t('Insert'),\n\tINSERT_ARIA_MESSAGE: t('Insert into editor'),\n\tPREVIOUS: t('Previous'),\n\tNEXT: t('Next'),\n\tMAX_CHAR_IN_CARD_HEADER_LINE: 25,\n\tUPDATE_ITEM_STATE: 'UPDATE_ITEM_STATE\t'\n});\n\nexport const QUICK_MESSAGE_INSERT =\n\t'NOW_EMAIL_CLIENT_QUICK_MESSAGE#INSERT_CONTENT';\n\nexport const isInsert = getProperty('glide.email_client.quick_message.insert', true);","import { createElementFromNode } from '@servicenow/ui-renderer-snabbdom';\nimport { findTabbableNodes } from '@servicenow/library-enhanced-utils';\n\nexport const convertMarkup = (body, isTruncate = false) => {\n\tif (!document || !document.createElement) {\n\t\treturn;\n\t}\n\tlet fragment = document.createElement('Fragment');\n\tfragment.innerHTML = body || '';\n\tfragment.id = 'quick-message-body-content';\n\n\tif (isTruncate && body) {\n\t\tconst nodes = fragment.querySelectorAll('p, li, div');\n\t\tlet index = 0;\n\t\twhile (\n\t\t\tnodes[index] &&\n\t\t\tnodes[index].innerText.trim() === '' &&\n\t\t\tindex < nodes.length - 1\n\t\t) {\n\t\t\tindex++;\n\t\t}\n\t\tfragment = nodes[index] || fragment;\n\t\tfragment.setAttribute('class', 'quick-message-panel-body-card-content');\n\t}\n\treturn createElementFromNode(fragment);\n};\n\nexport const focusFirstChild = node => {\n\tlet focusableNodes = (0, findTabbableNodes)(node);\n\tif (focusableNodes.length) {\n\t\tfocusableNodes[0].focus();\n\t}\n};\n","import { QUICK_MESSAGE_CONSTANTS } from '../constants';\nimport { convertMarkup, focusFirstChild } from '../utils';\nimport { debounce } from 'lodash';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-card';\n\nconst hookInsert = (elm, selectedItem, index) => {\n\tif (selectedItem === index) {\n\t\tsetTimeout(() => {\n\t\t\tfocusFirstChild(elm);\n\t\t}, 100);\n\t}\n};\n\nconst getCardList = (messages, selectedItem) =>\n\tmessages.map((message, index) => {\n\t\tconst title = message.name;\n\t\tconst lines =\n\t\t\ttitle.length < QUICK_MESSAGE_CONSTANTS.MAX_CHAR_IN_CARD_HEADER_LINE\n\t\t\t\t? 1\n\t\t\t\t: 2;\n\n\t\tconst screenReaderLabel =\n\t\t\t`${QUICK_MESSAGE_CONSTANTS.TITLE} ${title} ${index + 1} ` +\n\t\t\tt('out of') +\n\t\t\t` ${messages.length}`; //focused QM name and its position\n\t\treturn (\n\t\t\t<div className=\"quick-message-panel-body-card-list\" key={index}>\n\t\t\t\t<now-card\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\tinteraction=\"click\"\n\t\t\t\t\tconfig-aria={{ 'aria-label': screenReaderLabel }}\n\t\t\t\t\thook-insert={({ elm }) => hookInsert(elm, selectedItem, index)}\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\tdispatchedEvent: QUICK_MESSAGE_CONSTANTS.UPDATE_ITEM_STATE,\n\t\t\t\t\t\tselectedItem: index,\n\t\t\t\t\t\tdetailView: true\n\t\t\t\t\t}}>\n\t\t\t\t\t<now-card-header\n\t\t\t\t\t\theading={{\n\t\t\t\t\t\t\tlabel: t(`{0}`, title),\n\t\t\t\t\t\t\tsize: 'sm',\n\t\t\t\t\t\t\tlines: lines,\n\t\t\t\t\t\t\tvariant: 'primary'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'insertAction',\n\t\t\t\t\t\t\t\ticon: 'document-plus-outline',\n\t\t\t\t\t\t\t\tlabel: t('Insert'),\n\t\t\t\t\t\t\t\tclickActionType: QUICK_MESSAGE_CONSTANTS.INSERT_BUTTON_CLICKED,\n\t\t\t\t\t\t\t\tmessage: message\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>{convertMarkup(message.body, true)}</div>\n\t\t\t\t</now-card>\n\t\t\t</div>\n\t\t);\n\t});\n\nconst getEmptyView = searchString => {\n\tlet label = QUICK_MESSAGE_CONSTANTS.NO_QUICK_MESSAGES_YET;\n\tlet backgroundImageClass = 'no-match-icon';\n\n\tif (searchString) {\n\t\tlabel = QUICK_MESSAGE_CONSTANTS.NO_MATCHING_RESULT;\n\t\tbackgroundImageClass = 'no-record-icon';\n\t}\n\n\treturn (\n\t\t<div className=\"quick-message-panel-body-empty\">\n\t\t\t<div\n\t\t\t\tclassName={`quick-message-panel-body-empty-${backgroundImageClass}`}\n\t\t\t/>\n\t\t\t<div className=\"quick-message-panel-body-empty-message\">{label}</div>\n\t\t</div>\n\t);\n};\n\nconst searchResults = (chars, items, dispatch) => {\n\tconst filteredItems = items.filter(message =>\n\t\tnew RegExp(chars, 'i').test(message.name)\n\t);\n\tdispatch(QUICK_MESSAGE_CONSTANTS.UPDATE_ITEM_STATE, {\n\t\tsearchedItems: filteredItems,\n\t\tsearchString: chars\n\t});\n};\n\nconst debounceFn = debounce(\n\tsearchResults,\n\t1000 //hack for VO + Safari as local search is too fast\n);\n\nexport const getCards = (messages, value, selectedItem) =>\n\tmessages.length ? getCardList(messages, selectedItem) : getEmptyView(value);\n\nexport const handleInput = (e, dispatch, items) => {\n\tconst chars = e.target.value.trimStart();\n\tif (chars) {\n\t\tdebounceFn(chars, items, dispatch);\n\t} else {\n\t\tdebounceFn.cancel();\n\t\tdispatch(QUICK_MESSAGE_CONSTANTS.UPDATE_ITEM_STATE, {\n\t\t\tsearchedItems: null,\n\t\t\tsearchString: ''\n\t\t});\n\t}\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport styles from './styles.scss';\n\n/**\n * Internal quick message list view  component for email client\n *\n * ```jsx\n * <sn-email-client-internal-quick-message-list-view\n * \t\tsearched-items={..}\n * \t\titems={..}\n * \t\tvalue={..}\n * \t\ttitle={..}\n * \t\tselected-item={..}\n * />\n * ```\n *\n * @seismicElement sn-email-client-internal-quick-message-list-view\n * @summary Internal quick message list view  component for email client\n *\n */\n\ncreateCustomElement('sn-email-client-internal-quick-message-list-view', {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tproperties: {\n\t\titems: { default: [] },\n\t\tsearchedItems: { default: null },\n\t\tvalue: { default: '', manageable: true, schema: { type: 'string' } },\n\t\ttitle: { default: '', manageable: true, schema: { type: 'string' } },\n\t\tselectedItem: { default: '' }\n\t},\n\tstyles\n});\n","import { t } from 'sn-translate';\nimport { QUICK_MESSAGE_CONSTANTS } from '../constants';\nimport { handleInput, getCards } from './utils';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-heading';\n\nexport default (state, { dispatch }) => {\n\tconst { items, searchedItems, title, value, selectedItem } = state.properties;\n\tconst cardItems = searchedItems ? searchedItems : items;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"quick-message-panel\"\n\t\t\trole=\"complementary\"\n\t\t\tid=\"quick-message-panel\">\n\t\t\t<div className=\"quick-message-panel-header\">\n\t\t\t\t<now-heading label={title} level=\"3\" variant=\"header-secondary\" />\n\t\t\t\t<div className=\"quick-message-panel-search\">\n\t\t\t\t\t<div className=\"quick-message-panel-search-icon\" tabindex=\"-1\">\n\t\t\t\t\t\t<now-icon icon=\"magnifying-glass-outline\" size=\"md\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\t\t//TODO: Change to now-input\n\t\t\t\t\t\trole=\"searchbox\"\n\t\t\t\t\t\tplaceholder={QUICK_MESSAGE_CONSTANTS.SEARCH_MESSAGES}\n\t\t\t\t\t\taria-label={t('Type here to search for Quick Messages')}\n\t\t\t\t\t\taria-controls=\"quick-message-card-list\"\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tclassName=\"quick-message-panel-search-input\"\n\t\t\t\t\t\ton-input={e => handleInput(e, dispatch, items)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"quick-message-panel-body\"\n\t\t\t\tid=\"quick-message-card-list\"\n\t\t\t\taria-live=\"polite\">\n\t\t\t\t{getCards(cardItems, value, selectedItem)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { focusFirstChild } from '../utils';\n\nexport const handleScroll = (target, header) => {\n\theader.classList.toggle(\n\t\t'quick-message-detail-header-flyout',\n\t\ttarget.scrollTop > 0\n\t);\n};\n\nexport const hookInsert = ({ elm }) => {\n\tsetTimeout(() => {\n\t\tfocusFirstChild(elm);\n\t}, 100);\n};\n","import { QUICK_MESSAGE_CONSTANTS } from '../constants';\nimport { convertMarkup } from '../utils';\nimport { hookInsert, handleScroll } from './utils';\nimport { createRef } from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-button';\n\nconst headerRef = createRef();\nconst bodyRef = createRef();\n\nexport default state => {\n\tconst { items, selectedItem } = state.properties;\n\tconst item = items[selectedItem];\n\tif (bodyRef.current) {\n\t\tbodyRef.current.scrollTop = 0;\n\t} //reset scroll on re-render\n\n\treturn (\n\t\t<div className=\"quick-message-detail\" role=\"complementary\">\n\t\t\t<div\n\t\t\t\tclassName=\"quick-message-detail-header\"\n\t\t\t\thook-insert={hookInsert}\n\t\t\t\tref={headerRef}>\n\t\t\t\t<div className=\"quick-message-detail-header-actions\">\n\t\t\t\t\t<div className=\"quick-message-detail-header-actions-back\">\n\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\thide-padding\n\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t'aria-label': QUICK_MESSAGE_CONSTANTS.BACK_ARIA_MESSAGE\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tid=\"quick-message-detail-back-button\"\n\t\t\t\t\t\t\ticon=\"chevron-left-outline\"\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\ttooltip-content={QUICK_MESSAGE_CONSTANTS.BACK_TOOL_TIP}\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\tdispatchedEvent: QUICK_MESSAGE_CONSTANTS.UPDATE_ITEM_STATE,\n\t\t\t\t\t\t\t\tdetailView: false\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"quick-message-detail-header-actions-insert\">\n\t\t\t\t\t\t<now-button-bare\n\t\t\t\t\t\t\thide-padding\n\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t'aria-label': QUICK_MESSAGE_CONSTANTS.INSERT_ARIA_MESSAGE\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ticon-start=\"document-plus-outline\"\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tid=\"quick-message-detail-insert-button\"\n\t\t\t\t\t\t\tlabel={QUICK_MESSAGE_CONSTANTS.INSERT}\n\t\t\t\t\t\t\ttooltip-content={QUICK_MESSAGE_CONSTANTS.INSERT}\n\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\tdispatchedEvent: QUICK_MESSAGE_CONSTANTS.INSERT_BUTTON_CLICKED,\n\t\t\t\t\t\t\t\tmessage: item\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"quick-message-detail-body\"\n\t\t\t\taria-live=\"polite\"\n\t\t\t\tref={bodyRef}\n\t\t\t\ton-scroll={({ currentTarget }) =>\n\t\t\t\t\thandleScroll(currentTarget, headerRef.current)\n\t\t\t\t}>\n\t\t\t\t<div className=\"quick-message-detail-body-title\">{item.name}</div>\n\t\t\t\t<div className=\"quick-message-detail-body-content\">\n\t\t\t\t\t{convertMarkup(item.body)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"quick-message-detail-body-footer\">\n\t\t\t\t<div className=\"quick-message-detail-body-footer-actions\">\n\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\tbare\n\t\t\t\t\t\tdisabled={!selectedItem}\n\t\t\t\t\t\ticon=\"arrow-left-fill\"\n\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tid=\"quick-message-detail-previous-button\"\n\t\t\t\t\t\ttooltip-content={QUICK_MESSAGE_CONSTANTS.PREVIOUS}\n\t\t\t\t\t\tconfigAria={{\n\t\t\t\t\t\t\t'aria-label': QUICK_MESSAGE_CONSTANTS.PREVIOUS\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\tdispatchedEvent: QUICK_MESSAGE_CONSTANTS.UPDATE_ITEM_STATE,\n\t\t\t\t\t\t\tselectedItem: selectedItem - 1\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\tbare\n\t\t\t\t\t\tdisabled={selectedItem + 1 === items.length}\n\t\t\t\t\t\ticon=\"arrow-right-fill\"\n\t\t\t\t\t\tlabel=\"\"\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tid=\"quick-message-detail-next-button\"\n\t\t\t\t\t\ttooltip-content={QUICK_MESSAGE_CONSTANTS.NEXT}\n\t\t\t\t\t\tconfigAria={{\n\t\t\t\t\t\t\t'aria-label': QUICK_MESSAGE_CONSTANTS.NEXT\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\tdispatchedEvent: QUICK_MESSAGE_CONSTANTS.UPDATE_ITEM_STATE,\n\t\t\t\t\t\t\tselectedItem: selectedItem + 1\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport styles from './styles.scss';\n\n/**\n * Internal quick message detail view  component for email client\n *\n * ```jsx\n * <sn-email-client-internal-quick-message-detail-view\n * \t\tselected-item={..}\n * \t\titems={..}\n * />\n * ```\n *\n * @seismicElement sn-email-client-internal-quick-message-detail-view\n * @summary Internal quick message detail view  component for email client\n *\n */\n\ncreateCustomElement('sn-email-client-internal-quick-message-detail-view', {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tproperties: {\n\t\titems: { default: [] },\n\t\tselectedItem: { default: null }\n\t},\n\tstyles\n});\n","import './ListView/listView';\nimport './DetailView/detailView';\nimport { QUICK_MESSAGE_CONSTANTS } from './constants';\n\nexport default state => {\n\tconst { activeItems } = state.properties;\n\tconst { searchedItems, searchString, selectedItem, detailView } = state;\n\tconst items = searchedItems || activeItems;\n\treturn (\n\t\t<div className=\"quick-message-body\">\n\t\t\t{detailView ? (\n\t\t\t\t<sn-email-client-internal-quick-message-detail-view\n\t\t\t\t\titems={items}\n\t\t\t\t\tselectedItem={selectedItem}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<sn-email-client-internal-quick-message-list-view\n\t\t\t\t\titems={activeItems}\n\t\t\t\t\tsearchedItems={searchedItems}\n\t\t\t\t\tvalue={searchString}\n\t\t\t\t\ttitle={QUICK_MESSAGE_CONSTANTS.TITLE}\n\t\t\t\t\tselectedItem={selectedItem}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","/* eslint-disable no-console */\nimport { QUICK_MESSAGE_CONSTANTS, QUICK_MESSAGE_INSERT } from './constants';\nimport { NOW_ACTIONS } from '../../constants/nowConstants';\nimport { isInsert } from './constants';\n\nconst handleNowActions = ({ action, dispatch }) => {\n\tlet { payload } = action;\n\tif (payload.dispatchedEvent) {\n\t\tdispatch(payload.dispatchedEvent, {\n\t\t\t...payload,\n\t\t\tnowAction: action\n\t\t});\n\t}\n};\n\nconst handleInsertClick = ({ action: { payload }, dispatch }) => {\n\tconst message = payload.action ? payload.action.message : payload.message;\n\tdispatch(QUICK_MESSAGE_INSERT, {\n\t\tmessage,\n\t\tisInsert\n\t});\n};\n\nconst handleItemsState = ({ action: { payload }, updateState }) => {\n\tupdateState({ ...payload });\n};\n\nexport default {\n\t[NOW_ACTIONS.NOW_BUTTON_BARE_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_BUTTON_ICONIC_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[NOW_ACTIONS.NOW_CARD_CLICKED]: {\n\t\teffect: handleNowActions,\n\t\tstopPropagation: true\n\t},\n\t[QUICK_MESSAGE_CONSTANTS.UPDATE_ITEM_STATE]: {\n\t\teffect: handleItemsState,\n\t\tstopPropagation: true\n\t},\n\t[QUICK_MESSAGE_CONSTANTS.INSERT_BUTTON_CLICKED]: {\n\t\teffect: handleInsertClick,\n\t\tstopPropagation: true\n\t}\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport actionHandlers from './actionHandlers';\nimport initialState from './initialState';\nimport styles from './styles.scss';\nimport { QUICK_MESSAGE_INSERT } from './constants';\n\n/**\n * An email side panel that enables users, such as workspace agents, to quickly send preconfigured messages in emails.\n *\n * ```jsx\n * <now-email-client-quick-messages\n * \t\tactive-items={..}\n * />\n * ```\n *\n * @seismicElement now-email-client-quick-messages\n * @summary Lets users send preconfigured messages and responses through an email client contextual side panel. \n *\n */\nexport const NowEmailClientQuickMessages = 'now-email-client-quick-messages';\ncreateCustomElement(NowEmailClientQuickMessages, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\t/**\n\t\t * List of quick messages to display. Messages are indexed so that the user can search for a specific message.\n\t\t * @type {Array<QuickMessageItems>}\n\t\t */\n\t\tactiveItems: { default: [] }\n\t},\n\tinitialState,\n\tactionHandlers,\n\tstyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the insert button is clicked on a quick message card.\n\t\t * @type {QuickMessageDetails}\n\t\t */\n\t\t[QUICK_MESSAGE_INSERT]: {}\n\t}\n});\n","export default {\n\tselectedItem: null,\n\tsearchedItems: null,\n\tsearchString: '',\n\tdetailView: false\n};\n","import '../now-email-client-quick-messages';\n\nexport default state => {\n\tconst { quickMessages } = state;\n\tif (quickMessages !== null) {\n\t\treturn <now-email-client-quick-messages active-items={quickMessages} />;\n\t}\n\treturn null;\n};\n","export const QUICK_MESSAGE_WRAPPER_CONSTANTS = Object.freeze({\n\tRETRIEVE_QUICK_MESSAGES: 'RETRIEVE_QUICK_MESSAGES',\n\tRETRIEVE_QUICK_MESSAGES_SUCCESS: 'RETRIEVE_QUICK_MESSAGES_SUCCESS',\n\tRETRIEVE_QUICK_MESSAGES_FAILED: 'RETRIEVE_QUICK_MESSAGES_FAILED'\n});\n","const GLIDE_EMAIL_QUERY = 'GlideEmail_Query';\nconst GLIDE_EMAIL_QUICK_MESSAGES = 'getQuickMessages';\n\nexport const EMAIL_CLIENT_QUICK_MESSAGE_QUERY = `\nquery($table: String!, $id: String!, $dirtyFields: [String!]) {\n\t${GLIDE_EMAIL_QUERY} {\n\t\t${GLIDE_EMAIL_QUICK_MESSAGES}(table: $table, id: $id, dirtyFields:  $dirtyFields) {\n\t\t\tsysId\n\t\t\tname\n\t\t\tbody\n\t\t}\n\t}\n}`;\n","/* eslint-disable no-console */\nimport { actionTypes } from '@servicenow/ui-core';\nimport { QUICK_MESSAGE_WRAPPER_CONSTANTS } from './constants';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { EMAIL_CLIENT_QUICK_MESSAGE_QUERY } from './schemas/datasources';\n\nconst handleComponentBoot = ({ state, dispatch, action }) => {\n\tconst {\n\t\tproperties: { targetTable, targetRecord, dirtyFields }\n\t} = state;\n\tdispatch(QUICK_MESSAGE_WRAPPER_CONSTANTS.RETRIEVE_QUICK_MESSAGES, {\n\t\ttable: targetTable,\n\t\tid: targetRecord,\n\t\tdirtyFields: dirtyFields\n\t});\n\tconst { host } = action.payload;\n\tconst sidebarWidth = host.clientWidth;\n\thost.style.maxWidth = sidebarWidth + 'px';\n};\n\nconst retrieveQuickMessages = createGraphQLEffect(\n\tEMAIL_CLIENT_QUICK_MESSAGE_QUERY,\n\t{\n\t\tvariableList: ['table', 'id', 'dirtyFields'],\n\t\tsuccessActionType:\n\t\t\tQUICK_MESSAGE_WRAPPER_CONSTANTS.RETRIEVE_QUICK_MESSAGES_SUCCESS,\n\t\terrorActionType:\n\t\t\tQUICK_MESSAGE_WRAPPER_CONSTANTS.RETRIEVE_QUICK_MESSAGES_FAILED\n\t}\n);\n\nconst handleQuickMessageFetchSuccess = ({\n\taction: { payload },\n\tupdateState\n}) => {\n\tupdateState({\n\t\tquickMessages: payload.data.GlideEmail_Query.getQuickMessages\n\t});\n};\n\nconst handleQuickMessageFetchFailed = ({ action: { payload } }) => {\n\tconsole.warn('Quick message fetch failed', payload.error);\n};\n\nexport default {\n\t[actionTypes.COMPONENT_BOOTSTRAPPED]: {\n\t\teffect: handleComponentBoot,\n\t\tstopPropagation: true\n\t},\n\t[QUICK_MESSAGE_WRAPPER_CONSTANTS.RETRIEVE_QUICK_MESSAGES]: {\n\t\t...retrieveQuickMessages,\n\t\tstopPropagation: true\n\t},\n\t[QUICK_MESSAGE_WRAPPER_CONSTANTS.RETRIEVE_QUICK_MESSAGES_SUCCESS]: {\n\t\teffect: handleQuickMessageFetchSuccess,\n\t\tstopPropagation: true\n\t},\n\t[QUICK_MESSAGE_WRAPPER_CONSTANTS.RETRIEVE_QUICK_MESSAGES_FAILED]: {\n\t\teffect: handleQuickMessageFetchFailed,\n\t\tstopPropagation: true\n\t}\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport actionHandlers from './actionHandlers';\nimport styles from './styles.scss';\n\n/**\n * Internal email client quick message wrapper component\n *\n * ```jsx\n * <sn-email-client-internal-quick-message-wrapper\n * \t\ttarget-table={..}\n * \t\ttarget-record={..}\n * />\n * ```\n *\n * @seismicElement sn-email-client-internal-quick-message-wrapper\n * @summary Internal email client quick message wrapper component\n *\n */\n\ncreateCustomElement('sn-email-client-internal-quick-message-wrapper', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tactionHandlers,\n\tstyles,\n\tinitialState: {\n\t\tquickMessages: null\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Table name of the record againnst which Email Client\n\t\t * needs to be launched\n\t\t * @type {tableName}\n\t\t */\n\t\ttargetTable: { default: '' },\n\t\t/**\n\t\t * Record sysId against which Email Client needs to be launched\n\t\t * @type {sysId}\n\t\t */\n\t\ttargetRecord: { default: '' },\n\t\t/**\n\t\t * Dirty fields in the form before the email client gets launched.\n\t\t */\n\t\tdirtyFields: { default: [] }\n\t}\n});\n","/* eslint-disable no-unused-vars */\nimport '../sn-email-client-internal-header';\nimport { HEADER_ACTION_BUTTONS } from './constants';\nimport '../now-email-client-composer-details';\nimport { SidebarElement } from '@servicenow/now-record-common';\nimport { getEmailClientSidebarActions } from './utils';\nimport '../sn-email-client-internal-quick-message-wrapper';\nimport isEmpty from 'lodash/isEmpty';\nimport '@servicenow/now-alert';\nimport PreviewAttachment from '../../commons/EmailAttachments/AttachmentPreview/AttachmentPreview';\nimport { DOC_VIEWER_STATES } from '../../commons/EmailAttachments/constants';\n\nconst getValidHeaderButtons = () => {\n\treturn [HEADER_ACTION_BUTTONS.SAVE_BUTTON, HEADER_ACTION_BUTTONS.SEND_BUTTON];\n};\n\nconst checkComponentLoad = recordId => (recordId ? true : false);\n\nexport default ( state, {dispatch} ) => {\n\tconst {\n\t\tproperties: {\n\t\t\ttargetTable,\n\t\t\ttargetRecord,\n\t\t\tdirtyFields,\n\t\t\tsysId,\n\t\t\treplyType,\n\t\t\treplyId,\n\t\t\tshowEmailDetails\n\t\t}\n\t} = state;\n\tconst {\n\t\tsubject,\n\t\tinitiateSave,\n\t\tinitiateSend,\n\t\tsidebarExpanded,\n\t\trecordId,\n\t\tquickMessages,\n\t\talertList = [],\n\t\tattachmentToPreview,\n\t\tdocViewerState,\n\t\tsideBarActions\n\t} = state;\n\tconst hasAlertList = alertList && !isEmpty(alertList);\n\tconst isDocViewerLoading = attachmentToPreview && (docViewerState === DOC_VIEWER_STATES.LOADING);\n\tconst docViewerLoaderClassName = isDocViewerLoading ? 'doc-viewer-loading' : '';\n\tconst sideBarClassName = sidebarExpanded ? 'expanded ' : 'collapsed ';\n\treturn (\n\t\t<div className=\"ec-email-composer\">\n\t\t\t{attachmentToPreview ? PreviewAttachment(attachmentToPreview, docViewerState, dispatch) : ''}\n\t\t\t{checkComponentLoad(recordId) ? (\n\t\t\t\t\t<div className={`ec-email-composer-header-container ${docViewerLoaderClassName}`}>\n\t\t\t\t\t\t<sn-email-client-internal-header\n\t\t\t\t\t\t\theading-value={subject}\n\t\t\t\t\t\t\theader-buttons={getValidHeaderButtons()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : ''}\n\t\t\t{checkComponentLoad(recordId) ? (\n\t\t\t\t<hr className={`ec-email-composer-divider ${docViewerLoaderClassName}`} />\n\t\t\t) : (\n\t\t\t\t''\n\t\t\t)}\n\t\t\t<div className={`ec-email-composer-layout ${docViewerLoaderClassName}`}>\n\t\t\t\t<div className={\"ec-email-composer-layout-\" + \n\t\t\t\t\t\t(sidebarExpanded ? 'details' : 'details-expanded')}>\n\t\t\t\t\t<div className=\"ec-email-composer-layout-details-component\">\n\t\t\t\t\t\t<now-email-client-composer-details\n\t\t\t\t\t\t\ttarget-table={targetTable}\n\t\t\t\t\t\t\ttarget-record={targetRecord}\n\t\t\t\t\t\t\tdirty-fields={dirtyFields}\n\t\t\t\t\t\t\tdraft-record-id={sysId}\n\t\t\t\t\t\t\tresponse-obj={{replyType, replyId}}\n\t\t\t\t\t\t\tsend-draft={initiateSend}\n\t\t\t\t\t\t\tsave-draft={initiateSave}\n\t\t\t\t\t\t\tshow-email-details={showEmailDetails}\n\t\t\t\t\t\t\tquick-messages={quickMessages}\n\t\t\t\t\t\t\ttab-composer-details\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{checkComponentLoad(recordId) ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`ec-email-composer-layout-sidebar-${sideBarClassName} ${docViewerLoaderClassName}`}>\n\t\t\t\t\t\t<SidebarElement\n\t\t\t\t\t\t\tactions={sideBarActions}\n\t\t\t\t\t\t\tclassic-form={true}\n\t\t\t\t\t\t\topened={sidebarExpanded}\n\t\t\t\t\t\t\tmanage-opened\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{hasAlertList ? (\n\t\t\t\t\t<div className={`ec-alerts-container ${docViewerLoaderClassName}`}>\n\t\t\t\t\t\t<span aria-live=\"assertive\">\n\t\t\t\t\t\t\t<now-alert-list\n\t\t\t\t\t\t\t\titems={alertList}\n\t\t\t\t\t\t\t\tmanage-items={true}\n\t\t\t\t\t\t\t\tclassName=\"ec-alerts\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t) : ''\n\t\t\t}\n\t\t</div>\n\t);\n};\n","import compositeInitialState from '../../commons/utils/compositeInitialState';\nimport previewInitialState from '../../commons/EmailAttachments/AttachmentPreview/initialState';\n\nexport default {\n\t...compositeInitialState,\n\t...previewInitialState,\n\tsideBarActions: [],\n\tsidebarExpanded: false,\n\tquickMessages: {}\n};\n","import { EMAIL_COMPOSER } from './constants';\nimport {\n\tCOMPOSITE_ACTIONS,\n\tEMAIL_DRAFT_TYPES\n} from '../../constants/emailConstants';\nimport compositeActionHandlers from '../../commons/utils/compositeActionHandlers';\nimport { QUICK_MESSAGE_INSERT } from '../now-email-client-quick-messages/constants';\nimport { t } from 'sn-translate';\nimport previewActionHandlers from '../../commons/EmailAttachments/AttachmentPreview/actionHandlers';\nimport { getEmailClientSidebarActions } from './utils';\nimport { loadDynamicSidebarComponents } from './sidebarDependencymanager';\nimport { dispatchClassicAndUibActions } from '../../commons/workspaceActionMap';\n\nconst TAB_DISPLAY_VALUE_MAP = new Map([\n\t[EMAIL_DRAFT_TYPES.NEW_DRAFT, t('New Email Draft')],\n\t[EMAIL_DRAFT_TYPES.NEW_RESPONSE_DRAFT, t('New Response Draft')]\n]);\n\nconst handleEmailDraftInitialised = ({ \n\tdispatch, \n\taction: { payload },\n\tstate,\n\tupdateState\n}) => {\n\tconst { table, sysId, subject, type } = payload;\n\tconst { properties: { dirtyFields }, meta: { host } } = state;\n\tloadDynamicSidebarComponents(dispatch)\n\tconst sideBarActions = getEmailClientSidebarActions(\n\t\tdirtyFields,\n\t\tstate\n\t);\n\tupdateState({sideBarActions});\n\tdispatch(EMAIL_COMPOSER.EMAIL_DRAFT_INITIALISED, {\n\t\ttable: table,\n\t\tsysId: sysId,\n\t\tsubject: subject\n\t});\n\tif (type !== EMAIL_DRAFT_TYPES.EXISTING_DRAFT) {\n\t\tdispatchClassicAndUibActions(host, 'RECORD_STATUS_CHANGED', dispatch, {\n\t\t\ttable: table,\n\t\t\tsys_id: sysId,\n\t\t\tstatus: 'inserted'\n\t\t});\n\t\tdispatchClassicAndUibActions(host, 'FORM_UPDATE_HEADER', dispatch, {\n\t\t\ttable: table,\n\t\t\tsysId: sysId,\n\t\t\trecordDisplayValue: TAB_DISPLAY_VALUE_MAP.get(type)\n\t\t});\n\t}\n};\n\nconst handleEmailDraftModified = ({ dispatch, action: { payload }, state }) => {\n\tconst { sysId, table } = payload;\n\tconst { meta: { host } } = state;\n\tdispatch(EMAIL_COMPOSER.EMAIL_DRAFT_MODIFIED, {\n\t\ttable: table,\n\t\tsysId: sysId\n\t});\n\tdispatchClassicAndUibActions(host, 'RECORD_STATUS_CHANGED', dispatch, {\n\t\ttable: table,\n\t\tsys_id: sysId,\n\t\tstatus: 'modified'\n\t});\n};\n\nconst handleEmailDraftSaved = ({ dispatch, action: { payload }, state }) => {\n\tconst { sysId, table, recordUpdate } = payload;\n\tconst { meta: { host }, subject } = state;\n\tdispatch(EMAIL_COMPOSER.EMAIL_DRAFT_SAVE_SUCCESS, {\n\t\ttable: table,\n\t\tsysId: sysId\n\t});\n\tdispatchClassicAndUibActions(host, 'FORM_UPDATE_HEADER', dispatch, {\n\t\ttable: table,\n\t\tsysId: sysId,\n\t\trecordDisplayValue: subject\n\t});\n\tif (recordUpdate) {\n\t\tdispatchClassicAndUibActions(host, 'RECORD_STATUS_CHANGED', dispatch, {\n\t\t\ttable: table,\n\t\t\tsys_id: sysId,\n\t\t\tstatus: 'updated'\n\t\t});\n\t}\n};\n\nconst handleEmailDraftSend = ({\n\tdispatch,\n\taction: { payload },\n\tstate\n}) => {\n\tconst { sysId, table } = payload;\n\tconst { properties: { tabId }, meta: { host } } = state;\n\tdispatch(EMAIL_COMPOSER.EMAIL_DRAFT_SEND_SUCCESS, {\n\t\ttable: table,\n\t\tsysId: sysId\n\t});\n\tdispatchClassicAndUibActions(host, 'UPDATE_ONE_TAB', dispatch, {\n\t\ttype: 'UPDATE_ONE_TAB_CLOSE',\n\t\ttab_id: tabId\n\t});\n};\n\nconst handleSidebarOpened = ({ updateState, state }) => {\n\tupdateState({ sidebarExpanded: !state.sidebarExpanded });\n};\n\nconst handleSidebarUpdate = ({ updateState, state }) => {\n\tconst { properties: { dirtyFields } } = state;\n\tconst sideBarActions = getEmailClientSidebarActions(\n\t\tdirtyFields,\n\t\tstate\n\t);\n\tupdateState({sideBarActions});\n}\n\nconst handleQuickMessageInsert = ({ action: { payload }, updateState }) => {\n\tconst { message, isInsert } = payload;\n\tupdateState({ quickMessages: { message, isInsert } });\n};\n\nexport default {\n\t...compositeActionHandlers,\n\t...previewActionHandlers,\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_INITIALISED]: {\n\t\teffect: handleEmailDraftInitialised,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_DRAFT_MODIFIED]: {\n\t\teffect: handleEmailDraftModified,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_SUCCESSFULLY_SAVED]: {\n\t\teffect: handleEmailDraftSaved,\n\t\tstopPropagation: true\n\t},\n\t[COMPOSITE_ACTIONS.EMAIL_SUCCESSFULLY_SEND]: {\n\t\teffect: handleEmailDraftSend,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_COMPOSER.SIDEBAR_OPENED]: {\n\t\teffect: handleSidebarOpened,\n\t\tstopPropagation: true\n\t},\n\t[QUICK_MESSAGE_INSERT]: {\n\t\teffect: handleQuickMessageInsert,\n\t\tstopPropagation: true\n\t},\n\t[EMAIL_COMPOSER.SIDEBAR_COMPONENTS_UPDATED]: {\n\t\teffect: handleSidebarUpdate,\n\t\tstopPropagation: true\n\t}\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport initialState from './initialState';\nimport actionHandlers from './actionHandlers';\nimport styles from './styles.scss';\nimport { EMAIL_COMPOSER } from './constants';\n\n/**\n * Full-sized experience for authoring and sending emails. \n *\n * ```jsx\n * <now-email-client-composer-connected\n * \t\tsys-id={..}\n * \t\ttarget-table={..}\n * \t\ttarget-record={..}\n * \t\treply-type={..}\n * \t\treply-id={..}\n * \t\tshow-email-details={..}\n * />\n * ```\n *\n * @seismicElement now-email-client-composer-connected\n * @summary An experience for authoring an email and sending it to a selected customer. \n *\n */\nexport const NowEmailClientComposer = 'now-email-client-composer-connected';\ncreateCustomElement(NowEmailClientComposer, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState,\n\tactionHandlers,\n\tstyles,\n\tproperties: {\n\t\t/**\n\t\t * The Sys ID of the email_draft record.\n\t\t * @type {sysId}\n\t\t */\n\t\tsysId: {},\n\t\t/**\n\t\t * Table name of the record to open the email client from. \n\t\t * @type {tableName}\n\t\t */\n\t\ttargetTable: { default: '' },\n\t\t/**\n\t\t * Sys ID of the record to open the email client from. \n\t\t * @type {sysId}\n\t\t */\n\t\ttargetRecord: { default: '' },\n\t\t/**\n\t\t * Dirty fields in the form before the email client opens.\n\t\t */\n\t\tdirtyFields: { default: [] },\n\t\t/**\n\t\t * The reply type. Only used for response emails. Options include `reply`, `replyall`, and `forward`.\n\t\t * @type {string}\n\t\t */\n\t\treplyType: { default: '' },\n\t\t/**\n\t\t * The Sys ID of the email to reply to. Only used for response emails.\n\t\t * @type {sysId}\n\t\t */\n\t\treplyId: { default: '' },\n\t\t/**\n\t\t * When true, displays email details. Default value: false.\n\t\t * @type {boolean}\n\t\t */\n\t\tshowEmailDetails: { default: true },\n\t\t/**\n\t\t * Tab ID of the workspace tab to open the component from.\n\t\t * @type {string}\n\t\t */\n\t\ttabId: { default: '' }\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when an email field is modified to indicate a dirty draft.\n\t\t * @type {{table: string, sysId: string, status: string}}\n\t\t */\n\t\t[EMAIL_COMPOSER.RECORD_STATUS_CHANGED]: {},\n\t\t/**\n\t\t * Dispatched to update the workspace tab header.\n\t\t * @type {{table: string, sysId: string, recordDisplayValue: string}}\n\t\t */\n\t\t[EMAIL_COMPOSER.FORM_UPDATE_HEADER]: {},\n\t\t/**\n\t\t * Dispatched to close the workspace tab once the user clicks Send.\n\t\t * @type {{type: string, tabid: string}}\n\t\t */\n\t\t[EMAIL_COMPOSER.UPDATE_ONE_TAB]: {},\n\t\t/**\n\t\t * Dispatched when the email draft initializes and renders.\n\t\t * @type {{table: string, sysId: string, subject: string}}\n\t\t */\n\t\t[EMAIL_COMPOSER.EMAIL_DRAFT_INITIALISED]: {},\n\t\t/**\n\t\t * Dispatched when any field of the email draft is modified.\n\t\t * @type {EmailDraftPayload}\n\t\t */\n\t\t[EMAIL_COMPOSER.EMAIL_DRAFT_MODIFIED]: {},\n\t\t/**\n\t\t * Dispatched when the email draft is succesfully saved.\n\t\t * @type {EmailDraftPayload}\n\t\t */\n\t\t[EMAIL_COMPOSER.EMAIL_DRAFT_SAVE_SUCCESS]: {},\n\t\t/**\n\t\t * Dispatched when the email draft is succesfully sent.\n\t\t * @type {EmailDraftPayload}\n\t\t */\n\t\t[EMAIL_COMPOSER.EMAIL_DRAFT_SEND_SUCCESS]: {}\n\t}\n});\n","export const EMAIL_TABLES = {\n\tSENT_EMAIL: 'sys_email',\n\tDRAFT_EMAIL: 'sys_email_draft'\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\n\n/**\n * Component assigned us the component renderer for sys_email and sys_email_draft tables.\n *\n * ```jsx\n * <sn-email-client-wrapper\n * \t\ttable={..}\n * \t\tsys-id={..}\n * \t\tparams={..}\n * />\n * ```\n *\n * @seismicElement sn-email-client-wrapper\n * @summary Component renderer for sys_email and sys_email_draft tables.\n *\n */\nexport const SnEmailClientWrapper = 'sn-email-client-wrapper';\ncreateCustomElement(SnEmailClientWrapper, {\n\trenderer: {\n\t\ttype: snabbdom\n\t},\n\tview,\n\tproperties: {\n\t\t/**\n\t\t * The table name of the record (either one of sys_email/sys_email_draft)\n\t\t */\n\t\ttable: {},\n\t\t/**\n\t\t * The sysId of the email record\n\t\t */\n\t\tsysId: {},\n\t\t/**\n\t\t * The object containing email client config\n\t\t */\n\t\tparams: { default: {} },\n\t\t/**\n\t\t * Tab id of the workspace tab in which the component is loaded\n\t\t */\n\t\ttabId: { default: '' }\n\t}\n});\n","import { isString } from 'lodash';\nimport { EMAIL_TABLES } from './constants';\nimport '../now-email-client-viewer-connected';\nimport '../now-email-client-composer-connected';\n\nexport default state => {\n\tlet { table, sysId, params, tabId } = state.properties;\n\tif (isString(params)) {\n\t\tparams = JSON.parse(params);\n\t}\n\tconst { parentTable, parentSysId, dirtyFields, replyId, replyType } = params;\n\tif (table === EMAIL_TABLES.DRAFT_EMAIL) {\n\t\treturn (\n\t\t\t<now-email-client-composer-connected\n\t\t\t\tsys-id={sysId}\n\t\t\t\ttarget-table={parentTable}\n\t\t\t\ttarget-record={parentSysId}\n\t\t\t\tdirty-fields={dirtyFields}\n\t\t\t\tdraft-record-id={sysId}\n\t\t\t\treply-type={replyType}\n\t\t\t\treply-id={replyId}\n\t\t\t\ttab-id={tabId}\n\t\t\t/>\n\t\t);\n\t} else if (table === EMAIL_TABLES.SENT_EMAIL) {\n\t\treturn <now-email-client-viewer-connected email-record-id={sysId} />;\n\t}\n};\n"],"sourceRoot":""}