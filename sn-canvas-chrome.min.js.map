{"version":3,"sources":["webpack://__TECTONIC__sn_canvas_chrome/webpack/bootstrap","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15\"","webpack://__TECTONIC__sn_canvas_chrome/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"get\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/./src/constants/constants.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_behavior_rtl_19_4_4\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"isEmpty\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/constants.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_behavior_focus_19_4_4\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-nav-item/index.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_ui_effect_graphql\"","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/utils/utils.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_badge\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_popover\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_ui_effect_amb\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"isEqual\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-nav-item/schemas/index.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"isNil\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/./src/utils/global-resize-listener.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/utils/dom.js","webpack://__TECTONIC__sn_canvas_chrome/./src/utils/rtl.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/utils/tabsData.utils.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/behaviors/tabsData.storage.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_card\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_library_enhanced_utils_19_4_4\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-badge-connected/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/utils/logo-source-util.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"debounce\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_link_set\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-menu/schemas/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/constants/index.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"isNumber\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/utils/helpers.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/behaviors/tabsData.closeTabs.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_modal\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/utils/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/control-menu/controlMenu.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/constants/index.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$devsnc_library_uxf\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-corner-dialog/positions.js","webpack://__TECTONIC__sn_canvas_chrome/./src/state-managers/utils.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/utils/buildAlertItem.js","webpack://__TECTONIC__sn_canvas_chrome/./src/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/sn-canvas-header.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"has\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"size\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"memoize\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/_sn-canvas-header.scss?4730","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/_sn-canvas-header.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/schemas/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/views/global-tools.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"map\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"sortBy\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/views/activity-center-link.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-nav-item/sn-nav-item.js","webpack://__TECTONIC__sn_canvas_chrome/./src/utils/link-util.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-nav-item/_sn-nav-item.scss?7a73","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-nav-item/_sn-nav-item.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-badge-connected/sn-canvas-badge-connected.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-badge-connected/sn-canvas-badge-data-provider.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/views/user-menu.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-menu-dropdown/sn-canvas-user-menu-dropdown-panel.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_collapse\"","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_toggle\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-menu-dropdown/_sn-canvas-user-menu-dropdown-panel-container.scss?780a","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-menu-dropdown/_sn-canvas-user-menu-dropdown-panel-container.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-menu-dropdown/utils/keyboardEventHandler.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-header/views/public-actions.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_text_link\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-content/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-content/sn-canvas-content.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-content/_sn-canvas-content.scss?fc5f","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-content/_sn-canvas-content.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-footer/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-footer/sn-canvas-footer.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-footer/_sn-canvas-footer.scss?8d77","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-footer/_sn-canvas-footer.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-footer/utils/helpers.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-footer/utils/elements.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-menu/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-menu/sn-canvas-menu.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-menu-dropdown/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-menu-dropdown/sn-canvas-menu-dropdown.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/sn-canvas-mega-menu.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/schemas/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/utils/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/utils/transforms.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/utils/gridItems.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"isFunction\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/utils/VerticalStackedGrid.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/utils/ObserverList.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/utils/KeyboardEventHandler.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/_sn-canvas-mega-menu.scss?f6e1","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-mega-menu/_sn-canvas-mega-menu.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-menu/behaviors.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-menu/_sn-canvas-menu.scss?b57d","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-menu/_sn-canvas-menu.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/sn-canvas-toolbar.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/sn-canvas-toolbar-button.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/_sn-canvas-toolbar-button.scss?f33b","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/_sn-canvas-toolbar-button.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/badge-count/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/badge-count/badgeCountBehavior.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/badge-count/badgeCountEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/presence/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/presence/presenceBehavior.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/presence/presenceEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/_sn-canvas-toolbar.scss?6e29","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/_sn-canvas-toolbar.scss","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_behavior_key_binding_19_4_4\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/utils/elements.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/schemas/toolbar-buttons-schema.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/schemas/router-schema.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-toolbar/snCanvasToolbarEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/sn-canvas-tabsdata.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/behaviors/tabsDataBehavior.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/behaviors/tabsData.effects.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/utils/tabsData.config.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__lodash_4_17_15[\\\"clamp\\\"]\"","webpack://__TECTONIC__sn_canvas_chrome/./src/constants/canvas_config.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/behaviors/tabsData.reducers.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/behaviors/tabsData.generators.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabsdata/utils/browser.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabs/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabs/sn-canvas-tabs.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabs/_sn-canvas-tabs.scss?4904","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabs/_sn-canvas-tabs.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-tabs/sn-canvas-tabs.view.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/canvasTabBar.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/canvas-tab/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/canvas-tab/canvasTab.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/canvas-tab/canvas-tab-preview.util.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/utils/utils.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/sn-canvas-popover-content.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/tab-overflow/tabOverflow.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/tab-overflow/canvasOverflowItem.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/option-item/optionItem.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/_style.scss?accd","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/_style.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/constants/constants.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/utils/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-popover-content/utils/utils.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-tabs-menu/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-tabs-menu/sn-canvas-tabs-menu.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-tabs-menu/_style.scss?ab83","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/canvas-tabbar/subcomponents/sn-canvas-tabs-menu/_style.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-iframe/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-iframe/sn-canvas-iframe.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-iframe/_sn-canvas-iframe.scss?8535","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-iframe/_sn-canvas-iframe.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-iframe/constants/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-error/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-error/sn-canvas-error.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-error/constants.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidebar/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidebar/sn-canvas-sidebar.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidebar/_sn-canvas-sidebar.scss?1a6f","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidebar/_sn-canvas-sidebar.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/draggable/draggableBehavior.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/draggable/draggableEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidepanel/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidepanel/sn-canvas-sidepanel.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidepanel/_sn-canvas-sidepanel.scss?a4f8","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidepanel/_sn-canvas-sidepanel.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-sidepanel/positions.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-corner-dialog/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-corner-dialog/sn-canvas-corner-dialog.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-corner-dialog/_sn-canvas-corner-dialog.scss?4859","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-corner-dialog/_sn-canvas-corner-dialog.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-corner-dialog/absolutePositions.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-viewport/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-viewport/sn-canvas-viewport.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-viewport/snCanvasViewportEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-viewport/utils/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-viewport/_sn-canvas-viewport.scss?4d66","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-viewport/_sn-canvas-viewport.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-tray/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-tray/sn-canvas-notification-tray.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_now_message\"","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-time-ago/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-time-ago/sn-canvas-time-ago.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-time-ago/_sn-canvas-time-ago.scss?adfa","webpack://__TECTONIC__sn_canvas_chrome/./src/components/internal/sn-canvas-time-ago/_sn-canvas-time-ago.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-tray/utils/dom.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-tray/_sn-canvas-notification-tray.scss?b421","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-tray/_sn-canvas-notification-tray.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-trigger/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-trigger/sn-canvas-notification-trigger.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-trigger/_sn-canvas-notification-trigger.scss?bd46","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-trigger/_sn-canvas-notification-trigger.scss","webpack://__TECTONIC__sn_canvas_chrome/./src/state-managers/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/state-managers/sn-canvas-chrome-state.js","webpack://__TECTONIC__sn_canvas_chrome/./src/state-managers/chromeStateEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/uiNotificationBehavior.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/utils/timeAgo.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/effects/uiNotificationCountEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/effects/uiNotificationClearEffect.js","webpack://__TECTONIC__sn_canvas_chrome/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/effects/uiNotificationReadEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/effects/uiNotificationUpdateEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/effects/uiNotificationAMBEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/effects/uiNotificationLifeCycleEffect.js","webpack://__TECTONIC__sn_canvas_chrome/./src/behaviors/ui-notifications/utils/viewport.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-toast/index.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-toast/sn-canvas-notification-toast.js","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-toast/_sn-canvas-notification-toast.scss?a6eb","webpack://__TECTONIC__sn_canvas_chrome/./src/components/sn-canvas-notification-toast/_sn-canvas-notification-toast.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__$servicenow_ui_core","__TECTONIC__sn_translate","__TECTONIC__lodash_4_17_15","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","SN_CANVAS_TABS_DATA","NOW_DROPDOWN_ITEM_CLICKED","NOW_NAVIGATION_ITEM_CLICKED","NOW_BUTTON_CLICKED","NOW_POPOVER_OPENED_SET","NOW_BUTTON_BARE_CLICKED","NOW_CONFIRM_MODAL_CLEAR","NAV_ITEM_SELECTED","MODAL_SELECTED","SESSION_LOGGED_OUT","VIEWPORT_MODAL_SELECTED","EMAIL_LINK_TYPE","PHONE_LINK_TYPE","ROUTE_LINK_TYPE","MODAL_LINK_TYPE","EXTERNAL_LINK_TYPE","ACTION_LINK_TYPE","LOGOUT_LINK_TYPE","VIEWPORT_MODAL_TYPE","PUBLIC_ACTION_BUTTON_CLICKED","DEFAULT_LOGOUT_ROUTE","ENTER_KEY_CODE","HOME_KEY","ARROW_UP_KEY","ARROW_RIGHT_KEY","ARROW_DOWN_KEY","ARROW_LEFT_KEY","END_KEY","ESCAPE_KEY","TAB_KEY","ENTER_KEY","SPACE_KEY","LOAD_TABS_DATA","TABS_DATA_UPDATED","TABS_INIT_PROPS_BEHAVIOR","TABS_ROOT_BEHAVIOR","CLOSE_TAB_MENU_ITEM","CLOSE_OTHER_TABS_MENU_ITEM","CLOSE_ALL_TABS_MENU_ITEM","CHAT_ITEM_TYPE","EDS_MODAL_CANCEL_BTN","variant","label","EDS_MODAL_CONFIRM_BTN","WORKSPACE_TAB_ACTIVATED","CONTENT_UPDATED","MAIN_TAB_CLICKED","MASTER_DETAIL_TOGGLED","MAIN_TAB_CLOSE_CLICKED","MAIN_TAB_NEW_CLICKED","MAIN_TAB_NEW_ALERT_CLEARED","MAIN_TAB_NEW_ALERT_CLEARED_OK","SUB_TAB_CLOSE_CLICKED","TABS_SCREEN_CONTENT_CHANGED","TABS_CLOSE_REQUESTED","TABS_CLOSE_CONFIRMED","TABS_CLOSE_CANCELLED","TABS_SELECTED_CONTENT_CHANGED","DRILLDOWN_BACK_CLICKED","SCREEN_CLOSED_CONFIRMED","SCREEN_CLOSED_CANCELLED","PRIMARY_TAB_PROP_CHANGED","NAVIGATION_CLOSED","VIEWPORT_SELECTED","ITEM_SELECTED","SELECT_TAB","CONTEXTUAL_RECORD_ITEM_TYPE","TWO_LAYER_TYPE","MAIN_TAB_ONLY_TYPE","MOVE_UP","TAB","MOVE_DOWN","EXECUTE","CLICK","RECORD_ITEM_TYPE","FULL_SEARCH_ITEM_TYPE","KNOWLEDGE_ITEM_TYPE","NON_RECORD_ITEM_TYPE","FULL_LIST_ITEM_TYPE","NEW_RECORD_ITEM_TYPE","FULL_SEARCH_TAB_TITLE","KNOWLEDGE_TAB_TITLE","PROPERTIES_SET","ACTIVITY_LOG_UPDATED","OPEN_OR_FOCUS_TAB_REDUCER","INIT_OR_UPDATE_TABS_REDUCER","LIVE_UPDATE_TABS_REDUCER","INIT_TABS_REDUCER","CHAINED_REDUCER","CLOSE_ONE_DRILLDOWN_REDUCER","UPDATE_PRIMARY_TAB_REDUCER","ICON_CHAT_FILL","ICON_CHAT_OUTLINE","ICON_PHONE_FILL","ICON_PHONE_OUTLINE","ICON_GROUP_FILL","ICON_GROUP_OUTLINE","ICON_LIST_OUTLINE","INTERACTION_TABLE","TAB_DETAILS_TITLE","DEFAULT_MULTI_INST_FIELD","SCREEN_STATUS_ACTION_CLOSED","NOW_MODAL_OPENED_SET","__TECTONIC__$servicenow_behavior_rtl_19_4_4","__TECTONIC__$servicenow_now_icon","UI_NOTIFICATION_BEHAVIOR","ALERT_STATUS_READ","NOTIFICATION_TOAST","ALERT_STATUS_NEW","ALERT_STATUS_DELETED","CLEAR_NOTIFICATIONS_ENDPOINT","PAGE_SIZE","ALERT_BADGE_RESET_TIMESTAMP","SUBSCRIPTION_CHANGED","NOTIFICATION_ITEM_CLICKED","NOTIFICATION_TRAY_TOGGLED","NOTIFICATION_LOAD_MORE","SCREEN_STATUS_CHANGED","SUBSCRIBED","ITEM_CHANGED","SUBSCRIBED_FAILED","UNSUBSCRIBED","SUBSCRIBED_STARTED","CLEAR_NOTIFICATION_SECTION","CLEAR_NOTIFICATION_SECTION_SUCCEEDED","QUERY_NOTIFICATIONS","QUERY_NOTIFICATIONS_SUCCEEDED","UPDATE_NOTIFICATIONS_SUCCEEDED","UPDATE_NOTIFICATIONS","QUERY_NOTIFICATION_COUNT","QUERY_NOTIFICATION_COUNT_SUCCEEDED","__TECTONIC__$servicenow_behavior_focus_19_4_4","__TECTONIC__$servicenow_now_button","__TECTONIC__$servicenow_now_tooltip","__TECTONIC__$servicenow_ui_effect_graphql","getUINotificationBehaviorState","state","UI_NOTIFICATION_BEHAVIOR_STATE_PATH","addDateGroupings","alertQueue","baseDate","Date","now","todayQueue","TODAY_QUEUE","yesterdayQueue","YESTERDAY_QUEUE","olderQueue","OLDER_QUEUE","forEach","item_type","time_stamp","_date","daysDiff","daysBetween","group","storeBadgeCount","userId","window","localStorage","reset","getItem","parse","reset_str","setItem","e","console","warn","getTransformedAlert","alert","timeZoneOffset","payload","decodePayload","baseProps","tableLabel","changes","updatePayload","status","alertPayload","buildAlertPayload","purgeOldAlerts","alertItem","trayState","record_sys_id","sys_id","alertsToKeep","filter","it","alertsToDelete","deleteQueue","slice","existingAlert","find","alert_sys_id","unshift","purgeOldAlerts2","rawAlerts","target","set","Set","al","deleteTarget","has","add","transformGraphQLAlert","buildAlertItem","buildAlertSubscriptionFilter","route","getBasicCondition","replace","askToQueryAlerts","offset","totalRowCount","dispatch","initial","condition","limit","askToUpdateNotifications","sys_ids","_buildUpdateItems","items","queue","theStatus","newItems","buildBadgeQueryCondition","currentUserId","count_time_str","reset_timestamp","reset_date_obj","dd","getDate","mm","getMonth","yyyy","getFullYear","hh","getHours","min","getMinutes","sec","getSeconds","reset_date","updateNotificationProperty","updateProperties","properties","notification","newNotificationProperty","isNotificationTrayLoading","getPreferenceValue","shouldShowToast","preferences","prefValue","isNil","toLowerCase","displayValue","raw_time_stamp","sys_created_on","table","target_table","record_display_value","parseSystemTime","updated_by","getTriggeredBy","triggered_by","is_read","error","assigned_to","priority","short_description","fields","keys","reduce","result","previousValue","fieldLabel","field_name","field_label","field_value","field_displayValue","table_label","display_value","toUpperCase","pref","__TECTONIC__$servicenow_now_badge","__TECTONIC__$servicenow_now_popover","__TECTONIC__$servicenow_ui_effect_amb","modalPayloadSchema","type","modalId","showModal","displayOptions","routePayloadSchema","params","urlSchema","href","navItemSchema","opensWindow","tooltip","download","schema","oneOf","underlined","enum","itemValue","anyOf","_funcs","runFuncs","values","fn","GlobalResizeListener","runImmediately","addEventListener","remove","removeEventListener","freeze","getHoistedContent","host","nowHoistAppendTo","querySelector","shadowRoot","getStyePropertyIntegerValue","propertyName","parseInt","getComputedStyle","getPropertyValue","measureText","str","maxWidth","font","ctx","document","createElement","getContext","ellipsisWidth","width","strWidth","isTruncated","strBuilder","strLength","substring","deferUntilVisible","el","callback","time","tick","interval","setInterval","clearInterval","element","style","visibility","display","isVisible","isRtl","dir","handleRtlFn","ltrDir","rtlDir","initTabConfig","tabConfig","createPrimaryTabMap","createContextualTabMap","getContentKey","primaryRouteSelected","primaryTabMap","getPrimaryTabMap","contextualRouteSelected","getContextualTabMap","getSiblings","tabsData","tab","parentTabId","siblings","chilren","tabList","tab_id","restChildren","tabId","applyToAllTabs","objToApply","filterFn","flagsArr","newTabsData","entries","flag","propagateFlag","getTabById","getTabIndexById","findIndex","isDetailTab","parentTab","contentKey","parentContentKey","shouldUpdateTabData","preTabsData","nextTabsData","tabsConfig","nextActiveTab","getSelectedTab","stopperPrompt","reached","preTabList","nextTabList","mainLimit","subLimit","getMaxTabLimit","preMainTabCount","countMainTabs","nextMainTabCount","mainTabCount","isEmpty","countSubTabs","isReachingTabsLimit","maxTabsPrompt","clearUpdateFlag","updateSelectedTabs","applyToSelectedTabs","getNavItemSelectedPayload","navItemSelectedPayload","root","selectedTabId","currNode","selectedContent","isDetailsTab","title","parent","drillDowns","drillDownPayload","drillDownsArr","rest","j","isMultiInstFieldValUpdated","_navItemSelectedPayload","redirect","getDescendantTabIds","descendants","getAllLeafNodes","getActiveLeafTabId","clearAllFlags","omit","getActiveSessionTab","getRemovedTabs","_tabsData","_newTabsData","removedTabIds","oldTabIds","newTabIds","_results","index","findRemovedTabIds","oldContentKeySet","_buildContentKeySet","newContentKeySet","removedContentKeys","removedTabs","_tab","isPrimaryTab","isMainTab","withNoSubTabs","isCloseable","canClose","isLeafSubTab","isLeafTab","annotation","operation","annotateRemovedSubTab","parentKey","tabs","currentTab","findParentKey","_buildRemovedTabs","getPrimaryTab","getViewPortInfo","primaryTab","viewportInfo","filterSelectedContent","__uxfCompositionElId","_timestamp","updateUrl","locateTabs","tabNode","selectedContentStack","_selectedContent","pop","childContentKeys","primaryTabContentUpdate","primaryTabPropData","routeInfo","icon","rootSelectedTabId","PRIMARY_TAB_MAP","CONTEXTUAL_TAB_MAP","TAB_TITLE_CACHE_BY_SCREEN","primaryRoute","contextual","config","generateContentKey","sort","hash","recoverContentFromKey","parts","split","cloneDeep","uid","multiInstField","setTabTitleCacheByScreen","screenId","getTabTitleCachedByScreen","message","buttonTitle","buttonAction","flagValue","some","x","hasUpdate","tabReducer","contentKeySet","Array","isArray","drilldown","tabResolutionStrategyMap","ACTIVE_OR_FIRST_SESSION_TAB","undefined","getNextTabId","nextTabId","getStoredTabs","serializedTabsData","sessionStorage","getSessionStorageKey","storedtabsData","saveTabs","clearTabs","removeItem","__TECTONIC__$servicenow_now_heading","__TECTONIC__$servicenow_now_card","__TECTONIC__$servicenow_library_enhanced_utils_19_4_4","getLogoSource","default_scr","position","image_obj","__TECTONIC__$servicenow_now_link_set","menuItemSchema","definitions","menuItem","children","action","$ref","menuItemGroupSchema","LEVEL_ONE","LEVEL_TWO","LEVEL_THREE","MAX_DEPTH","setButtonSelectionByRoute","buttons","button","b","isSelected","preserveViewportOpened","lastActiveButton","getLastActiveButton","opened","loadViewport","activeRecords","toolbarButtons","isViewportWithRoute","setToolbarButtonSelected","buttonClickedRef","selected","getToolbarButtons","toolbarButton","getButtonElementRef","setAttribute","resetViewportSelection","getRouteFromButtonData","handleKeyPressed","event","preventDefault","toolbarButtonsLastIndex","currentToolbarButtonIndex","getActiveToolbarButtonIndex","nextToolbarButton","keyCode","getToolbarButtonRefByIndex","focus","getToolbarButtonFromEventPath","path","splice","reinitialize","setActiveButton","activeButton","activeRoute","updateState","serializedLastActiveButton","serializedActiveButton","updateToolbarButtonsWithActiveBtn","_getToolbarButtonByRoute","isRoute","isViewport","resetSizeAndViewportInfo","size","isViewportEmptyPageLoaded","viewportEmptyPageLoaded","indexOf","getTab","isParentDirtyAfterChildClose","tabToClose","siblingTab","isDirty","parentHasWarningAfterChildClose","hasWarning","updateParentTabOnChildClose","childTabToClose","newSelectedTabId","updateParentTabOnChildUpdate","childTab","shouldCloseParent","closeTabById","updateParent","updatedTabsData","tabToDelete","childTabId","getTabsToCloseQueue","tabsToCloseQueue","tabFilter","confirmationStatus","queueItem","dirtyModalId","warningModalId","__TECTONIC__$servicenow_now_modal","ControlMenu","TabOverflow","OptionItem","props","optionItems","highlightIndex","onItemClick","_className","className","role","ref","itemType","isHighlighted","__TECTONIC__$devsnc_library_uxf","TOP","TOP_LEFT","TOP_RIGHT","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","RIGHT","updateButtonPresenceStatus","presence","updateButtonBadgeCount","badge","updateButtonIcon","setButtonSelection","select","setButtonVisibility","show","IS_LOGGED_IN","gLoggedIn","DESTINATION_URL","destinationUrl","appRouteConfiguration","siteName","landingPath","toastItem","f","assignedToMe","prefix","verb","suffix","tagline","buildMessage","infoIcon","buildNewAssignedToastItem","buildUpdatedToastItem","COMPONENT_DISCONNECTED","COMPONENT_DOM_TREE_READY","actionTypes","publicActionEffect","publicActionRoute","location","getHeaderSizingInfo","hostInfo","itemMargin","searchMinWidth","brandLogoWidth","getBoundingClientRect","primaryItemsWidth","globalToolsSecondaryItemsContainer","secondaryItemsSize","from","ind","itemOrder","createCustomElement","initialState","showUserMenuTooltip","userMenuRef","allowResizeBehavior","default","currentRouteKey","computed","currentRoute","configurations","getFieldCount","routeKey","readOnly","userPrefs","authenticated","notificationsEnabled","experience","experienceSchema","sizeSchema","global","privatePage","searchEnabled","userPrefsEnabled","globalTools","publicPage","actionButtons","configurationsSchema","screenConfigurationLink","logoAltText","logoSource","userAvatar","userName","edgeToEdge","actionHandlers","effect","headerSizingInfo","headerWidth","savedGTWidths","secondaryItemContainerWidth","globalToolsSizingInfo","behaviors","rtlBehavior","renderer","snabbdom","view","showBottomBorder","privateSearchEnabled","currentScreenLinkConfiguration","publicSearchEnabled","menuEnabled","logoRoute","currentConfigurationLinkData","link","evaluateCurrentScreenConfigurationLink","evaluatedLogoSource","class","aria-label","alt","src","slot","globalToolsItems","userPreferencesEnabled","actions","styles","snCanvasHeaderStyles","slots","notificationTrigger","__TECTONIC__$servicenow_now_avatar","actionValueSchema","propeties","toggleValueSchema","buttonId","primaryDisplay","globalToolsSchema","collapsingMenuId","primaryItems","secondaryItems","contextualConfigItemsEnabled","screenConfigurationLinkToMenuItem","dropdownMenuItems","overflowItemCount","widths","totalItems","totalWidths","acc","val","sortedSecondaryItems","appendToDropDownItems","sortedPrimaryItems","sortedDropdownItems","Fragment","_renderToolsItems","navItemValue","displayItems","leftIcon","getDisplayItems","startsWith","opens-window","item-value","COMPONENT_DOM_READY","_containsProps","idx","configAria","tooltipContent","maxDisplay","interactionType","lines","targetRef","isInProductNav","isMenubarInteraction","on-click","filterAriaAttributes","_renderNavButton","linkAriaDescById","Math","random","substr","String","_uniqueId","formatURLByType","rel","attr-download","aria-describedby","hidden","_renderNavAnchor","labelRef","scrollWidth","clientWidth","scrollHeight","clientHeight","target-ref","_renderTooltip","snCanvasNavItemStyles","patternProperties","additionalProperties","coeffects","eventHandlers","capture","events","activeElement","nowRootNode","stopPropagation","click","focusBehavior","endsWith","linkValue","url","count","round","maxDigits","badgeDataProvider","COMPONENT_BOOTSTRAPPED","RECORD_WATCHER_ACTIONS","AGGREGATE_COUNT_ACTIONS","fetchAggregateCountEffect","createGraphQLEffect","variableList","startActionType","successActionType","errorActionType","recordWatcherHandler","createAmbSubscriptionEffect","subscribeStartedActionType","SUBSCRIBE_STARTED","subscribeSucceededActionType","subscribeFailedActionType","SUBSCRIBE_FAILED","unsubscribeSucceededActionType","messageReceivedActionType","getSubscriptionArgs","subscribe","lifeCycleActionHandlers","aggregateCountActionHandlers","recordWatcherActionHandlers","countUpdate","private","dropdownItems","hasDropdownItems","_UserPanelVisibleListener","evt","popover_slot_content","detail","firstFocusableElement","getFocusableNodes","_showUserMenuTooltip","_hideUserMenuTooltip","interaction-type","hide-tail","positions","manage-opened","hook-insert","elm","firstElementChild","lastElementChild","iconName","hook-destroy","triggerBtn","on-focus","on-blur","aria-haspopup","aria-hidden","image-src","user-name","on-mouseenter","on-mouseout","menu-items","COMPONENT_PROPERTY_CHANGED","createToggleInput","toggleValue","toggleAction","togglePayload","renderToggle","item_value","resolvedToggleValue","defaultValue","getToggleValue","toggleId","toggleLabelId","tagName","nextElementSibling","htmlFor","data-id","appendToPayload","menuIdx","checked","config-aria","switch","renderNavItem","max-display","renderDivider","menuItems","expandedSubMenus","menuId","isExpanded","includes","start","deleteCount","expanded","indx","renderNavMenu","snCanvasUserMenuDropDownStyles","keyboardEventHandler","__TECTONIC__$servicenow_now_collapse","__TECTONIC__$servicenow_now_toggle","_getDropDownItems","querySelectorAll","_clearTabIndex","_getFocusedElementIndex","focusedEl","_getFocusedElement","dataset","_setFocus","removeAttribute","_focusFirstItem","_focusLastItem","currentFocusIndex","_focusNextItem","_focusPreviousItem","bare","handleLogin","append-to-payload","__TECTONIC__$servicenow_now_text_link","containerProps","snCanvasContentStyles","FooterLogo","enableLogo","CompanyAddress","enableAddress","address","email","first_line","street","second_line","city","zip","FooterLinkSet","linksetGroup","linkSetPerRow","FooterNav","enableLinksetGroup","FooterTopbar","enable","options","enable_logo","enable_address","enable_linkset_group","linkset_per_row","resolvedLogoSource","Links","links","maxLinksCount","linksWithMultiRow","BuildLink","CopyrightText","text","SocialLinks","socialLinks","maxSocialLinksCount","BuildSocialLink","open","FooterBar","hideTopPadding","enable_links","enableLinks","max_links_count","enable_social_links","enableSocialLinks","max_social_links_count","social_links","enable_copyright_text","enableCopyrightText","copyright_text","copyrightText","footerConfig","footerLinksetConfig","public_page","publicPageFooterConfig","linkset_group","enable_footer_topbar","enableFooterTopbar","footer_topbar_options","footerTopbarOptions","enable_footer_bar","enableFooterBar","footer_bar_options","footerBarOptions","snCanvasFooterStyles","isLinksMultiRow","linksEL","linksElHeight","lineHeight","linesCount","HTMLElement","offsetHeight","floor","countLinksLines","getLinksEL","linkIDGenerator","linkID","rootIDGenerator","rootID","generateScreenKey","_shouldIncludeNegativeTabIndex","tabindex","_createNormalizedTree","tree","contentMap","next","stateContentMap","stateMenuItems","depth","parentID","childList","current","shift","isLeaf","actionLinkID","screenKey","_normalizeMenuItems","activeScreen","menuWidth","verticalStackingEnabled","normalizedActionButtons","shouldRenderActionButtons","shouldRenderNavigationItems","selectedLinks","shouldRenderMenu","positionTarget","createRef","rootVal","_shouldRenderSingleLink","rightIcon","is-selected","tooltip-content","newRoot","restOfLinks","newItem","selected-item","menu-width","vertical-stacking-enabled","position-target","menubarKeyBindingEventHandler","snCanvasMenuStyles","contentVisible","selectedItem","megamenu","hoistedMegamenu","focusableNodes","srcElement","menuSectionID","endsWithIcon","sidebarButtonStyle","totalInternalWidth","totalInternalHeight","selectedIndex","visible","observers","targetRefs","focusPosition","y","sidebarPosition","focusedMenuPanel","focusableItems","currentFocusedEl","megaMenuItemSchema","selectedLinkSet","_createSelectedLinkSet","SidebarTabs","actionButton","aria-current","aria-controls","renderSidebarTabTooltip","Linkset","linksetTransform","browseLink","browseLinkTransform","LinksetGroup","buttonVariant","linksetAction","heading","headingTransform","getMenuContentID","aria-labelledby","LinksetGroupWithSidebar","sidebarItems","linksetGroups","childLinkID","maxHeight","saveFocusableItemsToState","getFocusableItems","resetFocusablePositions","hoistedContent","megaMenuEl","grid","stackedGrid","VerticalStackedGrid","itemSelector","itemWidth","update","addObserver","removeAllObservers","columnGap","linksetWidth","linksetSectionPadding","sidebarWidth","sidebarButtonTextWidth","sidebarButtonFontFamily","linksetCount","maxItemCount","sidebarOffset","nowID","getAttribute","ObserverList","positionTargetX","positionTargetY","height","right","windowWidth","innerWidth","windowHeight","innerHeight","fromStart","fromEnd","calcWidth","max","getTotalGridWidth","itemCount","padding","notify","KeyboardEventHandler","snCanvasMegaMenuStyles","findDepth","align","additionalAttrs","level","hasIcon","totalWidthOfNewGridItem","curr","constructor","container","verticalStacking","panelWidth","cachedHeights","rowTrack","gridRowGap","gridColumnGap","trackSize","columnSize","rowSize","ceil","colNumber","heightOfGridItem","_getLinkSetHeight","span","gridColumn","gridRowEnd","nowId","parentElement","observerList","observer","actionableEl","getFocusableMenuPanelItems","elements","lastFocusableElement","focusableElements","tabbableNodes","focusableMenuPanelItems","sidebarEl","menuPanelItem","focusableSidebar","menuContentContainer","focusableSection","getSetOfFocusableMenuPanelItems","includeSidebarNavigation","sidebarElements","shouldRender","focusSidebarItem","batchedStateUpdates","createMenuContentMoveFunctions","originalCoord","moveUp","moveRight","moveLeft","moveDown","moveHome","moveEnd","lastX","lastY","menuCoord","movementFn","currentFocusedSection","isFocusedOnSidebar","isFocusedOnMenuPanelWithSidebarParent","sidebarCoord","focusableSidebarElement","currentSidebarID","end","createSidebarMoveFunctions","createMoveFunctions","moveNext","movePrevious","IGNORED_ELEMENTS","_getMenuItems","classList","contains","shiftKey","navListEl","nodeToCheck","body","isSameNode","focusFirstItemBeforeMenubar","focusFirstItemAfterMenubar","focusNextItem","focusPreviousItem","len","_clearOpenDropdown","handleToolbarButtonClicked","handleActiveButtonSet","handleActiveButtonUpdated","handlePropertyChanged","snCanvasToolbarEffect","effectHandlers","TOOLBAR_ACTIVE_BUTTON_SET","TOOLBAR_BUTTON_CLICKED","TOOLBAR_ACTIVE_BUTTON_UPDATED","ACTION_TYPES","toolbarButtonsSchema","routerSchema","activeParentId","_renderButtons","snCanvasToolbarStyles","dispatches","behavior","keyBindingBehavior","keyBindings","onKeyPress","handlers","required","availability","toggleState","renderTooltip","getAriaRole","tabIndex","ariaRole","buttonClicked","_renderIcon","_renderBadge","show-pattern","_renderPresence","snCanvasToolbarButtonStyles","SN_CANVAS_TOOLBAR_BUTTON_CLICKED","badgeCountBehavior","presenceBehavior","RECORD_WATCHER","AGGREGATE_COUNT","badgeCountEffect","handleBadgeCountFetch","handleBadgeCountFetchSuccess","handleBadgeCountFetchFailure","handleRecordWatcher","handleItemChanged","onConnect","onDisconnect","FETCH","STARTED","SUCCEEDED","FAILED","_getSubscriptionArgs","presenceEffect","table_name","record","__TECTONIC__$servicenow_behavior_key_binding_19_4_4","toolbarButtonRef","elem","localName","toolbarButtonGroupEls","toolbarButtonEls","grpEl","btn","getActiveToolbarButton","activeToolbarButton","getToolbarButtonIndex","getNextToolbarButton","getToolbarButtonsData","roles","plugin","viewportElementId","tab_ids","_implicitTabResolution","passiveNavigation","tabsDataBehavior","selectable","changedScreenContent","screenCloseConfirmation","uxrEnableDebug","rootActionHandlers","closeTabs","tabUtils","constants","COMPONENT_CONNECTED","tabsDataEffectWrapper","tabsDataCopy","tabsDataNew","inbound","stopper","request","selectedContentCurrent","allowAdditionalTabs","allowInitialTabs","selectedContentForInitialTabs","initContent","results","closedNavigationIds","closedIdsInfo","selectedContentNew","tabCloseClickedEffect","tabFilterAll","tabFilterOther","activityKeys","mainTabCloseConfirmedEffect","mainTabCloseCancelledEffect","mainTabNewAlertClearedEffect","reduceTabsData","actionTabsDataEffectMap","selectedTab","_tabResolutionStrategy","_tabId","reducerPayload","pendingConfirmation","tabsDataActionHandlers","tabEffect","args","tabsUnloadHandler","getProperty","handleTabConfigPropChange","prevSelectedContent","isEqual","handleSelectedContentPropChange","isScreenKeyUpdated","handleChangedScreenContentPropChange","handleScreenCloseConfirmationChange","handlePrimaryTabPropChange","each","activeRecord","handleActiveRecords","tabsConfigProperty","valid_max_tabs_min","valid_max_tabs_max","_tabsLimit","maxMainTabLimit","maxTotalSubTabLimit","non_records","menuConfig","closeMenu","header","mainPlus","reducer_type","reducer","reducerTypeMap","caller","doVerify","verified","verifyTabs","debug","verifyTabsPrivate","generators","restPayload","transformedPayload","preProcessSelectedContent","storedTabsData","tabType","contextualRoute","primaryTabData","getInitPrimaryTabData","generateTabsDataRoot","setPrimaryTab","_payload","detailsTab","getTabPayload","reduceTabs","initTabs","primaryTabId","getTabDefinition","newTabsDataClone","selectedParentTab","screenParams","hasError","tooltipPreview","componentId","warningMessage","tabValue","iconStatus","newContentKey","tabsRequiringContentUpdate","_length","_contentKeys","_fields","_currentTab","oldContentKeyValue","updateContentKeys","nonDetailsObj","ignoreDetailsFilterFn","isTooltipPreviewEmpty","primaryTitle","secondaryContent","resolvedIsDirty","leafTab","allTabs","componentList","componentForId","entry","componentEntry","isDirtyEntry","resolveDirtyState","newContent","restPrimaryTab","primaryTabContent","topTabId","topTabContentKey","tabsObj","obj","errors","verifyTab","childTabIndex","_rootContent","drillDown","_contextualRouteSelected","_primaryRouteSelected","reverse","subTab","cachedTabTitle","_sessionStorageKey","COMPONENT_RENDERED","canvasTabs","tabsLevel","tabsMaxOpen","menuConf","focusedTabIndex","startIndex","maxIndex","_focusedTabIndex","newFocusedTabIndex","newTabMenu","newMenu","_onClickTab","_onCloseTab","setTimeout","_onClickSubTabs","_onCloseSubTab","_onClickCloseMenuItem","_onClickNewMenuItem","_routeInfo","_onShowModal","modalID","_renderBackButton","iconStart","_getDrillDowns","canvasTabBars","_type","onClickTab","onCloseTab","currTabList","currSelectedTabId","dispatchFn","tabsMaxWidth","onNewTab","onMenuClose","onShowModal","_renderTabBars","chromeTabsUtils","overflowDisabled","getOverflowDisabled","visibleAndOverflowList","buildVisibleAndOverflowList","visibleList","overflowList","transformCloseMenuItems","_meatBallPopOverRef","_newMenuPopOverRef","_hidePopover","_onClickMenuItem","_onCloseMenuItem","_handlePopoverInsert","_handlePopoverDestroy","overflowLabel","overflowTooltipContent","overflowClassNames","buildOverflowStyle","overflowButtonId","_visibleList","_selectedTabId","component-id","onKeyUp","ariaLabel","_elm","aria-expanded","insertTooltipEl","removeTooltipEl","_renderMenuPopover","_renderNewMenu","openDialog","header-label","manageOpened","footer-actions","clickActionType","_renderTabOpenAlert","firstTabInQueue","showCustomConfirmation","showCustomWarning","_renderTabCloseConfirmation","_optionItems","hook-update","refit","disabled","counterBadge","overflowLength","_renderCounterBadge","onItemClose","showTabPreviewTimer","_move","currentId","containerElm","focusedElmIndex","toBeFocusedIndex","_moveLeft","_moveRight","tooltipPosition","shouldRenderTabPreview","tabRef","tabPreviewRef","classname","tmpClassList","_buildClassName","_clearPopoverTimers","clearTimeout","_hideFormPreview","Event","dispatchEvent","_moveNext","_movePrevious","_onKeyUp","_onClose","_insertTooltipEl","tabTitle","tooltip-position","containerStyle","tabPreviewContainer","tabPreview","rule","applyStyles","aria-selected","on-keyup","getCenterPositioning","CustomEvent","_showFormPreview","on-mouseleave","indicator","_renderStatusIndicator","_renderCloseBtn","placement","targetRect","tooltipRect","horizontalCenterOffset","verticalCenterOffset","targetLeft","left","targetTop","top","OFFSET","tooltipLeft","tooltipTop","valToPx","bottom","activeTab","isPivotActive","isDetailsTabTheOnlyOtherTab","badgeCount","hasOverflowUpdate","totalWidth","selectedTabIdx","isSelectedPrimaryTab","maxTabWidthL1Item","standardTabSpace","maxTabWidth","L1ItemTabSpace","tabWidth","newTabSpace","minTabWidth","newTabList","lastVisibleIdx","minWidth","getTabStyle","tabOrder","_getChildElement","childTag","childElementCount","node","predicate","nowTooltip","appendChild","removeChild","isNodeFocused","onNodeFocus","POPOVER_HIGHLIGHT_INDEX_CHANGED","handler","nextHighlightIndex","POPOVER_HIGHLIGHT_INDEX_RESET_REQUESTED","nowPopover","triggerEl","hoistHost","meta","CanvasOverflowItem","styleClass","closeBtn_tooltip","_onItemClick","_onItemClose","elmRef","_renderDisabledItem","POPOVER_CONTENT_CLICKED","Constants","handlerMap","arrowUp","currentIndex","_current","newIndex","arrowDown","execute","noop","debounce","itemLength","_highlightIndex","onMessage","data","CANVAS_IFRAME_CONTENT","CANVAS_IFRAME_CLOSED","iframeRef","headerLabel","disableSandbox","setRef","_renderHeader","sandbox","IFRAME_REF","iFrameRef","contentWindow","postMessage","origin","sendInitMessage","contentDocument","documentElement","CANVAS_IFRAME_MODAL_MESSAGE_TYPE","CANVAS_IFRAME_OUTBOUND_ACTION_CANCELED","CANVAS_IFRAME_OUTBOUND_ACTION_CONFIRMED","CANVAS_IFRAME_INIT","SN_CANVAS_ERROR_TAGNAME","CONSTANTS","NOW_MODAL_FOOTER_ACTION_CLICKED","errorConfig","loginModal","unstableParse","footerActions","nowHoist","footerAction","btnClickFn","Docking","dockingEnabled","manageable","snCanvasSidebarStyles","uxfViewportBehavior","draggableBehavior","bindDraggableEvents","unbindDraggableEvents","clearStyles","draggableEffect","parentTargetRef","DOCUMENT_EVENTS","activeItem","active","onDragStart","currentTarget","xOffset","yOffset","initialX","touches","clientX","initialY","clientY","onDragEnd","currentX","currentY","onDrag","setTranslate","xPos","yPos","elNode","transform","eventType","childNodes","removeProperty","_handleClose","beforeClose","Promise","resolve","then","res","backdrop","POSITIONS","isTitleClickable","cursor","hasNoMargin","icon-name","snCanvasSidepanelStyles","cssText","hasCloseIcon","absolutePositions","background","snCanvasCornerDialogStyles","handleComponentDOMReady","handleComponentPropertyChanged","snCanvasViewportEffect","preload","includesFieldsParams","maxTabLimit","snCanvasViewportStyles","loadViewportWithFieldsAndParams","viewportRoutes","viewportRouteConfig","getFieldsFromViewportRoutes","getParamsFromViewportRoutes","onMaxTabLimitChange","onActiveParentIdChange","onActiveRecordsChange","getFieldValueFromViewportInfo","field","viewportOpened","newFields","rc","routeType","newParams","getFields","getParams","skipPreload","currentActiveButton","PASSIVE","passive","NOOP","_onScrollOrResize","scrollParent","reachedScrollBottom","_removeListeners","notificationQueue","isLoading","hasNoNotifications","renderSection","sectionId","renderTrayItem","notificationItemPayload","sysId","alertSysId","readStatus","headingLabel","interaction","timeStamp","renderSectionHeader","headerItem","hidePadding","groupId","aria-live","alignment","groupItem","onScrollOrResizeHandler","nowMode","focusFirstElement","onScrollOrResizeDebounced","_addListeners","hideTray","rawItemsToClear","startDate","endDate","itemsToClear","latestDate","getUTCFullYear","getUTCMonth","getUTCDate","dateDaysBefore","setDate","getUTCHours","getUTCMinutes","getUTCSeconds","_getDateRangeToClear","startDateTime","endDateTime","ASK_TO_CLEAR_SECTION","snCanvasNotificationTrayStyles","__TECTONIC__$servicenow_now_message","WORD_LITERALS","justNow","minute","hour","day","_updateTime","timeAgo","date","seconds","minutes","hours","words","_getTime","_getWords","actualDate","normalizedBaseDate","getTime","setHours","normalizedActualDate","diff","abs","_daysBetween","snCanvasTimeAgoStyles","threshold","scroll","actual","scrollTop","getScrollPosition","getStartAndEnd","itemEls","elEnd","firstItemEl","lastItemEl","getOffset","clientTop","offsetTop","offsetParent","getAriaBadgeText","iconRef","showBadge","isOpen","snCanvasNotificationTriggerStyles","onKeyUpHandler","keyUpHandler","code","getOnKeyUpHandler","USER_META_REQUEST_SUCCEEDED","PRIME_NAV_SOURCE_CHANGED","USER_PREF_UPDATED","USER_PREFERENCE_UPDATE_REQUEST_SUCCEEDED","chromeStateEffect","handleUserMetaRequest","handleUserMetaResponse","handleUserPreferenceUpdateRequest","handleUserPreferenceUpdateResponse","handleButtonUpdate","handlePropertyChange","handleViewportSelection","handlePrimaryTabUpdate","toolbarButtonsConfig","preferenceNames","userMeta","processedUserPrefs","loginRedirectUrl","isLoggedIn","uiNotificationBehavior","USER_META_REQUEST","USER_META_REQUEST_STARTED","USER_META_REQUEST_FAILED","USER_PREFERENCE_UPDATE_REQUEST_STARTED","USER_PREFERENCE_UPDATE_REQUEST_FAILED","utils","groupIdToDelete","trayDisplayed","trayIsLoading","toastDisplayed","badgeList","notificationConfiguration","viewportConfiguration","screenRoute","uiRoute","uiNotificationBehaviorState","modifier","delay","newBadgeList","newAlertQueue","uiNotificationLifeCycleHandlers","uiNotificationCountHandlers","uiNotificationClearHandlers","uiNotificationReadHandlers","uiNotificationUpdaterHandlers","uiNotificationAMBHandlers","timestamp","dateParsed","isNaN","time_arr","currentOffset","getTimezoneOffset","badgeListNew","groupBy","reloadEffect","groups","groupIdx","needReLoading","nextGroupId","interceptors","effects","httpEffect","createHttpEffect","method","dataParam","newOffset","newTotalRowCount","__TECTONIC__$servicenow_ui_effect_http","alertChunk","userTimeZoneOffset","notificationUpdateQuery","updateNotificationsEffect","templateVarList","newDeleteQueue","sys_id_val","rawAlert","showToast","transformedAlert","fetchNotificationsAndInitializeAMBWatcher","componentPropertyChangedHandler","Proxy","viewportEnabled","hydrateViewport","notificationUIRoute","notificationViewportElementId","notificationScreenRoute","notificationTrayDisplayed","notificationTrayIsLoading","prevUserId","newShowBadgeVal","newShowBadge","prop","propertyChangedEffect","delayAutoClose","duration","displayLength","autoTimeout","lastToastItem","snNotificationToastStyles","card","getElementById"],"mappings":"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","file":"sn-canvas-chrome.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 50);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__$servicenow_ui_core;","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__lodash_4_17_15;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__lodash_4_17_15[\"get\"];","import { t } from 'sn-translate';\n\n//components\nexport const SN_CANVAS_TABS_DATA = 'sn-canvas-tabs-data';\n\n// Actions dispatched from NDS\nexport const NOW_DROPDOWN_ITEM_CLICKED = 'NOW_DROPDOWN#ITEM_CLICKED';\nexport const NOW_NAVIGATION_ITEM_CLICKED = 'NOW_NAVIGATION_ITEM#CLICKED';\nexport const NOW_BUTTON_CLICKED = 'NOW_BUTTON#CLICKED';\nexport const NOW_POPOVER_OPENED_SET = 'NOW_POPOVER#OPENED_SET';\nexport const NOW_BUTTON_BARE_CLICKED = 'NOW_BUTTON_BARE#CLICKED';\nexport const NOW_CONFIRM_MODAL_CLEAR = 'NOW_CONFIRM_MODAL#CLEAR';\n\n// Global actions\nexport const NAV_ITEM_SELECTED = 'NAV_ITEM_SELECTED';\nexport const MODAL_SELECTED = 'MODAL_SELECTED';\nexport const SESSION_LOGGED_OUT = 'SESSION_LOGGED_OUT';\nexport const VIEWPORT_MODAL_SELECTED = 'MACROPONENT_VIEWPORT_LOAD_REQUESTED';\n\n// Link types\nexport const EMAIL_LINK_TYPE = 'email';\nexport const PHONE_LINK_TYPE = 'phone';\nexport const ROUTE_LINK_TYPE = 'route';\nexport const MODAL_LINK_TYPE = 'modal';\nexport const EXTERNAL_LINK_TYPE = 'external';\nexport const ACTION_LINK_TYPE = 'action';\nexport const LOGOUT_LINK_TYPE = 'logout';\nexport const VIEWPORT_MODAL_TYPE = 'viewportModal';\n// Component actions\nexport const PUBLIC_ACTION_BUTTON_CLICKED =\n\t'CANVAS_PUBLIC_ACTION_BUTTON#CLICKED';\n\n// Defaults\nexport const DEFAULT_LOGOUT_ROUTE = 'logout.do';\n// Keyboard constants\nexport const ENTER_KEY_CODE = 13;\n\nexport const HOME_KEY = 'Home';\nexport const ARROW_UP_KEY = 'ArrowUp';\nexport const ARROW_RIGHT_KEY = 'ArrowRight';\nexport const ARROW_DOWN_KEY = 'ArrowDown';\nexport const ARROW_LEFT_KEY = 'ArrowLeft';\nexport const END_KEY = 'End';\nexport const ESCAPE_KEY = 'Escape';\nexport const TAB_KEY = 'Tab';\nexport const ENTER_KEY = 'Enter';\nexport const SPACE_KEY = ' ';\n\n//Tab Constants\nexport const LOAD_TABS_DATA = 'LOAD_TABS_DATA';\nexport const TABS_DATA_UPDATED = 'TABS_DATA_UPDATED';\nexport const TABS_INIT_PROPS_BEHAVIOR = 'TABS_INIT_PROPS_BEHAVIOR';\nexport const TABS_ROOT_BEHAVIOR = 'TABS_ROOT_BEHAVIOR';\nexport const CLOSE_TAB_MENU_ITEM = 'CLOSE_TAB_MENU_ITEM';\nexport const CLOSE_OTHER_TABS_MENU_ITEM = 'CLOSE_OTHER_TABS_MENU_ITEM';\nexport const CLOSE_ALL_TABS_MENU_ITEM = 'CLOSE_ALL_TABS_MENU_ITEM';\nexport const CHAT_ITEM_TYPE = 'CHAT_ITEM_TYPE';\n\n// Modal Buttons\nexport const EDS_MODAL_CANCEL_BTN = {\n\tvariant: 'secondary',\n\tlabel: t('Cancel')\n};\n\nexport const EDS_MODAL_CONFIRM_BTN = {\n\tvariant: 'primary',\n\tlabel: t('OK')\n};\n\n// Tab actions\nexport const WORKSPACE_TAB_ACTIVATED = 'WORKSPACE_TAB_ACTIVATED';\nexport const CONTENT_UPDATED = 'CONTENT_UPDATED';\nexport const MAIN_TAB_CLICKED = 'MAIN_TAB_CLICKED';\nexport const MASTER_DETAIL_TOGGLED = 'MASTER_DETAIL_TOGGLED';\nexport const MAIN_TAB_CLOSE_CLICKED = 'MAIN_TAB_CLOSE_CLICKED';\nexport const MAIN_TAB_NEW_CLICKED = 'MAIN_TAB_NEW_CLICKED';\nexport const MAIN_TAB_NEW_ALERT_CLEARED = 'MAIN_TAB_NEW_ALERT_CLEARED';\nexport const MAIN_TAB_NEW_ALERT_CLEARED_OK = 'NOW_MODAL#FOOTER_ACTION_CLICKED';\nexport const SUB_TAB_CLOSE_CLICKED = 'SUB_TAB_CLOSE_CLICKED';\nexport const TABS_SCREEN_CONTENT_CHANGED = 'TABS_SCREEN_CONTENT_CHANGED';\nexport const TABS_CLOSE_REQUESTED = 'TABS_CLOSE_REQUESTED';\nexport const TABS_CLOSE_CONFIRMED = 'TABS_CLOSE_CONFIRMED';\nexport const TABS_CLOSE_CANCELLED = 'TABS_CLOSE_CANCELLED';\nexport const TABS_SELECTED_CONTENT_CHANGED = 'TABS_SELECTED_CONTENT_CHANGED';\nexport const DRILLDOWN_BACK_CLICKED = 'DRILLDOWN_BACK_CLICKED';\nexport const SCREEN_CLOSED_CONFIRMED = 'SCREEN_CLOSED_CONFIRMED';\nexport const SCREEN_CLOSED_CANCELLED = 'SCREEN_CLOSED_CANCELLED';\nexport const PRIMARY_TAB_PROP_CHANGED = 'PRIMARY_TAB_PROP_CHANGED';\nexport const NAVIGATION_CLOSED = 'NAVIGATION_CLOSED';\nexport const VIEWPORT_SELECTED = 'VIEWPORT_SELECTED';\n\n// Mediated action types\nexport const ITEM_SELECTED = 'ITEM_SELECTED';\nexport const SELECT_TAB = 'SELECT_TAB';\nexport const CONTEXTUAL_RECORD_ITEM_TYPE = 'contextual_record';\nexport const TWO_LAYER_TYPE = 'TWO_LAYER_TYPE'; //[RECORD_ITEM_TYPE, NEW_RECORD_ITEM_TYPE, CHAT_ITEM_TYPE]// Error mediated action types\nexport const MAIN_TAB_ONLY_TYPE = 'MAIN_TAB_ONLY_TYPE';\n\n//KEY COMMANDS\nexport const MOVE_UP = 'MOVE_UP';\nexport const TAB = 'TAB';\nexport const MOVE_DOWN = 'MOVE_DOWN';\nexport const EXECUTE = 'EXECUTE';\nexport const CLICK = 'CLICK';\n\n// Tab Item Types\nexport const RECORD_ITEM_TYPE = 'record';\nexport const FULL_SEARCH_ITEM_TYPE = 'full-search';\nexport const KNOWLEDGE_ITEM_TYPE = 'knowledge';\nexport const NON_RECORD_ITEM_TYPE = 'non_record';\nexport const FULL_LIST_ITEM_TYPE = 'list';\nexport const NEW_RECORD_ITEM_TYPE = 'new_record';\n\nexport const FULL_SEARCH_TAB_TITLE = t('WS:Search Results');\nexport const KNOWLEDGE_TAB_TITLE = t('Knowledge Articles');\n\nexport const PROPERTIES_SET = 'PROPERTIES_SET';\nexport const ACTIVITY_LOG_UPDATED = 'ACTIVITY_LOG_UPDATED';\n\n// Tab Reducers\nexport const OPEN_OR_FOCUS_TAB_REDUCER = 'OPEN_OR_FOCUS_TAB_REDUCER';\nexport const INIT_OR_UPDATE_TABS_REDUCER = 'INIT_OR_UPDATE_TABS_REDUCER';\nexport const LIVE_UPDATE_TABS_REDUCER = 'LIVE_UPDATE_TABS_REDUCER';\nexport const INIT_TABS_REDUCER = 'INIT_TABS_REDUCER';\nexport const CHAINED_REDUCER = 'CHAINED_REDUCER';\nexport const CLOSE_ONE_DRILLDOWN_REDUCER = 'CLOSE_ONE_DRILLDOWN_REDUCER';\nexport const UPDATE_PRIMARY_TAB_REDUCER = 'UPDATE_PRIMARY_TAB_REDUCER';\n\n//ICONS\nexport const ICON_CHAT_FILL = 'chat-fill';\nexport const ICON_CHAT_OUTLINE = 'chat-outline';\nexport const ICON_PHONE_FILL = 'phone-fill';\nexport const ICON_PHONE_OUTLINE = 'phone-outline';\nexport const ICON_GROUP_FILL = 'group-fill';\nexport const ICON_GROUP_OUTLINE = 'group-outline';\nexport const ICON_LIST_OUTLINE = 'list-outline';\n\n// Special table handling\nexport const INTERACTION_TABLE = 'interaction';\n\n// Messages\nexport const TAB_DETAILS_TITLE = t('Details');\n\n// Other constants\nexport const DEFAULT_MULTI_INST_FIELD = 'sys_id';\n\nexport const SCREEN_STATUS_ACTION_CLOSED = 'closed';\n\n// NOW Actions\nexport const NOW_MODAL_OPENED_SET = 'NOW_MODAL#OPENED_SET';\n","module.exports = __TECTONIC__$servicenow_behavior_rtl_19_4_4;","module.exports = __TECTONIC__lodash_4_17_15[\"isEmpty\"];","module.exports = __TECTONIC__$servicenow_now_icon;","export const UI_NOTIFICATION_BEHAVIOR = 'UI_NOTIFICATION_BEHAVIOR';\nexport const ALERT_STATUS_READ = 'read';\nexport const NOTIFICATION_TOAST = 'toast';\nexport const ALERT_STATUS_NEW = 'new';\nexport const ALERT_STATUS_DELETED = 'deleted';\nexport const CLEAR_NOTIFICATIONS_ENDPOINT =\n\t'api/now/v1/glide_ui_notifications/item_status';\nexport const PAGE_SIZE = 20;\nexport const ALERT_BADGE_RESET_TIMESTAMP =\n\t'sn.ws.notification.badge.reset.timestamp';\n\n// Actions\nexport const SUBSCRIPTION_CHANGED = 'SUBSCRIPTION_CHANGED';\nexport const NOTIFICATION_ITEM_CLICKED = 'NOTIFICATION_ITEM_CLICKED';\nexport const NOTIFICATION_TRAY_TOGGLED = 'NOTIFICATION_TRAY_TOGGLED';\nexport const NOTIFICATION_LOAD_MORE = 'NOTIFICATION_LOAD_MORE';\n\nexport const SCREEN_STATUS_CHANGED = 'SCREEN_STATUS_CHANGED';\nexport const SUBSCRIBED = 'SUBSCRIBED';\nexport const ITEM_CHANGED = 'ITEM_CHANGED';\nexport const SUBSCRIBED_FAILED = 'SUBSCRIBED_FAILED';\nexport const UNSUBSCRIBED = 'UNSUBSCRIBED';\nexport const SUBSCRIBED_STARTED = 'SUBSCRIBED_STARTED';\nexport const CLEAR_NOTIFICATION_SECTION = 'ASK_TO_CLEAR_SECTION';\nexport const CLEAR_NOTIFICATION_SECTION_SUCCEEDED =\n\t'CLEAR_NOTIFICATION_SECTION_SUCCEEDED';\nexport const QUERY_NOTIFICATIONS = 'ASK_TO_QUERY_ALERTS';\nexport const QUERY_NOTIFICATIONS_SUCCEEDED = 'QUERY_NOTIFICATIONS_SUCCEEDED';\nexport const UPDATE_NOTIFICATIONS_SUCCEEDED = 'UPDATE_NOTIFICATIONS_SUCCEEDED';\nexport const UPDATE_NOTIFICATIONS = 'ASK_TO_UPDATE_UPDATE_ALERTS';\nexport const QUERY_NOTIFICATION_COUNT = 'ASK_TO_QUERY_NOTIFICATION_COUNT';\nexport const QUERY_NOTIFICATION_COUNT_SUCCEEDED =\n\t'QUERY_NOTIFICATION_COUNT_SUCCEEDED';\n","module.exports = __TECTONIC__$servicenow_behavior_focus_19_4_4;","import './sn-nav-item';\n","module.exports = __TECTONIC__$servicenow_now_button;","module.exports = __TECTONIC__$servicenow_now_tooltip;","module.exports = __TECTONIC__$servicenow_ui_effect_graphql;","import { get, isNil } from 'lodash';\nimport { t } from 'sn-translate';\nimport {\n\tUI_NOTIFICATION_BEHAVIOR,\n\tPAGE_SIZE,\n\tUPDATE_NOTIFICATIONS,\n\tQUERY_NOTIFICATIONS,\n\tALERT_STATUS_READ,\n\tALERT_STATUS_DELETED,\n\tALERT_BADGE_RESET_TIMESTAMP\n} from '../constants';\nimport { daysBetween, parseSystemTime } from './timeAgo';\n\nimport { buildAlertItem } from './buildAlertItem';\n\nexport const UI_NOTIFICATION_BEHAVIOR_STATE_PATH = `behaviors[${UI_NOTIFICATION_BEHAVIOR}]`;\n\nconst TODAY_QUEUE = [{ item_type: 'group', name: 'today', label: t('Today') }];\nconst YESTERDAY_QUEUE = [\n\t{ item_type: 'group', name: 'yesterday', label: t('Yesterday') }\n];\nconst OLDER_QUEUE = [{ item_type: 'group', name: 'older', label: t('Older') }];\n\nfunction getBasicCondition(userId, route) {\n\treturn `recipient=${userId}^route=${route}`;\n}\n\nfunction decodePayload(alert, timeZoneOffset) {\n\tlet payload = null;\n\ttry {\n\t\tconst { displayValue = '', tableLabel = '', changes = {} } = JSON.parse(\n\t\t\talert.payload.value\n\t\t);\n\n\t\tconst raw_time_stamp = alert.sys_created_on.value;\n\n\t\tconst baseProps = {\n\t\t\ttable: alert.target_table.value,\n\t\t\tsys_id: alert.target.value,\n\t\t\trecord_display_value: displayValue,\n\t\t\traw_time_stamp,\n\t\t\ttime_stamp: parseSystemTime(raw_time_stamp, timeZoneOffset),\n\t\t\talert_sys_id: alert.sys_id.value,\n\t\t\tupdated_by: getTriggeredBy(alert.triggered_by),\n\t\t\tis_read: alert.status.value === ALERT_STATUS_READ\n\t\t};\n\n\t\tpayload = { baseProps, tableLabel, changes };\n\t} catch (e) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error('invalid notification payload');\n\t\tpayload = null;\n\t}\n\treturn payload;\n}\n\nfunction buildAlertPayload(baseProps, tableLabel, changes) {\n\tconst { assigned_to = {}, priority = {}, short_description = {} } = changes;\n\tconst fields = Object.keys(changes).reduce((result, key) => {\n\t\tconst change = changes[key];\n\n\t\tif (change) {\n\t\t\tconst { value, previousValue } = changes[key];\n\t\t\tif (value !== previousValue) {\n\t\t\t\tconst { displayValue, fieldLabel } = changes[key];\n\t\t\t\tresult = result.concat({\n\t\t\t\t\tfield_name: key,\n\t\t\t\t\tfield_label: fieldLabel,\n\t\t\t\t\tfield_value: value,\n\t\t\t\t\tfield_displayValue: displayValue\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}, []);\n\n\treturn {\n\t\t...baseProps,\n\t\ttable_label: tableLabel,\n\t\tshort_description:\n\t\t\t(short_description && short_description.displayValue) || '',\n\t\tfields,\n\t\tpriority: (priority && priority.displayValue) || '',\n\t\tassigned_to: assigned_to || ''\n\t};\n}\n\nfunction transformGraphQLAlert(alert, timeZoneOffset) {\n\tconst payload = decodePayload(alert, timeZoneOffset);\n\tif (!payload) return null;\n\n\tconst { baseProps, tableLabel, changes } = payload;\n\treturn buildAlertPayload(baseProps, tableLabel, changes);\n}\n\nfunction getTriggeredBy(triggered_by) {\n\tconst { displayValue, display_value, value } = triggered_by; // graphql and amb format is different\n\tif (!displayValue && !display_value && value)\n\t\treturn value[0].toUpperCase() + value.slice(1);\n\telse return displayValue || display_value;\n}\n\nexport function getUINotificationBehaviorState(state) {\n\treturn get(state, UI_NOTIFICATION_BEHAVIOR_STATE_PATH, {});\n}\n\nexport function addDateGroupings(alertQueue) {\n\tconst baseDate = new Date(Date.now());\n\n\tlet todayQueue = [...TODAY_QUEUE],\n\t\tyesterdayQueue = [...YESTERDAY_QUEUE],\n\t\tolderQueue = [...OLDER_QUEUE];\n\n\talertQueue.forEach((item) => {\n\t\tif (item.item_type === 'notification') {\n\t\t\tconst { time_stamp } = item;\n\t\t\tconst _date = new Date(time_stamp);\n\t\t\tconst daysDiff = daysBetween(baseDate, _date);\n\t\t\tif (daysDiff === 0)\n\t\t\t\ttodayQueue = todayQueue.concat({ ...item, group: 'today' });\n\t\t\telse if (daysDiff === 1)\n\t\t\t\tyesterdayQueue = yesterdayQueue.concat({ ...item, group: 'yesterday' });\n\t\t\telse olderQueue = olderQueue.concat({ ...item, group: 'older' });\n\t\t}\n\t});\n\n\treturn todayQueue.concat(yesterdayQueue).concat(olderQueue);\n}\n\nexport function storeBadgeCount(userId) {\n\tif (window.localStorage) {\n\t\ttry {\n\t\t\tlet reset = window.localStorage.getItem(ALERT_BADGE_RESET_TIMESTAMP);\n\t\t\treset = JSON.parse(reset) || {};\n\t\t\treset = { ...reset, [userId]: Date.now() };\n\t\t\tlet reset_str = JSON.stringify(reset);\n\t\t\twindow.localStorage.setItem(ALERT_BADGE_RESET_TIMESTAMP, reset_str);\n\t\t} catch (e) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n}\n\n// Take record watcher format and transform to client side format.\nexport function getTransformedAlert(alert, timeZoneOffset) {\n\tconst payload = decodePayload(alert, timeZoneOffset);\n\tif (!payload) return null;\n\n\tconst { baseProps, tableLabel, changes } = payload;\n\tconst updatePayload = { ...baseProps, status: 'liveUpdated' };\n\n\treturn {\n\t\talertPayload: buildAlertPayload(baseProps, tableLabel, changes),\n\t\tupdatePayload\n\t};\n}\n\nexport function purgeOldAlerts(alertQueue, alertItem, trayState) {\n\t//item arrived\n\tconst record_sys_id = alertItem.sys_id;\n\n\tlet alertsToKeep = alertQueue.filter(\n\t\t\t(it) => it.item_type === 'notification' && it.sys_id !== record_sys_id\n\t\t),\n\t\talertsToDelete = trayState.deleteQueue.slice(); //[alertPayload]\n\n\tconst existingAlert = alertQueue.find((it) => it.sys_id === record_sys_id);\n\tif (existingAlert) alertsToDelete.push(existingAlert.alert_sys_id);\n\n\talertsToKeep.unshift(alertItem);\n\n\treturn {\n\t\talertsToKeep,\n\t\talertsToDelete\n\t};\n}\n\nexport function purgeOldAlerts2(\n\talertQueue,\n\trawAlerts,\n\ttrayState,\n\tuserId,\n\ttimeZoneOffset,\n\ttarget = 'target.value'\n) {\n\t// initial loading/scrolling\n\tlet alertsToKeep = alertQueue.filter((it) => it.item_type === 'notification'),\n\t\talertsToDelete = trayState.deleteQueue.slice(); // [alert_sys_ids_to_delete]\n\tlet set = new Set(alertQueue.map((al) => al.sys_id));\n\tconst deleteTarget =\n\t\ttarget === 'target.value' ? 'sys_id.value' : 'alert_sys_id'; // initial or item arrived\n\n\trawAlerts.forEach((alert) => {\n\t\tconst record_sys_id = get(alert, target, '');\n\t\tif (!set.has(record_sys_id)) {\n\t\t\tset.add(record_sys_id);\n\t\t\tlet payload = transformGraphQLAlert(alert, timeZoneOffset);\n\t\t\tif (payload) {\n\t\t\t\tlet item = buildAlertItem(payload, userId);\n\t\t\t\talertsToKeep.push(item);\n\t\t\t}\n\t\t} else {\n\t\t\tconst alert_sys_id = get(alert, deleteTarget, '');\n\t\t\talertsToDelete.push(alert_sys_id);\n\t\t}\n\t});\n\n\treturn {\n\t\talertsToKeep,\n\t\talertsToDelete\n\t};\n}\n\nexport function buildAlertSubscriptionFilter(userId, route) {\n\tconst filter = `${getBasicCondition(userId, route)}^status=new`;\n\treturn btoa(filter).replace(/=/g, '-');\n}\n\nexport function askToQueryAlerts(\n\toffset,\n\ttotalRowCount,\n\tuserId,\n\troute,\n\tdispatch,\n\tinitial = false\n) {\n\tif (initial || offset < totalRowCount) {\n\t\tconst condition = `${getBasicCondition(\n\t\t\tuserId,\n\t\t\troute\n\t\t)}^sys_created_on>=javascript:gs.beginningOfLast7Days()^status!=deleted^ORDERBYDESCsys_created_on`;\n\t\tdispatch(QUERY_NOTIFICATIONS, { condition, limit: PAGE_SIZE, offset });\n\t}\n}\n\nexport function askToUpdateNotifications(\n\tdispatch,\n\tsys_ids,\n\tstatus,\n\tdeleteQueue = []\n) {\n\tlet _buildUpdateItems = (items, queue, theStatus) => {\n\t\tconst newItems = queue.map((sys_id) => ({ sys_id, status: theStatus }));\n\t\treturn items.concat(newItems);\n\t};\n\n\tlet items = [];\n\titems = _buildUpdateItems(items, sys_ids, status);\n\titems = _buildUpdateItems(items, deleteQueue, ALERT_STATUS_DELETED); //clear delete queue on each update\n\n\tif (items.length > 0) dispatch(UPDATE_NOTIFICATIONS, { items });\n}\n\nexport function buildBadgeQueryCondition(currentUserId, route) {\n\tlet count_time_str = 'gs.beginningOfLast7Days()';\n\n\tif (window.localStorage) {\n\t\ttry {\n\t\t\tlet reset = window.localStorage.getItem(ALERT_BADGE_RESET_TIMESTAMP);\n\t\t\treset = JSON.parse(reset);\n\t\t\tif (reset && reset[currentUserId]) {\n\t\t\t\tconst reset_timestamp = reset[currentUserId];\n\t\t\t\tconst reset_date_obj = new Date(reset_timestamp);\n\t\t\t\tconst dd = reset_date_obj.getDate(),\n\t\t\t\t\tmm = reset_date_obj.getMonth() + 1,\n\t\t\t\t\tyyyy = reset_date_obj.getFullYear(),\n\t\t\t\t\thh = reset_date_obj.getHours(),\n\t\t\t\t\tmin = reset_date_obj.getMinutes(),\n\t\t\t\t\tsec = reset_date_obj.getSeconds();\n\t\t\t\tconst reset_date = `${yyyy}-${mm}-${dd}`,\n\t\t\t\t\treset_time = `${hh}:${min}:${sec}`;\n\t\t\t\tcount_time_str = `gs.dateGenerate('${reset_date}','${reset_time}')`;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n\n\treturn `${getBasicCondition(\n\t\tcurrentUserId,\n\t\troute\n\t)}^status=new^sys_updated_on>javascript:${count_time_str}`;\n}\n\nexport function updateNotificationProperty(\n\tupdateProperties,\n\tproperties,\n\tpayload\n) {\n\tconst { notification } = properties;\n\tconst newNotificationProperty = {\n\t\t...notification,\n\t\t...payload\n\t};\n\n\tupdateProperties({\n\t\tnotification: newNotificationProperty\n\t});\n}\n\nexport function isNotificationTrayLoading(offset, totalRowCount, deleteQueue) {\n\tif (offset && totalRowCount && deleteQueue)\n\t\treturn offset < totalRowCount - deleteQueue.length;\n\treturn false;\n}\n\nexport function getPreferenceValue(preferences, value) {\n\tconst pref = preferences.find((pref) => get(pref, 'name', '') === value);\n\treturn get(pref, 'value', null);\n}\n\nexport function shouldShowToast(preferences) {\n\tconst prefValue = getPreferenceValue(\n\t\tpreferences,\n\t\t'workspace.notifications.showPopups'\n\t);\n\tconst showToast = isNil(prefValue)\n\t\t? true\n\t\t: prefValue.toString().toLowerCase() === 'true';\n\treturn showToast;\n}\n","module.exports = __TECTONIC__$servicenow_now_badge;","module.exports = __TECTONIC__$servicenow_now_popover;","module.exports = __TECTONIC__$servicenow_ui_effect_amb;","module.exports = __TECTONIC__lodash_4_17_15[\"isEqual\"];","export const modalPayloadSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tmodalId: { type: 'string' },\n\t\tshowModal: { type: 'boolean' },\n\t\tdisplayOptions: { type: 'object' }\n\t}\n};\n\nexport const routePayloadSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\troute: { type: 'string' },\n\t\tfields: { type: 'object' },\n\t\tparams: { type: 'object' }\n\t}\n};\n\nconst urlPayloadSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\thref: { type: 'string' }\n\t}\n};\n\nexport const urlSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\thref: { type: 'string' }\n\t}\n};\n\nexport const navItemSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tlabel: { type: 'string' },\n\t\topensWindow: { type: 'boolean' },\n\t\ttooltip: { type: 'string' },\n\t\tdownload: { schema: { oneOf: [{ type: 'string' }, { type: 'boolean' }] } },\n\t\tvariant: { type: 'string' },\n\t\tunderlined: { type: 'boolean' },\n\t\ttype: {\n\t\t\ttype: 'string',\n\t\t\tenum: ['external', 'email', 'phone', 'modal', 'route']\n\t\t},\n\t\titemValue: {\n\t\t\tanyOf: [urlPayloadSchema, routePayloadSchema, modalPayloadSchema]\n\t\t}\n\t}\n};\n","module.exports = __TECTONIC__lodash_4_17_15[\"isNil\"];","import isEmpty from 'lodash/isEmpty';\nimport debounce from 'lodash/debounce';\n\nlet _funcs = {};\n\nconst runFuncs = debounce(() => {\n\tObject.values(_funcs).forEach((fn) => fn());\n}, 500);\n\nconst GlobalResizeListener = {\n\tadd(id, fn, runImmediately) {\n\t\tif (runImmediately) {\n\t\t\tfn();\n\t\t}\n\t\tif (window && isEmpty(_funcs)) {\n\t\t\twindow.addEventListener('resize', runFuncs);\n\t\t}\n\t\t_funcs[id] = fn;\n\t},\n\tremove(id) {\n\t\tdelete _funcs[id];\n\t\tif (isEmpty(_funcs)) {\n\t\t\twindow.removeEventListener('resize', runFuncs);\n\t\t}\n\t}\n};\n\nObject.freeze(GlobalResizeListener);\nexport default GlobalResizeListener;\n","import isNumber from 'lodash/isNumber';\nimport isFunction from 'lodash/isFunction';\n/**\n * Get reference of the element that is being hoisted.\n *\n * @param {WebElement} host\n * @returns {WebElement}\n */\nexport const getHoistedContent = (host) => {\n\treturn host.nowHoistAppendTo.querySelector('seismic-hoist').shadowRoot;\n};\n\n/**\n * Get the integer value of a style property on an element.\n *\n * @param {WebElement} host\n * @param {string} propertyName\n * @returns {number}\n */\nexport const getStyePropertyIntegerValue = (host, propertyName) =>\n\tparseInt(getComputedStyle(host).getPropertyValue(propertyName));\n\n/**\n * Utility to truncate a string to a given maxWidth. Needed because text truncation\n * is not supported in now-button.\n *\n * @param {string} str\n * @param {number} maxWidth\n */\nexport const measureText = (str, maxWidth, font) => {\n\tif (!isNumber(maxWidth) || !str) {\n\t\treturn {};\n\t}\n\tconst canvasEl = document.createElement('canvas');\n\tconst ctx = canvasEl.getContext('2d');\n\tconst ellipsis = '...';\n\tconst ellipsisWidth = ctx.measureText(ellipsis).width;\n\tctx.font = font;\n\tlet strWidth = ctx.measureText(str).width;\n\t// No truncation needed. Truncation and str is the same.\n\tif (strWidth <= maxWidth) {\n\t\treturn {\n\t\t\tisTruncated: false,\n\t\t\tlabel: str,\n\t\t\tstr\n\t\t};\n\t}\n\n\tlet strBuilder = str;\n\tlet strLength = str.length;\n\n\twhile (strWidth + ellipsisWidth > maxWidth) {\n\t\tstrBuilder = str.substring(0, strLength);\n\t\tstrWidth = ctx.measureText(strBuilder).width;\n\t\tstrLength--;\n\t}\n\n\treturn {\n\t\tisTruncated: true,\n\t\tlabel: strBuilder + ellipsis,\n\t\tstr\n\t};\n};\n\nconst isVisible = (element) => {\n\t// Check inline style first to save a re-flow. If looks good, check also\n\t// computed style.\n\tlet style = element.style;\n\tif (style.visibility !== 'hidden' && style.display !== 'none') {\n\t\tstyle = window.getComputedStyle(element);\n\t\treturn style.visibility !== 'hidden' && style.display !== 'none';\n\t}\n\treturn false;\n};\n\nexport const deferUntilVisible = (\n\tel,\n\tcallback = () => {},\n\ttime = 500,\n\ttick = 10\n) => {\n\tlet elapsedTime = 0;\n\tif (!el || !isFunction(callback)) {\n\t\treturn;\n\t}\n\tlet interval = setInterval(() => {\n\t\tif (elapsedTime >= time) {\n\t\t\tclearInterval(interval);\n\t\t}\n\t\tif (isVisible(el)) {\n\t\t\tcallback();\n\t\t\tclearInterval(interval);\n\t\t}\n\t\telapsedTime + tick;\n\t}, tick);\n};\n","export const isRtl = (dir) => dir === 'rtl';\n\nexport const handleRtlFn = (ltrDir, rtlDir, dir) => {\n\tif (!isRtl(dir)) {\n\t\treturn ltrDir;\n\t} else {\n\t\treturn rtlDir;\n\t}\n};\n","import { get, isEmpty, cloneDeep, omit } from 'lodash';\nimport { t } from 'sn-translate';\n\nimport { getMaxTabLimit } from './tabsData.config';\n\nlet PRIMARY_TAB_MAP;\nlet CONTEXTUAL_TAB_MAP;\n\nconst TAB_TITLE_CACHE_BY_SCREEN = {};\n\nexport function initTabConfig(tabConfig) {\n\tif (!tabConfig) return;\n\tcreatePrimaryTabMap(tabConfig);\n\tcreateContextualTabMap(tabConfig);\n}\n\nexport function createPrimaryTabMap(tabConfig) {\n\tif (!PRIMARY_TAB_MAP) PRIMARY_TAB_MAP = tabConfig.primaryRoute || {};\n\n\treturn PRIMARY_TAB_MAP;\n}\n\nexport function createContextualTabMap(tabConfig) {\n\tif (CONTEXTUAL_TAB_MAP) return CONTEXTUAL_TAB_MAP;\n\n\tCONTEXTUAL_TAB_MAP = {};\n\tif (tabConfig && tabConfig.contextual) {\n\t\ttabConfig.contextual.forEach((config) => {\n\t\t\tCONTEXTUAL_TAB_MAP[config] = config;\n\t\t});\n\t}\n\treturn CONTEXTUAL_TAB_MAP;\n}\n\nexport const getPrimaryTabMap = () => PRIMARY_TAB_MAP;\nexport const getContextualTabMap = () => CONTEXTUAL_TAB_MAP;\n\nexport const generateContentKey = (fields, route) => {\n\treturn Object.keys(fields)\n\t\t.sort()\n\t\t.reduce((hash, key) => `${hash}~${key}~${fields[key]}`, route);\n};\n\nexport const recoverContentFromKey = (key) => {\n\tif (!key) return;\n\tconst parts = key.split('~');\n\tconst route = parts[0];\n\tlet fields = {};\n\tfor (let i = 1; i < parts.length - 1; i = i + 2) {\n\t\tlet j = i + 1;\n\t\tfields[parts[i]] = parts[j];\n\t}\n\treturn { route, fields };\n};\n\nexport function getContentKey(_selectedContent) {\n\tconst selectedContent = cloneDeep(_selectedContent);\n\tlet { route, fields, uid, multiInstField } = selectedContent;\n\tif (!fields) fields = {};\n\n\tif (multiInstField && fields[multiInstField]) {\n\t\tconst parts = fields[multiInstField].split('_uid_');\n\t\tfields[multiInstField] = parts[0];\n\t\tif (parts.length > 1) uid = parts[1];\n\t}\n\n\tlet key = generateContentKey(fields, route);\n\tif (uid) {\n\t\tkey = `${key}${uid}`;\n\t}\n\treturn key;\n}\n\nexport function primaryRouteSelected(payload) {\n\tconst primaryTabMap = getPrimaryTabMap();\n\tconst { route } = payload;\n\treturn primaryTabMap[route];\n}\n\nexport function contextualRouteSelected(payload) {\n\tif (!payload) return;\n\tconst contextualTabMap = getContextualTabMap();\n\treturn contextualTabMap[payload.route];\n}\n\nexport const setTabTitleCacheByScreen = (screenId, title) =>\n\t(TAB_TITLE_CACHE_BY_SCREEN[screenId] = title);\n\nexport const getTabTitleCachedByScreen = (screenId) =>\n\tTAB_TITLE_CACHE_BY_SCREEN[screenId];\n\nconst maxTabsPrompt = {\n\ttitle: t('Max Tab Reached'),\n\tmessage: t(\n\t\t'You have reached max number of tabs you can have open at one time. Close tabs in order to open more.'\n\t),\n\tbuttonTitle: t('Dismiss'),\n\tbuttonAction: () => {}\n};\n\nexport function getSiblings(tabsData, tab) {\n\tconst { parentTabId } = tab;\n\tlet siblings = [];\n\tif (parentTabId) {\n\t\tconst parentTab = tabsData[parentTabId];\n\t\tconst chilren = parentTab.tabList;\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tconst [tab_id, ...restChildren] = chilren;\n\t\tif (restChildren && restChildren.length > 0) {\n\t\t\tsiblings = restChildren.map((tabId) => tabsData[tabId]);\n\t\t}\n\t}\n\treturn siblings;\n}\n\nfunction propagateFlag(tabsData, tab, flag, flagValue) {\n\tlet { parentTabId } = tab;\n\tlet value = flagValue;\n\twhile (parentTabId) {\n\t\tconst parentTab = tabsData[parentTabId];\n\t\tif (value === true) {\n\t\t\tif (parentTab[flag] === true) break;\n\t\t\telse parentTab[flag] = value;\n\t\t} else if (value === false) {\n\t\t\tparentTab[flag] = parentTab.tabList.some(\n\t\t\t\t(t) => tabsData[t][flag] === true\n\t\t\t);\n\t\t}\n\t\tparentTabId = parentTab.parentTabId;\n\t\tvalue = parentTab[flag];\n\t}\n\treturn tabsData;\n}\n//passing no filterFn will apply obj to all tabs\nexport function applyToAllTabs(\n\ttabsData,\n\tobjToApply = {},\n\tfilterFn = () => true\n) {\n\tconst flagsArr = ['isDirty', 'hasError', 'hasUpdate', 'hasWarning'];\n\tconst newTabsData = { ...tabsData };\n\tfor (let [tabId, tab] of Object.entries(newTabsData)) {\n\t\tif (!filterFn || (filterFn && filterFn(tab))) {\n\t\t\tnewTabsData[tabId] = { ...tab, ...objToApply };\n\n\t\t\tflagsArr.forEach((flag) => {\n\t\t\t\tif (objToApply.hasOwnProperty(flag) && tab[flag] !== objToApply[flag]) {\n\t\t\t\t\tpropagateFlag(\n\t\t\t\t\t\tnewTabsData,\n\t\t\t\t\t\tnewTabsData[tabId],\n\t\t\t\t\t\tflag,\n\t\t\t\t\t\tobjToApply[flag]\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn newTabsData;\n}\n\nexport function getTabById(tabList, tab_id) {\n\treturn tabList ? tabList.find((t) => t.tab_id === tab_id) : null;\n}\n\nexport function getTabIndexById(tabList, tabId) {\n\treturn tabList.findIndex((t) => t.tab_id === tabId);\n}\n\nexport function isDetailTab(tab, parentTab) {\n\tconst { contentKey } = tab;\n\tconst { contentKey: parentContentKey } = parentTab;\n\n\treturn contentKey === parentContentKey;\n}\n\n/** returns a tabStopper object if nextTabsData includes some condition that should prevent it from being accepted\n *  currently, the only condition is too many open tabs, which includes separate limits for main tabs and sub-tabs.\n *  This is set up to allow some versatility with the stopper object that gets returned, but currently there is only one.\n *  It would make sense, for exampke, to have different stopper objects for the main tab limit and th sub tab limit.\n */\nexport function shouldUpdateTabData(preTabsData, nextTabsData, tabsConfig) {\n\tfunction isReachingTabsLimit(preTabsData, nextTabsData) {\n\t\tlet reached = false;\n\n\t\t// Override tab limit if active tab says so\n\t\tif (get(nextActiveTab, 'additional_data.overrideTabLimit', false))\n\t\t\treturn reached;\n\n\t\tconst preTabList = preTabsData ? Object.values(preTabsData) : null;\n\t\tconst nextTabList = Object.values(nextTabsData);\n\n\t\tconst { mainLimit, subLimit } = getMaxTabLimit(tabsConfig);\n\t\tconst preMainTabCount = countMainTabs(preTabList);\n\t\tconst nextMainTabCount = countMainTabs(nextTabList);\n\t\tif (nextMainTabCount > preMainTabCount)\n\t\t\treached = nextMainTabCount > mainLimit;\n\n\t\tif (!reached) {\n\t\t\tconst nextSubTabCount = countSubTabs(nextTabList, nextMainTabCount);\n\t\t\treached = nextSubTabCount > subLimit;\n\t\t}\n\t\treturn reached;\n\t}\n\n\tif (!nextTabsData) return null; // if there is no new data to comapre against, return null\n\tconst nextActiveTab = getSelectedTab(nextTabsData);\n\tlet stopperPrompt = null;\n\tif (isReachingTabsLimit(preTabsData, nextTabsData)) {\n\t\tstopperPrompt = maxTabsPrompt;\n\t}\n\n\treturn stopperPrompt;\n}\n\nfunction countMainTabs(tabList) {\n\tif (isEmpty(tabList)) return 0;\n\t// a main tab has a parent tab of root\n\treturn tabList.filter((x) => x.parentTabId === 'root').length;\n}\n\nfunction countSubTabs(tabList, mainTabCount) {\n\tif (isEmpty(tabList)) return 0;\n\tif (!mainTabCount) mainTabCount = countMainTabs(tabList);\n\treturn tabList.length - mainTabCount - 1; // subtract 1 for \"root\" which is in the tablist, but should be ignored because it is virtual\n}\n\nexport function getSelectedTab(tabsData) {\n\tconst { tabList, selectedTabId } = tabsData;\n\treturn getTabById(tabList, selectedTabId);\n}\n\nexport function clearUpdateFlag(tab) {\n\t// No update flag to clear\n\tif (!tab.hasUpdate) return tab;\n\n\t// If no children, clear flag\n\tconst { tabList = [] } = tab;\n\tif (tabList.length === 0) return { ...tab, hasUpdate: false };\n\n\t// If a child tab has an update, don't clear flag\n\tif (tabList.some((t) => t.hasUpdate)) return tab;\n\n\t// Clear flag\n\treturn { ...tab, hasUpdate: false };\n}\n\nexport function updateSelectedTabs(tabsData) {\n\tif (!tabsData) return; // pre-condition, no work to do if tabsData is null\n\tconst clearupdateFlagReducer = (t) => clearUpdateFlag(t);\n\n\treturn applyToSelectedTabs(tabsData, clearupdateFlagReducer);\n}\n\n/**\n * Helper function applies a function to every selected tab of the tree, mutating the parent as necessary\n * @param tab\n * @param fn\n * @returns {*}\n */\nexport function applyToSelectedTabs(tabsData, tabReducer) {\n\tlet newTabsData = { ...tabsData };\n\tconst root = tabsData.root;\n\tlet { selectedTabId } = root;\n\n\twhile (selectedTabId != '-1') {\n\t\tconst currNode = tabsData[selectedTabId];\n\t\tnewTabsData[selectedTabId] = tabReducer(newTabsData[selectedTabId]);\n\t\tselectedTabId = currNode.selectedTabId;\n\t}\n\n\treturn newTabsData;\n}\n\nexport function getNavItemSelectedPayload(tabsData) {\n\tif (!tabsData) return;\n\tlet navItemSelectedPayload;\n\tconst root = tabsData.root;\n\tlet { selectedTabId } = root;\n\n\tlet i = 0;\n\twhile (selectedTabId != '-1') {\n\t\tconst currNode = tabsData[selectedTabId];\n\t\tconst { selectedContent, isDetailsTab } = currNode;\n\n\t\t// adding title field in navItemSelectedPayload for dynamicly changing the browser tab title\n\t\tlet { title } = currNode;\n\t\tif (isDetailsTab) {\n\t\t\ttitle = tabsData[currNode.parentTabId].title;\n\t\t}\n\n\t\tif (!navItemSelectedPayload) {\n\t\t\tif (isDetailsTab !== true)\n\t\t\t\tnavItemSelectedPayload = { ...selectedContent, title };\n\t\t} else {\n\t\t\tif (isDetailsTab === true) {\n\t\t\t\tnavItemSelectedPayload = { ...selectedContent, title };\n\t\t\t} else {\n\t\t\t\tnavItemSelectedPayload = {\n\t\t\t\t\t...selectedContent,\n\t\t\t\t\ttitle,\n\t\t\t\t\tparent: { ...navItemSelectedPayload }\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\tselectedTabId = currNode.selectedTabId;\n\t\ti++;\n\t}\n\n\tif (i == 1 && navItemSelectedPayload.drillDowns) {\n\t\tlet drillDownPayload;\n\t\tlet { drillDowns: drillDownsArr, ...rest } = navItemSelectedPayload;\n\t\tfor (let j = drillDownsArr.length - 1; j >= 0; j--) {\n\t\t\tdrillDownPayload = {\n\t\t\t\t...drillDownsArr[j],\n\t\t\t\t...(drillDownPayload && { parent: { ...drillDownPayload } })\n\t\t\t};\n\t\t}\n\t\tif (drillDownPayload) {\n\t\t\tnavItemSelectedPayload = { ...drillDownPayload, parent: { ...rest } };\n\t\t}\n\t}\n\tconst {\n\t\tisMultiInstFieldValUpdated,\n\t\t..._navItemSelectedPayload\n\t} = navItemSelectedPayload;\n\tif (isMultiInstFieldValUpdated) {\n\t\tnavItemSelectedPayload = { ..._navItemSelectedPayload, redirect: true };\n\t}\n\treturn navItemSelectedPayload;\n}\n\nexport function getDescendantTabIds(tabsData, tabId) {\n\tif (!tabsData || !tabsData[tabId]) return [];\n\tconst descendants = [];\n\tlet i = 0;\n\twhile ((descendants.length == 0 && i == 0) || i < descendants.length) {\n\t\tconst id = i == 0 ? tabId : descendants[i];\n\t\tconst tab = tabsData[id];\n\t\tdescendants.push(...tab.tabList);\n\t\ti++;\n\t}\n\treturn descendants;\n}\n\nexport function getAllLeafNodes(tabsData) {\n\treturn Object.values(tabsData).filter((tab) => tab.tabList.length === 0);\n}\n\nexport function getActiveLeafTabId(tabsData) {\n\tlet currNode = tabsData.root;\n\tlet { selectedTabId } = currNode;\n\twhile (selectedTabId != '-1') {\n\t\tcurrNode = tabsData[selectedTabId];\n\t\tselectedTabId = currNode.selectedTabId;\n\t}\n\treturn currNode && currNode.tab_id !== 'root' ? currNode.tab_id : null;\n}\n\nexport function clearAllFlags(tabsData) {\n\tlet newTabsData = {};\n\tconst flagsArr = ['isDirty', 'hasError', 'hasUpdate', 'hasWarning'];\n\tfor (let [tabId, tab] of Object.entries(tabsData)) {\n\t\tnewTabsData[tabId] = omit(tab, flagsArr);\n\t}\n\treturn newTabsData;\n}\n\nexport function getActiveSessionTab(tabsData) {\n\tif (!tabsData) return null;\n\tlet { selectedTabId } = tabsData.root;\n\tif (selectedTabId) return tabsData[selectedTabId];\n\treturn null;\n}\n\nfunction _buildContentKeySet(tabsData) {\n\tconst contentKeySet = new Set();\n\tObject.values(tabsData).forEach((tab) => {\n\t\tconst { contentKey, selectedContent } = tab;\n\t\tif (tab.isPrimaryTab !== true) contentKeySet.add(contentKey);\n\n\t\t//check drilldowns\n\t\tconst { drillDowns } = selectedContent || {};\n\t\tif (drillDowns && Array.isArray(drillDowns)) {\n\t\t\tdrillDowns.forEach((drilldown) => {\n\t\t\t\tconst { route, fields } = drilldown;\n\t\t\t\tconst key = generateContentKey(fields, route);\n\t\t\t\tcontentKeySet.add(key);\n\t\t\t});\n\t\t}\n\t});\n\treturn contentKeySet;\n}\n\nfunction findRemovedTabIds(oldTabIds = [], newTabIds = []) {\n\tconst set = new Set(),\n\t\t_results = [];\n\tif (oldTabIds.length - newTabIds.length < 0) return _results;\n\tnewTabIds.forEach((index) => set.add(index));\n\toldTabIds.forEach((index) => {\n\t\tif (!set.has(index)) _results.unshift(index);\n\t});\n\treturn _results;\n}\n\nconst findParentKey = (tabs = [], tabId) => {\n\tif (!tabId || tabId.length === 0) return;\n\tconst currentTab = tabs[tabId];\n\twhile (currentTab.parentTabId) {\n\t\tif (currentTab.parentTabId === 'root') return currentTab.contentKey;\n\t}\n};\n\nconst annotateRemovedSubTab = (tab = {}) => {\n\tconst _tab = { ...tab };\n\tconst isPrimaryTab = tab.isPrimaryTab;\n\tconst isMainTab = tab.parentTabId === 'root';\n\tconst withNoSubTabs = tab.tabList && tab.tabList.length === 0;\n\tconst isCloseable = tab.canClose;\n\tconst primaryOrMainTab = isPrimaryTab || isMainTab;\n\tconst isLeafSubTab = !primaryOrMainTab && withNoSubTabs && isCloseable;\n\tif (isLeafSubTab)\n\t\treturn {\n\t\t\t..._tab,\n\t\t\tisLeafTab: isLeafSubTab,\n\t\t\tannotation: { operation: 'closed' }\n\t\t};\n\treturn _tab;\n};\n\nconst _buildRemovedTabs = (tabsData, removedTabIds) => {\n\treturn removedTabIds\n\t\t.map((tabId) => ({ ...tabsData[tabId] }))\n\t\t.map((t) => annotateRemovedSubTab(t))\n\t\t.map((t) => {\n\t\t\tif (t.isLeafTab) {\n\t\t\t\tconst parentKey = findParentKey(tabsData, t.parentTabId);\n\t\t\t\tif (parentKey)\n\t\t\t\t\treturn { ...t, annotation: { ...t.annotation, parentKey } };\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\treturn t;\n\t\t})\n\t\t.map((t) => ({ [t.contentKey]: { ...t } }));\n};\n\nexport function getRemovedTabs(tabsData, newTabsData) {\n\tlet _tabsData = tabsData || {};\n\tlet _newTabsData = newTabsData || {};\n\tif (Object.keys(_tabsData).length < Object.keys(_newTabsData).length) {\n\t\treturn;\n\t}\n\tconst removedTabIds = findRemovedTabIds(\n\t\tObject.keys(tabsData),\n\t\tObject.keys(newTabsData)\n\t);\n\n\t//check if any existing tab is pointing to same contentKey/screen\n\tconst oldContentKeySet = _buildContentKeySet(_tabsData);\n\tconst newContentKeySet = _buildContentKeySet(_newTabsData);\n\tconst removedContentKeys = new Set();\n\tfor (let contentKey of oldContentKeySet) {\n\t\tif (!newContentKeySet.has(contentKey)) {\n\t\t\tremovedContentKeys.add(contentKey);\n\t\t}\n\t}\n\n\tconst removedTabs = _buildRemovedTabs(tabsData, removedTabIds);\n\n\treturn {\n\t\tremovedContentKeys: [...removedContentKeys],\n\t\tremovedTabs: [...removedTabs]\n\t};\n}\n\nexport function getPrimaryTab(tabsData) {\n\t// eslint-disable-next-line no-unused-vars\n\tfor (let [tabId, tab] of Object.entries(tabsData)) {\n\t\tif (tab && tab.isPrimaryTab === true && tab.parentTabId === 'root')\n\t\t\treturn tab;\n\t}\n}\n\nexport function getViewPortInfo(tabsData) {\n\tconst {\n\t\troot: { selectedTabId }\n\t} = tabsData;\n\tconst primaryTab = getPrimaryTab(tabsData);\n\tif (selectedTabId && primaryTab && selectedTabId === primaryTab.tab_id) {\n\t\treturn primaryTab.viewportInfo;\n\t}\n}\n\nexport function filterSelectedContent(selectedContent) {\n\tif (!selectedContent) return;\n\tconst {\n\t\t// eslint-disable-next-line no-unused-vars\n\t\t__uxfCompositionElId,\n\t\t// eslint-disable-next-line no-unused-vars\n\t\t_timestamp,\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tupdateUrl,\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tredirect,\n\t\t...rest\n\t} = selectedContent;\n\treturn rest;\n}\n\nexport function locateTabs(tabsData, selectedContent) {\n\tlet tabNode = tabsData.root;\n\tconst selectedContentStack = [];\n\tlet _selectedContent = { ...selectedContent };\n\twhile (_selectedContent) {\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tconst { parent, ...content } = _selectedContent;\n\t\tselectedContentStack.push(content);\n\t\t_selectedContent = _selectedContent.parent;\n\t}\n\tconst tabs = [];\n\twhile (selectedContentStack.length > 0 && tabNode) {\n\t\tconst content = selectedContentStack.pop();\n\t\tconst contentKey = getContentKey(content);\n\t\tconst { childContentKeys } = tabNode;\n\t\tif (childContentKeys && childContentKeys[contentKey]) {\n\t\t\tconst tabId = childContentKeys[contentKey];\n\t\t\tconst tab = {\n\t\t\t\t...tabsData[tabId],\n\t\t\t\tselectedContent: {\n\t\t\t\t\t...tabsData[tabId].selectedContent,\n\t\t\t\t\t...content\n\t\t\t\t}\n\t\t\t};\n\t\t\ttabs.push(tab);\n\t\t} else {\n\t\t\tselectedContentStack.push(content);\n\t\t\tbreak;\n\t\t}\n\t\ttabNode = tabsData[childContentKeys[contentKey]];\n\t}\n\n\treturn { selectedContentStack, tabs };\n}\n\nexport function primaryTabContentUpdate(payload, tabsData) {\n\tconst { primaryTabPropData } = payload;\n\tconst primaryTab = getPrimaryTab(tabsData);\n\tconst { contentKey, selectedContent } = primaryTab;\n\tconst { viewportInfo, routeInfo, title, icon, id } = primaryTabPropData;\n\n\tif (!isEmpty(viewportInfo)) {\n\t\t// viewportInfo\n\t\treturn {\n\t\t\tselectedTabId: get(tabsData, 'root.tabList')[0],\n\t\t\tcontentKey: get(routeInfo, 'route'),\n\t\t\tselectedContent: {\n\t\t\t\tid,\n\t\t\t\ticon,\n\t\t\t\tlabel: title,\n\t\t\t\troute: get(routeInfo, 'route'),\n\t\t\t\tfields: get(routeInfo, 'fields', {}),\n\t\t\t\tparams: get(routeInfo, 'params', {})\n\t\t\t}\n\t\t};\n\t} else {\n\t\t// no viewports involved\n\t\treturn {\n\t\t\trootSelectedTabId: get(tabsData, 'root.tabList')[0],\n\t\t\tcontentKey,\n\t\t\tselectedContent\n\t\t};\n\t}\n}\n\nexport const tabResolutionStrategyMap = {\n\tACTIVE_OR_FIRST_SESSION_TAB: (tabsData) => {\n\t\tlet _tab = tabsData[tabsData.root.selectedTabId];\n\t\tif (!_tab) return;\n\t\tif (_tab.isPrimaryTab) {\n\t\t\t_tab = tabsData.root.tabList\n\t\t\t\t.map((t) => tabsData[t])\n\t\t\t\t.find((t) => t.isPrimaryTab !== true);\n\t\t}\n\t\treturn _tab ? _tab.tab_id : undefined;\n\t}\n};\n","import { getSessionStorageKey } from '../utils/browser';\n\nlet nextTabId = 0; // Math.round(Math.random() * 1000);\n\nexport function getNextTabId() {\n\treturn 'tab_' + nextTabId++;\n}\n\nexport function getStoredTabs(userId) {\n\t//let tabsData = getInitialTabsData();\n\tlet tabsData;\n\t// try-catch for session storage support.\n\ttry {\n\t\tconst serializedTabsData = window.sessionStorage.getItem(\n\t\t\tgetSessionStorageKey()\n\t\t);\n\t\tif (serializedTabsData) {\n\t\t\tconst storedtabsData = JSON.parse(serializedTabsData);\n\n\t\t\tif (\n\t\t\t\tstoredtabsData.userId === userId &&\n\t\t\t\tstoredtabsData.root &&\n\t\t\t\tArray.isArray(storedtabsData.root.tabList) &&\n\t\t\t\tstoredtabsData.root.tabList.length\n\t\t\t) {\n\t\t\t\t({ userId, nextTabId, ...tabsData } = storedtabsData);\n\t\t\t\t//move suspend logic here\n\t\t\t}\n\t\t\t//window.sessionStorage.removeItem(getSessionStorageKey());\n\t\t}\n\t} catch (e) {\n\t\t//Error reading Stored Tabs\n\t}\n\treturn tabsData;\n}\n\nexport function saveTabs(tabsData, userId) {\n\t// try-catch for session storage support. Just do nothing if unavailable.\n\ttry {\n\t\tconst serializedTabsData = JSON.stringify({\n\t\t\tnextTabId,\n\t\t\tuserId,\n\t\t\t...tabsData\n\t\t});\n\t\twindow.sessionStorage.setItem(getSessionStorageKey(), serializedTabsData);\n\t} catch (e) {\n\t\treturn;\n\t}\n}\n\n//suspend tabs feature\n\nexport function clearTabs() {\n\ttry {\n\t\twindow.sessionStorage.removeItem(getSessionStorageKey());\n\t} catch (e) {\n\t\t// Session storage not supported.\n\t}\n}\n","module.exports = __TECTONIC__$servicenow_now_heading;","module.exports = __TECTONIC__$servicenow_now_card;","module.exports = __TECTONIC__$servicenow_library_enhanced_utils_19_4_4;","import './sn-canvas-badge-connected';\n","import get from 'lodash/get';\n\n/**\n * Looks for header logo by position identifier within sys_ux_theme assets.\n * If none specified, use default_src.\n * Currently this is used by canvas-header and footer, default_src represents\n * the logoSource propertyfor each of those components.\n *\n * @param {string} default_src\n * @param {string} position\n * @returns {string}\n */\nexport const getLogoSource = (default_scr = '', position = '') => {\n\tconst image_obj = get(\n\t\twindow,\n\t\t'ux_globals.theme.assets.images.' + position,\n\t\t{}\n\t);\n\tconst image_uri = get(image_obj, 'uri', null);\n\n\treturn image_uri || default_scr;\n};\n","module.exports = __TECTONIC__lodash_4_17_15[\"debounce\"];","module.exports = __TECTONIC__$servicenow_now_link_set;","import './sn-canvas-mega-menu';\n","import { navItemSchema } from '../../sn-nav-item/schemas';\n\nconst menuItemGroupSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tgroup: { type: 'array', items: { $ref: '#definitions/menuItem' } }\n\t}\n};\n\nexport const menuItemSchema = {\n\tdefinitions: {\n\t\tmenuItem: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tvalue: navItemSchema,\n\t\t\t\tchildren: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\taction: navItemSchema,\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\tanyOf: [\n\t\t\t\t\t\t\t\t\t{ $ref: '#definitions/menuItem' },\n\t\t\t\t\t\t\t\t\t{ menuItemGroupSchema }\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n","export const LEVEL_ONE = 1;\nexport const LEVEL_TWO = 2;\nexport const LEVEL_THREE = 3;\nexport const MAX_DEPTH = LEVEL_THREE;\n","module.exports = __TECTONIC__lodash_4_17_15[\"isNumber\"];","import {\n\tforEach as _forEach,\n\tfind as _find,\n\tisEmpty as _isEmpty,\n\tfilter as _filter,\n\tget as _get,\n\tfindIndex as _findIndex\n} from 'lodash';\n\nimport {\n\tgetActiveToolbarButtonIndex,\n\tgetButtonElementRef,\n\tgetToolbarButtonRefByIndex,\n\tgetToolbarButtons,\n\tgetToolbarButtonFromEventPath\n} from './elements';\n\n/**\n * setButtonSelectionByRoute\n * @param buttons\n * @param route\n */\nconst setButtonSelectionByRoute = (buttons, route) => {\n\tconst button = _find(buttons, (b) => _get(b, 'routeInfo.route') === route);\n\tif (!_isEmpty(button)) {\n\t\tbutton.isSelected = true;\n\t}\n\treturn button;\n};\n\n/**\n * updateToolbarButtonsWithActiveBtn\n * @param toolbarButtons\n * @param button\n * @param updateProperties\n */\nconst updateToolbarButtonsWithActiveBtn = (\n\ttoolbarButtons,\n\tbutton,\n\tupdateProperties\n) => {\n\t// button found and set it's isSelected flag to true,\n\t// update teh activeButton state.\n\tif (!_isEmpty(button)) {\n\t\t// find button, replace and update properties\n\n\t\tconst index = _findIndex(toolbarButtons, (b) => b.id === button.id);\n\t\ttoolbarButtons.splice(index, 1, {\n\t\t\t...button\n\t\t});\n\t\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n\t} else {\n\t\tbutton = toolbarButtons[0];\n\t\tif (!_isEmpty(button)) {\n\t\t\tbutton.isSelected = true;\n\t\t}\n\t\ttoolbarButtons.splice(0, 1, {\n\t\t\t...button\n\t\t});\n\t\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n\n\t\t// set to teh session storage\n\t\twindow.sessionStorage.setItem(\n\t\t\tgetSessionStorageKey(),\n\t\t\tJSON.stringify(button)\n\t\t);\n\t}\n};\n\n/**\n * preserveViewportOpened: In order to preserve the collapsed or expand, we need\n * to get the opened value from the last active viewport button.\n * @param viewportInfo\n * @returns {boolean}\n */\nconst preserveViewportOpened = (viewportInfo) => {\n\tconst route = _get(viewportInfo, 'route');\n\tconst lastActiveButton = getLastActiveButton();\n\tlet opened = false;\n\tif (route === _get(lastActiveButton, 'viewportInfo.route')) {\n\t\topened = _get(lastActiveButton, 'viewportInfo.fields.opened');\n\t}\n\treturn opened;\n};\n\n/**\n * loadViewport\n * @param activeRecords\n * @param toolbarButtons\n * @param button\n * @param dispatch\n * @param operation\n */\nexport const loadViewport = (\n\tactiveRecords,\n\ttoolbarButtons,\n\tbutton,\n\tdispatch,\n\toperation = 'TOGGLE_VIEWPORT_OPENED'\n) => {\n\tconst { id, label, viewportInfo, routeInfo, group } = button;\n\tconst isViewportWithRoute = !_isEmpty(routeInfo) && !_isEmpty(viewportInfo);\n\tconst {\n\t\tfields: { opened }\n\t} = viewportInfo;\n\n\tif (operation === 'PRESERVE_VIEWPORT_OPENED' && isViewportWithRoute) {\n\t\t// only applicable for viewport with routes information where onload of records,\n\t\t// we need to preserve the viewport opened value if the button with viewport routes\n\t\t// is already selected\n\t\tdispatch('VIEWPORT_SELECTED', {\n\t\t\tid,\n\t\t\tlabel,\n\t\t\tgroup,\n\t\t\trouteInfo,\n\t\t\tviewportInfo: {\n\t\t\t\t...viewportInfo,\n\t\t\t\tfields: { opened: preserveViewportOpened(viewportInfo) }\n\t\t\t}\n\t\t});\n\t} else if (operation === 'TOGGLE_VIEWPORT_OPENED') {\n\t\t// when toolbar button with viewport is clicked, toggle the viewport opened value\n\t\tdispatch('VIEWPORT_SELECTED', {\n\t\t\tid,\n\t\t\tlabel,\n\t\t\tgroup,\n\t\t\trouteInfo,\n\t\t\tviewportInfo: {\n\t\t\t\t...viewportInfo,\n\t\t\t\tfields: { opened: !opened }\n\t\t\t}\n\t\t});\n\t}\n};\n\n/**\n * setToolbarButtonSelected\n * @param host\n * @param buttonClickedRef\n * @param selected\n */\nexport const setToolbarButtonSelected = (host, buttonClickedRef, selected) => {\n\tconst toolbarButtons = getToolbarButtons(host);\n\t_forEach(toolbarButtons, (toolbarButton) => {\n\t\tif (buttonClickedRef === getButtonElementRef(toolbarButton)) {\n\t\t\ttoolbarButton.setAttribute('is-selected', selected);\n\t\t} else {\n\t\t\ttoolbarButton.setAttribute('is-selected', false);\n\t\t}\n\t});\n};\n\n/**\n * getRouteFromButtonData\n * @param toolbarButtons\n * @param label\n * @returns {*}\n */\nexport const getRouteFromButtonData = (toolbarButtons, label) => {\n\tconst { routeInfo } = _find(\n\t\ttoolbarButtons,\n\t\t(button) => button.label === label\n\t);\n\treturn routeInfo;\n};\n\n/**\n * handleKeyPressed\n * @param host\n * @param event\n * @param dispatch\n */\nexport const handleKeyPressed = (host, event, dispatch) => {\n\tevent.preventDefault(); // prevent content scroll\n\tconst toolbarButtons = getToolbarButtons(host);\n\tconst toolbarButtonFirstIndex = 0;\n\tconst toolbarButtonsLastIndex = toolbarButtons.length - 1;\n\tconst currentToolbarButtonIndex = getActiveToolbarButtonIndex(host);\n\tlet nextToolbarButton = null;\n\tswitch (event.keyCode) {\n\t\tcase 38: {\n\t\t\t// ArrowUp\n\t\t\tif (currentToolbarButtonIndex === toolbarButtonFirstIndex) {\n\t\t\t\tnextToolbarButton = getToolbarButtonRefByIndex(\n\t\t\t\t\thost,\n\t\t\t\t\ttoolbarButtonsLastIndex\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnextToolbarButton = getToolbarButtonRefByIndex(\n\t\t\t\t\thost,\n\t\t\t\t\tcurrentToolbarButtonIndex - 1\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (nextToolbarButton) {\n\t\t\t\tsetToolbarButtonSelected(\n\t\t\t\t\thost,\n\t\t\t\t\tgetButtonElementRef(nextToolbarButton),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tgetButtonElementRef(nextToolbarButton).focus();\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 40: {\n\t\t\t// ArrowDown\n\t\t\tif (currentToolbarButtonIndex < toolbarButtonsLastIndex) {\n\t\t\t\tnextToolbarButton = getToolbarButtonRefByIndex(\n\t\t\t\t\thost,\n\t\t\t\t\tcurrentToolbarButtonIndex + 1\n\t\t\t\t);\n\t\t\t} else if (currentToolbarButtonIndex === toolbarButtonsLastIndex) {\n\t\t\t\tnextToolbarButton = getToolbarButtonRefByIndex(\n\t\t\t\t\thost,\n\t\t\t\t\ttoolbarButtonFirstIndex\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (nextToolbarButton) {\n\t\t\t\tsetToolbarButtonSelected(\n\t\t\t\t\thost,\n\t\t\t\t\tgetButtonElementRef(nextToolbarButton),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tgetButtonElementRef(nextToolbarButton).focus();\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 32:\n\t\t/* Space */ case 13: /* Enter */ {\n\t\t\tconst { routeInfo } = getToolbarButtonFromEventPath(event.path);\n\t\t\tdispatch('NAV_ITEM_SELECTED', routeInfo);\n\t\t\tbreak;\n\t\t}\n\t\tdefault: {\n\t\t\t// do not block other keys\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\n/**\n * resetViewportSelection\n * @param toolbarButtons\n * @param dispatch\n * @param updateProperties\n */\nexport const resetViewportSelection = (\n\ttoolbarButtons,\n\tbutton,\n\tdispatch,\n\tupdateProperties\n) => {\n\t// collect all viewport toolbar buttons from top group\n\tconst buttons = _filter(\n\t\ttoolbarButtons,\n\t\t(b) => b.group === 'top' && !_isEmpty(b.viewportInfo) && b.id !== button.id\n\t);\n\n\t// reset all of the viewport visibility elements\n\tbuttons.map((b) => {\n\t\tconst { id } = b;\n\t\tconst {\n\t\t\tfields: { opened }\n\t\t} = b.viewportInfo;\n\t\tconst index = _findIndex(toolbarButtons, { id });\n\n\t\tif (opened && index > -1) {\n\t\t\t// reset the viewportInfo.fields.opened\n\t\t\ttoolbarButtons.splice(index, 1, {\n\t\t\t\t...b,\n\t\t\t\tviewportInfo: {\n\t\t\t\t\t...b.viewportInfo,\n\t\t\t\t\tfields: { opened: false }\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n\n\t\t\tdispatch('UXF_VIEWPORT#RENDER_BY_ID', {\n\t\t\t\t...b.viewportInfo,\n\t\t\t\tfields: { opened: !opened },\n\t\t\t\treinitialize: true\n\t\t\t});\n\t\t}\n\t});\n};\n\n/**\n * setActiveButton\n * @param activeButton\n * @param toolbarButtons\n * @param activeRoute\n * @param updateProperties\n * @param updateState\n */\nexport const setActiveButton = (\n\tactiveButton,\n\ttoolbarButtons,\n\tactiveRoute,\n\tactiveRecords,\n\tdispatch,\n\tupdateProperties,\n\tupdateState\n) => {\n\tif (_isEmpty(toolbarButtons)) return;\n\n\tconst serializedLastActiveButton = window.sessionStorage.getItem(\n\t\tgetSessionStorageKey()\n\t);\n\tlet button, route;\n\n\t// check activeRoute match to button definition\n\tif (!_isEmpty(activeRoute)) {\n\t\tconst activeRouteHasRoute =\n\t\t\t!_isEmpty(_get(activeRoute, 'parent.route')) ||\n\t\t\t!_isEmpty(_get(activeRoute, 'route'));\n\n\t\tif (activeRouteHasRoute) {\n\t\t\troute = _get(activeRoute, 'parent.route') || _get(activeRoute, 'route');\n\t\t\tbutton = setButtonSelectionByRoute(toolbarButtons, route);\n\t\t}\n\t}\n\n\t// activeRoute doesn't match to button definition, look for the\n\t// last active button from the session storage\n\tif (_isEmpty(button) && !_isEmpty(serializedLastActiveButton)) {\n\t\tconst lastActiveButton = JSON.parse(serializedLastActiveButton);\n\t\tconst lastActiveButtonRouteInfo = !_isEmpty(\n\t\t\t_get(lastActiveButton, 'routeInfo')\n\t\t);\n\t\tif (lastActiveButtonRouteInfo) {\n\t\t\troute = _get(lastActiveButton, 'routeInfo.route');\n\t\t\tbutton = setButtonSelectionByRoute(toolbarButtons, route);\n\t\t}\n\t}\n\n\t// button found but not in session storage or different than the one in session storage\n\tif (!_isEmpty(button)) {\n\t\tconst lastActiveButton = getLastActiveButton();\n\t\tif (_isEmpty(lastActiveButton) || lastActiveButton.id !== button.id) {\n\t\t\tconst serializedActiveButton = JSON.stringify(button);\n\t\t\twindow.sessionStorage.setItem(\n\t\t\t\tgetSessionStorageKey(),\n\t\t\t\tserializedActiveButton\n\t\t\t);\n\t\t}\n\t}\n\n\t// resolved the active button to toolbar button definitions, with\n\t// isSelected flag to true\n\tupdateToolbarButtonsWithActiveBtn(toolbarButtons, button, updateProperties);\n\n\t// updating teh activeButton state\n\tupdateState({ activeButton: button });\n\n\t// load the viewport for the button if exists\n\tloadViewport(\n\t\tactiveRecords,\n\t\ttoolbarButtons,\n\t\tbutton,\n\t\tdispatch,\n\t\t'PRESERVE_VIEWPORT_OPENED'\n\t);\n};\n\nconst getLastActiveButton = () => {\n\tconst serializedLastActiveButton = window.sessionStorage.getItem(\n\t\tgetSessionStorageKey()\n\t);\n\treturn !_isEmpty(serializedLastActiveButton)\n\t\t? JSON.parse(serializedLastActiveButton)\n\t\t: null;\n};\n\n/**\n * _getToolbarButtonByRoute\n * @param routeInfo\n * @param toolbarButtons\n * @returns {null|*}\n * @private\n */\nconst _getToolbarButtonByRoute = (routeInfo, toolbarButtons) => {\n\tif (_isEmpty(toolbarButtons) || _isEmpty(routeInfo)) {\n\t\treturn null;\n\t}\n\treturn _find(\n\t\ttoolbarButtons,\n\t\t(b) => _get(b, 'routeInfo.route') === routeInfo.route\n\t);\n};\n\n/**\n * isRoute\n * @param activeRoute\n * @param toolbarButtons\n * @returns {boolean}\n */\nexport const isRoute = (activeRoute, toolbarButtons) => {\n\tconst { routeInfo, viewportInfo } = _getToolbarButtonByRoute(\n\t\tactiveRoute,\n\t\ttoolbarButtons\n\t);\n\treturn !_isEmpty(routeInfo) && _isEmpty(viewportInfo);\n};\n\n/**\n * isViewport\n * @param activeRoute\n * @param toolbarButtons\n * @returns {boolean}\n */\nexport const isViewport = (activeRoute, toolbarButtons) => {\n\tconst { routeInfo, viewportInfo } = _getToolbarButtonByRoute(\n\t\tactiveRoute,\n\t\ttoolbarButtons\n\t);\n\treturn _isEmpty(routeInfo) && !_isEmpty(viewportInfo);\n};\n\n/**\n * isViewportWithRoute\n * @param activeRoute\n * @param toolbarButtons\n * @returns {boolean}\n */\nexport const isViewportWithRoute = (activeRoute, toolbarButtons) => {\n\tconst { routeInfo, viewportInfo } = _getToolbarButtonByRoute(\n\t\tactiveRoute,\n\t\ttoolbarButtons\n\t);\n\treturn !_isEmpty(routeInfo) && !_isEmpty(viewportInfo);\n};\n\n/**\n * resetSizeAndViewportInfo\n * @param activeRoute\n * @param toolbarButtons\n */\nexport const resetSizeAndViewportInfo = (\n\tactiveRoute,\n\ttoolbarButtons,\n\tdispatch,\n\tupdateProperties\n) => {\n\tconst button = _getToolbarButtonByRoute(activeRoute, toolbarButtons);\n\n\tif (!_isEmpty(button) && isRoute(activeRoute, toolbarButtons)) {\n\t\t// reset viewport selection\n\t\tresetViewportSelection(toolbarButtons, button, dispatch, updateProperties);\n\n\t\t// update the primary tab\n\t\tdispatch('PRIMARY_TAB_UPDATED', {\n\t\t\tbutton: { ...button, size: null, viewportInfo: null }\n\t\t});\n\t}\n};\n\n/**\n * isViewportEmptyPageLoaded\n * @param lastActiveButton\n * @parm viewportInfo\n * @returns {boolean}\n */\nexport const isViewportEmptyPageLoaded = (lastActiveButton, viewportInfo) => {\n\tlet viewportEmptyPageLoaded = false;\n\tif (!_isEmpty(lastActiveButton) && !_isEmpty(viewportInfo)) {\n\t\tconst currentViewportRoute = _get(viewportInfo, 'route');\n\t\tviewportEmptyPageLoaded =\n\t\t\tcurrentViewportRoute.indexOf(\n\t\t\t\t_get(lastActiveButton, 'routeInfo.route')\n\t\t\t) !== -1;\n\t}\n\treturn viewportEmptyPageLoaded;\n};\n\n/**\n * getSessionStorageKey\n * @returns {string}\n */\nexport const getSessionStorageKey = () => 'canvasToolbar';\n","/*  MODULE NOTES\n *  This code was originally part of Workspace, and has been adapted to sn-canvas-chrome.\n *  All functionality related to closing tabs is in this module.\n *  Tab closing is opinionated, and follows these rules:\n *  1. Upon close, all child tabs are closed, and state is propagated up the ancenstor chain\n *  2. The user is asked to verify the close operation if this tab or any of its children are dirty.\n *     a) The user is prompted individually for each dirty child.\n *     b) The tabs are closed one at a time, independently.\n *     c) The first \"cancel\" on a dirty tab cancels all remaining close operations.\n *  3. If the tab being closed is the currently selected tab in its sub-tree, then a sibling tab is assigned\n *     as the selected tab according to this simple algorithm:\n *       a. select the next tab, if there is one\n *       b. else select the previous tab\n *  4. If the last child tab within a parent is closed, and the parent's canClose is true, then close the parent as well.\n */\n\n/** given a tab_id, return the tab object from the tabsData structure */\nfunction getTab(tabsData, tab_id) {\n\tconst tabList = Object.values(tabsData);\n\treturn tabList.find((tab) => tab.tab_id === tab_id);\n}\n\n/** return true if parentTab should be closed based on its current state */\nfunction shouldCloseParent(parentTab) {\n\treturn parentTab.tabList.length === 0 && parentTab.canClose;\n}\n\n/** recompute the dirty state of a parent tab assumint that tabToClose has been deleted */\nfunction isParentDirtyAfterChildClose(tabsData, tabToClose) {\n\tlet parentTab = getTab(tabsData, tabToClose.parentTabId);\n\tif (parentTab) {\n\t\tlet i;\n\t\tfor (i = 0; i < parentTab.tabList.length; i++) {\n\t\t\tconst siblingTab = getTab(tabsData, parentTab.tabList[i]);\n\t\t\tif (siblingTab.tab_id != tabToClose.tab_id) {\n\t\t\t\tif (siblingTab && siblingTab.isDirty) return true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\n/** recompute the dirty state of a parent tab assumint that tabToClose has been deleted */\nfunction parentHasWarningAfterChildClose(tabsData, tabToClose) {\n\tlet parentTab = getTab(tabsData, tabToClose.parentTabId);\n\tif (parentTab) {\n\t\tlet i;\n\t\tfor (i = 0; i < parentTab.tabList.length; i++) {\n\t\t\tconst siblingTab = getTab(tabsData, parentTab.tabList[i]);\n\t\t\tif (siblingTab.tab_id != tabToClose.tab_id) {\n\t\t\t\tif (siblingTab && siblingTab.hasWarning) return true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\n/** update the grandParent of a tab that is being closed\n *  every ancestor of the child tab being closed potentially needs to be updated\n *  1. if the child tab was the selected tab, then the new selectedTabId needs to popagate up\n *  2. the dirty state of each ancestor needs to be recomputed\n */\nfunction updateParentTabOnChildUpdate(\n\ttabsData,\n\tchildTab,\n\tselectedTabId,\n\tisDirty,\n\thasWarning\n) {\n\tif (childTab && childTab.parentTabId) {\n\t\tlet parentTab = getTab(tabsData, childTab.parentTabId);\n\t\tif (parentTab) {\n\t\t\tparentTab.isDirty =\n\t\t\t\tisDirty || isParentDirtyAfterChildClose(tabsData, childTab);\n\t\t\tparentTab.hasWarning =\n\t\t\t\thasWarning || parentHasWarningAfterChildClose(tabsData, childTab);\n\t\t\tupdateParentTabOnChildUpdate(\n\t\t\t\ttabsData,\n\t\t\t\tparentTab,\n\t\t\t\tparentTab.tab_id,\n\t\t\t\tparentTab.isDirty,\n\t\t\t\tparentTab.hasWarning\n\t\t\t);\n\t\t}\n\t}\n}\n\n/* update the parent of a tab that is being closed\n *   1. update the parent's recomputed state, bubbling this change up to ancestors\n *   2. remove childTabToClose from parentTab's tablist and childContentKeys\n *   3. if the parent tab is now empty and is allowed to be closed, then close it as well\n */\nfunction updateParentTabOnChildClose(tabsData, parentTab, childTabToClose) {\n\tlet index = parentTab.tabList.findIndex((t) => t === childTabToClose.tab_id);\n\tif (index === -1) return; // illegal call, childTabToClose is not a child of parentTab\n\n\tparentTab.isDirty = isParentDirtyAfterChildClose(tabsData, childTabToClose);\n\tparentTab.hasWarning = parentHasWarningAfterChildClose(\n\t\ttabsData,\n\t\tchildTabToClose\n\t);\n\tlet newSelectedTabId = '-1';\n\tif (parentTab.selectedTabId === childTabToClose.tab_id) {\n\t\t// if the childTabToClose was selected, then pick a new selection\n\t\tif (parentTab.tabList.length > index + 1) {\n\t\t\tnewSelectedTabId = parentTab.tabList[index + 1];\n\t\t} else if (index > 0) {\n\t\t\tnewSelectedTabId = parentTab.tabList[index - 1];\n\t\t}\n\t\tparentTab.selectedTabId = newSelectedTabId;\n\t}\n\t// pass the new state up the ancestor chain\n\tupdateParentTabOnChildUpdate(\n\t\ttabsData,\n\t\tparentTab,\n\t\tnewSelectedTabId,\n\t\tparentTab.isDirty,\n\t\tparentTab.hasWarning\n\t);\n\n\t// remove the child tab from all data structures in the parent that reference it\n\tif (parentTab.childContentKeys[childTabToClose.contentKey]) {\n\t\tdelete parentTab.childContentKeys[childTabToClose.contentKey];\n\t}\n\tparentTab.tabList.splice(index, 1);\n\n\t// once the parent has been updated, see if it should also be closed\n\tif (shouldCloseParent(parentTab)) {\n\t\tcloseTabById(tabsData, parentTab.tab_id, true);\n\t}\n}\n\n/** close tab_id, which will delete the tab from tabsData and clean up all references\n *  1. close tab_id's children\n *  2. adjust parent tab and all ancestor tabs\n *  3. remove tab_id from tabsData\n */\nexport function closeTabById(tabsData, tab_id, updateParent) {\n\tlet updatedTabsData = tabsData;\n\tlet tabToDelete = getTab(tabsData, tab_id);\n\tif (!tabToDelete) return updatedTabsData;\n\n\t// close the children of this tab recursively, depth-first\n\ttabToDelete.tabList.forEach(function(childTabId) {\n\t\tupdatedTabsData = closeTabById(updatedTabsData, childTabId, false);\n\t\tdelete updatedTabsData[childTabId];\n\t});\n\n\t// adjust the parent of this tab\n\tif (updateParent) {\n\t\tif (tabToDelete.parentTabId && tabToDelete.parentTabId != '-1') {\n\t\t\tupdateParentTabOnChildClose(\n\t\t\t\ttabsData,\n\t\t\t\tupdatedTabsData[tabToDelete.parentTabId],\n\t\t\t\ttabToDelete\n\t\t\t);\n\t\t}\n\t}\n\n\t// delete this tab.  Must be done after parent has been updated so parent can select an appropriate selectedTabId\n\tdelete updatedTabsData[tabToDelete.tab_id];\n\n\t// return the updated tabsData\n\treturn updatedTabsData;\n}\n\n/** return a list of tabs to be closed, depth first, right to left order */\nexport function getTabsToCloseQueue(\n\ttabsData,\n\toperation,\n\ttab_id,\n\ttabsToCloseQueue,\n\ttabFilter\n) {\n\tif (!tabsData[tab_id] || !tabsData[tab_id].tabList) return tabsToCloseQueue; // pre-condition\n\tif (tabFilter && !tabFilter(tabsData[tab_id])) return tabsToCloseQueue; // no data to process\n\n\tif (!tabsToCloseQueue.tabList) tabsToCloseQueue.tabList = []; // initialize the output struct\n\t// process child tabs first\n\tlet i = tabsData[tab_id].tabList.length - 1;\n\tfor (; i >= 0; i--) {\n\t\ttabsToCloseQueue = getTabsToCloseQueue(\n\t\t\ttabsData,\n\t\t\toperation,\n\t\t\ttabsData[tab_id].tabList[i],\n\t\t\ttabsToCloseQueue,\n\t\t\tnull\n\t\t);\n\t}\n\t// add this tab to the queue\n\tconst isDirty = tabsData[tab_id].isDirty ? tabsData[tab_id].isDirty : false;\n\tconst hasWarning = tabsData[tab_id].hasWarning\n\t\t? tabsData[tab_id].hasWarning\n\t\t: false;\n\tlet confirmationStatus = '';\n\tif (isDirty || hasWarning) confirmationStatus = 'pending';\n\tconst queueItem = {\n\t\ttab_id: tab_id,\n\t\tisDirty: isDirty,\n\t\tconfirmationStatus: confirmationStatus,\n\t\tdirtyModalId: tabsData[tab_id].dirtyModalId,\n\t\thasWarning: hasWarning,\n\t\twarningModalId: tabsData[tab_id].warningModalId\n\t};\n\ttabsToCloseQueue.tabList.push(queueItem);\n\treturn tabsToCloseQueue;\n}\n","module.exports = __TECTONIC__$servicenow_now_modal;","export * from './utils';\n","export { ControlMenu } from './control-menu/controlMenu';\nexport { TabOverflow } from './tab-overflow/tabOverflow';\nexport { OptionItem } from './option-item/optionItem';\n","import { OptionItem } from '../../subcomponents';\nconst ControlMenu = (props) => {\n\tconst { id, optionItems, highlightIndex, onItemClick } = props;\n\tconst _className = props._className\n\t\t? props._className\n\t\t: 'sn-chrome-popover-content';\n\tconst _getMenuRef = (ref) => {\n\t\tif (ref) ref.focus();\n\t};\n\n\treturn (\n\t\t<ul\n\t\t\tid={id}\n\t\t\tclassName={_className + '-list'}\n\t\t\trole=\"presentation\"\n\t\t\tref={_getMenuRef}>\n\t\t\t{optionItems.map((m, i) => {\n\t\t\t\tlet key = m.itemType === 'tab' ? m.tab_id : m.name || m.title;\n\t\t\t\tconst isHighlighted = highlightIndex === i;\n\t\t\t\treturn (\n\t\t\t\t\t<OptionItem\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\titem={m}\n\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\tisHighlighted={isHighlighted}\n\t\t\t\t\t\tonItemClick={onItemClick}\n\t\t\t\t\t\t_className={_className}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n\nexport { ControlMenu };\n","export * from './constants';\n","module.exports = __TECTONIC__$devsnc_library_uxf;","export default {\n\tTOP: 'top',\n\tTOP_LEFT: 'top-left',\n\tTOP_RIGHT: 'top-right',\n\tBOTTOM: 'bottom',\n\tBOTTOM_LEFT: 'bottom-left',\n\tBOTTOM_RIGHT: 'bottom-right',\n\tLEFT: 'left',\n\tRIGHT: 'right'\n};\n","import { get } from 'lodash';\n\nexport const updateButtonPresenceStatus = (\n\tbutton,\n\tindex,\n\ttoolbarButtons,\n\tstatus,\n\tupdateProperties\n) => {\n\ttoolbarButtons.splice(index, 1, {\n\t\t...button,\n\t\tpresence: { status: status }\n\t});\n\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n};\n\nexport const updateButtonBadgeCount = (\n\tbutton,\n\tindex,\n\ttoolbarButtons,\n\tbadge,\n\tupdateProperties\n) => {\n\ttoolbarButtons.splice(index, 1, {\n\t\t...button,\n\t\tbadge\n\t});\n\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n};\n\nexport const updateButtonIcon = (\n\tbutton,\n\tindex,\n\ttoolbarButtons,\n\ticon,\n\tupdateProperties\n) => {\n\ttoolbarButtons.splice(index, 1, {\n\t\t...button,\n\t\ticon\n\t});\n\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n};\n\nexport const setButtonSelection = (\n\tbutton,\n\tindex,\n\ttoolbarButtons,\n\tselect,\n\tupdateProperties\n) => {\n\ttoolbarButtons.splice(index, 1, {\n\t\t...button,\n\t\tisSelected: select\n\t});\n\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n};\n\nexport const setButtonVisibility = (\n\tbutton,\n\tindex,\n\ttoolbarButtons,\n\tshow,\n\tupdateProperties\n) => {\n\ttoolbarButtons.splice(index, 1, {\n\t\t...button,\n\t\tshow\n\t});\n\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n};\n\nexport const IS_LOGGED_IN = (() => {\n\tconst gLoggedIn = get(window, 'ux_globals.isLoggedIn', false);\n\treturn (\n\t\tgLoggedIn === true ||\n\t\t(typeof gLoggedIn === 'string' && gLoggedIn.toLowerCase() === 'true')\n\t);\n})();\n\nexport const DESTINATION_URL = (() => {\n\tlet destinationUrl = get(window, 'ux_globals.loginRedirectUrl', null);\n\n\tif (!destinationUrl) {\n\t\tconst appRouteConfiguration = get(\n\t\t\twindow,\n\t\t\t'ux_globals.routeConfiguration',\n\t\t\tnull\n\t\t);\n\t\tdestinationUrl = appRouteConfiguration\n\t\t\t? `/${appRouteConfiguration.siteName}/${\n\t\t\t\t\tappRouteConfiguration.landingPath\n\t\t\t  }`\n\t\t\t: '';\n\t}\n\treturn destinationUrl;\n})();\n","import { t } from 'sn-translate';\n\nfunction buildMessage(short_description, priority) {\n\tconst content = short_description || t('Short Description field is empty');\n\n\treturn `${priority}: ${content}`;\n}\n\nfunction buildNewAssignedToastItem(payload) {\n\tconst {\n\t\trecord_display_value,\n\t\tshort_description,\n\t\tpriority,\n\t\ttable_label\n\t} = payload;\n\n\tconst prefix = record_display_value || table_label;\n\tconst verb = t('is Assigned to');\n\tconst suffix = t('You');\n\n\treturn {\n\t\ttagline: record_display_value,\n\t\ttitle: `${prefix} ${verb} ${suffix}`,\n\t\tmessage: buildMessage(short_description, priority),\n\t\tinfoIcon: 'user-plus-outline'\n\t};\n}\n\nfunction buildUpdatedToastItem(payload) {\n\tconst {\n\t\trecord_display_value,\n\t\tshort_description,\n\t\tpriority,\n\t\ttable_label,\n\t\tupdated_by,\n\t\tfields\n\t} = payload;\n\n\tlet title;\n\tif (!updated_by) {\n\t\tlet prefix = '';\n\t\tif (fields.length === 1) {\n\t\t\tprefix = fields[0].field_label;\n\t\t} else {\n\t\t\tprefix = record_display_value || table_label;\n\t\t}\n\t\ttitle = {\n\t\t\tprefix,\n\t\t\tverb: t('has been updated')\n\t\t};\n\t} else {\n\t\tif (fields.length === 1) {\n\t\t\t// Single Field\n\t\t\ttitle = {\n\t\t\t\tprefix: fields[0].field_label,\n\t\t\t\tverb: t('updated by'),\n\t\t\t\tsuffix: updated_by\n\t\t\t};\n\t\t} else {\n\t\t\t// multiple fields or updated_by is empty\n\t\t\ttitle = {\n\t\t\t\tprefix: updated_by,\n\t\t\t\tverb: t('updated'),\n\t\t\t\tsuffix: record_display_value || table_label\n\t\t\t};\n\t\t}\n\t}\n\n\treturn {\n\t\ttagline: record_display_value,\n\t\ttitle: `${title.prefix} ${title.verb} ${title.suffix}`,\n\t\tmessage: buildMessage(short_description, priority),\n\t\tinfoIcon: 'change-outline'\n\t};\n}\n\nexport function buildAlertItem(payload, userId) {\n\tconst {\n\t\ttable,\n\t\tsys_id,\n\t\tfields,\n\t\ttime_stamp,\n\t\talert_sys_id,\n\t\tis_read,\n\t\traw_time_stamp\n\t} = payload;\n\n\tlet toastItem = {\n\t\titem_type: 'notification',\n\t\ttable,\n\t\tsys_id,\n\t\talert_sys_id,\n\t\ttime_stamp,\n\t\traw_time_stamp,\n\t\tis_read\n\t};\n\n\tconst assignedToMe = fields.find(\n\t\t(f) => f.field_name === 'assigned_to' && f.field_value === userId\n\t);\n\n\treturn assignedToMe\n\t\t? { ...toastItem, ...buildNewAssignedToastItem(payload) }\n\t\t: { ...toastItem, ...buildUpdatedToastItem(payload) };\n}\n","// add your components import here\nimport './components/sn-canvas-header';\nimport './components/sn-canvas-content';\nimport './components/sn-canvas-footer';\nimport './components/sn-canvas-menu';\nimport './components/sn-nav-item';\nimport './components/sn-canvas-toolbar';\nimport './components/sn-canvas-tabsdata';\nimport './components/sn-canvas-tabs';\nimport './components/sn-canvas-iframe';\nimport './components/sn-canvas-error';\nimport './components/sn-canvas-sidebar';\nimport './components/sn-canvas-sidepanel';\nimport './components/sn-canvas-corner-dialog';\nimport './components/sn-canvas-viewport';\nimport './components/sn-canvas-notification-tray';\nimport './components/sn-canvas-notification-trigger';\nimport './state-managers';\nimport './components/sn-canvas-notification-toast';\n","import './sn-canvas-header';\n","import isEmpty from 'lodash/isEmpty';\nimport get from 'lodash/get';\nimport has from 'lodash/has';\nimport size from 'lodash/size';\nimport memoize from 'lodash/memoize';\nimport { t } from 'sn-translate';\n\nimport { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-badge';\nimport '@servicenow/now-avatar';\nimport rtlBehavior from '@servicenow/behavior-rtl';\n\nimport {\n\tNAV_ITEM_SELECTED,\n\tVIEWPORT_MODAL_SELECTED,\n\tPUBLIC_ACTION_BUTTON_CLICKED,\n\tNOW_BUTTON_CLICKED,\n\tROUTE_LINK_TYPE,\n\tEXTERNAL_LINK_TYPE,\n\tVIEWPORT_MODAL_TYPE\n} from '../../constants/constants';\nimport snCanvasHeaderStyles from './_sn-canvas-header.scss';\nimport { sizeSchema, experienceSchema, configurationsSchema } from './schemas';\nimport GlobalTools from './views/global-tools';\nimport PublicActions from './views/public-actions';\nimport { getLogoSource } from '../../utils/logo-source-util';\nimport GlobalResizeListener from '../../utils/global-resize-listener';\n\nconst { COMPONENT_DISCONNECTED, COMPONENT_DOM_TREE_READY } = actionTypes;\n\nconst evaluateCurrentScreenConfigurationLink = (link, configurations) => {\n\tif (isEmpty(configurations) || isEmpty(link)) return {};\n\tconst { position } = configurations;\n\treturn { link, position };\n};\n\nconst publicActionEffect = ({ dispatch, action: { payload } }) => {\n\tconst { publicActionRoute } = payload;\n\tconst { type, value } = publicActionRoute;\n\tif (type === ROUTE_LINK_TYPE) {\n\t\tdispatch(NAV_ITEM_SELECTED, value);\n\t} else if (type === VIEWPORT_MODAL_TYPE) {\n\t\tdispatch(VIEWPORT_MODAL_SELECTED, value);\n\t} else if (type === EXTERNAL_LINK_TYPE) {\n\t\twindow.location.href = publicActionRoute;\n\t}\n};\n\n// Compute rendered sizes of header elements to aid resizing SecondaryItems.\nconst getHeaderSizingInfo = (host) => {\n\tconst getSecondaryItems = (x, ind) => {\n\t\tconst childWidth = x.getBoundingClientRect().width + itemMargin;\n\t\treturn { itemOrder: ind, width: childWidth };\n\t};\n\n\tconst hostInfo = getComputedStyle(host);\n\tconst itemMargin = parseInt(\n\t\thostInfo.getPropertyValue('--sn-canvas-global-tools-list-item-margin')\n\t);\n\tconst searchMinWidth = parseInt(\n\t\thostInfo.getPropertyValue('--sn-canvas-global-tools-search-min-width')\n\t);\n\tconst brandLogoWidth = host.shadowRoot\n\t\t.querySelector('.sn-canvas-header-nav-brand-logo')\n\t\t.getBoundingClientRect().width;\n\tconst primaryItemsWidth = host.shadowRoot\n\t\t.querySelector('.sn-canvas-global-tools-primary-items')\n\t\t.getBoundingClientRect().width;\n\tconst globalToolsSecondaryItemsContainer = host.shadowRoot.querySelector(\n\t\t'.sn-canvas-global-tools-secondary-items'\n\t);\n\tlet secondaryItemsSize = Array.from(\n\t\tglobalToolsSecondaryItemsContainer\n\t\t\t? globalToolsSecondaryItemsContainer.children\n\t\t\t: [],\n\t\tgetSecondaryItems\n\t);\n\treturn {\n\t\titemMargin,\n\t\tbrandLogoWidth,\n\t\tsearchMinWidth,\n\t\tprimaryItemsWidth,\n\t\tsecondaryItemsSize\n\t};\n};\n\nconst snCanvasHeader = (state, { dispatch, updateState }) => {\n\tconst { properties, showUserMenuTooltip, userMenuRef } = state;\n\tconst {\n\t\tauthenticated,\n\t\tsize,\n\t\texperience,\n\t\tconfigurations,\n\t\tcurrentRouteKey,\n\t\tlogoAltText,\n\t\tlogoSource,\n\t\tuserAvatar,\n\t\tuserName,\n\t\tscreenConfigurationLink,\n\t\tnotificationsEnabled = true,\n\t\tedgeToEdge,\n\t\tuserPrefs,\n\t\tshowBottomBorder\n\t} = properties;\n\n\tconst { privatePage, publicPage } = configurations[currentRouteKey];\n\n\tconst {\n\t\tuserPrefsEnabled,\n\t\tsearchEnabled: privateSearchEnabled,\n\t\tcurrentScreenLinkConfiguration = {},\n\t\tglobalTools\n\t} = privatePage;\n\n\tconst {\n\t\tactionButtons,\n\t\tsearchEnabled: publicSearchEnabled,\n\t\tmenuEnabled,\n\t\tlogoRoute = {}\n\t} = publicPage;\n\n\tconst currentConfigurationLinkData = evaluateCurrentScreenConfigurationLink(\n\t\tscreenConfigurationLink,\n\t\tcurrentScreenLinkConfiguration\n\t);\n\tconst evaluatedLogoSource = getLogoSource(logoSource, 'header_logo');\n\tconst searchEnabled = authenticated\n\t\t? privateSearchEnabled\n\t\t: publicSearchEnabled;\n\n\tconst HeaderLogo = ({ size }) => {\n\t\tif (!evaluatedLogoSource) {\n\t\t\treturn null;\n\t\t}\n\t\treturn isEmpty(logoRoute) ? (\n\t\t\t<img\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-canvas-logo': true,\n\t\t\t\t\t[`--${size}`]: true\n\t\t\t\t}}\n\t\t\t\talt={logoAltText}\n\t\t\t\tsrc={evaluatedLogoSource}\n\t\t\t/>\n\t\t) : (\n\t\t\t<sn-nav-item\n\t\t\t\tvariant=\"simple-link-nav\"\n\t\t\t\ttype={logoRoute.type}\n\t\t\t\titemValue={logoRoute.value}>\n\t\t\t\t<img\n\t\t\t\t\tslot=\"startsWith\"\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t'sn-canvas-logo': true,\n\t\t\t\t\t\t[`--${size}`]: true\n\t\t\t\t\t}}\n\t\t\t\t\talt={logoAltText}\n\t\t\t\t\tsrc={evaluatedLogoSource}\n\t\t\t\t/>\n\t\t\t</sn-nav-item>\n\t\t);\n\t};\n\n\treturn (\n\t\t<header\n\t\t\tclass={{\n\t\t\t\t'sn-canvas-header': true,\n\t\t\t\t[`--${experience}`]: experience === 'workspace'\n\t\t\t}}\n\t\t\trole=\"banner\"\n\t\t\taria-label={t('Header')}>\n\t\t\t<div\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-canvas-header-container': true,\n\t\t\t\t\t[`--${size}`]: true,\n\t\t\t\t\t'show-bottom-border': showBottomBorder\n\t\t\t\t}}>\n\t\t\t\t<div\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t'sn-canvas-header-nav': true,\n\t\t\t\t\t\t'-fixed-center-aligned': !edgeToEdge\n\t\t\t\t\t}}>\n\t\t\t\t\t<div className=\"sn-canvas-header-nav-brand-logo\">\n\t\t\t\t\t\t<HeaderLogo size={size} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sn-canvas-header-nav-global\">\n\t\t\t\t\t\t<div className=\"sn-canvas-header-nav-global-search\">\n\t\t\t\t\t\t\t{searchEnabled ? <slot name=\"search-input\" /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t'sn-canvas-header-nav-global-tools': true\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<nav\n\t\t\t\t\t\t\t\tclassName={`sn-canvas-global-tools`}\n\t\t\t\t\t\t\t\taria-label={t('Header')}>\n\t\t\t\t\t\t\t\t{authenticated ? (\n\t\t\t\t\t\t\t\t\t<GlobalTools\n\t\t\t\t\t\t\t\t\t\tscreenConfigurationLink={currentConfigurationLinkData}\n\t\t\t\t\t\t\t\t\t\tglobalToolsItems={{\n\t\t\t\t\t\t\t\t\t\t\t...globalTools,\n\t\t\t\t\t\t\t\t\t\t\t...state.globalToolsSizingInfo\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tnotificationsEnabled={notificationsEnabled}\n\t\t\t\t\t\t\t\t\t\tuserPreferencesEnabled={userPrefsEnabled}\n\t\t\t\t\t\t\t\t\t\tuserName={userName}\n\t\t\t\t\t\t\t\t\t\tuserAvatar={userAvatar}\n\t\t\t\t\t\t\t\t\t\tuserPrefs={userPrefs}\n\t\t\t\t\t\t\t\t\t\texperience={experience}\n\t\t\t\t\t\t\t\t\t\tshowUserMenuTooltip={showUserMenuTooltip}\n\t\t\t\t\t\t\t\t\t\tuserMenuRef={userMenuRef}\n\t\t\t\t\t\t\t\t\t\tupdateState={updateState}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<PublicActions dispatch={dispatch} actions={actionButtons} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{menuEnabled ? <slot name=\"navigation-menu\" /> : null}\n\t\t</header>\n\t);\n};\n\ncreateCustomElement('sn-canvas-header', {\n\tinitialState: {\n\t\tshowUserMenuTooltip: false,\n\t\tuserMenuRef: null\n\t},\n\tproperties: {\n\t\t// control global tools secondary items responsiveness: temporary switch\n\t\t// since responsiveness is temporarily depriortized\n\t\tallowResizeBehavior: {\n\t\t\tdefault: false\n\t\t},\n\t\tcurrentRouteKey: {\n\t\t\tcomputed: ({ properties: { currentRoute, configurations } }) => {\n\t\t\t\tif (isEmpty(currentRoute)) return 'global';\n\n\t\t\t\tconst getFieldCount = size(currentRoute.fields);\n\t\t\t\tconst routeKey = currentRoute.route\n\t\t\t\t\t? `${currentRoute.route}~${getFieldCount}`\n\t\t\t\t\t: 'global';\n\n\t\t\t\tconst result = has(configurations, routeKey) ? routeKey : 'global';\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\treadOnly: true,\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\tuserPrefs: { default: {}, schema: { type: 'object' } },\n\t\tauthenticated: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t},\n\t\tnotificationsEnabled: {\n\t\t\tdefault: true,\n\t\t\tschema: { type: 'boolean' }\n\t\t},\n\t\texperience: {\n\t\t\tdefault: 'default',\n\t\t\tschema: experienceSchema\n\t\t},\n\t\tsize: {\n\t\t\tdefault: 'short',\n\t\t\tschema: sizeSchema\n\t\t},\n\t\tconfigurations: {\n\t\t\tdefault: {\n\t\t\t\tglobal: {\n\t\t\t\t\tprivatePage: {\n\t\t\t\t\t\tsearchEnabled: false,\n\t\t\t\t\t\tuserPrefsEnabled: false,\n\t\t\t\t\t\tglobalTools: {}\n\t\t\t\t\t},\n\t\t\t\t\tpublicPage: {\n\t\t\t\t\t\tsearchEnabled: false,\n\t\t\t\t\t\tactionButtons: []\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tschema: configurationsSchema\n\t\t},\n\t\tscreenConfigurationLink: {\n\t\t\tdefault: {}\n\t\t},\n\t\tcurrentRoute: {\n\t\t\tdefault: {},\n\t\t\tschema: { type: 'object' }\n\t\t},\n\t\tlogoAltText: {\n\t\t\tdefault: 'Logo configuration',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\tlogoSource: {\n\t\t\tdefault: '',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\tuserAvatar: {\n\t\t\tdefault: '',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\tuserName: {\n\t\t\tdefault: '',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\tedgeToEdge: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[PUBLIC_ACTION_BUTTON_CLICKED]: {\n\t\t\teffect: publicActionEffect\n\t\t},\n\t\t[NOW_BUTTON_CLICKED]: {\n\t\t\teffect: publicActionEffect\n\t\t},\n\t\t[COMPONENT_DOM_TREE_READY]: ({ host, properties, updateState }) => {\n\t\t\tconst { allowResizeBehavior } = properties;\n\t\t\tif (allowResizeBehavior) {\n\t\t\t\tconst headerSizingInfo = memoize(getHeaderSizingInfo);\n\n\t\t\t\tGlobalResizeListener.add(\n\t\t\t\t\thost,\n\t\t\t\t\t() => {\n\t\t\t\t\t\tconst headerWidth = host.getBoundingClientRect().width;\n\t\t\t\t\t\tconst savedGTWidths = headerSizingInfo(host);\n\n\t\t\t\t\t\tconst nonSecondaryItemContainers =\n\t\t\t\t\t\t\tget(savedGTWidths, 'brandLogoWidth', 0) +\n\t\t\t\t\t\t\tget(savedGTWidths, 'searchMinWidth', 0) +\n\t\t\t\t\t\t\tget(savedGTWidths, 'primaryItemsWidth', 0) +\n\t\t\t\t\t\t\tget(savedGTWidths, 'itemMargin', 0);\n\t\t\t\t\t\tconst secondaryItemContainerWidth =\n\t\t\t\t\t\t\theaderWidth - nonSecondaryItemContainers;\n\t\t\t\t\t\tconst { secondaryItemsSize } = savedGTWidths;\n\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tglobalToolsSizingInfo: {\n\t\t\t\t\t\t\t\tsecondaryItemContainerWidth,\n\t\t\t\t\t\t\t\tsecondaryItemsSize\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ host }) => {\n\t\t\tGlobalResizeListener.remove(host);\n\t\t}\n\t},\n\tbehaviors: [rtlBehavior],\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasHeader\n\t},\n\tstyles: snCanvasHeaderStyles,\n\tslots: {\n\t\tnotificationTrigger: {}\n\t}\n});\n","module.exports = __TECTONIC__lodash_4_17_15[\"has\"];","module.exports = __TECTONIC__lodash_4_17_15[\"size\"];","module.exports = __TECTONIC__lodash_4_17_15[\"memoize\"];","module.exports = __TECTONIC__$servicenow_now_avatar;","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-header.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}:host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host{display:block;height:100%}.sn-nav-item{display:flex;flex-flow:nowrap;align-items:center;width:100%;height:100%;margin:0;border:none;padding:0;font-style:inherit;font-variant:inherit;font-weight:inherit;font-size:inherit;line-height:inherit;font-family:inherit;cursor:pointer;background:transparent;text-decoration:none}:host(:not([dir=rtl])) .sn-nav-item,:root:not([dir=rtl]) .sn-nav-item{text-align:left}:host([dir=rtl]) .sn-nav-item,:root[dir=rtl] .sn-nav-item{text-align:right}.sn-nav-item.-simple-link-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ,var(--now-color--primary-1,30,133,109)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-simple-link-nav::-moz-focus-inner{border-style:none}.sn-nav-item.-simple-link-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-nav-item.-simple-link-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ--8vstZ,transparent))}.sn-nav-item.-simple-link-nav:active{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-simple-link-nav:active,.sn-nav-item.-simple-link-nav:hover{text-decoration:underline}.sn-nav-item.-simple-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ,var(--now-color--primary-1,30,133,109)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-simple-nav::-moz-focus-inner{border-style:none}.sn-nav-item.-simple-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}:host(:not([dir=rtl])) .sn-nav-item.-simple-nav,:root:not([dir=rtl]) .sn-nav-item.-simple-nav{padding-left:.75rem}:host(:not([dir=rtl])) .sn-nav-item.-simple-nav,:host([dir=rtl]) .sn-nav-item.-simple-nav,:root:not([dir=rtl]) .sn-nav-item.-simple-nav,:root[dir=rtl] .sn-nav-item.-simple-nav{padding-right:.75rem}:host([dir=rtl]) .sn-nav-item.-simple-nav,:root[dir=rtl] .sn-nav-item.-simple-nav{padding-left:.75rem}.sn-nav-item.-simple-nav:hover{text-decoration:none;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--vXrJAzO--8vstZ,.5))}.sn-nav-item.-simple-nav:active{text-decoration:none;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-simple-nav.-workspace{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ,var(--now-color--neutral-4,191,197,198)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-simple-nav.-workspace:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--8vstZ,var(--now-color--neutral-4,191,197,198)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--vXrJAzO--8vstZ,.35))}.sn-nav-item.-simple-nav.-workspace:active{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--rJzAst,var(--now-color--neutral-4,191,197,198)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-main-nav{padding:1rem;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ,var(--now-color--neutral-12,66,80,81)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-main-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-nav-item.-main-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--vXrJAzO--8vstZ,.5))}.sn-nav-item.-main-nav.-is-selected,.sn-nav-item.-main-nav:active,.sn-nav-item.-main-nav:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-main-nav.-is-selected,.sn-nav-item.-main-nav:active,.sn-nav-item.-main-nav:focus,.sn-nav-item.-main-nav:hover{box-shadow:0 -4px RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--kvu-18rpv9,var(--now-color--primary-3,15,67,55))) inset;outline:none}.sn-nav-item.-main-nav::-moz-focus-inner{border-style:none}.sn-nav-item.-sub-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-sub-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-0,221,237,233)),var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--vXrJAzO--8vstZ,.5))}.sn-nav-item.-sub-nav:focus{outline:none}.sn-nav-item.-sub-nav:active,.sn-nav-item.-sub-nav:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--primary-0,221,237,233)))}.sn-nav-item.show-underline{text-decoration:underline}.sn-nav-item.-max-display{width:100%;padding:.5rem}:host(:not([dir=rtl])) .sn-nav-item.-max-display,:root:not([dir=rtl]) .sn-nav-item.-max-display{padding-left:1rem}:host([dir=rtl]) .sn-nav-item.-max-display,:root[dir=rtl] .sn-nav-item.-max-display{padding-right:1rem}.sn-nav-item-label{overflow:hidden;width:100%;text-overflow:ellipsis}:host(:not([dir=rtl])) .sn-nav-item-label,:root:not([dir=rtl]) .sn-nav-item-label{text-align:left}:host([dir=rtl]) .sn-nav-item-label,:root[dir=rtl] .sn-nav-item-label{text-align:right}.sn-nav-item-label.-show-one-line{white-space:nowrap}.sn-nav-item-label.-show-two-lines{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}:host{--sn-user-dropdown-offset-top:12;--sn-user-dropdown-offset-left:24;--sn-canvas-global-tools-list-item-margin:24;--sn-canvas-global-tools-search-width:$sn-canvas-global-search-width;--sn-canvas-global-tools-search-min-width:280}.sn-canvas-header{z-index:2000;margin-block-start:0;font-size:1rem;line-height:1.25;font-family:var(--mv9-Jrmsr1-8trptZ--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif));font-style:normal;font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;white-space:normal}.sn-canvas-header-container{display:flex;align-items:center;border-bottom-style:solid;border-bottom-color:RGB(var(--mv9-Jrmsr1-8trptZ-JvmzrAmtZ-kvZptZ--JvjvZ,var(--now-color_divider--tertiary,var(--now-color--neutral-3,209,214,214))));background-color:RGB(var(--mv9-Jrmsr1-8trptZ-JvmzrAmtZ--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))))}.\\\\--workspace .sn-canvas-header-container{background-color:RGB(var(--mv9-Jrmsr1-8trptZ-JvmzrAmtZ-91--krJUfZvWmp-JvjvZ,var(--now-color_brand--primary,var(--now-color--brand-1,41,62,64))))}.sn-canvas-header-container.\\\\--short{height:var(--mv9-Jrmsr1-8trptZ--18vZz--8tAf8z,3rem);border-bottom-width:var(--mv9-Jrmsr1-8trptZ-JvmzrAmtZ--18vZz--kvZptZ-9Apz8,0)}.sn-canvas-header-container.\\\\--tall{height:var(--mv9-Jrmsr1-8trptZ--zrjj--8tAf8z,3.5rem);border-bottom-width:var(--mv9-Jrmsr1-8trptZ-JvmzrAmtZ--zrjj--kvZptZ-9Apz8,.0625rem)}.sn-canvas-header-nav{display:flex;justify-content:space-between;width:100%;height:100%;padding:0 1.5rem}.\\\\--workspace .sn-canvas-header-nav{padding:0 1rem}@media (min-width:1440px) and (max-width:1600px){.sn-canvas-header-nav.-fixed-center-aligned{max-width:90rem;margin:0 auto}}.sn-canvas-header .sn-canvas-header-nav-brand-logo{display:flex;align-items:center}.sn-canvas-header .sn-canvas-header-nav-brand-logo .sn-canvas-logo{vertical-align:middle;width:auto;max-width:25rem;object-fit:contain}.sn-canvas-header .sn-canvas-header-nav-brand-logo .sn-canvas-logo.\\\\--short{max-height:var(--mv9-Jrmsr1-8trptZ-jvfv--18vZz--8tAf8z,1.5rem)}.sn-canvas-header .sn-canvas-header-nav-brand-logo .sn-canvas-logo.\\\\--tall{max-height:var(--mv9-Jrmsr1-8trptZ-jvfv--zrjj--8tAf8z,2rem)}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-header-nav-brand-logo .sn-canvas-logo,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-header-nav-brand-logo .sn-canvas-logo{object-position:left}:host([dir=rtl]) .sn-canvas-header .sn-canvas-header-nav-brand-logo .sn-canvas-logo,:root[dir=rtl] .sn-canvas-header .sn-canvas-header-nav-brand-logo .sn-canvas-logo{object-position:right}.sn-canvas-header .sn-canvas-header-nav-global{display:flex;align-items:center;min-width:0}.sn-canvas-header .sn-canvas-header-nav-global-search{display:flex;flex-shrink:10;align-items:center;width:30rem;min-width:17.5rem}.sn-canvas-header .sn-canvas-header-nav-global-search slot[name=search-input]::slotted(*){width:100%}.sn-canvas-header .sn-canvas-header-nav-global-tools{display:flex;align-items:center;min-width:0;height:100%}.sn-canvas-header .sn-canvas-header-nav-global-tools .sn-canvas-global-tools{display:flex;flex-shrink:1;min-width:0;height:100%}.sn-canvas-header .sn-canvas-header-nav-global-tools .sn-canvas-global-tools-primary-items,.sn-canvas-header .sn-canvas-header-nav-global-tools .sn-canvas-global-tools-secondary-items{display:flex;align-items:center;height:100%;margin:0;padding:0;list-style-type:none}.sn-canvas-header .sn-canvas-header-nav-global-tools .sn-canvas-global-tools-list-item{min-width:-moz-fit-content;min-width:fit-content}.sn-canvas-header .sn-canvas-header-nav-global-tools .sn-canvas-global-tools-secondary-items{flex:auto;justify-content:flex-end}.sn-canvas-header .sn-canvas-global-tools{display:flex;align-items:center;margin:0;padding:0;list-style-type:none}.sn-canvas-header .sn-canvas-global-tools-list-item{position:relative;display:flex;align-items:center;height:100%;list-style-type:none}.sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge{position:absolute;top:0;padding-top:.5rem;line-height:1}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge{padding-right:.5rem}:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge{padding-left:.5rem}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge{right:0}:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item .gt-badge{left:0}.sn-canvas-header .sn-canvas-global-tools-list-item button{border:none;padding:0;font-size:1rem;cursor:pointer;background:none}.sn-canvas-header .sn-canvas-global-tools-list-item button::-moz-focus-inner{border-style:none}.sn-canvas-header .sn-canvas-global-tools-list-item button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-popover{height:100%}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger{display:flex;align-items:center;box-sizing:border-box;width:100%;height:100%;font-size:1rem;font-family:inherit;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ,var(--now-color--primary-1,30,133,109)));outline:none;text-decoration:none}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger{padding-left:.75rem}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger,:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger{padding-right:.75rem}:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger{padding-left:.75rem}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--vXrJAzO--8vstZ,.5))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger:active,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.\\\\--workspace{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ,var(--now-color--neutral-4,191,197,198)))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.\\\\--workspace:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--8vstZ,var(--now-color--neutral-4,191,197,198)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--vXrJAzO--8vstZ,.35))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.\\\\--workspace:active,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.\\\\--workspace:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--rJzAst,var(--now-color--neutral-4,191,197,198)))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger::-moz-focus-inner{border-style:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-link-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ,var(--now-color--primary-1,30,133,109)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-link-nav::-moz-focus-inner{border-style:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-link-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-link-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ--8vstZ,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-link-nav:active{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-link-nav:active,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-link-nav:hover{text-decoration:underline}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ,var(--now-color--primary-1,30,133,109)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav::-moz-focus-inner{border-style:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav{padding-left:.75rem}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav,:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav{padding-right:.75rem}:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav{padding-left:.75rem}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav:hover{text-decoration:none;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--vXrJAzO--8vstZ,.5))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav:active{text-decoration:none;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav.-workspace{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ,var(--now-color--neutral-4,191,197,198)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav.-workspace:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--8vstZ,var(--now-color--neutral-4,191,197,198)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--vXrJAzO--8vstZ,.35))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-simple-nav.-workspace:active{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--rJzAst,var(--now-color--neutral-4,191,197,198)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav{padding:1rem;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ,var(--now-color--neutral-12,66,80,81)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--vXrJAzO--8vstZ,.5))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav.-is-selected,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav:active,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav.-is-selected,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav:active,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav:focus,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav:hover{box-shadow:0 -4px RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--kvu-18rpv9,var(--now-color--primary-3,15,67,55))) inset;outline:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-main-nav::-moz-focus-inner{border-style:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-sub-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-sub-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-0,221,237,233)),var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--vXrJAzO--8vstZ,.5))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-sub-nav:focus{outline:none}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-sub-nav:active,.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.-sub-nav:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--primary-0,221,237,233)))}.sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-trigger.show-underline{text-decoration:underline}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-chevron,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-chevron{padding-left:.25rem}:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-chevron,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item.-user-menu .sn-canvas-user-menu-chevron{padding-right:.25rem}:host(:not([dir=rtl])) .sn-canvas-header .sn-canvas-global-tools-list-item-public-action,:root:not([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item-public-action{margin-left:1.5rem}:host([dir=rtl]) .sn-canvas-header .sn-canvas-global-tools-list-item-public-action,:root[dir=rtl] .sn-canvas-header .sn-canvas-global-tools-list-item-public-action{margin-right:1.5rem}.sn-canvas-header .sn-canvas-global-tools-public-action.-bare{color:RGB(var(--mv9-Jrmsr1-8trptZ-ztuz--XZATrZO--JvjvZ,var(--now-color--primary-1,30,133,109)))}.sn-canvas-header .sn-canvas-global-tools-public-action.-bare:hover{color:RGB(var(--mv9-Jrmsr1-8trptZ-ztuz--XZATrZO--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)))}.sn-canvas-header .sn-canvas-global-tools-public-action.-bare:active{color:RGB(var(--mv9-Jrmsr1-8trptZ-ztuz--XZATrZO--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)))}:host(:not([dir=rtl])) .sn-canvas-header,:root:not([dir=rtl]) .sn-canvas-header{text-align:left}:host([dir=rtl]) .sn-canvas-header,:root[dir=rtl] .sn-canvas-header{text-align:right}\", \"\"]);\n\n// exports\n","import { navItemSchema } from '../../sn-nav-item/schemas';\n\nconst alertSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\ttable: { type: 'string' },\n\t\tfilter: { type: 'string' }\n\t}\n};\n\nconst actionValueSchema = {\n\ttype: ' object',\n\tpropeties: {\n\t\tname: { type: 'string' },\n\t\tpayload: { type: 'object' }\n\t}\n};\n\nconst toggleValueSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tvalue: { type: 'boolean' },\n\t\taction: { type: actionValueSchema }\n\t}\n};\n\nconst menuItem = {\n\tdefinitions: {\n\t\tmenuItem: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tbuttonId: { type: 'string' },\n\t\t\t\tlabel: { type: 'string' },\n\t\t\t\ticon: { type: 'string' },\n\t\t\t\ttype: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tenum: ['navigation', 'menu', 'action', 'toggle', 'divider']\n\t\t\t\t},\n\t\t\t\tposition: { type: 'number' },\n\t\t\t\tprimaryDisplay: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tenum: ['none', 'label', 'icon', 'both']\n\t\t\t\t},\n\t\t\t\talert: alertSchema,\n\t\t\t\tvalue: {\n\t\t\t\t\tanyOf: [\n\t\t\t\t\t\tactionValueSchema,\n\t\t\t\t\t\tnavItemSchema,\n\t\t\t\t\t\ttoggleValueSchema,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\tproperties: { children: { $ref: '#definitions/menuItem' } }\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst globalToolsSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tcollapsingMenuId: { type: 'number' },\n\t\tprimaryItems: {\n\t\t\ttype: 'array',\n\t\t\tproperties: menuItem\n\t\t},\n\t\tsecondaryItems: {\n\t\t\ttype: 'array',\n\t\t\tproperties: menuItem\n\t\t}\n\t}\n};\n\nexport const configurationsSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tglobal: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tprivatePage: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tnotificationsEnabled: { type: 'boolean' },\n\t\t\t\t\t\tsearchEnabled: { type: 'boolean' },\n\t\t\t\t\t\tuserPrefsEnabled: { type: 'boolean' },\n\t\t\t\t\t\tcontextualConfigItemsEnabled: { type: 'boolean' },\n\t\t\t\t\t\tglobalTools: globalToolsSchema\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpublicPage: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tactionButtons: { type: 'array' }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const experienceSchema = {\n\ttype: 'string',\n\tenum: ['default', 'workspace']\n};\n\nexport const sizeSchema = {\n\ttype: 'string',\n\tenum: ['short', 'tall']\n};\n","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport get from 'lodash/get';\nimport map from 'lodash/map';\nimport isEmpty from 'lodash/isEmpty';\nimport sortBy from 'lodash/sortBy';\n\nimport ActivityCenterLink from './activity-center-link';\nimport UserMenu from './user-menu';\n\nconst screenConfigurationLinkToMenuItem = (\n\tscreenConfigurationLink,\n\tposition\n) => {\n\tconst { label, href } = screenConfigurationLink;\n\treturn {\n\t\tposition,\n\t\tlabel,\n\t\ttype: 'navigation',\n\t\tvalue: {\n\t\t\ttype: 'external',\n\t\t\topensWindow: true,\n\t\t\tvalue: { href }\n\t\t}\n\t};\n};\n\nconst _renderToolsItems = (secondaryItems, experience) => {\n\treturn secondaryItems && secondaryItems.length ? (\n\t\t<ul className=\"sn-canvas-global-tools-secondary-items\" role=\"presentation\">\n\t\t\t{secondaryItems.map((item) =>\n\t\t\t\titem.type === 'divider' ? null : (\n\t\t\t\t\t<ActivityCenterLink experience={experience} item={item} />\n\t\t\t\t)\n\t\t\t)}\n\t\t</ul>\n\t) : null;\n};\n\nconst GlobalTools = ({\n\tglobalToolsItems,\n\tnotificationsEnabled,\n\tuserPreferencesEnabled,\n\tuserAvatar,\n\tuserName,\n\tscreenConfigurationLink,\n\tuserPrefs,\n\texperience,\n\tshowUserMenuTooltip,\n\tuserMenuRef,\n\tupdateState\n}) => {\n\tconst {\n\t\tprimaryItems = [],\n\t\tsecondaryItems = [],\n\t\tcollapsingMenuId = 0,\n\t\tsecondaryItemContainerWidth,\n\t\tsecondaryItemsSize\n\t} = globalToolsItems;\n\n\tlet dropdownMenuItems = get(\n\t\tprimaryItems,\n\t\t`[${collapsingMenuId}].value.children`,\n\t\t[]\n\t);\n\n\tif (!isEmpty(screenConfigurationLink)) {\n\t\tconst { link, position } = screenConfigurationLink;\n\t\tdropdownMenuItems = [\n\t\t\t...dropdownMenuItems,\n\t\t\tscreenConfigurationLinkToMenuItem(link, position)\n\t\t];\n\t}\n\n\t// Determine if our secondary items overflow. If so, identify the number\n\t// of items to be moved to the user menu so that all secondary items\n\t// fit within the alloted width.\n\tlet overflowItemCount = 0;\n\tif (secondaryItemContainerWidth && secondaryItemsSize) {\n\t\tlet widths = map(secondaryItemsSize, 'width');\n\t\tconst totalItems = widths.length;\n\t\tlet totalWidths = widths.reduce((acc, val) => acc + val, 0);\n\n\t\twhile (totalWidths > secondaryItemContainerWidth) {\n\t\t\ttotalWidths = totalWidths - widths[totalItems - overflowItemCount - 1];\n\t\t\toverflowItemCount++;\n\t\t}\n\t}\n\n\tconst sortedSecondaryItems = sortBy(secondaryItems, ['position']);\n\tconst appendToDropDownItems = sortedSecondaryItems.splice(\n\t\tsortedSecondaryItems.length - overflowItemCount,\n\t\toverflowItemCount\n\t);\n\tdropdownMenuItems = [...dropdownMenuItems, ...appendToDropDownItems];\n\tconst sortedPrimaryItems = sortBy(primaryItems, ['position']);\n\tconst sortedDropdownItems = sortBy(dropdownMenuItems, ['position']);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{_renderToolsItems(sortedSecondaryItems, experience)}\n\t\t\t<ul className=\"sn-canvas-global-tools-primary-items\" role=\"presentation\">\n\t\t\t\t{sortedPrimaryItems.map((item, index) =>\n\t\t\t\t\tindex == collapsingMenuId ? null : (\n\t\t\t\t\t\t<ActivityCenterLink experience={experience} item={item} />\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{notificationsEnabled ? (\n\t\t\t\t\t<li\n\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\tclassName=\"sn-canvas-global-tools-list-item  -notification-trigger -collapsible\">\n\t\t\t\t\t\t<slot name=\"notificationTrigger\" />\n\t\t\t\t\t</li>\n\t\t\t\t) : null}\n\t\t\t\t<li\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\tclassName=\"sn-canvas-global-tools-list-item -user-menu -collapsible\">\n\t\t\t\t\t<UserMenu\n\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\tuserAvatar={userAvatar}\n\t\t\t\t\t\tuserName={userName}\n\t\t\t\t\t\tuserPreferencesEnabled={userPreferencesEnabled}\n\t\t\t\t\t\titems={sortedDropdownItems}\n\t\t\t\t\t\tuserPrefs={userPrefs}\n\t\t\t\t\t\texperience={experience}\n\t\t\t\t\t\tshowUserMenuTooltip={showUserMenuTooltip}\n\t\t\t\t\t\tuserMenuRef={userMenuRef}\n\t\t\t\t\t\tupdateState={updateState}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</Fragment>\n\t);\n};\n\nexport default GlobalTools;\n","module.exports = __TECTONIC__lodash_4_17_15[\"map\"];","module.exports = __TECTONIC__lodash_4_17_15[\"sortBy\"];","import isEmpty from 'lodash/isEmpty';\nimport get from 'lodash/get';\n\nimport '../../sn-nav-item';\nimport '../../internal/sn-canvas-badge-connected';\n\nconst getDisplayItems = (primaryDisplay, label, leftIcon) => {\n\tswitch (primaryDisplay) {\n\t\tcase 'both':\n\t\t\treturn {\n\t\t\t\tlabel,\n\t\t\t\tleftIcon\n\t\t\t};\n\t\tcase 'icon':\n\t\t\treturn {\n\t\t\t\tleftIcon\n\t\t\t};\n\t\tcase 'label':\n\t\t\treturn {\n\t\t\t\tlabel\n\t\t\t};\n\t}\n};\nconst ActivityCenterLink = ({ item, experience }) => {\n\tconst {\n\t\tlabel,\n\t\ticon,\n\t\tprimaryDisplay,\n\t\ttype,\n\t\talert,\n\t\tvalue: navItemValue\n\t} = item;\n\tlet displayItems = getDisplayItems(primaryDisplay, label, icon);\n\tlet startsWith = get(displayItems, 'leftIcon', null);\n\n\tswitch (type) {\n\t\tcase 'navigation':\n\t\tcase 'action':\n\t\t\treturn (\n\t\t\t\t<li\n\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\tclassName=\"sn-canvas-global-tools-list-item -collapsible\">\n\t\t\t\t\t<sn-nav-item\n\t\t\t\t\t\tlabel={get(displayItems, 'label', '')}\n\t\t\t\t\t\ttype={navItemValue.type}\n\t\t\t\t\t\topens-window={navItemValue.opensWindow}\n\t\t\t\t\t\titem-value={get(navItemValue, 'value', {})}\n\t\t\t\t\t\texperience={experience}\n\t\t\t\t\t\tvariant=\"simple-nav\">\n\t\t\t\t\t\t{startsWith ? (\n\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t\tclassName=\"menu-item-icon\"\n\t\t\t\t\t\t\t\tslot=\"startsWith\"\n\t\t\t\t\t\t\t\ticon={startsWith}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</sn-nav-item>\n\t\t\t\t\t{!isEmpty(alert) ? (\n\t\t\t\t\t\t<sn-canvas-badge-connected\n\t\t\t\t\t\t\tclassName=\"gt-badge\"\n\t\t\t\t\t\t\tconfigurations={{\n\t\t\t\t\t\t\t\ttable: alert.table,\n\t\t\t\t\t\t\t\tfilter: alert.filter\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t</li>\n\t\t\t);\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n\nexport default ActivityCenterLink;\n","import get from 'lodash/get';\n\nimport { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { filterAriaAttributes } from '@servicenow/library-enhanced-utils';\nimport focusBehavior from '@servicenow/behavior-focus';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport '@servicenow/now-tooltip';\nimport { t } from 'sn-translate';\n\nimport {\n\tNAV_ITEM_SELECTED,\n\tMODAL_SELECTED,\n\tSESSION_LOGGED_OUT,\n\tNOW_NAVIGATION_ITEM_CLICKED,\n\tEMAIL_LINK_TYPE,\n\tPHONE_LINK_TYPE,\n\tROUTE_LINK_TYPE,\n\tMODAL_LINK_TYPE,\n\tEXTERNAL_LINK_TYPE,\n\tACTION_LINK_TYPE,\n\tLOGOUT_LINK_TYPE,\n\tSPACE_KEY\n} from '../../constants/constants';\nimport { formatURLByType } from '../../utils/link-util';\nimport snCanvasNavItemStyles from './_sn-nav-item.scss';\n\nconst { COMPONENT_DOM_READY } = actionTypes;\n\nconst _containsProps = (itemValue, properties) => {\n\tfor (let idx = 0; idx < properties.length; idx++) {\n\t\tif (!itemValue.hasOwnProperty(properties[idx])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nconst _isLabelTruncated = (labelRef) => {\n\tif (!labelRef) return false;\n\treturn (\n\t\tlabelRef.scrollWidth > labelRef.clientWidth || // If x axis overflows. Handles 1 line truncation.\n\t\tlabelRef.scrollHeight > labelRef.clientHeight // If y axis overflows. Handles 2 line truncation.\n\t);\n};\n\nconst _renderTooltip = (targetRef, tooltipContent, label) => {\n\tif ((tooltipContent && _isLabelTruncated(targetRef)) || label.length === 0) {\n\t\treturn <now-tooltip target-ref={targetRef} content={tooltipContent} />;\n\t}\n};\n\nconst _renderNavButton = (\n\tvariant,\n\tunderlined,\n\tlabel,\n\tconfigAria,\n\tdispatch,\n\tmaxDisplay,\n\tisSelected,\n\tinteractionType,\n\tlines,\n\texperience\n) => {\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\ton-click={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tdispatch(() => ({\n\t\t\t\t\ttype: NOW_NAVIGATION_ITEM_CLICKED,\n\t\t\t\t\tpayload: {}\n\t\t\t\t}));\n\t\t\t}}\n\t\t\tclass={{\n\t\t\t\t'sn-nav-item': true,\n\t\t\t\t['-' + variant]: variant,\n\t\t\t\t'show-underline': underlined,\n\t\t\t\t['-max-display']: maxDisplay,\n\t\t\t\t['-' + experience]: experience === 'workspace',\n\t\t\t\t['-' + interactionType]: true,\n\t\t\t\t['-is-selected']: isSelected\n\t\t\t}}\n\t\t\trole={interactionType === 'menubar' ? 'menuitem' : undefined}\n\t\t\ttitle={label}\n\t\t\t{...filterAriaAttributes(configAria, 'button')}>\n\t\t\t<slot name=\"startsWith\" />\n\t\t\t<div\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-nav-item-label': true,\n\t\t\t\t\t'-show-two-lines': lines === 2,\n\t\t\t\t\t'-show-one-line': lines === 1\n\t\t\t\t}}>\n\t\t\t\t{label}\n\t\t\t</div>\n\t\t\t<slot name=\"endsWith\" />\n\t\t</button>\n\t);\n};\n\nconst _renderNavAnchor = (\n\tvariant,\n\tunderlined,\n\tlabel,\n\tconfigAria,\n\tdispatch,\n\titemValue,\n\ttype,\n\topensWindow,\n\tdownload,\n\tmaxDisplay,\n\tinteractionType,\n\tlines,\n\texperience\n) => {\n\tconst _uniqueId = (prefix = '') => {\n\t\tconst id = Math.random()\n\t\t\t.toString(36)\n\t\t\t.substr(2, 9);\n\t\treturn String(prefix) + id;\n\t};\n\n\tconst linkAriaDescById = _uniqueId('linkLabel-');\n\n\treturn (\n\t\t<a\n\t\t\tclass={{\n\t\t\t\t'sn-nav-item': true,\n\t\t\t\t['-' + variant]: variant,\n\t\t\t\t'show-underline': underlined,\n\t\t\t\t['-max-display']: maxDisplay,\n\t\t\t\t['-' + experience]: experience === 'workspace',\n\t\t\t\t['-' + interactionType]: true\n\t\t\t}}\n\t\t\ton-click={() => {\n\t\t\t\tdispatch(() => ({\n\t\t\t\t\ttype: NOW_NAVIGATION_ITEM_CLICKED,\n\t\t\t\t\tpayload: {}\n\t\t\t\t}));\n\t\t\t}}\n\t\t\thref={formatURLByType(itemValue, type)}\n\t\t\ttarget={opensWindow ? '_blank' : undefined}\n\t\t\trel={opensWindow ? 'noopener' : undefined}\n\t\t\t{...filterAriaAttributes(configAria, 'link')}\n\t\t\tattr-download={download}\n\t\t\trole={interactionType === 'menubar' ? 'menuitem' : undefined}\n\t\t\taria-describedby={\n\t\t\t\ttype === 'external' || opensWindow ? linkAriaDescById : undefined\n\t\t\t}>\n\t\t\t<slot name=\"startsWith\" />\n\t\t\t<div\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-nav-item-label': true,\n\t\t\t\t\t'-show-two-lines': lines === 2,\n\t\t\t\t\t'-show-one-line': lines === 1\n\t\t\t\t}}>\n\t\t\t\t{label}\n\t\t\t</div>\n\t\t\t<slot name=\"endsWith\" />\n\t\t\t{// assist screen readers to announce external links that opens in new tab window\n\t\t\ttype === 'external' || opensWindow ? (\n\t\t\t\t<span id={linkAriaDescById} hidden>\n\t\t\t\t\t{t('Link opens in new window')}\n\t\t\t\t</span>\n\t\t\t) : null}\n\t\t</a>\n\t);\n};\n\nconst navigationItemView = (state, { dispatch }) => {\n\tconst {\n\t\ttype,\n\t\titemValue = {},\n\t\topensWindow = false,\n\t\tvariant,\n\t\tlabel,\n\t\tunderlined,\n\t\tconfigAria,\n\t\ttooltipContent,\n\t\tdownload,\n\t\tmaxDisplay,\n\t\tisSelected,\n\t\tinteractionType,\n\t\tlines,\n\t\texperience\n\t} = state.properties;\n\n\tconst { targetRef } = state;\n\n\tconst isInProductNav =\n\t\ttype === ROUTE_LINK_TYPE ||\n\t\ttype === MODAL_LINK_TYPE ||\n\t\ttype === ACTION_LINK_TYPE ||\n\t\ttype === LOGOUT_LINK_TYPE;\n\n\tconst isMenubarInteraction =\n\t\ttype === ACTION_LINK_TYPE || interactionType === 'menubar';\n\treturn (\n\t\t<Fragment>\n\t\t\t{isInProductNav || isMenubarInteraction\n\t\t\t\t? _renderNavButton(\n\t\t\t\t\t\tvariant,\n\t\t\t\t\t\tunderlined,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tconfigAria,\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tmaxDisplay,\n\t\t\t\t\t\tisSelected,\n\t\t\t\t\t\tinteractionType,\n\t\t\t\t\t\tlines,\n\t\t\t\t\t\texperience\n\t\t\t\t  )\n\t\t\t\t: _renderNavAnchor(\n\t\t\t\t\t\tvariant,\n\t\t\t\t\t\tunderlined,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tconfigAria,\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\titemValue,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\topensWindow,\n\t\t\t\t\t\tdownload,\n\t\t\t\t\t\tmaxDisplay,\n\t\t\t\t\t\tisSelected,\n\t\t\t\t\t\tlines,\n\t\t\t\t\t\texperience\n\t\t\t\t  )}\n\t\t\t{_renderTooltip(targetRef, tooltipContent, label)}\n\t\t</Fragment>\n\t);\n};\n\ncreateCustomElement('sn-nav-item', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: navigationItemView\n\t},\n\tstyles: snCanvasNavItemStyles,\n\n\tproperties: {\n\t\t/**\n\t\t * Type of navigation that will drive how the URL is processed, the html\n\t\t * element is rendered and the click behavior.\n\t\t * @type {string}\n\t\t */\n\t\ttype: {\n\t\t\tdefault: EXTERNAL_LINK_TYPE,\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: [\n\t\t\t\t\tACTION_LINK_TYPE,\n\t\t\t\t\tEXTERNAL_LINK_TYPE,\n\t\t\t\t\tROUTE_LINK_TYPE,\n\t\t\t\t\tEMAIL_LINK_TYPE,\n\t\t\t\t\tPHONE_LINK_TYPE,\n\t\t\t\t\tMODAL_LINK_TYPE,\n\t\t\t\t\tLOGOUT_LINK_TYPE\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Object describing click action - href, modal or route payloads.\n\t\t * Depends on the type of the nav-item\n\t\t * @type {object}\n\t\t */\n\t\titemValue: {\n\t\t\tdefault: {},\n\t\t\tschema: { type: 'object' }\n\t\t},\n\t\t/**\n\t\t * Flag to indicate whether anchor tag or button should occupy all available\n\t\t * space\n\t\t * @type {object}\n\t\t */\n\t\tmaxDisplay: {\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * Text displayed as a link.\n\t\t * @type {string}\n\t\t */\n\t\tlabel: {\n\t\t\tdefault: '',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\t/**\n\t\t * Sets link colors.\n\t\t * @type {('simple-nav'|'main-nav'|'sub-nav'|'simple-link-nav')}\n\t\t */\n\t\tvariant: {\n\t\t\tdefault: 'simple-nav',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['simple-nav', 'main-nav', 'sub-nav', 'simple-link-nav']\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Sets experience, which decides which set of css variables to use.\n\t\t * @type {('default'|'workspace')}\n\t\t */\n\t\texperience: {\n\t\t\tdefault: 'default',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['default', 'workspace']\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Opens link in a new window or tab (depending on user's browser\n\t\t * configuration). \"Link opens in new window\" is announced\n\t\t * to assistive technology users.\n\t\t *\n\t\t * @type {boolean}\n\t\t */\n\t\topensWindow: { default: false, schema: { type: 'boolean' } },\n\t\t/**\n\t\t * An object whose items, all aria properties, are set on the inner\n\t\t * html `<a>` element.\n\t\t * See https://www.w3.org/TR/wai-aria-1.1/#button for properties and\n\t\t * accepted values.\n\t\t * @type {{ 'aria-*': string }}\n\t\t */\n\t\tconfigAria: {\n\t\t\tschema: {\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tlink: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tpatternProperties: {\n\t\t\t\t\t\t\t\t\t'^aria-': { type: 'string' }\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tpatternProperties: {\n\t\t\t\t\t\t\t'^aria-': { type: 'string' }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set this flag to instruct the browser to download a file instead of\n\t\t * navigating to a URL. Provide the value as a string to pre-populate the\n\t\t * filename of the downloaded file.\n\t\t * @type {(string|boolean)}\n\t\t */\n\t\tdownload: {\n\t\t\tdefault: false,\n\t\t\tschema: { oneOf: [{ type: 'string' }, { type: 'boolean' }] }\n\t\t},\n\t\t/**\n\t\t * Set this flag to underline the link at all times, not only on hover\n\t\t * (all links show underline on hover).\n\t\t * @type {boolean}\n\t\t */\n\t\tunderlined: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t},\n\t\t/**\n\t\t * Optional tooltip to display on truncated nav-items.\n\t\t * @type {string}\n\t\t */\n\t\ttooltipContent: {\n\t\t\tdefault: '',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\t/**\n\t\t * Visually represent the link as selected.\n\t\t *\n\t\t * @type {boolean}\n\t\t */\n\t\tisSelected: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t},\n\t\t/**\n\t\t * Determines what interaction type this link is used for. A regular link or a link within main-nav navigation.\n\t\t * @type {('link'|'menubar)}\n\t\t */\n\t\tinteractionType: {\n\t\t\tdefault: 'link',\n\t\t\tschema: { type: 'string', enum: ['link', 'menubar'] }\n\t\t},\n\t\t/**\n\t\t * Determines how many lines to display before the label truncates.\n\t\t * @type {(1 | 2)}\n\t\t */\n\t\tlines: {\n\t\t\tdefault: 2,\n\t\t\tschema: { type: 'number', enum: [1, 2] }\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: ({ properties, host, updateState }) => {\n\t\t\tconst { label } = properties;\n\t\t\tconst targetRef =\n\t\t\t\tlabel && label.length > 0\n\t\t\t\t\t? host.shadowRoot.querySelector('.sn-nav-item-label')\n\t\t\t\t\t: host.shadowRoot.querySelector('.sn-nav-item');\n\t\t\tupdateState({ targetRef });\n\t\t},\n\t\t[NOW_NAVIGATION_ITEM_CLICKED]: {\n\t\t\teffect: (coeffects) => {\n\t\t\t\tconst { properties, dispatch } = coeffects;\n\t\t\t\tconst { type, itemValue = {} } = properties;\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase ROUTE_LINK_TYPE:\n\t\t\t\t\t\tdispatch(NAV_ITEM_SELECTED, itemValue);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase MODAL_LINK_TYPE:\n\t\t\t\t\t\tdispatch(MODAL_SELECTED, itemValue);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ACTION_LINK_TYPE:\n\t\t\t\t\t\tdispatch(get(itemValue, 'name'), get(itemValue, 'payload', {}));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase LOGOUT_LINK_TYPE:\n\t\t\t\t\t\tif (_containsProps(itemValue, ['href']))\n\t\t\t\t\t\t\tdispatch(SESSION_LOGGED_OUT, {\n\t\t\t\t\t\t\t\tcallback: () => (window.location.href = itemValue.href)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\telse if (_containsProps(itemValue, ['route', 'fields'])) {\n\t\t\t\t\t\t\tdispatch(SESSION_LOGGED_OUT, {});\n\t\t\t\t\t\t\tdispatch(NAV_ITEM_SELECTED, itemValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tcapture: false,\n\t\t\tevents: ['keydown'],\n\t\t\teffect({\n\t\t\t\thost,\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { event }\n\t\t\t\t}\n\t\t\t}) {\n\t\t\t\tconst { key } = event;\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase SPACE_KEY: {\n\t\t\t\t\t\tconst activeElement = host.nowRootNode.activeElement;\n\t\t\t\t\t\tif (activeElement) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tactiveElement.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\tbehaviors: [focusBehavior, rtlBehavior],\n\tslots: {\n\t\tstartsWith: {},\n\t\tendsWith: {}\n\t}\n});\n","import get from 'lodash/get';\nimport { EMAIL_LINK_TYPE, PHONE_LINK_TYPE } from '../constants/constants';\n\nexport const formatURLByType = (linkValue = {}, type) => {\n\tconst url = get(linkValue, 'href', '');\n\tswitch (type) {\n\t\tcase EMAIL_LINK_TYPE:\n\t\t\treturn 'mailto:' + url;\n\t\tcase PHONE_LINK_TYPE:\n\t\t\treturn 'tel:' + url;\n\t\tdefault:\n\t\t\treturn url;\n\t}\n};\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-nav-item.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host{display:block;height:100%}.sn-nav-item{display:flex;flex-flow:nowrap;align-items:center;width:100%;height:100%;margin:0;border:none;padding:0;font-style:inherit;font-variant:inherit;font-weight:inherit;font-size:inherit;line-height:inherit;font-family:inherit;cursor:pointer;background:transparent;text-decoration:none}:host(:not([dir=rtl])) .sn-nav-item,:root:not([dir=rtl]) .sn-nav-item{text-align:left}:host([dir=rtl]) .sn-nav-item,:root[dir=rtl] .sn-nav-item{text-align:right}.sn-nav-item.-simple-link-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ,var(--now-color--primary-1,30,133,109)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-simple-link-nav::-moz-focus-inner{border-style:none}.sn-nav-item.-simple-link-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-nav-item.-simple-link-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ--8vstZ,transparent))}.sn-nav-item.-simple-link-nav:active{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-jAmU-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-simple-link-nav:active,.sn-nav-item.-simple-link-nav:hover{text-decoration:underline}.sn-nav-item.-simple-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ,var(--now-color--primary-1,30,133,109)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-simple-nav::-moz-focus-inner{border-style:none}.sn-nav-item.-simple-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}:host(:not([dir=rtl])) .sn-nav-item.-simple-nav,:root:not([dir=rtl]) .sn-nav-item.-simple-nav{padding-left:.75rem}:host(:not([dir=rtl])) .sn-nav-item.-simple-nav,:host([dir=rtl]) .sn-nav-item.-simple-nav,:root:not([dir=rtl]) .sn-nav-item.-simple-nav,:root[dir=rtl] .sn-nav-item.-simple-nav{padding-right:.75rem}:host([dir=rtl]) .sn-nav-item.-simple-nav,:root[dir=rtl] .sn-nav-item.-simple-nav{padding-left:.75rem}.sn-nav-item.-simple-nav:hover{text-decoration:none;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--vXrJAzO--8vstZ,.5))}.sn-nav-item.-simple-nav:active{text-decoration:none;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-simple-nav.-workspace{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ,var(--now-color--neutral-4,191,197,198)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-simple-nav.-workspace:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--8vstZ,var(--now-color--neutral-4,191,197,198)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--vXrJAzO--8vstZ,.35))}.sn-nav-item.-simple-nav.-workspace:active{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--JvjvZ--rJzAst,var(--now-color--neutral-4,191,197,198)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1ATXjt-mrs-91--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-main-nav{padding:1rem;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ,var(--now-color--neutral-12,66,80,81)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-main-nav:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-nav-item.-main-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--vXrJAzO--8vstZ,.5))}.sn-nav-item.-main-nav.-is-selected,.sn-nav-item.-main-nav:active,.sn-nav-item.-main-nav:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--krJUfZvWmp-JvjvZ--rJzAst,transparent))}.sn-nav-item.-main-nav.-is-selected,.sn-nav-item.-main-nav:active,.sn-nav-item.-main-nav:focus,.sn-nav-item.-main-nav:hover{box-shadow:0 -4px RGB(var(--mv9-Jrmsr1-mrs-AztT--TrAm-mrs--kvu-18rpv9,var(--now-color--primary-3,15,67,55))) inset;outline:none}.sn-nav-item.-main-nav::-moz-focus-inner{border-style:none}.sn-nav-item.-sub-nav{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ,transparent))}.sn-nav-item.-sub-nav:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-0,221,237,233)),var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--vXrJAzO--8vstZ,.5))}.sn-nav-item.-sub-nav:focus{outline:none}.sn-nav-item.-sub-nav:active,.sn-nav-item.-sub-nav:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--primary-0,221,237,233)))}.sn-nav-item.show-underline{text-decoration:underline}.sn-nav-item.-max-display{width:100%;padding:.5rem}:host(:not([dir=rtl])) .sn-nav-item.-max-display,:root:not([dir=rtl]) .sn-nav-item.-max-display{padding-left:1rem}:host([dir=rtl]) .sn-nav-item.-max-display,:root[dir=rtl] .sn-nav-item.-max-display{padding-right:1rem}.sn-nav-item-label{overflow:hidden;width:100%;text-overflow:ellipsis}:host(:not([dir=rtl])) .sn-nav-item-label,:root:not([dir=rtl]) .sn-nav-item-label{text-align:left}:host([dir=rtl]) .sn-nav-item-label,:root[dir=rtl] .sn-nav-item-label{text-align:right}.sn-nav-item-label.-show-one-line{white-space:nowrap}.sn-nav-item-label.-show-two-lines{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}\", \"\"]);\n\n// exports\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-badge';\nimport { badgeDataProvider } from './sn-canvas-badge-data-provider';\n\nconst snCanvasBadgeConnected = ({ properties }) => {\n\tconst { count } = properties;\n\treturn count ? (\n\t\t<now-badge\n\t\t\tround\n\t\t\tmaxDigits=\"3\"\n\t\t\tsize=\"sm\"\n\t\t\tstatus=\"critical\"\n\t\t\tvalue={count}\n\t\t\tvariant=\"primary\"\n\t\t/>\n\t) : null;\n};\n\ncreateCustomElement('sn-canvas-badge-connected', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasBadgeConnected\n\t},\n\tproperties: {\n\t\tcount: {\n\t\t\tdefault: 0\n\t\t}\n\t},\n\tbehaviors: [badgeDataProvider]\n});\n","import { actionTypes } from '@servicenow/ui-core';\nimport { createAmbSubscriptionEffect } from '@servicenow/ui-effect-amb';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport get from 'lodash/get';\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_DISCONNECTED } = actionTypes;\n\nconst RECORD_WATCHER_ACTIONS = {\n\tSUBSCRIBED_STARTED: 'RECORD_WATCHER_SUBSCRIBE_STARTED',\n\tSUBSCRIBED: 'RECORD_WATCHER_SUBSCRIBED',\n\tSUBSCRIBED_FAILED: 'RECORD_WATCHER_SUBSCRIBE_FAILED',\n\tUNSUBSCRIBED: 'RECORD_WATCHER_UNSUBSCRIBED',\n\tITEM_CHANGED: 'RECORD_WATCHER_ITEM_CHANGED',\n\tSUBSCRIPTION_CHANGED: 'RECORD_WATCHER_SUBSCRIPTION_CHANGED'\n};\n\nconst AGGREGATE_COUNT_ACTIONS = {\n\tFETCH: 'AGGREGATE_COUNT_FETCH',\n\tSTARTED: 'AGGREGATE_COUNT_STARTED',\n\tSUCCEEDED: 'AGGREGATE_COUNT_SUCCEEDED',\n\tFAILED: 'AGGREGATE_COUNT_FAILED'\n};\n\nconst aggregateCountQuery = `query($table: String!, $filter: String!) {\n    GlideAggregate_Query(tableName: $table, queryConditions: $filter) {\n      count\n    }\n  }`;\n\nconst fetchAggregateCountEffect = createGraphQLEffect(aggregateCountQuery, {\n\tvariableList: ['table', 'filter'],\n\tstartActionType: AGGREGATE_COUNT_ACTIONS.STARTED,\n\tsuccessActionType: AGGREGATE_COUNT_ACTIONS.SUCCEEDED,\n\terrorActionType: AGGREGATE_COUNT_ACTIONS.FAILED\n});\n\nconst recordWatcherHandler = createAmbSubscriptionEffect(\n\t'/rw/count/:table/:filter',\n\t{\n\t\tsubscribeStartedActionType: RECORD_WATCHER_ACTIONS.SUBSCRIBE_STARTED,\n\t\tsubscribeSucceededActionType: RECORD_WATCHER_ACTIONS.SUBSCRIBED,\n\t\tsubscribeFailedActionType: RECORD_WATCHER_ACTIONS.SUBSCRIBE_FAILED,\n\t\tunsubscribeSucceededActionType: RECORD_WATCHER_ACTIONS.UNSUBSCRIBED,\n\t\tmessageReceivedActionType: RECORD_WATCHER_ACTIONS.ITEM_CHANGED\n\t}\n);\n\nconst getSubscriptionArgs = (table, filter, subscribe) => ({\n\tsubscribe,\n\ttable,\n\tfilter: btoa(filter).replace(/=/g, '-')\n});\n\nconst lifeCycleActionHandlers = {\n\t[COMPONENT_BOOTSTRAPPED]: ({ properties, dispatch }) => {\n\t\tconst { configurations, type } = properties;\n\t\tswitch (type) {\n\t\t\tcase 'record': {\n\t\t\t\tconst { table, filter } = configurations;\n\t\t\t\tif (table && filter) {\n\t\t\t\t\t// Fetch initial data\n\t\t\t\t\tdispatch(AGGREGATE_COUNT_ACTIONS.FETCH, {\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\tfilter\n\t\t\t\t\t});\n\n\t\t\t\t\t// Subscribe to changes\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tRECORD_WATCHER_ACTIONS.SUBSCRIPTION_CHANGED,\n\t\t\t\t\t\tgetSubscriptionArgs(table, filter, true)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\t[COMPONENT_DISCONNECTED]: ({ properties, dispatch }) => {\n\t\tconst { configurations } = properties;\n\t\tconst { table, filter } = configurations;\n\t\tif (table && filter) {\n\t\t\t// unsubscribe to changes\n\t\t\tdispatch(\n\t\t\t\tRECORD_WATCHER_ACTIONS.SUBSCRIPTION_CHANGED,\n\t\t\t\tgetSubscriptionArgs(table, filter, false)\n\t\t\t);\n\t\t}\n\t}\n};\n\nconst aggregateCountActionHandlers = {\n\t[AGGREGATE_COUNT_ACTIONS.FETCH]: fetchAggregateCountEffect,\n\t[AGGREGATE_COUNT_ACTIONS.SUCCEEDED]: ({ action, updateProperties }) => {\n\t\tconst count = get(action, 'payload.data.GlideAggregate_Query[0].count', 0);\n\t\tupdateProperties({ count });\n\t},\n\t[AGGREGATE_COUNT_ACTIONS.FAILED]: ({ properties, updateProperties }) => {\n\t\tconst { table, filter } = properties;\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t`Failed to fetch aggregate counts with for table, ${table} with filter, ${filter}`\n\t\t);\n\t\tupdateProperties({ count: 0 });\n\t}\n};\n\nconst recordWatcherActionHandlers = {\n\t[RECORD_WATCHER_ACTIONS.SUBSCRIPTION_CHANGED]: recordWatcherHandler,\n\t[RECORD_WATCHER_ACTIONS.ITEM_CHANGED]: ({\n\t\taction,\n\t\tproperties,\n\t\tupdateProperties\n\t}) => {\n\t\tconst countUpdate = get(action, 'payload.data.count', '').split('');\n\t\tconst { count } = properties;\n\t\tif (countUpdate[0] === '+') {\n\t\t\tupdateProperties({ count: count + parseInt(countUpdate[1]) });\n\t\t} else if (countUpdate[0] === '-') {\n\t\t\tupdateProperties({ count: count - parseInt(countUpdate[1]) });\n\t\t}\n\t}\n};\n\nexport const badgeDataProvider = {\n\tname: 'BADGE_DATA_PROVIDER',\n\tproperties: {\n\t\tconfigurations: {\n\t\t\tdefault: {}\n\t\t},\n\t\ttype: {\n\t\t\tdefault: 'record'\n\t\t}\n\t},\n\tactions: {\n\t\t[AGGREGATE_COUNT_ACTIONS.FETCH]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[AGGREGATE_COUNT_ACTIONS.STARTED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[AGGREGATE_COUNT_ACTIONS.SUCCEEDED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[AGGREGATE_COUNT_ACTIONS.FAILED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[RECORD_WATCHER_ACTIONS.SUBSCRIBED_STARTED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[RECORD_WATCHER_ACTIONS.SUBSCRIBED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[RECORD_WATCHER_ACTIONS.SUBSCRIBED_FAILED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[RECORD_WATCHER_ACTIONS.UNSUBSCRIBED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[RECORD_WATCHER_ACTIONS.ITEM_CHANGED]: {\n\t\t\tprivate: true\n\t\t},\n\t\t[RECORD_WATCHER_ACTIONS.SUBSCRIPTION_CHANGED]: {\n\t\t\tprivate: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t...aggregateCountActionHandlers,\n\t\t...recordWatcherActionHandlers,\n\t\t...lifeCycleActionHandlers\n\t}\n};\n","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { getFocusableNodes } from '@servicenow/behavior-focus';\nimport '@servicenow/now-popover';\nimport '@servicenow/now-tooltip';\nimport { t } from 'sn-translate';\n\nimport '../../internal/sn-canvas-menu-dropdown/sn-canvas-user-menu-dropdown-panel';\n\nconst UserMenu = ({\n\tuserAvatar,\n\tuserName,\n\tuserPreferencesEnabled,\n\titems,\n\tuserPrefs,\n\texperience,\n\tshowUserMenuTooltip,\n\tuserMenuRef,\n\tupdateState\n}) => {\n\t// Convert the current items schema into one that is acceptable by\n\t// sn-canvas-menu-dropdown-panel. Meaning, wrap each item in an object with\n\t// key of \"value\".\n\tconst dropdownItems = items.map((item) => ({ value: item }));\n\tconst hasDropdownItems = dropdownItems.length > 0;\n\n\tconst _UserPanelVisibleListener = (evt) => {\n\t\tconst popover_slot_content = evt.detail.payload.content[0];\n\t\tconst { firstFocusableElement } = getFocusableNodes(popover_slot_content);\n\t\tif (firstFocusableElement) firstFocusableElement.focus();\n\t};\n\n\tconst _showUserMenuTooltip = () => updateState({ showUserMenuTooltip: true });\n\n\tconst _hideUserMenuTooltip = () =>\n\t\tupdateState({ showUserMenuTooltip: false });\n\n\tconst _handlePopoverInsert = ({ elm }) => {\n\t\tif (!elm) return;\n\t\telm.addEventListener(\n\t\t\t'NOW_POPOVER#CONTENT_VISIBLE',\n\t\t\t_UserPanelVisibleListener\n\t\t);\n\t\telm.addEventListener(\n\t\t\t'NOW_POPOVER#OPENED_SET',\n\t\t\t({\n\t\t\t\tdetail: {\n\t\t\t\t\tpayload: { value }\n\t\t\t\t}\n\t\t\t}) => {\n\t\t\t\telm.opened = value;\n\t\t\t\tconst button = elm.firstElementChild;\n\n\t\t\t\tif (button) {\n\t\t\t\t\tconst icon = button.lastElementChild;\n\t\t\t\t\tconst iconName = value\n\t\t\t\t\t\t? 'chevron-up-outline'\n\t\t\t\t\t\t: 'chevron-down-outline';\n\t\t\t\t\tif (icon) icon.setAttribute('icon', iconName);\n\t\t\t\t\tbutton.setAttribute('aria-expanded', value);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\tconst _handlePopoverDestroy = ({ elm }) => {\n\t\tif (!elm) return;\n\t\telm.removeEventListener(\n\t\t\t'NOW_POPOVER#CONTENT_VISIBLE',\n\t\t\t_UserPanelVisibleListener\n\t\t);\n\t\telm.removeEventListener(\n\t\t\t'NOW_POPOVER#OPENED_SET',\n\t\t\t({\n\t\t\t\tdetail: {\n\t\t\t\t\tpayload: { value }\n\t\t\t\t}\n\t\t\t}) => {\n\t\t\t\telm.opened = value;\n\t\t\t\tconst triggerBtn = elm.firstElementChild;\n\t\t\t\tif (triggerBtn) triggerBtn.setAttribute('aria-expanded', value);\n\t\t\t}\n\t\t);\n\t};\n\n\treturn userPreferencesEnabled ? (\n\t\t<slot name=\"user-menu\">\n\t\t\t{hasDropdownItems ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<now-popover\n\t\t\t\t\t\tclassName=\"sn-canvas-user-menu-popover\"\n\t\t\t\t\t\tinteraction-type=\"listbox\"\n\t\t\t\t\t\thide-tail\n\t\t\t\t\t\tpositions={[\n\t\t\t\t\t\t\t{ target: 'bottom-start', content: 'top-start' },\n\t\t\t\t\t\t\t{ target: 'bottom-end', content: 'top-end' }\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tmanage-opened\n\t\t\t\t\t\thook-insert={_handlePopoverInsert}\n\t\t\t\t\t\thook-destroy={_handlePopoverDestroy}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ton-focus={_showUserMenuTooltip}\n\t\t\t\t\t\t\ton-blur={_hideUserMenuTooltip}\n\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t'sn-canvas-user-menu-trigger': true,\n\t\t\t\t\t\t\t\t['--' + experience]: experience === 'workspace'\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label={t('User Menu')}\n\t\t\t\t\t\t\taria-haspopup\n\t\t\t\t\t\t\tslot=\"trigger\">\n\t\t\t\t\t\t\t<now-avatar\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\timage-src={userAvatar}\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tuser-name={userName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tref={(elm) => updateState({ userMenuRef: elm })}\n\t\t\t\t\t\t\t\taria-describedby=\"user-menu-tooltip\"\n\t\t\t\t\t\t\t\ton-mouseenter={_showUserMenuTooltip}\n\t\t\t\t\t\t\t\ton-mouseout={_hideUserMenuTooltip}>\n\t\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\tclassName=\"sn-canvas-user-menu-chevron\"\n\t\t\t\t\t\t\t\t\ticon=\"chevron-down-outline\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<sn-canvas-user-menu-dropdown-panel\n\t\t\t\t\t\t\tmenu-items={{ items: dropdownItems }}\n\t\t\t\t\t\t\tuserPrefs={userPrefs}\n\t\t\t\t\t\t\tslot=\"content\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</now-popover>\n\t\t\t\t\t<now-tooltip\n\t\t\t\t\t\tid=\"user-menu-tooltip\"\n\t\t\t\t\t\tmanage-opened\n\t\t\t\t\t\topened={showUserMenuTooltip}\n\t\t\t\t\t\ttarget-ref={userMenuRef}\n\t\t\t\t\t\tcontent={t('User Menu')}\n\t\t\t\t\t\tposition={['bottom-start top-center']}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t) : (\n\t\t\t\t<now-avatar\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\timage-src={userAvatar}\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tuser-name={userName}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</slot>\n\t) : null;\n};\n\nexport default UserMenu;\n","import get from 'lodash/get';\nimport isNil from 'lodash/isNil';\n\nimport { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport '@servicenow/now-collapse';\nimport '@servicenow/now-toggle';\nimport '@servicenow/now-icon';\n\nimport snCanvasUserMenuDropDownStyles from './_sn-canvas-user-menu-dropdown-panel-container.scss';\nimport keyboardEventHandler from './utils/keyboardEventHandler';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst createToggleInput = (label, value) => {\n\treturn {\n\t\tlabel,\n\t\tvalue: {\n\t\t\ttoggleValue: get(value, 'value', null),\n\t\t\ttoggleAction: get(value, 'action.name', null),\n\t\t\ttogglePayload: get(value, 'action.payload', {})\n\t\t}\n\t};\n};\n\nconst getToggleValue = (name, preferences, defaultValue) => {\n\t// return bool\n\t// defaultValue and element.value are both strings, converted to bool during \"return\" statement\n\tif (!preferences) return defaultValue;\n\tlet toggleValue = defaultValue;\n\tpreferences.forEach((element) => {\n\t\tif (element[0] === name) {\n\t\t\ttoggleValue = isNil(element[1])\n\t\t\t\t? toggleValue\n\t\t\t\t: element[1].toString().toLowerCase() === 'true';\n\t\t}\n\t});\n\treturn toggleValue;\n};\n\nconst renderToggle = ({ item_value, idx, userPrefs }) => {\n\tconst {\n\t\tlabel = '',\n\t\tvalue: { toggleAction, togglePayload, toggleValue }\n\t} = item_value;\n\n\tconst resolvedToggleValue = getToggleValue(\n\t\ttogglePayload.name,\n\t\tuserPrefs ? Object.entries(userPrefs) : null,\n\t\ttoggleValue\n\t);\n\tconst toggleId = `toggle_${idx}`;\n\tconst toggleLabelId = `toggle_label_${idx}`;\n\treturn (\n\t\t<li\n\t\t\tkey={toggleId}\n\t\t\trole=\"menuitem\"\n\t\t\tclassName=\"sn-canvas-user-menu-dropdown-list-item -toggle-item\"\n\t\t\ton-click={(evt) => {\n\t\t\t\t// if click is on toggle element, ignore click event and let\n\t\t\t\t// togggle component action handler handle event.\n\t\t\t\tif (evt.target.tagName === 'NOW-TOGGLE') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// if click is on the list item (i.e. surrounding area of toggle),\n\t\t\t\t// find the toggle and click it.\n\t\t\t\tconst toggle = evt.target.nextElementSibling;\n\t\t\t\ttoggle.shadowRoot.querySelector('input').click();\n\t\t\t}}>\n\t\t\t<label htmlFor={toggleId} id={toggleLabelId} className=\"toggle-label\">\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t\t<now-toggle\n\t\t\t\tdata-id={toggleId}\n\t\t\t\tid={toggleId}\n\t\t\t\tappendToPayload={{\n\t\t\t\t\ttoggleAction,\n\t\t\t\t\ttogglePayload,\n\t\t\t\t\tmenuIdx: idx\n\t\t\t\t}}\n\t\t\t\tclassName=\"last-in-line\"\n\t\t\t\tsize=\"sm\"\n\t\t\t\tchecked={resolvedToggleValue ? true : false}\n\t\t\t\tconfig-aria={{\n\t\t\t\t\tswitch: { 'aria-label': label }\n\t\t\t\t}}\n\t\t\t/>\n\t\t</li>\n\t);\n};\n\nconst renderNavItem = ({ item_value, dispatch, idx }) => {\n\tconst {\n\t\tlabel,\n\t\ticon,\n\t\tvalue: { value, type = 'route', opensWindow = false }\n\t} = item_value;\n\n\treturn (\n\t\t<li\n\t\t\tclassName=\"sn-canvas-user-menu-dropdown-list-item\"\n\t\t\ton-click={() => {\n\t\t\t\tdispatch('NOW_POPOVER#OPENED_SET', { value: false });\n\t\t\t}}\n\t\t\trole=\"presentation\">\n\t\t\t<sn-nav-item\n\t\t\t\tclassName=\"nav-item\"\n\t\t\t\tdata-id={idx}\n\t\t\t\tlabel={label}\n\t\t\t\trole=\"menuitem\"\n\t\t\t\tvariant=\"sub-nav\"\n\t\t\t\tmax-display\n\t\t\t\ttooltip={label}\n\t\t\t\topens-window={opensWindow}\n\t\t\t\ttype={type}\n\t\t\t\titem-value={value}>\n\t\t\t\t{icon ? <now-icon size=\"md\" slot=\"startsWith\" icon={icon} /> : null}\n\t\t\t</sn-nav-item>\n\t\t</li>\n\t);\n};\n\nconst renderNavMenu = ({\n\titem,\n\tchildren,\n\tidx,\n\texpandedSubMenus,\n\tupdateState,\n\tdispatch,\n\tuserPrefs\n}) => {\n\tconst menuId = `menu_${idx}`;\n\tconst isExpanded = expandedSubMenus.includes(menuId);\n\treturn (\n\t\t<Fragment>\n\t\t\t<li\n\t\t\t\tclassName=\"sn-canvas-user-menu-dropdown-list-item\"\n\t\t\t\trole=\"presentation\">\n\t\t\t\t<button\n\t\t\t\t\tdata-id={idx}\n\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\ton-click={() => {\n\t\t\t\t\t\tisExpanded\n\t\t\t\t\t\t\t? updateState({\n\t\t\t\t\t\t\t\t\tpath: 'expandedSubMenus',\n\t\t\t\t\t\t\t\t\toperation: 'splice',\n\t\t\t\t\t\t\t\t\tstart: expandedSubMenus.indexOf(menuId),\n\t\t\t\t\t\t\t\t\tdeleteCount: 1\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t: updateState({\n\t\t\t\t\t\t\t\t\tpath: 'expandedSubMenus',\n\t\t\t\t\t\t\t\t\tvalue: menuId,\n\t\t\t\t\t\t\t\t\toperation: 'push'\n\t\t\t\t\t\t\t  });\n\t\t\t\t\t}}>\n\t\t\t\t\t<span>{get(item, 'label', '')}</span>\n\t\t\t\t\t<now-icon\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tclassName=\"last-in-line\"\n\t\t\t\t\t\ticon={isExpanded ? 'chevron-up-outline' : 'chevron-down-outline'}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t\t<li role=\"presentation\">\n\t\t\t\t<now-collapse id={`menu_${idx}`} expanded={isExpanded}>\n\t\t\t\t\t<ul\n\t\t\t\t\t\trole=\"menu\"\n\t\t\t\t\t\tclassName=\"sn-canvas-user-menu-dropdown-list-sub-menu\">\n\t\t\t\t\t\t{children.map(({ label, opensWindow, icon, type, value }, indx) => {\n\t\t\t\t\t\t\tif (type === 'divider') {\n\t\t\t\t\t\t\t\treturn renderDivider(label);\n\t\t\t\t\t\t\t} else if (type === 'toggle') {\n\t\t\t\t\t\t\t\treturn renderToggle({\n\t\t\t\t\t\t\t\t\titem_value: createToggleInput(label, value),\n\t\t\t\t\t\t\t\t\tidx: `${idx}${indx}`,\n\t\t\t\t\t\t\t\t\tuserPrefs\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst item_value = {\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\tvalue: { value, type, opensWindow }\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\treturn renderNavItem({\n\t\t\t\t\t\t\t\t\titem_value,\n\t\t\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\t\t\tidx: `${idx}${indx}`\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</now-collapse>\n\t\t\t</li>\n\t\t</Fragment>\n\t);\n};\n\nconst renderDivider = (label) => {\n\treturn !label ? (\n\t\t<hr className=\"sn-canvas-user-menu-dropdown-list-divider\" />\n\t) : (\n\t\t<li\n\t\t\tclassName=\"sn-canvas-user-menu-dropdown-list-divider -label\"\n\t\t\trole=\"none\">\n\t\t\t{label}\n\t\t</li>\n\t);\n};\n\nconst snCanvasUserMenuDropDownPanel = (state, { dispatch, updateState }) => {\n\tconst { expandedSubMenus, properties } = state;\n\tconst { menuItems = {}, userPrefs } = properties;\n\tconst { items = [] } = menuItems;\n\treturn (\n\t\t<div\n\t\t\tclassName=\"sn-canvas-user-menu-dropdown-panel-container\"\n\t\t\trole=\"presentation\">\n\t\t\t<ul className=\"sn-canvas-user-menu-dropdown-list\" role=\"menu\">\n\t\t\t\t{items.map((item, idx) => {\n\t\t\t\t\tconst { value: item_value = {} } = item;\n\t\t\t\t\tconst { type, value, label = '' } = item_value;\n\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'navigation':\n\t\t\t\t\t\t\treturn renderNavItem({ item_value, dispatch, idx });\n\t\t\t\t\t\tcase 'toggle':\n\t\t\t\t\t\t\treturn renderToggle({\n\t\t\t\t\t\t\t\titem_value: createToggleInput(label, value),\n\t\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t\tuserPrefs\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tcase 'menu':\n\t\t\t\t\t\t\treturn renderNavMenu({\n\t\t\t\t\t\t\t\titem: item_value,\n\t\t\t\t\t\t\t\tchildren: get(get(item_value, 'value', {}), 'children', []),\n\t\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t\texpandedSubMenus,\n\t\t\t\t\t\t\t\tupdateState,\n\t\t\t\t\t\t\t\tuserPrefs\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tcase 'divider':\n\t\t\t\t\t\t\treturn renderDivider(item_value.label);\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\ncreateCustomElement('sn-canvas-user-menu-dropdown-panel', {\n\tproperties: {\n\t\tmenuItems: {\n\t\t\tdefault: {\n\t\t\t\titems: []\n\t\t\t}\n\t\t},\n\t\tuserPrefs: {\n\t\t\tdefault: {}\n\t\t}\n\t},\n\tinitialState: {\n\t\texpandedSubMenus: []\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasUserMenuDropDownPanel\n\t},\n\tstyles: snCanvasUserMenuDropDownStyles,\n\teventHandlers: [...keyboardEventHandler],\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ action, updateState }) => {\n\t\t\tconst { name, value } = action.payload;\n\t\t\tif (name === 'nowHoist' && !value) updateState({ expandedSubMenus: [] });\n\t\t},\n\t\t['NOW_TOGGLE#CHECKED_SET']: {\n\t\t\teffect: ({ action, dispatch }) => {\n\t\t\t\tconst { value, toggleAction, togglePayload } = action.payload;\n\n\t\t\t\tif (toggleAction) {\n\t\t\t\t\tdispatch(toggleAction, { ...togglePayload, value });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tbehaviors: [rtlBehavior]\n});\n","module.exports = __TECTONIC__$servicenow_now_collapse;","module.exports = __TECTONIC__$servicenow_now_toggle;","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-user-menu-dropdown-panel-container.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}ul{padding:0}li,ul{margin:0}li{list-style-type:none}.sn-canvas-user-menu-dropdown-panel-container{width:auto;min-width:166px;max-width:332px;font-size:1rem;background-color:RGB(var(--mv9-Jrmsr1-TtmW-Xrmtj--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255)))}.sn-canvas-user-menu-dropdown-list{justify-content:space-between;align-items:center;width:auto}.sn-canvas-user-menu-dropdown-list-item{display:flex;align-items:center;width:auto;padding:0;cursor:pointer;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ,var(--now-color--neutral-18,22,27,28)))}:host(:not([dir=rtl])) .sn-canvas-user-menu-dropdown-list-item,:root:not([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item{padding-left:0}:host([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item,:root[dir=rtl] .sn-canvas-user-menu-dropdown-list-item{padding-right:0}.sn-canvas-user-menu-dropdown-list-item .toggle-label{padding:.5rem;cursor:inherit}:host(:not([dir=rtl])) .sn-canvas-user-menu-dropdown-list-item .toggle-label,:root:not([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item .toggle-label{padding-left:1rem}:host([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item .toggle-label,:root[dir=rtl] .sn-canvas-user-menu-dropdown-list-item .toggle-label{padding-right:1rem}.sn-canvas-user-menu-dropdown-list-item .last-in-line{float:right;margin-left:auto}.sn-canvas-user-menu-dropdown-list-item button{display:inline-block;width:100%;height:100%;margin:0;border:none;padding:.5rem;font-size:1rem;font-family:inherit;cursor:pointer;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ,var(--now-color--neutral-18,22,27,28)));background-color:transparent}:host(:not([dir=rtl])) .sn-canvas-user-menu-dropdown-list-item button,:root:not([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item button{padding-left:1rem}:host([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item button,:root[dir=rtl] .sn-canvas-user-menu-dropdown-list-item button{padding-right:1rem}:host(:not([dir=rtl])) .sn-canvas-user-menu-dropdown-list-item button,:root:not([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item button{text-align:left}:host([dir=rtl]) .sn-canvas-user-menu-dropdown-list-item button,:root[dir=rtl] .sn-canvas-user-menu-dropdown-list-item button{text-align:right}.sn-canvas-user-menu-dropdown-list-item button:hover{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-0,221,237,233)),var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--vXrJAzO--8vstZ,.5))}.sn-canvas-user-menu-dropdown-list-item button:active,.sn-canvas-user-menu-dropdown-list-item button:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-0,221,237,233)));outline:none}.sn-canvas-user-menu-dropdown-list-item .nav-item{width:100%}.sn-canvas-user-menu-dropdown-list-item:active,.sn-canvas-user-menu-dropdown-list-item:focus{color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--rJzAst,var(--now-color--neutral-18,22,27,28)))}.sn-canvas-user-menu-dropdown-list-item:hover{cursor:pointer;color:RGB(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--JvjvZ--8vstZ,var(--now-color--neutral-18,22,27,28)));background-color:RGBA(var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-0,221,237,233)),var(--mv9-Jrmsr1-mrs-AztT--1Wk-mrs--vXrJAzO--8vstZ,.5))}.sn-canvas-user-menu-dropdown-list-sub-menu{border-top:1px solid rgb(var(--mv9-jrmsr1-ttmw-xrmtj-1wkttmw--kvzptz-jvjvz,var(--now-color--neutral-5,172,180,181)));padding:0;background-color:RGB(var(--mv9-Jrmsr1-TtmW-Xrmtj-1WkTtmW--krJUfZvWmp-JvjvZ,var(--now-color--neutral-1,246,247,247)))}:host(:not([dir=rtl])) .sn-canvas-user-menu-dropdown-list-sub-menu,:root:not([dir=rtl]) .sn-canvas-user-menu-dropdown-list-sub-menu{padding-left:0}:host([dir=rtl]) .sn-canvas-user-menu-dropdown-list-sub-menu,:root[dir=rtl] .sn-canvas-user-menu-dropdown-list-sub-menu{padding-right:0}.sn-canvas-user-menu-dropdown-list-divider{margin:0}.sn-canvas-user-menu-dropdown-list-divider.-label{position:relative;display:flex;overflow:hidden;align-items:center;margin:.25rem 0;font-size:.75rem;color:RGB(var(--mv9-Jrmsr1-TtmW-Xrmtj-pAsAptZ-jrktj--JvjvZ,var(--now-color--neutral-12,66,80,81)))}:host(:not([dir=rtl])) .sn-canvas-user-menu-dropdown-list-divider.-label,:root:not([dir=rtl]) .sn-canvas-user-menu-dropdown-list-divider.-label{padding-left:1rem}:host([dir=rtl]) .sn-canvas-user-menu-dropdown-list-divider.-label,:root[dir=rtl] .sn-canvas-user-menu-dropdown-list-divider.-label{padding-right:1rem}.sn-canvas-user-menu-dropdown-list-divider.-label:hover{cursor:default;background-color:transparent}\", \"\"]);\n\n// exports\n","import { ARROW_DOWN_KEY, ARROW_UP_KEY } from '../../../../constants/constants';\n\nconst SUB_MENU_BASE_SELECTOR =\n\t'.sn-canvas-user-menu-dropdown-panel-container > .sn-canvas-user-menu-dropdown-list > li > now-collapse[aria-hidden=\"false\"] > ul > .sn-canvas-user-menu-dropdown-list-item';\nconst FIRST_LEVEL_ITEM_BASE_SELECTOR =\n\t'.sn-canvas-user-menu-dropdown-panel-container > .sn-canvas-user-menu-dropdown-list > .sn-canvas-user-menu-dropdown-list-item';\nconst SUB_MENU_NAV_ITEM_SELECTOR = `${SUB_MENU_BASE_SELECTOR} > sn-nav-item`;\nconst SUB_MENU_TOGGLE_SELECTOR = `${SUB_MENU_BASE_SELECTOR} > now-toggle`;\nconst NAV_ITEM_SELECTOR = `${FIRST_LEVEL_ITEM_BASE_SELECTOR} > sn-nav-item`;\nconst SUB_MENU_SELECTOR = `${FIRST_LEVEL_ITEM_BASE_SELECTOR} > button`;\nconst TOGGLE_SELECTOR = `${FIRST_LEVEL_ITEM_BASE_SELECTOR} > now-toggle`;\n\nconst CANVAS_USER_DROP_DOWN_MENU_ITEMS_SELECTOR = `${SUB_MENU_NAV_ITEM_SELECTOR},${SUB_MENU_TOGGLE_SELECTOR},${NAV_ITEM_SELECTOR},${SUB_MENU_SELECTOR},${TOGGLE_SELECTOR}`;\n\n/**\n * Get displayed user menu drop down items. This includes submenu items with\n * now-collapse that are expanded\n *\n * @param {HTMLElement} host\n */\nconst _getDropDownItems = (host) => [\n\t...host.nowRootNode.querySelectorAll(\n\t\tCANVAS_USER_DROP_DOWN_MENU_ITEMS_SELECTOR\n\t)\n];\n\n/**\n * @param {HTMLElement} host\n */\nconst _clearTabIndex = (host) => {\n\tconst listItems = _getDropDownItems(host);\n\tlistItems.forEach((menuItem) => menuItem.setAttribute('tabindex', '-1'));\n};\n\n/**\n * @param {HTMLElement} host\n */\nconst _getFocusedElement = (host) => host.nowRootNode.activeElement;\n\n/**\n * @param {HTMLElement} host\n */\nconst _getFocusedElementIndex = (host) => {\n\tconst menuItems = _getDropDownItems(host);\n\tconst focusedEl = _getFocusedElement(host);\n\tif (focusedEl) {\n\t\tconst { id } = focusedEl.dataset;\n\t\treturn menuItems.findIndex((item) => item.dataset.id === id);\n\t} else {\n\t\treturn 0;\n\t}\n};\n\n/**\n * Find currently focused item and the set focus on the next item.\n * @param {HTMLElement} host\n */\nconst _focusNextItem = (host) => {\n\tconst currentFocusIndex = _getFocusedElementIndex(host);\n\tconst menuItems = _getDropDownItems(host);\n\t_clearTabIndex(host);\n\tif (currentFocusIndex < menuItems.length - 1) {\n\t\t_setFocus(menuItems[currentFocusIndex + 1]);\n\t} else {\n\t\t_focusFirstItem(host);\n\t}\n};\n\n/**\n * Find currently focused item and the set focus on the prior item.\n * @param {HTMLElement} host\n */\nconst _focusPreviousItem = (host) => {\n\tconst currentFocusIndex = _getFocusedElementIndex(host);\n\tconst menuItems = _getDropDownItems(host);\n\t_clearTabIndex(host);\n\tif (currentFocusIndex == 0) {\n\t\t_focusLastItem(host);\n\t} else {\n\t\t_setFocus(menuItems[currentFocusIndex - 1]);\n\t}\n};\n\n/**\n * @param {HTMLElement} element\n */\nconst _setFocus = (element) => {\n\telement.removeAttribute('tabindex');\n\tif (element) element.focus();\n};\n\n/**\n * @param {HTMLElement} host\n */\nconst _focusFirstItem = (host) => {\n\tconst menuItems = _getDropDownItems(host);\n\t_clearTabIndex(host);\n\tif (menuItems.length > 0) {\n\t\t_setFocus(menuItems[0]);\n\t}\n};\n\n/**\n * @param {HTMLElement} host\n */\nconst _focusLastItem = (host) => {\n\tconst menuItems = _getDropDownItems(host);\n\t_clearTabIndex(host);\n\tif (menuItems.length > 0) {\n\t\t_setFocus(menuItems[menuItems.length - 1]);\n\t}\n};\n\nexport default [\n\t{\n\t\tcapture: false,\n\t\tevents: ['keydown'],\n\t\teffect({\n\t\t\thost,\n\t\t\taction: {\n\t\t\t\tpayload: { event }\n\t\t\t}\n\t\t}) {\n\t\t\tconst { key } = event;\n\t\t\tif ([ARROW_DOWN_KEY, ARROW_UP_KEY].indexOf(key) > -1) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tswitch (key) {\n\t\t\t\tcase ARROW_DOWN_KEY:\n\t\t\t\t\t_focusNextItem(host);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ARROW_UP_KEY:\n\t\t\t\t\t_focusPreviousItem(host);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n];\n","import '@servicenow/now-text-link';\nimport '@servicenow/now-button';\nimport { PUBLIC_ACTION_BUTTON_CLICKED } from '../../../constants/constants';\n\nconst handleLogin = (dispatch, value) => {\n\tdispatch(PUBLIC_ACTION_BUTTON_CLICKED, {\n\t\tpublicActionRoute: value\n\t});\n};\n\nconst PublicActions = ({ actions, dispatch }) => {\n\t// TODO: Should update this button to sn-nav-item once changes to login modal are finalized\n\treturn (\n\t\t<ul className=\"sn-canvas-global-tools\">\n\t\t\t{actions.map(({ label, bare, value }) => (\n\t\t\t\t<li className=\"sn-canvas-global-tools-list-item sn-canvas-global-tools-list-item-public-action\">\n\t\t\t\t\t{bare ? (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"sn-canvas-global-tools-public-action -bare\"\n\t\t\t\t\t\t\ton-click={() => handleLogin(dispatch, value)}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\tclassName=\"sn-canvas-global-tools-public-action\"\n\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tappend-to-payload={{ publicActionRoute: value }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nexport default PublicActions;\n","module.exports = __TECTONIC__$servicenow_now_text_link;","import './sn-canvas-content';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport snCanvasContentStyles from './_sn-canvas-content.scss';\nimport rtlBehavior from '@servicenow/behavior-rtl';\n\n// eslint-disable-next-line no-unused-vars\nconst snCanvasContent = (state) => {\n\tconst { containerProps } = state.properties;\n\treturn (\n\t\t<section className=\"sn-canvas-content\" style={containerProps}>\n\t\t\t<slot />\n\t\t</section>\n\t);\n};\n\ncreateCustomElement('sn-canvas-content', {\n\tproperties: {\n\t\t/**\n\t\t * Property to set the styles for the content\n\t\t * @type {object} Style for container element\n\t\t */\n\t\tcontainerProps: { default: {}, schema: { type: 'object' } }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasContent\n\t},\n\tstyles: snCanvasContentStyles,\n\tbehaviors: [rtlBehavior]\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-content.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-canvas-content{position:relative;height:100%;margin:0;margin-block-start:0;line-height:1.25;font-family:Source Sans Pro,sans-serif;color:var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28));background-color:var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255));font-style:normal;font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;white-space:normal}:host(:not([dir=rtl])) .sn-canvas-content,:root:not([dir=rtl]) .sn-canvas-content{text-align:left}:host([dir=rtl]) .sn-canvas-content,:root[dir=rtl] .sn-canvas-content{text-align:right}\", \"\"]);\n\n// exports\n","import './sn-canvas-footer';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport snCanvasFooterStyles from './_sn-canvas-footer.scss';\nimport { has as _has, slice as _slice } from 'lodash';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport '../sn-nav-item';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-link-set';\nimport '@servicenow/now-button';\nimport { isLinksMultiRow } from './utils/helpers';\nimport { getLogoSource } from '../../utils/logo-source-util';\nimport { t } from 'sn-translate';\n\nconst { COMPONENT_DOM_TREE_READY } = actionTypes;\n\nconst FooterLogo = ({ enableLogo, logoSource, logoAltText }) => {\n\treturn enableLogo ? (\n\t\t<div className=\"sn-canvas-footer-nav-company-logo\">\n\t\t\t<img\n\t\t\t\tclassName=\"sn-canvas-footer-nav-company-logo-img\"\n\t\t\t\tsrc={logoSource}\n\t\t\t\talt={logoAltText}\n\t\t\t/>\n\t\t</div>\n\t) : null;\n};\n\nconst CompanyAddress = ({ enableAddress, address }) => {\n\treturn enableAddress ? (\n\t\t<address className=\"sn-canvas-footer-nav-company-address\">\n\t\t\t<a className=\"link\" href={`mailto:${address.email}`}>\n\t\t\t\t{address.email}\n\t\t\t</a>\n\t\t\t<div className=\"address-first-line\">\n\t\t\t\t<span className=\"text\">{address.first_line.street}</span>\n\t\t\t</div>\n\t\t\t<div className=\"address-second-line\">\n\t\t\t\t<span className=\"text\">{address.second_line.city}</span>\n\t\t\t\t<span className=\"comma\">,</span>\n\t\t\t\t<span className=\"text\">{address.second_line.state}</span>\n\t\t\t\t<span className=\"text\">{address.second_line.zip}</span>\n\t\t\t</div>\n\t\t</address>\n\t) : null;\n};\n\nconst FooterLinkSet = ({ linksetGroup, linkSetPerRow }) => {\n\treturn (\n\t\t<now-link-set-group\n\t\t\tsize=\"md\"\n\t\t\tlinkSetPerRow={linkSetPerRow}\n\t\t\titems={linksetGroup}\n\t\t/>\n\t);\n};\n\nconst FooterNav = ({\n\tlogoSource,\n\tlogoAltText,\n\tenableLogo,\n\tenableAddress,\n\taddress,\n\tenableLinksetGroup,\n\tlinkSetPerRow,\n\tlinksetGroup\n}) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t{enableLogo || enableAddress ? (\n\t\t\t\t<div className=\"sn-canvas-footer-nav-company\">\n\t\t\t\t\t<FooterLogo\n\t\t\t\t\t\tenableLogo={enableLogo}\n\t\t\t\t\t\tlogoSource={logoSource}\n\t\t\t\t\t\tlogoAltText={logoAltText}\n\t\t\t\t\t/>\n\t\t\t\t\t<CompanyAddress enableAddress={enableAddress} address={address} />\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t{enableLinksetGroup ? (\n\t\t\t\t<div className=\"sn-canvas-footer-nav-linkset-group\">\n\t\t\t\t\t<FooterLinkSet\n\t\t\t\t\t\tlinksetGroup={linksetGroup}\n\t\t\t\t\t\tlinkSetPerRow={linkSetPerRow}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</Fragment>\n\t);\n};\n\nconst FooterTopbar = ({\n\tenable,\n\tlogoSource,\n\tlogoAltText,\n\toptions,\n\tlinksetGroup\n}) => {\n\tconst {\n\t\tenable_logo: enableLogo = false,\n\t\tenable_address: enableAddress = false,\n\t\taddress = {},\n\t\tenable_linkset_group: enableLinksetGroup = false,\n\t\tlinkset_per_row: linkSetPerRow = 5\n\t} = options;\n\tconst resolvedLogoSource = getLogoSource(logoSource, 'footer_logo');\n\n\treturn enable ? (\n\t\t<div className=\"sn-canvas-footer-nav\">\n\t\t\t<FooterNav\n\t\t\t\tlogoSource={resolvedLogoSource}\n\t\t\t\tlogoAltText={logoAltText}\n\t\t\t\tenableLogo={enableLogo}\n\t\t\t\tenableAddress={enableAddress}\n\t\t\t\taddress={address}\n\t\t\t\tenableLinksetGroup={enableLinksetGroup}\n\t\t\t\tlinkSetPerRow={linkSetPerRow}\n\t\t\t\tlinksetGroup={linksetGroup}\n\t\t\t/>\n\t\t</div>\n\t) : null;\n};\n\nconst Links = ({ enable, links, maxLinksCount, linksWithMultiRow }) => {\n\tconst getLinks = () => {\n\t\treturn _slice(links, 0, maxLinksCount);\n\t};\n\n\tconst BuildLink = ({ link }) => {\n\t\tconst {\n\t\t\ttype,\n\t\t\topensWindow,\n\t\t\tlabel,\n\t\t\titemValue,\n\t\t\tvariant = 'simple-link-nav',\n\t\t\tdownload = false\n\t\t} = link;\n\n\t\treturn (\n\t\t\t<li className=\"sn-canvas-footer-sub-nav-link\">\n\t\t\t\t<sn-nav-item\n\t\t\t\t\ttype={type}\n\t\t\t\t\topens-window={opensWindow}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\titem-value={itemValue}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t\tdownload={download}\n\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\tlink: { 'aria-label': label }\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn enable ? (\n\t\t<nav className=\"sn-canvas-footer-sub-nav-links\">\n\t\t\t<ul class={{ '-clear-top-margin': linksWithMultiRow }}>\n\t\t\t\t{getLinks().map((link) => (\n\t\t\t\t\t<BuildLink link={link} />\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</nav>\n\t) : null;\n};\n\nconst CopyrightText = ({ enable, text, linksWithMultiRow }) => {\n\treturn enable ? (\n\t\t<p\n\t\t\tclass={{\n\t\t\t\t'sn-canvas-footer-sub-nav-copyright-text': true,\n\t\t\t\t'-align-bottom': linksWithMultiRow\n\t\t\t}}>\n\t\t\t{text}\n\t\t</p>\n\t) : null;\n};\n\nconst SocialLinks = ({ enable, socialLinks, maxSocialLinksCount }) => {\n\tconst getSocialLinks = () => {\n\t\treturn _slice(socialLinks, 0, maxSocialLinksCount);\n\t};\n\n\tconst BuildSocialLink = ({ link }) => {\n\t\tconst { icon, label, url } = link;\n\n\t\treturn (\n\t\t\t<li className=\"sn-canvas-footer-sub-nav-social-link\">\n\t\t\t\t<now-button\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tbare=\"true\"\n\t\t\t\t\tconfigAria={{ button: { 'aria-label': label } }}\n\t\t\t\t\ttooltipContent={label}\n\t\t\t\t\ton-click={() => window.open(url, '_blank')}\n\t\t\t\t/>\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn enable ? (\n\t\t<nav className=\"sn-canvas-footer-sub-nav-social-links\">\n\t\t\t<ul>\n\t\t\t\t{getSocialLinks().map((link) => (\n\t\t\t\t\t<BuildSocialLink link={link} />\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</nav>\n\t) : null;\n};\n\nconst FooterBar = ({ hideTopPadding, enable, options, linksWithMultiRow }) => {\n\tconst {\n\t\tenable_links: enableLinks,\n\t\tmax_links_count: maxLinksCount,\n\t\tlinks,\n\t\tenable_social_links: enableSocialLinks,\n\t\tmax_social_links_count: maxSocialLinksCount = 7,\n\t\tsocial_links: socialLinks,\n\t\tenable_copyright_text: enableCopyrightText,\n\t\tcopyright_text: copyrightText\n\t} = options;\n\n\treturn enable ? (\n\t\t<div\n\t\t\tclass={{\n\t\t\t\t'sn-canvas-footer-sub-nav': true,\n\t\t\t\t'-no-top-padding': hideTopPadding,\n\t\t\t\t'-align-center': !linksWithMultiRow\n\t\t\t}}>\n\t\t\t{/* footer bar links*/}\n\t\t\t<Links\n\t\t\t\tenable={enableLinks}\n\t\t\t\tlinks={links}\n\t\t\t\tmaxLinksCount={maxLinksCount}\n\t\t\t\tlinksWithMultiRow={linksWithMultiRow}\n\t\t\t/>\n\t\t\t{/* social links */}\n\t\t\t<SocialLinks\n\t\t\t\tenable={enableSocialLinks}\n\t\t\t\tsocialLinks={socialLinks}\n\t\t\t\tmaxSocialLinksCount={maxSocialLinksCount}\n\t\t\t/>\n\t\t\t{/* copyright text */}\n\t\t\t<CopyrightText\n\t\t\t\tenable={enableCopyrightText}\n\t\t\t\ttext={copyrightText}\n\t\t\t\tlinksWithMultiRow={linksWithMultiRow}\n\t\t\t/>\n\t\t</div>\n\t) : null;\n};\n\nconst snCanvasFooter = (state) => {\n\tconst {\n\t\tlogoSource,\n\t\tlogoAltText,\n\t\tfooterConfig = {},\n\t\tfooterLinksetConfig = {}\n\t} = state.properties;\n\tconst { public_page: publicPageFooterConfig } = _has(footerConfig, 'global')\n\t\t? footerConfig['global']\n\t\t: { public_page: {} }; // footer will have global configs across all pages\n\tconst { linkset_group: linksetGroup } = _has(footerLinksetConfig, 'global')\n\t\t? footerLinksetConfig['global']\n\t\t: { linkset_group: {} };\n\n\tconst {\n\t\tenable_footer_topbar: enableFooterTopbar = false,\n\t\tfooter_topbar_options: footerTopbarOptions = {},\n\t\tenable_footer_bar: enableFooterBar = false,\n\t\tfooter_bar_options: footerBarOptions = {}\n\t} = publicPageFooterConfig;\n\tconst { linksWithMultiRow } = state;\n\n\treturn enableFooterTopbar || enableFooterBar ? (\n\t\t<footer\n\t\t\tclassName=\"sn-canvas-footer\"\n\t\t\trole=\"contentinfo\"\n\t\t\taria-label={t('Footer')}>\n\t\t\t<FooterTopbar\n\t\t\t\tenable={enableFooterTopbar}\n\t\t\t\tlogoSource={logoSource}\n\t\t\t\tlogoAltText={logoAltText}\n\t\t\t\toptions={footerTopbarOptions}\n\t\t\t\tlinksetGroup={linksetGroup}\n\t\t\t/>\n\t\t\t<FooterBar\n\t\t\t\thideTopPadding={!enableFooterTopbar}\n\t\t\t\tenable={enableFooterBar}\n\t\t\t\toptions={footerBarOptions}\n\t\t\t\tlinksWithMultiRow={linksWithMultiRow}\n\t\t\t/>\n\t\t</footer>\n\t) : null;\n};\n\n/**\n * Common footer component to be used in Applications built with UX Framework / UI Builder, which includes : \n *  - **Footer Topbar**: logo, address and Linkset group\n *  - **Footer Bar**: Links, Social links, Copyright text\n *\n * ```jsx\n * const footerData = {\n *   global: {\n * \t\tpublic_page: {\n * \t\t\tenable_footer_topbar: true,\n * \t\t\tfooter_topbar_options: {\n * \t\t\t\tenable_logo: true,\n * \t\t\t\tenable_address: true,\n * \t\t\t\taddress: {\n * \t\t\t\t\temail: 'info@servicenow.com',\n * \t\t\t\t\tfirst_line: {\n * \t\t\t\t\t\tstreet: '2225 Lawson Lane'\n * \t\t\t\t\t},\n * \t\t\t\t\tsecond_line: {\n * \t\t\t\t\t\tcity: 'Santa Clara',\n * \t\t\t\t\t\tstate: 'CA',\n * \t\t\t\t\t\tzip: '95054'\n * \t\t\t\t\t}\n * \t\t\t\t},\n * \t\t\t\tenable_linkset_group: true,\n * \t\t\t\tlinkset_per_row: 5\n * \t\t\t},\n * \t\t\tenable_footer_bar: true,\n * \t\t\tfooter_bar_options: {\n * \t\t\t\tenable_links: true,\n * \t\t\t\tmax_links_count: 3,\n * \t\t\t\tlinks: [\n * \t\t\t\t\t{\n * \t\t\t\t\t\ttype: 'external',\n * \t\t\t\t\t\topensWindow: '_blank',\n * \t\t\t\t\t\tlabel: 'Terms and conditions',\n * \t\t\t\t\t\titemValue: {\n * \t\t\t\t\t\t\turl: 'https://www.servicenow.com/terms-of-use.html'\n * \t\t\t\t\t\t}\n * \t\t\t\t\t},\n * \t\t\t\t\t{\n * \t\t\t\t\t\ttype: 'external',\n * \t\t\t\t\t\topensWindow: '_blank',\n * \t\t\t\t\t\tlabel: 'Privacy policy',\n * \t\t\t\t\t\titemValue: {\n * \t\t\t\t\t\t\turl: 'https://www.servicenow.com/service-privacy.html'\n * \t\t\t\t\t\t}\n * \t\t\t\t\t},\n * \t\t\t\t\t{\n * \t\t\t\t\t\ttype: 'external',\n * \t\t\t\t\t\topensWindow: '_blank',\n * \t\t\t\t\t\tlabel: 'GDPR',\n * \t\t\t\t\t\titemValue: {\n * \t\t\t\t\t\t\turl: 'https://www.servicenow.com/terms-of-use.html'\n * \t\t\t\t\t\t}\n * \t\t\t\t\t}\n * \t\t\t\t],\n * \t\t\t\tenable_social_links: true,\n * \t\t\t\tmax_social_links_count: 3,\n * \t\t\t\tsocial_links: [\n * \t\t\t\t\t{\n * \t\t\t\t\t\ticon: 'envelope-fill',\n * \t\t\t\t\t\tlabel: 'twitter',\n * \t\t\t\t\t\turl: 'https://twitter.com/servicenow'\n * \t\t\t\t\t},\n * \t\t\t\t\t{\n * \t\t\t\t\t\ticon: 'envelope-fill',\n * \t\t\t\t\t\tlabel: 'linkedin',\n * \t\t\t\t\t\turl: 'https://www.linkedin.com/company/servicenow/'\n * \t\t\t\t\t},\n * \t\t\t\t\t{\n * \t\t\t\t\t\ticon: 'envelope-fill',\n * \t\t\t\t\t\tlabel: 'facebook',\n * \t\t\t\t\t\turl: 'https://www.facebook.com/servicenow'\n * \t\t\t\t\t}\n * \t\t\t\t],\n * \t\t\t\tenable_copyright_text: true,\n * \t\t\t\tcopyright_text: ' 2020 ServiceNow. All rights reserved.'\n * \t\t\t}\n * \t\t}\n * \t}\n * };\n *  // See link set data structure https://code.devsnc.com/dev/now-link-set#now-link-set-api\n *  const const linksetGroupFooter = {\n * \t  global: {\n *         linkset_group: [\n *             { \n *                 heading: {...}, \n *                 links: [{...}], \n *                 browseLink: {} \n *             }]\n *     }\n * \n *  <sn-canvas-footer\n *     logo-alt-text=\"Company logo\"\n *     logo-source=\"/footer_logo_dark_bg.svg\"\n *     footer-config={footerData}\n *     footer-linkset-config={linksetGroupFooter}\n *  />\n \n * ```\n *\n */\ncreateCustomElement('sn-canvas-footer', {\n\tinitialState: {\n\t\tlinksWithMultiRow: false\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Defines the logo alt text.\n\t\t *\n\t\t * @type {(string)}\n\t\t */\n\t\tlogoAltText: {\n\t\t\tdefault: 'Company logo',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\t/**\n\t\t * Defines the logo source.\n\t\t *\n\t\t * @type {(string)}\n\t\t */\n\t\tlogoSource: {\n\t\t\tdefault: '',\n\t\t\tschema: { type: 'string' }\n\t\t},\n\t\t/**\n\t\t * Properties to configure the Footer links, social links, logo, address and copyright.\n\t\t *\n\t\t * @type {(Object)}\n\t\t */\n\t\tfooterConfig: {\n\t\t\tdefault: {},\n\t\t\tschema: { type: 'object' }\n\t\t},\n\t\t/**\n\t\t * Properties to configure the canvas footer linkset.\n\t\t *\n\t\t * @type {(Object)}\n\t\t */\n\t\tfooterLinksetConfig: {\n\t\t\tdefault: {},\n\t\t\tschema: { type: 'object' }\n\t\t}\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasFooter\n\t},\n\tstyles: snCanvasFooterStyles,\n\tbehaviors: [rtlBehavior],\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_TREE_READY]: ({ host, updateState }) => {\n\t\t\tisLinksMultiRow(host) ? updateState({ linksWithMultiRow: true }) : null;\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-footer.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-canvas-footer{width:100%;height:100%;border-top:.0625rem solid rgb(var(--mv9-jrmsr1-pvvztz--kvzptz-zvx-jvjvz,var(--now-color_divider--tertiary,var(--now-color--neutral-3,209,214,214))));padding:1.5rem 1rem;font-size:1rem;line-height:1.25;font-family:Source Sans Pro,sans-serif;background-color:RGB(var(--mv9-Jrmsr1-PvvztZ--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))))}:host(:not([dir=rtl])) .sn-canvas-footer,:root:not([dir=rtl]) .sn-canvas-footer{text-align:left}:host([dir=rtl]) .sn-canvas-footer,:root[dir=rtl] .sn-canvas-footer{text-align:right}.sn-canvas-footer .sn-canvas-footer-nav{padding-bottom:1.5rem}.sn-canvas-footer .sn-canvas-footer-nav-company-logo{display:flex;align-items:center}.sn-canvas-footer .sn-canvas-footer-nav-company-logo-img{vertical-align:middle;width:auto;max-width:13rem;max-height:6.5rem;margin-bottom:1rem;object-fit:contain}:host(:not([dir=rtl])) .sn-canvas-footer .sn-canvas-footer-nav-company-logo-img,:root:not([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-nav-company-logo-img{object-position:left}:host([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-nav-company-logo-img,:root[dir=rtl] .sn-canvas-footer .sn-canvas-footer-nav-company-logo-img{object-position:right}.sn-canvas-footer .sn-canvas-footer-nav-company-address{font-style:normal;font-size:var(--mv9-Jrmsr1-PvvztZ--Pvmz-1ACt,.75rem)}.sn-canvas-footer .sn-canvas-footer-nav-company-address,.sn-canvas-footer .sn-canvas-footer-nav-company-address .link{color:RGB(var(--mv9-Jrmsr1-PvvztZ--Jvmztmz-ztuz--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))))}.sn-canvas-footer .sn-canvas-footer-nav-company-address .link{text-decoration:none}.sn-canvas-footer .sn-canvas-footer-nav-company-address .link:active,.sn-canvas-footer .sn-canvas-footer-nav-company-address .link:hover{text-decoration:underline}:host(:not([dir=rtl])) .sn-canvas-footer .sn-canvas-footer-nav-company-address .comma,:host(:not([dir=rtl])) .sn-canvas-footer .sn-canvas-footer-nav-company-address .text:not(:first-child),:root:not([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-nav-company-address .comma,:root:not([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-nav-company-address .text:not(:first-child){padding-right:.25rem}:host([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-nav-company-address .comma,:host([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-nav-company-address .text:not(:first-child),:root[dir=rtl] .sn-canvas-footer .sn-canvas-footer-nav-company-address .comma,:root[dir=rtl] .sn-canvas-footer .sn-canvas-footer-nav-company-address .text:not(:first-child){padding-left:.25rem}.sn-canvas-footer .sn-canvas-footer-nav-linkset-group{padding-top:1.5rem}@media (min-width:640px) and (max-width:1024px){.sn-canvas-footer .sn-canvas-footer-nav{display:grid;grid-template-rows:1fr;grid-template-columns:auto 1fr;grid-gap:0 2rem}.sn-canvas-footer .sn-canvas-footer-nav-linkset-group{padding-top:0}}@media (min-width:1024px) and (max-width:1439px){.sn-canvas-footer .sn-canvas-footer-nav{display:grid;grid-template-rows:1fr;grid-template-columns:auto 1fr;grid-gap:0 2rem}.sn-canvas-footer .sn-canvas-footer-nav-linkset-group{padding-top:0}}@media (min-width:1440px) and (max-width:1600px){.sn-canvas-footer .sn-canvas-footer-nav{display:grid;grid-template-rows:1fr;grid-template-columns:auto 1fr;grid-gap:0 2rem;max-width:90rem;margin:0 auto}.sn-canvas-footer .sn-canvas-footer-nav-linkset-group{padding-top:0}}@media (min-width:1601px){.sn-canvas-footer .sn-canvas-footer-nav{display:grid;grid-template-rows:1fr;grid-template-columns:auto 1fr;grid-gap:0 2rem;max-width:100%;margin:0}.sn-canvas-footer .sn-canvas-footer-nav-linkset-group{padding-top:0}}.sn-canvas-footer .sn-canvas-footer-sub-nav{display:grid;grid-template-rows:auto;grid-template-columns:1fr;grid-gap:1rem 0;padding-top:1.5rem}.sn-canvas-footer .sn-canvas-footer-sub-nav.-no-top-padding{padding-top:0}@media (min-width:641px){.sn-canvas-footer .sn-canvas-footer-sub-nav.-align-center{align-items:center}}@media (min-width:640px) and (max-width:1024px){.sn-canvas-footer .sn-canvas-footer-sub-nav{display:grid;grid-template-rows:1fr;grid-template-columns:1fr auto auto;grid-gap:0 1rem}}@media (min-width:1024px) and (max-width:1439px){.sn-canvas-footer .sn-canvas-footer-sub-nav{display:grid;grid-template-rows:1fr;grid-template-columns:1fr auto auto;grid-gap:0 1rem}.sn-canvas-footer .sn-canvas-footer-sub-nav.-align-center{align-items:center}}@media (min-width:1440px) and (max-width:1600px){.sn-canvas-footer .sn-canvas-footer-sub-nav{display:grid;grid-template-rows:1fr;grid-template-columns:1fr auto auto;grid-gap:0 1rem;max-width:90rem;margin:0 auto}.sn-canvas-footer .sn-canvas-footer-sub-nav.-align-center{align-items:center}}@media (min-width:1601px){.sn-canvas-footer .sn-canvas-footer-sub-nav{display:grid;grid-template-rows:1fr;grid-template-columns:1fr auto auto;grid-gap:0 1rem;max-width:100%;margin:0}}.sn-canvas-footer .sn-canvas-footer-sub-nav-links{font-size:var(--mv9-Jrmsr1-PvvztZ--Pvmz-1ACt,.75rem)}.sn-canvas-footer .sn-canvas-footer-sub-nav-links ul{display:flex;flex-wrap:wrap;align-items:center;justify-items:center;margin:.5rem 0;padding:0;list-style-type:none}.sn-canvas-footer .sn-canvas-footer-sub-nav-links ul.-clear-top-margin{margin:0 0 .5rem}.sn-canvas-footer .sn-canvas-footer-sub-nav-links .sn-canvas-footer-sub-nav-link{padding-bottom:.25rem}:host(:not([dir=rtl])) .sn-canvas-footer .sn-canvas-footer-sub-nav-links .sn-canvas-footer-sub-nav-link,:root:not([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-links .sn-canvas-footer-sub-nav-link{margin-right:2rem}:host([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-links .sn-canvas-footer-sub-nav-link,:root[dir=rtl] .sn-canvas-footer .sn-canvas-footer-sub-nav-links .sn-canvas-footer-sub-nav-link{margin-left:2rem}@media (min-width:640px) and (max-width:1024px){.sn-canvas-footer .sn-canvas-footer-sub-nav-links{max-width:43.5rem}}@media (min-width:1024px) and (max-width:1600px){.sn-canvas-footer .sn-canvas-footer-sub-nav-links{max-width:43.5rem}}@media (min-width:1601px){.sn-canvas-footer .sn-canvas-footer-sub-nav-links{max-width:43.5rem}}.sn-canvas-footer .sn-canvas-footer-sub-nav-social-links ul{display:flex;flex-wrap:nowrap;margin:0;padding:0;list-style-type:none}.sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li{color:RGB(var(--mv9-Jrmsr1-PvvztZ-ztuz--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))))}:host(:not([dir=rtl])) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li,:root:not([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li{margin-right:.25rem}:host([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li,:root[dir=rtl] .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li{margin-left:.25rem}:host(:not([dir=rtl])) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li:last-of-type,:root:not([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li:last-of-type{margin-right:0}:host([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li:last-of-type,:root[dir=rtl] .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links li:last-of-type{margin-left:0}.sn-canvas-footer .sn-canvas-footer-sub-nav-social-links .-nav-item--social-icon{padding:.5rem}@media (min-width:640px) and (max-width:1024px){.sn-canvas-footer .sn-canvas-footer-sub-nav-social-links ul{align-items:flex-end;height:100%}}@media (min-width:1024px) and (max-width:1600px){.sn-canvas-footer .sn-canvas-footer-sub-nav-social-links ul{align-items:flex-end;height:100%}}@media (min-width:1601px){.sn-canvas-footer .sn-canvas-footer-sub-nav-social-links ul{align-items:flex-end;height:100%}}@media (min-width:641px){:host(:not([dir=rtl])) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links,:root:not([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links{margin-left:2.125rem}:host([dir=rtl]) .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links,:root[dir=rtl] .sn-canvas-footer .sn-canvas-footer-sub-nav-social-links{margin-right:2.125rem}}.sn-canvas-footer .sn-canvas-footer-sub-nav-copyright-text{margin:0;font-size:var(--mv9-Jrmsr1-PvvztZ--Pvmz-1ACt,.75rem);color:RGB(var(--mv9-Jrmsr1-PvvztZ-ztuz--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))))}.sn-canvas-footer .sn-canvas-footer-sub-nav-copyright-text.-align-bottom{display:flex;align-items:flex-end;height:100%}@media (min-width:641px){.sn-canvas-footer .sn-canvas-footer-sub-nav-copyright-text{padding:.5rem 0}}@media (min-width:640px) and (max-width:1024px){.sn-canvas-footer{padding:1.5rem}}@media (min-width:1024px) and (max-width:1600px){.sn-canvas-footer{padding:1.5rem}}@media (min-width:1601px){.sn-canvas-footer{padding:1.5rem}}\", \"\"]);\n\n// exports\n","import { getLinksEL } from './elements';\n\nconst countLinksLines = (linksEL) => {\n\tlet linksElHeight, lineHeight;\n\tlet linesCount = 0;\n\tif (linksEL instanceof HTMLElement) {\n\t\tlinksElHeight = linksEL.offsetHeight;\n\t\tlineHeight = parseInt(getComputedStyle(linksEL, null).lineHeight);\n\t\tlinesCount = Math.floor(linksElHeight / lineHeight);\n\t}\n\treturn linesCount;\n};\n\nexport const isLinksMultiRow = (host) => {\n\tconst linksEL = getLinksEL(host);\n\treturn countLinksLines(linksEL) > 1;\n};\n","export const getLinksEL = (host) => {\n\treturn host instanceof HTMLElement\n\t\t? host.shadowRoot.querySelector('.sn-canvas-footer-sub-nav-links ul')\n\t\t: null;\n};\n","import './sn-canvas-menu';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { createRef } from '@servicenow/ui-renderer-snabbdom';\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\nimport isNil from 'lodash/isNil';\nimport get from 'lodash/get';\n\nimport '@servicenow/now-icon';\nimport '@servicenow/now-popover';\nimport rtlBehavior from '@servicenow/behavior-rtl';\n\nimport '../sn-nav-item';\nimport '../internal/sn-canvas-menu-dropdown';\nimport '../internal/sn-canvas-mega-menu';\n\nimport { menuItemSchema } from './schemas';\nimport { menubarKeyBindingEventHandler } from './behaviors';\nimport snCanvasMenuStyles from './_sn-canvas-menu.scss';\nimport { NAV_ITEM_SELECTED } from '../../constants/constants';\nimport { t } from 'sn-translate';\n/* eslint-disable no-console */\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED } = actionTypes;\n\nconst linkIDGenerator = (function*() {\n\tlet linkID = 0;\n\twhile (true) yield 'link_' + linkID++;\n})();\n\nconst rootIDGenerator = (function*() {\n\tlet rootID = 0;\n\twhile (true) yield 'root_' + rootID++;\n})();\n\nconst generateScreenKey = (fields, route) => {\n\treturn Object.keys(fields)\n\t\t.sort()\n\t\t.reduce((hash, key) => `${hash}~${key}~${fields[key]}`, route);\n};\n\nconst _shouldIncludeNegativeTabIndex = (idx) =>\n\tidx !== 0 ? { tabindex: '-1' } : {};\n\nconst _shouldRenderSingleLink = (root) => root.depth === 0;\n\nconst _normalizeArray = (value) => {\n\tif (isNil(value) || isEmpty(value)) return [];\n\treturn Array.isArray(value) ? value : [value];\n};\n\nconst _normalizeMenuItems = (menuItems, rootID) => {\n\tlet stateMenuItems = {};\n\tlet stateContentMap = {};\n\tlet depth = 0;\n\n\t// collect roots;\n\tlet queue = [\n\t\t{\n\t\t\t...menuItems,\n\t\t\tlinkID: linkIDGenerator.next().value,\n\t\t\tparentID: null\n\t\t}\n\t];\n\n\tstateMenuItems['root'] = {\n\t\tparentID: null,\n\t\tchildList: queue.map(({ linkID }) => linkID)\n\t};\n\n\twhile (!isEmpty(queue)) {\n\t\tlet size = queue.length;\n\t\twhile (size--) {\n\t\t\tlet current = queue.shift();\n\n\t\t\t// Get children, calculate the linkID for the children, then push into queue.\n\t\t\t// Store the linkID calculated into the children property of the object to store.\n\t\t\tlet children = get(current, 'children.items', []);\n\t\t\tconst isLeaf = isEmpty(children);\n\t\t\tif (!isLeaf) {\n\t\t\t\tchildren = children.map((item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tlinkID: linkIDGenerator.next().value,\n\t\t\t\t\t\tparentID: current.linkID\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tqueue.push(...children);\n\t\t\t}\n\n\t\t\tconst action = get(current, 'children.action', {});\n\t\t\tlet actionLinkID = '';\n\n\t\t\tif (!isEmpty(action)) {\n\t\t\t\tactionLinkID = linkIDGenerator.next().value;\n\t\t\t\tconst { fields = {}, route = '' } = action.value;\n\t\t\t\tconst screenKey = generateScreenKey(fields, route);\n\t\t\t\tstateMenuItems[actionLinkID] = {\n\t\t\t\t\t...action,\n\t\t\t\t\tparentID: current.parentID\n\t\t\t\t};\n\n\t\t\t\tif (!stateContentMap.hasOwnProperty(screenKey)) {\n\t\t\t\t\tstateContentMap[screenKey] = {\n\t\t\t\t\t\trootID,\n\t\t\t\t\t\tlink: actionLinkID\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isLeaf && current.value.type === 'route') {\n\t\t\t\tconst { fields = {}, route = '' } = current.value.value;\n\t\t\t\tconst screenKey = generateScreenKey(fields, route);\n\t\t\t\tstateContentMap[screenKey] = {\n\t\t\t\t\trootID,\n\t\t\t\t\tlink: current.linkID\n\t\t\t\t};\n\n\t\t\t\tif (!stateContentMap.hasOwnProperty(screenKey)) {\n\t\t\t\t\tstateContentMap[screenKey] = {\n\t\t\t\t\t\trootID,\n\t\t\t\t\t\tlink: actionLinkID\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstateMenuItems[current.linkID] = {\n\t\t\t\taction: actionLinkID,\n\t\t\t\tchildList: children.map(({ linkID }) => linkID),\n\t\t\t\tlinkID: current.linkID,\n\t\t\t\tparentID: current.parentID,\n\t\t\t\tvalue: current.value\n\t\t\t};\n\t\t}\n\t\tdepth++;\n\t}\n\t// Holds menu depth\n\tstateMenuItems['root'].depth = depth - 1;\n\n\treturn {\n\t\tstateMenuItems,\n\t\tstateContentMap\n\t};\n};\n\nconst _createNormalizedTree = (menuItems) => {\n\tlet tree = {};\n\tlet contentMap = {};\n\n\tmenuItems.forEach((item) => {\n\t\tlet rootID = rootIDGenerator.next().value;\n\t\tconst { stateContentMap, stateMenuItems } = _normalizeMenuItems(\n\t\t\titem,\n\t\t\trootID\n\t\t);\n\t\ttree[rootID] = {\n\t\t\t...stateMenuItems\n\t\t};\n\n\t\t// order matters here\n\t\tcontentMap = {\n\t\t\t...stateContentMap,\n\t\t\t...contentMap\n\t\t};\n\t});\n\n\treturn {\n\t\tcontentMap,\n\t\ttree\n\t};\n};\n\nconst snCanvasMenu = ({ menuItems, contentMap, properties }) => {\n\tconst {\n\t\titems,\n\t\tmenuWidth,\n\t\tverticalStackingEnabled,\n\t\tactionButtons,\n\t\tactiveScreen,\n\t\tedgeToEdge\n\t} = properties;\n\tconst normalizedActionButtons = _normalizeArray(actionButtons);\n\tconst shouldRenderActionButtons = normalizedActionButtons.length > 0;\n\tconst shouldRenderNavigationItems = items.length > 0;\n\tconst selectedLinks = contentMap[activeScreen];\n\tconst shouldRenderMenu =\n\t\tshouldRenderActionButtons || shouldRenderNavigationItems;\n\treturn (\n\t\t<nav\n\t\t\taria-label={t('Primary menu')}\n\t\t\tclass={{\n\t\t\t\t'sn-canvas-menu': true,\n\t\t\t\t'-is-displayed': !shouldRenderMenu\n\t\t\t}}>\n\t\t\t<div\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-canvas-menu-nav': true,\n\t\t\t\t\t'-fixed-center-aligned': !edgeToEdge\n\t\t\t\t}}>\n\t\t\t\t{shouldRenderNavigationItems ? (\n\t\t\t\t\t<div className=\"sn-canvas-menu-nav-items\">\n\t\t\t\t\t\t<ul className=\"sn-canvas-menu-nav-list\" role=\"menubar\">\n\t\t\t\t\t\t\t{Object.entries(menuItems).map(([rootID, item], idx) => {\n\t\t\t\t\t\t\t\tconst positionTarget = createRef();\n\n\t\t\t\t\t\t\t\tconst { root } = item;\n\t\t\t\t\t\t\t\tconst linkID = get(root, 'childList[0]', '');\n\t\t\t\t\t\t\t\tconst rootVal = get(item, `[${linkID}].value`, {});\n\t\t\t\t\t\t\t\tconst isSelected = rootID === get(selectedLinks, 'rootID', '');\n\n\t\t\t\t\t\t\t\tif (_shouldRenderSingleLink(root)) {\n\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\topensWindow = false,\n\t\t\t\t\t\t\t\t\t\trightIcon = undefined,\n\t\t\t\t\t\t\t\t\t\ttype = 'route'\n\t\t\t\t\t\t\t\t\t} = rootVal;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"sn-canvas-menu-nav-item\"\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\trole=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t<sn-nav-item\n\t\t\t\t\t\t\t\t\t\t\t\tis-selected={isSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-id={idx}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t\t\t\topens-window={opensWindow}\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip-content={label}\n\t\t\t\t\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\t\t\t\t\titem-value={value}\n\t\t\t\t\t\t\t\t\t\t\t\tinteraction-type=\"menubar\"\n\t\t\t\t\t\t\t\t\t\t\t\tlines={1}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"main-nav\"\n\t\t\t\t\t\t\t\t\t\t\t\t{..._shouldIncludeNegativeTabIndex(idx)}>\n\t\t\t\t\t\t\t\t\t\t\t\t{rightIcon ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tslot=\"endsWith\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={rightIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t</sn-nav-item>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst { label } = rootVal;\n\n\t\t\t\t\t\t\t\t\tconst { [linkID]: newRoot, root, ...restOfLinks } = item;\n\n\t\t\t\t\t\t\t\t\tconst newItem = {\n\t\t\t\t\t\t\t\t\t\troot: {\n\t\t\t\t\t\t\t\t\t\t\taction: newRoot.action,\n\t\t\t\t\t\t\t\t\t\t\tchildList: newRoot.childList,\n\t\t\t\t\t\t\t\t\t\t\tdepth: root.depth,\n\t\t\t\t\t\t\t\t\t\t\tparentID: newRoot.parentID,\n\t\t\t\t\t\t\t\t\t\t\tlinkID: newRoot.linkID\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t...restOfLinks\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"sn-canvas-menu-nav-item\"\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\tref={positionTarget}\n\t\t\t\t\t\t\t\t\t\t\trole=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t<sn-canvas-menu-dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tis-selected={isSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tselected-item={isSelected ? selectedLinks.link : null}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-id={idx}\n\t\t\t\t\t\t\t\t\t\t\t\tmenu-items={newItem}\n\t\t\t\t\t\t\t\t\t\t\t\tmenu-width={menuWidth}\n\t\t\t\t\t\t\t\t\t\t\t\tvertical-stacking-enabled={verticalStackingEnabled}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t\t\t\tposition-target={positionTarget}\n\t\t\t\t\t\t\t\t\t\t\t\t{..._shouldIncludeNegativeTabIndex(idx)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t{shouldRenderActionButtons ? (\n\t\t\t\t\t<div className=\"sn-canvas-menu-nav-actions\">\n\t\t\t\t\t\t<ul className=\"sn-canvas-menu-nav-action-list\">\n\t\t\t\t\t\t\t{normalizedActionButtons.map((item) => {\n\t\t\t\t\t\t\t\tconst { label, value, size = 'sm', variant = 'primary' } = item;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li className=\"sn-canvas-menu-nav-action-item\">\n\t\t\t\t\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"sn-canvas-menu-nav-action-button\"\n\t\t\t\t\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t\t\tappendToPayload={{\n\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'navigationButton'\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\ncreateCustomElement('sn-canvas-menu', {\n\tinitialState: {\n\t\tmenuItems: {},\n\t\tcontentMap: {}\n\t},\n\tproperties: {\n\t\titems: {\n\t\t\tdefault: [],\n\t\t\tschema: {\n\t\t\t\ttype: 'array',\n\t\t\t\titems: menuItemSchema\n\t\t\t}\n\t\t},\n\t\tactionButtons: {\n\t\t\tdefault: {}\n\t\t},\n\t\tactiveScreen: {\n\t\t\tdefault: ''\n\t\t},\n\t\tmenuWidth: {\n\t\t\tdefault: 1600,\n\t\t\tschema: { type: 'number' }\n\t\t},\n\t\tedgeToEdge: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t},\n\t\tverticalStackingEnabled: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t}\n\t},\n\tbehaviors: [rtlBehavior],\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasMenu\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ action, updateState }) => {\n\t\t\tconst { name, value, previousValue } = action.payload;\n\t\t\tif (name === 'items' && !isEqual(value, previousValue)) {\n\t\t\t\tconst { tree, contentMap } = _createNormalizedTree(value);\n\t\t\t\tupdateState({\n\t\t\t\t\tcontentMap,\n\t\t\t\t\tmenuItems: tree\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ properties, updateState }) => {\n\t\t\tconst { items } = properties;\n\t\t\tif (!isEmpty(items)) {\n\t\t\t\tconst { tree, contentMap } = _createNormalizedTree(items);\n\t\t\t\tupdateState({\n\t\t\t\t\tcontentMap,\n\t\t\t\t\tmenuItems: tree\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t['NOW_BUTTON#CLICKED']: ({ action, dispatch }) => {\n\t\t\tconst { type, value } = action.payload;\n\t\t\tif (type === 'navigationButton') {\n\t\t\t\tdispatch(NAV_ITEM_SELECTED, value);\n\t\t\t}\n\n\t\t\t// Prevent this action from propogating further.\n\t\t\taction.stopPropagation();\n\t\t}\n\t},\n\teventHandlers: menubarKeyBindingEventHandler,\n\tstyles: snCanvasMenuStyles\n});\n","import './sn-canvas-menu-dropdown';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-popover';\nimport focusBehavior, { getFocusableNodes } from '@servicenow/behavior-focus';\nimport '../sn-canvas-mega-menu';\nimport '../../sn-nav-item';\nimport { getHoistedContent } from '../sn-canvas-mega-menu/utils/dom';\nimport {\n\tNOW_POPOVER_OPENED_SET,\n\tARROW_DOWN_KEY,\n\tESCAPE_KEY,\n\tENTER_KEY,\n\tSPACE_KEY\n} from '../../../constants/constants';\n\nconst snCanvasMenuDropdown = (state) => {\n\tconst { properties, contentVisible } = state;\n\tconst {\n\t\tdepth,\n\t\tlabel,\n\t\topened,\n\t\tpositionTarget,\n\t\tselectedItem,\n\t\tmenuItems,\n\t\tmenuWidth,\n\t\tverticalStackingEnabled,\n\t\tisSelected\n\t} = properties;\n\n\tconst menuSectionID = `menu_content_${menuItems.root.linkID}`;\n\tconst endsWithIcon =\n\t\tcontentVisible === true ? 'chevron-up-outline' : 'chevron-down-outline';\n\treturn (\n\t\t<now-popover\n\t\t\thide-tail\n\t\t\tmanage-opened\n\t\t\tinteraction-type=\"none\"\n\t\t\topened={opened}\n\t\t\thook-insert={({ elm }) => (elm.positionTarget = positionTarget.current)}\n\t\t\tpositions={[\n\t\t\t\t{ target: 'bottom-start', content: 'top-start' },\n\t\t\t\t{ target: 'bottom-end', content: 'top-end' }\n\t\t\t]}>\n\t\t\t<sn-nav-item\n\t\t\t\tlabel={label}\n\t\t\t\ttooltipContent={label}\n\t\t\t\tinteractionType=\"menubar\"\n\t\t\t\ttype=\"action\"\n\t\t\t\tslot=\"trigger\"\n\t\t\t\tvariant=\"main-nav\"\n\t\t\t\tisSelected={isSelected || opened}\n\t\t\t\tconfigAria={{\n\t\t\t\t\t...(isSelected && { 'aria-current': 'page' }),\n\t\t\t\t\t'aria-expanded': opened,\n\t\t\t\t\t'aria-haspopup': 'true',\n\t\t\t\t\t'aria-controls': menuSectionID\n\t\t\t\t}}\n\t\t\t\tlines={1}>\n\t\t\t\t<now-icon size=\"md\" slot=\"endsWith\" icon={endsWithIcon} />\n\t\t\t</sn-nav-item>\n\t\t\t<sn-canvas-mega-menu\n\t\t\t\tdepth={depth}\n\t\t\t\tmenu-items={menuItems}\n\t\t\t\tselected-item={selectedItem}\n\t\t\t\topened={contentVisible}\n\t\t\t\tposition-target={positionTarget}\n\t\t\t\tslot=\"content\"\n\t\t\t\tvertical-stacking-enabled={verticalStackingEnabled}\n\t\t\t\twidth={menuWidth}\n\t\t\t\tid={menuSectionID}\n\t\t\t/>\n\t\t</now-popover>\n\t);\n};\n\ncreateCustomElement('sn-canvas-menu-dropdown', {\n\tinitialState: {\n\t\tcontentVisible: false\n\t},\n\tproperties: {\n\t\tdepth: {\n\t\t\tdefault: 1\n\t\t},\n\t\tlabel: {\n\t\t\tdefault: ''\n\t\t},\n\t\tmenuItems: {\n\t\t\tdefault: {}\n\t\t},\n\t\tmenuWidth: {\n\t\t\tdefault: 1600\n\t\t},\n\t\topened: {\n\t\t\tdefault: false\n\t\t},\n\t\tpositionTarget: {\n\t\t\tdefault: {}\n\t\t},\n\t\tisSelected: {\n\t\t\tdefault: false\n\t\t},\n\t\tselectedItem: {\n\t\t\tdefault: {}\n\t\t},\n\t\tverticalStackingEnabled: {\n\t\t\tdefault: false\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[NOW_POPOVER_OPENED_SET]: ({ action, updateProperties }) => {\n\t\t\tconst { payload } = action;\n\t\t\tupdateProperties({ opened: payload.value });\n\t\t},\n\t\t['NOW_POPOVER#CONTENT_VISIBLE']: ({ host, updateState }) => {\n\t\t\tconst megamenu = host.shadowRoot.querySelector('sn-canvas-mega-menu');\n\t\t\tconst hoistedMegamenu = getHoistedContent(megamenu);\n\t\t\tconst focusableNodes = getFocusableNodes(\n\t\t\t\thoistedMegamenu.querySelector('.sn-canvas-mega-menu')\n\t\t\t);\n\t\t\tif (focusableNodes.firstFocusableElement) {\n\t\t\t\tfocusableNodes.firstFocusableElement.focus();\n\t\t\t}\n\t\t\tupdateState({ contentVisible: true });\n\t\t},\n\t\t['NOW_POPOVER#CONTENT_HIDDEN']: ({ updateState }) => {\n\t\t\tupdateState({ contentVisible: false });\n\t\t}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tcapture: false,\n\t\t\tevents: ['keydown'],\n\t\t\teffect({\n\t\t\t\tupdateProperties,\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { event }\n\t\t\t\t},\n\t\t\t\tproperties\n\t\t\t}) {\n\t\t\t\tconst { key } = event;\n\t\t\t\tconst { opened } = properties;\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase ENTER_KEY:\n\t\t\t\t\tcase SPACE_KEY:\n\t\t\t\t\tcase ARROW_DOWN_KEY:\n\t\t\t\t\t\t// Need to prevent default because on ENTER_KEY, SPACE_KEY triggers a click event\n\t\t\t\t\t\t// on the window. `now-popover` has code to close popover panel on click event.\n\t\t\t\t\t\t// However we still want the default action to trigger for items within `sn-canvas-mega-menu`\n\t\t\t\t\t\t// Which is why we only prevent default on elements within `sn-canvas-menu-dropdown`.\n\t\t\t\t\t\tif (event.srcElement.tagName === 'SN-CANVAS-MENU-DROPDOWN')\n\t\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tif (!opened) updateProperties({ opened: true });\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ESCAPE_KEY:\n\t\t\t\t\t\tupdateProperties({ opened: false });\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\tbehaviors: [focusBehavior],\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasMenuDropdown\n\t}\n});\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport get from 'lodash/get';\nimport '@servicenow/now-link-set';\nimport '@servicenow/now-tooltip';\nimport focusBehavior from '@servicenow/behavior-focus';\nimport rtlBehavior from '@servicenow/behavior-rtl';\n\nimport { megaMenuItemSchema } from './schemas';\nimport '../../sn-nav-item';\nimport GlobalResizeListener from '../../../utils/global-resize-listener';\nimport { NOW_POPOVER_OPENED_SET } from '../../../constants/constants';\n\nimport { LEVEL_ONE, LEVEL_TWO, LEVEL_THREE } from './constants';\n\nimport {\n\tgetStyePropertyIntegerValue,\n\tgetTotalGridWidth,\n\tmaxItemCount,\n\tgetHoistedContent,\n\tlinksetTransform,\n\tbrowseLinkTransform,\n\theadingTransform,\n\tmeasureText,\n\tdeferUntilVisible\n} from './utils';\n\nimport VerticalStackedGrid from './utils/VerticalStackedGrid';\nimport ObserverList from './utils/ObserverList';\nimport KeyboardEventHandler, {\n\tgetFocusableItems,\n\tresetFocusablePositions\n} from './utils/KeyboardEventHandler';\n\nimport snCanvasMegaMenuStyles from './_sn-canvas-mega-menu.scss';\n\nconst {\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_DOM_READY\n} = actionTypes;\n\nconst _createSelectedLinkSet = (selectedItem, menuItems) => {\n\tlet selectedLinkSet = new Set();\n\tlet current = selectedItem;\n\twhile (current !== null) {\n\t\tselectedLinkSet.add(current);\n\t\tcurrent = get(menuItems, `[${current}].parentID`, null);\n\t}\n\n\treturn selectedLinkSet;\n};\nconst snCanvasMegaMenu = (state, { updateState, dispatch }) => {\n\tconst {\n\t\ttotalInternalWidth,\n\t\ttotalInternalHeight,\n\t\tselectedIndex,\n\t\tvisible,\n\t\tsidebarButtonStyle,\n\t\ttargetRefs\n\t} = state;\n\n\tconst { menuItems, verticalStackingEnabled, selectedItem } = state.properties;\n\n\tconst { childList, action, depth } = menuItems.root;\n\tconst selectedLinks = _createSelectedLinkSet(selectedItem, menuItems);\n\n\tconst renderSidebarTabTooltip = (ref, content) => {\n\t\tif (!ref) return;\n\t\tif (ref.scrollHeight > ref.clientHeight) {\n\t\t\treturn <now-tooltip target-ref={ref} content={content} />;\n\t\t}\n\t};\n\n\tconst SidebarTabs = ({ items, action }) => {\n\t\tconst actionButton = menuItems[action];\n\t\tconst { isTruncated, label, str } = measureText(\n\t\t\tactionButton.label,\n\t\t\tsidebarButtonStyle.width,\n\t\t\tsidebarButtonStyle.font\n\t\t);\n\t\treturn (\n\t\t\t<div className=\"sn-canvas-mega-menu-sidebar-container\">\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"sn-canvas-mega-menu-sidebar-list\"\n\t\t\t\t\taria-label=\"Menu sidepanel list\">\n\t\t\t\t\t{items.map(({ label, id }, idx) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"sn-canvas-mega-menu-sidebar-item\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tclass={{ ['-is-selected']: selectedLinks.has(id) }}\n\t\t\t\t\t\t\t\t\ton-click={() =>\n\t\t\t\t\t\t\t\t\t\tdispatch('SN_CANVAS_MEGA_MENU#SIDEBAR_BUTTON_CLICKED', {\n\t\t\t\t\t\t\t\t\t\t\tselectedIndex: id,\n\t\t\t\t\t\t\t\t\t\t\tsidebarPosition: idx\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\taria-current={selectedLinks.has(id) && 'page'}\n\t\t\t\t\t\t\t\t\taria-controls={`menu_content_${id}`}>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\t\t\t\t\tpath: `targetRefs[${idx}]`,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: elm,\n\t\t\t\t\t\t\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{renderSidebarTabTooltip(targetRefs[idx], label)}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t{actionButton ? (\n\t\t\t\t\t<now-button\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tconfigAria={{ 'aria-label': str }}\n\t\t\t\t\t\tappendToPayload={{\n\t\t\t\t\t\t\tvalue: actionButton.value,\n\t\t\t\t\t\t\ttype: 'navigationButton'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttooltipContent={isTruncated ? str : ''}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\tundefined\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst Linkset = ({ items, action }) => {\n\t\tconst links = items.map((linkID) =>\n\t\t\tlinksetTransform(menuItems[linkID].value, selectedLinks.has(linkID))\n\t\t);\n\t\tconst browseLink = browseLinkTransform(\n\t\t\tmenuItems[action],\n\t\t\tselectedLinks.has(action)\n\t\t);\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-canvas-mega-menu-linkset-container': true,\n\t\t\t\t\t'-open': true\n\t\t\t\t}}>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ width: `${totalInternalWidth}px` }}\n\t\t\t\t\tclassName=\"sn-canvas-mega-menu-linkset-section\">\n\t\t\t\t\t<now-link-set\n\t\t\t\t\t\t{...(menuItems[action] ? { browseLink: browseLink } : undefined)}\n\t\t\t\t\t\tlinks={links}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst LinksetGroup = ({\n\t\taction,\n\t\titems,\n\t\tid,\n\t\tbuttonVariant = 'primary',\n\t\topen = true\n\t}) => {\n\t\tconst linksetGroup = items.map((linkID) => {\n\t\t\tconst { action: linksetAction, value, childList } = menuItems[linkID];\n\t\t\tconst links = childList.map((linkID) =>\n\t\t\t\tlinksetTransform(menuItems[linkID].value, selectedLinks.has(linkID))\n\t\t\t);\n\t\t\tconst browseLink = browseLinkTransform(\n\t\t\t\tmenuItems[linksetAction],\n\t\t\t\tselectedLinks.has(action)\n\t\t\t);\n\t\t\tconst heading = headingTransform(value.label);\n\n\t\t\treturn {\n\t\t\t\theading,\n\t\t\t\tlinks,\n\t\t\t\tbrowseLink\n\t\t\t};\n\t\t});\n\n\t\tconst actionButton = menuItems[action];\n\t\tconst getMenuContentID = id ? `menu_content_${id}` : null;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={getMenuContentID}\n\t\t\t\tstyle={{ width: `${totalInternalWidth}px` }}\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-canvas-mega-menu-linkset-container': true,\n\t\t\t\t\t'-open': open\n\t\t\t\t}}\n\t\t\t\taria-hidden={!open}>\n\t\t\t\t<ul\n\t\t\t\t\taria-labelledby={id}\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t'sn-canvas-mega-menu-linkset-section': true,\n\t\t\t\t\t\t'-grid': true,\n\t\t\t\t\t\t'-vertical-stacking-enabled': verticalStackingEnabled\n\t\t\t\t\t}}>\n\t\t\t\t\t{linksetGroup.map(({ heading, links, browseLink }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<now-link-set\n\t\t\t\t\t\t\t\t\theading={heading}\n\t\t\t\t\t\t\t\t\tlinks={links}\n\t\t\t\t\t\t\t\t\t{...(browseLink ? { browseLink: browseLink } : undefined)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t\t{actionButton ? (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<hr className=\"divider\" />\n\t\t\t\t\t\t<div className=\"sn-canvas-mega-menu-browse-group\">\n\t\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\tvariant={buttonVariant}\n\t\t\t\t\t\t\t\tlabel={actionButton.label}\n\t\t\t\t\t\t\t\tappendToPayload={{\n\t\t\t\t\t\t\t\t\tvalue: actionButton.value,\n\t\t\t\t\t\t\t\t\ttype: 'navigationButton'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Fragment>\n\t\t\t\t) : (\n\t\t\t\t\tundefined\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst LinksetGroupWithSidebar = ({ items, action }) => {\n\t\tlet sidebarItems = [];\n\t\tlet linksetGroups = [];\n\n\t\titems.forEach((linkID) => {\n\t\t\tconst {\n\t\t\t\taction: linksetAction,\n\t\t\t\tvalue,\n\t\t\t\tchildList,\n\t\t\t\tlinkID: childLinkID\n\t\t\t} = menuItems[linkID];\n\t\t\tsidebarItems.push({ ...value, id: childLinkID });\n\t\t\tlinksetGroups.push({\n\t\t\t\taction: linksetAction,\n\t\t\t\titems: childList,\n\t\t\t\tid: childLinkID\n\t\t\t});\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"sn-canvas-mega-menu-layout-sidebar\">\n\t\t\t\t<div className=\"sn-canvas-mega-menu-sidebar\">\n\t\t\t\t\t<SidebarTabs action={action} items={sidebarItems} />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"sn-canvas-mega-menu-content\">\n\t\t\t\t\t{linksetGroups.map(({ action, items, id }) => (\n\t\t\t\t\t\t<LinksetGroup\n\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\tbuttonVariant=\"secondary\"\n\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t\topen={selectedIndex === id}\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst MegaMenuPanel = () => {\n\t\tswitch (depth) {\n\t\t\tcase LEVEL_ONE:\n\t\t\t\treturn <Linkset action={action} items={childList} />;\n\t\t\tcase LEVEL_TWO:\n\t\t\t\treturn <LinksetGroup action={action} items={childList} />;\n\t\t\tcase LEVEL_THREE:\n\t\t\t\treturn <LinksetGroupWithSidebar action={action} items={childList} />;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclass={{\n\t\t\t\t'sn-canvas-mega-menu': true,\n\t\t\t\t'-hidden': !visible\n\t\t\t}}\n\t\t\trole=\"region\"\n\t\t\tstyle={{ maxHeight: `${totalInternalHeight}px` }}>\n\t\t\t<MegaMenuPanel />\n\t\t</div>\n\t);\n};\n\ncreateCustomElement('sn-canvas-mega-menu', {\n\tinitialState: {\n\t\tsidebarButtonStyle: {},\n\t\ttotalInternalWidth: 0,\n\t\ttotalInternalHeight: 0,\n\t\tdepth: 0,\n\t\tselectedIndex: '',\n\t\tvisible: false,\n\t\tobservers: null,\n\t\ttargetRefs: [],\n\t\tfocusPosition: {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t},\n\t\tsidebarPosition: 0,\n\t\tfocusedMenuPanel: '',\n\t\tfocusableItems: {},\n\t\tcurrentFocusedEl: null\n\t},\n\tproperties: {\n\t\tmenuItems: {\n\t\t\tdefault: {},\n\t\t\tschema: { megaMenuItemSchema }\n\t\t},\n\t\topened: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t},\n\t\tpositionTarget: {\n\t\t\tdefault: null\n\t\t},\n\t\tselectedItem: {\n\t\t\tdefault: {}\n\t\t},\n\t\twidth: {\n\t\t\tdefault: 1600,\n\t\t\tschema: { type: 'number' }\n\t\t},\n\t\tverticalStackingEnabled: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' }\n\t\t}\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasMegaMenu\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\taction,\n\t\t\tstate,\n\t\t\tupdateState,\n\t\t\tproperties\n\t\t}) => {\n\t\t\tconst { totalInternalWidth, observers } = state;\n\t\t\tconst { verticalStackingEnabled, menuItems } = properties;\n\t\t\tconst { name, value, host } = action.payload;\n\n\t\t\tconst saveFocusableItemsToState = () => {\n\t\t\t\tconst focusableItems = getFocusableItems(host);\n\t\t\t\tupdateState({\n\t\t\t\t\tfocusableItems,\n\t\t\t\t\tcurrentFocusedEl: focusableItems.firstFocusableElement\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// Set keyboard navigation dom here.\n\t\t\tif (name === 'opened' && value) {\n\t\t\t\tsaveFocusableItemsToState();\n\t\t\t} else if (name === 'opened' && !value) {\n\t\t\t\t// Reset focus position\n\t\t\t\tupdateState(resetFocusablePositions(menuItems));\n\t\t\t}\n\n\t\t\tif (name === 'opened' && verticalStackingEnabled) {\n\t\t\t\tif (value) {\n\t\t\t\t\tconst hoistedContent = getHoistedContent(host);\n\t\t\t\t\tconst megaMenuEl = hoistedContent.querySelector(\n\t\t\t\t\t\t'.sn-canvas-mega-menu'\n\t\t\t\t\t);\n\t\t\t\t\tconst gridEl = hoistedContent.querySelectorAll(\n\t\t\t\t\t\t'.sn-canvas-mega-menu-linkset-section.-grid'\n\t\t\t\t\t);\n\n\t\t\t\t\t// This logic should be moved to DOM tree ready when we upgrade to newer version of seismic.\n\t\t\t\t\t// However will need to figure out how to measure height, since it is slotted into now-popover,\n\t\t\t\t\t// but not actually rendered.\n\t\t\t\t\tgridEl.forEach((grid) => {\n\t\t\t\t\t\tconst stackedGrid = new VerticalStackedGrid(grid, {\n\t\t\t\t\t\t\titemSelector: 'now-link-set',\n\t\t\t\t\t\t\titemWidth: 300\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstackedGrid.update(totalInternalWidth);\n\t\t\t\t\t\tobservers.addObserver(stackedGrid);\n\t\t\t\t\t});\n\t\t\t\t\tdeferUntilVisible(megaMenuEl, saveFocusableItemsToState);\n\t\t\t\t\tupdateState({ visible: true });\n\t\t\t\t} else {\n\t\t\t\t\t// Need to remove all observeres. Noticing in seismic hoist, new elements are being created each\n\t\t\t\t\t// time in the hoisted content.\n\t\t\t\t\tobservers.removeAllObservers();\n\t\t\t\t\tupdateState({ visible: false });\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_DOM_READY]: ({ action, properties, updateState }) => {\n\t\t\tconst { host } = action.payload;\n\t\t\tconst {\n\t\t\t\tverticalStackingEnabled,\n\t\t\t\tpositionTarget,\n\t\t\t\twidth: maxWidth,\n\t\t\t\tmenuItems\n\t\t\t} = properties;\n\n\t\t\tconst { depth, childList } = menuItems.root;\n\t\t\tconst columnGap = getStyePropertyIntegerValue(\n\t\t\t\thost,\n\t\t\t\t'--sn-canvas-menu-grid-column-gap'\n\t\t\t);\n\t\t\tconst linksetWidth = getStyePropertyIntegerValue(\n\t\t\t\thost,\n\t\t\t\t'--sn-canvas-menu-linkset-width'\n\t\t\t);\n\t\t\tconst linksetSectionPadding = getStyePropertyIntegerValue(\n\t\t\t\thost,\n\t\t\t\t'--sn-canvas-menu-linkset-section-padding'\n\t\t\t);\n\t\t\tconst sidebarWidth = getStyePropertyIntegerValue(\n\t\t\t\thost,\n\t\t\t\t'--sn-canvas-menu-sidebar-width'\n\t\t\t);\n\n\t\t\tconst sidebarButtonTextWidth = getStyePropertyIntegerValue(\n\t\t\t\thost,\n\t\t\t\t'--sn-canvas-menu-sidebar-button-text-width'\n\t\t\t);\n\n\t\t\tconst sidebarButtonFontFamily = `1rem ${getComputedStyle(\n\t\t\t\thost\n\t\t\t).getPropertyValue('font-family')}`;\n\n\t\t\tconst linksetCount = maxItemCount(menuItems);\n\t\t\tconst sidebarOffset = depth === LEVEL_THREE ? sidebarWidth : 0;\n\t\t\tconst nowID = host.getAttribute('now-id');\n\n\t\t\tlet observers = new ObserverList();\n\n\t\t\t// Resize listener to update the internal width of the panel.\n\t\t\tconst calculateWidth = () => {\n\t\t\t\tconst {\n\t\t\t\t\tx: positionTargetX,\n\t\t\t\t\ty: positionTargetY,\n\t\t\t\t\theight,\n\t\t\t\t\tright\n\t\t\t\t} = positionTarget.current.getBoundingClientRect();\n\n\t\t\t\tconst windowWidth = window.innerWidth;\n\t\t\t\tconst windowHeight = window.innerHeight;\n\t\t\t\tconst fromStart = Math.floor(\n\t\t\t\t\twindowWidth - positionTargetX - linksetSectionPadding\n\t\t\t\t);\n\t\t\t\tconst fromEnd = Math.floor(right - linksetSectionPadding);\n\t\t\t\tconst calcWidth = Math.max(fromStart, fromEnd);\n\t\t\t\tconst width = Math.min(calcWidth, maxWidth);\n\t\t\t\tconst totalInternalWidth = getTotalGridWidth({\n\t\t\t\t\tcolumnGap,\n\t\t\t\t\titemCount: linksetCount,\n\t\t\t\t\tmaxWidth: width - sidebarOffset,\n\t\t\t\t\titemWidth: linksetWidth,\n\t\t\t\t\tpadding: linksetSectionPadding\n\t\t\t\t});\n\n\t\t\t\t// Set height of the popover to 500 if it's a level one menu\n\t\t\t\tconst totalInternalHeight =\n\t\t\t\t\tdepth !== LEVEL_ONE\n\t\t\t\t\t\t? windowHeight - (height + positionTargetY) - 40\n\t\t\t\t\t\t: 500;\n\n\t\t\t\tobservers.notify(totalInternalWidth);\n\n\t\t\t\tupdateState({\n\t\t\t\t\ttotalInternalWidth,\n\t\t\t\t\ttotalInternalHeight\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tGlobalResizeListener.add(\n\t\t\t\t`calculate_width_${nowID}`,\n\t\t\t\tcalculateWidth,\n\t\t\t\ttrue\n\t\t\t);\n\n\t\t\t// Always show visible if verticalStacking mode is false.\n\t\t\tupdateState({\n\t\t\t\tobservers,\n\t\t\t\tdepth,\n\t\t\t\tselectedIndex: childList[0],\n\t\t\t\tsidebarButtonStyle: {\n\t\t\t\t\tfont: sidebarButtonFontFamily,\n\t\t\t\t\twidth: sidebarButtonTextWidth\n\t\t\t\t},\n\t\t\t\tvisible: !verticalStackingEnabled\n\t\t\t});\n\t\t},\n\t\t/* Should move the vertical stacking JavaScript code to this lifecycle handler,\n\t\tonce track/uxf uptakes seismic@19.2.0-tree-ready-rc.0 */\n\t\t// [COMPONENT_DOM_TREE_READY]: () => {\n\t\t// },\n\t\t[COMPONENT_DISCONNECTED]: ({ action, state }) => {\n\t\t\tconst { observers } = state;\n\t\t\tconst { host } = action.payload;\n\t\t\tconst nowID = host.getAttribute('now-id');\n\n\t\t\t// Remove event listeners\n\t\t\tGlobalResizeListener.remove(`calculate_width_${nowID}`);\n\n\t\t\t// Remove all observers\n\t\t\tobservers.removeAllObservers();\n\t\t},\n\t\t['SN_CANVAS_MEGA_MENU#SIDEBAR_BUTTON_CLICKED']: ({\n\t\t\thost,\n\t\t\taction,\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tconst { selectedIndex, sidebarPosition } = action.payload;\n\t\t\tconst hoistedContent = getHoistedContent(host);\n\t\t\tconst currentFocusedEl = hoistedContent.querySelector(\n\t\t\t\t`button#${selectedIndex}`\n\t\t\t);\n\t\t\tupdateState({ selectedIndex, sidebarPosition, currentFocusedEl });\n\t\t},\n\t\t['NOW_LINK_SET#LINK_CLICKED']: ({ dispatch }) => {\n\t\t\t// Close the popover whenever a link has been clicked\n\t\t\tdispatch(NOW_POPOVER_OPENED_SET, { opened: false });\n\t\t},\n\t\t['NOW_BUTTON#CLICKED']: ({ dispatch }) => {\n\t\t\t// Close the popover whenever a button has been clicked\n\t\t\tdispatch(NOW_POPOVER_OPENED_SET, { opened: false });\n\t\t}\n\t},\n\teventHandlers: KeyboardEventHandler,\n\tbehaviors: [focusBehavior, rtlBehavior],\n\tstyles: snCanvasMegaMenuStyles\n});\n","import { navItemSchema } from '../../../sn-nav-item/schemas';\nimport { menuItemSchema } from '../../../sn-canvas-menu/schemas';\n\nexport const megaMenuItemSchema = {\n\tdefinitions: {\n\t\tmenuItem: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\taction: navItemSchema,\n\t\t\t\titems: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: menuItemSchema\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tlinksetTransform,\n\tbrowseLinkTransform,\n\theadingTransform\n} from './transforms';\n\nimport { getTotalGridWidth, findDepth, maxItemCount } from './gridItems';\n\nimport {\n\tgetHoistedContent,\n\tgetStyePropertyIntegerValue,\n\tmeasureText,\n\tdeferUntilVisible\n} from './dom';\n\nexport {\n\tlinksetTransform,\n\tbrowseLinkTransform,\n\theadingTransform,\n\tgetTotalGridWidth,\n\tfindDepth,\n\tmaxItemCount,\n\tmeasureText,\n\tgetHoistedContent,\n\tgetStyePropertyIntegerValue,\n\tdeferUntilVisible\n};\n","import isEmpty from 'lodash/isEmpty';\n\nexport const linksetTransform = (\n\t{ target, label, value, leftIcon, type, rightIcon },\n\tselected = false\n) => {\n\tconst opensWindow = target === '_blank';\n\tconst startsWith = leftIcon\n\t\t? { startsWith: { icon: leftIcon, align: 'left' } }\n\t\t: null;\n\tconst endsWith = rightIcon\n\t\t? { endsWith: { type: 'icon', value: rightIcon, additionalAttrs: null } }\n\t\t: null;\n\n\treturn {\n\t\tlabel,\n\t\topensWindow,\n\t\tvalue,\n\t\tselected,\n\t\ttype,\n\t\tdownload: false,\n\t\tconfigAria: {\n\t\t\t...(selected && { 'aria-current': 'page' })\n\t\t},\n\t\t...startsWith,\n\t\t...endsWith\n\t};\n};\n\nexport const browseLinkTransform = (action, isSelected, level = null) => {\n\tif (isEmpty(action)) return null;\n\tconst { label, rightIcon = 'chevron-end-fill' } = action;\n\n\treturn {\n\t\tlevel,\n\t\ttype: 'link',\n\t\tlabel: label,\n\t\ticon: rightIcon,\n\t\tlink: linksetTransform({ ...action, type: 'route' }, isSelected)\n\t};\n};\n\nexport const headingTransform = (heading) => ({\n\ttype: 'text',\n\thasIcon: false,\n\ticon: {},\n\tlabel: heading,\n\tlink: {}\n});\n","import isEmpty from 'lodash/isEmpty';\nimport get from 'lodash/get';\nimport { MAX_DEPTH, LEVEL_ONE, LEVEL_TWO, LEVEL_THREE } from '../constants';\n\n/**\n * Get the total internal grid width to set for the megamenu panel. The width will be set based on how many\n * grid items can fit within the max width. Takes account of padding and grid column gaps.\n *\n * @param {Object}\n */\nexport const getTotalGridWidth = ({\n\titemCount,\n\tmaxWidth,\n\tcolumnGap,\n\titemWidth,\n\tpadding\n}) => {\n\tlet width = itemWidth + padding * 2;\n\tconst totalWidthOfNewGridItem = itemWidth + columnGap;\n\n\tlet idx = 1;\n\n\twhile (idx < itemCount) {\n\t\tif (maxWidth < width + totalWidthOfNewGridItem) {\n\t\t\tbreak;\n\t\t}\n\t\twidth += totalWidthOfNewGridItem;\n\t\tidx++;\n\t}\n\n\treturn width;\n};\n\n/**\n * Find the depth of the menu items. We assume that menu items are balanced, so we only need to check the first item\n * list in children.\n *\n * @param {Object} item\n */\nexport const findDepth = (item) => {\n\tlet depth = 0;\n\tlet children = item;\n\twhile (children || depth === MAX_DEPTH) {\n\t\tchildren = get(children, 'children.items[0]', false);\n\t\tif (isEmpty(children)) {\n\t\t\treturn depth;\n\t\t}\n\t\tdepth++;\n\t}\n\treturn depth;\n};\n\n/**\n * Get count of linkset items for a megamenu.\n * @param {Object} items\n * @param {number} depth\n */\nexport const maxItemCount = (items) => {\n\tconst { depth, childList } = items.root;\n\n\tswitch (depth) {\n\t\t// For level one menus the item count will always be 1.\n\t\tcase LEVEL_ONE:\n\t\t\treturn 1;\n\t\t// Return the count of items in the linkset group.\n\t\tcase LEVEL_TWO:\n\t\t\treturn childList.length;\n\t\t// Return the linkset group with the highest linkset count\n\t\tcase LEVEL_THREE:\n\t\t\treturn childList.reduce(\n\t\t\t\t(acc, curr) => Math.max(items[curr].childList.length, acc),\n\t\t\t\t0\n\t\t\t);\n\t}\n};\n","module.exports = __TECTONIC__lodash_4_17_15[\"isFunction\"];","import { getStyePropertyIntegerValue } from './dom';\n\nexport default class VerticalStackedGrid {\n\tconstructor(container, options) {\n\t\tconst { itemSelector, itemWidth, verticalStacking, panelWidth } = options;\n\n\t\tthis.cachedHeights = {};\n\n\t\tthis.container = container;\n\t\tthis.itemWidth = itemWidth;\n\t\tthis.verticalStacking = verticalStacking;\n\t\tthis.panelWidth = panelWidth;\n\n\t\tthis.items = container.querySelectorAll(itemSelector);\n\n\t\tthis.rowTrack = 0;\n\t\tthis.gridRowGap = getStyePropertyIntegerValue(container, 'grid-row-gap');\n\t\tthis.gridColumnGap = getStyePropertyIntegerValue(\n\t\t\tcontainer,\n\t\t\t'grid-column-gap'\n\t\t);\n\n\t\tthis.trackSize = this.gridRowGap;\n\t}\n\n\tupdate(panelWidth) {\n\t\tlet columnSize = Math.floor(panelWidth / this.itemWidth);\n\t\tlet rowSize = Math.ceil(this.items.length / columnSize);\n\n\t\tthis.items.forEach((item, idx) => {\n\t\t\t// Wrapping this code\n\t\t\tlet colNumber = Math.ceil((idx + 1) / rowSize);\n\n\t\t\tlet heightOfGridItem = this._getLinkSetHeight(item) + this.gridRowGap;\n\t\t\tlet span = Math.ceil(heightOfGridItem / this.trackSize);\n\n\t\t\t// Set style in of grid item\n\t\t\titem.style.gridColumn = colNumber;\n\t\t\titem.style.gridRowEnd = `span ${span}`;\n\t\t});\n\t}\n\n\t_getLinkSetHeight(item) {\n\t\tconst { nowId } = item;\n\t\t// Linkset heights will not change. Can cache this to avoid un-necessary calls to getBoundingClientRect, and\n\t\t// un-neccessary style changes.\n\t\tif (this.cachedHeights.hasOwnProperty(nowId)) {\n\t\t\treturn this.cachedHeights[nowId];\n\t\t}\n\n\t\t// In order to measure height, set display to block and then immediately remove. JavaScript will finish running\n\t\t// before repaint happens, so we don't need to worry about flickering.\n\t\titem.parentElement.parentElement.style.display = 'block';\n\t\tconst height = item.shadowRoot\n\t\t\t.querySelector('.now-link-set')\n\t\t\t.getBoundingClientRect().height;\n\t\titem.parentElement.parentElement.style.display = '';\n\n\t\tthis.cachedHeights[nowId] = height;\n\t\treturn height;\n\t}\n}\n","export default class ObserverList {\n\tconstructor() {\n\t\tthis.observerList = [];\n\t}\n\n\taddObserver(item) {\n\t\tthis.observerList.push(item);\n\t}\n\n\tremoveAllObservers() {\n\t\tthis.observerList = [];\n\t}\n\n\tisEmpty() {\n\t\treturn this.observerList.length === 0;\n\t}\n\n\tnotify(width) {\n\t\tthis.observerList.forEach((observer) => {\n\t\t\tobserver.update(width);\n\t\t});\n\t}\n}\n","import isEmpty from 'lodash/isEmpty';\nimport get from 'lodash/get';\nimport { getFocusableNodes } from '@servicenow/behavior-focus';\n\nimport {\n\tARROW_RIGHT_KEY,\n\tARROW_DOWN_KEY,\n\tARROW_LEFT_KEY,\n\tARROW_UP_KEY,\n\tHOME_KEY,\n\tEND_KEY,\n\tTAB_KEY\n} from '../../../../constants/constants';\nimport { handleRtlFn } from '../../../../utils/rtl';\n\n/**\n * @typedef FocusableMenuPanelItems\n * @type {object}\n * @property {HTMLElement} firstFocusableElement\n * @property {HTMLElement} lastFocusableElement\n * @property {Array.<HTMLElement>} focusableElements\n */\n\nlet actionableEl = new Set(['NOW-BUTTON', 'BUTTON', 'A']);\n\n/**\n *\n * @param {Array.<HTMLElement>} elements\n * @returns {FocusableMenuPanelItems}\n */\nconst getFocusableMenuPanelItems = (elements) => {\n\tlet focusableElements = [];\n\tlet firstFocusableElement;\n\tlet lastFocusableElement;\n\n\tfor (let idx = 0; idx < elements.length; idx++) {\n\t\tconst focusableNodes = getFocusableNodes(elements[idx]);\n\t\tif (idx === 0) {\n\t\t\tfirstFocusableElement = focusableNodes.firstFocusableElement;\n\t\t}\n\t\tif (idx === elements.length - 1) {\n\t\t\tlastFocusableElement = focusableNodes.lastFocusableElement;\n\t\t}\n\t\tfocusableElements.push(focusableNodes.tabbableNodes);\n\t}\n\n\treturn {\n\t\tfirstFocusableElement,\n\t\tlastFocusableElement,\n\t\tfocusableElements\n\t};\n};\n\n/**\n * Gets a set of focusable menu panel items. When there is a sidebar, each sidebar item maps to a menu panel.\n * Maps menu content container id to the menu panel content. The Menu Content Container ID is mapped to a sidebar item.\n *\n * @param {HTMLElement} host\n * @returns {Object.<string, FocusableMenuPanelItems}}\n */\nconst getSetOfFocusableMenuPanelItems = (host) => {\n\tlet menuContentContainer = host.nowRootNode.querySelectorAll(\n\t\t'.sn-canvas-mega-menu-linkset-container'\n\t);\n\n\tlet focusableSection = {};\n\n\tfor (let idx = 0; idx < menuContentContainer.length; idx++) {\n\t\tconst id = menuContentContainer[idx].getAttribute('id');\n\t\tconst focusableNodes = getFocusableMenuPanelItems(\n\t\t\tmenuContentContainer[idx].querySelectorAll('now-link-set, now-button')\n\t\t);\n\t\tfocusableSection[id] = focusableNodes;\n\t}\n\treturn focusableSection;\n};\n\n/**\n * Gets all Focusable Elements for the mega menu. There are two cases:\n * 1) When the mega menu contains the sidebar elements\n * 2) When the mega menu doesn't\n *\n * We must handle both separately as the interactions differ.\n *\n * @param {HTMLElement} host\n */\nexport const getFocusableItems = (host) => {\n\tlet sidebarEl = host.nowRootNode.querySelector(\n\t\t'.sn-canvas-mega-menu-sidebar'\n\t);\n\n\tlet menuPanelItem = host.nowRootNode\n\t\t.querySelector('.sn-canvas-mega-menu-linkset-container')\n\t\t.querySelectorAll('now-link-set, now-button');\n\n\tlet focusableSidebar = null;\n\tlet focusableMenuPanelItems;\n\n\tif (sidebarEl) {\n\t\tfocusableSidebar = getFocusableNodes(sidebarEl);\n\t\tfocusableMenuPanelItems = getSetOfFocusableMenuPanelItems(host);\n\t\treturn {\n\t\t\tfocusableSidebar: focusableSidebar.tabbableNodes,\n\t\t\tfirstFocusableElement: focusableSidebar.firstFocusableElement,\n\t\t\tlastFocusableElement: focusableSidebar.lastFocusableElement,\n\t\t\tfocusableMenuPanelItems: focusableMenuPanelItems\n\t\t};\n\t}\n\n\tfocusableMenuPanelItems = getFocusableMenuPanelItems(menuPanelItem);\n\n\treturn {\n\t\tfocusableSidebar,\n\t\tfirstFocusableElement: focusableMenuPanelItems.firstFocusableElement,\n\t\tlastFocusableElement: focusableMenuPanelItems.lastFocusableElement,\n\t\tfocusableMenuPanelItems: focusableMenuPanelItems.focusableElements\n\t};\n};\n\n/**\n * Resets focusable state position to the default values.\n *\n * @param {Object} menuItems\n */\nexport const resetFocusablePositions = (menuItems) => {\n\tconst selectedIndex = get(menuItems, 'root.childList[0]', '');\n\treturn {\n\t\tselectedIndex,\n\t\tfocusPosition: { x: 0, y: 0 },\n\t\tsidebarPosition: 0,\n\t\tfocusedMenuPanel: '',\n\t\tcurrentFocusedEl: null\n\t};\n};\n\nexport default [\n\t{\n\t\tcapture: false,\n\t\tevents: ['keydown'],\n\t\teffect({\n\t\t\taction: {\n\t\t\t\tpayload: { event }\n\t\t\t},\n\t\t\tdispatch,\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\tupdateState\n\t\t}) {\n\t\t\tlet {\n\t\t\t\tsidebarPosition,\n\t\t\t\tfocusPosition,\n\t\t\t\tfocusableItems,\n\t\t\t\tfocusedMenuPanel\n\t\t\t} = state;\n\n\t\t\tconst { dir } = properties;\n\n\t\t\tconst includeSidebarNavigation = (focusableItems) =>\n\t\t\t\tfocusableItems.focusableSidebar !== null;\n\n\t\t\tconst focus = (x, y, elements, sidebarElements) => {\n\t\t\t\tif (x === -1 && y === -1) {\n\t\t\t\t\tif (isEmpty(sidebarElements))\n\t\t\t\t\t\tdispatch('NOW_POPOVER#OPENED_SET', { opened: false });\n\t\t\t\t\telse {\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tfocusedMenuPanel: '',\n\t\t\t\t\t\t\tfocusPosition: { x: 0, y: 0 }\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfocusSidebarItem(sidebarPosition, sidebarElements);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telements[x][y].focus();\n\t\t\t\tupdateState([\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: 'focusPosition',\n\t\t\t\t\t\tvalue: { x, y },\n\t\t\t\t\t\toperation: 'assign',\n\t\t\t\t\t\tshouldRender: false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: 'currentFocusedEl',\n\t\t\t\t\t\tvalue: elements[x][y],\n\t\t\t\t\t\toperation: 'set',\n\t\t\t\t\t\tshouldRender: false\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t};\n\n\t\t\tconst focusSidebarItem = (idx, elements) => {\n\t\t\t\tif (idx === -1) {\n\t\t\t\t\tdispatch('NOW_POPOVER#OPENED_SET', { opened: false });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet element = elements[idx];\n\t\t\t\tlet id = element.getAttribute('id');\n\t\t\t\telement.focus();\n\n\t\t\t\tlet batchedStateUpdates = [\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: 'sidebarPosition',\n\t\t\t\t\t\tvalue: idx,\n\t\t\t\t\t\toperation: 'assign',\n\t\t\t\t\t\tshouldRender: false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: 'currentFocusedEl',\n\t\t\t\t\t\tvalue: element,\n\t\t\t\t\t\toperation: 'set',\n\t\t\t\t\t\tshouldRender: false\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\tif (id) {\n\t\t\t\t\tbatchedStateUpdates.push({\n\t\t\t\t\t\tpath: 'selectedIndex',\n\t\t\t\t\t\tvalue: id,\n\t\t\t\t\t\toperation: 'set',\n\t\t\t\t\t\tshouldRender: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tupdateState(batchedStateUpdates);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Create move functions for when focus is in the main menu content panel.\n\t\t\t *\n\t\t\t * @param {{x: number, y: number}} originalCoord\n\t\t\t * @param {HTMLElement} firstFocusableElement\n\t\t\t * @param {HTMLElement} lastFocusableElement\n\t\t\t * @param {FocusableMenuPanelItems} focusableMenuPanelItems\n\t\t\t * @param {Array.<HTMLElement>} sidebarElements\n\t\t\t */\n\t\t\tconst createMenuContentMoveFunctions = (\n\t\t\t\toriginalCoord,\n\t\t\t\tfirstFocusableElement,\n\t\t\t\tlastFocusableElement,\n\t\t\t\tfocusableMenuPanelItems,\n\t\t\t\tsidebarElements\n\t\t\t) => {\n\t\t\t\tlet { x, y } = originalCoord;\n\n\t\t\t\t/**\n\t\t\t\t * Move up in the y axis.\n\t\t\t\t * If the current item is on the first focusable element, then we want to focus out of the menupanel.\n\t\t\t\t * If the y axis hits 0, and it's on a positive x axis, then we want to move left (The previous linkset).\n\t\t\t\t */\n\t\t\t\tconst moveUp = () => {\n\t\t\t\t\tif (firstFocusableElement === focusableMenuPanelItems[x][y]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (y !== 0) {\n\t\t\t\t\t\ty--;\n\t\t\t\t\t} else if (x > 0) {\n\t\t\t\t\t\tx--;\n\t\t\t\t\t\ty = focusableMenuPanelItems[x].length - 1;\n\t\t\t\t\t}\n\t\t\t\t\tfocus(x, y, focusableMenuPanelItems, sidebarElements);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move right in the x axis.\n\t\t\t\t * If the current item is the last focusable element, then we want to focus out of the menupanel.\n\t\t\t\t */\n\t\t\t\tconst moveRight = () => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tlastFocusableElement === focusableMenuPanelItems[x][y] ||\n\t\t\t\t\t\tx === focusableMenuPanelItems.length - 1\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (x !== focusableMenuPanelItems.length - 1) {\n\t\t\t\t\t\tx++;\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t}\n\t\t\t\t\tfocus(x, y, focusableMenuPanelItems, sidebarElements);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move left in the x axis.\n\t\t\t\t * If the current item is the first focusable element, then we want to focus out of the menupanel.\n\t\t\t\t */\n\t\t\t\tconst moveLeft = () => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tfirstFocusableElement === focusableMenuPanelItems[x][y] ||\n\t\t\t\t\t\tx === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!sidebarElements) return;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tx = -1;\n\t\t\t\t\t\t\ty = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (x !== 0) {\n\t\t\t\t\t\tx--;\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t}\n\t\t\t\t\tfocus(x, y, focusableMenuPanelItems, sidebarElements);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move down in the y axis.\n\t\t\t\t * If the current item is the last focusable element, then we want to focus out of the menupanel.\n\t\t\t\t * If the y axis hits the last item of the set, and it's on a positive x axis,\n\t\t\t\t * then we want to move right (The next linkset).\n\t\t\t\t */\n\t\t\t\tconst moveDown = () => {\n\t\t\t\t\tif (lastFocusableElement === focusableMenuPanelItems[x][y]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (y !== focusableMenuPanelItems[x].length - 1) {\n\t\t\t\t\t\ty++;\n\t\t\t\t\t} else if (x < focusableMenuPanelItems.length - 1) {\n\t\t\t\t\t\tx++;\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tfocus(x, y, focusableMenuPanelItems, sidebarElements);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move to the first focusable element.\n\t\t\t\t */\n\t\t\t\tconst moveHome = () => {\n\t\t\t\t\tfocus(0, 0, focusableMenuPanelItems, sidebarElements);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move to the last focusable element.\n\t\t\t\t */\n\t\t\t\tconst moveEnd = () => {\n\t\t\t\t\tlet lastX = focusableMenuPanelItems.length - 1;\n\t\t\t\t\tlet lastY = focusableMenuPanelItems[lastX].length - 1;\n\n\t\t\t\t\tfocus(lastX, lastY, focusableMenuPanelItems, sidebarElements);\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tmoveUp,\n\t\t\t\t\tmoveRight,\n\t\t\t\t\tmoveLeft,\n\t\t\t\t\tmoveDown,\n\t\t\t\t\tmoveHome,\n\t\t\t\t\tmoveEnd\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t/**\n\t\t\t *\n\t\t\t * @param {number} sidebarCoord - Position where the user is focused on the sidebar\n\t\t\t * @param {HTMLElement} firstFocusableElement - First focusable sidebar element\n\t\t\t * @param {HTMLElement} lastFocusableElement - Last focusable sidebar element\n\t\t\t * @param {Array.<HTMLElement>} focusableSidebarElement - List of focusable sidebar elements\n\t\t\t * @param {Object.<string, HTMLElement>} focusableMenuPanelItems - List of focusable MenuPanel Items.\n\t\t\t */\n\t\t\tconst createSidebarMoveFunctions = (\n\t\t\t\tsidebarCoord,\n\t\t\t\tfirstFocusableElement,\n\t\t\t\tlastFocusableElement,\n\t\t\t\tfocusableSidebarElement,\n\t\t\t\tfocusableMenuPanelItems\n\t\t\t) => {\n\t\t\t\tlet y = sidebarCoord;\n\n\t\t\t\t/**\n\t\t\t\t * Move up along the y axis.\n\t\t\t\t * If element is the firstFocusableElement, then we want to exit the menu.\n\t\t\t\t */\n\t\t\t\tconst moveUp = () => {\n\t\t\t\t\tif (firstFocusableElement === focusableSidebarElement[y]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (y !== 0) {\n\t\t\t\t\t\ty--;\n\t\t\t\t\t}\n\t\t\t\t\tfocusSidebarItem(y, focusableSidebarElement);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move into the menupanel from the sidebar.\n\t\t\t\t */\n\t\t\t\tconst moveRight = () => {\n\t\t\t\t\tlet currentSidebarID = focusableSidebarElement[y].getAttribute(\n\t\t\t\t\t\t'aria-controls'\n\t\t\t\t\t);\n\t\t\t\t\tif (!currentSidebarID) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet element =\n\t\t\t\t\t\tfocusableMenuPanelItems[currentSidebarID].firstFocusableElement;\n\t\t\t\t\telement.focus();\n\t\t\t\t\tupdateState([\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: 'focusedMenuPanel',\n\t\t\t\t\t\t\tvalue: currentSidebarID,\n\t\t\t\t\t\t\toperation: 'assign',\n\t\t\t\t\t\t\tshouldRender: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: 'currentFocusedEl',\n\t\t\t\t\t\t\tvalue: element,\n\t\t\t\t\t\t\toperation: 'set',\n\t\t\t\t\t\t\tshouldRender: false\n\t\t\t\t\t\t}\n\t\t\t\t\t]);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * No-op, should do nothing.\n\t\t\t\t */\n\t\t\t\tconst moveLeft = () => {};\n\n\t\t\t\t/**\n\t\t\t\t * Move down along the y axis.\n\t\t\t\t * If element is the lastFocusableElement do nothing.\n\t\t\t\t */\n\t\t\t\tconst moveDown = () => {\n\t\t\t\t\tif (lastFocusableElement === focusableSidebarElement[y]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (y !== focusableSidebarElement.length - 1) {\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t\tfocusSidebarItem(y, focusableSidebarElement);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move to the first focusable element.\n\t\t\t\t */\n\t\t\t\tconst moveHome = () => {\n\t\t\t\t\tfocusSidebarItem(0, focusableSidebarElement);\n\t\t\t\t};\n\n\t\t\t\t/**\n\t\t\t\t * Move to the last focusable element.\n\t\t\t\t */\n\t\t\t\tconst moveEnd = () => {\n\t\t\t\t\tlet end = focusableSidebarElement.length - 1;\n\t\t\t\t\tfocusSidebarItem(end, focusableSidebarElement);\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tmoveUp,\n\t\t\t\t\tmoveRight,\n\t\t\t\t\tmoveLeft,\n\t\t\t\t\tmoveDown,\n\t\t\t\t\tmoveHome,\n\t\t\t\t\tmoveEnd\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tconst createMoveFunctions = (\n\t\t\t\tsidebarPosition,\n\t\t\t\tmenuCoord,\n\t\t\t\tfocusableItems,\n\t\t\t\tfocusedMenuPanel = ''\n\t\t\t) => {\n\t\t\t\tconst {\n\t\t\t\t\tfirstFocusableElement,\n\t\t\t\t\tlastFocusableElement,\n\t\t\t\t\tfocusableMenuPanelItems,\n\t\t\t\t\tfocusableSidebar\n\t\t\t\t} = focusableItems;\n\n\t\t\t\tlet movementFn = {};\n\t\t\t\tlet currentFocusedSection = {};\n\n\t\t\t\tconst isFocusedOnSidebar =\n\t\t\t\t\tincludeSidebarNavigation(focusableItems) && isEmpty(focusedMenuPanel);\n\t\t\t\tconst isFocusedOnMenuPanelWithSidebarParent = includeSidebarNavigation(\n\t\t\t\t\tfocusableItems\n\t\t\t\t);\n\n\t\t\t\t// Create move functions when a sidebar exists, and a user has focus on the sidebar\n\t\t\t\tif (isFocusedOnSidebar) {\n\t\t\t\t\t// Handle sidebar navigation\n\t\t\t\t\tcurrentFocusedSection = focusableSidebar;\n\t\t\t\t\tmovementFn = createSidebarMoveFunctions(\n\t\t\t\t\t\tsidebarPosition,\n\t\t\t\t\t\tfirstFocusableElement,\n\t\t\t\t\t\tlastFocusableElement,\n\t\t\t\t\t\tfocusableSidebar,\n\t\t\t\t\t\tfocusableMenuPanelItems\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// Create move functions when a sidebar exists, and a user has focus on the menu panel\n\t\t\t\telse if (isFocusedOnMenuPanelWithSidebarParent) {\n\t\t\t\t\tcurrentFocusedSection = focusableMenuPanelItems[focusedMenuPanel];\n\t\t\t\t\tmovementFn = createMenuContentMoveFunctions(\n\t\t\t\t\t\tmenuCoord,\n\t\t\t\t\t\tcurrentFocusedSection.firstFocusableElement,\n\t\t\t\t\t\tcurrentFocusedSection.lastFocusableElement,\n\t\t\t\t\t\tcurrentFocusedSection.focusableElements,\n\t\t\t\t\t\tfocusableSidebar\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// Create move functions when there is no sidebar present\n\t\t\t\telse {\n\t\t\t\t\tcurrentFocusedSection = focusableMenuPanelItems;\n\t\t\t\t\tmovementFn = createMenuContentMoveFunctions(\n\t\t\t\t\t\tmenuCoord,\n\t\t\t\t\t\tfirstFocusableElement,\n\t\t\t\t\t\tlastFocusableElement,\n\t\t\t\t\t\tfocusableMenuPanelItems\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn movementFn;\n\t\t\t};\n\n\t\t\tconst {\n\t\t\t\tmoveRight,\n\t\t\t\tmoveUp,\n\t\t\t\tmoveDown,\n\t\t\t\tmoveLeft,\n\t\t\t\tmoveHome,\n\t\t\t\tmoveEnd\n\t\t\t} = createMoveFunctions(\n\t\t\t\tsidebarPosition,\n\t\t\t\tfocusPosition,\n\t\t\t\tfocusableItems,\n\t\t\t\tfocusedMenuPanel\n\t\t\t);\n\t\t\tconst { key, view } = event;\n\n\t\t\tconst moveNext = handleRtlFn(moveRight, moveLeft, dir);\n\t\t\tconst movePrevious = handleRtlFn(moveLeft, moveRight, dir);\n\n\t\t\tswitch (key) {\n\t\t\t\tcase ARROW_RIGHT_KEY:\n\t\t\t\t\tmoveNext();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ARROW_UP_KEY:\n\t\t\t\t\tmoveUp();\n\t\t\t\t\t// Prevent window from scrolling\n\t\t\t\t\tview.event.preventDefault();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ARROW_DOWN_KEY:\n\t\t\t\t\tmoveDown();\n\t\t\t\t\t// Prevent window from scrolling\n\t\t\t\t\tview.event.preventDefault();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ARROW_LEFT_KEY:\n\t\t\t\t\tmovePrevious();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase HOME_KEY:\n\t\t\t\t\tmoveHome();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase END_KEY:\n\t\t\t\t\tmoveEnd();\n\t\t\t\t\tbreak;\n\t\t\t\tcase TAB_KEY:\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tevents: ['mouseup'],\n\t\teffect({\n\t\t\taction: {\n\t\t\t\tpayload: { event }\n\t\t\t},\n\t\t\tstate\n\t\t}) {\n\t\t\tconst { currentFocusedEl } = state;\n\t\t\t// Do not refocus if an actionable el node was clicked\n\t\t\tif (event.path.find((el) => actionableEl.has(el.tagName))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Blur event on elements will always happen before mouseup. We want to restore focus on the element that was\n\t\t\t// blurred, so the user can still use keyboard navigation if they click anywhere on the megamenu panel.\n\t\t\tif (currentFocusedEl) currentFocusedEl.focus();\n\t\t}\n\t}\n];\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-mega-menu.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}:host{--sn-canvas-menu-linkset-width:300;--sn-canvas-menu-sidebar-width:225;--sn-canvas-menu-sidebar-button-text-width:129;--sn-canvas-menu-grid-column-gap:32;--sn-canvas-menu-linkset-section-padding:32;--mv9-jAmU-1tz--ptPrWjz--JvjvZ:var(--mv9-Jrmsr1-Ttfr-TtmW--jAmU-1tz--ptPrWjz--JvjvZ,var(--now-color--neutral-18,22,27,28));--mv9-jAmU-1tz--ptPrWjz--JvjvZ--8vstZ:var(--mv9-Jrmsr1-Ttfr-TtmW--jAmU-1tz--ptPrWjz--JvjvZ--8vstZ,var(--now-color--secondary-3,1,60,71));--mv9-jAmU-1tz--ptPrWjz--JvjvZ--rJzAst:var(--mv9-Jrmsr1-Ttfr-TtmW--jAmU-1tz--ptPrWjz--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71))}:host li{list-style-type:none}.sn-canvas-mega-menu{min-width:364px;height:100%;font-size:1rem}.sn-canvas-mega-menu.-hidden{visibility:hidden}.sn-canvas-mega-menu-layout-sidebar{display:grid;grid-template-columns:225px auto;grid-template-areas:\\\"sidebar content\\\"}.sn-canvas-mega-menu-sidebar{-ms-grid-row:1;-ms-grid-column:1;position:relative;overflow-x:hidden;overflow-y:auto;grid-area:sidebar;background-color:RGB(var(--mv9-Jrmsr1-Ttfr-TtmW-1AptXrmtj--krJUfZvWmp-JvjvZ,var(--now-color--neutral-1,246,247,247)))}.sn-canvas-mega-menu-sidebar-container{position:absolute;top:0;left:0;width:100%;padding:2rem}.sn-canvas-mega-menu-sidebar-list{margin:0;padding:0}.sn-canvas-mega-menu-content{-ms-grid-row:1;-ms-grid-column:2;grid-area:content}.sn-canvas-mega-menu-sidebar-item{margin-bottom:1.5rem}.sn-canvas-mega-menu-sidebar-item button{all:unset;cursor:pointer;color:RGB(var(--mv9-Jrmsr1-Ttfr-TtmW-1AptXrmtj--kWzzvm-JvjvZ,var(--now-color--neutral-18,22,27,28)))}.sn-canvas-mega-menu-sidebar-item button:hover{text-decoration:underline;color:RGB(var(--mv9-Jrmsr1-Ttfr-TtmW-1AptXrmtj--kWzzvm-JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107)))}.sn-canvas-mega-menu-sidebar-item button.-is-selected,.sn-canvas-mega-menu-sidebar-item button:active,.sn-canvas-mega-menu-sidebar-item button:focus{text-decoration:underline;color:RGB(var(--mv9-Jrmsr1-Ttfr-TtmW-1AptXrmtj--kWzzvm-JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71)))}.sn-canvas-mega-menu-sidebar-item button::-moz-focus-inner{border-style:none}.sn-canvas-mega-menu-sidebar-item button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-canvas-mega-menu-sidebar-item span{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.sn-canvas-mega-menu-linkset-container{overflow:hidden;background-color:RGB(var(--mv9-Jrmsr1-TtmW-Xrmtj--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255)))}.sn-canvas-mega-menu-linkset-container:not(.-open){display:none}.sn-canvas-mega-menu-linkset-section{overflow:hidden;padding:2rem}.sn-canvas-mega-menu-browse-group{padding:2rem}.sn-canvas-mega-menu hr.divider{height:1px;margin:0;border:0;background-color:RGB(var(--now-color_divider--secondary,var(--now-color--neutral-5,172,180,181)))}.-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,300px));grid-gap:2.5rem 2rem}.-grid.-vertical-stacking-enabled{grid-auto-flow:column}\", \"\"]);\n\n// exports\n","import { getFocusableNodes } from '@servicenow/behavior-focus';\n\nimport {\n\tHOME_KEY,\n\tARROW_LEFT_KEY,\n\tARROW_RIGHT_KEY,\n\tEND_KEY,\n\tTAB_KEY\n} from '../../constants/constants';\n\nimport { handleRtlFn } from '../../utils/rtl';\n\nconst CANVAS_MENU_ITEM_SELECTOR =\n\t'.sn-canvas-menu-nav-item > sn-nav-item, .sn-canvas-menu-nav-item > sn-canvas-menu-dropdown';\n\nconst IGNORED_ELEMENTS = ['sn-canvas-menu-nav-action-button'];\n\nconst _shouldIgnoreElement = (element) =>\n\tIGNORED_ELEMENTS.find((className) => element.classList.contains(className));\n\nconst _getMenuItems = (host) => [\n\t...host.shadowRoot.querySelectorAll(CANVAS_MENU_ITEM_SELECTOR)\n];\n\nconst _getFocusedElement = (host) => host.shadowRoot.activeElement;\n\n/**\n * Clears tabindexes for all items in the menu.\n * @param {HTMLElement} host\n */\nconst _clearTabIndex = (host) => {\n\tconst menuItems = _getMenuItems(host);\n\tmenuItems.forEach((menuItem) => menuItem.setAttribute('tabindex', '-1'));\n};\n\n/**\n * Sets focus to the passed in menu item. We remove attribute tabindex instead of setting to '0' to let the markup\n * within the shadowroot handle tabindex.\n * @param {HTMLElement} el\n */\nconst _setFocus = (el) => {\n\tel.removeAttribute('tabindex');\n\tel.focus();\n};\n\n/**\n * Gets the position of the item that is currently focused on.\n * @param {HTMLElement} host\n */\nconst _getFocusedElementIndex = (host) => {\n\tconst menuItems = _getMenuItems(host);\n\tconst { id } = _getFocusedElement(host).dataset;\n\treturn menuItems.findIndex((item) => item.dataset.id === id);\n};\n\n/**\n * Focuses on the item in the first position of the menu.\n * @param {HTMLElement} host\n */\nconst _focusFirstItem = (host) => {\n\tconst menuItems = _getMenuItems(host);\n\t_setFocus(menuItems[0]);\n};\n\n/**\n * Focuses on the item in the last position of the menu.\n * @param {HTMLElement} host\n */\nconst _focusLastItem = (host) => {\n\tconst menuItems = _getMenuItems(host);\n\t_setFocus(menuItems[menuItems.length - 1]);\n};\n\n/**\n * Focuses on the next item in the menu.\n * @param {HTMLElement} host\n */\nconst _focusNextItem = (host) => {\n\tconst currentFocusIndex = _getFocusedElementIndex(host);\n\tconst menuItems = _getMenuItems(host);\n\t_clearTabIndex(host);\n\tif (currentFocusIndex < menuItems.length - 1) {\n\t\t_setFocus(menuItems[currentFocusIndex + 1]);\n\t} else {\n\t\t_focusLastItem(host);\n\t}\n};\n\n/**\n * Focuses on the previous item in the menu.\n * @param {HTMLElement} host\n */\nconst _focusPreviousItem = (host) => {\n\tconst currentFocusIndex = _getFocusedElementIndex(host);\n\tconst menuItems = _getMenuItems(host);\n\t_clearTabIndex(host);\n\tif (currentFocusIndex > 0) {\n\t\t_setFocus(menuItems[currentFocusIndex - 1]);\n\t} else {\n\t\t_focusFirstItem(host);\n\t}\n};\n\nconst _clearOpenDropdown = (host) => {\n\tconst menuItems = _getMenuItems(host);\n\tfor (let idx = 0, len = menuItems.length; idx < len; idx++) {\n\t\tif (menuItems[idx].opened === true) {\n\t\t\tmenuItems[idx].opened = false;\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\nconst focusFirstItemBeforeMenubar = (host) => {\n\tconst navListEl = host.shadowRoot.querySelector('.sn-canvas-menu-nav-list');\n\tlet nodeToCheck = getFocusableNodes(navListEl).firstFocusableElement;\n\tlet focusableNodes = getFocusableNodes(document.body).tabbableNodes;\n\tlet idx = 0;\n\n\twhile (focusableNodes[idx] && !nodeToCheck.isSameNode(focusableNodes[idx])) {\n\t\tidx++;\n\t}\n\tfocusableNodes[idx - 1].focus();\n};\n\nconst focusFirstItemAfterMenubar = (host) => {\n\tconst navListEl = host.shadowRoot.querySelector('.sn-canvas-menu-nav-list');\n\tlet nodeToCheck = getFocusableNodes(navListEl).lastFocusableElement;\n\tlet focusableNodes = getFocusableNodes(document.body).tabbableNodes;\n\tlet idx = 0;\n\t// console.log(nodeToCheck, focusableNodes)\n\twhile (focusableNodes[idx] && !nodeToCheck.isSameNode(focusableNodes[idx])) {\n\t\tidx++;\n\t}\n\t// console.log('idx: ', idx);\n\t// console.log('focusable node: ', focusableNodes[idx + 1]);\n\tfocusableNodes[idx + 1].focus();\n};\n\n/**\n * Gives roving focus behavior to the `sn-canvas-menu` component. This follows the w3 spec outlined here:\n * https://www.w3.org/TR/wai-aria-practices/#kbd_roving_tabindex.\n */\nconst menubarKeyBindingEventHandler = [\n\t{\n\t\tcapture: false,\n\t\tevents: ['keydown'],\n\t\teffect({\n\t\t\thost,\n\t\t\taction: {\n\t\t\t\tpayload: { event }\n\t\t\t}\n\t\t}) {\n\t\t\t// Don't invoke key binding if this is on an interactive element we want to ignore\n\t\t\tconst activeElement = host.shadowRoot.activeElement;\n\t\t\tif (activeElement && _shouldIgnoreElement(activeElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { key } = event;\n\t\t\tif (key === TAB_KEY) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\tfocusFirstItemBeforeMenubar(host);\n\t\t\t\t} else {\n\t\t\t\t\tfocusFirstItemAfterMenubar(host);\n\t\t\t\t}\n\t\t\t} else if (event.srcElement.tagName === 'SN-CANVAS-MENU') {\n\t\t\t\tconst dir = host.getAttribute('dir');\n\n\t\t\t\tconst focusNextItem = handleRtlFn(\n\t\t\t\t\t_focusNextItem,\n\t\t\t\t\t_focusPreviousItem,\n\t\t\t\t\tdir\n\t\t\t\t);\n\t\t\t\tconst focusPreviousItem = handleRtlFn(\n\t\t\t\t\t_focusPreviousItem,\n\t\t\t\t\t_focusNextItem,\n\t\t\t\t\tdir\n\t\t\t\t);\n\n\t\t\t\t_clearOpenDropdown(host);\n\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase HOME_KEY:\n\t\t\t\t\t\t_focusFirstItem(host);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ARROW_LEFT_KEY:\n\t\t\t\t\t\tfocusPreviousItem(host);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ARROW_RIGHT_KEY:\n\t\t\t\t\t\tfocusNextItem(host);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase END_KEY:\n\t\t\t\t\t\t_focusLastItem(host);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n];\n\nexport { menubarKeyBindingEventHandler };\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-menu.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-canvas-menu{display:flex;overflow:hidden;justify-content:space-between;align-items:center;width:100%;font-size:1rem;text-align:center;background-color:RGB(var(--mv9-Jrmsr1-TtmW--krJUfZvWmp-JvjvZ,var(--now-color--primary-0,221,237,233)))}.sn-canvas-menu ul{margin:0;padding:0}.sn-canvas-menu button{border:none;padding:0;cursor:pointer;background:none}.sn-canvas-menu.-is-displayed{display:none}.sn-canvas-menu-nav-list{display:flex;align-items:flex-start}.sn-canvas-menu-nav{display:flex;justify-content:space-between;width:100%;padding:0 .5rem}@media (min-width:1440px) and (max-width:1600px){.sn-canvas-menu-nav.-fixed-center-aligned{max-width:90rem;margin:0 auto}}.sn-canvas-menu-nav-items{display:flex;overflow:hidden;align-items:center}.sn-canvas-menu-nav-item{max-width:18.75rem;list-style-type:none}.sn-canvas-menu-nav-actions{display:flex;align-items:center}:host(:not([dir=rtl])) .sn-canvas-menu-nav-actions,:root:not([dir=rtl]) .sn-canvas-menu-nav-actions{margin-left:auto}:host([dir=rtl]) .sn-canvas-menu-nav-actions,:root[dir=rtl] .sn-canvas-menu-nav-actions{margin-right:auto}:host(:not([dir=rtl])) .sn-canvas-menu-nav-actions,:root:not([dir=rtl]) .sn-canvas-menu-nav-actions{padding-right:1rem}:host([dir=rtl]) .sn-canvas-menu-nav-actions,:root[dir=rtl] .sn-canvas-menu-nav-actions{padding-left:1rem}.sn-canvas-menu-nav-action-list{display:flex;list-style-type:none}.sn-canvas-menu-nav-action-item{padding-top:.75rem;padding-bottom:.75rem}:host(:not([dir=rtl])) .sn-canvas-menu-nav-action-item,:root:not([dir=rtl]) .sn-canvas-menu-nav-action-item{margin-right:.5rem}:host(:not([dir=rtl])) .sn-canvas-menu-nav-action-item,:host([dir=rtl]) .sn-canvas-menu-nav-action-item,:root:not([dir=rtl]) .sn-canvas-menu-nav-action-item,:root[dir=rtl] .sn-canvas-menu-nav-action-item{margin-left:.5rem}:host([dir=rtl]) .sn-canvas-menu-nav-action-item,:root[dir=rtl] .sn-canvas-menu-nav-action-item{margin-right:.5rem}:host(:not([dir=rtl])) .sn-canvas-menu-nav-action-item:last-of-type,:root:not([dir=rtl]) .sn-canvas-menu-nav-action-item:last-of-type{margin-right:0}:host([dir=rtl]) .sn-canvas-menu-nav-action-item:last-of-type,:root[dir=rtl] .sn-canvas-menu-nav-action-item:last-of-type{margin-left:0}\", \"\"]);\n\n// exports\n","import './sn-canvas-toolbar';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport focusBehavior from '@servicenow/behavior-focus';\nimport './sn-canvas-toolbar-button';\nimport snCanvasToolbarStyles from './_sn-canvas-toolbar.scss';\nimport keyBindingBehavior from '@servicenow/behavior-key-binding';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport { handleKeyPressed } from './utils/helpers';\nimport { isEmpty as _isEmpty, filter as _filter } from 'lodash';\nimport { toolbarButtonsSchema } from './schemas/toolbar-buttons-schema';\nimport { routerSchema } from './schemas/router-schema';\nimport snCanvasToolbarEffect from './snCanvasToolbarEffect';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst {\n\thandleToolbarButtonClicked,\n\thandleActiveButtonSet,\n\thandleActiveButtonUpdated,\n\thandlePropertyChanged\n} = snCanvasToolbarEffect.effectHandlers;\n\nconst {\n\tTOOLBAR_ACTIVE_BUTTON_SET,\n\tTOOLBAR_BUTTON_CLICKED,\n\tTOOLBAR_ACTIVE_BUTTON_UPDATED\n} = snCanvasToolbarEffect.ACTION_TYPES;\n\n/**\n * snCanvasToolbar: View function\n * @param state\n * @param dispatch\n * @returns {JSX.Element|null}\n */\nconst snCanvasToolbar = (state, { dispatch }) => {\n\tconst {\n\t\tproperties: { toolbarButtons, activeRoute, activeRecords },\n\t\tactiveButton\n\t} = state;\n\tconst _renderButtons = (group) => {\n\t\tif (!_isEmpty(activeButton) && !_isEmpty(toolbarButtons)) {\n\t\t\tconst buttons = _filter(\n\t\t\t\ttoolbarButtons,\n\t\t\t\t(button) => button.group === group\n\t\t\t);\n\t\t\treturn buttons.map((button) => {\n\t\t\t\tconst { show = true } = button;\n\n\t\t\t\tif (!show) {\n\t\t\t\t\t// when show is set to false\n\t\t\t\t\treturn null;\n\t\t\t\t} else {\n\t\t\t\t\t// include the button and compute set button selection for top group based on active button\n\t\t\t\t\treturn group === 'top' ? (\n\t\t\t\t\t\t<sn-canvas-toolbar-button\n\t\t\t\t\t\t\t{...button}\n\t\t\t\t\t\t\tisSelected={activeButton.id === button.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : group === 'bottom' ? (\n\t\t\t\t\t\t<sn-canvas-toolbar-button {...button} />\n\t\t\t\t\t) : null;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tif (\n\t\t_isEmpty(activeButton) &&\n\t\t!_isEmpty(activeRoute) &&\n\t\t!_isEmpty(toolbarButtons) &&\n\t\ttypeof activeRoute === 'object' &&\n\t\tArray.isArray(activeRecords)\n\t) {\n\t\tdispatch(TOOLBAR_ACTIVE_BUTTON_SET, { activeRoute });\n\t}\n\n\treturn !_isEmpty(toolbarButtons) && !_isEmpty(activeButton) ? (\n\t\t<nav\n\t\t\tclassName=\"sn-canvas-toolbar\"\n\t\t\taria-label={t('Main Workspace Navigation')}>\n\t\t\t<div className=\"sn-canvas-toolbar-group -top\" role=\"radiogroup\">\n\t\t\t\t{_renderButtons('top')}\n\t\t\t</div>\n\t\t\t<div className=\"sn-canvas-toolbar-group -bottom\">\n\t\t\t\t{_renderButtons('bottom')}\n\t\t\t</div>\n\t\t</nav>\n\t) : null;\n};\n\n/**\n * A canvas toolbar that groups buttons to reference to a workspace module resource. There are\n * two button groups:\n *  - **top**: One appears at the top are radio group toolbar buttons. Only one button could be set selected at a time.\n *  - **bottom**: One appears at the bottom are toggle buttons.\n *\n *\n *\n * ```jsx\n * [\n * {\n *    \"id\": \"home\",\n *    \"label\": \"Home\",\n *    \"icon\": \"home-outline\",\n *    \"viewportInfo\": {},\n *    \"routeInfo\": {\n *      \"route\": \"home\"\n *    },\n *    \"group\": \"top\",\n *    \"badge\": {},\n *    \"presence\": {},\n *    \"availability\": {}\n *  },\n * {\n *    \"id\": \"list\",\n *    \"label\": \"List\",\n *    \"icon\": \"list-outline\",\n *    \"viewportInfo\": {},\n *    \"routeInfo\": {\n *      \"route\": \"list\"\n *    },\n *    \"group\": \"top\",\n *    \"badge\":{},\n *    \"presence\": {},\n *    \"availability\": {}\n *  },\n * {\n *    \"id\": \"inbox\",\n *    \"label\": \"Inbox\",\n *    \"icon\": \"inbox-outline\",\n *    \"routeInfo\": {},\n *    \"viewportInfo\": {\n *      \"route\": \"inbox\",\n *      \"fields\": {\n *        \"opened\": false\n *      },\n *      \"viewportElementId\": \"wsSidebar\"\n *    },\n *    \"group\": \"top\",\n *    \"badge\": {\n *      \"count\": 0\n *    },\n *    \"presence\": {\n *      \"status\": \"\"\n *    },\n *    \"availability\": {\n *      \"roles\": [\"awa_agent\",\"awa_admin\",\"admin\"],\n *      \"plugin\": \"com.glide.interaction.awa\"\n *    }\n *  },\n * {\n *    \"id\": \"call\",\n *    \"label\": \"Call\",\n *    \"icon\": \"phone-outline\",\n *    \"routeInfo\": {},\n *    \"viewportInfo\": {\n *      \"route\": \"cti\",\n *      \"fields\": {\n *        \"opened\": false\n *      },\n *      \"viewportElementId\": \"wsCornerDialog\"\n *    },\n *    \"group\": \"bottom\",\n *    \"badge\":{},\n *    \"presence\": {},\n *    \"availability\": {}\n *  }\n * ]\n *\n *  <sn-canvas-toolbar toolbarButtons={buttons} />\n *\n * ```\n *\n * @seismicElement sn-canvas-toolbar\n * @summary A vertical toolbar that provide an interactive reference to a resource. The target resource must be an\n * internal page of current application.\n */\ncreateCustomElement('sn-canvas-toolbar', {\n\tproperties: {\n\t\t/**\n\t\t * Properties to configure the canvas toolbar buttons.\n\t\t *\n\t\t *\n\t\t * Toolbar buttons provides a way to interaction and load the workspace canvas modules.\n\t\t * All button clicks dispatches to NAV_ITEM_SELECTED to navigate to an internal page or screen\n\t\t *\n\t\t * An array of `ToolbarButton` item.\n\t\t * @type {(Object.<ToolbarButtons>)}\n\t\t */\n\t\ttoolbarButtons: { default: [], schema: toolbarButtonsSchema },\n\t\t/**\n\t\t * Defines the active route information.\n\t\t * An object of `Router`. See here for more information\n\t\t * [sn-canvas-router](https://code.devsnc.com/dev/sn-canvas-core#canvas-router)\n\t\t *@type {(Object.<Router>)}\n\t\t */\n\t\tactiveRoute: { default: {}, schema: { type: routerSchema } },\n\t\t/**\n\t\t * Represents the sysId of current selected session tab\n\t\t * @type {(string)}\n\t\t */\n\t\tactiveParentId: { default: '-1', schema: { type: 'string' } },\n\t\t/**\n\t\t * Represents the array of the active session tab <table: '', sysId: ''>\n\t\t * When there are no session tabs, it's value is empty array []\n\t\t *\n\t\t * @type {Array.<{table: string, sysId: string}>}\n\t\t */\n\t\tactiveRecords: { default: [], schema: { type: 'array' } }\n\t},\n\tinitialState: {\n\t\tactiveButton: {}\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasToolbar\n\t},\n\tstyles: snCanvasToolbarStyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the toolbar button is selected.\n\t\t * @type {{}}\n\t\t */\n\t\t'SN_CANVAS_TOOLBAR#BUTTON_SELECTED': {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: handlePropertyChanged,\n\t\t[TOOLBAR_ACTIVE_BUTTON_SET]: {\n\t\t\teffect: handleActiveButtonSet,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TOOLBAR_BUTTON_CLICKED]: {\n\t\t\teffect: handleToolbarButtonClicked,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[TOOLBAR_ACTIVE_BUTTON_UPDATED]: {\n\t\t\teffect: handleActiveButtonUpdated,\n\t\t\tstopPropagation: true\n\t\t}\n\t},\n\tbehaviors: [\n\t\t{ behavior: rtlBehavior },\n\t\t{ behavior: focusBehavior },\n\t\t{\n\t\t\tbehavior: keyBindingBehavior,\n\t\t\toptions: {\n\t\t\t\tkeyBindings: {\n\t\t\t\t\tonKeyPress: ['ArrowUp', 'ArrowDown', ' ', 'Enter']\n\t\t\t\t},\n\t\t\t\thandlers: {\n\t\t\t\t\tonKeyPress: (host, event, dispatch) =>\n\t\t\t\t\t\thandleKeyPressed(host, event, dispatch)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n});\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { filterAriaAttributes } from '@servicenow/library-enhanced-utils';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-button';\nimport '@servicenow/now-tooltip';\nimport '@servicenow/now-badge';\nimport snCanvasToolbarButtonStyles from './_sn-canvas-toolbar-button.scss';\nimport { badgeCountBehavior } from '../../behaviors/badge-count';\nimport { presenceBehavior } from '../../behaviors/presence';\nimport { isEmpty as _isEmpty, get as _get } from 'lodash';\nimport rtlBehavior from '@servicenow/behavior-rtl';\n\nconst { COMPONENT_DOM_READY, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst SN_CANVAS_TOOLBAR_BUTTON_CLICKED = 'SN_CANVAS_TOOLBAR_BUTTON#CLICKED';\n\nconst _renderIcon = (icon) => {\n\treturn icon ? (\n\t\t<now-icon icon={icon} size=\"lg\" aria-hidden=\"true\" />\n\t) : (\n\t\tundefined\n\t);\n};\n\nconst snCanvasToolbarButton = (state, { dispatch, updateProperties }) => {\n\tconst {\n\t\tid,\n\t\tlabel,\n\t\ticon,\n\t\tbadge,\n\t\tpresence,\n\t\tisSelected,\n\t\tgroup\n\t} = state.properties;\n\tconst status = _get(presence, 'status', '');\n\tconst configAria = { button: { 'aria-label': label } };\n\tconst tooltipContent = label;\n\tconst { targetRef } = state;\n\n\tconst renderTooltip =\n\t\ttargetRef && tooltipContent ? (\n\t\t\t<now-tooltip\n\t\t\t\tid=\"tooltip\"\n\t\t\t\ttarget-ref={targetRef}\n\t\t\t\tcontent={tooltipContent}\n\t\t\t\toffset={[0, 0, -12, -12, -12, -12]}\n\t\t\t/>\n\t\t) : (\n\t\t\tundefined\n\t\t);\n\n\tconst _renderBadge = (badge) => {\n\t\treturn !_isEmpty(badge) && !!badge.count ? (\n\t\t\t<now-badge\n\t\t\t\tclass={{ '-badge-count': true }}\n\t\t\t\tround\n\t\t\t\tsize=\"sm\"\n\t\t\t\tstatus=\"critical\"\n\t\t\t\tvalue={badge.count}\n\t\t\t\taria-label={t('badge counter ' + badge.count)}\n\t\t\t\tvariant=\"primary\"\n\t\t\t/>\n\t\t) : (\n\t\t\tundefined\n\t\t);\n\t};\n\n\tconst _renderPresence = (status) => {\n\t\treturn status ? (\n\t\t\t<now-icon-presence\n\t\t\t\tclass={{ '-presence-indicator': true }}\n\t\t\t\tsize=\"sm\"\n\t\t\t\tpresence={status}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tshow-pattern=\"true\"\n\t\t\t/>\n\t\t) : (\n\t\t\tundefined\n\t\t);\n\t};\n\n\tconst onButtonClicked = (evt) => {\n\t\tevt.preventDefault();\n\t\tconst { targetRef } = state;\n\t\tconst {\n\t\t\tisSelected,\n\t\t\trouteInfo,\n\t\t\tviewportInfo,\n\t\t\tgroup,\n\t\t\ttoggleState\n\t\t} = state.properties;\n\t\tconst isViewport = _isEmpty(routeInfo) && !_isEmpty(viewportInfo);\n\n\t\t// set the button selection for toggle buttons for viewports e.g. cti call\n\t\tisViewport ? updateProperties({ isSelected: !isSelected }) : null;\n\n\t\tdispatch(SN_CANVAS_TOOLBAR_BUTTON_CLICKED, {\n\t\t\tvalue: !toggleState,\n\t\t\tbuttonClicked: targetRef,\n\t\t\trouteInfo: routeInfo,\n\t\t\tviewportInfo: viewportInfo,\n\t\t\tgroup: group\n\t\t});\n\t\tupdateProperties({ toggleState: !state.properties.toggleState });\n\t};\n\n\tconst getAriaRole = (group) => (group === 'top' ? 'radio' : 'button');\n\n\tconst ariaPressedCheckedOrSelected = (ariaRole, selected) => {\n\t\tif (ariaRole === 'button') {\n\t\t\treturn { ['aria-pressed']: selected ? 'true' : 'false' };\n\t\t}\n\t\tif (ariaRole === 'radio') {\n\t\t\treturn { ['aria-checked']: selected ? 'true' : 'false' };\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<button\n\t\t\t\tid={`${id.toLowerCase()}-btn`}\n\t\t\t\ttype=\"button\"\n\t\t\t\tvalue={label}\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-canvas-toolbar-button': true,\n\t\t\t\t\t'is-selected': isSelected\n\t\t\t\t}}\n\t\t\t\ttabIndex={isSelected ? '0' : '-1'}\n\t\t\t\trole={getAriaRole(group)}\n\t\t\t\t{...ariaPressedCheckedOrSelected(getAriaRole(group), isSelected)}\n\t\t\t\t{...filterAriaAttributes(configAria, 'button')}\n\t\t\t\ton-click={onButtonClicked}>\n\t\t\t\t{_renderIcon(icon)}\n\t\t\t\t{_renderBadge(badge)}\n\t\t\t\t{_renderPresence(status)}\n\t\t\t</button>\n\t\t\t{renderTooltip}\n\t\t</Fragment>\n\t);\n};\n/*\n * A toolbar button component that appears on the toolbar.\n *\n * *button configuration*\n * ```json\n *\n * {\n * \t\t\"id\": \"home\",\n *  \t\"label\": \"Home\",\n *  \t\"icon\": \"home-outline\",\n *  \t\"viewportInfo\": {},\n *  \t\"routeInfo\": {\n *    \t\"route\": \"home\"\n *  \t},\n *  \t\"group\": \"top\",\n *  \t\"badge\": {},\n *  \t\"presence\": {},\n *  \t\"availability\": {}\n * }\n *\n * ```\n * @seismicElement sn-canvas-toolbar-button\n * @summary A toolbar button that appears on the toolbar that refers to a resource. The target resource must be an\n * internal page of current application.\n */\ncreateCustomElement('sn-canvas-toolbar-button', {\n\tproperties: {\n\t\t/**\n\t\t * Properties to configure the canvas toolbar button.\n\t\t *\n\t\t * Defines the button id.\n\t\t * @type {string}\n\t\t */\n\t\tid: { required: true, schema: { type: 'string' } },\n\t\t/**\n\t\t * Defines the button value.\n\t\t * @type {string}\n\t\t */\n\t\tlabel: { required: true, schema: { type: 'string' } },\n\t\t/**\n\t\t * Defines the icon displayed.\n\t\t * @type {string}\n\t\t */\n\t\ticon: { required: true, schema: { type: 'string' } },\n\t\t/**\n\t\t * Defines the viewport information.\n\t\t * @type {object}\n\t\t */\n\t\tviewportInfo: { schema: { type: 'object' } },\n\t\t/**\n\t\t * Defines the badge information.\n\t\t * @type {object}\n\t\t */\n\t\tbadge: { schema: { type: 'object' } },\n\t\t/**\n\t\t * Presence of the user, displayed with an indicator icon in the corner of the toolbar button.\n\t\t * @type {object}\n\t\t */\n\t\tpresence: { schema: { type: 'object' } },\n\t\t/**\n\t\t * Indicates the selected state of the button.\n\t\t * Maps to `aria-checked` for a radio button\n\t\t * @type {boolean}\n\t\t */\n\t\tisSelected: { default: false, schema: { type: 'boolean' } },\n\t\t/**\n\t\t * Defines the route information.\n\t\t * @type {object}\n\t\t */\n\t\trouteInfo: { schema: { type: 'object' } },\n\t\t/**\n\t\t * Defines the button availability criteria based on user roles, plugin activation.\n\t\t * @type {object}\n\t\t */\n\t\tavailability: { schema: { type: 'object' } },\n\t\t/**\n\t\t * Defines the button placement group - top vs bottom.\n\t\t * @type {string}\n\t\t */\n\t\tgroup: { required: true, schema: { type: 'string' } },\n\t\t/**\n\t\t * Indicates the oggle state of the button.\n\t\t * @type {boolean}\n\t\t */\n\t\ttoggleState: { default: false, schema: { type: 'boolean' } }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasToolbarButton\n\t},\n\tstyles: snCanvasToolbarButtonStyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when a link points to an internal application page.\n\t\t * @type {{value: true, buttonClicked: targetRef, routeInfo: {}}}\n\t\t */\n\t\tSN_CANVAS_TOOLBAR_BUTTON_CLICKED: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: ({\n\t\t\thost,\n\t\t\tproperties,\n\t\t\tupdateState,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst targetRef = host.shadowRoot.querySelector(\n\t\t\t\t'.sn-canvas-toolbar-button'\n\t\t\t);\n\t\t\tupdateState({ targetRef });\n\t\t\t// initial toggleState for the button, that manages the toggle\n\t\t\t// state for button with every click\n\t\t\tupdateProperties({ toggleState: properties.isSelected });\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\taction,\n\t\t\tproperties,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst { isSelected } = properties;\n\t\t\tconst { name, value, previousValue } = action.payload;\n\t\t\tif (!_isEmpty(name) && name === 'isSelected' && previousValue !== value) {\n\t\t\t\tupdateProperties({ toggleState: isSelected });\n\t\t\t}\n\t\t}\n\t},\n\tbehaviors: [badgeCountBehavior, presenceBehavior, rtlBehavior]\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-toolbar-button.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-canvas-toolbar-button{position:relative;display:flex;justify-content:center;align-items:center;width:3rem;height:3rem;margin:0;border:none;padding:0 .5rem;cursor:pointer;color:RGB(var(--mv9-Jrmsr1-zvvjkrZ-kWzzvm--JvjvZ,var(--now-color--neutral-4,191,197,198)));background-color:transparent}.sn-canvas-toolbar-button::-moz-focus-inner{border-style:none}.sn-canvas-toolbar-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-canvas-toolbar-button:active,.sn-canvas-toolbar-button:hover{background-color:RGBA(var(--mv9-Jrmsr1-zvvjkrZ-kWzzvm--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-1,30,133,109)),var(--mv9-Jrmsr1-zvvjkrZ-kWzzvm--vXrJAzO--8vstZ,.5))}.sn-canvas-toolbar-button.is-selected{color:RGB(var(--mv9-Jrmsr1-zvvjkrZ-kWzzvm--JvjvZ--PvJW1,var(--now-color--neutral-0,255,255,255)));background-color:RGB(var(--mv9-Jrmsr1-zvvjkrZ-kWzzvm--krJUfZvWmp-JvjvZ--PvJW1,var(--now-color--primary-1,30,133,109)))}.sn-canvas-toolbar-button .-badge-count{position:absolute;top:.25rem}:host(:not([dir=rtl])) .sn-canvas-toolbar-button .-badge-count,:root:not([dir=rtl]) .sn-canvas-toolbar-button .-badge-count{right:.25rem}:host([dir=rtl]) .sn-canvas-toolbar-button .-badge-count,:root[dir=rtl] .sn-canvas-toolbar-button .-badge-count{left:.25rem}.sn-canvas-toolbar-button .-presence-indicator{position:absolute;top:.25rem}:host(:not([dir=rtl])) .sn-canvas-toolbar-button .-presence-indicator,:root:not([dir=rtl]) .sn-canvas-toolbar-button .-presence-indicator{left:.25rem}:host([dir=rtl]) .sn-canvas-toolbar-button .-presence-indicator,:root[dir=rtl] .sn-canvas-toolbar-button .-presence-indicator{right:.25rem}.sn-canvas-toolbar-button .-rotateY180{transform:rotateY(180deg)}\", \"\"]);\n\n// exports\n","export { badgeCountBehavior } from './badgeCountBehavior';\n","import { actionTypes } from '@servicenow/ui-core';\nimport badgeCountEffect from './badgeCountEffect';\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_DISCONNECTED } = actionTypes;\n\nconst { RECORD_WATCHER, AGGREGATE_COUNT } = badgeCountEffect.ACTION_TYPES;\n\nconst {\n\thandleBadgeCountFetch,\n\thandleBadgeCountFetchSuccess,\n\thandleBadgeCountFetchFailure,\n\thandleRecordWatcher,\n\thandleItemChanged,\n\tonConnect,\n\tonDisconnect\n} = badgeCountEffect.effectHandlers;\n\nexport const badgeCountBehavior = {\n\tname: 'BADGE_COUNT_BEHAVIOR',\n\tproperties: {\n\t\t/**\n\t\t * Defines the badge information.\n\t\t * @type {object}\n\t\t *\n\t\t * {\n\t\t *    count: 2,\n\t\t *    configurations: {\n\t\t *      table: \"task\"\n\t\t *      filter: \"assigned_to=46c6f9efa9fe198101ddf5eed9adf6e7\"\n\t\t *    },\n\t\t *    type: \"record\"\n\t\t * }\n\t\t */\n\t\tbadge: { schema: { type: 'object' } }\n\t},\n\tactions: {\n\t\t[AGGREGATE_COUNT.FETCH]: { private: true },\n\t\t[AGGREGATE_COUNT.STARTED]: { private: true },\n\t\t[AGGREGATE_COUNT.SUCCEEDED]: { private: true },\n\t\t[AGGREGATE_COUNT.FAILED]: { private: true },\n\t\t[RECORD_WATCHER.SUBSCRIBED_STARTED]: { private: true },\n\t\t[RECORD_WATCHER.SUBSCRIBED]: { private: true },\n\t\t[RECORD_WATCHER.SUBSCRIBED_FAILED]: { private: true },\n\t\t[RECORD_WATCHER.UNSUBSCRIBED]: { private: true },\n\t\t[RECORD_WATCHER.ITEM_CHANGED]: { private: true },\n\t\t[RECORD_WATCHER.SUBSCRIPTION_CHANGED]: { private: true }\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: onConnect,\n\t\t[COMPONENT_DISCONNECTED]: onDisconnect,\n\t\t[AGGREGATE_COUNT.FETCH]: handleBadgeCountFetch,\n\t\t[AGGREGATE_COUNT.SUCCEEDED]: handleBadgeCountFetchSuccess,\n\t\t[AGGREGATE_COUNT.FAILED]: handleBadgeCountFetchFailure,\n\t\t[RECORD_WATCHER.SUBSCRIPTION_CHANGED]: handleRecordWatcher,\n\t\t[RECORD_WATCHER.ITEM_CHANGED]: handleItemChanged\n\t}\n};\n","import { createAmbSubscriptionEffect } from '@servicenow/ui-effect-amb';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { get as _get, has as _has, isEmpty as _isEmpty } from 'lodash';\n\nconst ACTION_TYPES = {\n\tRECORD_WATCHER: {\n\t\tSUBSCRIBE_STARTED: 'RECORD_WATCHER_SUBSCRIBE_STARTED',\n\t\tSUBSCRIBED: 'RECORD_WATCHER_SUBSCRIBED',\n\t\tSUBSCRIBE_FAILED: 'RECORD_WATCHER_SUBSCRIBE_FAILED',\n\t\tUNSUBSCRIBED: 'RECORD_WATCHER_UNSUBSCRIBED',\n\t\tITEM_CHANGED: 'RECORD_WATCHER_ITEM_CHANGED',\n\t\tSUBSCRIPTION_CHANGED: 'RECORD_WATCHER_SUBSCRIPTION_CHANGED'\n\t},\n\tAGGREGATE_COUNT: {\n\t\tFETCH: 'AGGREGATE_COUNT_FETCH',\n\t\tSTARTED: 'AGGREGATE_COUNT_STARTED',\n\t\tSUCCEEDED: 'AGGREGATE_COUNT_SUCCEEDED',\n\t\tFAILED: 'AGGREGATE_COUNT_FAILED'\n\t}\n};\n\nconst AGGREGATE_COUNT_GQL = `query($table: String!, $filter: String!) {\n    GlideAggregate_Query(tableName: $table, queryConditions: $filter) {\n      count\n    }\n  }`;\n\nconst handleBadgeCountFetch = createGraphQLEffect(AGGREGATE_COUNT_GQL, {\n\tvariableList: ['table', 'filter'],\n\tstartActionType: ACTION_TYPES.AGGREGATE_COUNT.STARTED,\n\tsuccessActionType: ACTION_TYPES.AGGREGATE_COUNT.SUCCEEDED,\n\terrorActionType: ACTION_TYPES.AGGREGATE_COUNT.FAILED\n});\n\nconst handleBadgeCountFetchSuccess = ({\n\taction,\n\tproperties,\n\tupdateProperties\n}) => {\n\tconst { badge } = properties;\n\tconst count = _get(action, 'payload.data.GlideAggregate_Query[0].count', 0);\n\tupdateProperties({ badge: { ...badge, count } });\n};\n\nconst handleBadgeCountFetchFailure = ({ properties, updateProperties }) => {\n\tconst { badge } = properties;\n\tconst { table, filter } = badge;\n\t// eslint-disable-next-line no-console\n\tconsole.error(\n\t\t`Failed to fetch aggregate counts with for table, ${table} with filter, ${filter}`\n\t);\n\tupdateProperties({ badge: { ...badge, count: 0 } });\n};\n\nconst handleRecordWatcher = createAmbSubscriptionEffect(\n\t'/rw/default/:table/:filter',\n\t{\n\t\tsubscribeStartedActionType: ACTION_TYPES.RECORD_WATCHER.SUBSCRIBE_STARTED,\n\t\tsubscribeSucceededActionType: ACTION_TYPES.RECORD_WATCHER.SUBSCRIBED,\n\t\tsubscribeFailedActionType: ACTION_TYPES.RECORD_WATCHER.SUBSCRIBE_FAILED,\n\t\tunsubscribeSucceededActionType: ACTION_TYPES.RECORD_WATCHER.UNSUBSCRIBED,\n\t\tmessageReceivedActionType: ACTION_TYPES.RECORD_WATCHER.ITEM_CHANGED\n\t}\n);\n\nconst handleItemChanged = ({ action, properties, updateProperties }) => {\n\tconst countUpdate = _get(action, 'payload.data.count', '').split('');\n\tconst { badge } = properties;\n\tif (countUpdate[0] === '+') {\n\t\tupdateProperties({\n\t\t\tbadge: { ...badge, count: badge.count + parseInt(countUpdate[1]) }\n\t\t});\n\t} else if (countUpdate[0] === '-') {\n\t\tupdateProperties({\n\t\t\tbadge: { ...badge, count: badge.count - parseInt(countUpdate[1]) }\n\t\t});\n\t}\n};\n\nconst _getSubscriptionArgs = (table, filter, subscribe) => ({\n\tsubscribe,\n\ttable,\n\tfilter: btoa(filter).replace(/=/g, '-')\n});\n\nconst onConnect = ({ properties, dispatch }) => {\n\tconst { badge } = properties;\n\tif (!_isEmpty(badge) && _has(badge, 'configurations')) {\n\t\tconst { configurations, type } = badge;\n\t\tswitch (type) {\n\t\t\tcase 'record': {\n\t\t\t\tconst { table, filter } = configurations;\n\t\t\t\tif (table && filter) {\n\t\t\t\t\t// Fetch initial data\n\t\t\t\t\tdispatch(ACTION_TYPES.AGGREGATE_COUNT.FETCH, { table, filter });\n\n\t\t\t\t\t// Subscribe to changes\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tACTION_TYPES.RECORD_WATCHER.SUBSCRIPTION_CHANGED,\n\t\t\t\t\t\t_getSubscriptionArgs(table, filter, true)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst onDisconnect = ({ properties, dispatch }) => {\n\tconst { badge } = properties;\n\n\tif (!_isEmpty(badge) && _has(badge, 'configurations')) {\n\t\tconst { table, filter } = badge.configurations;\n\t\tif (table && filter) {\n\t\t\t// unsubscribe to changes\n\t\t\tdispatch(\n\t\t\t\tACTION_TYPES.RECORD_WATCHER.SUBSCRIPTION_CHANGED,\n\t\t\t\t_getSubscriptionArgs(table, filter, false)\n\t\t\t);\n\t\t}\n\t}\n};\n\nconst effectHandlers = {\n\thandleBadgeCountFetch,\n\thandleBadgeCountFetchSuccess,\n\thandleBadgeCountFetchFailure,\n\thandleRecordWatcher,\n\thandleItemChanged,\n\tonConnect,\n\tonDisconnect\n};\n\nexport default {\n\teffectHandlers,\n\tACTION_TYPES\n};\n","export { presenceBehavior } from './presenceBehavior';\n","import { actionTypes } from '@servicenow/ui-core';\nimport presenceEffect from './presenceEffect';\n\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_DISCONNECTED } = actionTypes;\n\nconst { RECORD_WATCHER } = presenceEffect.ACTION_TYPES;\n\nconst {\n\thandleRecordWatcher,\n\thandleItemChanged,\n\tonConnect,\n\tonDisconnect\n} = presenceEffect.effectHandlers;\n\nexport const presenceBehavior = {\n\tname: 'PRESENCE_BEHAVIOR',\n\tproperties: {\n\t\t/**\n\t\t * Presence of the user, displayed with an indicator icon in the corner of the toolbar button.\n\t\t * @type {object}\n\t\t *\n\t\t * {\n\t\t *    status: \"available\",\n\t\t *    configurations: {\n\t\t *      table: \"sys_user_presence\"\n\t\t *      filter: \"user_available=true^user=6816f79cc0a8016401c5a33be04be441\"\n\t\t *    },\n\t\t *    type: \"record\"\n\t\t * }\n\t\t */\n\t\tpresence: { schema: { type: 'object' } }\n\t},\n\tactions: {\n\t\t[RECORD_WATCHER.SUBSCRIBED_STARTED]: { private: true },\n\t\t[RECORD_WATCHER.SUBSCRIBED]: { private: true },\n\t\t[RECORD_WATCHER.SUBSCRIBED_FAILED]: { private: true },\n\t\t[RECORD_WATCHER.UNSUBSCRIBED]: { private: true },\n\t\t[RECORD_WATCHER.ITEM_CHANGED]: { private: true },\n\t\t[RECORD_WATCHER.SUBSCRIPTION_CHANGED]: { private: true }\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: onConnect,\n\t\t[COMPONENT_DISCONNECTED]: onDisconnect,\n\t\t[RECORD_WATCHER.SUBSCRIPTION_CHANGED]: handleRecordWatcher,\n\t\t[RECORD_WATCHER.ITEM_CHANGED]: handleItemChanged\n\t}\n};\n","import { createAmbSubscriptionEffect } from '@servicenow/ui-effect-amb';\nimport { get as _get, has as _has, isEmpty as _isEmpty } from 'lodash';\n\nconst ACTION_TYPES = {\n\tRECORD_WATCHER: {\n\t\tSUBSCRIBE_STARTED: 'RECORD_WATCHER_SUBSCRIBE_STARTED',\n\t\tSUBSCRIBED: 'RECORD_WATCHER_SUBSCRIBED',\n\t\tSUBSCRIBE_FAILED: 'RECORD_WATCHER_SUBSCRIBE_FAILED',\n\t\tUNSUBSCRIBED: 'RECORD_WATCHER_UNSUBSCRIBED',\n\t\tITEM_CHANGED: 'RECORD_WATCHER_ITEM_CHANGED',\n\t\tSUBSCRIPTION_CHANGED: 'RECORD_WATCHER_SUBSCRIPTION_CHANGED'\n\t}\n};\n\nconst handleRecordWatcher = createAmbSubscriptionEffect(\n\t'/rw/default/:table/:filter',\n\t{\n\t\tsubscribeStartedActionType: ACTION_TYPES.RECORD_WATCHER.SUBSCRIBE_STARTED,\n\t\tsubscribeSucceededActionType: ACTION_TYPES.RECORD_WATCHER.SUBSCRIBED,\n\t\tsubscribeFailedActionType: ACTION_TYPES.RECORD_WATCHER.SUBSCRIBE_FAILED,\n\t\tunsubscribeSucceededActionType: ACTION_TYPES.RECORD_WATCHER.UNSUBSCRIBED,\n\t\tmessageReceivedActionType: ACTION_TYPES.RECORD_WATCHER.ITEM_CHANGED\n\t}\n);\n\nconst handleItemChanged = ({ action, properties, updateProperties }) => {\n\tconst { configurations } = properties.presence;\n\tconst { table_name, record } = _get(action, 'payload.data');\n\ttable_name === configurations.table\n\t\t? updateProperties({\n\t\t\t\tpresence: {\n\t\t\t\t\t...properties.presence,\n\t\t\t\t\tstatus: _get(record, 'status.value')\n\t\t\t\t}\n\t\t  })\n\t\t: null;\n};\n\nconst _getSubscriptionArgs = (table, filter, subscribe) => ({\n\tsubscribe,\n\ttable,\n\tfilter: btoa(filter).replace(/=/g, '-')\n});\n\nconst onConnect = ({ properties, dispatch }) => {\n\tconst { presence } = properties;\n\tif (!_isEmpty(presence) && _has(presence, 'configurations')) {\n\t\tconst { configurations, type } = presence;\n\t\tswitch (type) {\n\t\t\tcase 'record': {\n\t\t\t\tconst { table, filter } = configurations;\n\t\t\t\tif (table && filter) {\n\t\t\t\t\t// Subscribe to changes\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tACTION_TYPES.RECORD_WATCHER.SUBSCRIPTION_CHANGED,\n\t\t\t\t\t\t_getSubscriptionArgs(table, filter, true)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst onDisconnect = ({ properties, dispatch }) => {\n\tconst { presence } = properties;\n\n\tif (!_isEmpty(presence) && _has(presence, 'configurations')) {\n\t\tconst { table, filter } = presence.configurations;\n\t\tif (table && filter) {\n\t\t\t// unsubscribe to changes\n\t\t\tdispatch(\n\t\t\t\tACTION_TYPES.RECORD_WATCHER.SUBSCRIPTION_CHANGED,\n\t\t\t\t_getSubscriptionArgs(table, filter, false)\n\t\t\t);\n\t\t}\n\t}\n};\n\nconst effectHandlers = {\n\thandleRecordWatcher,\n\thandleItemChanged,\n\tonConnect,\n\tonDisconnect\n};\n\nexport default {\n\teffectHandlers,\n\tACTION_TYPES\n};\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-toolbar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-canvas-toolbar{z-index:1000;display:grid;grid-template-rows:1fr 1fr;grid-template-columns:1fr;width:var(--mv9-Jrmsr1-zvvjkrZ--9Apz8,3rem);height:100%;padding:0 0 1rem;background-color:RGB(var(--mv9-Jrmsr1-zvvjkrZ--krJUfZvWmp-JvjvZ,var(--now-color--neutral-15,44,53,55)))}:host(:not([dir=rtl])) .sn-canvas-toolbar,:root:not([dir=rtl]) .sn-canvas-toolbar{text-align:left}:host([dir=rtl]) .sn-canvas-toolbar,:root[dir=rtl] .sn-canvas-toolbar{text-align:right}.sn-canvas-toolbar .sn-canvas-toolbar-group{grid-column:1}.sn-canvas-toolbar .sn-canvas-toolbar-group-list-item{padding:2rem}.sn-canvas-toolbar .sn-canvas-toolbar-group.-top{align-self:start}.sn-canvas-toolbar .sn-canvas-toolbar-group.-bottom{align-self:end}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$servicenow_behavior_key_binding_19_4_4;","import {\n\tfindKey as _findKey,\n\tfind as _find,\n\tisEmpty as _isEmpty\n} from 'lodash';\n\nexport const getButtonElementRef = (toolbarButtonRef) => {\n\treturn toolbarButtonRef.shadowRoot.querySelector('button');\n};\n\nexport const getToolbarButtonRefByIndex = (host, index) => {\n\tconst toolbarButtons = getToolbarButtons(host);\n\treturn toolbarButtons[index];\n};\n\nexport const getToolbarButtonFromEventPath = (path) => {\n\treturn _find(path, (elem) => elem.localName === 'sn-canvas-toolbar-button');\n};\n\nexport const getToolbarButtons = (host) => {\n\tconst toolbarButtonGroupEls = host.shadowRoot.querySelectorAll(\n\t\t'.sn-canvas-toolbar .sn-canvas-toolbar-group'\n\t);\n\tlet toolbarButtonEls = [];\n\n\tif (!_isEmpty([...toolbarButtonGroupEls])) {\n\t\t[...toolbarButtonGroupEls].forEach((grpEl) => {\n\t\t\tconst buttons = grpEl.querySelectorAll('sn-canvas-toolbar-button');\n\t\t\t[...buttons].forEach((btn) => {\n\t\t\t\ttoolbarButtonEls.push(btn);\n\t\t\t});\n\t\t});\n\t}\n\treturn toolbarButtonEls;\n};\n\nexport const getActiveToolbarButton = (host) => {\n\treturn host.shadowRoot.activeElement;\n};\n\nexport const getActiveToolbarButtonIndex = (host) => {\n\tconst toolbarButtons = getToolbarButtons(host);\n\tconst activeToolbarButton = getActiveToolbarButton(host);\n\treturn parseInt(\n\t\t_findKey(\n\t\t\ttoolbarButtons,\n\t\t\t(toolbarButton) => activeToolbarButton === toolbarButton\n\t\t),\n\t\t10\n\t);\n};\n\nexport const getToolbarButtonIndex = (host, toolbarButtonRef) => {\n\tconst toolbarButtons = getToolbarButtons(host);\n\treturn parseInt(\n\t\t_findKey(\n\t\t\ttoolbarButtons,\n\t\t\t(toolbarButton) => toolbarButtonRef === toolbarButton\n\t\t),\n\t\t10\n\t);\n};\n\nexport const getNextToolbarButton = (host) => {\n\tconst currentActiveToolbarButton = getActiveToolbarButton(host);\n\treturn currentActiveToolbarButton.nextElementSibling;\n};\n\nexport const getToolbarButtonsData = (host) => {\n\treturn host.toolbarButtons;\n};\n","export const toolbarButtonsSchema = {\n\ttype: 'array',\n\tbuttons: {\n\t\ttype: 'object',\n\t\tproperties: {\n\t\t\tid: { type: 'string' },\n\t\t\tlabel: { type: 'string' },\n\t\t\ticon: { type: 'string' },\n\t\t\tbadge: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tcount: { type: 'string' },\n\t\t\t\t\tconfigurations: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\ttable: { type: 'string' },\n\t\t\t\t\t\t\tfilter: { type: 'string' }\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttype: { type: 'string' }\n\t\t\t\t}\n\t\t\t},\n\t\t\tpresence: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tstatus: { type: 'string' },\n\t\t\t\t\tconfigurations: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\ttable: { type: 'string' },\n\t\t\t\t\t\t\tfilter: { type: 'string' }\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttype: { type: 'string' }\n\t\t\t\t}\n\t\t\t},\n\t\t\tavailability: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\troles: { type: 'array' },\n\t\t\t\t\tplugin: { type: 'string' }\n\t\t\t\t}\n\t\t\t},\n\t\t\trouteInfo: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\troute: { type: 'string' },\n\t\t\t\t\tfields: { type: 'object' },\n\t\t\t\t\tparams: { type: 'object' }\n\t\t\t\t}\n\t\t\t},\n\t\t\tviewportInfo: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\troute: { type: 'string' },\n\t\t\t\t\tfields: { type: 'object' },\n\t\t\t\t\tviewportElementId: { type: 'string' }\n\t\t\t\t}\n\t\t\t},\n\t\t\tgroup: { type: 'string' }\n\t\t}\n\t}\n};\n","export const routerSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\troute: { type: 'string' },\n\t\tfields: { type: 'object' },\n\t\tparams: { type: 'object' }\n\t}\n};\n","import { isEmpty as _isEmpty, find as _find } from 'lodash';\n\nimport {\n\tresetViewportSelection,\n\tsetToolbarButtonSelected,\n\tgetSessionStorageKey,\n\tsetActiveButton,\n\tresetSizeAndViewportInfo,\n\tisViewportEmptyPageLoaded,\n\tloadViewport\n} from './utils/helpers';\n\nconst ACTION_TYPES = {\n\tTOOLBAR_BUTTON_CLICKED: 'SN_CANVAS_TOOLBAR_BUTTON#CLICKED',\n\tTOOLBAR_ACTIVE_BUTTON_SET: 'SN_CANVAS_TOOLBAR#ACTIVE_BUTTON_SET',\n\tTOOLBAR_ACTIVE_BUTTON_UPDATED: 'SN_CANVAS_TOOLBAR#ACTIVE_BUTTON_UPDATED'\n};\n\nconst handleToolbarButtonClicked = ({\n\thost,\n\taction,\n\tdispatch,\n\tstate,\n\tupdateProperties\n}) => {\n\tconst { buttonClicked, viewportInfo, routeInfo, group } = action.payload;\n\tconst { toolbarButtons, activeRecords } = state.properties;\n\tconst { activeButton } = state;\n\tconst isRoute = !_isEmpty(routeInfo) && _isEmpty(viewportInfo);\n\tconst isViewport = _isEmpty(routeInfo) && !_isEmpty(viewportInfo);\n\tconst isViewportWithRoute = !_isEmpty(routeInfo) && !_isEmpty(viewportInfo);\n\tconst button = _find(\n\t\ttoolbarButtons,\n\t\t(b) => buttonClicked.id.indexOf(b.id) !== -1\n\t);\n\n\t// Buttons in toolbar configured for navigational purposes will have routeInfo in their payload\n\t// otherwise, it's a toggle switch that simply dispatches to indicate that toolbar's button got selected\n\n\t//clear the previous selection and set the clicked button as selected.  Store it as state.route\n\tif (group === 'top') {\n\t\tconst serializedActiveButton = JSON.stringify(button);\n\t\twindow.sessionStorage.setItem(\n\t\t\tgetSessionStorageKey(),\n\t\t\tserializedActiveButton\n\t\t);\n\t\tdispatch('SN_CANVAS_TOOLBAR#ACTIVE_BUTTON_UPDATED', { button });\n\t\tsetToolbarButtonSelected(host, buttonClicked, true);\n\t}\n\n\tif (isRoute) {\n\t\t// For all of toolbar button with viewport that behaves as a toggle needs to turn off\n\t\t// and enable that's are the part of route\n\t\t// should this be determined from button configuration/\n\t\tresetViewportSelection(toolbarButtons, button, dispatch, updateProperties);\n\n\t\t// navigate to route\n\t\tdispatch('NAV_ITEM_SELECTED', routeInfo);\n\n\t\t// update the primary tab\n\t\tdispatch('PRIMARY_TAB_UPDATED', {\n\t\t\tbutton: { ...button, size: null, viewportInfo: null }\n\t\t});\n\t} else if (isViewport) {\n\t\t// load the viewport\n\t\tloadViewport(activeRecords, toolbarButtons, button, dispatch);\n\t} else if (isViewportWithRoute) {\n\t\t// For all of toolbar button with viewport that behaves as a toggle needs to turn off\n\t\tresetViewportSelection(toolbarButtons, button, dispatch, updateProperties);\n\n\t\t//load the viewport\n\t\tloadViewport(activeRecords, toolbarButtons, button, dispatch);\n\n\t\t// when there are no active tabs, navigate to empty page route\n\t\t// currently we have inbox & ongoing only for top group\n\t\tif (\n\t\t\t_isEmpty(activeRecords) &&\n\t\t\tgroup === 'top' &&\n\t\t\t!_isEmpty(routeInfo) &&\n\t\t\t!isViewportEmptyPageLoaded(activeButton, viewportInfo)\n\t\t) {\n\t\t\tdispatch('NAV_ITEM_SELECTED', routeInfo);\n\t\t} else if (\n\t\t\t!_isEmpty(activeRecords) &&\n\t\t\tgroup === 'top' &&\n\t\t\t!_isEmpty(routeInfo)\n\t\t) {\n\t\t\t// resolve to the first tab implicitly\n\t\t\tdispatch('SELECT_TAB', { tab_ids: [], _implicitTabResolution: true });\n\t\t}\n\t}\n};\n\n/**\n * handleActiveButtonSet\n * @param activeButton\n * @param toolbarButtons\n * @param activeRoute\n * @param updateProperties\n * @param updateState\n * @param dispatch\n */\nconst handleActiveButtonSet = ({\n\tstate: {\n\t\tactiveButton,\n\t\tproperties: { toolbarButtons, activeRecords }\n\t},\n\taction: {\n\t\tpayload: { activeRoute }\n\t},\n\tupdateProperties,\n\tupdateState,\n\tdispatch\n}) => {\n\tsetActiveButton(\n\t\tactiveButton,\n\t\ttoolbarButtons,\n\t\tactiveRoute,\n\t\tactiveRecords,\n\t\tdispatch,\n\t\tupdateProperties,\n\t\tupdateState\n\t);\n};\n\n/**\n * handleActiveButtonUpdated\n * @param payload\n * @param updateState\n */\nconst handleActiveButtonUpdated = ({ action: { payload }, updateState }) => {\n\tupdateState({ activeButton: payload.button });\n};\n\n/**\n * handlePropertyChanged\n * @param state\n * @param action\n * @param dispatch\n * @param updateProperties\n */\nconst handlePropertyChanged = ({\n\tstate,\n\taction,\n\tdispatch,\n\tupdateProperties\n}) => {\n\tconst { name, value, previousValue } = action.payload;\n\tconst {\n\t\tactiveButton,\n\t\tproperties: { toolbarButtons, activeRecords }\n\t} = state;\n\tconst { id, viewportInfo, routeInfo, group } = activeButton;\n\tconst isViewportWithRoute = !_isEmpty(routeInfo) && !_isEmpty(viewportInfo);\n\n\tif (\n\t\tname === 'activeRecords' &&\n\t\t!_isEmpty(id) &&\n\t\tisViewportWithRoute &&\n\t\tgroup === 'top' &&\n\t\t!_isEmpty(previousValue) &&\n\t\t_isEmpty(value)\n\t) {\n\t\t// when there are no active tabs, navigate to empty page route\n\t\t// currently we have inbox & ongoing only for top group\n\t\tdispatch('NAV_ITEM_SELECTED', routeInfo);\n\t}\n\n\tif (\n\t\tname === 'activeRoute' &&\n\t\ttypeof value === 'object' &&\n\t\t!_isEmpty(value) &&\n\t\t!_isEmpty(toolbarButtons) &&\n\t\tArray.isArray(activeRecords)\n\t) {\n\t\t// handle browser back & forward to resolve the\n\t\t//  - active button and\n\t\t//  - reset the primary tab size\n\t\tconst { passiveNavigation } = value;\n\t\tif (passiveNavigation === true) return;\n\n\t\t// reset the primary tab size\n\t\tresetSizeAndViewportInfo(value, toolbarButtons, dispatch, updateProperties);\n\n\t\t// set the active button for the toolbar\n\t\tdispatch(ACTION_TYPES.TOOLBAR_ACTIVE_BUTTON_SET, { activeRoute: value });\n\t}\n};\n\n/**\n *\n * @type {{\n *\t handleActiveButtonUpdated:  handleActiveButtonUpdated,\n *\t handleToolbarButtonClicked: handleToolbarButtonClicked,\n *\t handleActiveButtonSet: handleActiveButtonSet,\n *\t handleActiveButtonViewportLoaded: handleActiveButtonViewportLoaded\n * }}\n */\nconst effectHandlers = {\n\thandleToolbarButtonClicked,\n\thandleActiveButtonSet,\n\thandleActiveButtonUpdated,\n\thandlePropertyChanged\n};\n\nexport default {\n\teffectHandlers,\n\tACTION_TYPES\n};\n","import './sn-canvas-tabsdata';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { tabsDataBehavior } from './behaviors/tabsDataBehavior';\n\ncreateCustomElement('sn-canvas-tabsdata', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: () => <slot />\n\t},\n\tbehaviors: [tabsDataBehavior]\n});\n","import { rootActionHandlers } from './tabsData.effects';\n\nexport const tabsDataBehavior = {\n\tname: 'tabsDataBehavior',\n\tproperties: {\n\t\tprimaryTab: {\n\t\t\tdefault: null\n\t\t},\n\t\ttabConfig: {\n\t\t\tdefault: null\n\t\t},\n\t\ttabsData: {\n\t\t\tdefault: null,\n\t\t\tselectable: true\n\t\t},\n\t\ttabsToCloseQueue: {\n\t\t\tdefault: null,\n\t\t\tselectable: true\n\t\t},\n\t\tstopperPrompt: {\n\t\t\tdefault: null,\n\t\t\tselectable: true\n\t\t},\n\t\tselectedContent: {\n\t\t\tdefault: null\n\t\t},\n\t\tchangedScreenContent: {\n\t\t\tdefault: null\n\t\t},\n\t\tscreenCloseConfirmation: {\n\t\t\tdefault: null\n\t\t},\n\t\tuserId: {\n\t\t\tdefault: null\n\t\t},\n\t\tuxrEnableDebug: {\n\t\t\tdefault: false\n\t\t},\n\t\tactiveParentId: {\n\t\t\tdefault: '',\n\t\t\tselectable: true\n\t\t},\n\t\tactiveRecords: {\n\t\t\tdefault: [],\n\t\t\tselectable: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t...rootActionHandlers\n\t}\n};\n","import { isEqual, cloneDeep, get, set, has, each, isEmpty } from 'lodash';\nimport { actionTypes } from '@servicenow/ui-core';\nimport * as closeTabs from './tabsData.closeTabs';\nimport * as tabUtils from '../utils/tabsData.utils';\nimport { reduceTabsData } from './tabsData.reducers';\nimport { saveTabs } from './tabsData.storage';\nimport * as constants from '../../../constants/constants';\n\nconst { COMPONENT_CONNECTED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nfunction createTabsDataEffect(tabEffect) {\n\treturn {\n\t\teffect: tabsDataEffectWrapper,\n\t\targs: [tabEffect]\n\t};\n}\n\n/**\n * return true if the requested additional tab is legal\n * the checks that are done are for the max # of tab limits - primary tabs as well as subtabs\n * side effects: sets stopperPrompt property if limit exceeded\n */\nfunction allowAdditionalTabs(\n\ttabsDataCopy,\n\ttabsDataNew,\n\tdispatch,\n\tupdateProperties,\n\ttabsConfig\n) {\n\tconst stopper = tabUtils.shouldUpdateTabData(\n\t\ttabsDataCopy,\n\t\ttabsDataNew,\n\t\ttabsConfig\n\t);\n\tif (stopper) {\n\t\tstopper.request = true;\n\t\tupdateProperties({ stopperPrompt: stopper }); //this tells an ancestor element to show whatever UI it wants to\n\t\tconst selectedContentCurrent = tabUtils.getNavItemSelectedPayload(\n\t\t\ttabsDataCopy\n\t\t);\n\t\tif (selectedContentCurrent) {\n\t\t\tselectedContentCurrent.redirect = true;\n\t\t\tdispatch(constants.NAV_ITEM_SELECTED, selectedContentCurrent);\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/**\n * return true if the requested initial tab is legal\n * the checks that are done are for the max # of tab limits - primary tabs as well as subtabs\n * side effects: sets stopperPrompt property if limit exceeded\n */\nfunction allowInitialTabs(tabsDataCopy, tabsDataNew, tabsConfig) {\n\tconst stopper = tabUtils.shouldUpdateTabData(\n\t\ttabsDataCopy,\n\t\ttabsDataNew,\n\t\ttabsConfig\n\t);\n\tif (stopper) {\n\t\tstopper.request = true;\n\t\treturn stopper;\n\t}\n\treturn null;\n}\n\n// if we were asked to display a new tab during init phase, but doing so would violate the max tab limit,\n// then we use the primary tab as the default selected content\nfunction selectedContentForInitialTabs(tabsDataNew) {\n\tconst tabList = Object.values(tabsDataNew);\n\treturn tabList[1].selectedContent;\n}\n\n/**\n * Wraps all tab data effects with before and after behavior\n * @param effect\n * @param coeffects\n */\nfunction tabsDataEffectWrapper(effect, coeffects) {\n\tconst {\n\t\taction: { payload },\n\t\tdispatch,\n\t\tproperties,\n\t\tupdateProperties\n\t} = coeffects;\n\tconst { tabsData } = properties;\n\tlet tabsDataCopy = cloneDeep(tabsData);\n\tlet tabsDataNew = effect(tabsDataCopy, payload, coeffects);\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst { passiveNavigation, inbound, ...restPayload } = payload;\n\n\tif (!tabsDataNew) return;\n\n\tif (tabsDataCopy) {\n\t\tif (\n\t\t\t!allowAdditionalTabs(\n\t\t\t\ttabsDataCopy,\n\t\t\t\ttabsDataNew,\n\t\t\t\tdispatch,\n\t\t\t\tupdateProperties,\n\t\t\t\tproperties.tabConfig\n\t\t\t)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t} else {\n\t\tconst stopper = allowInitialTabs(\n\t\t\ttabsDataCopy,\n\t\t\ttabsDataNew,\n\t\t\tproperties.tabConfig\n\t\t);\n\t\tif (stopper) {\n\t\t\tupdateProperties({ stopperPrompt: stopper }); //this tells an ancestor element to show whatever UI it wants to\n\n\t\t\tconst selectedContent = selectedContentForInitialTabs(\n\t\t\t\ttabsDataNew,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t\ttabsDataNew = initContent(tabsDataCopy, selectedContent, coeffects);\n\n\t\t\t// NAV_ITEM_SELECTED is required to set the URL correctly\n\t\t\tconst selectedContentCurrent = tabUtils.getNavItemSelectedPayload(\n\t\t\t\ttabsDataNew\n\t\t\t);\n\t\t\tif (selectedContentCurrent) {\n\t\t\t\tselectedContentCurrent.redirect = true;\n\t\t\t\tdispatch(constants.NAV_ITEM_SELECTED, selectedContentCurrent);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\ttabsDataNew = tabUtils.updateSelectedTabs(tabsDataNew);\n\tupdateProperties({ tabsData: tabsDataNew });\n\n\tconst results = tabUtils.getRemovedTabs(tabsData, tabsDataNew);\n\tif (\n\t\tresults &&\n\t\tresults.removedContentKeys &&\n\t\tresults.removedContentKeys.length > 0\n\t) {\n\t\tdispatch(constants.NAVIGATION_CLOSED, {\n\t\t\tclosedNavigationIds: [...results.removedContentKeys],\n\t\t\tclosedIdsInfo: [...results.removedTabs]\n\t\t});\n\t}\n\n\tif (passiveNavigation === true || inbound === true) return;\n\n\tlet selectedContentNew = tabUtils.getNavItemSelectedPayload(tabsDataNew);\n\n\tif (selectedContentNew)\n\t\tdispatch(constants.NAV_ITEM_SELECTED, selectedContentNew);\n}\n\n/** close main tab invoked from menu (close one, close other, close all) */\nfunction mainTabCloseClickedEffect(tabsData, payload, coeffects) {\n\tconst { tab_id } = payload;\n\tif (!tab_id) return tabsData;\n\tconst selectedTab = tabsData[tab_id];\n\tconst tabList =\n\t\tselectedTab && selectedTab.parentTabId && tabsData[selectedTab.parentTabId]\n\t\t\t? tabsData[selectedTab.parentTabId].tabList\n\t\t\t: null;\n\tif (!tabList) return tabsData;\n\tfunction tabFilter(tab) {\n\t\treturn tab.canClose;\n\t}\n\treturn tabCloseClickedEffect(\n\t\ttabsData,\n\t\tpayload,\n\t\tcoeffects,\n\t\ttabList,\n\t\ttabFilter,\n\t\ttabFilter\n\t);\n}\n\n/** close sub tab invoked from menu (close one, close other, close all)  */\nfunction subTabCloseClickedEffect(tabsData, payload, coeffects) {\n\tconst { tab_id } = payload;\n\tconst selectedTab = tabsData[tab_id];\n\tconst tabList = tabsData[selectedTab.parentTabId].tabList;\n\tfunction tabFilterAll() {\n\t\treturn true;\n\t}\n\tfunction tabFilterOther(tab) {\n\t\treturn !(tab.canClose === false);\n\t}\n\treturn tabCloseClickedEffect(\n\t\ttabsData,\n\t\tpayload,\n\t\tcoeffects,\n\t\ttabList,\n\t\ttabFilterAll,\n\t\ttabFilterOther\n\t);\n}\n\n/** implementation of close behavior, common for main and sub tabs */\nfunction tabCloseClickedEffect(\n\ttabsData,\n\tpayload,\n\tcoeffects,\n\ttabList,\n\ttabFilterAll,\n\ttabFilterOther\n) {\n\tconst { operation, tab_id } = payload;\n\tconst { dispatch, updateProperties } = coeffects;\n\t// build the list of tabs to be closed\n\t// note that we close then right to left, so we iterate through tabList backwards\n\tlet tabsToCloseQueue = {};\n\tif (operation === constants.CLOSE_ALL_TABS_MENU_ITEM) {\n\t\tlet i = tabList.length - 1;\n\t\tfor (; i >= 0; i--) {\n\t\t\ttabsToCloseQueue = closeTabs.getTabsToCloseQueue(\n\t\t\t\ttabsData,\n\t\t\t\toperation,\n\t\t\t\ttabsData[tabList[i]].tab_id,\n\t\t\t\ttabsToCloseQueue,\n\t\t\t\ttabFilterAll\n\t\t\t);\n\t\t}\n\t} else if (operation === constants.CLOSE_OTHER_TABS_MENU_ITEM) {\n\t\tlet i = tabList.length - 1,\n\t\t\tactivityKeys = [];\n\t\tfor (; i >= 0; i--) {\n\t\t\tif (tabsData[tabList[i]].tab_id != tab_id) {\n\t\t\t\tconst _tab = tabsData[tabList[i]];\n\t\t\t\tactivityKeys.push({ key: _tab.contentKey });\n\t\t\t\ttabsToCloseQueue = closeTabs.getTabsToCloseQueue(\n\t\t\t\t\ttabsData,\n\t\t\t\t\toperation,\n\t\t\t\t\ttabsData[tabList[i]].tab_id,\n\t\t\t\t\ttabsToCloseQueue,\n\t\t\t\t\ttabFilterOther\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// close selected tab\n\t\tif (tabsData[tab_id].canClose) {\n\t\t\ttabsToCloseQueue = closeTabs.getTabsToCloseQueue(\n\t\t\t\ttabsData,\n\t\t\t\toperation,\n\t\t\t\ttab_id,\n\t\t\t\ttabsToCloseQueue,\n\t\t\t\tnull\n\t\t\t);\n\t\t}\n\t}\n\t// stash the queue of tabs to be closed in state, and dispatch the message to process that queue\n\tif (tabsToCloseQueue.tabList) {\n\t\tupdateProperties({ tabsToCloseQueue: tabsToCloseQueue });\n\t\tdispatch(constants.TABS_CLOSE_REQUESTED, tabsData);\n\t}\n\treturn tabsData;\n}\n\n/** current tab in close queue required confirmation, and confirmation was granted.\n *  change the state of the queue entry for that tab to 'confirmed' and continue processing the queue\n */\nfunction mainTabCloseConfirmedEffect(tabsData, payload, coeffects) {\n\tconst { properties, dispatch, updateProperties } = coeffects;\n\tlet tabsToCloseQueue = properties.tabsToCloseQueue;\n\tif (\n\t\ttabsToCloseQueue &&\n\t\ttabsToCloseQueue.tabList &&\n\t\ttabsToCloseQueue.tabList.length > 0\n\t) {\n\t\ttabsToCloseQueue.tabList[0].confirmationStatus = 'confirmed';\n\t\tupdateProperties({ tabsToCloseQueue: tabsToCloseQueue });\n\t\tdispatch(constants.TABS_CLOSE_REQUESTED, tabsData);\n\t\tconst modalId =\n\t\t\ttabsToCloseQueue.tabList[0].dirtyModalId ||\n\t\t\ttabsToCloseQueue.tabList[0].warningModalId;\n\t\tif (modalId) {\n\t\t\tdispatch(constants.MODAL_SELECTED, {\n\t\t\t\tmodalId,\n\t\t\t\tshowModal: false\n\t\t\t});\n\t\t\tdispatch(constants.NOW_CONFIRM_MODAL_CLEAR);\n\t\t}\n\t}\n\treturn tabsData;\n}\n\n/** current tab in close queue required confirmation, and confirmation was denied.\n *  change the state of the queue entry for that tab to 'cancelled' and continue processing the queue\n *  we have to verify that we're in the middle of a close operation here, because we have to handle\n *  modal dialog dismissed events, and it might not be the tab close dialog (NOW_MODAL#OPENED_SET)\n */\nfunction mainTabCloseCancelledEffect(tabsData, payload, coeffects) {\n\tconst { properties, dispatch, updateProperties } = coeffects;\n\tlet tabsToCloseQueue = properties.tabsToCloseQueue;\n\tif (\n\t\ttabsToCloseQueue &&\n\t\ttabsToCloseQueue.tabList &&\n\t\ttabsToCloseQueue.tabList.length > 0\n\t) {\n\t\ttabsToCloseQueue.tabList[0].confirmationStatus = 'cancelled';\n\t\tupdateProperties({ tabsToCloseQueue: tabsToCloseQueue });\n\t\tdispatch(constants.TABS_CLOSE_REQUESTED, tabsData);\n\t\tconst modalId =\n\t\t\ttabsToCloseQueue.tabList[0].dirtyModalId ||\n\t\t\ttabsToCloseQueue.tabList[0].warningModalId;\n\t\tif (modalId) {\n\t\t\tdispatch(constants.MODAL_SELECTED, {\n\t\t\t\tmodalId,\n\t\t\t\tshowModal: false\n\t\t\t});\n\t\t\tdispatch(constants.NOW_CONFIRM_MODAL_CLEAR);\n\t\t}\n\t}\n\treturn tabsData;\n}\n\n/** process the queue of tabs that are pending close */\nfunction tabCloseRequestedEffect(tabsData, payload, coeffects) {\n\tconst { properties, updateProperties, dispatch } = coeffects;\n\tlet pendingConfirmation = false;\n\tlet tabsToCloseQueue = properties.tabsToCloseQueue;\n\tif (tabsToCloseQueue.tabList) {\n\t\tlet i;\n\t\tfor (i = 0; i < tabsToCloseQueue.tabList.length; i++) {\n\t\t\tif (!tabsData[tabsToCloseQueue.tabList[i].tab_id])\n\t\t\t\t// already deleted\n\t\t\t\tcontinue;\n\n\t\t\tif (\n\t\t\t\t!tabsToCloseQueue.tabList[i].isDirty &&\n\t\t\t\t!tabsToCloseQueue.tabList[i].hasWarning\n\t\t\t) {\n\t\t\t\t// close clean tab\n\t\t\t\ttabsData = closeTabs.closeTabById(\n\t\t\t\t\ttabsData,\n\t\t\t\t\ttabsToCloseQueue.tabList[i].tab_id,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t} else if (\n\t\t\t\ttabsToCloseQueue.tabList[i].confirmationStatus === 'confirmed'\n\t\t\t) {\n\t\t\t\t// we already asked for confirmation, and we were told to force-close this tab\n\t\t\t\ttabsData = closeTabs.closeTabById(\n\t\t\t\t\ttabsData,\n\t\t\t\t\ttabsToCloseQueue.tabList[i].tab_id,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\t// if the content had a custom modal, tell it to close itself\n\t\t\t\tconst modalId =\n\t\t\t\t\ttabsToCloseQueue.tabList[i].dirtyModalId ||\n\t\t\t\t\ttabsToCloseQueue.tabList[i].warningModalId;\n\t\t\t\tif (modalId) {\n\t\t\t\t\tdispatch(constants.MODAL_SELECTED, {\n\t\t\t\t\t\tmodalId,\n\t\t\t\t\t\tshowModal: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\ttabsToCloseQueue.tabList[i].confirmationStatus === 'cancelled'\n\t\t\t) {\n\t\t\t\t// we were told to stop processing this close operation\n\t\t\t\t// set state by removing all remaining tabs in the queue, and break\n\t\t\t\tupdateProperties({ tabsToCloseQueue: {} });\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\t// tab is dirty but we haven't yet asked to close it, so set up state to do so and break\n\t\t\t\ttabsToCloseQueue.tabList.splice(0, i);\n\t\t\t\ttabsToCloseQueue.tabList[0].confirmationStatus = 'pending';\n\t\t\t\tupdateProperties({ tabsToCloseQueue: tabsToCloseQueue });\n\t\t\t\tpendingConfirmation = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// if there are no more tabs to close, reset the state\n\t\tif (!pendingConfirmation) updateProperties({ tabsToCloseQueue: {} });\n\t}\n\treturn tabsData;\n}\n\nfunction mainTabNewAlertClearedEffect(tabsData, payload, coeffects) {\n\tconst { updateProperties } = coeffects;\n\tupdateProperties({ stopperPrompt: {} });\n\treturn tabsData;\n}\n\nfunction mainTabClickedEffect(tabsData, payload, coeffects) {\n\tconst { tab_id } = payload;\n\tconst { dispatch, properties } = coeffects;\n\t//const tabPayload = generators.getSelectTabPayload([tab_id]);\n\tconst tab = tabsData[tab_id];\n\tif (\n\t\ttab &&\n\t\ttab.isPrimaryTab === true &&\n\t\ttab.parentTabId === 'root' &&\n\t\ttab.viewportInfo\n\t) {\n\t\tdispatch(constants.VIEWPORT_SELECTED, {\n\t\t\tid: tab.id,\n\t\t\tviewportInfo: {\n\t\t\t\t...tab.viewportInfo,\n\t\t\t\tfields: { opened: !tab.viewportInfo.fields.opened }\n\t\t\t}\n\t\t});\n\t\treturn;\n\t}\n\treturn reduceTabsData(\n\t\tconstants.OPEN_OR_FOCUS_TAB_REDUCER,\n\t\ttabsData,\n\t\tpayload,\n\t\tproperties\n\t);\n}\n\nfunction selectTabEffect(tabsData, payload, coeffects) {\n\tlet {\n\t\ttab_ids = [],\n\t\t_implicitTabResolution = false,\n\t\t_tabResolutionStrategy = 'ACTIVE_OR_FIRST_SESSION_TAB'\n\t} = payload;\n\n\tconst { properties } = coeffects;\n\n\tif (tab_ids.length === 0 && _implicitTabResolution === true) {\n\t\tconst _tabId = tabUtils.tabResolutionStrategyMap[_tabResolutionStrategy](\n\t\t\ttabsData\n\t\t);\n\t\tif (_tabId === undefined || _tabId === null) return;\n\t\ttab_ids = tab_ids.concat(_tabId);\n\t}\n\tconst reducerPayload = { tab_id: tab_ids[0] };\n\treturn reduceTabsData(\n\t\tconstants.OPEN_OR_FOCUS_TAB_REDUCER,\n\t\ttabsData,\n\t\treducerPayload,\n\t\tproperties\n\t);\n}\n\nconst drillDownBackClickedEffect = (tabsData, payload, coeffects) => {\n\tconst { properties } = coeffects;\n\treturn reduceTabsData(\n\t\tconstants.CLOSE_ONE_DRILLDOWN_REDUCER,\n\t\ttabsData,\n\t\tpayload,\n\t\tproperties\n\t);\n};\n\n//Property change effects\nconst screenContentChangedEffect = (tabsData, payload, coeffects) => {\n\tconst { properties } = coeffects;\n\treturn reduceTabsData(\n\t\tconstants.LIVE_UPDATE_TABS_REDUCER,\n\t\ttabsData,\n\t\tpayload,\n\t\tproperties\n\t);\n};\n\nconst initContent = (tabsData, payload, coeffects) => {\n\tconst { properties } = coeffects;\n\treturn reduceTabsData(\n\t\tconstants.INIT_OR_UPDATE_TABS_REDUCER,\n\t\ttabsData,\n\t\tpayload,\n\t\tproperties\n\t);\n};\n\nconst selectedContentChangedEffect = (tabsData, payload, coeffects) => {\n\tconst { properties } = coeffects;\n\treturn reduceTabsData(\n\t\tconstants.INIT_OR_UPDATE_TABS_REDUCER,\n\t\ttabsData,\n\t\tpayload,\n\t\tproperties\n\t);\n};\n\nconst primaryTabPropChangedEffect = (tabsData, payload, coeffects) => {\n\tconst { properties } = coeffects;\n\tset(coeffects, 'action.payload.inbound', true);\n\treturn reduceTabsData(\n\t\tconstants.UPDATE_PRIMARY_TAB_REDUCER,\n\t\ttabsData,\n\t\tpayload,\n\t\tproperties\n\t);\n};\n\n//Property Change actions\nconst handleTabConfigPropChange = (tabConfig, properties, dispatch) => {\n\tif (!tabConfig || typeof tabConfig === 'string') return;\n\ttabUtils.initTabConfig(tabConfig);\n\tconst { selectedContent } = properties;\n\tif (selectedContent) {\n\t\tconst rest = tabUtils.filterSelectedContent(selectedContent);\n\t\tdispatch(constants.TABS_SELECTED_CONTENT_CHANGED, {\n\t\t\t...rest,\n\t\t\tinbound: true\n\t\t});\n\t}\n};\n\nconst handleSelectedContentPropChange = (\n\tvalue,\n\tpreviousValue,\n\tproperties,\n\tdispatch\n) => {\n\tif (!value || typeof value === 'string') return;\n\tconst { tabConfig, tabsData } = properties;\n\tconst selectedContent = tabUtils.filterSelectedContent(value);\n\tif (!tabConfig || !selectedContent || !selectedContent.route) return null;\n\tif (tabConfig && !tabsData) tabUtils.initTabConfig(tabConfig);\n\tconst prevSelectedContent = tabUtils.filterSelectedContent(previousValue);\n\tif (!isEqual(selectedContent, prevSelectedContent))\n\t\tdispatch(constants.TABS_SELECTED_CONTENT_CHANGED, {\n\t\t\t...selectedContent,\n\t\t\tinbound: true\n\t\t});\n};\n\nconst handleChangedScreenContentPropChange = (\n\tchangedScreenContent,\n\tdispatch\n) => {\n\tconst { status, isScreenKeyUpdated = false } = changedScreenContent;\n\tdispatch(constants.TABS_SCREEN_CONTENT_CHANGED, {\n\t\t...changedScreenContent,\n\t\t...(status !== constants.SCREEN_STATUS_ACTION_CLOSED &&\n\t\t\tisScreenKeyUpdated === false && { inbound: true })\n\t});\n};\n\nconst handleScreenCloseConfirmationChange = (\n\tscreenCloseConfirmation,\n\tdispatch\n) => {\n\tif (screenCloseConfirmation === 'true')\n\t\tdispatch(constants.SCREEN_CLOSED_CONFIRMED);\n\telse if (screenCloseConfirmation === 'false')\n\t\tdispatch(constants.SCREEN_CLOSED_CANCELLED);\n};\n\nconst handlePrimaryTabPropChange = (primaryTabPropData, dispatch) => {\n\tif (!primaryTabPropData) return;\n\tdispatch(constants.PRIMARY_TAB_PROP_CHANGED, {\n\t\tprimaryTabPropData,\n\t\tinbound: true\n\t});\n};\n\nconst handleActiveRecords = (tabsData, updateProperties) => {\n\tlet activeParentId = '-1',\n\t\ttabList = [],\n\t\tactiveRecords = [];\n\n\tif (has(tabsData, 'root')) {\n\t\tif (get(tabsData, 'root.selectedTabId') !== 'tab_0') {\n\t\t\tactiveParentId = get(\n\t\t\t\ttabsData[get(tabsData, 'root.selectedTabId', {})],\n\t\t\t\t'selectedContent.fields.sysId',\n\t\t\t\t'-1'\n\t\t\t);\n\t\t}\n\n\t\ttabList = get(tabsData, 'root.tabList', []);\n\t\teach(tabList, (tabId) => {\n\t\t\tif (!get(tabsData[tabId], 'isPrimaryTab', false)) {\n\t\t\t\tlet activeRecord = get(tabsData[tabId], 'selectedContent.fields', {});\n\t\t\t\t!isEmpty(activeRecord) ? activeRecords.push(activeRecord) : null;\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateProperties({ activeParentId, activeRecords });\n};\n\n// eslint-disable-next-line no-unused-vars\nconst tabsPropertyChangedEffect = ({\n\taction,\n\tproperties,\n\tdispatch,\n\tupdateProperties\n}) => {\n\tconst { name, value, previousValue } = action.payload;\n\tswitch (name) {\n\t\tcase 'tabConfig':\n\t\t\thandleTabConfigPropChange(value, properties, dispatch);\n\t\t\tbreak;\n\n\t\tcase 'selectedContent':\n\t\t\thandleSelectedContentPropChange(\n\t\t\t\tvalue,\n\t\t\t\tpreviousValue,\n\t\t\t\tproperties,\n\t\t\t\tdispatch\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'changedScreenContent':\n\t\t\thandleChangedScreenContentPropChange(value, dispatch);\n\t\t\tbreak;\n\n\t\tcase 'screenCloseConfirmation':\n\t\t\thandleScreenCloseConfirmationChange(value, dispatch);\n\t\t\tbreak;\n\n\t\tcase 'primaryTab':\n\t\t\thandlePrimaryTabPropChange(value, dispatch);\n\t\t\tbreak;\n\n\t\tcase 'tabsData':\n\t\t\thandleActiveRecords(value, updateProperties);\n\t}\n};\n\n/** handle generic modal dialog close message, which comes from the \"x\" close icon.\n *  if 'NOW_MODAL#OPENED_SET' reaches this code for a modal that doesn't belong to us,\n *  then it results in a no-op.\n */\nfunction modalClosedEffect(tabsData, payload, coeffects) {\n\tmainTabCloseCancelledEffect(tabsData, payload, coeffects);\n\tmainTabNewAlertClearedEffect(tabsData, payload, coeffects);\n}\n\nfunction tabsDataConnectedEffect(coeffects) {\n\tconst { host } = coeffects;\n\tconst tabsUnloadHandler = () => {\n\t\tif (host && host.getProperty) {\n\t\t\tconst tabsData = host.getProperty('tabsData');\n\t\t\tconst userId = host.getProperty('userId');\n\t\t\tsaveTabs(tabsData, userId);\n\t\t}\n\t\twindow.removeEventListener('beforeunload', tabsUnloadHandler);\n\t};\n\twindow.addEventListener('beforeunload', tabsUnloadHandler);\n}\n\nconst actionTabsDataEffectMap = {\n\t[constants.MAIN_TAB_CLOSE_CLICKED]: mainTabCloseClickedEffect,\n\t[constants.MAIN_TAB_NEW_ALERT_CLEARED]: mainTabNewAlertClearedEffect,\n\t[constants.MAIN_TAB_NEW_ALERT_CLEARED_OK]: mainTabNewAlertClearedEffect,\n\t[constants.MAIN_TAB_CLICKED]: mainTabClickedEffect,\n\t[constants.SUB_TAB_CLOSE_CLICKED]: subTabCloseClickedEffect,\n\t[constants.SELECT_TAB]: selectTabEffect,\n\t[constants.TABS_SELECTED_CONTENT_CHANGED]: selectedContentChangedEffect,\n\t[constants.TABS_SCREEN_CONTENT_CHANGED]: screenContentChangedEffect,\n\t[constants.TABS_CLOSE_REQUESTED]: tabCloseRequestedEffect,\n\t[constants.TABS_CLOSE_CONFIRMED]: mainTabCloseConfirmedEffect,\n\t[constants.TABS_CLOSE_CANCELLED]: mainTabCloseCancelledEffect,\n\t[constants.NOW_MODAL_OPENED_SET]: modalClosedEffect, // this is the generic msg from close icon on modal\n\t[constants.DRILLDOWN_BACK_CLICKED]: drillDownBackClickedEffect,\n\t[constants.SCREEN_CLOSED_CONFIRMED]: mainTabCloseConfirmedEffect,\n\t[constants.SCREEN_CLOSED_CANCELLED]: mainTabCloseCancelledEffect,\n\t[constants.PRIMARY_TAB_PROP_CHANGED]: primaryTabPropChangedEffect\n};\n\nconst tabsDataActionHandlers = Object.keys(actionTabsDataEffectMap).reduce(\n\t(result, key) => {\n\t\treturn {\n\t\t\t...result,\n\t\t\t[key]: createTabsDataEffect(actionTabsDataEffectMap[key])\n\t\t};\n\t},\n\t{}\n);\n\nexport const rootActionHandlers = {\n\t...tabsDataActionHandlers,\n\t[COMPONENT_CONNECTED]: tabsDataConnectedEffect,\n\t[COMPONENT_PROPERTY_CHANGED]: tabsPropertyChangedEffect,\n\t[constants.NOW_BUTTON_BARE_CLICKED]: {\n\t\teffect: (coeffects) => {\n\t\t\tconst {\n\t\t\t\taction: { payload },\n\t\t\t\tdispatch\n\t\t\t} = coeffects;\n\t\t\tif (payload.drillDowns)\n\t\t\t\tdispatch(constants.DRILLDOWN_BACK_CLICKED, payload);\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n","import clamp from 'lodash/clamp';\nimport { tabsConfig } from '../../../constants/canvas_config';\n\nlet _tabsLimit = null;\nexport function getMaxTabLimit(tabsConfigProperty) {\n\tconst { valid_max_tabs_min, valid_max_tabs_max } = tabsConfig;\n\n\tif (!_tabsLimit) {\n\t\tlet mainLimit =\n\t\t\ttabsConfigProperty && tabsConfigProperty.maxMainTabLimit\n\t\t\t\t? tabsConfigProperty.maxMainTabLimit\n\t\t\t\t: 10;\n\t\tmainLimit = clamp(mainLimit, valid_max_tabs_min, valid_max_tabs_max) + 1;\n\t\t// +1 because the primary tab occupies the first tab slot and doesn't count against the limit\n\n\t\tlet subLimit =\n\t\t\ttabsConfigProperty && tabsConfigProperty.maxTotalSubTabLimit\n\t\t\t\t? tabsConfigProperty.maxTotalSubTabLimit\n\t\t\t\t: 30;\n\t\tsubLimit = clamp(subLimit, mainLimit, valid_max_tabs_max + 1);\n\t\t// +1 becasuse mainLimit can be valid_max_tabs_max + 1 from line 10\n\n\t\t_tabsLimit = {\n\t\t\tmainLimit,\n\t\t\tsubLimit\n\t\t};\n\t}\n\treturn _tabsLimit;\n}\n","module.exports = __TECTONIC__lodash_4_17_15[\"clamp\"];","import { t } from 'sn-translate';\nimport * as constants from './constants';\nexport const tabsConfig = {\n\tvalid_max_tabs_min: 2,\n\tvalid_max_tabs_max: 100,\n\tnon_records: [\n\t\t{\n\t\t\ttype: constants.FULL_SEARCH_ITEM_TYPE,\n\t\t\ttitle: constants.FULL_SEARCH_TAB_TITLE\n\t\t},\n\t\t{\n\t\t\ttype: constants.KNOWLEDGE_ITEM_TYPE,\n\t\t\ttitle: constants.KNOWLEDGE_TAB_TITLE\n\t\t}\n\t]\n};\n\nexport const menuConfig = {\n\tcloseMenu: {\n\t\theader: null,\n\t\titems: [\n\t\t\t{ name: constants.CLOSE_TAB_MENU_ITEM, displayValue: t('Close Tab') },\n\t\t\t{\n\t\t\t\tname: constants.CLOSE_OTHER_TABS_MENU_ITEM,\n\t\t\t\tdisplayValue: t('Close Other Tabs')\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: constants.CLOSE_ALL_TABS_MENU_ITEM,\n\t\t\t\tdisplayValue: t('Close All Tabs')\n\t\t\t}\n\t\t]\n\t},\n\tmainPlus: {\n\t\theader: { name: 'new', displayValue: t('New...') },\n\t\titems: []\n\t}\n};\n","import { isEmpty, cloneDeep } from 'lodash';\nimport * as tabUtils from '../utils/tabsData.utils';\nimport * as constants from '../../../constants/constants';\nimport * as generators from './tabsData.generators';\nimport { getStoredTabs } from './tabsData.storage';\nimport { closeTabById } from './tabsData.closeTabs';\n\nconst reducerTypeMap = {\n\t[constants.INIT_OR_UPDATE_TABS_REDUCER]: initOrUpdateTabs,\n\t[constants.OPEN_OR_FOCUS_TAB_REDUCER]: openOrFocusTabs,\n\t[constants.LIVE_UPDATE_TABS_REDUCER]: liveUpdateTabs,\n\t[constants.CLOSE_ONE_DRILLDOWN_REDUCER]: closeOneDrillDown,\n\t[constants.UPDATE_PRIMARY_TAB_REDUCER]: updatePrimaryTab\n};\n\n/**\n * Generic reducer function uses type prop to determine tab reducer\n * @param tabsData\n * @param payload\n * @returns {*}\n */\nexport function reduceTabsData(reducer_type, tabsData, payload, properties) {\n\tif (!payload) return tabsData;\n\tconst reducer = reducerTypeMap[reducer_type];\n\tif (reducer) {\n\t\tconst { uxrEnableDebug } = properties;\n\t\tconst newTabsData = reducer(tabsData, payload, properties);\n\t\tverifyTabsPrivate(newTabsData, reducer_type, uxrEnableDebug);\n\t\treturn newTabsData;\n\t}\n\n\treturn tabsData;\n}\n\nfunction setPrimaryTab(tabsData, primaryTabData, passiveNavigation) {\n\tlet newTabsData;\n\tconst { tab_id, contentKey = {} } = primaryTabData;\n\tlet primaryTabId;\n\tif (\n\t\ttabsData &&\n\t\ttabsData.root &&\n\t\ttabsData.root.tabList &&\n\t\ttabsData.root.tabList.length > 0\n\t) {\n\t\tprimaryTabId = tabsData.root.tabList[0];\n\t\tif (\n\t\t\tprimaryTabId &&\n\t\t\ttabsData[primaryTabId] &&\n\t\t\ttabsData[primaryTabId].isPrimaryTab !== true\n\t\t) {\n\t\t\tprimaryTabId = null;\n\t\t}\n\t}\n\tprimaryTabId = primaryTabId || tab_id;\n\tnewTabsData = {\n\t\t...tabsData,\n\t\t[primaryTabId]: {\n\t\t\t...(primaryTabId &&\n\t\t\t\ttabsData[primaryTabId] && { ...tabsData[primaryTabId] }),\n\t\t\t...primaryTabData,\n\t\t\ttab_id: primaryTabId\n\t\t}\n\t};\n\tnewTabsData.root.tabList[0] = primaryTabId;\n\tnewTabsData.root.childContentKeys = {\n\t\t...newTabsData.root.childContentKeys,\n\t\t[contentKey]: primaryTabId\n\t};\n\tif (!passiveNavigation) newTabsData.root.selectedTabId = primaryTabId;\n\n\treturn newTabsData;\n}\n\nfunction reduceTabs(tabsData, tabs = [], passiveNavigation) {\n\tif (!tabs || !tabs.length > 0) return tabsData;\n\n\tconst { tab_id: topTabId, contentKey: topTabContentKey = {} } = tabs[0];\n\n\tconst tabsObj = tabs.reduce((obj, t) => {\n\t\tobj[t.tab_id] = t;\n\t\treturn obj;\n\t}, {});\n\n\tlet newTabsData = { ...tabsData, ...tabsObj };\n\n\tif (!passiveNavigation) newTabsData.root.selectedTabId = topTabId;\n\n\tif (\n\t\tnewTabsData.root.tabList &&\n\t\tnewTabsData.root.tabList.indexOf(topTabId) === -1\n\t)\n\t\tnewTabsData.root.tabList.push(topTabId);\n\n\tnewTabsData.root.childContentKeys = {\n\t\t...newTabsData.root.childContentKeys,\n\t\t[topTabContentKey]: topTabId\n\t};\n\n\treturn newTabsData;\n}\n\nfunction initTabs(tabsData, payload, properties) {\n\tconst { userId } = properties;\n\tlet storedTabsData = getStoredTabs(userId);\n\n\tif (storedTabsData) storedTabsData = tabUtils.clearAllFlags(storedTabsData);\n\tconst { selectedContent, tabType, primaryRoute, contextualRoute } = payload;\n\n\tconst primaryTabData = generators.getInitPrimaryTabData(payload);\n\n\tlet newTabsData = storedTabsData\n\t\t? { ...storedTabsData }\n\t\t: { ...generators.generateTabsDataRoot() };\n\n\tif (\n\t\t(!storedTabsData && primaryTabData) ||\n\t\t(storedTabsData && tabType === 'PRIMARY' && primaryRoute)\n\t)\n\t\tnewTabsData = setPrimaryTab(newTabsData, primaryTabData);\n\n\tif (tabType !== 'PRIMARY' && !primaryRoute) {\n\t\t//create details tab if launched directly in contextual route\n\t\tif (contextualRoute && selectedContent.parent) {\n\t\t\tconst _payload = {\n\t\t\t\t...payload,\n\t\t\t\tselectedContent: { ...payload.selectedContent.parent }\n\t\t\t};\n\t\t\tconst detailsTab = generators.getTabPayload(newTabsData, _payload);\n\t\t\tnewTabsData = reduceTabs(newTabsData, detailsTab);\n\t\t}\n\n\t\tconst tabs = generators.getTabPayload(newTabsData, payload);\n\t\tnewTabsData = reduceTabs(newTabsData, tabs);\n\t}\n\n\treturn newTabsData;\n}\n\nfunction initOrUpdateTabs(tabsData, payload, properties) {\n\tconst { passiveNavigation = false, ...restPayload } = payload;\n\tconst transformedPayload = generators.preProcessSelectedContent(restPayload);\n\n\tif (!tabsData) return initTabs(tabsData, transformedPayload, properties);\n\n\tlet newTabsData = { ...tabsData };\n\n\tconst { selectedContent, tabType, contextualRoute } = transformedPayload;\n\n\tif (tabType === 'PRIMARY' && transformedPayload.primaryRoute) {\n\t\tconst primaryTabId = newTabsData.root.tabList[0];\n\t\tconst { label, icon } = transformedPayload.primaryRoute;\n\t\tconst options = {\n\t\t\tcanClose: false,\n\t\t\tisPrimaryTab: true,\n\t\t\tsize: null,\n\t\t\tviewportInfo: null\n\t\t};\n\t\tconst primaryTabData = generators.getTabDefinition({\n\t\t\ttabId: primaryTabId,\n\t\t\tselectedContent: { ...selectedContent, label, icon },\n\t\t\toptions\n\t\t});\n\t\tnewTabsData = setPrimaryTab(newTabsData, primaryTabData, passiveNavigation);\n\t} else {\n\t\tlet newTabsDataClone = cloneDeep(newTabsData);\n\t\t// test for the case where the \"details\" default subtab does not exist, and create it if necessary\n\t\tif (contextualRoute && selectedContent && selectedContent.parent) {\n\t\t\tconst parentContentKey = tabUtils.getContentKey(selectedContent.parent);\n\t\t\tconst parentTabId =\n\t\t\t\tnewTabsDataClone.root.childContentKeys[parentContentKey];\n\t\t\tconst detailsTabId = newTabsDataClone[parentTabId]\n\t\t\t\t? newTabsDataClone[parentTabId].childContentKeys[parentContentKey]\n\t\t\t\t: null;\n\t\t\tif (detailsTabId == null) {\n\t\t\t\tconst _payload = {\n\t\t\t\t\t...transformedPayload,\n\t\t\t\t\tselectedContent: { ...transformedPayload.selectedContent.parent }\n\t\t\t\t};\n\t\t\t\tconst detailsTab = generators.getTabPayload(newTabsDataClone, _payload);\n\t\t\t\tnewTabsDataClone = reduceTabs(newTabsDataClone, detailsTab);\n\t\t\t}\n\t\t}\n\n\t\tconst tabs = generators.getTabPayload(newTabsDataClone, transformedPayload);\n\t\tnewTabsData = reduceTabs(newTabsDataClone, tabs, passiveNavigation);\n\t}\n\treturn newTabsData;\n}\n\nfunction openOrFocusTabs(tabsData, payload) {\n\tlet { tab_id } = payload;\n\tlet newTabsData = { ...tabsData };\n\tif (!tab_id || !newTabsData[tab_id]) return;\n\n\tlet tabId = tabUtils.getActiveLeafTabId(newTabsData);\n\n\tif (tabId && tabId === tab_id) {\n\t\t//clear drilldowns if active main tab is clicked again\n\t\tif (newTabsData[tabId] && newTabsData[tabId].selectedContent.drillDowns) {\n\t\t\tconst selectedContent = newTabsData[tabId].selectedContent;\n\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\tconst { drillDowns, ...rest } = selectedContent;\n\t\t\tnewTabsData = {\n\t\t\t\t...newTabsData,\n\t\t\t\t[tabId]: { ...newTabsData[tabId], selectedContent: { ...rest } }\n\t\t\t};\n\t\t\treturn newTabsData;\n\t\t}\n\t\treturn;\n\t}\n\n\t//check if an active tab is clicked\n\tconst selectedTab = newTabsData[tab_id];\n\tconst selectedParentTab =\n\t\tselectedTab && selectedTab.parentTabId\n\t\t\t? newTabsData[selectedTab.parentTabId]\n\t\t\t: null;\n\tconst activeTabId = selectedParentTab\n\t\t? selectedParentTab.selectedTabId\n\t\t: null;\n\tif (activeTabId === tab_id) {\n\t\treturn;\n\t}\n\n\twhile (tab_id != null) {\n\t\tconst currTab = newTabsData[tab_id];\n\t\tconst parentTabId = currTab.parentTabId;\n\t\tif (parentTabId == null) break;\n\t\tconst parent = { ...newTabsData[parentTabId] };\n\t\tparent.selectedTabId = tab_id;\n\t\tnewTabsData[parentTabId] = parent;\n\t\ttab_id = parentTabId;\n\t}\n\n\treturn newTabsData;\n}\n\nfunction liveUpdateTabs(tabsData, payload) {\n\tconst {\n\t\tscreenParams,\n\t\tscreenKey,\n\t\ttitle,\n\t\tmessage,\n\t\tisDirty,\n\t\thasError,\n\t\thasUpdate,\n\t\tdirtyModalId,\n\t\ttooltipPreview = {},\n\t\tstatus,\n\t\tcomponentId,\n\t\thasWarning,\n\t\twarningMessage,\n\t\twarningModalId\n\t} = payload;\n\n\tif (!screenKey) return tabsData;\n\n\tlet { icon } = payload;\n\n\tif (status && status === constants.SCREEN_STATUS_ACTION_CLOSED) {\n\t\tconst tabToDelete = Object.values(tabsData).find((tabValue) => {\n\t\t\treturn tabValue.contentKey === screenKey;\n\t\t});\n\t\treturn tabToDelete\n\t\t\t? closeTabById(tabsData, tabToDelete.tab_id, true)\n\t\t\t: tabsData;\n\t}\n\n\tlet { newTabsData, newContentKey: contentKey } = screenParams\n\t\t? updateContentKeys({\n\t\t\t\ttabsData: { ...tabsData },\n\t\t\t\tpayload: { ...screenParams, screenKey }\n\t\t  })\n\t\t: { newTabsData: { ...tabsData }, newContentKey: screenKey };\n\n\tlet iconStatus;\n\tif (typeof icon === 'object') {\n\t\tconst { name, status } = icon; //status: active  = icon in green color. More status, color mappings to follow.\n\t\ticon = name;\n\t\ticonStatus = status;\n\t}\n\tconst nonDetailsObj = {\n\t\t...(title && { title }),\n\t\t...(icon && { icon }),\n\t\t...(icon && { iconStatus })\n\t};\n\n\tif (!isEmpty(nonDetailsObj)) {\n\t\tconst ignoreDetailsFilterFn = (tab) =>\n\t\t\ttab.contentKey === contentKey && !tab.isDetailsTab;\n\t\tnewTabsData = tabUtils.applyToAllTabs(\n\t\t\tnewTabsData,\n\t\t\tnonDetailsObj,\n\t\t\tignoreDetailsFilterFn\n\t\t);\n\t\tif (title) tabUtils.setTabTitleCacheByScreen(contentKey, title);\n\t}\n\n\tconst isTooltipPreviewEmpty =\n\t\tisEmpty(tooltipPreview.primaryTitle) &&\n\t\tisEmpty(tooltipPreview.secondaryContent);\n\n\t// resolve the tab's overall dirty state from the cached dirty state of all components contained within the tab\n\tconst resolvedIsDirty = resolveDirtyState(\n\t\tnewTabsData,\n\t\tcontentKey,\n\t\tcomponentId,\n\t\tisDirty,\n\t\tdirtyModalId\n\t);\n\n\tconst objToApply = {\n\t\t...(message && { message }),\n\t\t...(!isTooltipPreviewEmpty && { tooltipPreview }),\n\t\t...((isDirty === true || isDirty === false) && {\n\t\t\tisDirty: resolvedIsDirty\n\t\t}),\n\t\t...((hasError === true || hasError === false) && { hasError }),\n\t\t...((hasUpdate === true || hasUpdate === false) && { hasUpdate }),\n\t\t...(dirtyModalId && { dirtyModalId }),\n\n\t\t...((hasWarning === true || hasWarning === false) && { hasWarning }),\n\t\t...(warningMessage && { warningMessage }),\n\t\t...(warningModalId && { warningModalId })\n\t};\n\n\tif (!isEmpty(objToApply)) {\n\t\tconst filterFn = (tab) => tab.contentKey === contentKey;\n\t\tnewTabsData = tabUtils.applyToAllTabs(newTabsData, objToApply, filterFn);\n\t}\n\treturn newTabsData;\n}\n\n/**\n * resolve overall dirty state for content from the cached dirty state of all components contained within the content\n */\nfunction resolveDirtyState(\n\ttabsData,\n\tcontentKey,\n\tcomponentId,\n\tisDirty,\n\tdirtyModalId\n) {\n\t// find the leaf tab\n\tlet leafTab;\n\tconst allTabs = Object.values(tabsData);\n\tlet i = 0;\n\tfor (; i < allTabs.length; i++) {\n\t\tif (\n\t\t\tallTabs[i].contentKey === contentKey &&\n\t\t\tallTabs[i].tabList.length == 0\n\t\t) {\n\t\t\tleafTab = allTabs[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (leafTab) {\n\t\t// if we have not yet seen this component, create an entry for it\n\t\tif (!leafTab.componentList) {\n\t\t\tleafTab.componentList = [];\n\t\t}\n\t\tconst componentForId = (entry) => (entry.componentId = componentId);\n\t\tlet componentEntry = leafTab.componentList.some(componentForId);\n\t\tif (!componentEntry) {\n\t\t\tcomponentEntry = {\n\t\t\t\tcomponentId: componentId,\n\t\t\t\tisDirty: isDirty,\n\t\t\t\tdirtyModalId: dirtyModalId\n\t\t\t};\n\t\t\tleafTab.componentList.push(componentEntry);\n\t\t}\n\n\t\t// set the properties for this entry\n\t\tleafTab.componentList.forEach((entry) => {\n\t\t\tif (entry.componentId === componentId) {\n\t\t\t\tentry.isDirty = isDirty;\n\t\t\t\tentry.dirtyModalId = dirtyModalId;\n\t\t\t}\n\t\t});\n\n\t\t// return the resolved dirty state accounting for all components\n\t\tconst isDirtyEntry = (entry) => entry.isDirty === true;\n\t\treturn leafTab.componentList.some(isDirtyEntry);\n\t} else {\n\t\t// default to the dirty state that was passed in\n\t\treturn isDirty;\n\t}\n}\n\nfunction closeOneDrillDown(tabsData) {\n\tlet newTabsData = { ...tabsData };\n\t//const {contentKey, drillDowns} = payload;\n\n\tlet tabId = tabUtils.getActiveLeafTabId(newTabsData);\n\n\tif (tabId) {\n\t\tconst { selectedContent } = { ...tabsData[tabId] };\n\t\tlet { drillDowns, ...rest } = { ...selectedContent };\n\n\t\tif (!drillDowns) return newTabsData;\n\n\t\tif (drillDowns.length > 0) drillDowns.pop();\n\n\t\tconst newContent = {\n\t\t\t...rest,\n\t\t\t...(drillDowns.length === 0 && { drillDowns })\n\t\t};\n\n\t\tnewTabsData = {\n\t\t\t...newTabsData,\n\t\t\t[tabId]: { ...newTabsData[tabId], selectedContent: newContent }\n\t\t};\n\t}\n\n\treturn newTabsData;\n}\n\nfunction updateContentKeys({\n\ttabsData,\n\tpayload: { screenKey, ...screenParams }\n}) {\n\tconst content = tabUtils.recoverContentFromKey(screenKey);\n\tconst newContentKey = tabUtils.generateContentKey(\n\t\t{ ...content.fields, ...screenParams },\n\t\tcontent.route\n\t);\n\tlet _tabsData = {};\n\n\tconst tabsRequiringContentUpdate = Object.keys(tabsData).filter(\n\t\t(t) => tabsData[t].contentKey === screenKey && tabsData[t].selectedContent\n\t);\n\n\tconst _length = tabsRequiringContentUpdate.length;\n\tif (!_length === 0) return { ...tabsData };\n\tlet currentTab = { ...tabsData[tabsRequiringContentUpdate[_length - 1]] };\n\twhile (currentTab) {\n\t\tlet _contentKeys = currentTab.childContentKeys && {\n\t\t\t...currentTab.childContentKeys\n\t\t};\n\t\tlet _selectedContent;\n\t\tif (tabsRequiringContentUpdate.includes(currentTab.tab_id)) {\n\t\t\tif (currentTab.hasOwnProperty('contentKey')) {\n\t\t\t\tcurrentTab.contentKey = newContentKey;\n\t\t\t}\n\t\t\tif (currentTab.hasOwnProperty('selectedContent')) {\n\t\t\t\tlet selectedContent = { ...currentTab.selectedContent };\n\t\t\t\tlet _fields = {\n\t\t\t\t\t...selectedContent.fields\n\t\t\t\t};\n\n\t\t\t\tif (selectedContent.multiInstField) {\n\t\t\t\t\t_fields = {\n\t\t\t\t\t\t..._fields,\n\t\t\t\t\t\t[selectedContent.multiInstField]:\n\t\t\t\t\t\t\tscreenParams[selectedContent.multiInstField]\n\t\t\t\t\t};\n\t\t\t\t\tselectedContent.isMultiInstFieldValUpdated = true;\n\t\t\t\t} else {\n\t\t\t\t\t_fields = { ..._fields, ...screenParams };\n\t\t\t\t}\n\n\t\t\t\tdelete selectedContent['multiInstField'];\n\t\t\t\tdelete selectedContent['uid'];\n\n\t\t\t\t_selectedContent = { ...selectedContent, fields: _fields };\n\t\t\t}\n\t\t}\n\n\t\tlet _currentTab = { ...currentTab };\n\t\tif (_contentKeys) {\n\t\t\tconst oldContentKeyValue = _contentKeys[screenKey];\n\t\t\tdelete _contentKeys[screenKey];\n\t\t\t_contentKeys[newContentKey] = oldContentKeyValue;\n\t\t\t_currentTab = { ..._currentTab, childContentKeys: _contentKeys };\n\t\t}\n\n\t\tif (_selectedContent)\n\t\t\t_currentTab = { ..._currentTab, selectedContent: _selectedContent };\n\n\t\t_tabsData[currentTab.tab_id] = _currentTab;\n\t\tcurrentTab = currentTab.parentTabId && {\n\t\t\t...tabsData[currentTab.parentTabId]\n\t\t};\n\t}\n\n\tconst newTabsData = { ...tabsData, ..._tabsData };\n\treturn { newTabsData, newContentKey };\n}\n\nfunction updatePrimaryTab(tabsData, payload) {\n\tif (!tabsData || !payload) return;\n\n\tconst primaryTab = tabUtils.getPrimaryTab(tabsData);\n\n\tif (!primaryTab) return;\n\t// eslint-disable-next-line no-unused-vars\n\tconst { contentKey, selectedContent, ...restPrimaryTab } = primaryTab;\n\n\tconst { primaryTabPropData } = payload;\n\tconst primaryTabContent = tabUtils.primaryTabContentUpdate(payload, tabsData);\n\n\tif (isEmpty(primaryTabPropData) || isEmpty(primaryTabContent)) return;\n\n\tconst tabsDataNew = {\n\t\t...tabsData,\n\t\t[primaryTab.tab_id]: {\n\t\t\t...restPrimaryTab,\n\t\t\t...primaryTabPropData,\n\t\t\tcontentKey: primaryTabContent.contentKey,\n\t\t\tselectedContent: primaryTabContent.selectedContent\n\t\t}\n\t};\n\n\treturn tabsDataNew;\n}\n\nfunction verifyTabsPrivate(tabsData, caller, doVerify) {\n\tconst verified = verifyTabs(tabsData, doVerify);\n\tif (verified.result === false) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.debug('verifyTabs failed from ' + caller, verified, tabsData);\n\t}\n\treturn verified;\n}\n\n/* verify that the tabsData structure is correct and consistent.\n * returns an object with property \"result\" set to true if everything is ok.\n * \"result\" will be set to false if there are any errors,\n * and the \"errors\" array will include descriptions of what is wrong.\n */\nexport function verifyTabs(tabsData, doVerify) {\n\tlet verified = { result: true, errors: [] };\n\tif (!doVerify) return verified;\n\tif (!tabsData) return verified;\n\n\tif (!tabsData.root) {\n\t\tverified.result = false;\n\t\tverified.errors.push('missing root element');\n\t\treturn verified;\n\t}\n\tconst tabList = Object.values(tabsData);\n\tfor (let tabIndex = 0; tabIndex < tabList.length; tabIndex++) {\n\t\tconst parentTab = tabList[tabIndex];\n\t\tverifyTab(parentTab, tabList, verified);\n\t}\n\treturn verified;\n}\n\nfunction verifyTab(tab, tabList, verified) {\n\t// verify that selected tab in parent is set to a child\n\tif (tab.selectedTabId && tab.selectedTabId != '-1') {\n\t\tif (!tab.tabList.includes(tab.selectedTabId)) {\n\t\t\tverified.result = false;\n\t\t\tverified.errors.push(\n\t\t\t\t'bad selectedTabId ' + tab.tab_id + ' / ' + tab.selectedTabId\n\t\t\t);\n\t\t}\n\t}\n\t// check for circular references.\n\t// 1. parentId cannot also be a child\n\tif (tab.tabList.includes(tab.parentTabId)) {\n\t\tverified.result = false;\n\t\tverified.errors.push('circular ref parent/child ' + tab.tab_id);\n\t}\n\t// 2. self cannot also be a child of itself\n\tif (tab.tabList.includes(tab.tab_id)) {\n\t\tverified.result = false;\n\t\tverified.errors.push('circular ref self/child ' + tab.tab_id);\n\t}\n\t// 3. self cannot be its own parent\n\tif (tab.parentTabId === tab.tab_id) {\n\t\tverified.result = false;\n\t\tverified.errors.push('circular ref self/parent ' + tab.tab_id);\n\t}\n\n\t// verify parent/child relationship\n\tfor (\n\t\tlet childTabIndex = 0;\n\t\tchildTabIndex < tab.tabList.length;\n\t\tchildTabIndex++\n\t) {\n\t\tconst childTabId = tab.tabList[childTabIndex];\n\t\tconst childTab = tabUtils.getTabById(tabList, childTabId);\n\t\tif (childTab.parentTabId !== tab.tab_id) {\n\t\t\tverified.result = false;\n\t\t\tverified.errors.push(\n\t\t\t\t'mismatch parent/child ' + tab.tab_id + ' > ' + childTab.tab_id\n\t\t\t);\n\t\t}\n\t\tif (tab.childContentKeys[childTab.contentKey] != childTab.tab_id) {\n\t\t\tverified.result = false;\n\t\t\tverified.errors.push(\n\t\t\t\t'bad childContentKeys entry ' +\n\t\t\t\t\ttab.tab_id +\n\t\t\t\t\t' > ' +\n\t\t\t\t\tchildTab.tab_id +\n\t\t\t\t\t' / ' +\n\t\t\t\t\ttab.childContentKeys[childTab.contentKey]\n\t\t\t);\n\t\t}\n\t}\n}\n","import { isEmpty } from 'lodash';\nimport {\n\tgetPrimaryTabMap,\n\tgetContentKey,\n\tgetTabTitleCachedByScreen,\n\tcontextualRouteSelected,\n\tprimaryRouteSelected,\n\tlocateTabs\n} from '../utils/tabsData.utils';\n\nimport { getNextTabId } from './tabsData.storage';\n\n//Process selectedContent\n\nexport function preProcessSelectedContent(selectedContent) {\n\tlet _rootContent = { ...selectedContent };\n\tlet drillDowns = [];\n\twhile (_rootContent && _rootContent.parent) {\n\t\tlet { parent, ...drillDown } = _rootContent;\n\t\tdrillDowns.push(drillDown);\n\t\t_rootContent = parent;\n\t}\n\n\tconst _contextualRouteSelected = contextualRouteSelected(_rootContent);\n\n\tif (_contextualRouteSelected)\n\t\treturn {\n\t\t\tselectedContent,\n\t\t\tcontextualRoute: _contextualRouteSelected,\n\t\t\ttabType: 'CONTEXTUAL'\n\t\t};\n\n\tconst _primaryRouteSelected = primaryRouteSelected(_rootContent);\n\n\tif (drillDowns.length > 1) {\n\t\tdrillDowns.reverse();\n\t}\n\tconst _selectedContent = {\n\t\t..._rootContent,\n\t\t...(drillDowns.length > 0 && { drillDowns })\n\t};\n\n\tif (_primaryRouteSelected)\n\t\treturn {\n\t\t\tselectedContent: _selectedContent,\n\t\t\tprimaryRoute: _primaryRouteSelected,\n\t\t\ttabType: 'PRIMARY'\n\t\t};\n\n\treturn { selectedContent: _selectedContent, tabType: 'MAIN_ONLY' };\n}\n\n//generate tabsData root object\nexport function generateTabsDataRoot() {\n\treturn {\n\t\troot: {\n\t\t\ttab_id: 'root',\n\t\t\tparentTabId: null,\n\t\t\tselectedTabId: '-1',\n\t\t\tchildContentKeys: {},\n\t\t\ttabList: []\n\t\t}\n\t};\n}\n\nexport function getInitPrimaryTabData({ selectedContent, primaryRoute }) {\n\tconst primaryTabMap = getPrimaryTabMap();\n\tif (Object.keys(primaryTabMap).length === 0) return;\n\tconst primaryTab = primaryRoute\n\t\t? primaryRoute\n\t\t: !isEmpty(primaryTabMap)\n\t\t? primaryTabMap[Object.keys(primaryTabMap)[0]]\n\t\t: null;\n\tif (primaryTab) {\n\t\tconst content = primaryRoute ? selectedContent : primaryTab.routeInfo;\n\n\t\tconst { label, icon } = primaryTab;\n\t\tconst options = {\n\t\t\tcanClose: false,\n\t\t\tisPrimaryTab: true,\n\t\t\tsize: null,\n\t\t\tviewportInfo: null\n\t\t};\n\t\treturn getTabDefinition({\n\t\t\tselectedContent: { ...content, label, icon },\n\t\t\toptions\n\t\t});\n\t}\n}\n\nexport function getTabPayload(tabsData, payload) {\n\tconst { selectedContent, tabType } = payload;\n\tlet _selectedContent = { ...selectedContent };\n\n\tif (tabType === 'CONTEXTUAL' && payload.contextualRoute) {\n\t\tif (!_selectedContent.parent) {\n\t\t\t_selectedContent = {\n\t\t\t\t..._selectedContent,\n\t\t\t\tisDetailsTab: true,\n\t\t\t\tparent: _selectedContent\n\t\t\t};\n\t\t}\n\t}\n\tlet { selectedContentStack, tabs } = locateTabs(tabsData, _selectedContent);\n\n\twhile (selectedContentStack.length > 0) {\n\t\t//create tabs for content that are not located\n\t\tconst tabId = getNextTabId();\n\t\tconst content = selectedContentStack.pop();\n\t\tconst tab = getTabDefinition({ tabId, selectedContent: content });\n\t\ttabs.push(tab);\n\t}\n\n\tlet i = 0;\n\twhile (tabs.length > 0 && i < tabs.length - 1) {\n\t\t//manage parent and child relations in payload\n\t\tconst tab = tabs[i];\n\t\tconst subTab = tabs[i + 1];\n\t\tif (i == 0) tab.parentTabId = 'root';\n\t\ttab.selectedTabId = subTab.tab_id;\n\t\ttab.childContentKeys = {\n\t\t\t...tab.childContentKeys,\n\t\t\t[subTab.contentKey]: subTab.tab_id\n\t\t};\n\t\tif (tab.tabList && tab.tabList.indexOf(subTab.tab_id) === -1)\n\t\t\ttab.tabList.push(subTab.tab_id);\n\t\tsubTab.parentTabId = tab.tab_id;\n\t\ti++;\n\t}\n\treturn tabs;\n}\n\n//generate tab definition\nexport function getTabDefinition({ tabId, selectedContent, options = {} }) {\n\tif (!tabId) tabId = getNextTabId();\n\tconst { isDetailsTab = false, ...rest } = selectedContent;\n\tconst { canClose, isPrimaryTab = false, size, viewportInfo } = options;\n\tconst { label, title, icon } = rest;\n\tconst contentKey = getContentKey(rest);\n\tconst cachedTabTitle = getTabTitleCachedByScreen(contentKey);\n\n\tconst tab = {\n\t\ttab_id: tabId,\n\t\ttitle: isDetailsTab\n\t\t\t? 'Details'\n\t\t\t: label || title || cachedTabTitle || 'Loading...',\n\t\ticon,\n\t\tselectedTabId: '-1',\n\t\tparentTabId: 'root',\n\t\tselectedContent: rest,\n\t\tcontentKey,\n\t\tcanClose: canClose === false ? canClose : !isDetailsTab,\n\t\t...(isPrimaryTab && { isPrimaryTab }),\n\t\t...(isDetailsTab && { isDetailsTab }),\n\t\t...(size && { size: null }),\n\t\t...(viewportInfo && { viewportInfo: null }),\n\t\ttabList: []\n\t};\n\n\treturn tab;\n}\n","import get from 'lodash/get';\nlet _sessionStorageKey = null;\n\nexport function getSessionStorageKey() {\n\tif (!_sessionStorageKey) {\n\t\t_sessionStorageKey = `chromeSessionData_${get(\n\t\t\twindow,\n\t\t\t'ux_globals.pageSettings.sys_id.value',\n\t\t\t''\n\t\t)}`;\n\t}\n\treturn _sessionStorageKey;\n}\n","import './sn-canvas-tabs';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport { t } from 'sn-translate';\nimport styles from './_sn-canvas-tabs.scss';\nimport { canvasTabs } from './sn-canvas-tabs.view';\nimport GlobalResizeListener from '../../utils/global-resize-listener';\n\nconst {\n\tCOMPONENT_DOM_READY,\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_RENDERED\n} = actionTypes;\n\ncreateCustomElement('sn-canvas-tabs', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: canvasTabs\n\t},\n\tstyles,\n\tproperties: {\n\t\ttabsLevel: {\n\t\t\tdefault: null\n\t\t},\n\t\ttabConfig: {\n\t\t\tdefault: null\n\t\t},\n\t\ttabsData: {\n\t\t\tdefault: null\n\t\t},\n\t\ttabsToCloseQueue: {\n\t\t\tdefault: null\n\t\t},\n\t\tstopperPrompt: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\tinitialState: {\n\t\tmaxWidth: 0,\n\t\ttabsMaxOpen: 3,\n\t\tmenuConf: {\n\t\t\tcloseMenu: {\n\t\t\t\theader: null,\n\t\t\t\titems: [\n\t\t\t\t\t{ name: 'CLOSE_TAB_MENU_ITEM', displayValue: t('Close Tab') },\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'CLOSE_OTHER_TABS_MENU_ITEM',\n\t\t\t\t\t\tdisplayValue: t('Close Other Tabs')\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'CLOSE_ALL_TABS_MENU_ITEM',\n\t\t\t\t\t\tdisplayValue: t('Close All Tabs')\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tfocusedTabIndex: {\n\t\t\t'1': -1, //level 1: focusedTabIndex -1\n\t\t\t'2': -1\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: ({ host, updateState }) => {\n\t\t\tconst nowId = host.getAttribute('now-id');\n\t\t\tGlobalResizeListener.add(nowId, () => {\n\t\t\t\tupdateState({ maxWidth: host.clientWidth });\n\t\t\t});\n\t\t},\n\t\t/* If the width after rendering is different that what we have in our state, then update it here.\n\t\t * At initial load, we may render twice.\n\t\t * For example, if there is an L1 in the layout,\n\t\t * then we might render once prior to L1 render, then get reflowed when L1 has completed rendering\n\t\t * and taken up horizontal space that was previously allocated to this component.\n\t\t */\n\t\t[COMPONENT_RENDERED]: ({ host, updateState, state }) => {\n\t\t\tif (state.maxWidth != host.clientWidth)\n\t\t\t\tupdateState({ maxWidth: host.clientWidth });\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ host }) => {\n\t\t\tconst nowId = host.getAttribute('now-id');\n\t\t\tGlobalResizeListener.remove(nowId);\n\t\t},\n\n\t\t'CANVAS_TAB_BAR#FOCUSED_TAB_SET': ({\n\t\t\taction: { payload },\n\t\t\tupdateState,\n\t\t\tstate\n\t\t}) => {\n\t\t\tconst { focusedTabIndex } = state;\n\t\t\tconst { level, tabIndex } = payload;\n\n\t\t\tlet startIndex = level + 1;\n\t\t\tconst maxIndex = Object.entries(focusedTabIndex).length;\n\t\t\tlet _focusedTabIndex = { [level]: tabIndex };\n\t\t\twhile (startIndex <= maxIndex) {\n\t\t\t\t_focusedTabIndex[startIndex] = -1;\n\t\t\t\tstartIndex = startIndex + 1;\n\t\t\t}\n\t\t\tconst newFocusedTabIndex = {\n\t\t\t\t...state.focusedTabIndex,\n\t\t\t\t..._focusedTabIndex\n\t\t\t};\n\t\t\tupdateState({ focusedTabIndex: newFocusedTabIndex });\n\t\t}\n\t},\n\tbehaviors: [rtlBehavior]\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-tabs.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-chrome-one-tab-container{position:relative}.sn-chrome-one-tab-container::-moz-focus-inner{border-style:none}.sn-chrome-one-tab-container:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}:host(:not([dir=rtl])) .sn-chrome-one-tab-container,:root:not([dir=rtl]) .sn-chrome-one-tab-container{text-align:left}:host([dir=rtl]) .sn-chrome-one-tab-container,:root[dir=rtl] .sn-chrome-one-tab-container{text-align:right}.sn-chrome-one-tab-container:first-child .sn-chrome-one-tab:not(.-default){border-top-left-radius:0}.sn-chrome-one-tab{position:relative;display:flex;flex:0 0 auto;justify-content:center;border:none;border-top-left-radius:.5rem;border-top-right-radius:.5rem;font-size:1rem;cursor:pointer;color:RGB(var(--now-color--neutral-18,22,27,28));background:transparent;align-items:center;width:calc(100% + 1px);height:2.25rem;margin:0;color:RGB(var(--mv9-J8ZvTt-vmt-zrk--JvjvZ,var(--now-color--neutral-18,22,27,28)))}.sn-chrome-one-tab.-default{border:1px solid transparent;border-bottom:0}.sn-chrome-one-tab.-default:hover{border-color:RGB(var(--now-color--neutral-3,209,214,214))}.sn-chrome-one-tab.-default.is-selected{border-color:RGB(var(--now-color--neutral-7,135,147,148))}.sn-chrome-one-tab.-overflow{width:2rem;height:2rem;margin:.25rem;border:none;border-radius:0}.sn-chrome-one-tab.-overflow:hover{color:RGB(var(--now-color--secondary-2,1,89,107));background:RGBA(var(--now-color--secondary-2,1,89,107),.25)}.sn-chrome-one-tab.is-hover,.sn-chrome-one-tab:hover{background:RGB(var(--now-color--neutral-3,209,214,214))}.sn-chrome-one-tab.is-selected{z-index:2;background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-one-tab+.sn-chrome-one-tab-close{z-index:2}.sn-chrome-one-tab.is-updated{border-color:transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;box-shadow:1px 1px 100px RGB(var(--now-color--secondary-0,217,235,238)) inset;background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-one-tab.is-updated:before{content:\\\"\\\";position:absolute;top:0;right:0;left:0;width:100%;height:.25rem;margin-block-start:0;border-top-left-radius:1rem;border-top-right-radius:1rem;background:RGB(var(--now-color--secondary-1,1,119,142))}.sn-chrome-one-tab.is-updated.is-hover,.sn-chrome-one-tab.is-updated:hover{box-shadow:1px 1px 100px RGBA(var(--now-color--secondary-1,1,119,142),.5) inset}.sn-chrome-one-tab.is-disabled{cursor:default;opacity:.5;pointer-events:none}.sn-chrome-one-tab>now-badge{position:absolute;top:-5px;right:-1px}.sn-chrome-one-tab::-moz-focus-inner{border-style:none}.sn-chrome-one-tab:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}:host(:not([dir=rtl])) .sn-chrome-one-tab,:root:not([dir=rtl]) .sn-chrome-one-tab{padding-left:.25rem}:host([dir=rtl]) .sn-chrome-one-tab,:root[dir=rtl] .sn-chrome-one-tab{padding-right:.25rem}:host(:not([dir=rtl])) .sn-chrome-one-tab,:root:not([dir=rtl]) .sn-chrome-one-tab{padding-right:2.25rem}:host([dir=rtl]) .sn-chrome-one-tab,:root[dir=rtl] .sn-chrome-one-tab{padding-left:2.25rem}.sn-chrome-one-tab.-default{height:2.25rem}.sn-chrome-one-tab.is-primary{padding:0 1.75rem 0 1rem}.sn-chrome-one-tab.is-primary .has-presence{display:none}.sn-chrome-one-tab:before{content:\\\"\\\";position:absolute;top:50%;width:.0625rem;height:1.25rem;margin-block-start:-.625rem;background:RGB(var(--mv9-J8ZvTt-vmt-zrk--ktPvZt--krJUfZvWmp-JvjvZ,var(--now-color--neutral-7,135,147,148)))}:host(:not([dir=rtl])) .sn-chrome-one-tab:before,:root:not([dir=rtl]) .sn-chrome-one-tab:before{right:-.0625rem}:host([dir=rtl]) .sn-chrome-one-tab:before,:root[dir=rtl] .sn-chrome-one-tab:before{left:-.0625rem}.sn-chrome-one-tab.is-hover,.sn-chrome-one-tab:hover{z-index:1;color:RGB(var(--mv9-J8ZvTt-vmt-zrk--8vstZ--JvjvZ,var(--now-color--neutral-18,22,27,28)));background:RGB(var(--mv9-J8ZvTt-vmt-zrk--8vstZ--krJUfZvWmp-JvjvZ,var(--now-color--neutral-3,209,214,214)))}.sn-chrome-one-tab:hover:before{display:none}.sn-chrome-one-tab.is-selected{background:RGB(var(--mv9-J8ZvTt-vmt-zrk--A1-1tjtJztp--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255)))}.sn-chrome-one-tab.is-selected.-default:after{content:\\\"\\\";position:absolute;right:0;bottom:-.0625rem;left:0;height:.0625rem;background:RGB(var(--mv9-J8ZvTt-vmt-zrk--A1-1tjtJztp--rPztZ--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255)))}.sn-chrome-one-tab.is-selected:before{display:none}.sn-chrome-one-tab.is-updated.is-selected:before,.sn-chrome-one-tab.is-updated:before{display:block}.sn-chrome-one-tab-content{position:relative;display:inline-flex;overflow:hidden;flex:1 1 auto;align-items:center}:host(:not([dir=rtl])) .sn-chrome-one-tab-content,:root:not([dir=rtl]) .sn-chrome-one-tab-content{padding-left:.25rem}:host([dir=rtl]) .sn-chrome-one-tab-content,:root[dir=rtl] .sn-chrome-one-tab-content{padding-right:.25rem}.sn-chrome-one-tab-content.has-icon,.sn-chrome-one-tab-content.has-presence{flex:0 0 auto;padding-right:0;padding-left:0}:host(:not([dir=rtl])) .sn-chrome-one-tab-content.has-icon,:host(:not([dir=rtl])) .sn-chrome-one-tab-content.has-presence,:root:not([dir=rtl]) .sn-chrome-one-tab-content.has-icon,:root:not([dir=rtl]) .sn-chrome-one-tab-content.has-presence{margin-right:.25rem}:host([dir=rtl]) .sn-chrome-one-tab-content.has-icon,:host([dir=rtl]) .sn-chrome-one-tab-content.has-presence,:root[dir=rtl] .sn-chrome-one-tab-content.has-icon,:root[dir=rtl] .sn-chrome-one-tab-content.has-presence{margin-left:.25rem}:host(:not([dir=rtl])) .sn-chrome-one-tab-content.has-presence,:root:not([dir=rtl]) .sn-chrome-one-tab-content.has-presence{margin-left:-.25rem}:host([dir=rtl]) .sn-chrome-one-tab-content.has-presence,:root[dir=rtl] .sn-chrome-one-tab-content.has-presence{margin-right:-.25rem}:host(:not([dir=rtl])) .sn-chrome-one-tab-content.has-presence,:root:not([dir=rtl]) .sn-chrome-one-tab-content.has-presence{padding-left:.25rem}:host([dir=rtl]) .sn-chrome-one-tab-content.has-presence,:root[dir=rtl] .sn-chrome-one-tab-content.has-presence{padding-right:.25rem}.sn-chrome-one-tab-content.has-presence .sn-presence-dot{position:relative;display:inline-flex;flex:0 0 auto;width:.5rem;height:.5rem;border-radius:50%;background-color:RGB(var(--mv9-J8ZvTt-vmt-zrk--8r1-XZt1tmJt--1m-XZt1tmJt-pvz--krJUfZvWmp-JvjvZ,var(--now-color--neutral-5,172,180,181)))}:host(:not([dir=rtl])) .sn-chrome-one-tab-content.has-presence .sn-presence-dot,:root:not([dir=rtl]) .sn-chrome-one-tab-content.has-presence .sn-presence-dot{left:.02063rem}:host([dir=rtl]) .sn-chrome-one-tab-content.has-presence .sn-presence-dot,:root[dir=rtl] .sn-chrome-one-tab-content.has-presence .sn-presence-dot{right:.02063rem}.sn-chrome-one-tab-content.has-presence .sn-presence-dot.is-hidden{opacity:0}.sn-chrome-one-tab-content.has-presence .sn-presence-dot.is-unsaved{border:1px solid rgb(var(--mv9-j8zvtt-vmt-zrk--8r1-xzt1tmjt--1m-xzt1tmjt-pvz--a1-wm1rstp--kvzptz-jvjvz,var(--now-color--neutral-5,172,180,181)));background:transparent}.sn-chrome-one-tab-content .sn-canvas-tab-icon.is-positive{color:RGB(var(--mv9-J8ZvTt-vmt-zrk--1m-Jrmsr1-zrk-AJvm--A1-Xv1AzAst--JvjvZ,var(--now-color--primary-1,30,133,109)))}.sn-chrome-one-tab-content>span{display:inline-block;overflow:hidden;max-width:100%;white-space:nowrap;text-overflow:ellipsis;word-wrap:normal;position:relative}:host(:not([dir=rtl])) .sn-chrome-one-tab-content>span,:root:not([dir=rtl]) .sn-chrome-one-tab-content>span{left:-.25rem}:host([dir=rtl]) .sn-chrome-one-tab-content>span,:root[dir=rtl] .sn-chrome-one-tab-content>span{right:-.25rem}.sn-chrome-one-tab-close{position:absolute;top:50%;z-index:1;margin-top:-.5rem;border:none;padding:0;cursor:pointer;background:transparent}:host(:not([dir=rtl])) .sn-chrome-one-tab-close,:root:not([dir=rtl]) .sn-chrome-one-tab-close{right:1rem}:host([dir=rtl]) .sn-chrome-one-tab-close,:root[dir=rtl] .sn-chrome-one-tab-close{left:1rem}.sn-chrome-one-tab-close.is-hover,.sn-chrome-one-tab-close:hover{color:RGB(var(--mv9-J8ZvTt-vmt-zrk--Jjv1t--8vstZ--JvjvZ,var(--now-color--primary-1,30,133,109)))}.sn-chrome-one-tab-close::-moz-focus-inner{border-style:none}.sn-chrome-one-tab-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-one-tab.is-master-detail{background:RGB(var(--mv9-J8ZvTt-vmt-zrk--A1-Tr1ztZ-ptzrAj--JvjvZ,var(--now-color--neutral-0,255,255,255)))}.sn-chrome-one-tab.is-master-detail[aria-selected=true]{border-bottom:1px solid rgb(var(--mv9-j8zvtt-vmt-zrk--a1-tr1ztz-ptzraj--rzar-1tjtjztp--kvzptz-kvzzvt-jvjvz,var(--now-color--neutral-7,135,147,148)))}.sn-chrome-tab-preview-container{position:relative;z-index:4000;margin:auto 0}.sn-chrome-tab-preview-container.is-open .sn-chrome-tab-preview{display:block;visibility:visible}.sn-chrome-tab-preview{position:absolute;right:0;z-index:4000;display:flex;visibility:hidden;flex-direction:column;width:14.5rem;height:auto;margin-top:.25rem;border:1px solid rgb(var(--mv9-j8zvtt-zrk-xztsat9--kvzptz-jvjvz,var(--now-color--primary-1,30,133,109)));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);font-size:.75rem;list-style:none;background:RGB(var(--mv9-J8ZvTt-zrk-XZtsAt9--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))))}.sn-chrome-tab-preview.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-tab-preview:focus{outline:none}.sn-chrome-tab-preview-body{display:block}.sn-chrome-tab-preview-body:focus{outline:none}.sn-card{border:none;padding:.75rem 1rem}.sn-card .sn-card--title--name--truncated{max-width:12.5rem;position:relative;overflow:hidden;max-height:2rem;margin-right:-1em;padding-right:1em;line-height:1rem;word-break:break-word}.sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-card .sn-card--table--content{position:relative;overflow:hidden;max-height:2rem;margin-right:-1em;padding-right:1em;line-height:1rem;word-break:break-all}.sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-card--title{position:relative;display:block;overflow:hidden;width:100%;max-height:2rem;margin:.5rem 0 0;font-weight:600;font-size:1rem;line-height:1rem;color:RGB(var(--mv9-1m-JrZp--zAzjt--JvjvZ,var(--now-color--neutral-12,66,80,81)))}.sn-card--title.is-first-child,.sn-card--title.is-only-child,.sn-card--title:first-child,.sn-card--title:only-child{margin:0}.sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-card--title span{display:inline-block;overflow:hidden;max-width:100%;white-space:nowrap;text-overflow:ellipsis;word-wrap:normal}.sn-card--row{position:relative;display:flex;flex-wrap:wrap;width:100%;margin:.5rem 0 0;color:RGB(var(--mv9-1m-JrZp--Zv9--JvjvZ,var(--now-color--neutral-12,66,80,81)))}.sn-card--row.mod-nowrap{flex-wrap:nowrap}.sn-card--row.is-first-child,.sn-card--row:first-child{margin-top:0}.sn-card table{border-collapse:collapse;max-width:100%}.sn-card td{vertical-align:top}.sn-card td:first-of-type{padding:0 .5rem .25rem 0;white-space:nowrap}.sn-card tr:last-of-type td{padding-bottom:0}.sn-chrome-tabs{position:relative;display:inline-flex;width:100%;padding-block-start:.25rem;background:RGB(var(--mv9-J8ZvTt-zrk1--krJUfZvWmp-JvjvZ,var(--now-color--neutral-2,228,230,231)))}.sn-chrome-tabs-dropdown-container .sn-chrome-popover-container{display:inline}.sn-chrome-tabs.-default{border-bottom:1px solid rgb(var(--mv9-j8zvtt-zrk1--ptprwjz--kvzptz-kvzzvt-jvjvz,var(--now-color--neutral-7,135,147,148)));padding-block-start:.25rem;padding-inline-start:.75rem;background:RGB(var(--mv9-J8ZvTt-zrk1--ptPrWjz--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255)))}.sn-chrome-tabs-content{position:relative;display:inline-flex;flex:1 1 auto;align-items:flex-end}.sn-chrome-tabs-content:last-of-type{flex:0 0 auto}.sn-chrome-tabs-group{position:relative;display:inline-flex;flex:0 0 auto;max-width:100%;margin:0;padding:0;list-style:none}.sn-chrome-tabs-btn{position:relative;display:flex;flex:0 0 auto;justify-content:center;align-items:center;border:none;border-top-left-radius:.5rem;border-top-right-radius:.5rem;font-size:1rem;cursor:pointer;color:RGB(var(--now-color--neutral-18,22,27,28));background:transparent;width:2.5rem;height:2.25rem;margin-left:.0625rem}.sn-chrome-tabs-btn.-default{border:1px solid transparent;border-bottom:0}.sn-chrome-tabs-btn.-default:hover{border-color:RGB(var(--now-color--neutral-3,209,214,214))}.sn-chrome-tabs-btn.-default.is-selected{border-color:RGB(var(--now-color--neutral-7,135,147,148))}.sn-chrome-tabs-btn.-overflow{margin:.25rem;border:none}.sn-chrome-tabs-btn.-overflow:hover{color:RGB(var(--now-color--secondary-2,1,89,107));background:RGBA(var(--now-color--secondary-2,1,89,107),.25)}.sn-chrome-tabs-btn.is-hover,.sn-chrome-tabs-btn:hover{z-index:1;background:RGB(var(--now-color--neutral-3,209,214,214))}.sn-chrome-tabs-btn.is-selected{z-index:2;background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-tabs-btn+.sn-chrome-one-tab-close{z-index:2}.sn-chrome-tabs-btn.is-updated{border-color:transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem;box-shadow:1px 1px 100px RGB(var(--now-color--secondary-0,217,235,238)) inset;background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-tabs-btn.is-updated:before{content:\\\"\\\";position:absolute;top:0;right:0;left:0;width:100%;height:.25rem;margin-block-start:0;border-top-left-radius:1rem;border-top-right-radius:1rem;background:RGB(var(--now-color--secondary-1,1,119,142))}.sn-chrome-tabs-btn.is-updated.is-hover,.sn-chrome-tabs-btn.is-updated:hover{box-shadow:1px 1px 100px RGBA(var(--now-color--secondary-1,1,119,142),.5) inset}.sn-chrome-tabs-btn.is-disabled{cursor:default;opacity:.5;pointer-events:none}.sn-chrome-tabs-btn>now-badge{position:absolute;top:-5px;right:-1px}.sn-chrome-tabs-btn::-moz-focus-inner{border-style:none}.sn-chrome-tabs-btn:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-tabs-btn.-default.is-disabled,.sn-chrome-tabs.-default .sn-chrome-tabs-btn.is-disabled{border-color:transparent}.sn-chrome-tabs-btn.-default:not(.is-updated){border-color:transparent;background:transparent}.sn-chrome-tabs-btn.-default:not(.is-updated).is-hover,.sn-chrome-tabs-btn.-default:not(.is-updated):hover{border-color:RGB(var(--mv9-J8ZvTt-zrk1--kzm--ptPrWjz--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)));background:RGB(var(--mv9-J8ZvTt-zrk1--kzm--ptPrWjz--krJUfZvWmp-JvjvZ,var(--now-color--neutral-2,228,230,231)))}.sn-chrome-tabs-btn.-default::-moz-focus-inner{border-style:none}.sn-chrome-tabs-btn.-default:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-tabs-btn.-overflow{width:2rem;height:2rem;margin:.125rem;border-radius:0}:host{position:relative;display:flex;flex-direction:column}.sn-canvas-tabs-container{position:relative;width:100%}.sn-canvas-sub-tabs-container{width:100%}.sn-primary-back-button{padding-block-start:.25rem;padding-block-end:.25rem;padding-inline-start:calc(.25rem + 1rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1));padding-inline-end:calc(.25rem + 1rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}\", \"\"]);\n\n// exports\n","import { t } from 'sn-translate';\n\nimport '@servicenow/now-button';\n\nimport CanvasTabBar from '../internal/canvas-tabbar';\n\nimport {\n\tMAIN_TAB_CLICKED,\n\tMAIN_TAB_CLOSE_CLICKED,\n\tNAV_ITEM_SELECTED,\n\tCLOSE_TAB_MENU_ITEM,\n\tSELECT_TAB,\n\tSUB_TAB_CLOSE_CLICKED,\n\tMODAL_SELECTED\n} from '../../constants/constants';\n\nexport const canvasTabs = (state, { dispatch }) => {\n\tconst {\n\t\ttabsLevel,\n\t\ttabsData,\n\t\ttabsToCloseQueue,\n\t\tstopperPrompt,\n\t\ttabConfig = {},\n\t\tdir\n\t} = state.properties;\n\n\tif (!tabsData || !tabConfig) return null;\n\n\tconst { newTabMenu: newMenu } = tabConfig;\n\n\tconst { closeMenu } = state.menuConf;\n\n\tconst _onClickTab = (tab_id) => {\n\t\tdispatch(MAIN_TAB_CLICKED, { tab_id });\n\t};\n\n\t/** onCloseHandler sets a timeout to dispatch MAIN_TAB_CLOSE_CLICKED.\n\t *  this async processing allows content to handle internal events\n\t *  use case where this matters:  user typing into a text field in a record, where the\n\t *  dirty state is only propagated up to tabs when the text field loses focus\n\t */\n\tconst _onCloseTab = (tab_id) => {\n\t\tconst _onCloseTabHandler = () => {\n\t\t\tdispatch(MAIN_TAB_CLOSE_CLICKED, {\n\t\t\t\toperation: CLOSE_TAB_MENU_ITEM,\n\t\t\t\ttab_id\n\t\t\t});\n\t\t};\n\t\twindow.setTimeout(_onCloseTabHandler, 100);\n\t};\n\n\tconst _onClickSubTabs = (tab_id) => {\n\t\tdispatch(SELECT_TAB, { tab_ids: [...[], tab_id] });\n\t};\n\n\tconst _onCloseSubTab = (tab_id) => {\n\t\tconst _onCloseTabHandler = () => {\n\t\t\tdispatch(SUB_TAB_CLOSE_CLICKED, {\n\t\t\t\ttab_id\n\t\t\t});\n\t\t};\n\t\twindow.setTimeout(_onCloseTabHandler, 100);\n\t};\n\n\tconst _onClickCloseMenuItem = ({ operation, selectedTabId, type }) => {\n\t\tif (type === 'primary') {\n\t\t\tdispatch(MAIN_TAB_CLOSE_CLICKED, {\n\t\t\t\toperation,\n\t\t\t\ttab_id: selectedTabId\n\t\t\t});\n\t\t} else {\n\t\t\tdispatch(SUB_TAB_CLOSE_CLICKED, {\n\t\t\t\toperation,\n\t\t\t\ttab_id: selectedTabId\n\t\t\t});\n\t\t}\n\t};\n\n\tconst _onClickNewMenuItem = (menuItem) => {\n\t\tconst { routeInfo } = menuItem;\n\t\tif (routeInfo) {\n\t\t\tlet _routeInfo = { ...routeInfo };\n\t\t\tdispatch(NAV_ITEM_SELECTED, { ..._routeInfo, title: menuItem.title });\n\t\t}\n\t};\n\n\tconst _onShowModal = (modalID, showModal) => {\n\t\tdispatch(MODAL_SELECTED, { modalId: modalID, showModal: showModal });\n\t};\n\n\tconst _renderBackButton = (drillDowns) => {\n\t\treturn drillDowns && drillDowns.length > 0 ? (\n\t\t\t<now-button-bare\n\t\t\t\tclassName=\"sn-primary-back-button\"\n\t\t\t\ticonStart=\"arrow-left-outline\"\n\t\t\t\tlabel={t('Back')}\n\t\t\t\tsize=\"md\"\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tappend-to-payload={{ drillDowns }}\n\t\t\t/>\n\t\t) : null;\n\t};\n\n\tconst _getDrillDowns = (tabsData, tabId) => {\n\t\treturn tabsData[tabId] && tabsData[tabId].selectedContent\n\t\t\t? tabsData[tabId].selectedContent.drillDowns\n\t\t\t: null;\n\t};\n\n\tconst _renderTabBars = (tabsData) => {\n\t\tif (!tabsData) return;\n\t\tlet canvasTabBars = [];\n\n\t\tlet currNode = tabsData.root;\n\t\tlet depth = 0;\n\n\t\tlet _type = 'primary';\n\t\tlet _className = 'sn-canvas-tabs-container';\n\t\tlet onClickTab = _onClickTab;\n\t\tlet onCloseTab = _onCloseTab;\n\n\t\twhile (currNode) {\n\t\t\tlet currTabList = currNode.tabList.map((tab_id) => tabsData[tab_id]);\n\t\t\tlet currSelectedTabId = currNode.selectedTabId;\n\n\t\t\tif (currSelectedTabId == '-1' || !currTabList || currTabList.length == 0)\n\t\t\t\tbreak;\n\n\t\t\tif (depth > 0) {\n\t\t\t\t_type = 'default';\n\t\t\t\t_className = 'sn-canvas-sub-tabs-container';\n\t\t\t\tonClickTab = _onClickSubTabs;\n\t\t\t\tonCloseTab = _onCloseSubTab;\n\t\t\t}\n\t\t\tconst drillDowns = _getDrillDowns(tabsData, currSelectedTabId);\n\n\t\t\tcanvasTabBars.push(\n\t\t\t\t<nav\n\t\t\t\t\tclassName={_className}\n\t\t\t\t\taria-label={\n\t\t\t\t\t\ttabsLevel == 1 || tabsLevel == '1' ? t('Tabs') : t('Sub Tabs')\n\t\t\t\t\t}>\n\t\t\t\t\t<CanvasTabBar\n\t\t\t\t\t\tlevel={depth + 1}\n\t\t\t\t\t\tfocusedTabIndex={state.focusedTabIndex[depth + 1]}\n\t\t\t\t\t\tdispatchFn={dispatch}\n\t\t\t\t\t\ttype={_type}\n\t\t\t\t\t\ttabsMaxWidth={state.maxWidth}\n\t\t\t\t\t\ttabsMaxOpen={state.tabsMaxOpen}\n\t\t\t\t\t\tstopperPrompt={stopperPrompt}\n\t\t\t\t\t\ttabsToCloseQueue={tabsToCloseQueue}\n\t\t\t\t\t\tselectedTabId={currSelectedTabId}\n\t\t\t\t\t\ttabList={currTabList}\n\t\t\t\t\t\tnewMenu={newMenu}\n\t\t\t\t\t\tcloseMenu={closeMenu}\n\t\t\t\t\t\tonClickTab={onClickTab}\n\t\t\t\t\t\tonCloseTab={onCloseTab}\n\t\t\t\t\t\tonNewTab={_onClickNewMenuItem}\n\t\t\t\t\t\tonMenuClose={_onClickCloseMenuItem}\n\t\t\t\t\t\tonShowModal={_onShowModal}\n\t\t\t\t\t\tdir={dir}\n\t\t\t\t\t/>\n\t\t\t\t\t{_renderBackButton(drillDowns)}\n\t\t\t\t</nav>\n\t\t\t);\n\t\t\tif (tabsLevel == 1 || tabsLevel == '1') break;\n\n\t\t\tcurrNode = tabsData[currSelectedTabId];\n\t\t\tdepth++;\n\t\t}\n\t\tif (tabsLevel == 2 || tabsLevel == '2') canvasTabBars.shift();\n\t\treturn canvasTabBars;\n\t};\n\n\treturn _renderTabBars(tabsData);\n};\n","export { default } from './canvasTabBar';\n","import '@servicenow/now-icon';\nimport '@servicenow/now-badge';\nimport '@servicenow/now-popover';\nimport '@servicenow/now-modal';\nimport { t } from 'sn-translate';\n\nimport CanvasTab from './subcomponents/canvas-tab';\nimport * as chromeTabsUtils from './utils';\nimport './subcomponents/sn-canvas-popover-content';\nimport './subcomponents/sn-canvas-tabs-menu';\nimport {\n\tMAIN_TAB_NEW_ALERT_CLEARED,\n\tTABS_CLOSE_CONFIRMED,\n\tTABS_CLOSE_CANCELLED\n} from '../../../constants/constants';\n\n/* schema : {\n\tdispatchFn: function, // Seismic dispatch function\n\tlevel: 0, //1 //2\n\tfocusedTabIndex: -1,\n\tselectedTabId: {},\n\tparentTabId: {},\n\ttabList: [],\n\ttype: {},\n\tnewMenu: {},\n\tcloseMenu: {},\n\tonNewTab: {},\n\tonClickTab: {},\n\tonCloseTab: {},\n\tonMenuClose: {},\n\ttabsMaxWidth: {}\n}*/\nexport default (props) => {\n\tlet showOverflowMenu = false;\n\tlet overflowDisabled = chromeTabsUtils.getOverflowDisabled(props.tabList);\n\tlet hasOverflowUpdate = false;\n\tlet badgeCount = 0;\n\n\tconst {\n\t\ttabsMaxOpen,\n\t\tstopperPrompt,\n\t\ttabsToCloseQueue,\n\t\ttabList,\n\t\tparentTabId,\n\t\ttype,\n\t\tonCloseTab,\n\t\tselectedTabId,\n\t\tonClickTab,\n\t\tnewMenu,\n\t\tonNewTab,\n\t\tfocusedTabIndex,\n\t\tonShowModal,\n\t\tdir\n\t} = props;\n\n\tconst visibleAndOverflowList = chromeTabsUtils.buildVisibleAndOverflowList(\n\t\ttabList,\n\t\tprops.tabsMaxWidth,\n\t\tselectedTabId\n\t);\n\n\tconst { visibleList, overflowList } = visibleAndOverflowList;\n\n\tconst _transformedMenuItems = chromeTabsUtils.transformCloseMenuItems(\n\t\tprops.closeMenu,\n\t\ttabList,\n\t\tselectedTabId\n\t);\n\tconst optionItems = _transformedMenuItems.concat(overflowList);\n\tlet _meatBallPopOverRef = undefined,\n\t\t_newMenuPopOverRef = undefined;\n\tconst _hidePopover = (type) => {\n\t\tif (type === 'newMenu') {\n\t\t\tif (!_newMenuPopOverRef) return;\n\t\t\t_newMenuPopOverRef.opened = false;\n\t\t} else {\n\t\t\tif (!_meatBallPopOverRef) return;\n\t\t\t_meatBallPopOverRef.opened = false;\n\t\t}\n\t};\n\n\tconst _propagateTabFocusUpdate = (level, tabIndex) => {\n\t\tprops.dispatchFn('CANVAS_TAB_BAR#FOCUSED_TAB_SET', {\n\t\t\ttabIndex,\n\t\t\tlevel\n\t\t});\n\t};\n\n\tconst _onClickTab = (tab_id, index, e) => {\n\t\tonClickTab(tab_id, e);\n\t\t_propagateTabFocusUpdate(props.level, index);\n\t\t_hidePopover();\n\t};\n\n\tconst _onClickMenuItem = (menuItem, idx, e) => {\n\t\t_hidePopover();\n\t\tconst { onMenuClose, onClickTab } = props;\n\t\tif (menuItem.itemType === 'menu') {\n\t\t\tonMenuClose({\n\t\t\t\toperation: menuItem.name,\n\t\t\t\tselectedTabId,\n\t\t\t\ttype: props.type\n\t\t\t});\n\t\t} else {\n\t\t\tconst { tab_id } = menuItem;\n\t\t\tonClickTab(tab_id, e);\n\t\t}\n\t};\n\n\tconst _onCloseMenuItem = (menuItem, e) => {\n\t\tconst { onCloseTab } = props;\n\t\tconst { tab_id } = menuItem;\n\t\tonCloseTab(tab_id, e);\n\t\t_hidePopover();\n\t};\n\n\tconst _onNewTab = (menuItem) => {\n\t\tonNewTab(menuItem);\n\t\t_hidePopover('newMenu');\n\t};\n\n\tconst _handlePopoverInsert = ({ elm }) => {\n\t\tif (!elm) return;\n\t\telm.addEventListener(\n\t\t\t'NOW_POPOVER#OPENED_SET',\n\t\t\t({\n\t\t\t\tdetail: {\n\t\t\t\t\tpayload: { value }\n\t\t\t\t}\n\t\t\t}) => {\n\t\t\t\telm.opened = value;\n\t\t\t\tconst button = elm.firstElementChild;\n\t\t\t\tif (button) button.setAttribute('aria-expanded', value);\n\t\t\t}\n\t\t);\n\t};\n\n\tconst _handlePopoverDestroy = ({ elm }) => {\n\t\tif (!elm) return;\n\t\telm.removeEventListener(\n\t\t\t'NOW_POPOVER#OPENED_SET',\n\t\t\t({\n\t\t\t\tdetail: {\n\t\t\t\t\tpayload: { value }\n\t\t\t\t}\n\t\t\t}) => {\n\t\t\t\telm.opened = value;\n\t\t\t\tconst triggerBtn = elm.firstElementChild;\n\t\t\t\tif (triggerBtn) triggerBtn.setAttribute('aria-expanded', value);\n\t\t\t}\n\t\t);\n\t};\n\n\tconst _renderMenuPopover = (menuItems, onNewTab) => {\n\t\tconst tooltipContent = t('Add');\n\t\tconst ariaLabel = tooltipContent;\n\t\treturn (\n\t\t\t<now-popover\n\t\t\t\thide-tail\n\t\t\t\tpositions={[{ target: 'bottom-end', content: 'top-end' }]}\n\t\t\t\tmanage-opened\n\t\t\t\tref={(_elm) => (_newMenuPopOverRef = _elm)}\n\t\t\t\thook-insert={_handlePopoverInsert}\n\t\t\t\thook-destroy={_handlePopoverDestroy}>\n\t\t\t\t<button\n\t\t\t\t\tslot=\"trigger\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"sn-chrome-tabs-btn\"\n\t\t\t\t\tid=\"chrome-add-new-button\"\n\t\t\t\t\taria-haspopup=\"menu\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\taria-label={ariaLabel}\n\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\tchromeTabsUtils.insertTooltipEl(elm, tooltipContent)\n\t\t\t\t\t}\n\t\t\t\t\thook-destroy={({ elm }) => chromeTabsUtils.removeTooltipEl(elm)}>\n\t\t\t\t\t<now-icon icon=\"plus-outline\" />\n\t\t\t\t</button>\n\t\t\t\t<sn-canvas-tabs-menu\n\t\t\t\t\tslot=\"content\"\n\t\t\t\t\tmenuItems={menuItems}\n\t\t\t\t\tonNewTab={onNewTab}\n\t\t\t\t/>\n\t\t\t</now-popover>\n\t\t);\n\t};\n\n\tconst _renderNewMenu = (newMenu, onNewTab, type) => {\n\t\tif (!newMenu || !Array.isArray(newMenu) || newMenu.length === 0)\n\t\t\treturn null;\n\t\tif (type !== 'primary') return null;\n\n\t\tlet classname = 'sn-chrome-tabs-btn';\n\t\tconst buttonId = 'chrome-add-new-button';\n\t\tconst tooltipContent = t('Add {0}', newMenu[0].label);\n\t\tconst ariaLabel = tooltipContent;\n\t\tif (newMenu.length > 1) return _renderMenuPopover(newMenu, onNewTab);\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={classname}\n\t\t\t\ton-click={() => onNewTab(newMenu[0])}\n\t\t\t\tid={buttonId}\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\tchromeTabsUtils.insertTooltipEl(elm, tooltipContent)\n\t\t\t\t}\n\t\t\t\thook-destroy={({ elm }) => chromeTabsUtils.removeTooltipEl(elm)}>\n\t\t\t\t<now-icon component-id={buttonId} icon=\"plus-outline\" />\n\t\t\t</button>\n\t\t);\n\t};\n\n\t/** renderer for modal used when the user requests a new tab that goes beyond configured limit */\n\tconst _renderTabOpenAlert = (tabsMaxOpen, stopperPrompt) => {\n\t\tconst openDialog = stopperPrompt && stopperPrompt.request == true;\n\t\tconst title = stopperPrompt ? stopperPrompt.title : t('Max Tab Reached');\n\t\tconst warningMessage = stopperPrompt\n\t\t\t? stopperPrompt.message\n\t\t\t: t(\n\t\t\t\t\t'You have reached the max number of tabs you can have open at one time. Close tabs in order to open more.'\n\t\t\t  );\n\t\tconst buttonTitle = stopperPrompt\n\t\t\t? stopperPrompt.buttonTitle\n\t\t\t: t('Dismiss');\n\t\treturn (\n\t\t\t<now-modal\n\t\t\t\topened={openDialog}\n\t\t\t\tsize=\"sm\"\n\t\t\t\theader-label={title}\n\t\t\t\tcontent={warningMessage}\n\t\t\t\tmanageOpened\n\t\t\t\tfooter-actions={[\n\t\t\t\t\t{\n\t\t\t\t\t\tvariant: 'primary',\n\t\t\t\t\t\tlabel: buttonTitle,\n\t\t\t\t\t\tclickActionType: MAIN_TAB_NEW_ALERT_CLEARED\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t/>\n\t\t);\n\t};\n\n\t/** renderer for modal used when a user requests to close a dirty tab */\n\tconst _renderTabCloseConfirmation = (tabsToCloseQueue) => {\n\t\tlet openDialog = false;\n\t\tif (\n\t\t\ttabsToCloseQueue &&\n\t\t\ttabsToCloseQueue.tabList &&\n\t\t\ttabsToCloseQueue.tabList[0]\n\t\t) {\n\t\t\tconst firstTabInQueue = tabsToCloseQueue.tabList[0];\n\t\t\topenDialog = firstTabInQueue.isDirty && !firstTabInQueue.dirtyModalId;\n\n\t\t\tconst showCustomConfirmation =\n\t\t\t\tfirstTabInQueue.isDirty &&\n\t\t\t\tfirstTabInQueue.dirtyModalId &&\n\t\t\t\tfirstTabInQueue.confirmationStatus === 'pending';\n\t\t\tconst showCustomWarning =\n\t\t\t\tfirstTabInQueue.hasWarning &&\n\t\t\t\tfirstTabInQueue.warningModalId &&\n\t\t\t\tfirstTabInQueue.confirmationStatus === 'pending';\n\n\t\t\tif (showCustomConfirmation) {\n\t\t\t\tonShowModal(firstTabInQueue.dirtyModalId, true);\n\t\t\t\treturn;\n\t\t\t} else if (!openDialog && showCustomWarning) {\n\t\t\t\tonShowModal(firstTabInQueue.warningModalId, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tconst title = t('Close Tab');\n\t\tconst warningMessage = t(\n\t\t\t'Closing this tab will cause your changes to be lost. Do you want to continue?'\n\t\t);\n\t\treturn (\n\t\t\t<now-modal\n\t\t\t\topened={openDialog}\n\t\t\t\tsize=\"sm\"\n\t\t\t\theader-label={title}\n\t\t\t\tcontent={warningMessage}\n\t\t\t\tmanageOpened\n\t\t\t\tfooter-actions={[\n\t\t\t\t\t{\n\t\t\t\t\t\tvariant: 'primary',\n\t\t\t\t\t\tlabel: t('Continue'),\n\t\t\t\t\t\tclickActionType: TABS_CLOSE_CONFIRMED\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvariant: 'secondary',\n\t\t\t\t\t\tlabel: t('Cancel'),\n\t\t\t\t\t\tclickActionType: TABS_CLOSE_CANCELLED\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst _renderCounterBadge = () => {\n\t\tlet counterBadge = null;\n\t\tlet overflowLength = overflowList.length;\n\t\tif (overflowLength > 0)\n\t\t\tcounterBadge = (\n\t\t\t\t<now-badge\n\t\t\t\t\tround\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tstatus=\"critical\"\n\t\t\t\t\tvalue={overflowLength}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t/>\n\t\t\t);\n\t\treturn counterBadge;\n\t};\n\n\tconst overflowLabel = t('More');\n\tconst overflowTooltipContent = overflowDisabled ? null : overflowLabel;\n\tconst overflowClassNames = chromeTabsUtils.buildOverflowStyle(\n\t\ttype,\n\t\toverflowDisabled,\n\t\tbadgeCount,\n\t\thasOverflowUpdate\n\t);\n\tconst overflowButtonId = `ellipsis-h ${type}`;\n\n\tconst _renderPopover = (_optionItems) => (\n\t\t<now-popover\n\t\t\thide-tail\n\t\t\tpositions={[\n\t\t\t\t{ target: 'bottom-end', content: 'top-end' },\n\t\t\t\t{ target: 'bottom-center', content: 'top-end' },\n\t\t\t\t{ target: 'bottom-start', content: 'top-end' }\n\t\t\t]}\n\t\t\tmanage-opened\n\t\t\tref={(_elm) => (_meatBallPopOverRef = _elm)}\n\t\t\thook-insert={_handlePopoverInsert}\n\t\t\thook-update={({ elm }) => {\n\t\t\t\tsetTimeout(() => elm && elm.refit(), 200);\n\t\t\t}}\n\t\t\thook-destroy={_handlePopoverDestroy}>\n\t\t\t<button\n\t\t\t\tslot=\"trigger\"\n\t\t\t\tdisabled={overflowDisabled}\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={overflowClassNames}\n\t\t\t\tid={overflowButtonId}\n\t\t\t\taria-label={overflowLabel}\n\t\t\t\taria-haspopup=\"menu\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-controls={showOverflowMenu ? 'popover-body-2' : null}\n\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\tchromeTabsUtils.insertTooltipEl(elm, overflowTooltipContent)\n\t\t\t\t}\n\t\t\t\thook-update={({ elm }) => {\n\t\t\t\t\tchromeTabsUtils.removeTooltipEl(elm); // safe-guard against multipe tooltips\n\t\t\t\t\tchromeTabsUtils.insertTooltipEl(elm, overflowTooltipContent);\n\t\t\t\t}}\n\t\t\t\thook-destroy={({ elm }) => chromeTabsUtils.removeTooltipEl(elm)}>\n\t\t\t\t<now-icon component-id={overflowButtonId} icon={'ellipsis-h-fill'} />\n\t\t\t\t{_renderCounterBadge()}\n\t\t\t</button>\n\t\t\t<sn-canvas-popover-content\n\t\t\t\tslot=\"content\"\n\t\t\t\toptionItems={_optionItems}\n\t\t\t\tonItemClick={_onClickMenuItem}\n\t\t\t\tonItemClose={_onCloseMenuItem}\n\t\t\t/>\n\t\t</now-popover>\n\t);\n\n\tconst _renderTabs = (\n\t\t_visibleList,\n\t\t_type,\n\t\t_selectedTabId,\n\t\t_focusedTabIndex\n\t) => (\n\t\t<ul role=\"tablist\" className=\"sn-chrome-tabs-group\">\n\t\t\t{_visibleList.map((t, i) => {\n\t\t\t\tconst { tab_id } = t;\n\t\t\t\tconst key = parentTabId ? `${parentTabId}_${tab_id}` : tab_id;\n\t\t\t\tconst isHighlighted =\n\t\t\t\t\t_focusedTabIndex === i ||\n\t\t\t\t\t(_focusedTabIndex == -1 ? tab_id === _selectedTabId : false);\n\t\t\t\treturn (\n\t\t\t\t\t<CanvasTab\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tcomponent-id={tab_id}\n\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\ttab={t}\n\t\t\t\t\t\ttabType={type}\n\t\t\t\t\t\tisSelected={tab_id === _selectedTabId}\n\t\t\t\t\t\tisHighlighted={isHighlighted}\n\t\t\t\t\t\tdir={dir}\n\t\t\t\t\t\tonCloseTab={onCloseTab}\n\t\t\t\t\t\tonClickTab={_onClickTab}\n\t\t\t\t\t\tonKeyUp={onClickTab}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n\n\treturn (\n\t\t<div className={'sn-chrome-tabs chromeTabs -' + type}>\n\t\t\t<div className=\"sn-chrome-tabs-content tab-list\">\n\t\t\t\t{_renderTabs(visibleList, type, selectedTabId, focusedTabIndex)}\n\t\t\t\t{_renderNewMenu(newMenu, _onNewTab, type)}\n\t\t\t\t{_renderTabOpenAlert(tabsMaxOpen, stopperPrompt)}\n\t\t\t\t{_renderTabCloseConfirmation(tabsToCloseQueue)}\n\t\t\t</div>\n\t\t\t<div className=\"sn-chrome-tabs-content close-option\">\n\t\t\t\t{_renderPopover(optionItems)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","export { default } from './canvasTab';\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport '@servicenow/now-icon';\nimport '@servicenow/now-badge';\nimport '@servicenow/now-tooltip';\nimport '@servicenow/now-popover';\n\nimport { createRef } from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport isEmpty from 'lodash/isEmpty';\nimport { getCenterPositioning } from './canvas-tab-preview.util';\nimport * as chromeTabsUtils from '../../utils';\nimport { handleRtlFn } from '../../../../../utils/rtl';\nlet showTabPreviewTimer;\n\nconst _buildClassName = (\n\tisSelected,\n\ttype,\n\tdisabled,\n\thasUpdate,\n\tisPrimaryTab = false\n) => {\n\ttype = type === 'primary' ? 'meta' : type;\n\tlet tmpClassList = ['sn-chrome-one-tab', `-${type}`];\n\tif (isSelected) tmpClassList.push('is-selected');\n\tif (disabled) tmpClassList.push('is-disabled');\n\tif (hasUpdate) tmpClassList.push('is-updated');\n\tif (isPrimaryTab) tmpClassList.push('is-primary');\n\treturn tmpClassList.join(' ');\n};\n\nconst _move = (elm) => (next) => {\n\tif (!elm) return;\n\tlet currentId = elm.id;\n\tif (!currentId) {\n\t\tcurrentId = elm.parentElement && elm.parentElement.firstElementChild.id;\n\t}\n\tconst containerElm = elm.parentElement && elm.parentElement.parentElement;\n\tif (!containerElm) return;\n\tconst children = Array.from(containerElm.children || []);\n\tconst focusedElmIndex = children.findIndex(\n\t\t(e) => e.firstElementChild && e.firstElementChild.id === currentId\n\t);\n\tif (focusedElmIndex === -1) return;\n\tconst toBeFocusedIndex = next(focusedElmIndex, children.length);\n\tif (toBeFocusedIndex < 0 || toBeFocusedIndex >= children.length) return;\n\tif (!children[toBeFocusedIndex].firstElementChild) return;\n\tchildren[toBeFocusedIndex].firstElementChild.focus();\n};\n\nconst _moveLeft = (elm) =>\n\t_move(elm)((index, length) =>\n\t\tindex === 0 ? length - 1 : (index - 1) % length\n\t);\nconst _moveRight = (elm) => _move(elm)((index, length) => (index + 1) % length);\n\nexport default (props) => {\n\tconst { tab, tabType, isSelected, isHighlighted } = props;\n\tconst {\n\t\ttab_id,\n\t\tstyle,\n\t\ttooltipContent,\n\t\ttooltipPosition,\n\t\ttitle,\n\t\ttable,\n\t\tdisabled,\n\t\thasUpdate,\n\t\ticonStatus,\n\t\tcanClose = true,\n\t\ticon,\n\t\tisDirty,\n\t\ttooltipPreview = {},\n\t\tsize\n\t} = tab;\n\n\tconst { primaryTitle, secondaryContent } = tooltipPreview;\n\n\tconst shouldRenderTabPreview = !isEmpty(tooltipPreview);\n\n\tconst tabRef = createRef();\n\tconst tabPreviewRef = createRef();\n\n\tlet classname = _buildClassName(\n\t\tisSelected,\n\t\ttabType,\n\t\tdisabled,\n\t\thasUpdate,\n\t\ttab.isPrimaryTab\n\t);\n\n\t/**\n\t * Add event listeners to the chrome tab container. This is so we do not need to create a new seismic component,\n\t * and handle styles related events in a functional component.\n\t *\n\t * @param {HTMLElement} elm\n\t */\n\tconst addEventListener = (elm) => {\n\t\tif (!elm) return;\n\n\t\tconst applyStyles = (element, styles) => {\n\t\t\tfor (let rule in styles) {\n\t\t\t\telement.style[rule] = styles[rule];\n\t\t\t}\n\t\t};\n\n\t\telm.addEventListener('CANVAS_TAB#MOUSE_ENTER', ({ detail }) => {\n\t\t\tconst { containerStyle } = detail;\n\t\t\t// Tightly coupled with the dom structure of _renderTabPreview\n\n\t\t\tlet tabPreviewContainer = elm.querySelector(\n\t\t\t\t'.sn-chrome-tab-preview-container'\n\t\t\t);\n\t\t\tlet tabPreview = elm.querySelector('.sn-chrome-tab-preview ');\n\t\t\tif (tabPreviewContainer && tabPreview) {\n\t\t\t\ttabPreviewContainer.classList.add('is-open');\n\t\t\t\tapplyStyles(tabPreview, containerStyle);\n\t\t\t}\n\t\t});\n\n\t\telm.addEventListener('CANVAS_TAB#MOUSE_LEAVE', () => {\n\t\t\t// Tightly coupled with the dom structure of _renderTabPreview\n\t\t\tlet tabPreviewContainer = elm.querySelector(\n\t\t\t\t'.sn-chrome-tab-preview-container'\n\t\t\t);\n\t\t\tif (tabPreviewContainer) {\n\t\t\t\ttabPreviewContainer.classList.remove('is-open');\n\t\t\t}\n\t\t});\n\t};\n\n\tconst _clearPopoverTimers = () => {\n\t\tif (showTabPreviewTimer) clearTimeout(showTabPreviewTimer);\n\t};\n\n\tconst _showFormPreview = () => {\n\t\t_clearPopoverTimers();\n\n\t\tif (!isSelected) {\n\t\t\tconst containerStyle = getCenterPositioning(\n\t\t\t\ttabRef.current,\n\t\t\t\ttabPreviewRef.current\n\t\t\t);\n\t\t\tconst event = new CustomEvent('CANVAS_TAB#MOUSE_ENTER', {\n\t\t\t\tdetail: { containerStyle }\n\t\t\t});\n\n\t\t\tshowTabPreviewTimer = setTimeout(() => {\n\t\t\t\ttabRef.current.dispatchEvent(event);\n\t\t\t}, 100);\n\t\t}\n\t};\n\n\tconst _hideFormPreview = () => {\n\t\t_clearPopoverTimers();\n\t\tconst event = new Event('CANVAS_TAB#MOUSE_LEAVE');\n\t\ttabRef.current.dispatchEvent(event);\n\t};\n\n\tconst _onMouseEnter = () => {\n\t\t_showFormPreview();\n\t};\n\n\tconst _onMouseLeave = () => {\n\t\t_hideFormPreview();\n\t};\n\n\tconst _onClick = (e) => {\n\t\tconst { index, tab } = props;\n\t\t_hideFormPreview();\n\t\tprops.onClickTab(tab.tab_id, index, e);\n\t};\n\n\tconst _moveNext = handleRtlFn(_moveRight, _moveLeft, props.dir);\n\tconst _movePrevious = handleRtlFn(_moveLeft, _moveRight, props.dir);\n\n\tconst _onKeyUp = (e) => {\n\t\tswitch (e.keyCode) {\n\t\t\tcase 13: // enter\n\t\t\tcase 32: // space\n\t\t\t\tprops.onKeyUp(props.tab.tab_id, e);\n\t\t\t\tbreak;\n\t\t\tcase 37: // left arrow\n\t\t\t\t_movePrevious(e.target);\n\t\t\t\tbreak;\n\t\t\tcase 39: // right arrow\n\t\t\t\t_moveNext(e.target);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tconst _onClose = (e) => {\n\t\te.stopPropagation();\n\t\tconst { tab, onCloseTab } = props;\n\t\tonCloseTab(tab.tab_id, e);\n\t};\n\n\tconst _insertTooltipEl = (el, content) => {\n\t\tif (shouldRenderTabPreview || isSelected) return;\n\t\tchromeTabsUtils.insertTooltipEl(el, content);\n\t};\n\n\tconst _renderStatusIndicator = () => {\n\t\tconst indicator = isDirty ? 'unsaved' : 'hidden';\n\t\treturn (\n\t\t\t<div className=\"sn-chrome-one-tab-content has-presence\">\n\t\t\t\t<span className={'sn-presence-dot is-' + indicator} />\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst _renderIcon = () => {\n\t\tif (!icon) return;\n\n\t\treturn (\n\t\t\t<div className={'sn-chrome-one-tab-content has-icon'}>\n\t\t\t\t<now-icon\n\t\t\t\t\tcomponent-id={tab_id + '__session-type'}\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t'sn-canvas-tab-icon': true,\n\t\t\t\t\t\t'is-positive': iconStatus === 'active'\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst _renderCloseBtn = (tab_id, title) => {\n\t\tconst tooltip = t('Close Tab {0}', title);\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"sn-chrome-one-tab-close\"\n\t\t\t\taria-label={tooltip}\n\t\t\t\ton-click={_onClose}\n\t\t\t\ton-keyup={(e) =>\n\t\t\t\t\te.keyCode == 13 || e.keyCode == 32 ? _onClose(e) : _onKeyUp(e)\n\t\t\t\t}\n\t\t\t\ton-mouseenter={() =>\n\t\t\t\t\tchromeTabsUtils.removeTooltipEl(tabRef && tabRef.current)\n\t\t\t\t}\n\t\t\t\ton-mouseleave={() => _insertTooltipEl(tabRef && tabRef.current, title)}\n\t\t\t\thook-insert={({ elm }) => chromeTabsUtils.insertTooltipEl(elm, tooltip)}\n\t\t\t\thook-update={({ elm }) => {\n\t\t\t\t\tchromeTabsUtils.removeTooltipEl(elm);\n\t\t\t\t\tchromeTabsUtils.insertTooltipEl(elm, tooltip);\n\t\t\t\t}}\n\t\t\t\thook-destroy={({ elm }) => chromeTabsUtils.removeTooltipEl(elm)}>\n\t\t\t\t<now-icon\n\t\t\t\t\tcomponent-id={'close-tab-' + tab_id}\n\t\t\t\t\ticon=\"close-outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t/>\n\t\t\t</button>\n\t\t);\n\t};\n\n\tconst _renderTabPreview = () => {\n\t\tif (!shouldRenderTabPreview) return null;\n\n\t\treturn (\n\t\t\t<div className=\"sn-chrome-tab-preview-container\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"sn-chrome-tab-preview has-card hoverEnabled\"\n\t\t\t\t\tref={tabPreviewRef}>\n\t\t\t\t\t<div className=\"sn-chrome-tab-preview-body\">\n\t\t\t\t\t\t<div className=\"sn-card\">\n\t\t\t\t\t\t\t{primaryTitle ? (\n\t\t\t\t\t\t\t\t<div className=\"sn-card--row\">\n\t\t\t\t\t\t\t\t\t<div className=\"sn-card--title\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"sn-card--title--name\">\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"sn-card--title--name--truncated\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryTitle}\n\t\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{secondaryContent && secondaryContent.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className=\"sn-card--row\">\n\t\t\t\t\t\t\t\t\t<table className=\"sn-card--table\">\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{secondaryContent.map(({ fieldLabel, displayValue }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={fieldLabel} className=\"sn-card--table--row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"sn-card--table--cell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sn-card--table--content\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{fieldLabel}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"sn-card--table--cell\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sn-card--table--content\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{displayValue}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst tabTitle = title || (table ? t('Loading...') : '');\n\treturn (\n\t\t<li\n\t\t\tclassName=\"sn-chrome-one-tab-container\"\n\t\t\tstyle={style}\n\t\t\ttooltip={tooltipContent}\n\t\t\ttooltip-position={tooltipPosition}\n\t\t\thook-insert={({ elm }) => {\n\t\t\t\taddEventListener(elm);\n\t\t\t\t_insertTooltipEl(elm, title);\n\t\t\t}}\n\t\t\thook-update={({ elm }) => {\n\t\t\t\tif (isSelected) chromeTabsUtils.removeTooltipEl(elm);\n\t\t\t\telse\n\t\t\t\t\t!shouldRenderTabPreview &&\n\t\t\t\t\t\tchromeTabsUtils.insertTooltipEl(elm, title);\n\t\t\t}}\n\t\t\tref={tabRef}>\n\t\t\t<a\n\t\t\t\trole=\"tab\"\n\t\t\t\taria-selected={isSelected ? 'true' : 'false'}\n\t\t\t\taria-label={tabTitle}\n\t\t\t\thook-insert={({ elm }) => elm && isHighlighted && elm.focus()}\n\t\t\t\tid={tab_id}\n\t\t\t\tclassName={classname}\n\t\t\t\tstyle={size ? { width: size } : {}}\n\t\t\t\ttabIndex={isSelected ? '0' : '-1'}\n\t\t\t\ton-click={_onClick}\n\t\t\t\ton-keyup={_onKeyUp}\n\t\t\t\ton-mouseenter={_onMouseEnter}\n\t\t\t\ton-mouseleave={_onMouseLeave}>\n\t\t\t\t{_renderStatusIndicator()}\n\t\t\t\t{_renderIcon()}\n\t\t\t\t<div className=\"sn-chrome-one-tab-content\">\n\t\t\t\t\t<span>{tabTitle}</span>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t\t{canClose ? _renderCloseBtn(tab_id, title) : null}\n\t\t\t{_renderTabPreview()}\n\t\t</li>\n\t);\n};\n","const LEFT = 'left';\nconst BOTTOM = 'bottom';\nconst TOP = 'top';\nconst RIGHT = 'right';\nconst AUTO = 'auto';\n\nconst valToPx = (val) => `${val}px`;\n\nexport function getCenterPositioning(\n\ttarget,\n\ttooltip,\n\toffset = 5,\n\tplacement = BOTTOM\n) {\n\tif (!target || !tooltip) return;\n\n\tconst targetRect = target.getBoundingClientRect();\n\tconst tooltipRect = tooltip.getBoundingClientRect();\n\n\tlet horizontalCenterOffset = (targetRect.width - tooltipRect.width) / 2;\n\tlet verticalCenterOffset = (targetRect.height - tooltipRect.height) / 2;\n\tlet targetLeft = targetRect.left;\n\tlet targetTop = targetRect.top;\n\tconst OFFSET = offset;\n\n\tlet tooltipLeft, tooltipTop;\n\n\tswitch (placement || TOP) {\n\t\tcase TOP:\n\t\t\ttooltipLeft = valToPx(targetLeft + horizontalCenterOffset);\n\t\t\ttooltipTop = valToPx(targetTop - tooltipRect.height - OFFSET);\n\t\t\tbreak;\n\t\tcase BOTTOM:\n\t\t\ttooltipTop = valToPx(targetRect.bottom + OFFSET);\n\t\t\ttooltipLeft = valToPx(targetLeft + horizontalCenterOffset);\n\t\t\tbreak;\n\t\tcase RIGHT:\n\t\t\ttooltipLeft = valToPx(targetLeft + targetRect.width + OFFSET);\n\t\t\ttooltipTop = valToPx(targetTop + verticalCenterOffset);\n\t\t\tbreak;\n\t\tcase LEFT:\n\t\t\ttooltipLeft = valToPx(targetLeft - tooltipRect.width - OFFSET);\n\t\t\ttooltipTop = valToPx(targetTop + verticalCenterOffset);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tlet top = tooltipTop;\n\tlet left = tooltipLeft;\n\tlet right = AUTO;\n\tlet bottom;\n\n\t//reposition tooltip if it doesn't fit in the viewport.\n\t//this reposition does not work for all cases right now. It will only check for the opposite case to be true.\n\tif (placement === TOP && targetRect.top <= tooltipRect.height + OFFSET) {\n\t\ttop = targetRect.bottom + OFFSET;\n\t\tbottom = AUTO;\n\t}\n\n\tif (\n\t\tplacement === BOTTOM &&\n\t\twindow.innerHeight - targetRect.bottom <= tooltipRect.height + OFFSET\n\t) {\n\t\ttop = valToPx(targetTop - tooltipRect.height - OFFSET);\n\t\tbottom = AUTO;\n\t}\n\n\tif (placement === LEFT && targetRect.left <= tooltipRect.width + OFFSET) {\n\t\tleft = valToPx(targetLeft + targetRect.width + OFFSET);\n\t\tright = AUTO;\n\t}\n\n\tif (\n\t\tplacement === RIGHT &&\n\t\ttargetRect.right - window.innerWidth <= tooltipRect.width + OFFSET\n\t) {\n\t\tleft = valToPx(targetLeft - tooltipRect.width - OFFSET);\n\t\tright = AUTO;\n\t}\n\n\treturn {\n\t\ttop,\n\t\tleft,\n\t\tright,\n\t\tbottom\n\t};\n}\n","'use strict';\nimport {\n\tCLOSE_TAB_MENU_ITEM,\n\tCLOSE_OTHER_TABS_MENU_ITEM,\n\tCLOSE_ALL_TABS_MENU_ITEM\n} from '../../../../constants/constants';\n\nexport function getOverflowDisabled(tabList) {\n\tconst { length } = tabList;\n\treturn length == 0 || (length === 1 && !tabList[0].canClose);\n}\n\nexport function transformCloseMenuItems(closeMenu, tabList, selectedTabId) {\n\tconst activeTab = tabList.find((t) => t.tab_id === selectedTabId) || {};\n\tconst length = tabList.length;\n\tlet isPivotActive = !!(activeTab && !activeTab.canClose);\n\tlet isDetailsTabTheOnlyOtherTab =\n\t\tlength === 2 && activeTab && activeTab.canClose && !tabList[0].canClose; // the only other tab is the details tab\n\treturn closeMenu.items.map((it) => {\n\t\tlet disabled = false;\n\t\tswitch (it.name) {\n\t\t\tcase CLOSE_TAB_MENU_ITEM:\n\t\t\t\tdisabled = length === 0 || !activeTab || isPivotActive;\n\t\t\t\tbreak;\n\t\t\tcase CLOSE_OTHER_TABS_MENU_ITEM:\n\t\t\t\tdisabled = length <= 1 || !activeTab || isDetailsTabTheOnlyOtherTab;\n\t\t\t\tbreak;\n\t\t\tcase CLOSE_ALL_TABS_MENU_ITEM:\n\t\t\t\tdisabled = length <= 1;\n\t\t\t\tbreak;\n\t\t}\n\t\treturn { ...it, itemType: 'menu', disabled };\n\t});\n}\n\nexport function buildOverflowStyle(\n\ttype,\n\toverflowDisabled,\n\tbadgeCount,\n\thasOverflowUpdate\n) {\n\tlet overflowClassNames = 'sn-chrome-tabs-btn -overflow';\n\n\tif (overflowDisabled) overflowClassNames += ' is-disabled';\n\telse {\n\t\toverflowClassNames += type === 'default' ? ' -default' : ' -close';\n\n\t\tif (badgeCount > 0)\n\t\t\toverflowClassNames +=\n\t\t\t\t' has-badge ' + (hasOverflowUpdate ? 'is-updated' : 'is-activated');\n\t}\n\n\treturn overflowClassNames;\n}\n\nexport function buildVisibleAndOverflowList(\n\ttabList,\n\ttotalWidth,\n\tselectedTabId\n) {\n\ttotalWidth -= 20; // this gives us a little extra room in our calculations\n\tlet visibleList = [];\n\tif (tabList.length === 0) return visibleList;\n\n\tlet length = tabList.length;\n\n\tconst selectedTabIdx = tabList.findIndex((t) => t.tab_id == selectedTabId);\n\tconst selectedTab = tabList[selectedTabIdx];\n\tconst isSelectedPrimaryTab = selectedTab.isPrimaryTab;\n\n\t/* note that the code below is filled with magic numbers.\n\t * These were carried forward from legacy workspace tab code, and are not configurable.\n\t * The value 280 was added to handle the case when the L1 tab is at its max width,\n\t * as is the case when inbox is selected.  It was selected because empirically it works well,\n\t * not from any specific math for handling the totalWidth space.\n\t * This logic relies on tabList[0].size being set in this case, an not in any other case, which is fragile.\n\t */\n\tconst gap = 4, // right margin space among tabs\n\t\tminTabWidth = 88,\n\t\tmaxTabWidth = 166,\n\t\tmaxTabWidthL1Item = tabList[0].size ? 280 : 240,\n\t\tminTabWidthL1Item = 110;\n\n\tconst standardTabSpace = maxTabWidth + gap,\n\t\tL1ItemTabSpace = maxTabWidthL1Item + gap,\n\t\tminTabSpace = minTabWidth + gap,\n\t\t// mustHaveSpace = L1ItemTabSpace + standardTabSpace,    // no longer used\n\t\tuncompressedTabSpace = standardTabSpace * (length - 1) + L1ItemTabSpace;\n\n\tlet tabWidth = maxTabWidth,\n\t\toverflowList = [];\n\tvisibleList = tabList;\n\n\tlet count;\n\t// We don't have enough room and must compress tab width\n\tif (uncompressedTabSpace > totalWidth) {\n\t\t// Without shrinking the module tab or the active tab (if present), figure out how much space for each of\n\t\t// the remaining tabs\n\t\tlet newTabSpace = isSelectedPrimaryTab\n\t\t\t? (totalWidth - L1ItemTabSpace) / (length - 1)\n\t\t\t: (totalWidth - (L1ItemTabSpace + standardTabSpace)) / (length - 2);\n\n\t\tnewTabSpace = Math.floor(newTabSpace); // newTabSpace is an int, so round up\n\t\t// Ensure this isn't lower than our minimum\n\t\tnewTabSpace = Math.max(minTabSpace, newTabSpace);\n\n\t\t// Figure out how many tabs we can fit in the available area using this width\n\t\tcount = isSelectedPrimaryTab\n\t\t\t? Math.floor((totalWidth - L1ItemTabSpace) / newTabSpace) + 1\n\t\t\t: Math.floor(\n\t\t\t\t\t(totalWidth - (L1ItemTabSpace + standardTabSpace)) / newTabSpace\n\t\t\t  ) + 2;\n\n\t\ttabWidth = newTabSpace - gap;\n\t}\n\n\t// Calculate the space required for all tabs at the current width\n\tconst spaceRequired = isSelectedPrimaryTab\n\t\t? L1ItemTabSpace + (tabWidth + gap) * (length - 1)\n\t\t: L1ItemTabSpace + standardTabSpace + (tabWidth + gap) * (length - 2);\n\n\t// We don't have enough space for all of the tabs and need to collapse some\n\tif (spaceRequired > totalWidth) {\n\t\tlet newTabList = tabList.slice(0);\n\t\tconst lastVisibleIdx = count - 1;\n\n\t\t// If the selected tab is further to the right of the last tab we have room for, move it to the last visible position\n\t\tif (selectedTabIdx > lastVisibleIdx) {\n\t\t\tnewTabList.splice(selectedTabIdx, 1); // delete the activeTab from newTabList\n\t\t\tnewTabList.splice(lastVisibleIdx, 0, selectedTab); // insert activeTab at lastVisibleIdx\n\t\t}\n\n\t\tvisibleList = newTabList.slice(0, lastVisibleIdx + 1);\n\t\toverflowList = newTabList\n\t\t\t.slice(lastVisibleIdx + 1)\n\t\t\t.map((it, i) => ({ ...it, itemType: 'tab', itemOrder: i }));\n\t}\n\n\tvisibleList = visibleList.map((t, i) => {\n\t\tconst style = getTabStyle(t);\n\t\treturn { ...t, style, tabOrder: i };\n\t});\n\n\tfunction getTabStyle(t) {\n\t\tif (t.isDetailsTab) return { width: `${maxTabWidth}px` };\n\n\t\tif (t.isPrimaryTab)\n\t\t\treturn {\n\t\t\t\tminWidth: `${minTabWidthL1Item}px`,\n\t\t\t\tmaxWidth: `${maxTabWidthL1Item}px`\n\t\t\t};\n\n\t\tif (t.tab_id === selectedTabId) return { width: `${maxTabWidth}px` };\n\n\t\treturn { width: `${tabWidth}px` };\n\t}\n\n\treturn { visibleList: visibleList, overflowList };\n}\n\nconst _getChildElement = (parent, childTag) => {\n\tif (!parent || parent.childElementCount === 0) return undefined;\n\n\treturn Array.from(parent.children).find((e) => e && e.tagName === childTag);\n};\n\nexport const insertTooltipEl = (node, content, predicate = () => true) => {\n\tif (!node || !content) return;\n\n\tif (predicate.call(null) === false) return;\n\n\tconst nowTooltip = document.createElement('now-tooltip');\n\tnowTooltip.targetRef = node;\n\tnowTooltip.content = content;\n\n\tconst toolTip = _getChildElement(node, 'NOW-TOOLTIP');\n\tif (toolTip) return;\n\n\tnode.appendChild(nowTooltip);\n};\n\nexport const removeTooltipEl = (node) => {\n\tif (!node) return;\n\tconst isHtmlElm = node instanceof HTMLElement;\n\tif (!isHtmlElm) return;\n\n\tlet nowTooltip = _getChildElement(node, 'NOW-TOOLTIP');\n\tif (!nowTooltip) return;\n\n\tnode.removeChild(nowTooltip);\n};\n","import './sn-canvas-popover-content';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\n\nimport { TabOverflow, ControlMenu } from '../index';\nimport styles from './_style.scss';\nimport {\n\tPOPOVER_HIGHLIGHT_INDEX_CHANGED,\n\tPOPOVER_HIGHLIGHT_INDEX_RESET_REQUESTED\n} from './constants';\nimport { handleKeyPressed } from './utils';\n\nconst { COMPONENT_RENDERED } = actionTypes;\nconst MoreOptionMenu = (state, { updateState }) => {\n\tconst props = state.properties;\n\tconst { optionItems, onItemClick, onItemClose } = props;\n\tconst { highlightIndex, isNodeFocused } = state;\n\tlet tabs = optionItems.filter((it) => it.itemType === 'tab');\n\tlet menuItems = optionItems.filter((it) => it.itemType === 'menu');\n\n\tconst onNodeFocus = (index) => {\n\t\tif (index >= 0 && index < tabs.length)\n\t\t\tupdateState({\n\t\t\t\thighlightIndex: index,\n\t\t\t\tisNodeFocused: true\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"sn-chrome-popover-content\" role=\"menu\" tabIndex=\"0\">\n\t\t\t<TabOverflow\n\t\t\t\toptionItems={tabs}\n\t\t\t\thighlightIndex={highlightIndex}\n\t\t\t\tonItemClick={onItemClick}\n\t\t\t\tonItemClose={onItemClose}\n\t\t\t\tonNodeFocus={onNodeFocus}\n\t\t\t\tisNodeFocused={isNodeFocused}\n\t\t\t/>\n\t\t\t<ControlMenu\n\t\t\t\toptionItems={menuItems}\n\t\t\t\thighlightIndex={highlightIndex - tabs.length}\n\t\t\t\tonItemClick={onItemClick}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\ncreateCustomElement('sn-canvas-popover-content', {\n\tview: MoreOptionMenu,\n\tstyles,\n\tproperties: {\n\t\toptionItems: { default: null },\n\t\tonItemClick: { default: () => {} },\n\t\tonItemClose: { default: () => {} }\n\t},\n\tinitialState: {\n\t\thighlightIndex: -1,\n\t\tisNodeFocused: false\n\t},\n\tactionHandlers: {\n\t\t[POPOVER_HIGHLIGHT_INDEX_CHANGED]: (coeffects) => {\n\t\t\tconst { highlightIndex } = coeffects.state;\n\t\t\tconst { optionItems } = coeffects.properties;\n\t\t\tconst { handler } = coeffects.action.payload;\n\t\t\tconst tabs = optionItems.filter((it) => it.itemType === 'tab');\n\t\t\tconst menuItems = optionItems.filter((it) => it.itemType === 'menu');\n\t\t\tconst nextHighlightIndex = handler.call(null, highlightIndex, [\n\t\t\t\t...tabs,\n\t\t\t\t...menuItems\n\t\t\t]);\n\t\t\tcoeffects.updateState({\n\t\t\t\thighlightIndex: nextHighlightIndex,\n\t\t\t\tisNodeFocused: false\n\t\t\t});\n\t\t},\n\t\t[POPOVER_HIGHLIGHT_INDEX_RESET_REQUESTED]: ({\n\t\t\thost,\n\t\t\tstate,\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tconst { isNodeFocused } = state;\n\t\t\tif (!isNodeFocused) {\n\t\t\t\tupdateState({ highlightIndex: -1 });\n\t\t\t\tconst nowPopover = host.parentElement;\n\t\t\t\tif (!nowPopover) return;\n\t\t\t\tconst triggerEl = nowPopover.querySelector('[slot=trigger]');\n\t\t\t\tif (triggerEl) {\n\t\t\t\t\tnowPopover.opened = false;\n\t\t\t\t\ttriggerEl.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_RENDERED]: ({ action, updateState }) => {\n\t\t\tconst { hoistHost } = action.meta;\n\t\t\tif (!hoistHost) return;\n\t\t\tconst activeElm = hoistHost.shadowRoot.activeElement;\n\t\t\tif (activeElm) return;\n\t\t\tupdateState({ highlightIndex: -1 });\n\t\t}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['keyup'],\n\t\t\teffect({ action, dispatch }) {\n\t\t\t\taction.preventDefault();\n\t\t\t\thandleKeyPressed(action.payload.event, dispatch);\n\t\t\t}\n\t\t}\n\t]\n});\n","import { CanvasOverflowItem } from './canvasOverflowItem';\n\nconst TabOverflow = (props) => {\n\tconst {\n\t\toptionItems,\n\t\thighlightIndex,\n\t\tonItemClick,\n\t\tonItemClose,\n\t\tonNodeFocus,\n\t\tisNodeFocused\n\t} = props;\n\treturn (\n\t\t<ul className=\"sn-chrome-popover-content-list\" role=\"presentation\">\n\t\t\t{optionItems.map((item, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<CanvasOverflowItem\n\t\t\t\t\t\tkey={item.tab_id}\n\t\t\t\t\t\ttab={item}\n\t\t\t\t\t\tisHighlighted={highlightIndex === i}\n\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\tisNodeFocused={isNodeFocused}\n\t\t\t\t\t\tonItemClick={onItemClick}\n\t\t\t\t\t\tonItemClose={onItemClose}\n\t\t\t\t\t\tonNodeFocus={onNodeFocus}\n\t\t\t\t\t\thasUpdate={item.hasUpdate}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</ul>\n\t);\n};\n\nexport { TabOverflow };\n","import { t } from 'sn-translate';\nimport '@servicenow/now-icon';\n\nexport const CanvasOverflowItem = (props) => {\n\tconst { tab, hasUpdate, isHighlighted, isNodeFocused } = props;\n\tconst { tab_id, title } = tab;\n\tconst styleClass =\n\t\t'sn-chrome-popover-content-list-item ' + (hasUpdate ? 'has-update' : '');\n\tconst closeBtn_tooltip = t('Close Tab');\n\n\tconst _onItemClick = (e) => {\n\t\tconst { tab, onItemClick } = props;\n\t\tonItemClick(tab, tab.tabOrder, e);\n\t};\n\n\tconst _onItemClose = (e) => {\n\t\te.stopPropagation();\n\t\tconst { tab, onItemClose } = props;\n\t\tonItemClose(tab, e);\n\t};\n\n\tconst _onItemKeyUp = (e) => {\n\t\tif (e.keyCode !== 13 /*enter*/ && e.keyCode !== 32 /*space*/) return;\n\t\t_onItemClick(e);\n\t};\n\n\tconst _onKeyUp = (e) => {\n\t\tif (e.keyCode === 9) {\n\t\t\t//tab\n\t\t\tconst { index, onNodeFocus } = props;\n\t\t\tonNodeFocus(index);\n\t\t} else if (e.keyCode === 13 /*enter*/ || e.keyCode === 32 /*space*/)\n\t\t\t_onItemClose(e);\n\n\t\tif (elmRef) elmRef.setAttribute('tabindex', '-1');\n\t};\n\tlet elmRef = null;\n\treturn (\n\t\t<li className={styleClass} role=\"presentation\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={`sn-chrome-popover-content-list-item-button`}\n\t\t\t\ton-click={_onItemClick}\n\t\t\t\ton-keyup={_onItemKeyUp}\n\t\t\t\trole=\"menuitem\"\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t\tref={(elm) => (elmRef = elm)}\n\t\t\t\thook-update={({ elm }) => {\n\t\t\t\t\tif (!elm) return;\n\t\t\t\t\tif (isHighlighted && !isNodeFocused) {\n\t\t\t\t\t\telm.focus();\n\t\t\t\t\t\telm.setAttribute('tabindex', '0');\n\t\t\t\t\t} else {\n\t\t\t\t\t\telm.setAttribute('tabindex', '-1');\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t<span className=\"sn-chrome-popover-content-text\">{title}</span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"overflow-close-btn sn-chrome-popover-content-list-item-close\"\n\t\t\t\taria-label={closeBtn_tooltip}\n\t\t\t\ttooltip={closeBtn_tooltip}\n\t\t\t\ton-click={_onItemClose}\n\t\t\t\ton-keyup={_onKeyUp}>\n\t\t\t\t<now-icon\n\t\t\t\t\tcomponent-id={'overflow-close-tab-' + tab_id}\n\t\t\t\t\ticon=\"circle-close-outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t/>\n\t\t\t</button>\n\t\t\t{/* <sn-component-tooltip /> */}\n\t\t</li>\n\t);\n};\n","const OptionItem = (props) => {\n\tconst { item, isHighlighted, _className } = props;\n\tconst { disabled, displayValue } = item;\n\n\tconst _renderDisabledItem = () => {\n\t\tconst { item, index } = props;\n\t\tconst { name, displayValue } = item;\n\t\treturn (\n\t\t\t<li\n\t\t\t\tkey={`${name}_${index}`}\n\t\t\t\tclassName={_className + '-list-item is-disabled'}\n\t\t\t\trole=\"presentation\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName={_className + '-list-item-button'}\n\t\t\t\t\tdisabled>\n\t\t\t\t\t<span className={_className + '-text'}>{displayValue}</span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t);\n\t};\n\n\tconst _onItemClick = (e) => {\n\t\tconst { item, index, onItemClick } = props;\n\t\tonItemClick(item, index, e);\n\t};\n\n\tconst _onKeyup = (e) => {\n\t\tif (e.keyCode !== 13 /*enter*/ && e.keyCode !== 32 /*space*/) return;\n\t\t_onItemClick(e);\n\t};\n\n\treturn disabled ? (\n\t\t_renderDisabledItem()\n\t) : (\n\t\t<li className={_className + '-list-item'} role=\"presentation\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName={_className + '-list-item-button'}\n\t\t\t\trole=\"menuitem\"\n\t\t\t\ttabIndex=\"-1\"\n\t\t\t\ton-click={_onItemClick}\n\t\t\t\ton-keyup={_onKeyup}\n\t\t\t\thook-update={({ elm }) => elm && isHighlighted && elm.focus()}>\n\t\t\t\t<span className={_className + '-text'}>{displayValue}</span>\n\t\t\t</button>\n\t\t</li>\n\t);\n};\n\nexport { OptionItem };\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_style.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-chrome-popover-items{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-items.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover-content{z-index:z(\\\"popover\\\");display:flex;flex-direction:column;width:14.5rem;height:auto;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);list-style:none;background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-popover-content:first-of-type .sn-chrome-popover-content-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-content:focus{outline:none}.sn-chrome-popover-content-text{position:relative;display:inline;text-overflow:ellipsis;overflow:hidden;flex:1 1 auto;align-items:center;white-space:nowrap}.sn-chrome-popover-content-list{width:100%;margin:0;padding:0;list-style:none}.sn-chrome-popover-content-list:focus{outline:none}.sn-chrome-popover-content-list.-nested{border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181));background:RGB(var(--now-color--neutral-1,246,247,247))}.sn-chrome-popover-content-list-item{position:relative;display:flex;overflow:hidden;align-items:center;height:2rem;font-size:1rem;background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-popover-content-list-item.is-disabled{opacity:.5}.sn-chrome-popover-content-list-item.has-update:after{content:\\\"\\\";top:0;bottom:0;left:0;width:.25rem;background:RGB(var(--now-color_alert--info-2,14,120,196))}.sn-chrome-popover-content-list-item-button{position:relative;display:flex;align-items:center;width:100%;height:100%;border:none;padding:0 .5rem 0 1rem;font-size:inherit;cursor:pointer;color:RGB(var(--now-color--neutral-18,22,27,28));background:RGB(var(--now-color--neutral-0,255,255,255));outline:none}:host(:not([dir=rtl])) .sn-chrome-popover-content-list-item-button,:root:not([dir=rtl]) .sn-chrome-popover-content-list-item-button{text-align:left}:host([dir=rtl]) .sn-chrome-popover-content-list-item-button,:root[dir=rtl] .sn-chrome-popover-content-list-item-button{text-align:right}.-nested .sn-chrome-popover-content-list-item-button.is-focus,.-nested .sn-chrome-popover-content-list-item-button.is-hover,.-nested .sn-chrome-popover-content-list-item-button:focus,.-nested .sn-chrome-popover-content-list-item-button:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-content-list-item-button.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-content-list-item-button.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-content-list-item-button:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-content-list-item-button:hover{cursor:default;background:transparent}.sn-chrome-popover-content-list-item-button.is-hover,.sn-chrome-popover-content-list-item-button:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-content-list-item-button.is-focus,.sn-chrome-popover-content-list-item-button:focus{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-content-list-item-button{padding:0 .75rem}:host(:not([dir=rtl])) .sn-chrome-popover-section .sn-chrome-popover-content-list-item-button>now-icon,:root:not([dir=rtl]) .sn-chrome-popover-section .sn-chrome-popover-content-list-item-button>now-icon{margin-right:.5rem}:host([dir=rtl]) .sn-chrome-popover-section .sn-chrome-popover-content-list-item-button>now-icon,:root[dir=rtl] .sn-chrome-popover-section .sn-chrome-popover-content-list-item-button>now-icon{margin-left:.5rem}.has-update .sn-chrome-popover-content-list-item-button{background:RGBA(var(--now-color_alert--info-0,195,221,240),.5)}.has-update .sn-chrome-popover-content-list-item-button.is-hover,.has-update .sn-chrome-popover-content-list-item-button:hover{background:RGBA(var(--now-color_alert--info-1,104,171,218),.5)}.has-update .sn-chrome-popover-content-list-item-button.is-focus,.has-update .sn-chrome-popover-content-list-item-button:focus{background:RGB(var(--now-color--primary-0,221,237,233))}:host(:not([dir=rtl])) .sn-chrome-popover-section.-indented .sn-chrome-popover-content-list-item-button,:root:not([dir=rtl]) .sn-chrome-popover-section.-indented .sn-chrome-popover-content-list-item-button{padding-left:3.25rem}:host([dir=rtl]) .sn-chrome-popover-section.-indented .sn-chrome-popover-content-list-item-button,:root[dir=rtl] .sn-chrome-popover-section.-indented .sn-chrome-popover-content-list-item-button{padding-right:3.25rem}.sn-chrome-popover-content-list-item-button>label{cursor:pointer}.sn-chrome-popover-content-list-item-button>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-chrome-popover-content-list-item-button>now-icon,:root:not([dir=rtl]) .sn-chrome-popover-content-list-item-button>now-icon{margin-left:.5rem}:host([dir=rtl]) .sn-chrome-popover-content-list-item-button>now-icon,:root[dir=rtl] .sn-chrome-popover-content-list-item-button>now-icon{margin-right:.5rem}.sn-chrome-popover-content-list-item-close{position:absolute;top:42%;z-index:1;width:.75rem;margin-top:-.3125rem;border:none;padding:0;cursor:pointer;background:transparent}.sn-chrome-popover-content-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-content-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}:host(:not([dir=rtl])) .sn-chrome-popover-content-list-item-close,:root:not([dir=rtl]) .sn-chrome-popover-content-list-item-close{right:.5rem}:host([dir=rtl]) .sn-chrome-popover-content-list-item-close,:root[dir=rtl] .sn-chrome-popover-content-list-item-close{left:.5rem}.sn-chrome-popover-content-list-item-close.is-hover,.sn-chrome-popover-content-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}\", \"\"]);\n\n// exports\n","export const POPOVER_HIGHLIGHT_INDEX_CHANGED =\n\t'CANVAS_POPOVER_CONTENT#HIGHLIGHT_INDEX_CHANGED';\nexport const POPOVER_CONTENT_CLICKED = 'CANVAS_POPOVER_CONTENT#CLICKED';\nexport const POPOVER_HIGHLIGHT_INDEX_RESET_REQUESTED =\n\t'CANVAS_POPOVER_CONTENT#HIGHLIGHT_INDEX_RESET_REQUESTED';\n","export * from './utils';\n","import { debounce, noop } from 'lodash';\nimport * as Constants from '../constants';\n\nconst onArrowUp = (currentIndex, optionItems) => {\n\tlet _current = currentIndex,\n\t\tnewIndex = -1;\n\tif (currentIndex <= 0) {\n\t\t_current = optionItems.length - 1;\n\t\tnewIndex = _current;\n\t} else {\n\t\t_current = _current - 1;\n\t\tnewIndex = _current % optionItems.length;\n\t}\n\n\twhile (optionItems[newIndex].disabled) {\n\t\t_current = _current - 1;\n\t\tnewIndex = _current % optionItems.length;\n\t\tif (_current === -1) return optionItems.length - 1;\n\t}\n\treturn newIndex;\n};\n\nconst onArrowDown = (currentIndex, optionItems) => {\n\tlet _current = currentIndex,\n\t\tnewIndex = -1;\n\tif (currentIndex === -1 || currentIndex === optionItems.length - 1) {\n\t\t_current = 0;\n\t\tnewIndex = 0;\n\t} else {\n\t\t_current = _current + 1;\n\t\tnewIndex = _current % optionItems.length;\n\t}\n\twhile (optionItems[newIndex].disabled) {\n\t\t_current = _current + 1;\n\t\tnewIndex = _current % optionItems.length;\n\t\tif (_current === optionItems.length) return 0;\n\t}\n\treturn newIndex;\n};\n\nconst handlerMap = {\n\tarrowUp: {\n\t\tfn: onArrowUp,\n\t\taction: Constants.POPOVER_HIGHLIGHT_INDEX_CHANGED\n\t},\n\tarrowDown: {\n\t\tfn: onArrowDown,\n\t\taction: Constants.POPOVER_HIGHLIGHT_INDEX_CHANGED\n\t},\n\texecute: {\n\t\tfn: noop,\n\t\taction: Constants.POPOVER_CONTENT_CLICKED\n\t},\n\treset: {\n\t\tfn: noop,\n\t\taction: Constants.POPOVER_HIGHLIGHT_INDEX_RESET_REQUESTED\n\t}\n};\n\nconst _handleKeyPressed = (event, dispatch) => {\n\tlet handler = undefined;\n\tswitch (event.keyCode) {\n\t\tcase 38: //ArrowUp\n\t\t\thandler = 'arrowUp';\n\t\t\tbreak;\n\t\tcase 40: //ArrowDown\n\t\t\thandler = 'arrowDown';\n\t\t\tbreak;\n\t\tcase 13: //Enter\n\t\tcase 32: //Space\n\t\t\thandler = 'execute';\n\t\t\tbreak;\n\t\tcase 9: // Tab\n\t\t\thandler = 'reset';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tif (handler && handlerMap[handler])\n\t\tdispatch(handlerMap[handler].action, { handler: handlerMap[handler].fn });\n};\n\nexport const handleKeyPressed = debounce(_handleKeyPressed, 150);\n","import './sn-canvas-tabs-menu';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport { ControlMenu } from '../control-menu/controlMenu';\nimport { debounce } from 'lodash';\nimport styles from './_style.scss';\n\nconst { COMPONENT_RENDERED } = actionTypes;\n\nconst newMenu = (state) => {\n\tconst { properties: props, highlightIndex } = state;\n\tif (!props.menuItems) return;\n\tconst menuItems = props.menuItems.map((m) => {\n\t\treturn { ...m, title: m.label, displayValue: m.label };\n\t});\n\treturn (\n\t\t<div className=\"sn-canvas-tabs-menu\" role=\"menu\" tabIndex=\"0\">\n\t\t\t<ControlMenu\n\t\t\t\toptionItems={menuItems}\n\t\t\t\tonItemClick={props.onNewTab}\n\t\t\t\thighlightIndex={highlightIndex}\n\t\t\t\t_className=\"sn-canvas-tabs-menu\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\ncreateCustomElement('sn-canvas-tabs-menu', {\n\tview: newMenu,\n\tinitialState: {\n\t\thighlightIndex: -1\n\t},\n\tproperties: {\n\t\tmenuItems: {\n\t\t\tdefault: []\n\t\t},\n\t\tonNewTab: {\n\t\t\tdefault: () => {}\n\t\t}\n\t},\n\tstyles,\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['keyup'],\n\t\t\teffect({ action, properties, state, updateState, host }) {\n\t\t\t\taction.preventDefault();\n\t\t\t\tconst currentIndex = state.highlightIndex;\n\t\t\t\tconst itemLength = (properties.menuItems || []).length;\n\n\t\t\t\tif (itemLength === 0) return;\n\t\t\t\tconst _handler = () => {\n\t\t\t\t\tlet _highlightIndex = currentIndex;\n\t\t\t\t\tswitch (action.payload.event.keyCode) {\n\t\t\t\t\t\tcase 38: //ArrowUp\n\t\t\t\t\t\t\tif (currentIndex <= 0) {\n\t\t\t\t\t\t\t\t_highlightIndex = itemLength - 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_highlightIndex = (currentIndex - 1) % itemLength;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 40: //ArrowDown\n\t\t\t\t\t\t\tif (currentIndex === -1 || currentIndex === itemLength - 1) {\n\t\t\t\t\t\t\t\t_highlightIndex = 0;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_highlightIndex = (currentIndex + 1) % itemLength;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 13: //Enter\n\t\t\t\t\t\tcase 32: //Space\n\t\t\t\t\t\t\tproperties.onNewTab(properties.menuItems[currentIndex]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 9: //tab\n\t\t\t\t\t\t\t_highlightIndex = -1;\n\t\t\t\t\t\t\t//Create a scope so linter is happy\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst nowPopover = host.parentElement;\n\t\t\t\t\t\t\t\tif (!nowPopover) return;\n\t\t\t\t\t\t\t\tconst triggerEl = nowPopover.querySelector('[slot=trigger]');\n\t\t\t\t\t\t\t\tif (triggerEl) {\n\t\t\t\t\t\t\t\t\tnowPopover.opened = false;\n\t\t\t\t\t\t\t\t\ttriggerEl.focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tupdateState({ highlightIndex: _highlightIndex });\n\t\t\t\t};\n\t\t\t\t//throttle the handler\n\t\t\t\tdebounce(_handler, 150)();\n\t\t\t}\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t[COMPONENT_RENDERED]: ({ action, updateState }) => {\n\t\t\tconst { hoistHost } = action.meta;\n\t\t\tif (!hoistHost) return;\n\t\t\tconst activeElm = hoistHost.shadowRoot.activeElement;\n\t\t\tif (activeElm) return;\n\n\t\t\tupdateState({ highlightIndex: -1 });\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_style.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-canvas-tabs-menu{z-index:z(\\\"popover\\\");display:flex;flex-direction:column;height:auto;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);list-style:none;background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-canvas-tabs-menu:focus{outline:none}.sn-canvas-tabs-menu-list{width:100%;margin:0;padding:0;list-style:none}.sn-canvas-tabs-menu-list:focus{outline:none}.sn-canvas-tabs-menu-list.-nested{border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181));background:RGB(var(--now-color--neutral-1,246,247,247))}.sn-canvas-tabs-menu-list-item{position:relative;display:flex;overflow:hidden;align-items:center;height:2rem;font-size:1rem}.sn-canvas-tabs-menu-list-item.is-disabled{opacity:.5}.sn-canvas-tabs-menu-list-item-button{position:relative;display:flex;align-items:center;width:100%;height:100%;border:none;padding:0 .5rem 0 1rem;font-size:inherit;cursor:pointer;color:RGB(var(--now-color--neutral-18,22,27,28));background:transparent;outline:none}:host(:not([dir=rtl])) .sn-canvas-tabs-menu-list-item-button,:root:not([dir=rtl]) .sn-canvas-tabs-menu-list-item-button{text-align:left}:host([dir=rtl]) .sn-canvas-tabs-menu-list-item-button,:root[dir=rtl] .sn-canvas-tabs-menu-list-item-button{text-align:right}.sn-canvas-tabs-menu-list-item-button:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-canvas-tabs-menu-list-item-button:focus{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-canvas-tabs-menu-list-item-button>label{cursor:pointer}.sn-canvas-tabs-menu-text{position:relative;display:inline;text-overflow:ellipsis;overflow:hidden;flex:1 1 auto;align-items:center;white-space:nowrap}\", \"\"]);\n\n// exports\n","import './sn-canvas-iframe';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from './_sn-canvas-iframe.scss';\n\nconst {\n\tCOMPONENT_DOM_READY,\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_PROPERTY_CHANGED\n} = actionTypes;\n\nimport {\n\tCANVAS_IFRAME_CLOSED,\n\tCANVAS_IFRAME_CONTENT,\n\tIFRAME_REF\n} from './constants';\n\n/**\n * API that handles communication from iframe, dispatches MODAL_SELECTED, SN_CANVAS_IFRAME#CLOSED actions\n * @param {*} e , standar postMessage payload\n */\nconst onMessage = (e) => {\n\tconst { type, action, params = {} } = e.data || {};\n\n\tif (CANVAS_IFRAME_CONTENT === type) {\n\t\te.dispatch('MODAL_SELECTED', { showModal: false });\n\t\te.dispatch(CANVAS_IFRAME_CLOSED, {\n\t\t\taction,\n\t\t\tparams\n\t\t});\n\t}\n};\n\nconst sendInitMessage = (iFrameRef, params = {}) => {\n\tif (!iFrameRef) return;\n\n\tlet data = {\n\t\ttype: 'CAVAS_IFRAME_MODAL_INIT',\n\t\tparams\n\t};\n\tiFrameRef.contentWindow.postMessage(data, location.origin);\n};\n\nconst setIframeHeight = (iframeRef) => {\n\tif (\n\t\tiframeRef &&\n\t\tiframeRef.contentDocument &&\n\t\tiframeRef.contentDocument.documentElement\n\t)\n\t\tiframeRef.style.height =\n\t\t\tiframeRef.contentDocument.documentElement.scrollHeight + 'px';\n};\n\nconst view = (state, { updateProperties }) => {\n\tconst {\n\t\tsrc,\n\t\theaderLabel,\n\t\tiframeRef,\n\t\tdisableSandbox = false\n\t} = state.properties;\n\tconst includeIframe = !!src;\n\tif (!includeIframe) return null;\n\n\tconst setRef = (ref) => {\n\t\tif (iframeRef) return;\n\t\tupdateProperties({ iframeRef: ref });\n\t};\n\n\tconst _renderHeader = () => {\n\t\tif (!headerLabel || headerLabel.length === 0) return null;\n\t\treturn <h1> {headerLabel} </h1>;\n\t};\n\n\treturn disableSandbox === true ? (\n\t\t<div className=\"sn-canvas-iframe\">\n\t\t\t{_renderHeader()}\n\t\t\t<iframe\n\t\t\t\tref={setRef}\n\t\t\t\tsrc={src}\n\t\t\t\ttitle={headerLabel}\n\t\t\t\tsandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-downloads\"\n\t\t\t/>\n\t\t</div>\n\t) : (\n\t\t<div className=\"sn-canvas-iframe\">\n\t\t\t{_renderHeader()}\n\t\t\t<iframe\n\t\t\t\tref={setRef}\n\t\t\t\tsrc={src}\n\t\t\t\ttitle={headerLabel}\n\t\t\t\tsandbox=\"allow-scripts\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\n/**\n * A canvas component that provides ability to pass in header title and src url to create a content with iframe\n * . A use case of this component is it is used in OOB modal so the actual content will be displayed on modal\n * ```jsx\n * \t<sn-canvas-iframe header-title=\"My Header\" src=\"https://myhost/sample.html\" height=\"400px\" />\n * ```\n *  @seismicElement sn-canvas-iframe\n *  @summary - A component to group tilte , iframe together\n */\ncreateCustomElement('sn-canvas-iframe', {\n\tproperties: {\n\t\tiframeRef: {\n\t\t\tprivate: true,\n\t\t\tdefault: null\n\t\t},\n\t\t/**\n\t\t * Property to configure the canvas iframe title.\n\t\t *\n\t\t * A title for your iframe\n\t\t * @type {string}\n\t\t */\n\t\theaderLabel: {\n\t\t\tdefault: '',\n\t\t\tschema: {\n\t\t\t\ttype: 'string'\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Property to configure the canvas iframe src or url.\n\t\t *\n\t\t * A src (url) for your iframe content\n\t\t * @type {string}\n\t\t */\n\t\tsrc: {\n\t\t\tdefault: '',\n\t\t\tschema: {\n\t\t\t\ttype: 'string'\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Initial data to iframe content\n\t\t */\n\t\tparams: {\n\t\t\tdefault: {},\n\t\t\tschema: {\n\t\t\t\ttype: 'object'\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Optional. disable-sandbox, a boolean property to toggle sandbox restrictions.\n\t\t */\n\t\tdisableSandbox: {\n\t\t\tdefault: false,\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t}\n\t\t}\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: view\n\t},\n\tstyles,\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: ({ dispatch, action }) => {\n\t\t\taction.stopPropagation();\n\t\t\twindow.addEventListener('message', (e) => {\n\t\t\t\tonMessage({ data: e.data, dispatch });\n\t\t\t});\n\t\t},\n\n\t\t[COMPONENT_DISCONNECTED]: ({ dispatch, action }) => {\n\t\t\taction.stopPropagation();\n\t\t\twindow.removeEventListener('message', (e) => {\n\t\t\t\tonMessage({ data: e.data, dispatch });\n\t\t\t});\n\t\t},\n\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\taction: { payload },\n\t\t\tproperties: { params }\n\t\t}) => {\n\t\t\tif (payload.name === IFRAME_REF) {\n\t\t\t\tif (!payload.value) return;\n\t\t\t\tpayload.value.addEventListener('load', () => {\n\t\t\t\t\tsendInitMessage(payload.value, params);\n\t\t\t\t\tsetIframeHeight(payload.value);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-iframe.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host .sn-canvas-iframe{height:100%}:host .sn-canvas-iframe>iframe{overflow-x:hidden;overflow-y:auto;resize:both;width:100%;height:100%;min-height:350px;border:none}\", \"\"]);\n\n// exports\n","export const CANVAS_IFRAME_MODAL_MESSAGE_TYPE =\n\t'CANVAS_IFRAME_MODAL_MESSAGE_TYPE';\nexport const CANVAS_IFRAME_CLOSED = 'SN_CANVAS_IFRAME#CLOSED';\nexport const CANVAS_IFRAME_OUTBOUND_ACTION_CANCELED =\n\t'CANVAS_IFRAME_OUTBOUND_ACTION_CANCELED';\nexport const CANVAS_IFRAME_OUTBOUND_ACTION_CONFIRMED =\n\t'CANVAS_IFRAME_OUTBOUND_ACTION_CONFIRMED';\nexport const CANVAS_IFRAME_INIT = 'CANVAS_IFRAME_INIT';\nexport const CANVAS_IFRAME_CONTENT = 'CANVAS_IFRAME_CONTENT';\n\nexport const IFRAME_REF = 'iframeRef';\n","import './sn-canvas-error';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { CONSTANTS } from './constants';\nimport '@servicenow/now-modal';\n\nconst { SN_CANVAS_ERROR_TAGNAME } = CONSTANTS;\nconst {\n\tNOW_MODAL_FOOTER_ACTION_CLICKED,\n\tNOW_MODAL_OPENED_SET\n} = CONSTANTS.ACTION_TYPES;\n\nconst _execBtnActionFn = (btnClickFn) => {\n\ttypeof btnClickFn === typeof (() => {}) ? btnClickFn() : null;\n};\n\n/** @seismicView sn-canvas-error */\nconst snCanvasError = (state) => {\n\tconst { open, errorConfig } = state.properties;\n\tconst { headerLabel = '', content = '', footerActions = [] } = errorConfig;\n\treturn (\n\t\t<now-modal\n\t\t\tsize=\"sm\"\n\t\t\topened={open}\n\t\t\tnowHoist={open}\n\t\t\tmanageOpened\n\t\t\theader-label={headerLabel}\n\t\t\tcontent={content}\n\t\t\tfooter-actions={footerActions}\n\t\t/>\n\t);\n};\n\n/**\n * Canvas error represents custom modal component that displays the\n * error message and actions.\n *\n * ```jsx\n * <sn-canvas-error errorConfig={errorConfig} open={true} />\n * ```\n *\n * @seismicElement sn-canvas-error\n * @summary Canvas error defines the error modal.\n *\n **/\ncreateCustomElement(SN_CANVAS_ERROR_TAGNAME, {\n\tproperties: {\n\t\t/**\n\t\t * Property to set the error modal configuration - header label, content, footer actions etc.\n\t\t * @type {Object} errorConfig - Canvas error modal configuration\n\t\t * @default [{}]\n\t\t */\n\t\terrorConfig: { default: {} },\n\t\t/**\n\t\t * Property to set the card's primary title\n\t\t * @type {boolean} [open=false] open - Error modal display state\n\t\t * @default [false]\n\t\t */\n\t\topen: { default: false },\n\t\tloginModal: { default: {}, unstableParse: true, schema: { type: 'object' } }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasError\n\t},\n\tactionHandlers: {\n\t\t[NOW_MODAL_OPENED_SET]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { value }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (!value) dispatch('CANVAS_HIDE_ERROR_MODAL', { errorConfig: {} });\n\t\t},\n\t\t[NOW_MODAL_FOOTER_ACTION_CLICKED]: ({\n\t\t\taction: { payload },\n\t\t\tdispatch,\n\t\t\tproperties\n\t\t}) => {\n\t\t\tconst {\n\t\t\t\tfooterAction: { action }\n\t\t\t} = payload;\n\t\t\tconst { loginModal } = properties;\n\t\t\t_execBtnActionFn(action(dispatch, loginModal));\n\t\t\tdispatch('CANVAS_HIDE_ERROR_MODAL', { errorConfig: {} });\n\t\t}\n\t}\n});\n","export const CONSTANTS = {\n\t/* Seismic element tag name */\n\tSN_CANVAS_ERROR_TAGNAME: 'sn-canvas-error',\n\n\t/* action types */\n\tACTION_TYPES: {\n\t\tNOW_MODAL_OPENED_SET: 'NOW_MODAL#OPENED_SET',\n\t\tNOW_MODAL_FOOTER_ACTION_CLICKED: 'NOW_MODAL#FOOTER_ACTION_CLICKED'\n\t}\n};\n","import './sn-canvas-sidebar';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport snCanvasSidebarStyles from './_sn-canvas-sidebar.scss';\nimport '@servicenow/now-icon';\nimport { uxfViewportBehavior } from '@devsnc/library-uxf';\nimport { draggableBehavior } from '../../behaviors/draggable/draggableBehavior';\nimport { isEmpty as _isEmpty } from 'lodash';\n\nconst Docking = ({ dockingEnabled, status, updateProperties }) => {\n\treturn dockingEnabled ? (\n\t\tstatus === 'DOCKED' ? (\n\t\t\t<now-icon\n\t\t\t\tclassName=\"close-icon\"\n\t\t\t\ticon=\"clone-outline\"\n\t\t\t\tsize=\"md\"\n\t\t\t\ton-click={() => {\n\t\t\t\t\tif (dockingEnabled && status === 'DOCKED') {\n\t\t\t\t\t\tupdateProperties({ status: 'UN_DOCKED' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdateProperties({ status: 'DOCKED' });\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t) : (\n\t\t\t<now-icon\n\t\t\t\tclassName=\"close-icon\"\n\t\t\t\ticon=\"close-outline\"\n\t\t\t\tsize=\"md\"\n\t\t\t\ton-click={() => {\n\t\t\t\t\tif (dockingEnabled && status === 'DOCKED') {\n\t\t\t\t\t\tupdateProperties({ status: 'UN_DOCKED' });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdateProperties({ status: 'DOCKED' });\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t)\n\t) : null;\n};\n\nconst snCanvasSidebar = (state, { updateProperties }) => {\n\tconst {\n\t\topened,\n\t\theading,\n\t\tstatus,\n\t\tdockingEnabled,\n\t\tcontainerProps\n\t} = state.properties;\n\n\treturn (\n\t\t<div\n\t\t\tclass={{\n\t\t\t\t'sn-canvas-sidebar': true,\n\t\t\t\t'-undocked': status === 'UN_DOCKED',\n\t\t\t\t'-hidden': !opened\n\t\t\t}}\n\t\t\tstyle={{ ...containerProps }}>\n\t\t\t{!dockingEnabled && _isEmpty(heading) ? null : (\n\t\t\t\t<header className=\"sn-canvas-sidebar-header\">\n\t\t\t\t\t<slot name=\"heading\">\n\t\t\t\t\t\t<h1 className=\"sn-canvas-sidebar-header-title\">{heading}</h1>\n\t\t\t\t\t\t<Docking\n\t\t\t\t\t\t\tdockingEnabled={dockingEnabled}\n\t\t\t\t\t\t\tstatus={status}\n\t\t\t\t\t\t\tupdateProperties={updateProperties}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</slot>\n\t\t\t\t</header>\n\t\t\t)}\n\t\t\t<div className=\"sn-canvas-sidebar-content\">\n\t\t\t\t<slot name=\"content\" />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\ncreateCustomElement('sn-canvas-sidebar', {\n\tproperties: {\n\t\theading: { default: '' },\n\t\topened: { default: false, manageable: true },\n\t\tcontainerProps: { default: {} },\n\t\tdockingEnabled: { default: false },\n\t\tstatus: { default: 'DOCKED' }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasSidebar\n\t},\n\tstyles: snCanvasSidebarStyles,\n\tbehaviors: [uxfViewportBehavior, draggableBehavior]\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-sidebar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}.sn-canvas-sidebar{box-sizing:border-box;width:15rem;height:100vh;border:1px solid rgb(var(--now-color--neutral-13,58,71,72));border-top:none;background-color:var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))}.sn-canvas-sidebar.-hidden{visibility:hidden;width:0;height:0}.sn-canvas-sidebar.-undocked{position:absolute;top:15.375rem;left:17.25rem;z-index:4001;width:20.1875rem;height:28.125rem;box-shadow:-2px 2px 4px 0 rgba(0,0,0,.5);background-color:var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))}.sn-canvas-sidebar.-undocked .sn-canvas-sidebar-header{cursor:move}.sn-canvas-sidebar.-undocked .sn-canvas-sidebar-content{height:362px}.sn-canvas-sidebar .sn-canvas-sidebar-header{display:flex;justify-content:space-between;align-items:center;justify-items:center;height:2.875rem;padding:1.0625rem .875rem .625rem 1rem}.sn-canvas-sidebar .sn-canvas-sidebar-header .sn-canvas-sidebar-header-title{font-weight:600;font-size:1rem;line-height:1.25;font-family:Source Sans Pro,sans-serif;letter-spacing:0;color:RGB(var(--now-color--neutral-13,58,71,72))}.sn-canvas-sidebar .sn-canvas-sidebar-header .close-icon{cursor:pointer}.sn-canvas-sidebar .sn-canvas-sidebar-content{height:100%;margin:0;padding:0}\", \"\"]);\n\n// exports\n","import { actionTypes } from '@servicenow/ui-core';\nimport draggableEffect from './draggableEffect';\n\nconst {\n\tbindDraggableEvents,\n\tunbindDraggableEvents,\n\tclearStyles\n} = draggableEffect.effectHandlers;\n\nconst {\n\tCOMPONENT_DOM_READY,\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_PROPERTY_CHANGED\n} = actionTypes;\n\nexport const draggableBehavior = {\n\tname: 'draggableBehavior',\n\tinitialState: {\n\t\ttargetRef: null,\n\t\tparentTargetRef: null\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: bindDraggableEvents,\n\t\t[COMPONENT_DISCONNECTED]: unbindDraggableEvents,\n\t\t[COMPONENT_PROPERTY_CHANGED]: clearStyles\n\t}\n};\n","const DOCUMENT_EVENTS = [\n\t'mousemove',\n\t'mousedown',\n\t'mouseup',\n\t'touchmove',\n\t'touchstart',\n\t'touchend'\n];\n\nlet activeItem = null;\nlet active = false;\n\nconst onDragStart = (e) => {\n\t// determine event object\n\tif (!e) {\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tlet e = window.event;\n\t}\n\tif (e.preventDefault) e.preventDefault();\n\n\tif (e.target !== e.currentTarget) {\n\t\tactive = true;\n\n\t\t// this is the item we are interacting with\n\t\tactiveItem = e.target;\n\n\t\tif (activeItem !== null) {\n\t\t\tif (!activeItem.xOffset) {\n\t\t\t\tactiveItem.xOffset = 0;\n\t\t\t}\n\n\t\t\tif (!activeItem.yOffset) {\n\t\t\t\tactiveItem.yOffset = 0;\n\t\t\t}\n\n\t\t\tif (e.type === 'touchstart') {\n\t\t\t\tactiveItem.initialX = e.touches[0].clientX - activeItem.xOffset;\n\t\t\t\tactiveItem.initialY = e.touches[0].clientY - activeItem.yOffset;\n\t\t\t} else {\n\t\t\t\tactiveItem.initialX = e.clientX - activeItem.xOffset;\n\t\t\t\tactiveItem.initialY = e.clientY - activeItem.yOffset;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nconst onDragEnd = () => {\n\tif (activeItem !== null) {\n\t\tactiveItem.initialX = activeItem.currentX;\n\t\tactiveItem.initialY = activeItem.currentY;\n\t}\n\n\tactive = false;\n\tactiveItem = null;\n\treturn false;\n};\n\nconst onDrag = (e) => {\n\tif (active) {\n\t\tif (e.type === 'touchmove') {\n\t\t\te.preventDefault();\n\n\t\t\tactiveItem.currentX = e.touches[0].clientX - activeItem.initialX;\n\t\t\tactiveItem.currentY = e.touches[0].clientY - activeItem.initialY;\n\t\t} else {\n\t\t\tactiveItem.currentX = e.clientX - activeItem.initialX;\n\t\t\tactiveItem.currentY = e.clientY - activeItem.initialY;\n\t\t}\n\n\t\tactiveItem.xOffset = activeItem.currentX;\n\t\tactiveItem.yOffset = activeItem.currentY;\n\n\t\tsetTranslate(activeItem.currentX, activeItem.currentY, activeItem);\n\t}\n};\n\nconst setTranslate = (xPos, yPos, el) => {\n\t// -undocked class is added to the floating items\n\t// that support dock /un-dock\n\tconst elNode = el.shadowRoot.querySelector('.-undocked');\n\tif (elNode) {\n\t\telNode.style.transform = 'translate3d(' + xPos + 'px, ' + yPos + 'px, 0)';\n\t}\n};\n\nconst clearTranslate = (el) => {\n\tif (el && el.shadowRoot && el.shadowRoot.childNodes) {\n\t\tel.shadowRoot.childNodes.forEach((node) => {\n\t\t\tnode.style.removeProperty('transform');\n\t\t});\n\t}\n};\n\nconst bindDraggableEvents = ({\n\thost,\n\tstate,\n\tupdateState,\n\tupdateProperties\n}) => {\n\tconst targetRef = host;\n\tconst parentTargetRef = host.parentElement;\n\tconst { dockingEnabled } = state.properties;\n\n\tif (dockingEnabled && targetRef && parentTargetRef) {\n\t\tDOCUMENT_EVENTS.forEach((eventType) => {\n\t\t\tif (eventType === 'touchstart' || eventType === 'mousedown') {\n\t\t\t\tparentTargetRef.addEventListener(\n\t\t\t\t\teventType,\n\t\t\t\t\t(e) => onDragStart(e, targetRef, updateProperties),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t} else if (eventType === 'touchend' || eventType === 'mouseup') {\n\t\t\t\tparentTargetRef.addEventListener(\n\t\t\t\t\teventType,\n\t\t\t\t\t(e) => onDragEnd(e, targetRef, updateProperties),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t} else if (eventType === 'touchmove' || eventType === 'mousemove') {\n\t\t\t\tparentTargetRef.addEventListener(\n\t\t\t\t\teventType,\n\t\t\t\t\t(e) => onDrag(e, targetRef, active),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateState({ targetRef: host, parentTargetRef: host.parentElement });\n};\n\nconst unbindDraggableEvents = ({ host, state }) => {\n\tconst targetRef = host;\n\tconst parentTargetRef = host.parentElement;\n\tconst { dockingEnabled } = state.properties;\n\n\tif (dockingEnabled && targetRef && parentTargetRef) {\n\t\tDOCUMENT_EVENTS.forEach((eventType) => {\n\t\t\tif (eventType === 'touchstart' || eventType === 'mousedown') {\n\t\t\t\tparentTargetRef.removeEventListener(\n\t\t\t\t\teventType,\n\t\t\t\t\t() => onDragStart,\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t} else if (eventType === 'touchend' || eventType === 'mouseup') {\n\t\t\t\tparentTargetRef.removeEventListener(eventType, () => onDragEnd, false);\n\t\t\t} else if (eventType === 'touchmove' || eventType === 'mousemove') {\n\t\t\t\tparentTargetRef.removeEventListener(eventType, () => onDrag, false);\n\t\t\t}\n\t\t});\n\t}\n};\n\nconst clearStyles = (coeffects) => {\n\tconst {\n\t\thost,\n\t\taction: { payload }\n\t} = coeffects;\n\tconst { name, previousValue, value } = payload;\n\tif (name === 'status' && previousValue !== value && value === 'DOCKED') {\n\t\tclearTranslate(host);\n\t}\n};\n\nconst effectHandlers = {\n\tbindDraggableEvents,\n\tunbindDraggableEvents,\n\tclearStyles\n};\n\nexport default {\n\teffectHandlers\n};\n","import './sn-canvas-sidepanel';\n","import { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport snCanvasSidepanelStyles from './_sn-canvas-sidepanel.scss';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-heading';\nimport '@servicenow/now-button';\nimport { POSITIONS } from './positions';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst _handleClose = (state, dispatch) => {\n\tlet { beforeClose } = state.properties;\n\tif (beforeClose && typeof beforeClose === 'function') {\n\t\tlet callbackFn = new Promise((resolve) => {\n\t\t\treturn resolve(beforeClose());\n\t\t});\n\t\tcallbackFn.then((res) => {\n\t\t\tres\n\t\t\t\t? dispatch('SN_CANVAS_SIDEPANEL#TOGGLE_OPENED', { opened: false })\n\t\t\t\t: null;\n\t\t});\n\t} else {\n\t\tdispatch('SN_CANVAS_SIDEPANEL#TOGGLE_OPENED', { opened: false });\n\t}\n};\n\nconst SnCanvasSidepanel = (state, { dispatch }) => {\n\tconst {\n\t\topened,\n\t\tbackdrop,\n\t\tposition,\n\t\tcontainerProps,\n\t\tcanClose,\n\t\theading,\n\t\tisTitleClickable\n\t} = state.properties;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"dialog\"\n\t\t\tclass={{ 'sn-canvas-sidepanel': true, '-backdrop': backdrop }}\n\t\t\thidden={!opened}\n\t\t\ton-click={() => {\n\t\t\t\t_handleClose(state, dispatch);\n\t\t\t}}>\n\t\t\t<div\n\t\t\t\tclassName={'sn-canvas-sidepanel-overlay -' + position.toLowerCase()}\n\t\t\t\tstyle={containerProps}\n\t\t\t\ton-click={(evt) => evt.stopPropagation()}>\n\t\t\t\t<div className=\"sn-canvas-sidepanel-overlay-panel\">\n\t\t\t\t\t{heading ? (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"sn-canvas-sidepanel-op-header\"\n\t\t\t\t\t\t\tstyle={{ cursor: isTitleClickable ? 'pointer' : 'auto' }}\n\t\t\t\t\t\t\ton-click={() => {\n\t\t\t\t\t\t\t\tisTitleClickable\n\t\t\t\t\t\t\t\t\t? dispatch('SN_CANVAS_SIDEPANEL#TITLE_CLICKED')\n\t\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div className=\"sn-canvas-sidepanel-oph-title\">\n\t\t\t\t\t\t\t\t<slot name=\"title\">\n\t\t\t\t\t\t\t\t\t<now-heading\n\t\t\t\t\t\t\t\t\t\tlabel={heading}\n\t\t\t\t\t\t\t\t\t\tlevel=\"1\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"header-secondary\"\n\t\t\t\t\t\t\t\t\t\thasNoMargin\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{canClose ? (\n\t\t\t\t\t\t\t\t<div className=\"sn-canvas-sidepanel-oph-icon\">\n\t\t\t\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\t\t\t\ticon-name=\"close-outline\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\tconfig-aria={{ 'aria-label': t('Close') }}\n\t\t\t\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\t\t\t\ton-click={(evt) => {\n\t\t\t\t\t\t\t\t\t\t\t_handleClose(state, dispatch);\n\t\t\t\t\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<slot name=\"content\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n/**\n *\n * ## Overview\n * The sidepanel component is a panel overlaying the screen on the right side.\n * It is used to show more details about a specific object in context. A sidepanel is often triggered by clicking a button\n * or icon that dispatches the action to toggle the visibility.\n *\n * ## Use cases\n * - Showing a sidepanel menu for mobile responsiveness.\n * - Showing detailed information about a transaction (such as items in a cart).\n * - Showing a list of notifications in a notifications tray (sidepanel).\n *\n * Sidepanel aims at UI needs to display workspace notification tray, portal mobile menu panel, and it could also be used\n * for contextual overlay panel across the viewport sides.\n *\n * @seismicElement sn-canvas-panel\n * @summary A panel component to display workspace notifications, portal menus and other contextual overlay on the viewport\n */\ncreateCustomElement('sn-canvas-sidepanel', {\n\tproperties: {\n\t\t/**\n\t\t * Property opened sets the state of the panel\n\t\t * @type {boolean} set state on side panel\n\t\t */\n\t\topened: { default: false, manageable: true, schema: { type: 'boolean' } },\n\t\t/**\n\t\t * Property backdrop sets the background opacity for the region outside the sidepanel\n\t\t * @type {boolean} set the backdrop to enable background opacity for the region outside the sidepanel\n\t\t */\n\t\tbackdrop: { default: true, schema: { type: 'boolean' } },\n\t\t/**\n\t\t * Property position to set the position of the panel\n\t\t * @type {string} Position - Possible values - TOP,  LEFT, BOTTOM, RIGHT\n\t\t */\n\t\tposition: { default: POSITIONS.RIGHT, schema: { type: 'string' } },\n\t\t/**\n\t\t * Property to set the styles for the panel container\n\t\t * @type {object} Style for container element\n\t\t */\n\t\tcontainerProps: { default: {}, schema: { type: 'object' } },\n\t\t/**\n\t\t * Property sets the icon of the panel header.\n\t\t * @type {boolean} Icon in the header of the panel\n\t\t */\n\t\tcanClose: { default: true, schema: { type: 'boolean' } },\n\t\t/**\n\t\t * Property sets the title of the panel content if title is not sent as slot.\n\t\t * @type {string} Title in the header of panel\n\t\t */\n\t\theading: { default: '', schema: { type: 'string' } },\n\t\t/**\n\t\t * Property sets a callback function to handle before panel is closed.\n\t\t * @type {function} beforeClose A callback function called when user tries to close the panel\n\t\t */\n\t\tbeforeClose: { default: null },\n\t\t/**\n\t\t * If this property is true, header will be clickable.\n\t\t * @type {Boolean} True if header should be clickable\n\t\t */\n\t\tisTitleClickable: { default: false, schema: { type: 'boolean' } }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: SnCanvasSidepanel\n\t},\n\tstyles: snCanvasSidepanelStyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the side panel is opened/closed.\n\t\t * @type {{opened: false}}\n\t\t */\n\t\t'SN_CANVAS_SIDEPANEL#TOGGLE_OPENED': {},\n\t\t/**\n\t\t * Dispatched when the panel title is clicked.\n\t\t * @type {{}}\n\t\t */\n\t\t'SN_CANVAS_SIDEPANEL#TITLE_CLICKED': {}\n\t},\n\tslots: {\n\t\t/**\n\t\t * Sidepanel title appears in this named slot. A title can be clickable, and\n\t\t * dispatches `SN_CANVAS_SIDEPANEL#TITLE_CLICKED` action when clicked.\n\t\t */\n\t\ttitle: {},\n\t\t/**\n\t\t * Content placed in this named slot that appears inside of the sidepanel. It takes care of enabling\n\t\t * the vertical scrollbar for large content.\n\t\t */\n\t\tcontent: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: {\n\t\t\teffect({ state, dispatch }) {\n\t\t\t\tconst { opened } = state.properties;\n\t\t\t\tif (opened) {\n\t\t\t\t\tdispatch('SN_CANVAS_SIDEPANEL#TOGGLE_OPENED', { opened: true });\n\t\t\t\t\t// To avoid parent scrollbar while the panel is shown.\n\t\t\t\t\t//  panel may have vertical scrollbar for overflowing content\n\t\t\t\t\tdocument.body.style.cssText = 'height:100vh !important';\n\t\t\t\t} else {\n\t\t\t\t\t//reset back the height to enable back the parent scrollbar\n\t\t\t\t\tdocument.body.style.cssText = 'height:auto !important';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tbehaviors: [rtlBehavior]\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-sidepanel.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;border:none;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}.now-a11y-label,:host{margin:0;padding:0}.sn-canvas-sidepanel{position:fixed;top:0;bottom:0;z-index:3000;letter-spacing:normal;word-spacing:normal}:host(:not([dir=rtl])) .sn-canvas-sidepanel,:root:not([dir=rtl]) .sn-canvas-sidepanel{right:0}:host(:not([dir=rtl])) .sn-canvas-sidepanel,:host([dir=rtl]) .sn-canvas-sidepanel,:root:not([dir=rtl]) .sn-canvas-sidepanel,:root[dir=rtl] .sn-canvas-sidepanel{left:0}:host([dir=rtl]) .sn-canvas-sidepanel,:root[dir=rtl] .sn-canvas-sidepanel{right:0}:host(:not([dir=rtl])) .sn-canvas-sidepanel,:root:not([dir=rtl]) .sn-canvas-sidepanel{text-align:left}:host([dir=rtl]) .sn-canvas-sidepanel,:root[dir=rtl] .sn-canvas-sidepanel{text-align:right}.sn-canvas-sidepanel:before{content:\\\"\\\";position:relative;top:0;display:block;width:100%;height:100%}:host(:not([dir=rtl])) .sn-canvas-sidepanel:before,:root:not([dir=rtl]) .sn-canvas-sidepanel:before{left:0}:host([dir=rtl]) .sn-canvas-sidepanel:before,:root[dir=rtl] .sn-canvas-sidepanel:before{right:0}.sn-canvas-sidepanel.-backdrop:before{background-color:RGBA(var(--now-color--neutral-21,0,0,0),.16)}.sn-canvas-sidepanel-overlay{position:absolute;overflow:auto;height:100vh;padding:1.5rem;box-shadow:0 4px .5rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);background-color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-canvas-sidepanel-overlay.-top{top:0;width:100vw;height:23.4375rem;max-height:80%}:host(:not([dir=rtl])) .sn-canvas-sidepanel-overlay.-top,:root:not([dir=rtl]) .sn-canvas-sidepanel-overlay.-top{left:0}:host([dir=rtl]) .sn-canvas-sidepanel-overlay.-top,:root[dir=rtl] .sn-canvas-sidepanel-overlay.-top{right:0}.sn-canvas-sidepanel-overlay.-bottom{bottom:0;width:100vw;height:23.4375rem;max-height:80%}:host(:not([dir=rtl])) .sn-canvas-sidepanel-overlay.-bottom,:root:not([dir=rtl]) .sn-canvas-sidepanel-overlay.-bottom{left:0}:host([dir=rtl]) .sn-canvas-sidepanel-overlay.-bottom,:root[dir=rtl] .sn-canvas-sidepanel-overlay.-bottom{right:0}.sn-canvas-sidepanel-overlay.-left{top:0;width:23.4375rem;max-width:80%;height:100vh}:host(:not([dir=rtl])) .sn-canvas-sidepanel-overlay.-left,:root:not([dir=rtl]) .sn-canvas-sidepanel-overlay.-left{left:0}:host([dir=rtl]) .sn-canvas-sidepanel-overlay.-left,:root[dir=rtl] .sn-canvas-sidepanel-overlay.-left{right:0}.sn-canvas-sidepanel-overlay.-right{top:0;width:23.4375rem;max-width:80%;height:100vh}:host(:not([dir=rtl])) .sn-canvas-sidepanel-overlay.-right,:root:not([dir=rtl]) .sn-canvas-sidepanel-overlay.-right{right:0}:host([dir=rtl]) .sn-canvas-sidepanel-overlay.-right,:root[dir=rtl] .sn-canvas-sidepanel-overlay.-right{left:0}.sn-canvas-sidepanel-overlay .sn-canvas-sidepanel-overlay-panel{height:100%}.sn-canvas-sidepanel-overlay .sn-canvas-sidepanel-op-header{display:flex;justify-content:space-between;align-items:center;height:4.0625rem}:host(:not([dir=rtl])) .sn-canvas-sidepanel-overlay .sn-canvas-sidepanel-op-header .sn-canvas-sidepanel-oph-icon,:root:not([dir=rtl]) .sn-canvas-sidepanel-overlay .sn-canvas-sidepanel-op-header .sn-canvas-sidepanel-oph-icon{margin-right:1rem}:host([dir=rtl]) .sn-canvas-sidepanel-overlay .sn-canvas-sidepanel-op-header .sn-canvas-sidepanel-oph-icon,:root[dir=rtl] .sn-canvas-sidepanel-overlay .sn-canvas-sidepanel-op-header .sn-canvas-sidepanel-oph-icon{margin-left:1rem}.sn-canvas-sidepanel-overlay .sn-canvas-sidepanel-op-header .sn-canvas-sidepanel-oph-title{margin:0;padding:0;font-size:1rem;color:RGB(var(--now-color--neutral-18,22,27,28))}\", \"\"]);\n\n// exports\n","export const POSITIONS = {\n\tTOP: 'TOP',\n\tBOTTOM: 'BOTTOM',\n\tLEFT: 'LEFT',\n\tRIGHT: 'RIGHT'\n};\n","import './sn-canvas-corner-dialog';\n","import { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport snCanvasCornerDialogStyles from './_sn-canvas-corner-dialog.scss';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-heading';\nimport '@servicenow/now-button';\nimport '@servicenow/now-icon';\nimport positions from './positions';\nimport absolutePositions from './absolutePositions';\nimport {\n\tincludes as _includes,\n\tkeys as _keys,\n\tisEmpty as _isEmpty\n} from 'lodash';\n\nconst { COMPONENT_CONNECTED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst _handleClose = (state, dispatch) => {\n\tlet { beforeClose } = state.properties;\n\tif (beforeClose && typeof beforeClose === 'function') {\n\t\tlet callbackFn = new Promise((resolve) => {\n\t\t\treturn resolve(beforeClose());\n\t\t});\n\t\tcallbackFn.then((res) => {\n\t\t\tres\n\t\t\t\t? dispatch('SN_CANVAS_CORNER_DIALOG#TOGGLE_OPENED', { opened: false })\n\t\t\t\t: null;\n\t\t});\n\t} else {\n\t\tdispatch('SN_CANVAS_CORNER_DIALOG#TOGGLE_OPENED', { opened: false });\n\t}\n};\n\nconst snCanvasCornerDialog = (state, { dispatch }) => {\n\tconst {\n\t\topened,\n\t\tposition,\n\t\tcontainerProps,\n\t\thasCloseIcon,\n\t\theading\n\t} = state.properties;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"sn-canvas-corner-dialog\"\n\t\t\thidden={!opened}\n\t\t\tstyle={{\n\t\t\t\t...containerProps,\n\t\t\t\t...absolutePositions[\n\t\t\t\t\t_includes(_keys(absolutePositions), position)\n\t\t\t\t\t\t? position\n\t\t\t\t\t\t: positions.BOTTOM_RIGHT\n\t\t\t\t],\n\t\t\t\tbackground: '#ffffff'\n\t\t\t}}>\n\t\t\t<header className=\"sn-canvas-corner-dialog-header\">\n\t\t\t\t<slot name=\"header\">\n\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\t<now-icon icon=\"lightbulb-outline\" size=\"md\" />\n\t\t\t\t\t\t<now-heading\n\t\t\t\t\t\t\tlabel={heading}\n\t\t\t\t\t\t\tlevel=\"3\"\n\t\t\t\t\t\t\tvariant=\"header-secondary\"\n\t\t\t\t\t\t\thasNoMargin\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</slot>\n\t\t\t\t{hasCloseIcon ? (\n\t\t\t\t\t<div className=\"sn-canvas-corner-dialog-close-icon\">\n\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\ticon-name=\"close-outline\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tconfig-aria={{ 'aria-label': t('Close') }}\n\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\ton-click={(evt) => {\n\t\t\t\t\t\t\t\t_handleClose(state, dispatch);\n\t\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</header>\n\t\t\t<div className=\"sn-canvas-corner-dialog-content\">\n\t\t\t\t<slot name=\"content\">\n\t\t\t\t\t<span>content goes here..</span>\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<footer className=\"sn-canvas-corner-dialog-footer\">\n\t\t\t\t<slot name=\"footer\">\n\t\t\t\t\t<span>footer goes here..</span>\n\t\t\t\t</slot>\n\t\t\t</footer>\n\t\t</div>\n\t);\n};\n\n/**\n * Corner dialog aims at UI needs to display content at the configured corners of the viewport.\n *\n * @seismicElement sn-canvas-corner-dialog\n * @summary A corner dialog component to display visual announcements at the corners of the viewport\n */\ncreateCustomElement('sn-canvas-corner-dialog', {\n\tproperties: {\n\t\t/**\n\t\t * Property opened sets the state of the corner dialog\n\t\t * @type {Boolean} set state on corner dialog\n\t\t */\n\t\topened: { default: false, manageable: true },\n\t\t/**\n\t\t * Property position to set the position of the corner dialog\n\t\t * @type {('top-left'|'top-right'|'bottom-left'|'bottom-right')} Position - Possible values are:\n\t\t * \t- top-left,\n\t\t *  - top-right,\n\t\t *  - bottom-left,\n\t\t *  - bottom-right\n\t\t */\n\t\tposition: { default: positions.TOP_RIGHT, manageable: true },\n\t\t/**\n\t\t * Property to set the styles for the corner dialog container\n\t\t * @type {string} Style for container element\n\t\t */\n\t\tcontainerProps: { default: null },\n\t\t/**\n\t\t * Property sets the close icon to dismiss the corner dialog.\n\t\t * @type {string} Icon in the header of corner dialog\n\t\t */\n\t\thasCloseIcon: { default: true },\n\t\t/**\n\t\t * Property sets the heading for the corner dialog if not sent as slot.\n\t\t * @type {string} Heading in the header of corner dialog\n\t\t */\n\t\theading: { default: 'Guided Action' },\n\t\t/**\n\t\t * Property sets a callback function to handle before corner dialog is closed.\n\t\t * @type {function} beforeClose A callback function called when user tries to close corner dialog\n\t\t */\n\t\tbeforeClose: { default: null }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasCornerDialog\n\t},\n\tstyles: snCanvasCornerDialogStyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the corner dialog is opened/closed.\n\t\t * @type {{}}\n\t\t */\n\t\t'SN_CANVAS_CORNER_DIALOG#TOGGLE_OPENED': {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]: {\n\t\t\teffect({ host }) {\n\t\t\t\tif (!_isEmpty(host)) {\n\t\t\t\t\thost.parentElement.style.position = 'relative';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: {\n\t\t\teffect({ state, dispatch }) {\n\t\t\t\tif (state.properties.opened) {\n\t\t\t\t\tdispatch('SN_CANVAS_CORNER_DIALOG#TOGGLE_OPENED', { opened: true });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-corner-dialog.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-canvas-corner-dialog{position:absolute;z-index:4001;min-width:21.875rem;border:1px solid rgb(var(--now-color--neutral-4,191,197,198));border-radius:.25rem;padding:1.5rem;box-shadow:0 4px .5rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);background:var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255));font-style:normal;font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;white-space:normal}:host(:not([dir=rtl])) .sn-canvas-corner-dialog,:root:not([dir=rtl]) .sn-canvas-corner-dialog{text-align:left}:host([dir=rtl]) .sn-canvas-corner-dialog,:root[dir=rtl] .sn-canvas-corner-dialog{text-align:right}.sn-canvas-corner-dialog .sn-canvas-corner-dialog-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.sn-canvas-corner-dialog .sn-canvas-corner-dialog-header .header{display:flex;align-items:center;justify-items:center}.sn-canvas-corner-dialog .sn-canvas-corner-dialog-content{overflow-y:auto}.sn-canvas-corner-dialog .sn-canvas-corner-dialog-footer{margin-top:1.5rem}.sn-canvas-corner-dialog .sn-canvas-corner-dialog-footer .sn-canvas-corner-dialog-footer-button{display:flex;justify-content:flex-end;align-items:center;justify-items:center}:host(:not([dir=rtl])) .sn-canvas-corner-dialog .sn-canvas-corner-dialog-footer .sn-canvas-corner-dialog-button:last-of-type,:root:not([dir=rtl]) .sn-canvas-corner-dialog .sn-canvas-corner-dialog-footer .sn-canvas-corner-dialog-button:last-of-type{margin-left:.25rem}:host([dir=rtl]) .sn-canvas-corner-dialog .sn-canvas-corner-dialog-footer .sn-canvas-corner-dialog-button:last-of-type,:root[dir=rtl] .sn-canvas-corner-dialog .sn-canvas-corner-dialog-footer .sn-canvas-corner-dialog-button:last-of-type{margin-right:.25rem}\", \"\"]);\n\n// exports\n","import positions from './positions';\n\nexport default {\n\t[positions.TOP_LEFT]: {\n\t\ttop: '50px',\n\t\tleft: '50px'\n\t},\n\t[positions.TOP_RIGHT]: {\n\t\ttop: '50px',\n\t\tright: '50px'\n\t},\n\t[positions.BOTTOM_LEFT]: {\n\t\tbottom: '50px',\n\t\tleft: '50px'\n\t},\n\t[positions.BOTTOM_RIGHT]: {\n\t\tbottom: '50px',\n\t\tright: '50px'\n\t}\n};\n","import './sn-canvas-viewport';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { uxfViewportBehavior } from '@devsnc/library-uxf';\nimport snCanvasViewportEffect from './snCanvasViewportEffect';\nimport snCanvasViewportStyles from './_sn-canvas-viewport.scss';\n\nconst { COMPONENT_DOM_READY, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst {\n\thandleComponentDOMReady,\n\thandleComponentPropertyChanged\n} = snCanvasViewportEffect.effectHandlers;\n\nconst snCanvasViewport = () => {\n\treturn (\n\t\t<div className=\"sn-canvas-viewport\">\n\t\t\t<slot name=\"viewport\" />\n\t\t</div>\n\t);\n};\n\ncreateCustomElement('sn-canvas-viewport', {\n\tproperties: {\n\t\tpreload: { default: false, schema: { type: 'boolean' } },\n\t\tincludesFieldsParams: { default: false, schema: { type: 'boolean' } },\n\t\toptions: { default: {}, schema: { type: 'object' } },\n\t\tactiveParentId: { default: null, schema: { type: 'string' } },\n\t\tactiveRecords: { default: null, schema: { type: 'array' } },\n\t\tmaxTabLimit: { default: 0, schema: { type: 'number' } }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasViewport\n\t},\n\tstyles: snCanvasViewportStyles,\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: handleComponentDOMReady,\n\t\t[COMPONENT_PROPERTY_CHANGED]: handleComponentPropertyChanged\n\t},\n\tbehaviors: [uxfViewportBehavior]\n});\n","import { isEmpty as _isEmpty, get as _get, forOwn as _forOwn } from 'lodash';\n\nimport {\n\tgetFieldsFromViewportRoutes,\n\tgetParamsFromViewportRoutes\n} from './utils';\n\n/**\n * loadViewport\n * @param viewportRoutes\n * @param viewportInfo\n * @param dispatch\n * @param updateProperties\n */\nconst loadViewport = (\n\tviewportRoutes,\n\tviewportInfo,\n\tdispatch,\n\tupdateProperties\n) => {\n\t_forOwn(viewportRoutes, (viewportRouteConfig, route) => {\n\t\tif (route === _get(viewportInfo, 'route')) {\n\t\t\tdispatch('UXF_VIEWPORT#RENDER_BY_ID', {\n\t\t\t\t...viewportInfo,\n\t\t\t\treinitialize: true\n\t\t\t});\n\n\t\t\t// turn off preload, to stop re-firing on component prop change\n\t\t\tupdateProperties({ preload: false });\n\t\t}\n\t});\n};\n\n/**\n * loadViewportWithFieldsAndParams\n * @param properties\n * @param dispatch\n * @param updateProperties\n */\nconst loadViewportWithFieldsAndParams = (\n\tproperties,\n\tdispatch,\n\tupdateProperties\n) => {\n\tconst {\n\t\tviewportRoutes,\n\t\toptions: { viewportInfo }\n\t} = properties;\n\n\t_forOwn(viewportRoutes, (viewportRouteConfig, route) => {\n\t\tif (route === _get(viewportInfo, 'route')) {\n\t\t\tdispatch('UXF_VIEWPORT#RENDER_BY_ID', {\n\t\t\t\t...viewportInfo,\n\t\t\t\tfields: {\n\t\t\t\t\t...getFieldsFromViewportRoutes(viewportRoutes, properties)\n\t\t\t\t},\n\t\t\t\tparams: {\n\t\t\t\t\t...getParamsFromViewportRoutes(viewportRoutes, properties)\n\t\t\t\t},\n\t\t\t\treinitialize: true\n\t\t\t});\n\n\t\t\t// turn off preload, to stop re-firing on component prop change\n\t\t\tupdateProperties({ preload: false });\n\t\t}\n\t});\n};\n\n/**\n * handleComponentDOMReady\n * @param properties\n * @param dispatch\n * @param updateProperties\n */\nconst handleComponentDOMReady = ({\n\tproperties,\n\tdispatch,\n\tupdateProperties\n}) => {\n\tconst {\n\t\tpreload,\n\t\tviewportRoutes,\n\t\toptions,\n\t\tincludesFieldsParams = false\n\t} = properties;\n\tconst { viewportInfo } = options;\n\t/**\n\t * preload viewports - Preload viewports that don't require any fields & params\n\t * e.g. Ongoing sidebar, and CTI use cases\n\t **/\n\tif (\n\t\tpreload &&\n\t\t!includesFieldsParams &&\n\t\t!_isEmpty(_get(viewportInfo, 'viewportElementId')) &&\n\t\t!_isEmpty(viewportRoutes)\n\t) {\n\t\tloadViewport(viewportRoutes, viewportInfo, dispatch, updateProperties);\n\t}\n};\n\n/**\n * onMaxTabLimitChange\n * @param properties\n * @param dispatch\n * @param updateProperties\n */\nconst onMaxTabLimitChange = (properties, dispatch, updateProperties) => {\n\tconst {\n\t\tpreload,\n\t\tactiveRecords,\n\t\tmaxTabLimit,\n\t\tviewportRoutes,\n\t\toptions: { viewportInfo },\n\t\tincludesFieldsParams = false\n\t} = properties;\n\n\tif (\n\t\tpreload &&\n\t\tincludesFieldsParams &&\n\t\t!_isEmpty(_get(viewportInfo, 'viewportElementId')) &&\n\t\t!_isEmpty(viewportRoutes)\n\t) {\n\t\t// preload viewports, that require maxTabLimit & activeRecords e.g. inbox viewport\n\t\tif (maxTabLimit && Array.isArray(activeRecords)) {\n\t\t\tloadViewportWithFieldsAndParams(properties, dispatch, updateProperties);\n\t\t}\n\t}\n};\n\n/**\n * onActiveParentIdChange\n * @param properties\n * @param dispatch\n * @param updateProperties\n */\nconst onActiveParentIdChange = (properties, dispatch, updateProperties) => {\n\tconst {\n\t\tpreload,\n\t\tactiveParentId,\n\t\tactiveRecords,\n\t\tviewportRoutes,\n\t\toptions,\n\t\tincludesFieldsParams = false\n\t} = properties;\n\n\tconst { viewportInfo } = options;\n\n\t// update viewports on activeParentId change\n\tif (\n\t\t!preload &&\n\t\tincludesFieldsParams &&\n\t\t!_isEmpty(_get(viewportInfo, 'viewportElementId')) &&\n\t\t!_isEmpty(viewportRoutes)\n\t) {\n\t\tif (!_isEmpty(activeParentId) && Array.isArray(activeRecords)) {\n\t\t\tloadViewportWithFieldsAndParams(properties, dispatch, updateProperties);\n\t\t}\n\t}\n};\n\n/**\n * onActiveRecordsChange\n * @param properties\n * @param dispatch\n * @param updateProperties\n */\nconst onActiveRecordsChange = (properties, dispatch, updateProperties) => {\n\tconst {\n\t\tpreload,\n\t\tactiveParentId,\n\t\tactiveRecords,\n\t\tmaxTabLimit,\n\t\tviewportRoutes,\n\t\toptions: { viewportInfo },\n\t\tincludesFieldsParams = false\n\t} = properties;\n\n\tif (\n\t\tpreload &&\n\t\tincludesFieldsParams &&\n\t\t!_isEmpty(_get(viewportInfo, 'viewportElementId')) &&\n\t\t!_isEmpty(viewportRoutes)\n\t) {\n\t\t// preload agent chat shell\n\t\tif (!_isEmpty(activeParentId) && Array.isArray(activeRecords)) {\n\t\t\tloadViewportWithFieldsAndParams(properties, dispatch, updateProperties);\n\t\t}\n\t}\n\n\t// update viewports on activeRecords change\n\tif (\n\t\t!preload &&\n\t\tincludesFieldsParams &&\n\t\t!_isEmpty(_get(viewportInfo, 'viewportElementId')) &&\n\t\t!_isEmpty(viewportRoutes)\n\t) {\n\t\tif (maxTabLimit) {\n\t\t\tloadViewportWithFieldsAndParams(properties, dispatch, updateProperties);\n\t\t}\n\n\t\tif (!_isEmpty(activeParentId)) {\n\t\t\tloadViewportWithFieldsAndParams(properties, dispatch, updateProperties);\n\t\t}\n\t}\n};\n\n/**\n * handleComponentPropertyChanged\n * @param action\n * @param properties\n * @param dispatch\n * @param updateProperties\n */\nconst handleComponentPropertyChanged = ({\n\taction,\n\tproperties,\n\tdispatch,\n\tupdateProperties\n}) => {\n\tconst { name } = action.payload;\n\tswitch (name) {\n\t\tcase 'maxTabLimit':\n\t\t\tonMaxTabLimitChange(properties, dispatch, updateProperties);\n\t\t\tbreak;\n\t\tcase 'activeParentId':\n\t\t\tonActiveParentIdChange(properties, dispatch, updateProperties);\n\t\t\tbreak;\n\t\tcase 'activeRecords':\n\t\t\tonActiveRecordsChange(properties, dispatch, updateProperties);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n\nconst effectHandlers = {\n\thandleComponentDOMReady,\n\thandleComponentPropertyChanged\n};\n\nexport default {\n\teffectHandlers\n};\n","import { forEach as _forEach, forOwn as _forOwn, get as _get } from 'lodash';\n\n/**\n * getFieldValueFromViewportInfo\n * @param viewportInfo\n * @param field\n * @return {*}\n */\nexport const getFieldValueFromViewportInfo = (viewportInfo, field) => {\n\tconst { fields } = viewportInfo;\n\treturn fields[field];\n};\n\n/**\n * getFieldsFromViewportRoutes\n * @param viewportRoutes\n * @param properties\n * @return {{}}\n */\nexport const getFieldsFromViewportRoutes = (viewportRoutes, properties) => {\n\tconst {\n\t\toptions: { viewportInfo }\n\t} = properties;\n\tlet newFields = {};\n\t_forOwn(viewportRoutes, (viewportRouteConfig, route) => {\n\t\tif (route === _get(viewportInfo, 'route')) {\n\t\t\tconst fields = _get(\n\t\t\t\tviewportRouteConfig.find((rc) => rc.routeType === route),\n\t\t\t\t'fields'\n\t\t\t);\n\t\t\tnewFields = {};\n\t\t\t_forEach(fields, (f) => {\n\t\t\t\tif (f === 'opened') {\n\t\t\t\t\tnewFields[f] = viewportOpened(viewportInfo);\n\t\t\t\t} else {\n\t\t\t\t\tnewFields[f] = !properties[f]\n\t\t\t\t\t\t? getFieldValueFromViewportInfo(viewportInfo, f)\n\t\t\t\t\t\t: properties[f];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\treturn newFields;\n};\n\n/**\n * getParamsFromViewportRoutes\n * @param viewportRoutes\n * @param properties\n * @return {{}}\n */\nexport const getParamsFromViewportRoutes = (viewportRoutes, properties) => {\n\tconst {\n\t\toptions: { viewportInfo }\n\t} = properties;\n\tlet newParams = {};\n\t_forOwn(viewportRoutes, (viewportRouteConfig, route) => {\n\t\tif (route === _get(viewportInfo, 'route')) {\n\t\t\tconst params = _get(\n\t\t\t\tviewportRouteConfig.find((rc) => rc.routeType === route),\n\t\t\t\t'optionalParameters'\n\t\t\t);\n\t\t\tnewParams = {};\n\t\t\t_forEach(params, (p) => {\n\t\t\t\tnewParams[p] = properties[p];\n\t\t\t});\n\t\t}\n\t});\n\n\treturn newParams;\n};\n\n/**\n * getFields\n * @param viewportRoutes\n * @param viewportInfo\n * @return {[]}\n */\nexport const getFields = (viewportRoutes, viewportInfo) => {\n\tlet fields = [];\n\t_forOwn(viewportRoutes, (viewportRouteConfig, route) => {\n\t\tif (route === _get(viewportInfo, 'route')) {\n\t\t\tfields = _get(\n\t\t\t\tviewportRouteConfig.find((rc) => rc.routeType === route),\n\t\t\t\t'fields',\n\t\t\t\t[]\n\t\t\t);\n\t\t}\n\t});\n\treturn fields;\n};\n\n/**\n * getParams\n * @param viewportRoutes\n * @param viewportInfo\n * @return {[]}\n */\nexport const getParams = (viewportRoutes, viewportInfo) => {\n\tlet params = [];\n\t_forOwn(viewportRoutes, (viewportRouteConfig, route) => {\n\t\tif (route === _get(viewportInfo, 'route')) {\n\t\t\tparams = _get(\n\t\t\t\tviewportRouteConfig.find((rc) => rc.routeType === route),\n\t\t\t\t'optionalParameters',\n\t\t\t\t[]\n\t\t\t);\n\t\t}\n\t});\n\treturn params;\n};\n\n/**\n *\n * @return {*}\n */\nconst currentRoute = () => {\n\tconst activeButton = JSON.parse(\n\t\twindow.sessionStorage.getItem('canvasToolbar')\n\t);\n\treturn _get(activeButton, 'routeInfo.route', '');\n};\n\n/**\n * skipPreload\n * @param viewportInfo\n * @return {boolean}\n */\nexport const skipPreload = (viewportInfo) => {\n\tconst route = currentRoute();\n\treturn _get(viewportInfo, 'route', '').indexOf(route) !== -1;\n};\n\n/**\n * viewportOpened\n * @param viewportInfo\n * @returns {boolean}\n */\nconst viewportOpened = (viewportInfo) => {\n\tconst currentActiveButton = JSON.parse(\n\t\twindow.sessionStorage.getItem('canvasToolbar')\n\t);\n\tconst route = _get(viewportInfo, 'route');\n\tlet opened = false;\n\tif (route === _get(currentActiveButton, 'viewportInfo.route')) {\n\t\topened = _get(currentActiveButton, 'viewportInfo.fields.opened');\n\t}\n\treturn opened;\n};\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-viewport.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-canvas-viewport{position:relative;width:100%;height:100%}\", \"\"]);\n\n// exports\n","import './sn-canvas-notification-tray';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport isEqual from 'lodash/isEqual';\nimport isEmpty from 'lodash/isEmpty';\nimport debounce from 'lodash/debounce';\nimport rtlBehavior from '@servicenow/behavior-rtl';\n\nimport '@servicenow/now-message';\nimport '@servicenow/now-card';\nimport '@servicenow/now-button';\nimport '@servicenow/now-heading';\n\nimport '../internal/sn-canvas-time-ago';\nimport { focusFirstElement, reachedScrollBottom } from './utils/dom';\nimport snCanvasNotificationTrayStyles from './_sn-canvas-notification-tray.scss';\n\nconst NOTIFICATION_TRAY = 'tray';\nconst ALERT_STATUS_READ = 'read';\nconst ALERT_STATUS_DELETED = 'deleted';\n\nconst NOTIFICATION_CLOSE_ACTION_ID = 'NOTIFICATION_CLOSE_ACTION_ID';\n\nconst {\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_CONNECTED,\n\tCOMPONENT_DOM_READY,\n\tCOMPONENT_DISCONNECTED\n} = actionTypes;\n\nconst PASSIVE = { passive: true };\nconst NOOP = () => {};\n\nconst _onScrollOrResize = (scrollParent, dispatch) => {\n\tif (scrollParent) {\n\t\tconst reachBottom = reachedScrollBottom(scrollParent);\n\t\tif (reachBottom) {\n\t\t\tdispatch('NOTIFICATION_LOAD_MORE', {});\n\t\t}\n\t}\n};\n\nconst _addListeners = (scrollParent, handler) => {\n\tif (scrollParent) {\n\t\twindow.addEventListener('resize', handler);\n\t\tscrollParent.addEventListener('scroll', handler, PASSIVE);\n\n\t\t// You have to attach mousewheel listener to the scrollable element.\n\t\t// Just an empty listener. After that onscroll events will be fired synchronously.\n\t\tscrollParent.addEventListener('mousewheel', NOOP, PASSIVE);\n\t}\n};\n\nconst _removeListeners = (scrollParent, handler) => {\n\tif (scrollParent) {\n\t\t// Need to store function in state\n\t\twindow.removeEventListener('resize', handler);\n\t\tscrollParent.removeEventListener('scroll', handler, PASSIVE);\n\t\tscrollParent.removeEventListener('mousewheel', NOOP, PASSIVE);\n\t}\n};\n\nconst _getDateRangeToClear = (itemsToClear, groupId) => {\n\tif (itemsToClear.length <= 0) return;\n\n\tconst { raw_time_stamp, time_stamp } = itemsToClear[0];\n\tconst latestDate = new Date(time_stamp);\n\n\tif (groupId === 'today' || groupId === 'yesterday') {\n\t\tconst year = latestDate.getUTCFullYear();\n\t\tconst month = latestDate.getUTCMonth() + 1;\n\t\tconst day = latestDate.getUTCDate();\n\n\t\tconst startDate = `${year}-${month}-${day} 00:00:00`;\n\n\t\treturn {\n\t\t\tstartDate: startDate,\n\t\t\tendDate: raw_time_stamp\n\t\t};\n\t}\n\n\tif (groupId === 'older') {\n\t\tlet dateDaysBefore = new Date();\n\t\tdateDaysBefore.setDate(dateDaysBefore.getDate() - 7);\n\n\t\tconst year = dateDaysBefore.getUTCFullYear();\n\t\tconst month = dateDaysBefore.getUTCMonth() + 1;\n\t\tconst day = dateDaysBefore.getUTCDate();\n\n\t\tconst hours = dateDaysBefore.getUTCHours();\n\t\tconst mins = dateDaysBefore.getUTCMinutes();\n\t\tconst secs = dateDaysBefore.getUTCSeconds();\n\n\t\tconst startDate = `${year}-${month}-${day} ${hours}:${mins}:${secs}`;\n\n\t\treturn {\n\t\t\tstartDate: startDate,\n\t\t\tendDate: raw_time_stamp\n\t\t};\n\t}\n};\n\nconst snCanvasNotificationTray = (state) => {\n\tconst { notificationQueue, isLoading } = state.properties;\n\tconst hasNoNotifications =\n\t\t!notificationQueue || notificationQueue.length <= 3;\n\n\tconst renderSection = (header, body, sectionId) => {\n\t\treturn (\n\t\t\t<li className=\"sn-canvas-notification-tray-section\" key={sectionId}>\n\t\t\t\t{header}\n\t\t\t\t<div>\n\t\t\t\t\t<ul>{body}</ul>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t};\n\n\tconst renderTrayItem = (item, i) => {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tmessage,\n\t\t\tinfoIcon,\n\t\t\talert_sys_id,\n\t\t\ttable,\n\t\t\tsys_id,\n\t\t\ttime_stamp,\n\t\t\tis_read\n\t\t} = item;\n\n\t\tconst notificationItemPayload = {\n\t\t\ttable,\n\t\t\tsysId: sys_id,\n\t\t\talertSysId: alert_sys_id,\n\t\t\tmode: NOTIFICATION_TRAY\n\t\t};\n\t\tconst readStatus = is_read ? 'is-read' : 'is-unread';\n\t\tconst headingLabel = !isEmpty(title)\n\t\t\t? { label: title, size: 'sm', lines: 1 }\n\t\t\t: {};\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclassName=\"sn-canvas-notification-tray-item\"\n\t\t\t\tkey={`${i}_${alert_sys_id}`}>\n\t\t\t\t<now-card\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\tconfigAria={{ button: { 'aria-label': `${title} ${message}` } }}\n\t\t\t\t\tclassName={`sn-canvas-notification-tray-card --${readStatus}`}\n\t\t\t\t\tappend-to-payload={notificationItemPayload}\n\t\t\t\t\tinteraction=\"select\">\n\t\t\t\t\t<now-card-header\n\t\t\t\t\t\tclassName=\"sn-canvas-notification-tray-card-header\"\n\t\t\t\t\t\theading={headingLabel}>\n\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\tclassName=\"sn-canvas-notification-tray-card-header-icon\"\n\t\t\t\t\t\t\tslot=\"identifier\"\n\t\t\t\t\t\t\ticon={infoIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</now-card-header>\n\n\t\t\t\t\t{!isEmpty(message) ? (\n\t\t\t\t\t\t<p className=\"sn-canvas-notification-tray-card-body\">{message}</p>\n\t\t\t\t\t) : null}\n\n\t\t\t\t\t<sn-canvas-time-ago\n\t\t\t\t\t\tclassName=\"sn-canvas-notification-tray-card-footer\"\n\t\t\t\t\t\tmode=\"footer\"\n\t\t\t\t\t\ttimeStamp={time_stamp}\n\t\t\t\t\t/>\n\t\t\t\t</now-card>\n\t\t\t\t<now-button\n\t\t\t\t\tclassName=\"sn-canvas-notification-tray-item-close-btn\"\n\t\t\t\t\ticon=\"close-outline\"\n\t\t\t\t\ttooltipContent={t('Delete Notification')}\n\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tbare\n\t\t\t\t\tconfigAria={{ 'aria-label': t('Delete Notification') }}\n\t\t\t\t\tappendToPayload={{\n\t\t\t\t\t\tnotificationItemPayload,\n\t\t\t\t\t\ttype: NOTIFICATION_CLOSE_ACTION_ID\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</li>\n\t\t);\n\t};\n\n\tconst renderSectionHeader = (headerItem) => {\n\t\tconst { name, label } = headerItem;\n\t\treturn (\n\t\t\t<div key={name} className=\"sn-canvas-notification-tray-section-heading\">\n\t\t\t\t<now-heading\n\t\t\t\t\tclassName=\"sn-canvas-notification-tray-section-heading-label\"\n\t\t\t\t\thasNoMargin\n\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\tlevel=\"1\"\n\t\t\t\t\tvariant=\"header-secondary\"\n\t\t\t\t/>\n\t\t\t\t<now-button-bare\n\t\t\t\t\tclassName=\"sn-canvas-notification-tray-section-heading-btn\"\n\t\t\t\t\thidePadding\n\t\t\t\t\tappend-to-payload={{ groupId: name }}\n\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t'aria-label': t('Clear notifications from {0}', name)\n\t\t\t\t\t}}\n\t\t\t\t\tlabel={t('Clear')}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst NotificationEmptyTray = () => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"sn-canvas-notification-tray-empty now-align -inline-center -block-center\"\n\t\t\t\trole=\"region\"\n\t\t\t\taria-live=\"polite\">\n\t\t\t\t{isLoading ? (\n\t\t\t\t\t<p>{t('Loading...')}</p>\n\t\t\t\t) : (\n\t\t\t\t\t<now-message alignment=\"vertical-centered\">\n\t\t\t\t\t\t<div slot=\"message\">\n\t\t\t\t\t\t\t<h3 className=\"sn-canvas-notification-tray-empty-message now-heading--md now-m-block--lg\">\n\t\t\t\t\t\t\t\t{t('You have no updates')}\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<p className=\"sn-canvas-notification-tray-empty-submessage now-m-block--0 now-text--sm\">\n\t\t\t\t\t\t\t\t{t('Notification updates display for 7 days')}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</now-message>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst NotificationTray = () => {\n\t\tlet content = [];\n\t\tconst { length } = notificationQueue;\n\t\tlet i = 0;\n\t\twhile (i < length && notificationQueue[i].item_type === 'group') {\n\t\t\tconst groupItem = notificationQueue[i++];\n\t\t\tconst header = renderSectionHeader(groupItem);\n\n\t\t\tlet body = [];\n\t\t\twhile (i < length && notificationQueue[i].item_type === 'notification') {\n\t\t\t\tconst item = notificationQueue[i++];\n\t\t\t\tbody = body.concat(renderTrayItem(item, i));\n\t\t\t}\n\n\t\t\tif (body.length > 0)\n\t\t\t\tcontent = content.concat(renderSection(header, body, groupItem.name));\n\t\t}\n\n\t\treturn content;\n\t};\n\n\treturn (\n\t\t<div className=\"sn-canvas-notification-tray\">\n\t\t\t{hasNoNotifications ? <NotificationEmptyTray /> : <NotificationTray />}\n\t\t</div>\n\t);\n};\n\n/**\n * An element that renders a list of UI Notification items as cards. This component does not manipulate any\n * data and is a simple view component that only renders data. It will dispatch global navigation actions handled by\n * the uiNotificationBehavior. See here for more information\n * [uiNotificationBehavior](https://code.devsnc.com/dev/sn-canvas-chrome/tree/master/src/behaviors/ui-notifications)\n *\n * ```jsx\n * \tconst notificationItems = [\n *   \t{\n * \t\t\t\"item_type\":\"group\",\n * \t\t\t\"name\":\"today\",\n * \t\t\t\"label\":\"Today\"\n * \t\t},\n * \t\t{\n *\t\t\t\"item_type\":\"notification\",\n *\t\t\t\"table\":\"incident\",\n *\t\t\t\"sys_id\":\"971634d323821010fd91121727bf65f3\",\n *\t\t\t\"alert_sys_id\":\"131634d323821010fd91121727bf65f7\",\n *\t\t\t\"time_stamp\":1595374312000,\n *\t\t\t\"raw_time_stamp\":\"2020-07-21 23:31:52\",\n *\t\t\t\"is_read\":false,\n *\t\t\t\"tagline\":\"INC0010034\",\n *\t\t\t\"title\":\"System Administrator updated INC0010034\",\n *\t\t\t\"message\":\"5 - Planning: Creating incident number: 12\",\n *\t\t\t\"infoIcon\":\"flag-fill\",\n *\t\t\t\"group\":\"today\"\n * \t\t},\n *     \t{\n * \t\t\t\"item_type\":\"group\",\n * \t\t\t\"name\":\"yesterday\",\n * \t\t\t\"label\":\"Yesterday\"\n * \t\t},\n *    \t{\n * \t\t\t\"item_type\":\"group\",\n * \t\t\t\"name\":\"older\",\n * \t\t\t\"label\":\"Older\"\n * \t\t}\n * \t];\n * \tconst workspaceUIRoute = 'cb1af195872023002941b53046cb0b4e'\n *\n * \t<sn-canvas-notification-tray\n * \t\topened\n * \t\tnotificationQueue={notificationItems}\n * \t\troute={workspaceUIRoute}\n * \t/>\n * ```\n *\n * @seismicElement sn-canvas-notification-tray\n * @summary A container that renders a list of notification cards\n */\ncreateCustomElement('sn-canvas-notification-tray', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: snCanvasNotificationTray\n\t},\n\tinitialState: {\n\t\tscrollParent: null,\n\t\tonScrollOrResizeHandler: NOOP\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Determines whether notification tray is in a loading state.\n\t\t * @type {boolean}\n\t\t */\n\t\tisLoading: {\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * Queue of notifications to be rendered in the tray.\n\t\t * @type {Array.<NotificationItem>}\n\t\t */\n\t\tnotificationQueue: {\n\t\t\tdefault: []\n\t\t},\n\t\t/**\n\t\t * Whether the tray should be opened or not. If it's closed the component will be suspended. If open the\n\t\t * component will be active. See here for more information\n\t\t * [nowMode](https://code.devsnc.com/dev/sn-seismic/blob/master/docs/advanced/component-modes/component-modes.md)\n\t\t * @type {boolean}\n\t\t */\n\t\topened: {\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * The UI Route the notification is for. This will be the sys_id of a ui_notification_route record.\n\t\t * @type {string}\n\t\t */\n\t\troute: {\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]: ({ properties, updateProperties }) => {\n\t\t\tconst { opened } = properties;\n\n\t\t\tif (opened) {\n\t\t\t\tupdateProperties({ nowMode: 'active' });\n\t\t\t} else {\n\t\t\t\tupdateProperties({ nowMode: 'suspend' });\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ state }) => {\n\t\t\tconst { scrollParent, onScrollOrResizeHandler } = state;\n\t\t\t_removeListeners(scrollParent, onScrollOrResizeHandler);\n\t\t},\n\t\t[COMPONENT_DOM_READY]: ({ action, updateState, dispatch }) => {\n\t\t\tconst { host } = action.payload;\n\t\t\tconst scrollParent = host.shadowRoot.querySelector(\n\t\t\t\t'.sn-canvas-notification-tray'\n\t\t\t);\n\n\t\t\tfocusFirstElement(host);\n\t\t\tconst onScrollOrResizeDebounced = debounce(_onScrollOrResize, 300);\n\n\t\t\tconst onScrollOrResizeHandler = () => {\n\t\t\t\tonScrollOrResizeDebounced(scrollParent, dispatch);\n\t\t\t};\n\t\t\tupdateState({ scrollParent, onScrollOrResizeHandler });\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ state, action, updateProperties }) => {\n\t\t\tconst { name, previousValue, value } = action.payload;\n\n\t\t\tif (name === 'opened' && !isEqual(previousValue, value)) {\n\t\t\t\tconst { scrollParent, onScrollOrResizeHandler } = state;\n\t\t\t\tif (value) {\n\t\t\t\t\tupdateProperties({ nowMode: 'active' });\n\t\t\t\t\t_addListeners(scrollParent, onScrollOrResizeHandler);\n\t\t\t\t\tsetTimeout(() => onScrollOrResizeHandler());\n\t\t\t\t} else {\n\t\t\t\t\tupdateProperties({ nowMode: 'suspend' });\n\t\t\t\t\t_removeListeners(scrollParent, onScrollOrResizeHandler);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t['NOW_CARD#SELECTED_SET']: {\n\t\t\teffect: ({ action, dispatch }) => {\n\t\t\t\tconst { table, sysId, alertSysId, mode } = action.payload;\n\t\t\t\tdispatch('NOTIFICATION_ITEM_CLICKED', {\n\t\t\t\t\ttable,\n\t\t\t\t\tmode,\n\t\t\t\t\tsysId,\n\t\t\t\t\talertSysId,\n\t\t\t\t\thideTray: true,\n\t\t\t\t\tstatus: ALERT_STATUS_READ\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t['NOW_BUTTON#CLICKED']: {\n\t\t\teffect: ({ action, dispatch }) => {\n\t\t\t\tconst { type, notificationItemPayload } = action.payload;\n\t\t\t\tconst { table, sysId, alertSysId, mode } = notificationItemPayload;\n\n\t\t\t\tif (type === NOTIFICATION_CLOSE_ACTION_ID)\n\t\t\t\t\tdispatch('NOTIFICATION_ITEM_CLICKED', {\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\tmode,\n\t\t\t\t\t\tsysId,\n\t\t\t\t\t\talertSysId,\n\t\t\t\t\t\thideTray: false,\n\t\t\t\t\t\tstatus: ALERT_STATUS_DELETED\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t['NOW_BUTTON_BARE#CLICKED']: {\n\t\t\teffect: ({ action, properties, dispatch }) => {\n\t\t\t\tconst { groupId } = action.payload;\n\t\t\t\tconst { notificationQueue, route } = properties;\n\t\t\t\tconst rawItemsToClear = notificationQueue.filter(\n\t\t\t\t\t(item) => item.group === groupId\n\t\t\t\t);\n\t\t\t\tconst { startDate, endDate } = _getDateRangeToClear(\n\t\t\t\t\trawItemsToClear,\n\t\t\t\t\tgroupId\n\t\t\t\t);\n\n\t\t\t\tif (startDate && endDate) {\n\t\t\t\t\tconst data = {\n\t\t\t\t\t\tstartDateTime: startDate,\n\t\t\t\t\t\tendDateTime: endDate,\n\t\t\t\t\t\tstatus: ALERT_STATUS_DELETED,\n\t\t\t\t\t\troute\n\t\t\t\t\t};\n\t\t\t\t\tdispatch('ASK_TO_CLEAR_SECTION', { data, groupId });\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched whenever a notification item is clicked or close. Clicking on a notification set the status as\n\t\t * read. Closing a notification will set the status to deleted.\n\t\t */\n\t\tNOTIFICATION_ITEM_CLICKED: {},\n\t\t/**\n\t\t * Dispatched whenever a section is cleared, via the clear button.\n\t\t */\n\t\tASK_TO_CLEAR_SECTION: {},\n\t\t/**\n\t\t * Dispatched whenever the scrolling has reached to the bottom of the page. This is to allow lazy loading of\n\t\t * notifications.\n\t\t */\n\t\tNOTIFICATION_LOAD_MORE: {}\n\t},\n\tstyles: snCanvasNotificationTrayStyles,\n\tbehaviors: [rtlBehavior]\n});\n","module.exports = __TECTONIC__$servicenow_now_message;","import './sn-canvas-time-ago';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-card';\n\nimport snCanvasTimeAgoStyles from './_sn-canvas-time-ago.scss';\n\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_DISCONNECTED } = actionTypes;\n\nconst WORD_LITERALS = {\n\tjustNow: t('just now'),\n\tminute: 'm',\n\thour: 'h',\n\tday: 'd'\n};\n\nconst DAY = 24 * 60 * 60 * 1000;\nconst MINUTES = 60 * 1000;\n\nconst _daysBetween = (baseDate, actualDate) => {\n\tconst normalizedBaseDate = new Date(baseDate.getTime());\n\tnormalizedBaseDate.setHours(0, 0, 0);\n\tconst normalizedActualDate = new Date(actualDate.getTime());\n\tnormalizedActualDate.setHours(0, 0, 0);\n\n\tconst diff = normalizedBaseDate.getTime() - normalizedActualDate.getTime();\n\treturn (diff >= 0 || -1) * Math.round(Math.abs(diff / DAY));\n};\n\nconst _getTime = (date) => {\n\tlet hh = date.getHours(),\n\t\tmm = date.getMinutes();\n\tlet suffix = 'AM';\n\tif (hh > 12) {\n\t\thh -= 12;\n\t\tsuffix = 'PM';\n\t}\n\tif (mm < 10) {\n\t\tmm = `0${mm}`;\n\t}\n\treturn `${hh}:${mm} ${suffix}`;\n};\n\nconst _getWords = (date, daysDiff) => {\n\tconst baseDate = new Date(Date.now());\n\tconst diffMills = baseDate - date;\n\n\tconst seconds = diffMills / 1000;\n\tconst minutes = seconds / 60;\n\tconst hours = minutes / 60;\n\n\tlet words = '';\n\tif (daysDiff === 0) {\n\t\tif (seconds < 60) words = WORD_LITERALS.justNow;\n\t\telse if (minutes < 60) words = t('{0}m ago', Math.floor(minutes));\n\t\telse if (hours < 24) words = t('{0}h ago', Math.floor(hours));\n\t} else if (daysDiff === 1) {\n\t\twords = _getTime(date);\n\t} else if (daysDiff > 1 && daysDiff <= 7) {\n\t\twords = t('{0}d ago', daysDiff);\n\t} else {\n\t\twords = 'Older than 7 days'; // Shouldn't see this\n\t}\n\n\treturn words;\n};\nconst _updateTime = (_date, daysDiff, updateState) => {\n\tconst timeAgo = _getWords(_date, daysDiff);\n\tupdateState({ timeAgo });\n};\n\ncreateCustomElement('sn-canvas-time-ago', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: (state) => {\n\t\t\tconst { properties, timeAgo } = state;\n\t\t\tconst { mode } = properties;\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase 'footer':\n\t\t\t\t\treturn <now-card-footer label={timeAgo} />;\n\t\t\t\tdefault:\n\t\t\t\t\treturn <time>{timeAgo}</time>;\n\t\t\t}\n\t\t}\n\t},\n\tproperties: {\n\t\tmode: {\n\t\t\tdefault: 'footer'\n\t\t},\n\t\ttimeStamp: {\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tinitialState: {\n\t\ttimeAgo: '',\n\t\tinterval: null\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ properties, updateState }) => {\n\t\t\tconst { timeStamp } = properties;\n\n\t\t\tconst _date = new Date(timeStamp);\n\t\t\tconst baseDate = new Date(Date.now());\n\t\t\tconst daysDiff = _daysBetween(baseDate, _date);\n\n\t\t\t_updateTime(_date, daysDiff, updateState);\n\n\t\t\tif (daysDiff === 0) {\n\t\t\t\tconst interval = setInterval(\n\t\t\t\t\t() => _updateTime(_date, daysDiff, updateState),\n\t\t\t\t\tMINUTES\n\t\t\t\t);\n\t\t\t\tupdateState({ interval });\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ state }) => {\n\t\t\tconst { interval } = state;\n\t\t\tif (interval) clearInterval(interval);\n\t\t}\n\t},\n\tstyles: snCanvasTimeAgoStyles\n});\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-time-ago.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:block}\", \"\"]);\n\n// exports\n","import { getFocusableNodes } from '@servicenow/behavior-focus';\n\nfunction getStartAndEnd(scrollParent, threshold = 0) {\n\t// get the start and end position of the viewport\n\tconst scroll = getScrollPosition(scrollParent);\n\tconst start = Math.max(0, scroll - threshold);\n\tconst end = scroll + scrollParent.clientHeight + threshold;\n\n\treturn { start, end };\n}\n\nfunction getScrollPosition(scrollParent) {\n\t// Cache scroll position as this causes a forced synchronous layout.\n\tconst actual = scrollParent.scrollTop;\n\tconst max = scrollParent.scrollHeight - scrollParent.clientHeight;\n\treturn Math.max(0, Math.min(actual, max));\n}\n\nfunction getOffset(el) {\n\tlet offset = el.clientTop || 0;\n\t// eslint-disable-next-line no-cond-assign\n\tdo offset += el.offsetTop || 0;\n\twhile ((el = el.offsetParent));\n\treturn offset;\n}\n\n/**\n * Focuses on the first focusable element within the host element.\n * @param {HTMLElement} host\n */\nexport function focusFirstElement(host) {\n\t// Need to set a timeout here in order for DOM to finish repainting.\n\t// This is the NDS recommended workaround:\n\t// https://sn-platform-dev.slack.com/archives/CDH3US89J/p1591751083399600\n\tsetTimeout(() => {\n\t\tconst focusableNodes = getFocusableNodes(host);\n\t\tconst { firstFocusableElement } = focusableNodes;\n\t\tif (firstFocusableElement) {\n\t\t\tfirstFocusableElement.focus();\n\t\t}\n\t}, 100);\n}\n\nexport function reachedScrollBottom(scrollParent) {\n\tconst { end } = getStartAndEnd(scrollParent);\n\tconst itemEls = scrollParent.children;\n\tlet elEnd = 0;\n\n\tif (itemEls.length) {\n\t\tconst firstItemEl = itemEls[0];\n\t\tconst lastItemEl = itemEls[itemEls.length - 1];\n\t\telEnd =\n\t\t\tgetOffset(lastItemEl) + lastItemEl.offsetHeight - getOffset(firstItemEl);\n\t}\n\n\treturn elEnd <= end;\n}\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-notification-tray.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;height:0}.now-line-height-crop--sm:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116)))}:host{--mv9-JrZp-8trptZ_8trpAmf--XZATrZO--JvjvZ:var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp-8trptZ--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));--mv9-JrZp-PvvztZ--JvjvZ:var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp-PvvztZ--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)));--mv9-8trpAmf--8trptZ-1tJvmprZO--JvjvZ:var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-1tJzAvm-8trpAmf-jrktj--JvjvZ,var(--now-color--neutral-12,66,80,81));--mv9-kWzzvm--krZt_1tJvmprZO--JvjvZ:var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-1tJzAvm-8trpAmf-kzm--JvjvZ,var(--now-color--secondary-1,1,119,142));--mv9-kWzzvm--krZt_1tJvmprZO--JvjvZ--8vstZ:var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-1tJzAvm-8trpAmf-kzm--JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107));--mv9-kWzzvm--krZt_1tJvmprZO--JvjvZ--rJzAst:var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-1tJzAvm-8trpAmf-kzm--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71));display:block;height:100%}:host ul{margin:0;padding:0}:host li,:host ul{list-style-type:none}.sn-canvas-notification-tray{overflow:auto;width:100%;height:100%;padding:1.5rem;background-color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO--krJUfZvWmp-JvjvZ,var(--now-color_background--secondary,var(--now-color--neutral-1,246,247,247))))}.sn-canvas-notification-tray-section{padding-top:1.5rem}.sn-canvas-notification-tray-section:first-of-type{padding-top:0}.sn-canvas-notification-tray-section-heading{display:flex;flex-direction:row;justify-content:space-between;align-items:baseline;margin-bottom:1rem}.sn-canvas-notification-tray-item{position:relative;margin-bottom:.5rem}.sn-canvas-notification-tray-item-close-btn{position:absolute;top:.5rem;color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-AztT-Jjv1t-kzm--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))))}.sn-canvas-notification-tray-item-close-btn::-moz-focus-inner{border-style:none}.sn-canvas-notification-tray-item-close-btn:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}:host(:not([dir=rtl])) .sn-canvas-notification-tray-item-close-btn,:root:not([dir=rtl]) .sn-canvas-notification-tray-item-close-btn{right:.5rem}:host([dir=rtl]) .sn-canvas-notification-tray-item-close-btn,:root[dir=rtl] .sn-canvas-notification-tray-item-close-btn{left:.5rem}.sn-canvas-notification-tray-item:last-of-type{margin-bottom:0}.sn-canvas-notification-tray-card{background-color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))))}.sn-canvas-notification-tray-card:hover{background-color:RGBA(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))),var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp--krJUfZvWmp-JvjvZ--vXrJAzO--8vstZ,1))}.sn-canvas-notification-tray-card:active{background-color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))))}:host(:not([dir=rtl])) .sn-canvas-notification-tray-card-header,:root:not([dir=rtl]) .sn-canvas-notification-tray-card-header{padding-right:2rem}:host([dir=rtl]) .sn-canvas-notification-tray-card-header,:root[dir=rtl] .sn-canvas-notification-tray-card-header{padding-left:2rem}.sn-canvas-notification-tray-card-header-icon{vertical-align:top;color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp-8trptZ-AJvm--JvjvZ,var(--now-color--neutral-12,66,80,81)))}.sn-canvas-notification-tray-card-body{margin-top:.5rem;margin-bottom:0;font-size:1rem;color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-JrZp-kvpO--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))));display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.sn-canvas-notification-tray-card-footer{margin-top:.5rem}.sn-canvas-notification-tray-empty{height:100%}.sn-canvas-notification-tray-empty-message{color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-tTXzO-Tt11rft--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))))}.sn-canvas-notification-tray-empty-submessage{color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zZrO-tTXzO-1WkTt11rft--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))))}\", \"\"]);\n\n// exports\n","import './sn-canvas-notification-trigger';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport '@servicenow/now-icon';\nimport { t } from 'sn-translate';\n\nimport '../sn-nav-item';\nimport '../internal/sn-canvas-badge-connected';\nimport snCanvasNotificationTriggerStyles from './_sn-canvas-notification-trigger.scss';\nimport { ESCAPE_KEY } from '../../constants/constants';\n\nconst getAriaBadgeText = (badgeCount) => {\n\tif (badgeCount === 0) return 'Notifications';\n\tif (badgeCount === 1) return badgeCount + ' Notification';\n\treturn badgeCount + ' Notifications';\n};\n\nconst { COMPONENT_DISCONNECTED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst getOnKeyUpHandler = (dispatch, iconRef) => {\n\tconst onKeyUp = (e) => {\n\t\tif (e.code === ESCAPE_KEY) {\n\t\t\tdispatch('NOTIFICATION_TRAY_TOGGLED', { opened: false });\n\t\t\tif (iconRef) {\n\t\t\t\ticonRef.focus();\n\t\t\t}\n\t\t}\n\t};\n\treturn onKeyUp;\n};\n\nconst notificationTrigger = (state, { updateState }) => {\n\tconst { iconRef, properties } = state;\n\tconst { icon, showBadge, badgeCount, isOpen, experience } = properties;\n\tconst setRef = (ref) => {\n\t\tif (iconRef) return;\n\t\tupdateState({ iconRef: ref });\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<sn-nav-item\n\t\t\t\tref={setRef}\n\t\t\t\ttype=\"action\"\n\t\t\t\texperience={experience}\n\t\t\t\tvariant=\"simple-nav\"\n\t\t\t\titem-value={{\n\t\t\t\t\tname: 'NOTIFICATION_TRAY_TOGGLED',\n\t\t\t\t\tpayload: { opened: !isOpen }\n\t\t\t\t}}\n\t\t\t\ttooltip-content={t('{0}', getAriaBadgeText(badgeCount))}\n\t\t\t\tconfig-aria={{\n\t\t\t\t\tbutton: {\n\t\t\t\t\t\t'aria-haspopup': true,\n\t\t\t\t\t\t'aria-label': t('{0}', getAriaBadgeText(badgeCount)),\n\t\t\t\t\t\t'aria-expanded': isOpen\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t<now-icon size=\"lg\" slot=\"startsWith\" icon={icon} />\n\t\t\t</sn-nav-item>\n\t\t\t{showBadge ? (\n\t\t\t\t<sn-canvas-badge-connected className=\"gt-badge\" count={badgeCount} />\n\t\t\t) : null}\n\t\t</Fragment>\n\t);\n};\n/***\n\tThe notification trigger allows users to interact with the notification tray. \n\tClicking the notification trigger will make the notification tray appear \n\tand dissappear.  Notification trigger will also optionally display the number \n\tof outstanding notifications.\n\n\t```jsx\n\t\t<sn-canvas-notification-trigger\n\t\t\ticon=\"bell-outline\"\n\t\t\tshow-badge={true}\n\t\t\tbadge-count={10}\n\t\t/>\n\t```\n*/\ncreateCustomElement('sn-canvas-notification-trigger', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: notificationTrigger\n\t},\n\tstyles: snCanvasNotificationTriggerStyles,\n\tinitialState: {\n\t\ticonRef: null,\n\t\tonKeyUpHandler: null\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Name of NDS icon to be used for the notification-trigger button.\n\t\t * @type {string}\n\t\t */\n\t\ticon: {\n\t\t\tschema: { type: 'string' },\n\t\t\tdefault: 'bell-outline'\n\t\t},\n\t\t/**\n\t\t * One of \"default\" or \"workspace\", to indicate sn-nav-item styling.\n\t\t * @type {string}\n\t\t */\n\t\texperience: {\n\t\t\tdefault: 'default',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['default', 'workspace']\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Determines whether the badge, holding the number of outstanding\n\t\t * notifications, should be displayed as part of the notification-trigger button.\n\t\t * @type {boolean}\n\t\t */\n\t\tshowBadge: {\n\t\t\tschema: { type: 'boolean' },\n\t\t\tdefault: true\n\t\t},\n\t\t/**\n\t\t * Number of outstanding notifications to be displayed on a badge as part\n\t\t * of the notification-trigger button.  Will only display if showBadge is true.\n\t\t * @type {number}\n\t\t */\n\t\tbadgeCount: {\n\t\t\tschema: { type: 'number' },\n\t\t\tdefault: 0\n\t\t},\n\t\t/**\n\t\t * Indicates whether notification-tray is open or not.\n\t\t * @type {boolean}\n\t\t */\n\t\tisOpen: {\n\t\t\tschema: { type: 'boolean' },\n\t\t\tdefault: false\n\t\t}\n\t},\n\tbehaviors: [rtlBehavior],\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ state, dispatch, updateState }) => {\n\t\t\tconst { iconRef, onKeyUpHandler } = state;\n\t\t\tif (iconRef && !onKeyUpHandler) {\n\t\t\t\tconst keyUpHandler = getOnKeyUpHandler(dispatch, iconRef);\n\t\t\t\tdocument.addEventListener('keyup', keyUpHandler);\n\t\t\t\tupdateState({ onKeyUpHandler: keyUpHandler });\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ state }) => {\n\t\t\tconst { onKeyUp } = state;\n\t\t\tdocument.removeEventListener('keyup', onKeyUp);\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-notification-trigger.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host{height:100%}.gt-badge{position:absolute;top:0;padding-top:.5rem;line-height:1}:host(:not([dir=rtl])) .gt-badge,:root:not([dir=rtl]) .gt-badge{right:0}:host([dir=rtl]) .gt-badge,:root[dir=rtl] .gt-badge{left:0}:host(:not([dir=rtl])) .gt-badge,:root:not([dir=rtl]) .gt-badge{padding-right:.5rem}:host([dir=rtl]) .gt-badge,:root[dir=rtl] .gt-badge{padding-left:.5rem}\", \"\"]);\n\n// exports\n","import './sn-canvas-chrome-state';\n","import { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport chromeStateEffect from './chromeStateEffect';\nimport { uiNotificationBehavior } from '../behaviors/ui-notifications';\nimport { IS_LOGGED_IN, DESTINATION_URL } from './utils';\n\nconst {\n\tUSER_META_REQUEST_SUCCEEDED,\n\tPRIME_NAV_SOURCE_CHANGED,\n\tVIEWPORT_SELECTED,\n\tUSER_PREF_UPDATED,\n\tUSER_PREFERENCE_UPDATE_REQUEST_SUCCEEDED\n} = chromeStateEffect.ACTION_TYPES;\n\nconst {\n\thandleUserMetaRequest,\n\thandleUserMetaResponse,\n\thandleUserPreferenceUpdateRequest,\n\thandleUserPreferenceUpdateResponse,\n\thandleButtonUpdate,\n\thandlePropertyChange,\n\thandleViewportSelection,\n\thandlePrimaryTabUpdate\n} = chromeStateEffect.effectHandlers;\n\nconst {\n\tCOMPONENT_CONNECTED,\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_DOM_READY\n} = actionTypes;\n\ncreateCustomElement('sn-canvas-chrome-state', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: () => <slot />\n\t},\n\tproperties: {\n\t\tprimaryTab: { default: {}, schema: { type: 'object' }, selectable: true },\n\t\ttoolbarButtonsConfig: {\n\t\t\tdefault: [],\n\t\t\tschema: { type: 'array' },\n\t\t\tselectable: false\n\t\t},\n\t\ttoolbarButtons: {\n\t\t\tdefault: [],\n\t\t\tschema: { type: 'array' },\n\t\t\tselectable: true\n\t\t},\n\t\tpreferenceNames: { default: [], schema: { type: 'array' } },\n\t\tuserMeta: { default: {}, schema: { type: 'object' }, selectable: true },\n\t\tprocessedUserPrefs: { default: {}, schema: { type: 'object' } },\n\t\tuserPrefs: { default: {}, schema: { type: 'object' }, selectable: true },\n\t\tloginRedirectUrl: {\n\t\t\tdefault: '',\n\t\t\tschema: { type: 'string' },\n\t\t\tselectable: true\n\t\t},\n\t\tisLoggedIn: {\n\t\t\tdefault: false,\n\t\t\tschema: { type: 'boolean' },\n\t\t\tselectable: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: ({ updateProperties }) => {\n\t\t\tupdateProperties({\n\t\t\t\tloginRedirectUrl: DESTINATION_URL,\n\t\t\t\tisLoggedIn: IS_LOGGED_IN\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_CONNECTED]: handleUserMetaRequest,\n\t\t[COMPONENT_PROPERTY_CHANGED]: handlePropertyChange,\n\t\t[USER_META_REQUEST_SUCCEEDED]: handleUserMetaResponse,\n\t\t[USER_PREF_UPDATED]: handleUserPreferenceUpdateRequest,\n\t\t[USER_PREFERENCE_UPDATE_REQUEST_SUCCEEDED]: handleUserPreferenceUpdateResponse,\n\t\t[VIEWPORT_SELECTED]: handleViewportSelection,\n\t\t['PRIMARY_TAB_UPDATED']: handlePrimaryTabUpdate,\n\t\t[PRIME_NAV_SOURCE_CHANGED]: handleButtonUpdate\n\t},\n\tbehaviors: [uiNotificationBehavior]\n});\n","import {\n\tfind as _find,\n\tfindIndex as _findIndex,\n\tget as _get,\n\tisEmpty as _isEmpty,\n\thas as _has,\n\tforOwn as _forOwn\n} from 'lodash';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\n\nimport {\n\tupdateButtonPresenceStatus,\n\tupdateButtonBadgeCount,\n\tsetButtonSelection,\n\tsetButtonVisibility,\n\tupdateButtonIcon\n} from './utils';\n\nconst ACTION_TYPES = {\n\t/* user meta actions */\n\tUSER_META_REQUEST: 'USER_META_REQUEST',\n\tUSER_META_REQUEST_STARTED: 'USER_META_REQUEST_STARTED',\n\tUSER_META_REQUEST_SUCCEEDED: 'USER_META_REQUEST_SUCCEEDED',\n\tUSER_META_REQUEST_FAILED: 'USER_META_REQUEST_FAILED',\n\n\t// preference update\n\tUSER_PREF_UPDATED: 'USER_PREF_UPDATED',\n\tUSER_PREFERENCE_UPDATE_REQUEST_STARTED:\n\t\t'USER_PREFERENCE_UPDATE_REQUEST_STARTED',\n\tUSER_PREFERENCE_UPDATE_REQUEST_SUCCEEDED:\n\t\t'USER_PREFERENCE_UPDATE_REQUEST_SUCCEEDED',\n\tUSER_PREFERENCE_UPDATE_REQUEST_FAILED:\n\t\t'USER_PREFERENCE_UPDATE_REQUEST_FAILED',\n\n\t// viewport actions\n\tVIEWPORT_SELECTED: 'VIEWPORT_SELECTED',\n\tPRIME_NAV_SOURCE_CHANGED: 'PRIME_NAV_SOURCE_CHANGED' // action from sn-inbox\n};\n\nconst CURRENT_USER_GQL_QUERY = `\nquery getUserMeta{\n  GlideDomain_Query {\n    user: user {\n      sys_id\n      firstName\n      lastName\n      fullName\n      roles\n      avatar\n      initials\n      timeZone\n      timeFormat\n\t  language\n\t  timeZoneOffset\n    }\n  }\n}\n`;\n\nconst USER_PREFERENCE_UPDATE_GQL_QUERY = `\n\tmutation($name: String!, $value: String!) {\n\t  GlideDomain_Mutation {\n\t\tuser {\n\t\t  setPreference(name: $name, value: $value) {\n\t\t\tname\n\t\t\tvalue\n\t\t  }\n\t\t}\n\t  }\n\t}\n`;\n\nconst handleUserMetaRequest = createGraphQLEffect(CURRENT_USER_GQL_QUERY, {\n\tstartActionType: ACTION_TYPES.USER_META_REQUEST_STARTED,\n\tsuccessActionType: ACTION_TYPES.USER_META_REQUEST_SUCCEEDED,\n\terrorActionType: ACTION_TYPES.USER_META_REQUEST_FAILED\n});\n\nconst handleUserMetaResponse = (coeffects) => {\n\tconst {\n\t\tupdateProperties,\n\t\taction: { payload }\n\t} = coeffects;\n\n\tconst { errors = [] } = payload;\n\n\tif (errors.length) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error('GlideDomain_Query.user returned errors: ', errors);\n\t\treturn;\n\t}\n\n\tconst userMeta = _get(payload, 'data.GlideDomain_Query.user');\n\tif (!_isEmpty(userMeta)) {\n\t\tupdateProperties({ userMeta });\n\t}\n};\n\nconst handleButtonUpdate = (coeffects) => {\n\tconst {\n\t\taction: { payload },\n\t\tupdateProperties,\n\t\tstate: {\n\t\t\tproperties: { toolbarButtons }\n\t\t}\n\t} = coeffects;\n\n\tlet { id, status, badge, select = false, show = true, icon = '' } = payload;\n\tlet button, index;\n\n\tif (!_isEmpty(id)) {\n\t\tid = _get(payload, 'id');\n\t\tbutton = _find(toolbarButtons, (b) => b.id === id);\n\t\tindex = _findIndex(toolbarButtons, { id });\n\n\t\tif (!_isEmpty(button) && index !== -1) {\n\t\t\tif (_has(payload, 'icon') && !_isEmpty(icon)) {\n\t\t\t\tupdateButtonIcon(button, index, toolbarButtons, icon, updateProperties);\n\t\t\t}\n\n\t\t\tif (_has(payload, 'status') && !_isEmpty(status)) {\n\t\t\t\tupdateButtonPresenceStatus(\n\t\t\t\t\tbutton,\n\t\t\t\t\tindex,\n\t\t\t\t\ttoolbarButtons,\n\t\t\t\t\tstatus,\n\t\t\t\t\tupdateProperties\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (_has(payload, 'badge') && !_isEmpty(badge) && _has(badge, 'count')) {\n\t\t\t\tupdateButtonBadgeCount(\n\t\t\t\t\tbutton,\n\t\t\t\t\tindex,\n\t\t\t\t\ttoolbarButtons,\n\t\t\t\t\tbadge,\n\t\t\t\t\tupdateProperties\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (_has(payload, 'select')) {\n\t\t\t\tsetButtonSelection(\n\t\t\t\t\tbutton,\n\t\t\t\t\tindex,\n\t\t\t\t\ttoolbarButtons,\n\t\t\t\t\tselect,\n\t\t\t\t\tupdateProperties\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (_has(payload, 'show')) {\n\t\t\t\tsetButtonVisibility(\n\t\t\t\t\tbutton,\n\t\t\t\t\tindex,\n\t\t\t\t\ttoolbarButtons,\n\t\t\t\t\tshow,\n\t\t\t\t\tupdateProperties\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst handlePropertyChange = ({ properties, updateProperties }) => {\n\tconst {\n\t\ttoolbarButtonsConfig,\n\t\tuserPrefs,\n\t\tprocessedUserPrefs,\n\t\ttoolbarButtons\n\t} = properties;\n\n\tif (!_isEmpty(processedUserPrefs) && _isEmpty(userPrefs)) {\n\t\tupdateProperties({ userPrefs: processedUserPrefs });\n\t}\n\n\tif (!_isEmpty(toolbarButtonsConfig) && _isEmpty(toolbarButtons)) {\n\t\tupdateProperties({ toolbarButtons: toolbarButtonsConfig });\n\t}\n};\n\nconst handleViewportSelection = (coeffects) => {\n\tconst {\n\t\taction: {\n\t\t\tpayload: { id, viewportInfo }\n\t\t},\n\t\tupdateProperties,\n\t\tstate: {\n\t\t\tproperties: { toolbarButtons }\n\t\t},\n\t\tdispatch\n\t} = coeffects;\n\n\tconst button = _find(toolbarButtons, (b) => b.id === id);\n\tconst index = _findIndex(toolbarButtons, { id });\n\n\tif (!_isEmpty(button) && index > -1) {\n\t\ttoolbarButtons.splice(index, 1, { ...button, viewportInfo });\n\t\tupdateProperties({ toolbarButtons: [...toolbarButtons] });\n\n\t\t// update primary tab only for top group of toolbar buttons that controls the viewports\n\t\tif (button.group === 'top') {\n\t\t\tdispatch('PRIMARY_TAB_UPDATED', {\n\t\t\t\tbutton: { ...button, viewportInfo, size: '240px' }\n\t\t\t});\n\n\t\t\t//update the toolbar button to session\n\t\t\twindow.sessionStorage.setItem(\n\t\t\t\t'canvasToolbar',\n\t\t\t\tJSON.stringify({ ...button, viewportInfo })\n\t\t\t);\n\t\t}\n\t}\n\tdispatch('UXF_VIEWPORT#RENDER_BY_ID', {\n\t\t...viewportInfo,\n\t\treinitialize: true\n\t});\n};\n\nconst handlePrimaryTabUpdate = (coeffects) => {\n\tconst {\n\t\taction: {\n\t\t\tpayload: {\n\t\t\t\tbutton: { id, label, icon, routeInfo, viewportInfo, size }\n\t\t\t}\n\t\t},\n\t\tupdateProperties\n\t} = coeffects;\n\n\tupdateProperties({\n\t\tprimaryTab: {\n\t\t\tid,\n\t\t\ttitle: label,\n\t\t\ticon,\n\t\t\trouteInfo,\n\t\t\tviewportInfo,\n\t\t\tsize\n\t\t}\n\t});\n};\n\nconst handleUserPreferenceUpdateRequest = createGraphQLEffect(\n\tUSER_PREFERENCE_UPDATE_GQL_QUERY,\n\t{\n\t\tstartActionType: ACTION_TYPES.USER_PREFERENCE_UPDATE_REQUEST_STARTED,\n\t\tsuccessActionType: ACTION_TYPES.USER_PREFERENCE_UPDATE_REQUEST_SUCCEEDED,\n\t\terrorActionType: ACTION_TYPES.USER_PREFERENCE_UPDATE_REQUEST_FAILED,\n\t\tvariableList: ['name', 'value']\n\t}\n);\n\nconst handleUserPreferenceUpdateResponse = (coeffects) => {\n\tconst {\n\t\tproperties,\n\t\tupdateProperties,\n\t\taction: { payload }\n\t} = coeffects;\n\n\tconst { errors = [] } = payload;\n\n\tif (errors.length) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\n\t\t\t'GlideDomain_Mutation.user.setPreference returned errors: ',\n\t\t\terrors\n\t\t);\n\t\treturn;\n\t}\n\n\tconst { userPrefs } = properties;\n\tconst pref = _get(payload, 'data.GlideDomain_Mutation.user.setPreference');\n\n\tif (!_isEmpty(pref) && !_isEmpty(userPrefs)) {\n\t\t// update userPrefs property for the pref that changed\n\t\t_forOwn(userPrefs, (value, name) => {\n\t\t\tif (name === pref.name) {\n\t\t\t\tuserPrefs[name] = pref.value;\n\t\t\t}\n\t\t});\n\t\tupdateProperties({ userPrefs: { ...userPrefs } });\n\t}\n};\n\nconst effectHandlers = {\n\thandlePropertyChange,\n\thandleUserMetaRequest,\n\thandleUserMetaResponse,\n\thandleUserPreferenceUpdateRequest,\n\thandleUserPreferenceUpdateResponse,\n\thandleButtonUpdate,\n\thandleViewportSelection,\n\thandlePrimaryTabUpdate\n};\n\nexport default {\n\tACTION_TYPES,\n\teffectHandlers\n};\n","export { uiNotificationBehavior } from './uiNotificationBehavior';\n","import * as utils from './utils/utils';\n\nimport {\n\tUI_NOTIFICATION_BEHAVIOR,\n\tALERT_STATUS_READ,\n\tNOTIFICATION_TOAST,\n\tNOTIFICATION_ITEM_CLICKED,\n\tNOTIFICATION_TRAY_TOGGLED,\n\tNOTIFICATION_LOAD_MORE\n} from './constants';\n\nimport { actionHandlers as uiNotificationCountHandlers } from './effects/uiNotificationCountEffect';\nimport { actionHandlers as uiNotificationClearHandlers } from './effects/uiNotificationClearEffect';\nimport { actionHandlers as uiNotificationReadHandlers } from './effects/uiNotificationReadEffect';\nimport { actionHandlers as uiNotificationUpdaterHandlers } from './effects/uiNotificationUpdateEffect';\nimport { actionHandlers as uiNotificationAMBHandlers } from './effects/uiNotificationAMBEffect';\nimport { actionHandlers as uiNotificationLifeCycleHandlers } from './effects/uiNotificationLifeCycleEffect';\n\nexport const uiNotificationBehavior = {\n\tname: UI_NOTIFICATION_BEHAVIOR,\n\tinitialState: {\n\t\tgroupIdToDelete: '',\n\t\tdeleteQueue: [],\n\t\toffset: 0,\n\t\ttotalRowCount: 0\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Contains notification data. It describes the state of notifications for components to render.\n\t\t * @type {NotificationData}\n\t\t */\n\t\tnotification: {\n\t\t\tdefault: {\n\t\t\t\tqueue: [],\n\t\t\t\ttoastItem: {},\n\t\t\t\ttrayDisplayed: false,\n\t\t\t\ttrayIsLoading: false,\n\t\t\t\ttoastDisplayed: false,\n\t\t\t\tbadgeCount: 0,\n\t\t\t\tshowBadge: true,\n\t\t\t\tbadgeList: []\n\t\t\t},\n\t\t\tselectable: true\n\t\t},\n\n\t\t/**\n\t\t * Input configuration properties for the component attatched to the behavior. Describes what configurations a\n\t\t * screen should use in order for a component to be rendered within a viewport. uiRoute is a sys_id from the\n\t\t * `ui_notification_route` table. Fetches notifications for the `ui_notification_route`.\n\t\t * @type {NotificationConfiguration}\n\t\t */\n\t\tnotificationConfiguration: {\n\t\t\tdefault: {\n\t\t\t\tviewportConfiguration: {\n\t\t\t\t\tviewportElementId: '',\n\t\t\t\t\tscreenRoute: ''\n\t\t\t\t},\n\t\t\t\tuiRoute: '',\n\t\t\t\tnotificationsEnabled: true\n\t\t\t}\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[NOTIFICATION_LOAD_MORE]: {\n\t\t\teffect: ({ properties, state, dispatch }) => {\n\t\t\t\tconst uiNotificationBehaviorState = utils.getUINotificationBehaviorState(\n\t\t\t\t\tstate\n\t\t\t\t);\n\t\t\t\tconst { notificationConfiguration, userMeta } = properties;\n\t\t\t\tconst { sys_id: userId } = userMeta;\n\t\t\t\tconst { offset, totalRowCount } = uiNotificationBehaviorState;\n\t\t\t\tconst { uiRoute } = notificationConfiguration;\n\n\t\t\t\tutils.askToQueryAlerts(\n\t\t\t\t\toffset,\n\t\t\t\t\ttotalRowCount,\n\t\t\t\t\tuserId,\n\t\t\t\t\tuiRoute,\n\t\t\t\t\tdispatch\n\t\t\t\t);\n\t\t\t},\n\t\t\tmodifier: { name: 'debounce', delay: 300 },\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOTIFICATION_TRAY_TOGGLED]: {\n\t\t\teffect: ({ action, properties, updateProperties }) => {\n\t\t\t\tconst { opened } = action.payload;\n\t\t\t\tconst { badgeList } = properties.notification;\n\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\tpath: 'notification',\n\t\t\t\t\toperation: 'assign',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\ttrayDisplayed: opened,\n\t\t\t\t\t\tbadgeList: opened ? [] : badgeList,\n\t\t\t\t\t\tbadgeCount: opened ? 0 : badgeList.length\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOTIFICATION_ITEM_CLICKED]: {\n\t\t\teffect: ({ state, properties, action, dispatch, updateProperties }) => {\n\t\t\t\tconst { deleteQueue } = utils.getUINotificationBehaviorState(state);\n\t\t\t\tconst { badgeList, queue } = properties.notification;\n\n\t\t\t\tconst { payload } = action;\n\n\t\t\t\tconst { mode, sysId, alertSysId, status, hideTray } = payload;\n\n\t\t\t\tif (mode === NOTIFICATION_TOAST && status === ALERT_STATUS_READ) {\n\t\t\t\t\t// decrease badgeCount when clicking toast content\n\t\t\t\t\tlet idx = badgeList.indexOf(sysId);\n\t\t\t\t\tlet newBadgeList = badgeList.slice();\n\t\t\t\t\tnewBadgeList.splice(idx, 1);\n\n\t\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\t\tpath: 'notification',\n\t\t\t\t\t\toperation: 'assign',\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\tbadgeList: newBadgeList,\n\t\t\t\t\t\t\tbadgeCount: newBadgeList.length,\n\t\t\t\t\t\t\ttrayDisplayed: false\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tif (hideTray) {\n\t\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\t\tpath: 'notification',\n\t\t\t\t\t\toperation: 'assign',\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\ttrayDisplayed: false\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\t// update status in memory\n\t\t\t\tconst newAlertQueue = queue.map((it) => {\n\t\t\t\t\tif (it.alert_sys_id === alertSysId) {\n\t\t\t\t\t\treturn { ...it, is_read: true };\n\t\t\t\t\t}\n\t\t\t\t\treturn it;\n\t\t\t\t});\n\n\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\tpath: 'notification',\n\t\t\t\t\toperation: 'assign',\n\t\t\t\t\tvalue: { queue: newAlertQueue }\n\t\t\t\t}));\n\n\t\t\t\tutils.askToUpdateNotifications(\n\t\t\t\t\tdispatch,\n\t\t\t\t\t[alertSysId],\n\t\t\t\t\tstatus,\n\t\t\t\t\tdeleteQueue\n\t\t\t\t);\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t...uiNotificationLifeCycleHandlers,\n\t\t...uiNotificationCountHandlers,\n\t\t...uiNotificationClearHandlers,\n\t\t...uiNotificationReadHandlers,\n\t\t...uiNotificationUpdaterHandlers,\n\t\t...uiNotificationAMBHandlers\n\t}\n};\n","import isNumber from 'lodash/isNumber';\n\nconst MINUTES = 60 * 1000;\nconst DAY = 24 * 60 * 60 * 1000;\n\nexport function parseSystemTime(timestamp, timeZoneOffset) {\n\tlet dateParsed = new Date(timestamp);\n\n\t// Safari and IE doesn't recognize the date format yyyy-mm-dd hh:mm:ss\n\tif (isNaN(dateParsed)) {\n\t\tlet time_arr = timestamp.replace(/-|:/g, ' ').split(' ');\n\t\ttime_arr[1] = time_arr[1] - '0' - 1;\n\t\tdateParsed = new Date(...time_arr);\n\t}\n\n\tconst currentOffset = -dateParsed.getTimezoneOffset() * MINUTES;\n\tlet offset = 0;\n\tif (isNumber(timeZoneOffset)) {\n\t\toffset += currentOffset - timeZoneOffset;\n\t}\n\n\t// timestamp is system time\n\toffset += currentOffset;\n\n\treturn dateParsed.getTime() + offset;\n}\n\nexport function daysBetween(baseDate, actualDate) {\n\tconst normalizedBaseDate = new Date(baseDate.getTime());\n\tnormalizedBaseDate.setHours(0, 0, 0);\n\tconst normalizedActualDate = new Date(actualDate.getTime());\n\tnormalizedActualDate.setHours(0, 0, 0);\n\n\tconst diff = normalizedBaseDate.getTime() - normalizedActualDate.getTime();\n\treturn (diff >= 0 || -1) * Math.round(Math.abs(diff / DAY));\n}\n","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport isEqual from 'lodash/isEqual';\nimport get from 'lodash/get';\n\nimport {\n\tQUERY_NOTIFICATION_COUNT,\n\tQUERY_NOTIFICATION_COUNT_SUCCEEDED\n} from '../constants';\n\nconst notificationCountQuery = `query($condition: String) {\n\tGlideAggregate_Query(tableName: \"ui_notification_inbox\", groupBy: \"target\", queryConditions: $condition) {\n\t\tcount\n\t\tgroupBy{\n\t\t\tvalue\n\t\t}\n\t}\n}\n`;\n\nexport const actionHandlers = {\n\t[QUERY_NOTIFICATION_COUNT]: createGraphQLEffect(notificationCountQuery, {\n\t\tvariableList: ['condition'],\n\t\tsuccessActionType: QUERY_NOTIFICATION_COUNT_SUCCEEDED\n\t}),\n\t[QUERY_NOTIFICATION_COUNT_SUCCEEDED]: ({\n\t\tproperties,\n\t\tupdateProperties,\n\t\taction\n\t}) => {\n\t\tconst badgeListNew = get(\n\t\t\taction,\n\t\t\t'payload.data.GlideAggregate_Query',\n\t\t\t[]\n\t\t).map((result) => result.groupBy[0].value);\n\t\tconst { badgeList } = properties.notification;\n\n\t\tif (!isEqual(badgeList, badgeListNew))\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: 'notification',\n\t\t\t\toperation: 'assign',\n\t\t\t\tvalue: { badgeList: badgeListNew, badgeCount: badgeListNew.length }\n\t\t\t}));\n\t}\n};\n","import { createHttpEffect } from '@servicenow/ui-effect-http';\nimport * as utils from '../utils/utils';\nimport {\n\tCLEAR_NOTIFICATION_SECTION,\n\tCLEAR_NOTIFICATION_SECTION_SUCCEEDED,\n\tCLEAR_NOTIFICATIONS_ENDPOINT\n} from '../constants';\n\nfunction reloadEffect({ properties, state, dispatch }) {\n\tconst {\n\t\tgroupIdToDelete,\n\t\toffset,\n\t\ttotalRowCount\n\t} = utils.getUINotificationBehaviorState(state);\n\n\tconst { userMeta, notificationConfiguration, notification } = properties;\n\tconst { uiRoute } = notificationConfiguration;\n\tconst { queue } = notification;\n\n\tconst groups = ['today', 'yesterday', 'older'];\n\tconst groupIdx = groups.indexOf(groupIdToDelete);\n\n\tlet needReLoading = true;\n\tif (groupIdx < groups.length - 1) {\n\t\tconst nextGroupId = groups[groupIdx + 1];\n\t\tconst hasNextGroupItem = queue.find((item) => item.group === nextGroupId);\n\t\tif (hasNextGroupItem) needReLoading = false;\n\t}\n\n\tif (needReLoading)\n\t\tutils.askToQueryAlerts(\n\t\t\toffset,\n\t\t\ttotalRowCount,\n\t\t\tuserMeta.sys_id,\n\t\t\tuiRoute,\n\t\t\tdispatch\n\t\t);\n}\n\nfunction clearSectionSucceededInterceptor({ effects, coeffects }) {\n\treturn {\n\t\tcoeffects,\n\t\teffects: [\n\t\t\t...effects,\n\t\t\t{\n\t\t\t\teffect: reloadEffect,\n\t\t\t\targs: [coeffects]\n\t\t\t}\n\t\t]\n\t};\n}\n\nfunction clearSectionInterceptor({ effects, coeffects }) {\n\tconst httpEffect = createHttpEffect(CLEAR_NOTIFICATIONS_ENDPOINT, {\n\t\tmethod: 'PUT',\n\t\tdataParam: 'data',\n\t\tsuccessActionType: CLEAR_NOTIFICATION_SECTION_SUCCEEDED\n\t});\n\treturn {\n\t\tcoeffects,\n\t\teffects: [\n\t\t\t...effects,\n\t\t\t{\n\t\t\t\t...httpEffect,\n\t\t\t\targs: [...httpEffect.args, coeffects]\n\t\t\t}\n\t\t]\n\t};\n}\n\n// clear alerts by section\nconst clearSectionEffect = ({ action, updateState }) =>\n\tupdateState({\n\t\tpath: utils.UI_NOTIFICATION_BEHAVIOR_STATE_PATH,\n\t\tvalue: {\n\t\t\tgroupIdToDelete: action.payload.groupId\n\t\t},\n\t\toperation: 'assign'\n\t});\n\nconst clearSectionSucceededEffect = ({\n\tstate,\n\tproperties,\n\tupdateProperties,\n\tupdateState\n}) => {\n\t// The section is partially loaded, reloading\n\tconst {\n\t\tgroupIdToDelete,\n\t\toffset,\n\t\ttotalRowCount,\n\t\tdeleteQueue\n\t} = utils.getUINotificationBehaviorState(state);\n\n\tconst { queue } = properties.notification;\n\n\tconst newAlertQueue = queue.filter(\n\t\t(item) => item.group !== groupIdToDelete || item.item_type === 'group'\n\t);\n\tconst deleteCount = queue.length - newAlertQueue.length;\n\tconst newOffset = offset - deleteCount,\n\t\tnewTotalRowCount = totalRowCount - deleteCount;\n\n\tupdateState({\n\t\tpath: utils.UI_NOTIFICATION_BEHAVIOR_STATE_PATH,\n\t\tvalue: {\n\t\t\toffset: newOffset,\n\t\t\ttotalRowCount: newTotalRowCount\n\t\t},\n\t\toperation: 'assign'\n\t}); // offset and totalRowCount should always update together\n\n\tupdateProperties(() => ({\n\t\tpath: 'notification',\n\t\toperation: 'assign',\n\t\tvalue: {\n\t\t\tqueue: newAlertQueue,\n\t\t\ttrayIsLoading: utils.isNotificationTrayLoading(\n\t\t\t\tnewOffset,\n\t\t\t\tnewTotalRowCount,\n\t\t\t\tdeleteQueue\n\t\t\t)\n\t\t}\n\t}));\n};\n\nexport const actionHandlers = {\n\t[CLEAR_NOTIFICATION_SECTION]: {\n\t\teffect: clearSectionEffect,\n\t\tinterceptors: [clearSectionInterceptor]\n\t},\n\t[CLEAR_NOTIFICATION_SECTION_SUCCEEDED]: {\n\t\teffect: clearSectionSucceededEffect,\n\t\tinterceptors: [clearSectionSucceededInterceptor]\n\t}\n};\n","module.exports = __TECTONIC__$servicenow_ui_effect_http;","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport get from 'lodash/get';\nimport * as utils from '../utils/utils';\nimport {\n\tQUERY_NOTIFICATIONS,\n\tQUERY_NOTIFICATIONS_SUCCEEDED\n} from '../constants';\n\nconst notificationReadQuery = `\n\tquery($condition: String, $offset: Int, $limit: Int) {\n\t  GlideRecord_Query {\n\t\tui_notification_inbox(queryConditions: $condition, pagination: {limit: $limit, offset: $offset}) {\n\t\t  _rowCount\n\t\t  _results {\n\t\t\tsys_id {\n\t\t\t  value\n\t\t\t}\n\t\t\tsys_created_on {\n\t\t\t  value\n\t\t\t}\n\t\t\tpayload {\n\t\t\t  value\n\t\t\t}\n\t\t\ttarget_table{\n\t\t\t  value\n\t\t\t}\n\t\t\ttarget {\n\t\t\t  value\n\t\t\t}\n\t\t\ttriggered_by {\n\t\t\t  value\n\t\t\t  displayValue\n\t\t\t}\n\t\t\tstatus {\n\t\t\t\tvalue\n\t\t\t}\n\t\t  }\n\t\t}\n\t  }\n\t}\n`;\n\nexport const actionHandlers = {\n\t[QUERY_NOTIFICATIONS]: createGraphQLEffect(notificationReadQuery, {\n\t\tvariableList: ['condition', 'limit', 'offset'],\n\t\tsuccessActionType: QUERY_NOTIFICATIONS_SUCCEEDED\n\t}),\n\t[QUERY_NOTIFICATIONS_SUCCEEDED]: ({\n\t\taction,\n\t\tstate,\n\t\tproperties,\n\t\tupdateState,\n\t\tupdateProperties\n\t}) => {\n\t\tconst alertChunk = get(\n\t\t\taction.payload,\n\t\t\t'data.GlideRecord_Query.ui_notification_inbox._results',\n\t\t\tnull\n\t\t);\n\n\t\tif (alertChunk) {\n\t\t\tconst totalRowCount = get(\n\t\t\t\taction.payload,\n\t\t\t\t'data.GlideRecord_Query.ui_notification_inbox._rowCount',\n\t\t\t\t0\n\t\t\t);\n\t\t\tconst uiNotificationBehaviorState = utils.getUINotificationBehaviorState(\n\t\t\t\tstate\n\t\t\t);\n\t\t\tconst { offset } = uiNotificationBehaviorState;\n\t\t\t// Assume userMeta present in properties. This is coming from sn-canvas-chrome-state\n\t\t\tconst { notification, userMeta } = properties;\n\t\t\tconst { timeZoneOffset: userTimeZoneOffset, sys_id: userId } = userMeta;\n\t\t\tconst { queue } = notification;\n\n\t\t\tconst newOffset = offset + alertChunk.length;\n\n\t\t\t// Get all current notifications\n\t\t\tconst { alertsToKeep, alertsToDelete } = utils.purgeOldAlerts2(\n\t\t\t\tqueue,\n\t\t\t\talertChunk,\n\t\t\t\tuiNotificationBehaviorState,\n\t\t\t\tuserId,\n\t\t\t\tuserTimeZoneOffset\n\t\t\t);\n\n\t\t\tconst newAlertQueue = utils.addDateGroupings(alertsToKeep);\n\n\t\t\tupdateState({\n\t\t\t\tpath: utils.UI_NOTIFICATION_BEHAVIOR_STATE_PATH,\n\t\t\t\tvalue: {\n\t\t\t\t\toffset: newOffset,\n\t\t\t\t\ttotalRowCount,\n\t\t\t\t\tdeleteQueue: alertsToDelete\n\t\t\t\t},\n\t\t\t\toperation: 'assign'\n\t\t\t}); // offset and totalRowCount should always update together\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: 'notification',\n\t\t\t\toperation: 'assign',\n\t\t\t\tvalue: {\n\t\t\t\t\tqueue: newAlertQueue,\n\t\t\t\t\ttrayIsLoading: utils.isNotificationTrayLoading(\n\t\t\t\t\t\tnewOffset,\n\t\t\t\t\t\ttotalRowCount,\n\t\t\t\t\t\talertsToDelete\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n};\n","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport get from 'lodash/get';\nimport * as utils from '../utils/utils';\n\nimport {\n\tUPDATE_NOTIFICATIONS_SUCCEEDED,\n\tUPDATE_NOTIFICATIONS,\n\tALERT_STATUS_DELETED\n} from '../constants';\n\n/**\n * Batch update for alerts.\n *\n * Usage:\n * props.resources.alert.update({template_vars: {items: [{sys_id, status}]}});\n *\n * Each batched request must be aliased with a unique variable name currently. Hence the \"update_{{sys_id}}: \" portion\n * below.\n * @type {string}\n */\nexport const notificationUpdateQuery = `\n\tmutation {\n\t\tGlideRecord_Mutation {\n\t\t\t{{#items}}\n\t\t\t\tupdate_{{sys_id}}: update_ui_notification_inbox(sys_id: \"{{sys_id}}\", status: \"{{status}}\") {\n\t\t\t\t\tsys_id {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\tsys_created_on {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\tpayload {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\ttarget_table{\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\ttarget {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\ttriggered_by {\n\t\t\t\t\t  value\n\t\t\t\t\t  displayValue\n\t\t\t\t\t}\n\t\t\t\t\tstatus {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t{{/items}}\n\t\t}\n\t}\n`;\n\n// update alert query\nconst updateNotificationsEffect = createGraphQLEffect(notificationUpdateQuery, {\n\ttemplateVarList: ['items'],\n\tsuccessActionType: UPDATE_NOTIFICATIONS_SUCCEEDED\n});\n\nconst updateNotificationsSucceededEffect = ({\n\taction,\n\tstate,\n\tproperties,\n\tupdateProperties,\n\tupdateState\n}) => {\n\tconst result = get(action.payload, 'data.GlideRecord_Mutation', null);\n\n\tif (result) {\n\t\t// Only handles deleted alerts\n\t\tconst deletedItem = Object.keys(result).reduce((acc, key) => {\n\t\t\tif (result[key].status.value === ALERT_STATUS_DELETED)\n\t\t\t\tacc = acc.concat(result[key]);\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst deleteCount = deletedItem.length;\n\n\t\tif (deleteCount > 0) {\n\t\t\tconst { queue } = properties.notification;\n\t\t\tconst {\n\t\t\t\tdeleteQueue,\n\t\t\t\toffset,\n\t\t\t\ttotalRowCount\n\t\t\t} = utils.getUINotificationBehaviorState(state);\n\n\t\t\tconst newAlertQueue = queue.filter(\n\t\t\t\t(item) => !result[`update_${item.alert_sys_id}`]\n\t\t\t);\n\t\t\tconst newDeleteQueue = deleteQueue.filter(\n\t\t\t\t(sys_id) => !result[`update_${sys_id}`]\n\t\t\t);\n\n\t\t\tconst newOffset = offset - deleteCount;\n\t\t\tconst newTotalRowCount = totalRowCount - deleteCount;\n\t\t\tupdateState({\n\t\t\t\tpath: utils.UI_NOTIFICATION_BEHAVIOR_STATE_PATH,\n\t\t\t\tvalue: {\n\t\t\t\t\tdeleteQueue: newDeleteQueue,\n\t\t\t\t\toffset: newOffset,\n\t\t\t\t\ttotalRowCount: newTotalRowCount\n\t\t\t\t},\n\t\t\t\toperation: 'assign'\n\t\t\t}); // offset and totalRowCount should always update together\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: 'notification',\n\t\t\t\toperation: 'assign',\n\t\t\t\tvalue: {\n\t\t\t\t\tqueue: newAlertQueue,\n\t\t\t\t\ttrayIsLoading: utils.isNotificationTrayLoading(\n\t\t\t\t\t\tnewOffset,\n\t\t\t\t\t\tnewTotalRowCount,\n\t\t\t\t\t\tnewDeleteQueue\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n};\n\nexport const actionHandlers = {\n\t[UPDATE_NOTIFICATIONS]: updateNotificationsEffect,\n\t[UPDATE_NOTIFICATIONS_SUCCEEDED]: updateNotificationsSucceededEffect\n};\n","import { createAmbSubscriptionEffect } from '@servicenow/ui-effect-amb';\nimport * as utils from '../utils/utils';\nimport {\n\tITEM_CHANGED,\n\tSUBSCRIBED_STARTED,\n\tSUBSCRIBED,\n\tSUBSCRIBED_FAILED,\n\tUNSUBSCRIBED,\n\tALERT_STATUS_NEW,\n\tSCREEN_STATUS_CHANGED,\n\tSUBSCRIPTION_CHANGED\n} from '../constants';\nimport { buildAlertItem } from '../utils/buildAlertItem';\n\nexport const actionHandlers = {\n\t// AMB Record watcher\n\t[SUBSCRIPTION_CHANGED]: createAmbSubscriptionEffect(\n\t\t'/rw/default/:table/:filter',\n\t\t{\n\t\t\tmessageReceivedActionType: ITEM_CHANGED,\n\t\t\tsubscribeStartedActionType: SUBSCRIBED_STARTED,\n\t\t\tsubscribeSucceededActionType: SUBSCRIBED,\n\t\t\tsubscribeFailedActionType: SUBSCRIBED_FAILED,\n\t\t\tunsubscribeSucceededActionType: UNSUBSCRIBED\n\t\t}\n\t),\n\t[ITEM_CHANGED]: ({\n\t\tstate,\n\t\tproperties,\n\t\taction,\n\t\tdispatch,\n\t\tupdateProperties,\n\t\tupdateState\n\t}) => {\n\t\tconst { record, sys_id: sys_id_val } = action.payload.data;\n\t\tif (record.status.value !== ALERT_STATUS_NEW) return;\n\n\t\tconst rawAlert = { ...record, sys_id: { value: sys_id_val } };\n\t\t// Assume userMeta present in properties. This is coming from sn-canvas-chrome-state\n\t\tconst { notification, userMeta } = properties;\n\t\tconst {\n\t\t\ttimeZoneOffset: userTimeZoneOffset,\n\t\t\tsys_id: userId,\n\t\t\tpreferences = []\n\t\t} = userMeta;\n\t\tconst showToast = utils.shouldShowToast(preferences);\n\n\t\tconst transformedAlert = utils.getTransformedAlert(\n\t\t\trawAlert,\n\t\t\tuserTimeZoneOffset\n\t\t);\n\t\tconst { alertPayload, updatePayload } = transformedAlert;\n\n\t\tconst uiNotificationBehaviorState = utils.getUINotificationBehaviorState(\n\t\t\tstate\n\t\t);\n\t\tconst { offset, totalRowCount } = uiNotificationBehaviorState;\n\n\t\tconst { queue, badgeList, trayDisplayed } = notification;\n\n\t\tconst { sys_id } = alertPayload;\n\n\t\t// build toast item and ask to show toast\n\t\tconst alertItem = buildAlertItem(alertPayload, userId);\n\n\t\t// Get all current alerts\n\t\tconst { alertsToKeep, alertsToDelete } = utils.purgeOldAlerts(\n\t\t\tqueue,\n\t\t\talertItem,\n\t\t\tuiNotificationBehaviorState,\n\t\t\t'sys_id'\n\t\t);\n\t\t//Group correctly\n\t\tconst newAlertQueue = utils.addDateGroupings(alertsToKeep);\n\t\tconst shouldCalculateBadgeCount =\n\t\t\t!trayDisplayed && badgeList.indexOf(sys_id) === -1;\n\t\t// Calculate badge count\n\t\tif (shouldCalculateBadgeCount) {\n\t\t\tconst newBadgeList = badgeList.concat(sys_id);\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: 'notification',\n\t\t\t\toperation: 'assign',\n\t\t\t\tvalue: {\n\t\t\t\t\tbadgeList: newBadgeList,\n\t\t\t\t\tbadgeCount: newBadgeList.length\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tupdateState({\n\t\t\tpath: utils.UI_NOTIFICATION_BEHAVIOR_STATE_PATH,\n\t\t\tvalue: {\n\t\t\t\tdeleteQueue: alertsToDelete,\n\t\t\t\toffset: offset + 1,\n\t\t\t\ttotalRowCount: totalRowCount + 1\n\t\t\t},\n\t\t\toperation: 'assign'\n\t\t});\n\n\t\tupdateProperties(() => ({\n\t\t\tpath: 'notification',\n\t\t\toperation: 'assign',\n\t\t\tvalue: {\n\t\t\t\tqueue: newAlertQueue,\n\t\t\t\ttrayIsLoading: utils.isNotificationTrayLoading(\n\t\t\t\t\toffset,\n\t\t\t\t\ttotalRowCount,\n\t\t\t\t\talertsToDelete\n\t\t\t\t),\n\t\t\t\ttoastItem: showToast ? { ...alertItem } : {}\n\t\t\t}\n\t\t}));\n\n\t\tdispatch(SCREEN_STATUS_CHANGED, updatePayload);\n\t}\n};\n","import { actionTypes } from '@servicenow/ui-core';\n\nimport isEqual from 'lodash/isEqual';\nimport isEmpty from 'lodash/isEmpty';\nimport isNil from 'lodash/isNil';\nimport get from 'lodash/get';\n\nimport { hydrateViewport, viewportEnabled } from '../utils/viewport';\nimport * as utils from '../utils/utils';\n\nimport { SUBSCRIPTION_CHANGED, QUERY_NOTIFICATION_COUNT } from '../constants';\n\nconst {\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_PROPERTY_CHANGED\n} = actionTypes;\n\nconst fetchNotificationsAndInitializeAMBWatcher = ({\n\tstate,\n\tproperties,\n\tdispatch\n}) => {\n\t// Assume userMeta present in properties. This is coming from sn-canvas-chrome-state\n\tconst { userMeta, notificationConfiguration } = properties;\n\n\tconst { notificationsEnabled = true } = notificationConfiguration;\n\tif (notificationsEnabled.toString().toLowerCase() === 'false') return;\n\tconst { sys_id: userId } = userMeta;\n\tconst { uiRoute } = notificationConfiguration;\n\tif (!isEmpty(userId) && !isEmpty(uiRoute)) {\n\t\tconst uiNotificationBehaviorState = utils.getUINotificationBehaviorState(\n\t\t\tstate\n\t\t);\n\t\tconst { offset, totalRowCount } = uiNotificationBehaviorState;\n\n\t\tutils.askToQueryAlerts(\n\t\t\toffset,\n\t\t\ttotalRowCount,\n\t\t\tuserId,\n\t\t\tuiRoute,\n\t\t\tdispatch,\n\t\t\ttrue\n\t\t);\n\n\t\tconst condition = utils.buildBadgeQueryCondition(userId, uiRoute);\n\t\tdispatch(QUERY_NOTIFICATION_COUNT, { condition });\n\n\t\tdispatch(SUBSCRIPTION_CHANGED, {\n\t\t\ttable: 'ui_notification_inbox',\n\t\t\tfilter: utils.buildAlertSubscriptionFilter(userId, uiRoute),\n\t\t\tsubscribe: true\n\t\t});\n\t}\n};\n\nconst noOpHandler = {\n\tget: function(target, prop) {\n\t\treturn target.hasOwnProperty(prop) ? target[prop] : () => {};\n\t}\n};\n\nconst componentPropertyChangedHandler = new Proxy(\n\t{\n\t\t['notification']: ({ properties, previousValue, value, dispatch }) => {\n\t\t\tconst { userMeta } = properties;\n\t\t\tconst { sys_id: userId } = userMeta;\n\n\t\t\t// Exit early if values are the same\n\t\t\tif (isEqual(previousValue, value)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * If viewport configurations exist, then dispatch to render in a viewport.\n\t\t\t * Notification tray can be opened with or without a viewport.\n\t\t\t */\n\t\t\tif (viewportEnabled(properties.notificationConfiguration)) {\n\t\t\t\tconst { queue, trayDisplayed, trayIsLoading, toastItem } = value;\n\t\t\t\tconst {\n\t\t\t\t\tuiRoute,\n\t\t\t\t\tviewportConfiguration\n\t\t\t\t} = properties.notificationConfiguration;\n\n\t\t\t\tconst { viewportElementId, screenRoute } = viewportConfiguration;\n\n\t\t\t\thydrateViewport({\n\t\t\t\t\tvalue,\n\t\t\t\t\tdispatch,\n\t\t\t\t\ttoastItem,\n\t\t\t\t\tnotificationUIRoute: uiRoute,\n\t\t\t\t\tnotificationViewportElementId: viewportElementId,\n\t\t\t\t\tnotificationScreenRoute: screenRoute,\n\t\t\t\t\tnotificationQueue: queue,\n\t\t\t\t\tnotificationTrayDisplayed: trayDisplayed,\n\t\t\t\t\tnotificationTrayIsLoading: trayIsLoading\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Whenever the badge list is updated, set the count and, if the tray is open,\n\t\t\t// reset the session storage counter\n\t\t\tif (!isEqual(previousValue.badgeList, value.badgeList)) {\n\t\t\t\tconst { trayDisplayed } = properties.notification;\n\t\t\t\tif (trayDisplayed) utils.storeBadgeCount(userId);\n\t\t\t}\n\t\t},\n\t\t['userMeta']: ({\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\tpreviousValue,\n\t\t\tvalue,\n\t\t\tdispatch,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\t// Exit early if values are the same\n\t\t\tif (isEqual(previousValue, value)) return;\n\t\t\tconst prevUserId = previousValue.sys_id;\n\t\t\tconst userId = value.sys_id;\n\t\t\tif (!isEqual(prevUserId, userId)) {\n\t\t\t\tfetchNotificationsAndInitializeAMBWatcher({\n\t\t\t\t\tstate,\n\t\t\t\t\tproperties,\n\t\t\t\t\tdispatch\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst newShowBadgeVal = utils.getPreferenceValue(\n\t\t\t\tget(value, 'preferences', []),\n\t\t\t\t'workspace.notifications.showBadgeCount'\n\t\t\t);\n\t\t\tconst previousShowBadgeVal = utils.getPreferenceValue(\n\t\t\t\tget(previousValue, 'preferences', []),\n\t\t\t\t'workspace.notifications.showBadgeCount'\n\t\t\t);\n\t\t\tif (newShowBadgeVal !== previousShowBadgeVal) {\n\t\t\t\t// if new value is null, use default for showBadge(true). else convert\n\t\t\t\t// string to bool\n\t\t\t\tconst newShowBadge = isNil(newShowBadgeVal)\n\t\t\t\t\t? true\n\t\t\t\t\t: newShowBadgeVal.toString().toLowerCase() === 'true';\n\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\tpath: 'notification',\n\t\t\t\t\toperation: 'assign',\n\t\t\t\t\tvalue: { showBadge: newShowBadge }\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t},\n\tnoOpHandler\n);\n\nexport const actionHandlers = {\n\t[COMPONENT_BOOTSTRAPPED]: fetchNotificationsAndInitializeAMBWatcher,\n\t[COMPONENT_DISCONNECTED]: ({ properties, dispatch }) => {\n\t\tconst { userMeta, notificationConfiguration } = properties;\n\t\tconst { notificationsEnabled = true } = notificationConfiguration;\n\t\tif (notificationsEnabled.toString().toLowerCase() === 'false') return;\n\n\t\tconst { sys_id: userId } = userMeta;\n\t\tconst { uiRoute } = notificationConfiguration;\n\t\tif (!isEmpty(userId) && !isEmpty(uiRoute)) {\n\t\t\t// unsubscribe to changes\n\t\t\tdispatch(SUBSCRIPTION_CHANGED, {\n\t\t\t\ttable: 'ui_notification_inbox',\n\t\t\t\tfilter: utils.buildAlertSubscriptionFilter(userId, uiRoute),\n\t\t\t\tsubscribe: false\n\t\t\t});\n\t\t}\n\t},\n\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\taction,\n\t\tstate,\n\t\tproperties,\n\t\tdispatch,\n\t\tupdateProperties\n\t}) => {\n\t\tconst { notificationConfiguration } = properties;\n\t\tconst { notificationsEnabled = true } = notificationConfiguration;\n\t\tif (notificationsEnabled.toString().toLowerCase() === 'false') return;\n\t\tconst { name, previousValue, value } = action.payload;\n\t\tconst propertyChangedEffect = componentPropertyChangedHandler[name];\n\n\t\tpropertyChangedEffect({\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\tpreviousValue,\n\t\t\tvalue,\n\t\t\tdispatch,\n\t\t\tupdateProperties\n\t\t});\n\t}\n};\n","import get from 'lodash/get';\nimport isEmpty from 'lodash/isEmpty';\n\nexport function hydrateViewport({\n\tnotificationQueue,\n\tnotificationTrayDisplayed,\n\tnotificationTrayIsLoading,\n\ttoastItem,\n\tnotificationUIRoute,\n\tnotificationViewportElementId,\n\tnotificationScreenRoute,\n\tdispatch\n}) {\n\tdispatch('UXF_VIEWPORT#RENDER_BY_ID', {\n\t\treinitialize: true,\n\t\troute: notificationScreenRoute,\n\t\tviewportElementId: notificationViewportElementId,\n\t\tfields: {\n\t\t\ttoastItem,\n\t\t\tnotificationUIRoute,\n\t\t\tnotificationQueue,\n\t\t\tnotificationTrayDisplayed,\n\t\t\tnotificationTrayIsLoading\n\t\t}\n\t});\n}\n\nexport function viewportEnabled(notificationConfiguration) {\n\tconst viewportConfiguration = get(\n\t\tnotificationConfiguration,\n\t\t'viewportConfiguration',\n\t\t{}\n\t);\n\treturn (\n\t\t!isEmpty(viewportConfiguration.viewportElementId) &&\n\t\t!isEmpty(viewportConfiguration.screenRoute)\n\t);\n}\n","import './sn-canvas-notification-toast';\n","import { isEqual, isEmpty } from 'lodash';\n\nimport { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport rtlBehavior from '@servicenow/behavior-rtl';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-card';\nimport '@servicenow/now-tooltip';\n\nimport snNotificationToastStyles from './_sn-canvas-notification-toast.scss';\nimport {\n\tNOTIFICATION_ITEM_CLICKED,\n\tNOTIFICATION_TOAST,\n\tALERT_STATUS_READ\n} from '../../behaviors/ui-notifications/constants';\n\nconst { COMPONENT_RENDERED } = actionTypes;\n\nconst delayAutoClose = (updateProperties, duration) => {\n\treturn setTimeout(() => {\n\t\tupdateProperties({ toastItem: {} });\n\t}, duration);\n};\n\nconst notificationToastView = (state, { updateProperties, updateState }) => {\n\tconst { toastItem, displayLength, dir } = state.properties;\n\tconst { autoTimeout, lastToastItem } = state;\n\n\tif (isEmpty(toastItem) || isEqual(lastToastItem, toastItem)) {\n\t\treturn null;\n\t}\n\n\tupdateState({\n\t\tpath: 'lastToastItem',\n\t\tvalue: { ...toastItem },\n\t\toperation: 'set',\n\t\tshouldRender: false\n\t});\n\n\tconst { message, infoIcon, title } = toastItem;\n\tif (autoTimeout) {\n\t\tclearTimeout(autoTimeout);\n\t}\n\tupdateState({\n\t\tpath: 'autoTimeout',\n\t\tvalue: delayAutoClose(updateProperties, displayLength),\n\t\toperation: 'set',\n\t\tshouldRender: false\n\t});\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div role=\"alert\" aria-live=\"assertive\" className=\"hidden-alert-msg\">\n\t\t\t\t{title}\n\t\t\t</div>\n\t\t\t<span\n\t\t\t\tclass={{\n\t\t\t\t\t'sn-canvas-notification-toast': true,\n\t\t\t\t\t'-rtl': dir === 'rtl',\n\t\t\t\t\t'-ltr': dir === 'ltr'\n\t\t\t\t}}>\n\t\t\t\t<now-card\n\t\t\t\t\tid=\"toast-card\"\n\t\t\t\t\trole=\"button\"\n\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\tbutton: { 'aria-label': t(`${title} ${message}`) }\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"sn-canvas-notification-toast-card\"\n\t\t\t\t\tappend-to-payload={toastItem}\n\t\t\t\t\tinteraction=\"select\">\n\t\t\t\t\t<now-card-header\n\t\t\t\t\t\tclassName=\"sn-canvas-notification-toast-card-header\"\n\t\t\t\t\t\theading={{ label: title }}>\n\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\tclassName=\"sn-canvas-notification-toast-card-icon\"\n\t\t\t\t\t\t\tslot=\"identifier\"\n\t\t\t\t\t\t\ticon={infoIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</now-card-header>\n\t\t\t\t\t{message.length > 0 ? (\n\t\t\t\t\t\t<div className=\"sn-canvas-notification-toast-card-description\">\n\t\t\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t</now-card>\n\t\t\t\t<now-button\n\t\t\t\t\tclassName=\"sn-canvas-notification-toast-close-btn\"\n\t\t\t\t\ticon=\"close-outline\"\n\t\t\t\t\ttooltip-content={t('Delete Notification')}\n\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tbare\n\t\t\t\t\tconfig-aria={{ 'aria-label': t(`Delete Notification: ${title}`) }}\n\t\t\t\t\tappendToPayload={{\n\t\t\t\t\t\ttype: 'CLOSE_TOAST'\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<now-tooltip\n\t\t\t\t\tid=\"toast-card-tooltip\"\n\t\t\t\t\tcontent={t(`${title} ${message}`)}\n\t\t\t\t/>\n\t\t\t</span>\n\t\t</Fragment>\n\t);\n};\n\ncreateCustomElement('sn-canvas-notification-toast', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: notificationToastView\n\t},\n\tstyles: snNotificationToastStyles,\n\tinitialState: {\n\t\tautoTimeout: null,\n\t\tlastToastItem: null\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Object containing notification display information.\n\t\t * @type {object}\n\t\t */\n\t\ttoastItem: {\n\t\t\tdefault: {}\n\t\t},\n\t\t/**\n\t\t * Length (in milliseconds) to show each notification toast.\n\t\t * @type {number}\n\t\t */\n\t\tdisplayLength: {\n\t\t\tdefault: 6000\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_RENDERED]: ({ host }) => {\n\t\t\tconst card = host.shadowRoot.getElementById('toast-card');\n\t\t\tconst tooltip = host.shadowRoot.getElementById('toast-card-tooltip');\n\t\t\tif (tooltip && card) tooltip.targetRef = card;\n\t\t},\n\t\t['NOW_CARD#SELECTED_SET']: {\n\t\t\teffect: ({ action, dispatch, updateProperties }) => {\n\t\t\t\tconst { table, sys_id, alert_sys_id } = action.payload;\n\t\t\t\tdispatch(NOTIFICATION_ITEM_CLICKED, {\n\t\t\t\t\ttable,\n\t\t\t\t\tmode: NOTIFICATION_TOAST,\n\t\t\t\t\tsysId: sys_id,\n\t\t\t\t\talertSysId: alert_sys_id,\n\t\t\t\t\tstatus: ALERT_STATUS_READ\n\t\t\t\t});\n\t\t\t\tupdateProperties({ toastItem: {} });\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t['NOW_BUTTON#CLICKED']: {\n\t\t\teffect: ({ action, updateProperties }) => {\n\t\t\t\tconst { type } = action.payload;\n\t\t\t\tif (type === 'CLOSE_TOAST') updateProperties({ toastItem: {} });\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t},\n\tbehaviors: [rtlBehavior]\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-notification-toast.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host{--mv9-JrZp-8trptZ_8trpAmf--XZATrZO--JvjvZ:var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z-8trptZ--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))}.hidden-alert-msg{position:absolute;overflow:hidden;width:1px;height:1px;border:0;padding:0;white-space:nowrap;clip:rect(0,0,0,0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}.sn-canvas-notification-toast{position:fixed;top:inherit;z-index:3000;width:20.125rem;transition-timing-function:cubic-bezier(.77,0,.175,1)}:host(:not([dir=rtl])) .sn-canvas-notification-toast,:root:not([dir=rtl]) .sn-canvas-notification-toast{right:.5rem}:host([dir=rtl]) .sn-canvas-notification-toast,:root[dir=rtl] .sn-canvas-notification-toast{left:.5rem}.sn-canvas-notification-toast.-ltr{animation:toast_slide_right 6s forwards}@keyframes toast_slide_right{to{right:2rem}}.sn-canvas-notification-toast.-rtl{animation:toast_slide_left 6s forwards}@keyframes toast_slide_left{to{left:2rem}}.sn-canvas-notification-toast-card{background-color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))))}.sn-canvas-notification-toast-card:hover{background-color:RGBA(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))),var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z--krJUfZvWmp-JvjvZ--vXrJAzO--8vstZ,1))}.sn-canvas-notification-toast-card:active{background-color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))))}:host(:not([dir=rtl])) .sn-canvas-notification-toast-card-header,:root:not([dir=rtl]) .sn-canvas-notification-toast-card-header{padding-right:2rem}:host([dir=rtl]) .sn-canvas-notification-toast-card-header,:root[dir=rtl] .sn-canvas-notification-toast-card-header{padding-left:2rem}.sn-canvas-notification-toast-card-icon{vertical-align:top;color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z-AJvm--JvjvZ,var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81))))}.sn-canvas-notification-toast-card-description{color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z-kvpO--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))))}.sn-canvas-notification-toast-card-description p{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;overflow:hidden;margin:0;padding-top:.5rem;font-size:1rem}.sn-canvas-notification-toast-close-btn{position:absolute;top:.5rem;z-index:3001;display:inline-flex;color:RGB(var(--mv9-Jrmsr1-mvzAPAJrzAvm-zvr1z-AJvm--JvjvZ,var(--now-color_text--secondary,var(--now-color--neutral-12,66,80,81))))}:host(:not([dir=rtl])) .sn-canvas-notification-toast-close-btn,:root:not([dir=rtl]) .sn-canvas-notification-toast-close-btn{right:.5rem}:host([dir=rtl]) .sn-canvas-notification-toast-close-btn,:root[dir=rtl] .sn-canvas-notification-toast-close-btn{left:.5rem}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}