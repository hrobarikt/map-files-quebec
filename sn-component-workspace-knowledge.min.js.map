{"version":3,"sources":["webpack://__TECTONIC__sn_component_workspace_knowledge/webpack/bootstrap","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_ui_effect_graphql\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/timeAgo/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_modal\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/_shared/behaviors.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_dropdown\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/utils/actionUtil.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbAttachment/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__sn_component_timeago\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/_shared/utils.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbContent/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQADetail/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityBlogDetail/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/socialQADetail.scss?7a28","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_legacy_icon\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/sn-comments/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/sn-comments/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_record_html_editor\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_ui_effect_update_state\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQADetail/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQADetail/communityQADetail.scss?b68d","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQAComment/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQAComment/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityBlogDetail/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/Comparator.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_label_value\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/knowledgeDetail.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/knowledgeDetail.scss?23a3","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/knowledgeDetail.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbAttachment/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbAttachment/kbAttachment.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbAttachment/kbAttachment.scss?0d05","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbAttachment/kbAttachment.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbAttachment/actionHandlers.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbAttachment/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/timeAgo/timeAgo.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/timeAgo/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/articleHeader.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_text_link\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/kbFlagModal.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/query.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/kbFlagModal.scss?e5d8","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFlagModal/kbFlagModal.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/articleActions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/articleFooter.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/articleFeedback.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/helpfulFeedback.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/ratingFeedback.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/kbStarRating.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/query.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/kbStarRating.scss?2bff","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbStarRating/kbStarRating.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/kbFeedbackModal.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/kbFeedbackModal.scss?0658","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/kbFeedbackModal.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbFeedbackModal/query.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/articleTemplate.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_collapse\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/templates/articleComments.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/snKnowledgeComments.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/sn-comments/snComments.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/sn-comments/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/sn-comments/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/sn-comments/snComments.scss?7a5b","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/sn-comments/snComments.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_badge\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/data.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_ui_effect_amb\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/queries.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/snKnowledgeComments.scss?277f","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbComments/snKnowledgeComments.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/utils/timeToReadUtil.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbContent/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbContent/kbContent.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_activity_stream\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbContent/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/queries/knowledge_blocks.read.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/queries/knowledge_preview.read.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbContent/kbContent.scss?1d6b","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/components/kbContent/kbContent.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_record_field_lookup_connected\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_record_date_picker\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__moment_2_24_0\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/queries/knowledge.read.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDetail/queries/feedback.update.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQADetail/communityQADetail.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQADetail/communityQADetail.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQAComment/communityQAComment.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQAComment/actionHandlers.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQAComment/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQADetail/actionHandlers.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityQADetail/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityBlogDetail/communityBlogDetail.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityBlogDetail/communityBlogDetail.scss?a76b","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityBlogDetail/communityBlogDetail.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityBlogDetail/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/communityBlogDetail/actionHandlers.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/socialQADetail.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/socialQADetail.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/actionHandlers.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/socialqa.read.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQADetail/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQAAnswer/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQAAnswer/socialQAAnswer.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/socialQAAnswer/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/knowledgeDiscussionWrapper.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/knowledgeDiscussionWrapper.scss?2b4b","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/knowledgeDiscussionWrapper.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/DetailMapper.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_alert\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/knowledgeViewHandler.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/kbArticleTranslation.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/kbSharedComparator.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/comparator.scss?bf81","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/comparator.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/contentDiff.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbSharedComparator/action.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/actionHandlers.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/util/articleGraphqlQueries.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/util/taskGraphqlQueries.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/util/translationData.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/style.scss?cc09","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleTranslation/style.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_behavior_dynamic_translation_18_0_2\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleComparator/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleComparator/kbArtlcleComparator.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleComparator/action.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleComparator/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleComparator/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleComparator/kbArticleComparator.scss?6ede","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbArticleComparator/kbArticleComparator.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$devsnc_sn_document_viewer\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/knowledgeDiscussionWrapper/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbCategoryPicker/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbCategoryPicker/knowledgeCategoryPicker.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbCategoryPicker/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_content_tree\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_loader\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbCategoryPicker/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbCategoryPicker/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbCategoryPicker/queries.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/articleTemplateSelector.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$devsnc_sn_form_controls\"","webpack://__TECTONIC__sn_component_workspace_knowledge/external \"__TECTONIC__$servicenow_now_record_typeahead\"","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/utilities.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/knowledgeBase.read.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/articleTemplate.read.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/styles.scss?a5f1","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/articleTemplateSelector/styles.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/index.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/kbRequestTranslation.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/view.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/actions.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/constants.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/queries.js","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/style.scss?9be9","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/components/kbRequestTranslation/style.scss","webpack://__TECTONIC__sn_component_workspace_knowledge/./src/_shared/constants.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__sn_translate","__TECTONIC__$servicenow_ui_core","__TECTONIC__lodash_4_17_4","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","__TECTONIC__$servicenow_ui_effect_graphql","__TECTONIC__$servicenow_now_icon","__TECTONIC__$servicenow_now_avatar","default","__TECTONIC__$servicenow_now_modal","timeAgoBehaviors","SnTimeAgo","getBehaviors","__TECTONIC__$servicenow_now_button","__TECTONIC__$servicenow_now_dropdown","performVersionCheck","action","dispatch","properties","frameless","versionDetails","newVersionAvailable","warningMessage","versionId","history","sysId","dom","document","createElement","innerHTML","trim","versionLink","getElementsByTagName","getAttribute","setAttribute","SHOW_MESSAGE","status","iconName","type","on-click","PREVIEW_RECORD","table","sys_id","params","_editArticle","articleId","_flagArticle","updateState","openFlagModal","_copyPermaLink","state","articleResult","kbArticle","AppKnowledge_Query","getArticleDetails","v","permalink","location","origin","articleInfo","number","className","body","appendChild","select","result","execCommand","err","removeChild","_showFlagOption","_aricleVersionChanged","payload","_aricleLanguageChanged","props","article_attributes","_updateArticleHelpFul","UPDATE_HELPFUL","helpful","_canEditArticle","isEditable","_updateArticleNotHelpFul","articleData","showFeedbackOptions","showFeedbackComments","enableActionableFeedbackForHelpful","openFeedbackModal","rating","_canSelectBlocks","hasViewAccess","_selectBlocks","_canImpersonateBlocks","SELECT_BLOCKS","_downloadDocument","_impersonateBlocks","IMPERSONATE_BLOCKS","docId","kbDocSysId","a","href","download","click","_downloadCondition","_selectKnowledgeBlocksForSection","primaryButtons","secondaryButtons","actionButtons","helpfulYesButton","helpfulNoButton","impersonateActions","processArticleAction","coeffects","hasFunction","parentDiv","impersonatedContentHTML","data","blocks","forEach","block","kbBlock","querySelector","blocksSelected","classList","add","childDiv","iconSpan","NOW_EYE_OUTLINE_ICON_SMALL","numberSpan","descSpan","short_description","can_read_user_criteria","canReadSpan","cannot_read_user_criteria","cannotReadSpan","parentNode","insertBefore","remove","detailDiv","getElementById","selectKnowledgeBlocks","Array","sectionalContent","children","contentToRender","BUTTON_CLICKED","DROPDOWN_CLICKED","TEXT_LINK_CLICKED","FLAG_MODAL_RESET","FEEDBACK_MODAL_RESET","LOAD_KNOWLEDGE","LOAD_KNOWLEDGE_SUCCEEDED","LOAD_KNOWLEDGE_FAILED","FIELD_COLLAPSED","PROPERTIES_SET","UPDATE_HELPFUL_SUCCEEDED","UPDATE_HELPFUL_FAILED","UPDATE_FEEDBACK_RATING","UPDATE_HELPFUL_COUNT","ARTICLE_VIEW_ACCESS","VERSION_CHANGE","MESSAGES","THANK_YOU","LIMIT_REACHED_MESSAGE","CONTENT_UPDATED","LOAD_QUESTION","LOAD_QUESTION_SUCCEEDED","LOAD_QUESTION_FAILED","LOAD_ANSWER","LOAD_ANSWER_SUCCEEDED","LOAD_ANSWER_FAILED","COMPARE_ARTICLE_VERSIONS","KB_SHOW_ALERT_MESSAGE","NOW_ALERT_ACTION_CLICKED","NOW_ALERT_LIST_ITEMS_SET","SHOW_ALERT_MESSAGES","LOAD_ATTACHMENT","LOAD_CLASSNAME","LOAD_ATTACHMENT_SUCCEEDED","LOAD_ATTACHMENT_FAILED","LOAD_CLASSNAME_SUCCEEDED","LOAD_CLASSNAME_FAILED","DOWNLOAD_ATTACHMENT","__TECTONIC__sn_component_timeago","buildUserInitials","initials","split","word","toUpperCase","filter","match","substring","substr","BLOCK_FETCH_STARTED","BLOCK_FETCH_SUCCEEDED","PREVIEW_FETCH_STARTED","PREVIEW_FETCH_SUCCEEDED","SHOW_BLOCKS_MODAL","NOW_MODAL_FOOTER_ACTION_CLICKED","NOW_MODAL_OPENED_SET","NOW_RECORD_DATE_PICKER_VALUE_CHANGED","NOW_RECORD_FIELD_LOOKUP_VALUE_CHANGED","IMPERSONATE_MODAL_STYLE","display","IMPERSONATE_MODAL_FIRST_ITEM_STYLE","width","paddingRight","IMPERSONATE_MODAL_ITEM_STYLE","HIDDEN_BLOCKS_MODAL_ITEM_STYLE","paddingBottom","DATE_FORMAT","__TECTONIC__$servicenow_now_heading","__TECTONIC__$servicenow_ui_effect_http","LOAD_COMMUNITYQA","LOAD_COMMUNITYQA_ANSWER","LOAD_COMMUNITYQA_SUCCEEDED","LOAD_COMMUNITYQA_FAILED","LOAD_COMMUNITYQA_ANSWER_SUCCEEDED","LOAD_COMMUNITYQA_ANSWER_FAILED","SET_STATE","LOAD_COMMUNITYBLOG","LOAD_COMMUNITYBLOG_SUCCEEDED","LOAD_COMMUNITYBLOG_FAILED","GET_TRANSLATED_ARTICLE","LOAD_LANGUAGES_AND_SOURCE_SUCCESS","LOAD_LANGUAGES_AND_SOURCE","LOAD_TRANSLATED_ARTICLE","LOAD_TRANSLATED_SUCCESS","LOAD_SOURCE_CONTENT_SUCCESS","LOAD_SOURCE_CONTENT","CREATE_OR_CHECKOUT_TRANSLATION","CREATE_OR_CHECKOUT_TRANSLATION_FROM_TASK","PREVIEW_TRANSLATED_RECORD","LOAD_TRANSLATION_TASK","LOAD_TRANSLATION_TASK_SUCCESS","GET_BLOCK_COUNT","GET_BLOCK_COUNT_SUCCESS","DROPDOWN_ITEM_CLICKED","MODAL_FOOTER_ACTION_CLICKED","TYPES","EXCLUDE","LOAD_KNOWLEDGE_BASES","POPULATE_KNOWLEDGE_BASES","KNOWLEDGE_BASE_SELECTED","LOAD_ARTICLE_TEMPLATES","POPULATE_ARTICLE_TEMPLATES","OPEN_KNOWLEDGE_FORM","CLOSE_MODAL","NOW_MODAL_CLOSE","LOAD_TABLE_MAP","TABLE_MAP_LOADED","LOAD_FIELD_MAP","FIELD_MAP_LOADED","__TECTONIC__$servicenow_now_legacy_icon","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_CLICK","KEY_DOWN","RATING_SUBMITTED","SUBMIT_RATING","UPDATE_RATING","UPDATE_RATING_SUCCEEDED","UPDATE_RATING_FAILED","LOAD_CHOICES","CHOICE_LOADED","CHOICE_LOADING_FAILED","FEEDBACK_MODAL_SUBMITTED","FEEDBACK_MODAL_CLOSED","FOOTER_ACTION_CLICKED","MODAL_BUTTON_ESC","UPDATE_FEEDBACK_SUCCEEDED","UPDATE_FEEDBACK_FAILED","UPDATE_FEEDBACK","OTHER_REASON","HTML_EDITOR_ACTION_PERFORMED","HTML_EDITOR_ACTION_PERFORMED_PRIVATE","SHOW_REPLY_BUTTON_CLICKED","HIDE_REPLY_BUTTON_CLICKED","NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED","NOW_RECORD_HTML_EDITOR_VALUE_CHANGED","__TECTONIC__$servicenow_now_record_html_editor","RECORD_WATCHER_UPDATED","RW_ACTIONS","SUBSCRIPTION_STARTED","SUBSCRIPTION_SUCCEEDED","SUBSCRIPTION_FAILED","MESSAGE_RECEIVED","SUBSCRIPTION_UNSUBSCRIBED","NOW_BUTTON_BARE_CLICKED","COMMENTS_FETCH_SUCCESS","COMMENTS_FETCH_FAILURE","FETCH_COMMENTS","REPLY_TO_COMMENT","NOW_BUTTON_ICONIC_CLICKED","LIKE_COMMENT","UNLIKE_COMMENT","DELETE_COMMENT","COMMENT_INSERT_SUCCESSFUL","COMMENT_INSERT_FAILED","LIKE_COMMENT_SUCCESSFUL","LIKE_COMMENT_FAILED","UNLIKE_COMMENT_SUCCESSFUL","UNLIKE_COMMENT_FAILED","DELETE_COMMENT_SUCCESSFUL","DELETE_COMMENT_FAILED","CHECK_FOR_CHILD_COMMENTS","TOGGLE_DISPLAY_ALL_COMMENTS","NOW_BUTTON_CLICKED","SHOW_MORE_COMMENTS","INSERT_SUCCESS","INSERT_FAILED","DELETE_SUCCESS","DELETE_WARNING_1","DELETE_WARNING_2","__TECTONIC__$servicenow_ui_effect_update_state","STATE_SET","LOAD_COMMENT","LOAD_REPLIES","LOAD_REPLIES_SUCCEEDED","LOAD_REPLIES_FAILED","LOAD_SOCIALQA","LOAD_SOCIALQA_SUCCEEDED","LOAD_SOCIALQA_FAILED","heading","contentType","keepSpacing","originalContent","changedContent","comparedData","getDiffContent","label","Content","editable","diff","on-input","e","FIELD_UPDATED","target","contentEditable","aria-labelledby","__TECTONIC__$servicenow_now_label_value","createCustomElement","renderer","snabbdom","view","behaviors","initialState","blocksImpersonated","selectedSysId","helpfulData","usefulYesCount","totalUsefulCount","actions","actionHandlers","onConnect","host","startsWith","link","parameters","URLSearchParams","rank","searchId","ts_query_kb_id","top_click_rank","styles","ArticleContent","contentHTML","parentSysId","parentNumber","workflowState","knowledgeBase","userId","userName","ArticleAttachment","displayAttachment","docviewerEnabled","sys-id","docviewer-enabled","article_html","userDetail","articleSysId","articleHTML","displayAttachments","fullView","GlideDomain_Query","userID","user","userLanguage","language","avatar","fullName","articleContentHTML","templateFieldData","field","column","collapsible","collapsed","headingStyle","fieldStyle","detailBody","artileTimeToRead","kbKnowledgeBase","locale","fetchAttachmentEffect","createGraphQLEffect","successActionType","errorActionType","variableList","fetchClassnameEffect","private","effect","graphQL","stopPropagation","classNameGraphQl","title","window","assign","class_name","GlideRecord_Query","kb_knowledge","_results","sys_class_name","query","model","attachments","card","Date","time-stamp","date","system-time","renderCard","role","tabIndex","aria-label","icon","size","transformState","time","lastUpdated","getTickTime","timeStamp","systemTime","computed","options","timeAgo","dateBoth","dateOnly","setUpdateFn","update","linkPayload","Fragment","kbCategory","aria-level","shortDescription","append-to-payload","sysUpdatedOn","sysViewCount","showStarRating","toFixed","replace","showFlag","openModal","enableActionableFeedback","enableActionableFeedbackForFlag","__TECTONIC__$servicenow_now_text_link","snKbFlagModal","flaggedResponse","flagInput","style","extractContent","str","DOMParser","parseFromString","documentElement","textContent","rows","manage-opened","opened","header-label","footer-actions","isEmpty","variant","disabled","updateKnowledgeFlag","flag_article","UPDATE_FLAG_COMMENT_SUCCEEDED","UPDATE_FLAG_COMMENT_FAILED","SUBMIT_FLAG_COMMENT","UPDATE_FLAG_COMMENT","GlideRecord_Mutation","insert_kb_feedback","ARTICLE_FLAGGED","footerAction","evaluateActionCondition","btn","condition","getButtonLabel","hide-caret","hide-label","items","panel-fit-props","config-aria","versionList","currentVersion","showHistory","ver","versionNumber","languageList","currentLang","languageDetails","lang","selected","versioningInstalled","revisedBy","baseVersion","author","getRevisionString","isInstalled","bare","selected-items","showYNRating","helpPercent","Math","round","ariaLabel","threshold","enableActionableFeedbackForRating","snKbStarRating","current","isEditing","readOnly","stars","halfRating","getClasses","currentClass","getStarIcon","loopVar","flip","componentId","component-id","aria-checked","on-mouseenter","on-mouseleave","aria-invalid","tab-index","aria-valuemin","aria-valuemax","aria-valuenow","on-keydown","which","on-focusout","elements","half","getElements","COMPONENT_BOOTSTRAPPED","actionTypes","updateKnowledgeRating","rating_update","updateProperties","parseInt","inc","reason","comments","choiceList","choices","obj","getFeedbackChoices","reason_choices","updateFeedbackEffect","update_feedback","resetModalState","console","log","isRatingFeedback","isHelpful","cssText","controls","expanded","__TECTONIC__$servicenow_now_collapse","prop","isAdminorOwner","commentsThreshold","hasComments","currentEditorId","buttons","expandedItems","bootstrapped","deleteModalOpened","deleteCommentData","metaData","hasChildren","commentsToDisplay","snComponentComments","manageExpanded","TextEditor","text","appendToPayload","placeholder","tooltip-content","getTag","tag","addClasses","derivedAttributes","attributes","visible","classname","mapKeys","itemId","getClass","index","last","classes","level","includes","root","Comment","has","data-testid","aria-hidden","image-src","user-name","parent_obj","getUserDetails","createdOn","tempArr","x","populateMetaData","dropdownItems","component","getDropDownItems","showReplies","icon-name-start","hide-padding","splice","indexOf","getRepliesButton","tempItems","parse","payloadValue","footerActions","has-no-margin","icon-start","manage-expanded","message","__TECTONIC__$servicenow_now_badge","recordWatcher","createAmbSubscriptionEffect","subscribeStartedActionType","subscribeSucceededActionType","subscribeFailedActionType","messageReceivedActionType","unsubscribeSucceededActionType","done","itemPath","getPath","pid","getPathinString","path","actualPath","meta","hasFeedback","commentId","operation","article","parent_comment","maxComments","isNaN","commentActions","getRootComments","subscribe","recordWatcherSubscription","tree","commentsTree","parent","buildTree","commentsQuery","batch","addCommentQuery","addLikesQuery","deleteLikesQuery","deleteCommentQuery","ind","pop","start","deleteCount","commentRecord","created_on","comment_text","isLiked","likesCount","rootId","tinyMCE","activeEditor","setContent","record","sys_created_on","display_value","tempState","arr","commentButton","weight","iconColor","textStyles","fontSize","marginBottom","color","buttonStyles","marginRight","hidePadding","useDropdown","tooltipContent","__TECTONIC__$servicenow_ui_effect_amb","getReadTimeFromDOM","languageCode","textTime","Set","getTextReadTimeByCharacters","getTextReadTimeByWords","imageTime","imgTagCount","querySelectorAll","picTags","count","from","reduce","node","seconds","getImageReadTime","ceil","html","doc","getDateFormat","uxGlobalsUserStr","dateFormat","timeFormat","clone","dateFilter","format","viewDate","timePicker","modalContent","tableName","fieldName","displayValue","hiddenBlocksContent","hiddenBlocks","hiddenBlock","hiddenBlocksModalContent","showHiddenBlocks","behavior","nowLinkInterceptorBehavior","propsToHtmlArray","selectedValue","template","__TECTONIC__$servicenow_now_activity_stream","COMPONENT_RENDERED","fetchKnowledgeBlocksEffect","knowledge_blocks_data_read","fetchKnowledgePreviewEffect","knowledge_preview_data_read","handleImpersonateBlocks","articleNumber","viewOnDate","handleModalValueChange","handleHiddenBlocks","hiddenBlocksDiv","createNoAccessContent","headerDiv","shadowRoot","targetID","onclick","scrollIntoView","AppKnowledgeBlocks_Query","getKBBlocksFromArticleForUser","response","getArticleContentForUser","error","publishDate","errorMessage","__TECTONIC__$servicenow_now_record_field_lookup_connected","__TECTONIC__$servicenow_now_record_date_picker","__TECTONIC__moment_2_24_0","fetchKnowledgeEffect","knowledge_read","updateHelpfulEffect","update_helpful","infoMessage","isExpired","createUpdateStateEffect","content_type","depth","onDisconnect","articleContent","removeEventListener","redirectURL","currentTarget","srcElement","open","preventDefault","comment","acceptedid","sysid","disablenest","nested","lastelem","createHttpEffect","pathParams","queryParams","communityAnswers","getParentDivClass","getNestedClass","getIconType","getSpanClass","replies","results","getReplies","userAvatarObject","userImage","user_details","levelName","edited_date","helpful_count","comment_count","toggleReplies","getToggleBarContent","communityQA","communityQAAnswer","answerResult","lastAnswer","latestReply","noBorderClass","forum","topics","published_date","ref","article_content","description","view_count","upvote_count","accepted_answer","addEventListener","communityBlog","answerCondition","fetchSocialQAEffect","socialqa_read","socialQA","kb_social_qa_question","kb_social_qa_answer","correctAnswer","_reference","answer","answered","kb_knowledge_base","kb_category","question","profile","photo","question_details","views","votes","answerClasses","alertMessages","messageDisplayed","active","dehydrate","baseTable","detailToLoad","sysIdToLoad","src","alerts","selectedTabIndex","defaultTab","readOnlyForm","hideDetails","detailsContext","questionID","answerID","setDetailToLoadFromResults","dataSource","kbDotWalk","questionIDDotWalk","questionDefaultValue","communityKBResults","communityKBID","questionKBID","questionResults","setTimeout","config-aria-live","getKnowledgeView","DetailTag","DetailMapper","getView","__TECTONIC__$servicenow_now_alert","srcdetails","source-page","source-record","trans-record","versions","first-version","second-version","delete-hidden","close-hidden","render-office-format","languageItems","selectedLanguage","languageWarningOpened","comparisonData","disableLanguage","disableCreateArticle","isDynamicTranslationEnabled","isTranslating","sourceContent","sourceLanguage","sourcePage","sourceRecord","transRecord","translationBehavior","isEnabledBehavior","hideCaret","modalFor","machinTranslateButton","buttonFor","loaderFill","comparatorMode","spin","labels","button","reflect","rowList","diff_match_patch","scriptLoad","async","on-load","addDiffIndicationTags","diffString","closeTag","openTag","tagOpen","outputText","charCodeAt","convertHtmlToEncodedString","htmlText","tagMap","diffableString","offset","tagStart","tagEnd","tagString","unicodeCharacter","String","fromCharCode","set","convertEncodedStringToHtml","htmlString","baseContent","compareContent","isHtml","Map","diffs","unicodeChar","baseString","compareString","dmp","diff_main","diff_cleanupSemantic","findDifferences","output","taggedString","previousSelection","excludeFields","event","eventName","types","exclude","sourceArticle","getBlockCount","fetchLanguageAndSourceDetails","languageResults","sortSourceContent","loadTranslatedArticle","translationDataForLoad","translated","createOrCheckout","loadTranslationTaskDetails","srcLanguage","translated_language","transArticle","translatedContent","createOrCheckoutFromTask","changedLanguage","translationObj","translationDataForCreate","translationData","translatedLanguage","element","msg","targetLanguages","additionalParameters","code","elemIndex","parameterName","parameterValue","translatedRecord","templateVarList","changedContentMap","htmlFieldArray","stringFieldArray","fieldObj","sort","field1","field2","__TECTONIC__$servicenow_behavior_dynamic_translation_18_0_2","firstVersion","secondVersion","READY_TO_FETCH","DATA_LOADED","kb_version","version1","version2","original","changed","originalVersionNumber","changedVersionNumber","versionNumber1","parseFloat","version","versionNumber2","getArticleData","_query","getArticleByFieldTypes","comparison-data","__TECTONIC__$devsnc_sn_document_viewer","fetchAnswerEffect","AnswerQuery","fetchQuestionEffect","QuestionQuery","versionIds","getTime","alertId","findIndex","messages","tempMsgs","selectedItems","loading","loadingItems","recordSysId","serializedChanges","encodedRecord","shouldFocusOnOpen","expanded-items","loading-items","__TECTONIC__$servicenow_now_content_tree","__TECTONIC__$servicenow_now_loader","tempTree","y","changes","hasValue","FETCH_FAILURE","FETCH_CATEGORIES","FETCH_CATEGORIES_FROM_ENCODED_RECORD","FETCH_CATEGORIES_FROM_ARTICLE","categoryQuery","FETCH_CATEGORIES_SUCCESS","FETCH_NEXT_CATEGORIES","FETCH_NEXT_CATEGORIES_SUCCESS","FETCH_NEXT_CATEGORIES_FAILURE","articleCategoryQuery","encodedRecordCategoryQuery","ITEM_CLICKED","CATGORY_PICKER_ITEM_SELECTED","VALUE_CHANGED","categories","fromArticle","flatCategories","categoryTree","catTree","unshift","parentId","shift","tempPath","getExpandedPath","NOW_CONTENT_TREE_LOADING_REQUESTED","selectedKnowledgeBase","selectedArticleTemplate","knowledgeBases","defaultKnowledgeBases","articleTemplates","isModalOpened","searchTerm","selectedOptionDisplayValue","mapExists","tableMaps","modal","knowlegeBaseDropdown","required","onValueChange","b","selectionValue","selectionDisplayValue","onSelectionChange","onChange","onSearchTermChange","articleTemplateDropdown","readonly","choice","prQuery","kb","__TECTONIC__$devsnc_sn_form_controls","__TECTONIC__$servicenow_now_record_typeahead","newState","toLowerCase","filterResults","loadKnowledgeBases","knowledgeBase_read","loadArticleTemplates","articleTemplate_read","closeModal","schema","function","csm_table_map","temps","target_table","fieldMaps","fetchLanguageDetails","getAvailableLanguages","LOAD_LANGUAGES_SUCCESS","LOAD_LANGUAGES","LANGUAGES_SELECTED","selectedLanguages","KNOWLEDGEBASE_PREVIEW"],"mappings":"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","file":"sn-component-workspace-knowledge.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 47);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__$servicenow_ui_core;","module.exports = __TECTONIC__lodash_4_17_4;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__$servicenow_ui_effect_graphql;","module.exports = __TECTONIC__$servicenow_now_icon;","module.exports = __TECTONIC__$servicenow_now_avatar;","export {default as timeAgo} from './timeAgo';\n","module.exports = __TECTONIC__$servicenow_now_modal;","import {SnTimeAgo} from 'sn-component-timeago';\n\nexport const timeAgoBehaviors = SnTimeAgo.getBehaviors();\n","module.exports = __TECTONIC__$servicenow_now_button;","module.exports = __TECTONIC__$servicenow_now_dropdown;","import { t } from 'sn-translate';\nimport { get } from 'lodash';\nimport { SHOW_MESSAGE, PREVIEW_RECORD, UPDATE_HELPFUL, SELECT_BLOCKS, IMPERSONATE_BLOCKS } from '../constants';\nimport { NOW_EYE_OUTLINE_ICON_SMALL, SHOW_BLOCKS_MODAL } from \"../components/kbContent/constants\";\n\nexport const performVersionCheck = ({ action, dispatch, properties }) => {\n    if (!(properties.frameless === 'true' || properties.frameless === true)) {\n        var versionDetails = get(action, 'payload.data.AppKnowledge_Query.getArticleDetails.versionDetails', {});\n        if (versionDetails.newVersionAvailable && versionDetails.warningMessage) {\n            var versionId = versionDetails.history[0].sysId;\n            var dom = document.createElement('div');\n            dom.innerHTML = versionDetails.warningMessage.trim();\n            var versionLink = dom.getElementsByTagName(\"a\")[0].getAttribute(\"href\");\n            dom.getElementsByTagName(\"a\")[0].setAttribute(\"href\", \"javascript:void(0)\");\n\n            dispatch(SHOW_MESSAGE, {\n                status: \"info\",\n                iconName: \"circle-info-outline\",\n                content: {\n                    type: 'jsx',\n                    value: versionLink ? <div innerHTML={dom.innerHTML} on-click={() => dispatch(PREVIEW_RECORD, {\n                        table: properties.table,\n                        sys_id: versionId,\n                        params: { mode: 'view' }\n                    })}></div> : <div innerHTML={versionDetails.warningMessage}> </div>\n                },\n                action: { type: \"dismiss\" }\n            });\n        }\n    }\n};\n\nexport const _editArticle = ({ dispatch, properties}) => {\n    const articleId = properties.sysId;\n\n    if (articleId) {\n        dispatch(PREVIEW_RECORD, {\n            table: properties.table,\n            sys_id: articleId,\n            params: { mode: 'form' }\n        });\n    }\n};\n\nexport const _flagArticle = ({ updateState }) => {\n    updateState({\n        openFlagModal: true\n    });\n};\n\nexport const _copyPermaLink = ({ dispatch, state }) => {\n    const articleResult = state.kbArticle.AppKnowledge_Query.getArticleDetails;\n    let v = document.createElement('textarea');\n    var permalink = document.location.origin + '/kb?id=kb_article_view&sysparm_article=' + articleResult.articleInfo.number;\n    v.innerHTML = permalink;\n    v.className = \"sr-only\";\n    document.body.appendChild(v);\n    v.select();\n    let result = true;\n    try {\n        result = document.execCommand('copy');\n    }\n    catch (err) {\n        result = false;\n    }\n    finally {\n        document.body.removeChild(v);\n    }\n\n    dispatch(SHOW_MESSAGE, {\n        status: \"info\",\n        iconName: \"circle-info-outline\",\n        content: {\n            type: 'jsx',\n            value: result === true ? t('Link copied to clipboard') : (<div><div> {t('Unable to copy link to clipboard because of a browser limitation. Use the following link:')} </div><br /><div>{permalink}</div></div>)\n        },\n        action: { type: \"dismiss\" }\n    });\n};\n\nexport const _aricleVersionChanged = ({ dispatch, action, properties }) => {\n    if (action.payload && action.payload.item) {\n        const articleId = action.payload.item.id;\n        dispatch(PREVIEW_RECORD, {\n            table: properties.table,\n            sys_id: articleId,\n            params: { mode: 'view' }\n        });\n    }\n};\n\nexport const _aricleLanguageChanged = ({ dispatch, action, properties }) => {\n    if (action.payload && action.payload.item) {\n        const articleId = action.payload.item.id;\n        dispatch(PREVIEW_RECORD, {\n            table: properties.table,\n            sys_id: articleId,\n            params: { mode: 'view' }\n        });\n    }\n};\n\nexport const _showFlagOption = (props) => {\n    return get(props.payload.article_attributes, \"showFlag\", true);\n};\n\nexport const _updateArticleHelpFul = ({ action, dispatch, properties }) => {\n    dispatch(UPDATE_HELPFUL, { articleId: properties.sysId, helpful: 'yes' });\n};\n\nexport const _canEditArticle = (props) => {\n    return props.payload.article_attributes.isEditable;\n};\n\nexport const _updateArticleNotHelpFul = ({ state, properties, updateState, dispatch}) => {\n    const articleData = state.kbArticle.AppKnowledge_Query.getArticleDetails;\n    if((articleData.showFeedbackOptions || articleData.showFeedbackComments) && articleData.enableActionableFeedbackForHelpful)\n        updateState({\n            openFeedbackModal: true,\n            helpful: 'no',\n            rating: ''\n        });\n    else\n        dispatch(UPDATE_HELPFUL, { articleId: properties.sysId, helpful: 'no' });\n};\n\nexport const _canSelectBlocks = (props) => {\n    return props.payload.article_attributes.hasViewAccess && props.payload.article_attributes.mode === 'preview';\n};\n\nexport const _canImpersonateBlocks = (props) => {\n\treturn props.payload.article_attributes.mode === 'preview';\n};\n\nexport const _selectBlocks = ({ dispatch }) => {\n    dispatch(SELECT_BLOCKS);\n};\n\nexport const _impersonateBlocks = ({ dispatch }) => {\n\tdispatch(IMPERSONATE_BLOCKS);\n};\n\nexport const _downloadDocument = ({state: {kbArticle}}) => {\n    const docId = kbArticle.AppKnowledge_Query.getArticleDetails.kbDocSysId;\n    var a = document.createElement(\"a\");\n    a.href = `/sys_attachment.do?sys_id=${docId}`;\n    a.download = true;\n    a.click();\n};\n\nexport const _downloadCondition = ({payload}) => payload.article_attributes.kbDocSysId;\n\nexport const primaryButtons = [\n    { \"id\": \"edit\", \"label\": t('Edit'), \"variant\": \"secondary\", \"action\": _editArticle, \"condition\": _canEditArticle }\n];\n\nexport const secondaryButtons = [\n    { \"id\": \"flag\", \"label\": t('Flag article'), \"action\": _flagArticle, \"condition\": _showFlagOption },\n    { \"id\": \"copy_link\", \"label\": t('Copy link'), \"action\": _copyPermaLink },\n    { \"id\": \"download\", \"label\": t('Download as Word (.docx)'), \"action\": _downloadDocument, \"condition\": _downloadCondition }\n];\n\nexport const actionButtons = [\n\t// { \"id\": \"previewBlocks\", \"label\": t('View as User'), \"variant\": \"secondary\", \"action\": _impersonateBlocks, \"condition\": _canImpersonateBlocks },\n    { \"id\": \"selectBlocks\", \"label\": t('Show Blocks'), \"variant\": \"secondary\", \"action\": _selectBlocks, \"condition\": _canSelectBlocks }\n];\n\nexport const helpfulYesButton = { \"id\": \"edit\", \"label\": t('Yes'), \"variant\": \"tertiary\", \"action\": _updateArticleHelpFul };\n\nexport const helpfulNoButton = { \"id\": \"edit\", \"label\": t('No'), \"variant\": \"tertiary\", \"action\": _updateArticleNotHelpFul };\n\nexport const impersonateActions = [\n\t{ \"label\": t(\"OK\"), \"variant\": \"primary\", \"meta\": \"ok\" },\n\t{ \"label\": t(\"Cancel\"), \"variant\": \"secondary\", \"meta\": \"cancel\" }\n];\n\nexport const processArticleAction = (coeffects) => {\n    if (coeffects.action && coeffects.action.payload && coeffects.action.payload.item) {\n        const hasFunction = coeffects.action.payload.item.action;\n        if (hasFunction)\n            hasFunction(coeffects);\n    }\n    return;\n};\n\nconst _selectKnowledgeBlocksForSection = (state, dispatch, content) => {\n    const parentDiv = document.createElement('div');\n\tparentDiv.innerHTML = state.impersonatedContentHTML ? state.impersonatedContentHTML : content.data.props.innerHTML;\n\tstate.blocks.forEach(block => {\n        const kbBlock = parentDiv.querySelector('.' + block.number + ':not(.block-selected)');\n\t\tif (kbBlock) {\n\t\t\tif (state.properties.blocksSelected) {\n\t\t\t\tkbBlock.classList.add('block-selected');\n\n\t\t\t\tconst childDiv = document.createElement('div');\n\t\t\t\tchildDiv.id = 'detail_' + block.number;\n\t\t\t\tchildDiv.classList.add('block-detail');\n\n\t\t\t\tconst iconSpan = document.createElement('span');\n\t\t\t\ticonSpan.innerHTML =\n\t\t\t\t\t`<svg xmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tviewBox=\"0 0 12 12\"\n\t\t\t\t\tstyle=\"width: 0.75rem; height: 0.75rem;\">\n\t\t\t\t\t${NOW_EYE_OUTLINE_ICON_SMALL}\n\t\t\t\t</svg>`;\n\t\t\t\tchildDiv.appendChild(iconSpan);\n\n\t\t\t\tconst numberSpan = document.createElement('span');\n\t\t\t\tnumberSpan.innerHTML = block.number;\n\t\t\t\tchildDiv.appendChild(numberSpan);\n\n\t\t\t\tconst descSpan = document.createElement('span');\n\t\t\t\tdescSpan.innerHTML = block.short_description;\n\t\t\t\tchildDiv.appendChild(descSpan);\n\n\t\t\t\tif (block.can_read_user_criteria) {\n\t\t\t\t\tconst canReadSpan = document.createElement('span');\n\t\t\t\t\tcanReadSpan.innerHTML = t('Can Read') + ' - ' + block.can_read_user_criteria;\n\t\t\t\t\tchildDiv.appendChild(canReadSpan);\n\t\t\t\t}\n\n\t\t\t\tif (block.cannot_read_user_criteria) {\n\t\t\t\t\tconst cannotReadSpan = document.createElement('span');\n\t\t\t\t\tcannotReadSpan.innerHTML = t('Cannot Read') + ' - ' + block.cannot_read_user_criteria;\n\t\t\t\t\tchildDiv.appendChild(cannotReadSpan);\n\t\t\t\t}\n                kbBlock.parentNode.insertBefore(childDiv, kbBlock);\n\t\t\t} else {\n\t\t\t\tkbBlock.classList.remove('block-selected');\n\t\t\t\tconst detailDiv = document.getElementById('detail_' + block.number);\n\t\t\t\tif (detailDiv) {\n\t\t\t\t\tparentDiv.removeChild(detailDiv);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tcontent.data.props.innerHTML = parentDiv.innerHTML;\n}\n\nexport const selectKnowledgeBlocks = (state, dispatch, content) => {\n    // If `content` is an array\n    // `content` contains data for each section (corresponding to respective HTML Editor) in an article\n    if (content instanceof Array) {\n        for (let item of content) {\n            let sectionalContent = item\n                && item.children\n                && item.children[0]\n                && item.children[0].children\n                && item.children[0].children[1];\n\n            let collapsableContent = sectionalContent\n                && sectionalContent.children\n                && sectionalContent.children.length\n                && sectionalContent.children[0];\n\n            let contentToRender = collapsableContent || sectionalContent;\n            if (contentToRender) {\n                _selectKnowledgeBlocksForSection(state, dispatch, contentToRender);\n            }\n        }\n    } else {\n        // If `content` is an object\n        _selectKnowledgeBlocksForSection(state, dispatch, content);\n    }\n};\n","export const PREVIEW_RECORD = 'PREVIEW_RECORD';\nexport const BUTTON_CLICKED = 'NOW_BUTTON#CLICKED';\nexport const DROPDOWN_CLICKED = 'NOW_DROPDOWN#ITEM_CLICKED';\nexport const TEXT_LINK_CLICKED = 'NOW_TEXT_LINK#CLICKED';\nexport const FLAG_MODAL_RESET = 'SN_KB#FLAG_MODAL_RESET';\nexport const FEEDBACK_MODAL_RESET = 'SN_KB#FEEDBACK_MODAL_RESET';\nexport const LOAD_KNOWLEDGE = 'SN_KB#LOAD_KNOWLEDGE';\nexport const LOAD_KNOWLEDGE_SUCCEEDED = 'SN_KB#LOAD_KNOWLEDGE_SUCCEEDED';\nexport const LOAD_KNOWLEDGE_FAILED = 'SN_KB#LOAD_KNOWLEDGE_FAILED';\nexport const FIELD_COLLAPSED = \"SN_KB#FIELD_COLLAPSED\";\nexport const PROPERTIES_SET = 'PROPERTIES_SET';\nexport const UPDATE_HELPFUL_SUCCEEDED = 'SN_KB#UPDATE_HELPFUL_SUCCEEDED';\nexport const UPDATE_HELPFUL_FAILED = 'SN_KB#UPDATE_HELPFUL_FAILED';\nexport const UPDATE_HELPFUL = 'SN_KB#UPDATE_HELPFUL';\nexport const SHOW_MESSAGE = 'SN_KB#SHOW_ALERT_MESSAGE';\nexport const UPDATE_FEEDBACK_RATING = 'SN_KB#UPDATE_FEEDBACK_RATING';\nexport const UPDATE_HELPFUL_COUNT = 'SN_KB#UPDATE_HELPFUL_COUNT';\nexport const SELECT_BLOCKS = 'SELECT_BLOCKS';\nexport const IMPERSONATE_BLOCKS = 'IMPERSONATE_BLOCKS';\nexport const ARTICLE_VIEW_ACCESS = 'ARTICLE_VIEW_ACCESS';\nexport const VERSION_CHANGE = 'VERSION_CHANGE';\n\nimport { t } from \"sn-translate\";\nexport const MESSAGES = {\n\tTHANK_YOU: t(\"Feedback submitted.\"),\n\tLIMIT_REACHED_MESSAGE: t(\n\t\t\"You have reached the daily limit for feedback posted by a user.\"\n\t)\n};\n\n","export const PREVIEW_RECORD = 'PREVIEW_RECORD';\nexport const CONTENT_UPDATED = 'CONTENT_UPDATED';\nexport const LOAD_QUESTION = \"LOAD_QUESTION\";\nexport const LOAD_QUESTION_SUCCEEDED = \"LOAD_QUESTION_SUCCEEDED\";\nexport const LOAD_QUESTION_FAILED = \"LOAD_QUESTION_FAILED\";\nexport const LOAD_ANSWER = \"LOAD_ANSWER\";\nexport const LOAD_ANSWER_SUCCEEDED = \"LOAD_ANSWER_SUCCEEDED\";\nexport const LOAD_ANSWER_FAILED = \"LOAD_ANSWER_FAILED\";\nexport const COMPARE_ARTICLE_VERSIONS = \"COMPARE_ARTICLE_VERSIONS\";\nexport const KB_SHOW_ALERT_MESSAGE = \"SN_KB#SHOW_ALERT_MESSAGE\";\nexport const NOW_ALERT_ACTION_CLICKED = \"NOW_ALERT#ACTION_CLICKED\";\nexport const NOW_ALERT_LIST_ITEMS_SET = \"NOW_ALERT_LIST#ITEMS_SET\";\nexport const SHOW_ALERT_MESSAGES = \"SN_KB#SHOW_ALERT_MESSAGES\";\n","export {default as knowledgeDetail} from './knowledgeDetail';\n","export const LOAD_ATTACHMENT = 'LOAD_ATTACHMENT';\nexport const LOAD_CLASSNAME = 'LOAD_CLASSNAME';\nexport const LOAD_ATTACHMENT_SUCCEEDED = 'LOAD_ATTACHMENT_SUCCEEDED';\nexport const LOAD_ATTACHMENT_FAILED = 'LOAD_ATTACHMENT_FAILED';\nexport const LOAD_CLASSNAME_SUCCEEDED = 'LOAD_CLASSNAME_SUCCEEDED';\nexport const LOAD_CLASSNAME_FAILED = 'LOAD_CLASSNAME_FAILED';\nexport const PROPERTIES_SET = 'PROPERTIES_SET';\nexport const DOWNLOAD_ATTACHMENT = 'DOWNLOAD_ATTACHMENT';\nexport const PREVIEW_RECORD = \"PREVIEW_RECORD\";","module.exports = __TECTONIC__sn_component_timeago;","const buildUserInitials = (name) => {\n\tif (!name)\n\t\treturn '--';\n\n\tvar initials = name.split(' ').map(function(word) {\n\t\treturn word.toUpperCase();\n\t}).filter(function(word) {\n\t\treturn word.match(/^[A-ZÀ-Ÿ]/);\n\t}).map(function(word) {\n\t\treturn word.substring(0,1);\n\t}).join('');\n\n\treturn (initials.length > 3)\n\t\t? initials.substr(0, 3)\n\t\t: initials;\n};\n\nexport {buildUserInitials};","export const BLOCK_FETCH_STARTED = \"BLOCK_FETCH_STARTED\";\nexport const BLOCK_FETCH_SUCCEEDED = \"BLOCK_FETCH_SUCCEEDED\";\nexport const PREVIEW_FETCH_STARTED = \"PREVIEW_FETCH_STARTED\";\nexport const PREVIEW_FETCH_SUCCEEDED = \"PREVIEW_FETCH_SUCCEEDED\";\nexport const SHOW_BLOCKS_MODAL = 'SHOW_BLOCKS_MODAL';\nexport const NOW_MODAL_FOOTER_ACTION_CLICKED = \"NOW_MODAL#FOOTER_ACTION_CLICKED\";\nexport const NOW_MODAL_OPENED_SET = \"NOW_MODAL#OPENED_SET\";\nexport const NOW_RECORD_DATE_PICKER_VALUE_CHANGED = \"NOW_RECORD_DATE_PICKER#VALUE_CHANGED\";\nexport const NOW_RECORD_FIELD_LOOKUP_VALUE_CHANGED = \"NOW_RECORD_FIELD_LOOKUP_CONNECTED#VALUE_CHANGED\";\nexport const NOW_EYE_OUTLINE_ICON_SMALL = '<g stroke=\"none\" fill=\"none\"><path d=\"M6 2c1.906 0 3.44.714 4.617 1.897.704.708 1.138 1.417 1.344 1.91a.5.5 0 0 1 0 .386c-.206.493-.64 1.202-1.344 1.91C9.439 9.286 7.906 10 6 10c-1.906 0-3.44-.714-4.617-1.897C.68 7.395.245 6.686.04 6.193a.5.5 0 0 1 0-.386c.206-.493.64-1.202 1.344-1.91C2.561 2.714 4.094 2 6 2zm0 1c-1.623 0-2.909.599-3.908 1.603A6.057 6.057 0 0 0 1.055 6a6.057 6.057 0 0 0 1.037 1.397C3.092 8.401 4.377 9 6 9c1.623 0 2.909-.599 3.908-1.603A6.057 6.057 0 0 0 10.945 6a6.057 6.057 0 0 0-1.037-1.397C8.908 3.599 7.623 3 6 3zm0 1a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\" fill=\"currentColor\"></path></g>';\nexport const IMPERSONATE_MODAL_STYLE = {display: 'flex'};\nexport const IMPERSONATE_MODAL_FIRST_ITEM_STYLE = {width: '265px',paddingRight: '20px'};\nexport const IMPERSONATE_MODAL_ITEM_STYLE = {width: '265px'};\nexport const HIDDEN_BLOCKS_MODAL_ITEM_STYLE = {paddingBottom: '10px'};\nexport const DATE_FORMAT = \"YYYY-MM-DD HH:mm:ss\";\n","module.exports = __TECTONIC__$servicenow_now_heading;","module.exports = __TECTONIC__$servicenow_ui_effect_http;","export const LOAD_COMMUNITYQA = 'LOAD_COMMUNITYQA';\nexport const LOAD_COMMUNITYQA_ANSWER = 'LOAD_COMMUNITYQA_ANSWER';\nexport const LOAD_COMMUNITYQA_SUCCEEDED = 'LOAD_COMMUNITYQA_SUCCEEDED';\nexport const LOAD_COMMUNITYQA_FAILED = 'LOAD_COMMUNITYQA_FAILED';\nexport const LOAD_COMMUNITYQA_ANSWER_SUCCEEDED = 'LOAD_COMMUNITYQA_ANSWER_SUCCEEDED';\nexport const LOAD_COMMUNITYQA_ANSWER_FAILED = 'LOAD_COMMUNITYQA_ANSWER_FAILED';\nexport const SET_STATE = 'SET_STATE';","export const LOAD_COMMUNITYBLOG = 'LOAD_COMMUNITYBLOG';\nexport const LOAD_COMMUNITYBLOG_SUCCEEDED = 'LOAD_COMMUNITYBLOG_SUCCEEDED';\nexport const LOAD_COMMUNITYBLOG_FAILED = 'LOAD_COMMUNITYBLOG_FAILED';\nexport const SET_STATE = 'SET_STATE';","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./socialQADetail.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","\nexport const GET_TRANSLATED_ARTICLE = 'GET_TRANSLATOR_SYS_ID';\nexport const LOAD_LANGUAGES_AND_SOURCE_SUCCESS = \"LOAD_LANGUAGES_AND_SOURCE_SUCCESS\";\nexport const LOAD_LANGUAGES_AND_SOURCE = \"LOAD_AVAILABLE_LANGUAGES\";\nexport const LOAD_TRANSLATED_ARTICLE = \"LOAD_TRANSLATED_ARTICLE\";\nexport const LOAD_TRANSLATED_SUCCESS = \"LOAD_TRANSLATED_SUCCESS\";\nexport const LOAD_SOURCE_CONTENT_SUCCESS = \"LOAD_SOURCE_CONTENT_SUCCESS\";\nexport const LOAD_SOURCE_CONTENT = \"LOAD_SOURCE_CONTENT\";\nexport const CREATE_OR_CHECKOUT_TRANSLATION = \"CREATE_OR_CHECKOUT_TRANSLATION\";\nexport const CREATE_OR_CHECKOUT_TRANSLATION_FROM_TASK = \"CREATE_OR_CHECKOUT_TRANSLATION_FROM_TASK\";\nexport const PREVIEW_TRANSLATED_RECORD = \"PREVIEW_TRANSLATED_RECORD\";\nexport const LOAD_TRANSLATION_TASK = \"LOAD_TRANSLATION_TASK\";\nexport const LOAD_TRANSLATION_TASK_SUCCESS = \"LOAD_TRANSLATION_TASK_SUCCESS\";\nexport const GET_BLOCK_COUNT = \"SN_KB#IS_BLOCKS_ADDED\";\nexport const GET_BLOCK_COUNT_SUCCESS = \"SN_KB#IS_BLOCKS_ADDED_SUCCESS\";\nexport const PREVIEW_RECORD = 'PREVIEW_RECORD';\nexport const BUTTON_CLICKED = 'NOW_BUTTON#CLICKED';\nexport const DROPDOWN_ITEM_CLICKED = 'NOW_DROPDOWN#ITEM_CLICKED';\nexport const MODAL_FOOTER_ACTION_CLICKED ='NOW_MODAL#FOOTER_ACTION_CLICKED'\nexport const TYPES = [\"string\",\"html\",\"translated_html\"];\nexport const EXCLUDE = [ \"article_id\",\"language\",\"topic\",\"number\",\"meta\",\"meta_description\",\"display_number\",\"sys_created_by\",\"sys_updated_by\",\"description\",\"category\",\"article_type\"];","export const LOAD_KNOWLEDGE_BASES = 'LOAD_KNOWLEDGE_BASES';\nexport const POPULATE_KNOWLEDGE_BASES = 'POPULATE_KNOWLEDGE_BASES';\nexport const KNOWLEDGE_BASE_SELECTED = 'KNOWLEDGE_BASE_SELECTED';\nexport const LOAD_ARTICLE_TEMPLATES = 'LOAD_ARTICLE_TEMPLATES';\nexport const POPULATE_ARTICLE_TEMPLATES = 'POPULATE_ARTICLE_TEMPLATES';\nexport const OPEN_KNOWLEDGE_FORM = 'OPEN_KNOWLEDGE_FORM';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\nexport const NOW_MODAL_CLOSE = 'NOW_MODAL#OPENED_SET';\nexport const PREVIEW_RECORD = 'PREVIEW_RECORD';\nexport const LOAD_TABLE_MAP = 'LOAD_TABLE_MAP';\nexport const TABLE_MAP_LOADED = 'TABLE_MAP_LOADED';\nexport const LOAD_FIELD_MAP = 'LOAD_FIELD_MAP';\nexport const FIELD_MAP_LOADED = 'FIELD_MAP_LOADED';","module.exports = __TECTONIC__$servicenow_now_legacy_icon;","export const MOUSE_ENTER = 'SN_KB#RATING_MOUSE_ENTER';\nexport const MOUSE_LEAVE = 'SN_KB#_RATING_MOUSE_LEAVE';\nexport const MOUSE_CLICK = 'SN_KB#RATING_MOUSE_CLICKED';\nexport const KEY_DOWN = 'SN_KB#RATING_KEY_DOWN';\nexport const RATING_SUBMITTED = 'SN_KB#RATING_SUBMITTED';\nexport const SUBMIT_RATING = 'SN_KB#SUBMIT_RATING';\nexport const UPDATE_RATING = 'SN_KB#RATING_UPDATED';\nexport const UPDATE_RATING_SUCCEEDED = 'SN_KB#RATING_UPDATE_SUCCEEDED';\nexport const UPDATE_RATING_FAILED = 'SN_KB#RATING_UPDATE_FAILED';\nexport const SHOW_MESSAGE = 'SN_KB#SHOW_ALERT_MESSAGE';\nexport const UPDATE_FEEDBACK_RATING = 'SN_KB#UPDATE_FEEDBACK_RATING';\n\nimport { t } from \"sn-translate\";\nexport const MESSAGES = {\n    THANK_YOU: t(\"Feedback submitted.\"),\n    LIMIT_REACHED_MESSAGE: t(\"You have reached the daily limit for feedback posted by a user.\")\n};\n\n","export const LOAD_CHOICES = 'SN_KB#FEEDBACK_LOAD_CHOICES';\nexport const CHOICE_LOADED = 'SN_KB#FEEDBACK_CHOICE_LOADED';\nexport const CHOICE_LOADING_FAILED = 'SN_KB#FEEDBACK_CHOICE_LOADING_FAILED';\nexport const FEEDBACK_MODAL_SUBMITTED = 'SN_KB#FEEDBACK_MODAL_SUBMITTED';\nexport const FEEDBACK_MODAL_CLOSED = 'SN_KB#FEEDBACK_MODAL_CLOSED';\nexport const FOOTER_ACTION_CLICKED = 'NOW_MODAL#FOOTER_ACTION_CLICKED';\nexport const MODAL_BUTTON_ESC = 'NOW_MODAL#OPENED_SET';\nexport const BUTTON_CLICKED = 'NOW_BUTTON#CLICKED';\nexport const DROPDOWN_CLICKED = 'NOW_DROPDOWN#ITEM_CLICKED';\nexport const SHOW_MESSAGE = 'SN_KB#SHOW_ALERT_MESSAGE';\nexport const UPDATE_FEEDBACK_SUCCEEDED = 'SN_KB#UPDATE_FEEDBACK_SUCCEEDED';\nexport const UPDATE_FEEDBACK_FAILED = 'SN_KB#UPDATE_FEEDBACK_FAILED';\nexport const UPDATE_FEEDBACK = 'SN_KB#UPDATE_FEEDBACK';\nexport const OTHER_REASON = \"4\";\nexport const FEEDBACK_MODAL_RESET = 'SN_KB#FEEDBACK_MODAL_RESET';\nexport const UPDATE_HELPFUL_COUNT = 'SN_KB#UPDATE_HELPFUL_COUNT'\n\nimport { t } from \"sn-translate\";\nexport const MESSAGES = {\n\tLIMIT_REACHED_MESSAGE: t(\"You have reached the daily limit for feedback posted by a user.\"),\n    THANK_YOU: t(\"Thank you. We’ll improve the article based on your feedback.\"),\n};","export {default} from './snComments'","export const HTML_EDITOR_ACTION_PERFORMED = \"HTML_EDITOR#ACTION_PERFORMED\"\nexport const HTML_EDITOR_ACTION_PERFORMED_PRIVATE = \"HTML_EDITOR#ACTION_PERFORMED_PRIVATE\"\nexport const SHOW_REPLY_BUTTON_CLICKED = \"SHOW_REPLY_BUTTON_CLICKED\"\nexport const HIDE_REPLY_BUTTON_CLICKED = \"HIDE_REPLY_BUTTON_CLICKED\"\nexport const NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#STAGED_VALUE_CHANGED\"\nexport const NOW_RECORD_HTML_EDITOR_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#VALUE_CHANGED\"","module.exports = __TECTONIC__$servicenow_now_record_html_editor;","import { t } from \"sn-translate\";\n\nexport const RECORD_WATCHER_UPDATED = \"RECORD_WATCHER_UPDATED\";\nexport const RW_ACTIONS = {\n\tSUBSCRIPTION_STARTED: \"SUBSCRIPTION_STARTED\",\n\tSUBSCRIPTION_SUCCEEDED: \"SUBSCRIPTION_SUCCEEDED\",\n\tSUBSCRIPTION_FAILED: \"SUBSCRIPTION_FAILED\",\n\tMESSAGE_RECEIVED: \"MESSAGE_RECEIVED\",\n\tSUBSCRIPTION_UNSUBSCRIBED: \"SUBSCRIPTION_UNSUBSCRIBED\"\n};\nexport const NOW_BUTTON_BARE_CLICKED = \"NOW_BUTTON_BARE#CLICKED\";\nexport const HTML_EDITOR_ACTION_PERFORMED = \"HTML_EDITOR#ACTION_PERFORMED\";\nexport const COMMENTS_FETCH_SUCCESS = \"SN_KB#COMMENTS_FETCH_SUCCESS\";\nexport const COMMENTS_FETCH_FAILURE = \"SN_KB#COMMENTS_FETCH_FAILURE\";\nexport const FETCH_COMMENTS = \"SN_KB#FETCH_COMMENTS\";\nexport const REPLY_TO_COMMENT = \"SN_KB#REPLY_TO_COMMENT\";\nexport const NOW_BUTTON_ICONIC_CLICKED = \"NOW_BUTTON_ICONIC#CLICKED\";\nexport const NOW_MODAL_FOOTER_ACTION_CLICKED =\n\t\"NOW_MODAL#FOOTER_ACTION_CLICKED\";\nexport const LIKE_COMMENT = \"SN_KB#LIKE_COMMENT\";\nexport const UNLIKE_COMMENT = \"SN_KB#UNLIKE_COMMENT\";\nexport const DELETE_COMMENT = \"SN_KB#DELETE_COMMENT\";\n\nexport const COMMENT_INSERT_SUCCESSFUL = \"SN_KB#COMMENT_INSERT_SUCCESSFUL\";\nexport const COMMENT_INSERT_FAILED = \"SN_KB#COMMENT_INSERT_FAILED\";\nexport const LIKE_COMMENT_SUCCESSFUL = \"SN_KB#LIKE_COMMENT_SUCCESSFUL\";\nexport const LIKE_COMMENT_FAILED = \"SN_KB#LIKE_COMMENT_FAILED\";\nexport const UNLIKE_COMMENT_SUCCESSFUL = \"SN_KB#UNLIKE_COMMENT_SUCCESSFUL\";\nexport const UNLIKE_COMMENT_FAILED = \"SN_KB#UNLIKE_COMMENT_FAILED\";\nexport const DELETE_COMMENT_SUCCESSFUL = \"SN_KB#DELETE_COMMENT_SUCCESSFUL\";\nexport const DELETE_COMMENT_FAILED = \"SN_KB#DELETE_COMMENT_FAILED\";\nexport const CHECK_FOR_CHILD_COMMENTS = \"SN_KB#CHECK_FOR_CHILD_COMMENTS\";\nexport const SHOW_REPLY_BUTTON_CLICKED = \"SHOW_REPLY_BUTTON_CLICKED\";\nexport const HIDE_REPLY_BUTTON_CLICKED = \"HIDE_REPLY_BUTTON_CLICKED\";\nexport const NOW_MODAL_OPENED_SET = \"NOW_MODAL#OPENED_SET\";\nexport const TOGGLE_DISPLAY_ALL_COMMENTS = \"SN_KB#TOGGLE_DISPLAY_ALL_COMMENTS\";\nexport const SHOW_MESSAGE = \"SN_KB#SHOW_ALERT_MESSAGE\";\nexport const NOW_BUTTON_CLICKED = \"NOW_BUTTON#CLICKED\";\nexport const SHOW_MORE_COMMENTS = \"SN_KB#SHOW_MORE_COMMENTS\";\nexport const NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#STAGED_VALUE_CHANGED\"\nexport const NOW_RECORD_HTML_EDITOR_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#VALUE_CHANGED\"\n\nexport const MESSAGES = {\n\t\t\t\t\tINSERT_SUCCESS: t(\"Comment posted.\"),\n\t\t\t\t\tINSERT_FAILED: t(\n\t\t\t\t\t\t\"You have reached the daily limit for feedback posted by a user.\"\n\t\t\t\t\t),\n\t\t\t\t\tDELETE_SUCCESS: t(\"Comment deleted.\"),\n\t\t\t\t\tDELETE_WARNING_1: t(\n\t\t\t\t\t\t\"Deleting this post will also delete all its feedback and responses.\"\n\t\t\t\t\t),\n\t\t\t\t\tDELETE_WARNING_2: t(\n\t\t\t\t\t\t\"Deleting this post will also delete all its feedback and responses.\"\n\t\t\t\t\t)\n\t\t\t\t};\n","module.exports = __TECTONIC__$servicenow_ui_effect_update_state;","export {default as communityQADetail} from './communityQADetail';\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./communityQADetail.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","export {default as communityQAComment} from './communityQAComment';\n","export const STATE_SET = 'STATE_SET';\nexport const LOAD_COMMENT = 'LOAD_COMMENT';\nexport const LOAD_REPLIES = 'LOAD_REPLIES';\nexport const LOAD_REPLIES_SUCCEEDED = 'LOAD_REPLIES_SUCCEEDED';\nexport const LOAD_REPLIES_FAILED = 'LOAD_REPLIES_FAILED';\nexport const PROPERTIES_SET = 'PROPERTIES_SET';","export {default as communityBlogDetail} from './communityBlogDetail';\n","export {default as socialQADetail} from './socialQADetail';","export const LOAD_SOCIALQA = 'LOAD_SOCIALQA';\nexport const LOAD_SOCIALQA_SUCCEEDED = 'LOAD_SOCIALQA_SUCCEEDED';\nexport const LOAD_SOCIALQA_FAILED = 'LOAD_SOCIALQA_FAILED';\nexport const SET_STATE = 'SET_STATE';","export {default} from './kbSharedComparator';","import '@servicenow/now-label-value';\nimport {getDiffContent} from './contentDiff';\nimport {FIELD_UPDATED} from './constants';\n\nexport default props => {\n    const {\n        name,\n        heading,\n        contentType,\n        mode,\n        dispatch,\n        keepSpacing\n    } = props;\n\n    let {\n        originalContent,\n        changedContent,\n    } = props;\n\n    if(mode === 'diff'){\n        const comparedData = getDiffContent(originalContent,changedContent,contentType==='html',keepSpacing);\n        originalContent = comparedData.originalContent;\n        changedContent = comparedData.changedContent;\n    }\n\n    return (\n\t\t<li className=\"comparator-row\">\n            <section className=\"old-content content-block\">\n                <now-label-value-inline label={heading}/>\n                <Content contentType={mode==='diff'?\"html\":contentType} content={originalContent} mode=\"normal\" name={name} dispatch={dispatch}/>\n            </section>\n            <section className=\"new-content content-block\">\n                <now-label-value-inline id={name} label={heading}/>\n                <Content contentType={contentType} content={changedContent} mode={mode} name={name} dispatch={dispatch}/>\n            </section>\n        </li>\n\t);\n}\n\nconst Content = ({contentType, content, mode, dispatch, name}) => {\n    const editable = mode === 'editable';\n    const diff = mode === 'diff';\n\n    if(contentType==='html') {\n\t\treturn (\n            <section \n                className={editable? 'editable' : 'noteditable'} \n                on-input={e => dispatch(FIELD_UPDATED, {name, content:e.target.innerHTML})} \n                contentEditable={editable} \n                innerHTML={content}\n                aria-labelledby={name}\n            />\n        );\n\t} else if(editable && contentType === 'string'){\n\t\treturn (\n            <input\n                className=\"input-field\" \n                aria-labelledby={name}\n                value={content} \n                type=\"text\"\n                on-input={e => dispatch(FIELD_UPDATED, {name, content:e.target.value})}\n            />\n        );\n\t} else if (diff){\n\t\treturn <p innerHTML={content}/>;\n    } else {\n        return <p>{content}</p>\n    }\n}\n","module.exports = __TECTONIC__$servicenow_now_label_value;","export const FIELD_UPDATED = 'KB_COMPARATOR_FIELD_UPDATED';","export {default as snComponentKnowledgeDetailElement} from './components/knowledgeDetail/';\nexport {default as snComponentCommunityQADetailElement} from './components/communityQADetail';\nexport {default as snComponentCommunityBlogDetail} from './components/communityBlogDetail';\nexport {default as snComponentSocialQADetailElement} from './components/socialQADetail';\nexport {default as snComponentKnowledgeDiscussionWrapperElement} from './components/knowledgeDiscussionWrapper';\nexport {default as snComponentKnowledgeCategoryPicker} from './components/kbCategoryPicker';\nexport {default as snComponentArticleTemplateSelector } from './components/articleTemplateSelector';\nexport {default as snComponentKnowledgeRequestTranslation} from './components/kbRequestTranslation';\nexport * from './_shared/constants';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from './knowledgeDetail.scss';\nimport {view} from './view';\nimport {LOAD_KNOWLEDGE} from './constants';\nimport {actions, actionHandlers} from './actions';\nimport { timeAgoBehaviors } from \"../../_shared/behaviors\";\n\ncreateCustomElement('sn-knowledge-detail', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tbehaviors: [...timeAgoBehaviors],\n\tinitialState: {\n\t\topenFlagModal : false,\n\t\topenFeedbackModal :false,\n\t\tblocksSelected: false,\n\t\tblocksImpersonated: false,\n\t\thasViewAccess: true,\n\t\tselectedSysId: '',\n\t\trating:\"\",\n\t\thelpful: \"\",\n\t\thelpfulData: {\n\t\t\tusefulYesCount: 0,\n\t\t\ttotalUsefulCount: 0\n\t\t}\n\t},\n\tproperties: {\n\t\ttable: '',\n\t\tsysId: '',\n\t\tmode: '',\n\t\tframeless: '',\n\t\titem: { default: '' }\n\t},\n\tactions,\n\tactionHandlers,\n\tonConnect(host, dispatch) {\n\t\tif (host.table === 'kb_knowledge' || host.table === 'kb_knowledge_block' || host.table.startsWith('kb_template') || host.table.startsWith('u_kb_template')) {\n\t\t\tif(host.item && host.item.link) {\n\t\t\t\tconst parameters = new URLSearchParams(host.item.link);\n\t\t\t\tconst rank = parameters.get('sysparm_rank');\n\t\t\t\tconst searchId = parameters.get('sysparm_tsqueryId');\n\n\t\t\t\tdispatch(LOAD_KNOWLEDGE, {sys_id: host.sysId, ts_query_kb_id: searchId, top_click_rank: rank});\n\t\t\t} else {\n\t\t\t\tdispatch(LOAD_KNOWLEDGE, {sys_id: host.sysId});\n\t\t\t}\n\t\t}\n\t},\n\tstyles: styles\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./knowledgeDetail.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-community-blog-detail),:host(sn-community-qa-detail),:host(sn-knowledge-detail),:host(sn-knowledge-socialqa-detail){display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-agent-assist{flex:1 1 auto;height:100%;position:relative}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;padding:0 1.5rem;overflow:auto}.sn-card,.sn-panel{position:relative;width:100%}.sn-card{border:1px solid;border-color:rgb(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem}.sn-card.-no-border .sn-card-row .context-card{width:100%}.sn-card.-response{background:RGB(var(--now-color--neutral-1,246,247,247));border:none;padding:.75rem}.sn-card.-comment{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-nested{border-width:1px 0 0;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));margin-top:.75rem;padding-left:0}.sn-card.-accepted{background-color:RGB(var(--now-color--primary-0,221,237,233),.45);border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-accepted .sn-card-header{border:none}.sn-card.-accepted .sn-card-row{margin-bottom:0}.sn-card.-solved{background:RGBA(var(--now-color--secondary-1,1,119,142),.1)}.sn-card.-solved .sn-card-header{border:none;color:RGB(var(--now-color--primary-0,221,237,233));margin:0}.sn-card.-solved .sn-card-header .sn-card-row{align-items:center;margin:0}.sn-card.-solved .sn-card-header .sn-card-row>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root:not([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root[dir=rtl] .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-left:.25rem}.sn-card-header{border-left-color:RGB(var(--now-color--neutral-7,135,147,148));border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--neutral-7,135,147,148));border-right-color:RGB(var(--now-color--neutral-7,135,147,148));border-top-color:RGB(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.75rem;position:relative}.sn-card-header+.sn-card-body{margin-top:0}.sn-card-row{display:flex;flex:0 0 auto;position:relative;width:100%}.sn-card-header .sn-card-row:last-of-type{margin-bottom:.75rem}.sn-card-row.has-avatar{margin-top:.5rem}.-response .sn-card-row.has-avatar{margin-top:.75rem}.sn-card-row.has-avatar:first-child{margin-top:0}.sn-card-row.-title{color:RGB(var(--now-color--neutral-12,66,80,81));flex:0 0 auto;font-size:1rem;font-weight:600;margin-top:.25rem}.sn-card-row.-body{flex-direction:column}.sn-card-row>.sn-card-body{margin-top:0}.sn-card-row>now-text-link{margin:.25rem 0 .75rem}.sn-card-content{align-items:center;display:flex;flex:1 1 auto;position:relative;overflow:hidden}.sn-card-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card-content>now-avatar,:root:not([dir=rtl]) .sn-card-content>now-avatar{margin-right:.5rem}:host([dir=rtl]) .sn-card-content>now-avatar,:root[dir=rtl] .sn-card-content>now-avatar{margin-left:.5rem}.sn-card-body{color:RGB(var(--now-color--neutral-18,22,27,28));flex:0 0 auto;font-size:1rem;margin-top:.75rem;width:100%}.sn-card-body p,.sn-card-body ul{margin-bottom:.5rem;margin-top:0}.sn-card-body p:last-child,.sn-card-body ul:last-child{margin-bottom:0}.sn-card-body img{height:auto;max-width:100%}.sn-card-footer{flex:0 0 auto;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin:1rem 0}.sn-card-list{flex:1 1 auto;width:100%}.sn-card-list .sn-card{margin-bottom:.75rem}.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-card .sn-card-row .context-card{width:100%}.sn-attachment{border-radius:.125rem;border:1px solid rgb(var(--now-color--neutral-5,172,180,181));cursor:pointer;display:inline-flex;padding:1rem;max-width:100%}.sn-attachment.is-focus,.sn-attachment.is-hover,.sn-attachment:focus,.sn-attachment:hover{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-attachment.is-focus .sn-attachment-content,.sn-attachment.is-focus .sn-attachment-content-title,.sn-attachment:focus .sn-attachment-content,.sn-attachment:focus .sn-attachment-content-title{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-attachment-container{display:flex;max-width:100%}.sn-attachment-content{color:RGB(var(--now-color--neutral-9,99,114,116));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-right:.5rem}.sn-attachment-content:last-of-type{padding-right:0}.sn-attachment-content.-static{flex:0 0 auto;overflow:visible}.sn-attachment-content.-static>now-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachment-content-title,.sn-attachment-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachment-content-title{color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;margin-bottom:.5rem}.sn-attachment-list{flex:1 1 auto;list-style:none;margin:.75rem 0 0;padding:0;width:100%}.sn-attachment-list .sn-attachment{margin-right:.5rem;margin-bottom:.5rem}.sn-meta-list{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));list-style:none;margin:0;padding:0;position:relative;overflow:hidden}.sn-meta-list-item{align-items:center;display:flex;margin-bottom:.125rem;padding:0;position:relative}.sn-meta-list-item:last-of-type{margin-bottom:0}.sn-meta-list-item.-bold{font-weight:600}.sn-meta-list-item>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-meta-list-item>now-icon,:root:not([dir=rtl]) .sn-meta-list-item>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-meta-list-item>now-icon,:root[dir=rtl] .sn-meta-list-item>now-icon{margin-left:.25rem}.sn-meta-list-item>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-show-more-btn{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;display:inline-flex;font-family:inherit;font-size:1rem;justify-content:center;margin:.75rem 0 0;padding:0;vertical-align:middle;white-space:nowrap;width:auto;font-size:.75rem}.sn-show-more-btn:hover{color:RGB(var(--now-color--secondary-2,1,89,107))}.sn-show-more-btn:active{color:RGB(var(--now-color--secondary-3,1,60,71))}:host(:not([dir=rtl])) .sn-show-more-btn now-icon,:root:not([dir=rtl]) .sn-show-more-btn now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-show-more-btn now-icon,:root[dir=rtl] .sn-show-more-btn now-icon{margin-right:.25rem}.sn-comment-header{display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--primary-1,30,133,109));margin-bottom:.75rem}.sn-comment-header now-icon{margin-right:.25rem}.sn-card-body{overflow:auto}:host(sn-knowledge-detail){width:100%}.kb-view-border{border:none;border-bottom:.0625rem solid rgb(var(--now-color--neutral-4,191,197,198))}.kb-view-border.-no-bottom{border-bottom:none}.no-padding-top{padding-top:0}.sn-card.-no-border{border:none}.kb-header{color:RGB(var(--now-color--neutral-9,99,114,116));border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)))}.kb-header-top{display:inline-flex;flex-wrap:nowrap;flex-direction:row;justify-content:space-between}.kb-header-top .kb-top-left .kb-breadcrumb{font-size:.75rem;margin-bottom:.25rem}.kb-header-top .kb-top-left .kb-title{font-size:1.5rem;color:RGB(var(--now-color--neutral-12,66,80,81));margin-bottom:.5rem}.kb-header-top .kb-top-right .kb-action-group{display:inline-flex;flex-wrap:wrap;flex-direction:row;justify-content:space-between}.kb-header-top .kb-top-right .kb-action-primary,.kb-header-top .kb-top-right .kb-action-secondary{padding:.25rem}.kb-header-bottom{margin-bottom:1rem}.kb-header-bottom .sn-meta-list{display:inline-flex;flex-wrap:wrap;flex-direction:row}.kb-header-bottom .sn-meta-list-item{font-size:.75rem;margin-bottom:.25rem;padding-right:1rem}.kb-header-bottom .sn-meta-list-item now-icon{padding-right:.25rem;margin-bottom:.125rem}.kb-header-bottom .sn-meta-list-item now-legacy-icon{padding-right:.5rem;margin-bottom:.125rem}.kb-header-bottom .kb-meta{font-size:1rem;display:flex;flex-wrap:wrap}.kb-header-bottom .kb-meta-dot{font-size:1.5rem;line-height:0;padding-left:.5rem;padding-right:.5rem}.kb-content{font-size:1rem;color:RGB(var(--now-color--neutral-18,22,27,28));margin-top:0!important}.kb-content .collapsible-label-container h2{border-style:solid;border-color:RGB(var(--now-color--neutral-4,191,197,198))}.kb-content .collapsible-label-container now-icon{padding-top:.5rem;float:right}.kb-footer{display:inline-flex;flex-wrap:nowrap;flex-direction:row;justify-content:space-between;color:RGB(var(--now-color--neutral-18,22,27,28));border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));border-top:.0625rem solid;border-top-color:rgb(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));padding-top:1rem;margin-bottom:0;font-weight:400;font-size:1rem}.kb-footer-left{align-self:center}.kb-footer-left .kb-meta{display:flex;flex-wrap:wrap;height:1.5rem}.kb-footer-left .kb-meta-pipe{padding-left:.75rem;padding-right:.75rem}.kb-footer-right .kb-meta{font-size:1rem;margin-right:1rem;display:flex;flex-wrap:wrap}.kb-footer-right .kb-meta-pad{padding-right:.75rem}.kb-footer-right .kb-meta-label{padding-right:.25rem;margin-bottom:.125rem;display:inline}.kb-feedback{color:RGB(var(--now-color--neutral-9,99,114,116));border-top:.0625rem solid rgb(var(--now-color--neutral-4,191,197,198));margin-top:1rem;margin-left:-1.5rem;margin-right:-1.5rem;padding:1.5rem 1.5rem 0;display:inline-flex;flex-wrap:nowrap;flex-direction:row;justify-content:space-between}.kb-helpful-label{font-weight:400;color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;padding-right:.75rem}.kb-helpful-no,.kb-helpful-yes{padding-right:.5rem}.kb-helpful-info{font-size:.75rem}.kb-rating{padding-right:1rem;padding-top:.25rem}.kb-rating-label{font-weight:400;color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;padding-right:.75rem}.kb-rating-icon{margin-top:.125rem}.kb-comment{color:RGB(var(--now-color--neutral-18,22,27,28));margin-top:2rem}.kb-action-highlight{margin-top:4px;margin-left:4px;margin-right:4px}\", \"\"]);\n\n// exports\n","import { createElement } from '@servicenow/ui-renderer-snabbdom';\nimport '../kbAttachment';\nimport { get } from 'lodash';\nimport ArticleHeader from \"./templates/articleHeader\";\nimport ArticleFooter from \"./templates/articleFooter\";\nimport ArticleFeedback from \"./templates/articleFeedback\";\nimport ArticleTemplate from \"./templates/articleTemplate\";\nimport ArticleComments from \"./templates/articleComments\";\nimport _timeToRead from \"./utils/timeToReadUtil\";\nimport './components/kbContent';\n\nconst ArticleContent = ({ table, content, contentHTML, parentSysId, parentNumber, workflowState, knowledgeBase, userId, userName,\n\t\t\t\t\t\t\tblocksSelected, blocksImpersonated }) => {\n\treturn (\n\t\t<div className=\"sn-card-body kb-content\">\n\t\t\t<sn-kb-content\n\t\t\t\ttable={table}\n\t\t\t\tcontent={content}\n\t\t\t\tarticleData={contentHTML}\n\t\t\t\tparentSysId={parentSysId}\n\t\t\t\tparentNumber={parentNumber}\n\t\t\t\tworkflowState={workflowState}\n\t\t\t\tknowledgeBase={knowledgeBase}\n\t\t\t\tuserId={userId} userName={userName}\n\t\t\t\tblocksSelected={blocksSelected}\n\t\t\t\tblocksImpersonated={blocksImpersonated}\n\t\t\t/>\n\t\t</div>\n\t)\n};\n\nconst ArticleAttachment = ({ displayAttachment, articleResult, docviewerEnabled }) => {\n\tif (displayAttachment)\n\t\treturn (\n\t\t\t<div className=\"sn-card-row\">\n\t\t\t\t<sn-knowledge-kb-attachment className=\"context-card\" table='kb_knowledge' sys-id={articleResult.sysId} docviewer-enabled={docviewerEnabled}/>\n\t\t\t</div>\n\t\t);\n\treturn \"\";\n};\n\nexport const view = (state, { dispatch }) => {\n\tlet articleResult = null;\n\tlet article_html = null;\n\tconst userDetail = {};\n\tif (!state.kbArticle) return null;\n\tif (!state.kbArticle.AppKnowledge_Query.getArticleDetails.articleSysId) return null;\n\tconst article_attributes = state.kbArticle.AppKnowledge_Query.getArticleDetails;\n\tarticle_attributes.blocksSelected = state.blocksSelected;\n\tarticle_attributes.mode = state.properties.mode;\n\tarticle_attributes.hasViewAccess = state.hasViewAccess;\n\tarticle_attributes.selectedSysId = state.selectedSysId;\n\n\tif (!article_attributes) return null;\n\tarticleResult = state.kbArticle.AppKnowledge_Query.getArticleDetails.articleInfo;\n\tarticle_html = article_attributes.articleHTML;\n\n\tif (!articleResult)\n\t\treturn null;\n\n\telse if (articleResult) {\n\t\tconst displayAttachment = articleResult.displayAttachments;\n\t\tconst fullView = !(state.properties.frameless === 'true' || state.properties.frameless === true);\n\n\t\tif (fullView && state.kbArticle.GlideDomain_Query) {\n\t\t\tuserDetail.userID = state.kbArticle.GlideDomain_Query.user.sys_id;\n\t\t\tuserDetail.userLanguage = state.kbArticle.GlideDomain_Query.user.language;\n\t\t\tuserDetail.avatar = state.kbArticle.GlideDomain_Query.user.avatar;\n\t\t\tuserDetail.fullName = state.kbArticle.GlideDomain_Query.user.fullName;\n\t\t}\n\n\t\tlet contentHTML = article_html || \"\";\n\n\t\tconst articleContentHTML = (\n\t\t\tarticle_attributes.templateFieldData.length ? article_attributes.templateFieldData.map(field => {\n\t\t\t\tcontentHTML += field.content;\n\t\t\t\treturn <ArticleTemplate\n\t\t\t\t\tlabel={field.label}\n\t\t\t\t\tcontent={field.content}\n\t\t\t\t\tcolumn={field.column}\n\t\t\t\t\ttype={field.type}\n\t\t\t\t\tcollapsible={field.collapsible}\n\t\t\t\t\tcollapsed={field.collapsed}\n\t\t\t\t\theadingStyle={field.headingStyle}\n\t\t\t\t\tfieldStyle={field.fieldStyle}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t/>\n\t\t\t})\n\t\t\t\t: createElement('div', { props: { innerHTML: article_html } })\n\t\t);\n\n\t\tconst detailBody = (\n\t\t\tfullView ?\n\t\t\t\t<div className=\"kb-article-body\">\n\t\t\t\t\t<div className=\"sn-card -bottom-border kb-view-border no-padding-top\">\n\t\t\t\t\t\t<ArticleHeader payload={{ articleResult, article_attributes, userDetail }}\n\t\t\t\t\t\t\t\t\t   fullView={fullView} artileTimeToRead={_timeToRead(contentHTML, \"en\")}\n\t\t\t\t\t\t\t\t\t   openFlagModal={state.openFlagModal} behaviors={state.behaviors}/>\n\t\t\t\t\t\t<ArticleContent table={state.properties.table} content={articleContentHTML} contentHTML={contentHTML}\n\t\t\t\t\t\t\t\t\t\tparentSysId={articleResult.sysId} parentNumber={articleResult.number}\n\t\t\t\t\t\t\t\t\t\tworkflowState={articleResult.workflowState} knowledgeBase={articleResult.kbKnowledgeBase}\n\t\t\t\t\t\t\t\t\t\tuserId={userDetail.userID} userName={userDetail.fullName}\n\t\t\t\t\t\t\t\t\t\tblocksSelected={state.blocksSelected} blocksImpersonated={state.blocksImpersonated}/>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.hasViewAccess ?\n\t\t\t\t\t\t\t\t<ArticleAttachment displayAttachment={displayAttachment} articleResult={articleResult} docviewerEnabled={article_attributes.docviewerEnabled}/> : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.hasViewAccess ?\n\t\t\t\t\t\t\t\t<ArticleFooter payload={{articleResult, article_attributes, userDetail}} /> : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate.hasViewAccess && get(article_attributes, \"showFeedbackOptions\", true) ?\n\t\t\t\t\t\t\t\t<ArticleFeedback state={state} userDetail={userDetail}/> : \"\"\n\t\t\t\t\t\t}\n\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tstate.hasViewAccess && get(article_attributes, \"showFeedbackComments\", true) ?\n\t\t\t\t\t\t\t<ArticleComments payload={{ articleResult, article_attributes, userDetail }} /> : \"\"\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<div className=\"sn-card -no-border\">\n\t\t\t\t\t<ArticleHeader payload={{ articleResult, article_attributes, userDetail }}\n\t\t\t\t\t\t\t\t   fullView={fullView} artileTimeToRead={_timeToRead(contentHTML, \"en\")}\n\t\t\t\t\t\t\t\t   openFlagModal={state.openFlagModal} />\n\t\t\t\t\t<ArticleContent table={state.properties.table} content={articleContentHTML} contentHTML={contentHTML}\n\t\t\t\t\t\t\t\t\tparentSysId={articleResult.sysId} parentNumber={articleResult.number}\n\t\t\t\t\t\t\t\t\tworkflowState={articleResult.workflowState} knowledgeBase={articleResult.kbKnowledgeBase}\n\t\t\t\t\t\t\t\t\tuserId={userDetail.userID} userName={userDetail.fullName}\n\t\t\t\t\t\t\t\t\tblocksSelected={state.blocksSelected} blocksImpersonated={state.blocksImpersonated}/>\n\t\t\t\t\t<ArticleAttachment displayAttachment={displayAttachment} articleResult={articleResult} docviewerEnabled={article_attributes.docviewerEnabled} />\n\t\t\t\t</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className='sn-agent-assist'>\n\t\t\t\t{detailBody}\n\t\t\t</div>\n\t\t);\n\t}\n\treturn null;\n};\n","export {default as kbAttachment} from './kbAttachment';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from './kbAttachment.scss';\nimport {actions, actionHandlers} from './actionHandlers';\nimport {\n\tLOAD_ATTACHMENT,\n\tLOAD_CLASSNAME\n} from './actions';\nimport view from './view';\nimport { timeAgoBehaviors } from \"../../_shared/behaviors\";\n\ncreateCustomElement(\"sn-knowledge-kb-attachment\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\ttable: \"\",\n\t\tsysId: \"\",\n\t\tlocale: \"\",\n\t\tdocviewerEnabled: {default: false}\n\t},\n\tbehaviors: [...timeAgoBehaviors],\n\tactions,\n\tactionHandlers,\n\tonConnect(host, dispatch) {\n\t\tdispatch(LOAD_ATTACHMENT, {\n\t\t\tsysId: host.sysId,\n\t\t\ttable: \"kb_knowledge\"\n\t\t});\n\t\tdispatch(LOAD_CLASSNAME, { sysId: host.sysId });\n\t},\n\tstyles: styles\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./kbAttachment.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-community-blog-detail),:host(sn-community-qa-detail),:host(sn-knowledge-detail),:host(sn-knowledge-socialqa-detail){display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-agent-assist{flex:1 1 auto;height:100%;position:relative}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;padding:0 1.5rem;overflow:auto}.sn-card,.sn-panel{position:relative;width:100%}.sn-card{border:1px solid;border-color:rgb(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem}.sn-card.-no-border{border:none}.sn-card.-no-border .sn-card-row .context-card{width:100%}.sn-card.-response{background:RGB(var(--now-color--neutral-1,246,247,247));border:none;padding:.75rem}.sn-card.-comment{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-nested{border-width:1px 0 0;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));margin-top:.75rem;padding-left:0}.sn-card.-accepted{background-color:RGB(var(--now-color--primary-0,221,237,233),.45);border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-accepted .sn-card-header{border:none}.sn-card.-accepted .sn-card-row{margin-bottom:0}.sn-card.-solved{background:RGBA(var(--now-color--secondary-1,1,119,142),.1)}.sn-card.-solved .sn-card-header{border:none;color:RGB(var(--now-color--primary-0,221,237,233));margin:0}.sn-card.-solved .sn-card-header .sn-card-row{align-items:center;margin:0}.sn-card.-solved .sn-card-header .sn-card-row>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root:not([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root[dir=rtl] .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-left:.25rem}.sn-card-header{border-left-color:RGB(var(--now-color--neutral-7,135,147,148));border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--neutral-7,135,147,148));border-right-color:RGB(var(--now-color--neutral-7,135,147,148));border-top-color:RGB(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.75rem;position:relative}.sn-card-header+.sn-card-body{margin-top:0}.sn-card-row{display:flex;flex:0 0 auto;position:relative;width:100%}.sn-card-header .sn-card-row:last-of-type{margin-bottom:.75rem}.sn-card-row.has-avatar{margin-top:.5rem}.-response .sn-card-row.has-avatar{margin-top:.75rem}.sn-card-row.has-avatar:first-child{margin-top:0}.sn-card-row.-title{color:RGB(var(--now-color--neutral-12,66,80,81));flex:0 0 auto;font-size:1rem;font-weight:600;margin-top:.25rem}.sn-card-row.-body{flex-direction:column}.sn-card-row>.sn-card-body{margin-top:0}.sn-card-row>now-text-link{margin:.25rem 0 .75rem}.sn-card-content{align-items:center;display:flex;flex:1 1 auto;position:relative;overflow:hidden}.sn-card-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card-content>now-avatar,:root:not([dir=rtl]) .sn-card-content>now-avatar{margin-right:.5rem}:host([dir=rtl]) .sn-card-content>now-avatar,:root[dir=rtl] .sn-card-content>now-avatar{margin-left:.5rem}.sn-card-body{color:RGB(var(--now-color--neutral-18,22,27,28));flex:0 0 auto;font-size:1rem;margin-top:.75rem;width:100%}.sn-card-body p,.sn-card-body ul{margin-bottom:.5rem;margin-top:0}.sn-card-body p:last-child,.sn-card-body ul:last-child{margin-bottom:0}.sn-card-body img{height:auto;max-width:100%}.sn-card-footer{flex:0 0 auto;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin:1rem 0}.sn-card-list{flex:1 1 auto;width:100%}.sn-card-list .sn-card{margin-bottom:.75rem}.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-card .sn-card-row .context-card{width:100%}.sn-attachment{border-radius:.125rem;border:1px solid rgb(var(--now-color--neutral-5,172,180,181));cursor:pointer;display:inline-flex;padding:1rem;max-width:100%}.sn-attachment.is-focus,.sn-attachment.is-hover,.sn-attachment:focus,.sn-attachment:hover{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-attachment.is-focus .sn-attachment-content,.sn-attachment.is-focus .sn-attachment-content-title,.sn-attachment:focus .sn-attachment-content,.sn-attachment:focus .sn-attachment-content-title{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-attachment-container{display:flex;max-width:100%}.sn-attachment-content{color:RGB(var(--now-color--neutral-9,99,114,116));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-right:.5rem}.sn-attachment-content:last-of-type{padding-right:0}.sn-attachment-content.-static{flex:0 0 auto;overflow:visible}.sn-attachment-content.-static>now-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachment-content-title,.sn-attachment-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachment-content-title{color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;margin-bottom:.5rem}.sn-attachment-list{flex:1 1 auto;list-style:none;margin:.75rem 0 0;padding:0;width:100%}.sn-attachment-list .sn-attachment{margin-right:.5rem;margin-bottom:.5rem}.sn-meta-list{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));list-style:none;margin:0;padding:0;position:relative;overflow:hidden}.sn-meta-list-item{align-items:center;display:flex;margin-bottom:.125rem;padding:0;position:relative}.sn-meta-list-item:last-of-type{margin-bottom:0}.sn-meta-list-item.-bold{font-weight:600}.sn-meta-list-item>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-meta-list-item>now-icon,:root:not([dir=rtl]) .sn-meta-list-item>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-meta-list-item>now-icon,:root[dir=rtl] .sn-meta-list-item>now-icon{margin-left:.25rem}.sn-meta-list-item>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-show-more-btn{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;display:inline-flex;font-family:inherit;font-size:1rem;justify-content:center;margin:.75rem 0 0;padding:0;vertical-align:middle;white-space:nowrap;width:auto;font-size:.75rem}.sn-show-more-btn:hover{color:RGB(var(--now-color--secondary-2,1,89,107))}.sn-show-more-btn:active{color:RGB(var(--now-color--secondary-3,1,60,71))}:host(:not([dir=rtl])) .sn-show-more-btn now-icon,:root:not([dir=rtl]) .sn-show-more-btn now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-show-more-btn now-icon,:root[dir=rtl] .sn-show-more-btn now-icon{margin-right:.25rem}.sn-comment-header{display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--primary-1,30,133,109));margin-bottom:.75rem}.sn-comment-header now-icon{margin-right:.25rem}.sn-card-body{overflow:auto}.sn-attachment-list{display:flex;flex-direction:row;flex-wrap:wrap}.sn-attachment-list .sn-attachment{margin-right:.75rem;margin-bottom:.75rem;flex-basis:24.75rem;min-width:16.875rem}.sn-attachment-list .sn-attachment-content-title{margin-bottom:.25rem}\", \"\"]);\n\n// exports\n","import {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\nimport {\n\tLOAD_ATTACHMENT_SUCCEEDED,\n\tLOAD_ATTACHMENT_FAILED,\n\tLOAD_CLASSNAME_SUCCEEDED,\n\tLOAD_CLASSNAME_FAILED,\n\tPREVIEW_RECORD} from './actions';\n\nconst AttachmentGraphQLQuery = `\nquery ($table: String!, $sysId: String!) {\n    query: GlideAttachmentQuery_Query {\n        model: attachments(table: $table, sysId: $sysId) {\n            attachments: records{\n                name\n                userId\n                userName\n                date\n                dateLabel\n                type\n                size\n                sysId\n            }\n            types\n            extensions\n        }\n    }\n}\n`;\n\nconst ClassNameQuery = `\nquery ($sysId: String) {\n    GlideRecord_Query {\n        kb_knowledge(sys_id: $sysId) {\n            _results {\n            sys_class_name {\n            value\n            }\n        }\n        }\n    }\n    }\n`;\n\n\n// function keyPressHandler(e, itemId) {\n// \t\tif(e.key == 'Enter') {\n// \t\t\t\tdownloadAttachment(itemId);\n// \t\t}\n// }\n\nconst fetchAttachmentEffect = createGraphQLEffect(AttachmentGraphQLQuery, {\n\tsuccessActionType: LOAD_ATTACHMENT_SUCCEEDED,\n\terrorActionType: LOAD_ATTACHMENT_FAILED, \n\tvariableList: ['sysId', 'table']\n});\n\nconst fetchClassnameEffect = createGraphQLEffect(ClassNameQuery, {\n\tsuccessActionType: LOAD_CLASSNAME_SUCCEEDED,\n\terrorActionType: LOAD_CLASSNAME_FAILED, \n\tvariableList: ['sysId']\n});\n\nexport const actions = {\n\tLOAD_ATTACHMENT: {private: true},\n\tLOAD_CLASSNAME: {private: true}\n};\n\nexport const actionHandlers = {\n\tLOAD_ATTACHMENT: fetchAttachmentEffect,\n\tLOAD_CLASSNAME: fetchClassnameEffect,\n\tLOAD_ATTACHMENT_SUCCEEDED: {\n\t\teffect : ({action, updateState}) => updateState({\n\t\t\tgraphQL: action.payload.data\n\t\t}),\n\t\tstopPropagation: true\n\t}, \n\tLOAD_ATTACHMENT_FAILED: {\n\t\teffect : ({updateState}) => updateState({\n\t\t\t...state\n\t\t}),\n\t\tstopPropagation: true\n\t},\n\tLOAD_CLASSNAME_FAILED: {\n\t\teffect : ({updateState}) => updateState({\n\t\t\t...state\n\t\t}),\n\t\tstopPropagation: true\n\t},\n\tLOAD_CLASSNAME_SUCCEEDED: {\n\t\teffect : ({updateState,action}) => updateState({\n\t\t\tclassNameGraphQl: action.payload.data\n\t\t}),\n\t\tstopPropagation: true\n\t},\n\tDOWNLOAD_ATTACHMENT: {\n\t\teffect: ({ action, properties, dispatch }) => {\n\t\t\tvar id = action.payload.sysId;\n\t\t\t\tlet location = `/sys_attachment.do?sys_id=${id}`;\n\t\t\t\tif (properties.docviewerEnabled) {\n\t\t\t\t\tdispatch(PREVIEW_RECORD, {\n\t\t\t\t\t\ttable: \"kb_knowledge\",\n\t\t\t\t\t\tsys_id: id,\n\t\t\t\t\t\tparams: { mode: \"docviewer\", title: action.payload.name },\n\t\t\t\t\t});\n\t\t\t\t} else window.location.assign(location);\n\t\t}\n\t}\n};","import '../timeAgo';\nimport '../../_shared/utils';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-icon';\nimport {\n\tLOAD_ATTACHMENT,\n\tPROPERTIES_SET,\n\tDOWNLOAD_ATTACHMENT\n} from './actions';\n\nfunction renderCard(item, behaviors) {\n\treturn ([\n\t\t(<div className=\"sn-attachment-content\" key={item.sysId + '_' + new Date()} >\n\t\t\t<span className=\"sn-attachment-content-title\" title={item.name}>{item.name}</span>\n\t\t\t<span>{item.userName}</span>\n\t\t\t<span>{t(\"Attached\")+\" \"}<sn-timeago time-stamp={item.date} behaviors={behaviors} system-time={true}/></span>\n\t\t</div>)\n\t]);\n}\n\nconst view = (state, dispatch) => {\n\tif (!state.graphQL || !state.classNameGraphQl) {\n\t\treturn null;\n\t}\n\tconst class_name = state.classNameGraphQl.GlideRecord_Query.kb_knowledge._results[0].sys_class_name.value;\n\tconst table = state.properties.table;\n\n\tif (class_name !== table) {\n\t\tdispatch(PROPERTIES_SET, { table: class_name });\n\t\tdispatch(LOAD_ATTACHMENT, {sysId: state.properties.sysId, table: class_name});\n\t}\n\tlet list = state.graphQL.query.model.attachments.map((item) => {\n\t\tlet card = renderCard(item, state.behaviors);\n\t\treturn (\n\t\t\t<div role=\"button\" className=\"sn-attachment\" tabIndex=\"0\" on-click={() => {dispatch(DOWNLOAD_ATTACHMENT, {sysId: item.sysId, name: item.name});}} aria-label={t('Attachment:') + t(item.name)} key={item.sysId + '_' + new Date()}>\n\t\t\t\t<div className=\"sn-attachment-container\">\n\t\t\t\t\t<div className=\"sn-attachment-content -static\">\n\t\t\t\t\t\t<now-icon icon=\"document-fill\" size=\"xl\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{card}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t});\n\tif(!list || list.length == 0) return null;\n\treturn (\n\t\t<div className=\"sn-attachment-list\">\n\t\t\t{list}\n\t\t</div>\n\t);\n};\n\nexport default view;\n","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport { SnTimeAgo } from \"sn-component-timeago\";\nimport { view } from \"./view.js\";\n\ncreateCustomElement(\"sn-timeago\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview,\n\t\ttransformState(state) {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttime: state.properties.lastUpdated.getTickTime().time\n\t\t\t};\n\t\t}\n\t},\n\tproperties: {\n\t\ttimeStamp: { default: \"\" },\n\t\tsystemTime: { default: \"\" },\n\t\tbehaviors: { default: \"\" },\n\t\tlastUpdated: {\n\t\t\tcomputed(state) {\n\t\t\t\tconst {\n\t\t\t\t\ttimeStamp,\n\t\t\t\t\tlastUpdated,\n\t\t\t\t\tsystemTime\n\t\t\t\t\t// behaviors\n\t\t\t\t} = state.properties;\n\t\t\t\tif (lastUpdated) {\n\t\t\t\t\tlastUpdated.remove();\n\t\t\t\t}\n\n\t\t\t\tconst options = {\n\t\t\t\t\ttimeAgo: true,\n\t\t\t\t\tdateBoth: false,\n\t\t\t\t\tsystemTime: systemTime,\n\t\t\t\t\tdateOnly: false\n\t\t\t\t};\n\t\t\t\treturn new SnTimeAgo(state.properties, timeStamp, options);\n\t\t\t}\n\t\t}\n\t}\n});\n","import { SnTimeAgo } from \"sn-component-timeago\";\n\nconst update = lastUpdated => {\n\treturn () => {\n\t\tlastUpdated.remove();\n\t};\n};\n\nexport const view = state => {\n\tconst {\n\t\tproperties: { lastUpdated },\n\t\ttime\n\t} = state;\n\tlastUpdated.setUpdateFn(update(lastUpdated));\n\treturn <time>{time}</time>;\n};\n","import { t } from 'sn-translate';\nimport { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport '@servicenow/now-icon';\nimport '@servicenow/now-legacy-icon';\nimport '@servicenow/now-text-link';\nimport '../components/kbFlagModal';\nimport ArticleActions from \"./articleActions\"\n\nexport default ({ payload, fullView, artileTimeToRead, openFlagModal, behaviors }) => {\n  const linkPayload = !fullView ? { table: 'kb_knowledge', sys_id: payload.articleResult.sysId, number: payload.articleResult.number } : \"\";\n  return (\n    <Fragment>\n      <header className=\"sn-card-header kb-header\">\n        <div className=\"kb-header-top\">\n          <div className=\"kb-top-left\">\n            <div className=\"sn-card-row kb-breadcrumb\">\n              <span>{payload.articleResult.kbKnowledgeBase} {(payload.articleResult.kbCategory && payload.articleResult.kbCategory.length > 0) ? ' | ' + payload.articleResult.kbCategory : ''}</span>\n            </div>\n            <div className=\"sn-card-row kb-title -title\" role=\"heading\" aria-level=\"2\">\n              {/* <now-heading has-no-margin label={articleResult.short_description.displayValue} level=\"1\" variant=\"heading-secondary\"></now-heading> */}\n              <span>{payload.articleResult.shortDescription}</span>\n            </div>\n          </div>\n          {fullView ?\n            <div className=\"kb-top-right\">\n              <div className=\"kb-action\">\n                <ArticleActions payload={payload} />\n              </div>\n            </div> : \"\"}\n        </div>\n        <div className=\"sn-card-row kb-header-bottom\">\n          <div className=\"sn-card-content kb-meta\">\n            {fullView ? \"\" : <div className=\"sn-card-row\">\n              <now-text-link label={payload.articleResult.number} href=\"javascript:void(0)\" append-to-payload={linkPayload}></now-text-link>\n            </div>}\n            <div className=\"sn-card-row\">\n              <div className=\"sn-card-content\">\n                <ul className=\"sn-meta-list\">\n                  <li className=\"sn-meta-list-item\">\n                    <now-icon icon=\"clock-outline\" size=\"sm\"></now-icon>\n                    <span>{t('{0} min read', artileTimeToRead)}</span>\n                  </li>\n                  <li className=\"sn-meta-list-item\">\n                    <now-icon icon=\"calendar-outline\" size=\"sm\"></now-icon>\n                    <span>{t('Updated') + ' '} <sn-timeago time-stamp={payload.articleResult.sysUpdatedOn} behaviors={behaviors} system-time={true}/></span>\n                  </li>\n                  {(payload.articleResult.sysViewCount != '-1' ? \n                  <li className=\"sn-meta-list-item\">\n                    <now-icon icon=\"eye-outline\" size=\"sm\"></now-icon>\n                    <span>{(payload.articleResult.sysViewCount == 1 ? t('{0} view', payload.articleResult.sysViewCount) : t('{0} views', payload.articleResult.sysViewCount))}</span>\n                  </li> : '')}\n                  {(payload.article_attributes.showStarRating && payload.articleResult.rating != '-1' ? \n                  <li className=\"sn-meta-list-item\">\n                    <now-icon icon=\"star-outline\" className=\"full-star default-star\"  size=\"sm\"></now-icon>\n                    <span>{t('Average rating {0}/5', payload.articleResult.rating ? payload.articleResult.rating.toFixed(1).replace(/\\.0+$/,'') : \"0\")}</span>\n                  </li> : '')}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n      {payload.article_attributes.showFlag ?\n        <sn-kb-flag-modal openModal={openFlagModal} articleId={payload.articleResult.sysId} enableActionableFeedback={payload.article_attributes.enableActionableFeedbackForFlag}/> : \"\"}\n    </Fragment>\n  )\n}","module.exports = __TECTONIC__$servicenow_now_text_link;","export { default } from './kbFlagModal';","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport {actionHandlers } from './actions';\nimport style from './kbFlagModal.scss';\n\nexport const snKbFlagModal = 'sn-kb-flag-modal';\n\ncreateCustomElement(snKbFlagModal, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\n\tinitialState: {\n\t\tflaggedResponse: null,\n\t\tflagInput: \"\"\n\t},\n\n\tproperties: {\n\t\topenModal: {\n\t\t\tdefault:false\n\t\t},\n\t\tarticleId:{\n\t\t\tdefault:\"\"\n\t\t},\n\t\tenableActionableFeedback:{\n\t\t\tdefault:true\n\t\t}\n\t},\n\tstyles: style,\n\tactionHandlers: actionHandlers\n});","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-modal';\nimport { t } from 'sn-translate';\nimport { isEmpty } from 'lodash';\n\nconst getFooterActions = (flagInput) => {\n\tif (!isEmpty(extractContent(flagInput))) {\n\t\treturn [{ id: \"submit\", label: t(\"Flag Article\"), variant: \"primary\"}];\n\t} else {\n\t\treturn [{ id: \"submit\", label: t(\"Flag Article\"), variant: \"primary\", disabled: \"true\" }];\n\t}\n}\n\nconst extractContent = (str) => {\n\treturn (new DOMParser).parseFromString(str, \"text/html\").documentElement.textContent.toString().trim();\n}\n\nconst snFlagModal = (state, { dispatch, updateState }) => {\n\tconst content = (\n\t\t<div className=\"content\">\n\t\t\t<div className=\"content-label\">{t('Add a comment')}</div>\n\t\t\t<div className=\"content-input\">\n\t\t\t\t<textarea id=\"flagCommentText\" rows=\"10\" value={state.flagInput} className=\"text-input\" name=\"comment\" on-input={e => {e.stopPropagation(); updateState({ flagInput: e.target.value }) }}></textarea>\n\t\t\t</div>\n\t\t</div>\n\t);\n\treturn (\n\t\t<div className=\"kb-flag-modal\">\n\t\t\t<now-modal\n\t\t\t\tmanage-opened\n\t\t\t\topened={state.properties.openModal}\n\t\t\t\theader-label={t(\"Flag this article\")}\n\t\t\t\tfooter-actions={getFooterActions(state.flagInput)}\n\t\t\t\tsize=\"md\">\n\t\t\t\t{content}\n\t\t\t</now-modal>\n\t\t</div>\n\t);\n};\n\nexport default snFlagModal;","import { get } from 'lodash';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { default as flag_article } from './query'\nimport { t } from 'sn-translate';\nimport { SUBMIT_FLAG_COMMENT, UPDATE_FLAG_COMMENT, UPDATE_FLAG_COMMENT_SUCCEEDED, UPDATE_FLAG_COMMENT_FAILED, FLAG_MODAL_RESET, BUTTON_CLICKED, DROPDOWN_CLICKED, MODAL_BUTTON_ESC, SHOW_MESSAGE, FOOTER_ACTION_CLICKED, MESSAGES } from './constants';\n\nconst updateKnowledgeFlag = createGraphQLEffect(flag_article, {\n    successActionType: UPDATE_FLAG_COMMENT_SUCCEEDED,\n    errorActionType: UPDATE_FLAG_COMMENT_FAILED,\n    variableList: ['articleId', 'flagComment', 'reason']\n});\n\nexport const actionHandlers = {\n    [SUBMIT_FLAG_COMMENT]: {\n        effect: ({ state, dispatch, action, updateState }) => {\n            dispatch(UPDATE_FLAG_COMMENT, { 'articleId': state.properties.articleId, 'flagComment': state.flagInput, 'reason': (state.properties.enableActionableFeedback ? \"Flagged\" : \"\") });\n            dispatch(FLAG_MODAL_RESET, action);\n            updateState({ flagInput: \"\" });\n        },\n        stopPropagation: true\n    },\n    [UPDATE_FLAG_COMMENT]: updateKnowledgeFlag,\n    [UPDATE_FLAG_COMMENT_SUCCEEDED]: {\n        effect: ({ dispatch, action}) => {\n            if(action.payload.data.GlideRecord_Mutation.insert_kb_feedback)\n                dispatch(SHOW_MESSAGE, {\n                    status: \"info\",\n                    iconName: \"circle-info-outline\",\n                    content: MESSAGES.ARTICLE_FLAGGED,\n                    action: { type: \"dismiss\" }\n                });\n            else\n                dispatch(SHOW_MESSAGE, {\n                    status: \"critical\",\n                    iconName: \"circle-info-outline\",\n                    content: MESSAGES.LIMIT_REACHED_MESSAGE,\n                    action: { type: \"dismiss\" }\n                });\n        },\n        stopPropagation: true\n    },\n    [UPDATE_FLAG_COMMENT_FAILED]: {\n        effect:({ dispatch}) =>{\n            dispatch(SHOW_MESSAGE, {\n                status: \"critical\",\n                iconName: \"circle-info-outline\",\n                content: MESSAGES.LIMIT_REACHED_MESSAGE,\n                action: { type: \"dismiss\" }\n            });\n        },\n        stopPropagation: true\n    },\n    [FOOTER_ACTION_CLICKED]: {\n        effect : (props) => {\n            if (props.action.payload.footerAction.id == \"submit\")\n                props.dispatch(SUBMIT_FLAG_COMMENT, {});\n        },\n        stopPropagation: true\n    },\n    [MODAL_BUTTON_ESC]: {\n        effect: ({ action, dispatch, updateState }) => {\n            dispatch(FLAG_MODAL_RESET, action);\n            updateState({ flagInput: \"\" });\n        },\n        stopPropagation: true\n    }\n};","const flag_update = `mutation ($flagComment: String, $articleId: String, $reason: String) {\n    GlideRecord_Mutation {\n      insert_kb_feedback(comments: $flagComment, article: $articleId, flagged: \"true\", reason: $reason) {\n        sys_id {\n          value\n        }\n      }\n    }\n  }`;\n    \nexport default flag_update;\n  \n    ","export const SUBMIT_FLAG_COMMENT = 'SN_KB#SUBMIT_FLAG_COMMENT';\nexport const UPDATE_FLAG_COMMENT_SUCCEEDED = 'SN_KB#UPDATE_FLAG_COMMENT_SUCCEEDED';\nexport const UPDATE_FLAG_COMMENT_FAILED = 'SN_KB#UPDATE_FLAG_COMMENT_FAILED';\nexport const UPDATE_FLAG_COMMENT = 'SN_KB#UPDATE_FLAG_COMMENT';\nexport const FLAG_MODAL_RESET = 'SN_KB#FLAG_MODAL_RESET';\nexport const MODAL_BUTTON_ESC = 'NOW_MODAL#OPENED_SET';\nexport const BUTTON_CLICKED = 'NOW_BUTTON#CLICKED';\nexport const DROPDOWN_CLICKED = 'NOW_DROPDOWN#ITEM_CLICKED';\nexport const SHOW_MESSAGE = 'SN_KB#SHOW_ALERT_MESSAGE';\nexport const FOOTER_ACTION_CLICKED = 'NOW_MODAL#FOOTER_ACTION_CLICKED';\n\nimport { t } from \"sn-translate\";\nexport const MESSAGES = {\n\tLIMIT_REACHED_MESSAGE: t(\"You have reached the daily limit for feedback posted by a user.\"),\n    ARTICLE_FLAGGED: t(\"Article has been flagged\")\n};","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./kbFlagModal.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".content{width:100%}.content-label{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.25rem}.content-input{width:100%}.content-input textarea{color:RGB(var(--now-color--neutral-18,22,27,28));width:100%;height:9.375rem;padding:.75rem 1rem;box-sizing:border-box;font-size:1rem;resize:none;border:1px solid;border-color:rgb(var(--now-color--neutral-5,172,180,181))}.content-input textarea:hover{background-color:RGB(var(--now-color--neutral-2,228,230,231));box-shadow:0 1px 0 RGB(var(--now-color--neutral-5,172,180,181))}.content-input textarea:focus{outline:none;background-color:RGB(var(--now-color--primary-0,221,237,233));box-shadow:0 1px 0 RGB(var(--now-color--primary-1,30,133,109))}\", \"\"]);\n\n// exports\n","import { t } from 'sn-translate';\nimport '@servicenow/now-button';\nimport '@servicenow/now-dropdown';\nimport { primaryButtons, secondaryButtons, actionButtons } from '../utils/actionUtil';\n\nexport default (props) => {\n    const evaluateActionCondition = (btn) => {\n    \treturn btn.condition && !btn.condition(props) ? false : true\n    };\n\tconst getButtonLabel = (btn) => {\n\t\tif (btn.id === 'selectBlocks')\n\t\t\treturn props.payload.article_attributes.blocksSelected ? t('Hide Blocks') : t('Show Blocks');\n\t\telse\n\t\t\treturn btn.label;\n\t};\n\n    return (\n        <div className=\"kb-action-group\">\n\t\t\t{actionButtons.map(btn => (\n\t\t\t\tevaluateActionCondition(btn) ?\n\t\t\t\t\t<div className=\"kb-action-highlight\">\n\t\t\t\t\t\t<now-button className=\"kb-action-highlight-icon\" size=\"md\" variant={btn.variant}\n\t\t\t\t\t\t\tlabel={getButtonLabel(btn)} append-to-payload={{ \"item\": btn}}/>\n\t\t\t\t\t</div> : \"\"\n\t\t\t))}\n            {primaryButtons.map(btn => (\n                evaluateActionCondition(btn) ?\n                <div className=\"kb-action-primary\">\n                    <now-button label={btn.label} size=\"md\" variant={btn.variant} append-to-payload={{ \"item\": btn}}/>\n                </div> : \"\"\n            ))}\n            <div className=\"kb-action-secondary\">\n                <now-dropdown hide-caret hide-label icon=\"ellipsis-h-fill\" items={secondaryButtons.filter(evaluateActionCondition)} panel-fit-props='{}' select=\"none\" size=\"md\" variant=\"secondary\" config-aria={{'aria-label': t('Action Menu. Please click for available actions on the article')}}/>\n            </div>\n        </div>\n    )\n}\n","import { t } from 'sn-translate';\nimport '@servicenow/now-dropdown';\nimport {_aricleVersionChanged, _aricleLanguageChanged} from '../utils/actionUtil';\n\nconst getRevisionString = (articleResult, versioningInstalled) => {\n    if(versioningInstalled && (articleResult.revisedBy || articleResult.baseVersion)){\n        return t('Revised by {0}',articleResult.revisedBy);\n    } else {\n        return t('Authored by {0}', articleResult.author);\n    }\n};\n\nexport default (props) => {\n    const { articleResult, article_attributes } = props.payload;\n    let versionList = [];\n    let currentVersion = [];\n    if (article_attributes.versionDetails && article_attributes.versionDetails.showHistory && article_attributes.versionDetails.history.length)\n        versionList = article_attributes.versionDetails.history.map(ver => {\n\t\t\tif (article_attributes.selectedSysId) {\n\t\t\t\tif (ver.sysId === article_attributes.selectedSysId)\n\t\t\t\t\tcurrentVersion.push(ver.sysId);\n\t\t\t} else {\n\t\t\t\tif (ver.sysId === articleResult.sysId)\n\t\t\t\t\tcurrentVersion.push(ver.sysId);\n\t\t\t}\n            return { \"id\": ver.sysId, \"label\": ver.versionNumber, \"action\": _aricleVersionChanged};\n        });\n\n    let languageList = [];\n    let currentLang = [];\n    if (article_attributes.languageDetails && article_attributes.languageDetails.length > 1)\n        languageList = article_attributes.languageDetails.map(lang => {\n            if (lang.selected) currentLang.push(lang.sysId);\n            return { \"id\": lang.sysId, \"label\": lang.label, \"action\": _aricleLanguageChanged};\n        });\n\n    return (\n        <div className=\"sn-card-footer kb-footer\">\n            <div className=\"kb-footer-left\">\n                <div className=\"sn-card-content kb-meta\">\n                    <div className=\"sn-meta-list-item\">\n                        <span>{getRevisionString(articleResult, article_attributes.versionDetails.isInstalled)}</span>\n                    </div>\n                    <span className=\"kb-meta-pipe\">|</span>\n                    <div className=\"sn-meta-list-item\">\n                        <span>{articleResult.number}</span>\n                    </div>\n                </div>\n            </div>\n            <div className=\"kb-footer-right\">\n                <div className=\"sn-card-content kb-meta\">\n                    {versionList.length ?\n                        <div className=\"sn-meta-list-item\">\n                            <div className=\"kb-meta-label\">{t('Version')} </div>\n                            <now-dropdown bare items={versionList} select=\"none\" selected-items={currentVersion} size=\"md\" variant=\"secondary-selected\"/>\n                        </div> : \"\"\n                    }\n                    {(languageList.length && versionList.length) ?\n                        <span className=\"kb-meta-pad\"></span> : \"\"\n                    }\n                    {languageList.length ?\n                        <div className=\"sn-meta-list-item\">\n                            <div className=\"kb-meta-label\">{t('Language')}</div>\n                            <now-dropdown bare items={languageList} select=\"none\" selected-items={currentLang} size=\"md\" variant=\"secondary-selected\"/>\n                        </div> : \"\"\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n","import { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport { get } from 'lodash';\nimport HelpfulFeedback from \"./helpfulFeedback\";\nimport RatingFeedback from \"./ratingFeedback\";\nimport \"../components/kbFeedbackModal\";\n\nexport default ({state, userDetail}) => {\n    return (\n        <Fragment>\n            <div className=\"kb-feedback\">\n                <div className=\"kb-feedback-left\">\n                    {\n                        get(state.kbArticle.AppKnowledge_Query.getArticleDetails, \"showYNRating\", true) ?\n                            <HelpfulFeedback props={{ kbArticle: state.kbArticle, helpfulData: state.helpfulData}} /> : \"\"\n                    }\n                    \n                </div>\n                <div className=\"kb-feedback-right\">\n                    {\n                        get(state.kbArticle.AppKnowledge_Query.getArticleDetails, \"showStarRating\", true) ?\n                            <RatingFeedback props={state.kbArticle} rating={state.rating}/> : \"\"\n                    }\n                    \n                </div>\n            </div>\n            <sn-kb-feedback-modal userDetail={userDetail} openModal={state.openFeedbackModal} rating={state.rating} helpful={state.helpful} articleId={state.properties.sysId}/>\n        </Fragment>\n    )\n}","import { t } from 'sn-translate';\nimport '@servicenow/now-button';\nimport { helpfulYesButton,  helpfulNoButton} from '../utils/actionUtil';\nimport {get} from 'lodash'\nexport default ({ props }) => {\n    const showYNRating = get(props, \"kbArticle.AppKnowledge_Query.getArticleDetails.showYNRating\",false);\n    const usefulYesCount = get(props, \"helpfulData.usefulYesCount\",0);\n    const totalUsefulCount = get(props, \"helpfulData.totalUsefulCount\",0);\n    const helpPercent = (showYNRating && usefulYesCount && totalUsefulCount) ? \n        Math.round(usefulYesCount / totalUsefulCount *100) : 0;\n    return (\n        <div className=\"kb-helpful\">\n            <span className=\"kb-helpful-label\">{t('Helpful?')}</span>\n            <span className=\"kb-helpful-yes\"><now-button label={helpfulYesButton.label} size=\"md\" variant={helpfulYesButton.variant} append-to-payload={{ \"item\": helpfulYesButton }}></now-button></span>\n            <span className=\"kb-helpful-no\"><now-button label={helpfulNoButton.label} size=\"md\" variant={helpfulNoButton.variant} append-to-payload={{ \"item\": helpfulNoButton}}></now-button></span>\n            {(helpPercent > 0 ? <span className=\"kb-helpful-info\">{t('{0}% found this helpful.', helpPercent)}</span> : \"\")}\n        </div>\n    )\n}","import { t } from 'sn-translate';\nimport \"../components/kbStarRating\";\n\nexport default ({props, rating}) => {\n    return (\n        <div className=\"kb-rating\">\n            <span className=\"kb-rating-label\">{t('Rate this article')}</span>\n            <span className=\"kb-rating-icon\"><sn-kb-star-rating size=\"lg\" rating={rating} ariaLabel={t('Rate this article')} articleId={props.AppKnowledge_Query.getArticleDetails.articleInfo.sysId}\n            threshold={props.AppKnowledge_Query.getArticleDetails.enableActionableFeedbackForRating}/></span>\n        </div>\n    )\n}","export { default } from './kbStarRating';","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport { actionHandlers } from './actions';\nimport style from './kbStarRating.scss';\nimport { t } from 'sn-translate';\nexport const snKbStarRating = 'sn-kb-star-rating';\n\ncreateCustomElement(snKbStarRating, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\n\tinitialState: {\n\t\tcurrent: 0,\n\t\tisEditing: false\n\t},\n\n\tproperties: {\n\t\treadOnly: { default: false },\n\t\trating: { default: 0 },\n\t\tstars: { default: 5 },\n\t\tariaLabel: { default: t('Rate')},\n\t\thalfRating: { default: false },\n\t\tsize: {default:\"lg\"},\n\t\tarticleId: {default:\"\"},\n\t\tthreshold: {default:-1}\n\t},\n\tstyles: style,\n\tactionHandlers: actionHandlers\n});","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-legacy-icon';\nimport '@servicenow/now-icon';\nimport { MOUSE_ENTER, MOUSE_LEAVE, MOUSE_CLICK, KEY_DOWN } from './constants';\n\nconst getClasses = (currentClass, isEditing, i, current) => {\n\tif (i > current)\n\t\treturn currentClass + ' default-star';\n\treturn currentClass + ' pressed-star';\n\n\t// return isEditing ? currentClass + ' hover-star' : currentClass + ' pressed-star';\n};\n\nconst getStarIcon = (className, isEditing, loopVar, current, flip, componentId, readOnly, dispatch, size) => {\n\treturn (\n\t\t<now-icon\n\t\t\tclassName={getClasses(className, isEditing, loopVar, current)}\n\t\t\tflip={flip}\n\t\t\tsize={size}\n\t\t\ticon={loopVar <= current ? 'star-fill' : 'star-outline'}\n\t\t\tcomponent-id={componentId + '_' + loopVar}\n\t\t\tkey={loopVar}\n\t\t\taria-checked={loopVar <= current ? 'true' : 'false'}\n\t\t\tvalue={loopVar}\n\t\t\ttitle={loopVar}\n\t\t\ton-mouseenter={() => (readOnly ? '' : dispatch(MOUSE_ENTER, { current: loopVar }))}\n\t\t\ton-click={() => (readOnly ? '' : dispatch(MOUSE_CLICK, { rating: loopVar }))}>\n\t\t</now-icon>\n\t);\n};\n\nconst getElements = (stars, isEditing, current, componentId, readOnly, dispatch, halfRating, size) => {\n\tlet elements = [];\n\tfor (let i = stars; i >= 1; i--) {\n\t\tlet half = i - 0.5;\n\t\telements.push(\n\t\t\t<span>\n\t\t\t\t{\n\t\t\t\t\tgetStarIcon('full-star', isEditing, i, current, 'horizontal', componentId, readOnly, dispatch, size)\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\thalfRating ? getStarIcon('half-star', isEditing, half, current, '', componentId, readOnly, dispatch, size) : ''\n\t\t\t\t}\n\t\t\t</span>\n\t\t);\n\t}\n\treturn elements;\n};\n\n\nconst snRating = (state, dispatch) => {\n\tconst { properties: { readOnly, stars, ariaLabel, halfRating, size }, current, componentId, isEditing } = state;\n\treturn (\n\t\t<Fragment>\n\t\t\t<div\n\t\t\t\ton-mouseleave={() => (readOnly ? '' : dispatch(MOUSE_LEAVE))}\n\t\t\t\trole=\"slider\"\n\t\t\t\taria-invalid=\"false\"\n\t\t\t\ttab-index={readOnly ? '-1': '0'}\n\t\t\t\taria-valuemin=\"0\"\n\t\t\t\taria-valuemax={stars}\n\t\t\t\taria-valuenow={current}\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t\ton-keydown={readOnly ? '' : (e) => dispatch(KEY_DOWN, { key: e.which })}\n\t\t\t\ton-focusout={() => (readOnly ? '' : dispatch(MOUSE_LEAVE))}\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\tgetElements(stars, isEditing, current, componentId, readOnly, dispatch, halfRating, size)\n\t\t\t\t}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nexport default snRating;","import { get } from 'lodash';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { t } from 'sn-translate';\nimport { MOUSE_ENTER, MOUSE_LEAVE, MOUSE_CLICK, KEY_DOWN, UPDATE_RATING, UPDATE_RATING_SUCCEEDED, UPDATE_RATING_FAILED, SHOW_MESSAGE, SUBMIT_RATING, MESSAGES } from './constants';\nimport { UPDATE_FEEDBACK_RATING } from './constants';\nimport { actionTypes } from '@servicenow/ui-core';\nimport { rating_update } from './query';\nconst { COMPONENT_BOOTSTRAPPED } = actionTypes;\n\nconst updateKnowledgeRating = createGraphQLEffect(rating_update, {\n\tsuccessActionType: UPDATE_RATING_SUCCEEDED,\n\terrorActionType: UPDATE_RATING_FAILED,\n\tvariableList: ['rating', 'articleId']\n});\n\nexport const actionHandlers = {\n\t[MOUSE_ENTER]: {\n\t\teffect({ action, updateState, state }) {\n\t\t\tupdateState({\n\t\t\t\tcurrent: get(action, 'payload.current')\n\t\t\t});\n\t\t\tif (!state.isEditing) {\n\t\t\t\tupdateState({\n\t\t\t\t\tisEditing: true\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[MOUSE_LEAVE]: {\n\t\teffect({ properties, updateState }) {\n\t\t\tupdateState({\n\t\t\t\tcurrent: properties.rating\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tisEditing: false\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[COMPONENT_BOOTSTRAPPED]: {\n\t\teffect({ properties, updateState, updateProperties }) {\n\t\t\tlet rating = properties.halfRating ? Math.round(properties.rating * 2) / 2 : parseInt(properties.rating);\n\t\t\tlet stars = parseInt(properties.stars);\n\t\t\tif (rating > stars) rating = stars;\n\t\t\tupdateProperties({\n\t\t\t\trating: rating\n\t\t\t});\n\t\t\tupdateProperties({\n\t\t\t\tstars: parseInt(properties.stars)\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tcurrent: rating\n\t\t\t});\n\t\t}\n\t},\n\t[KEY_DOWN]: {\n\t\teffect({ action, dispatch, state, updateState, updateProperties, properties }) {\n\t\t\tlet halfRating = get(properties, 'halfRating', false);\n\t\t\tlet current = state.current;\n\t\t\tlet key = get(action, 'payload.key');\n\t\t\tlet stars = properties.stars;\n\t\t\tlet inc = 1;\n\t\t\tif (halfRating)\n\t\t\t\tinc = 0.5;\n\t\t\tif (key == 39 || key == 40) {\n\t\t\t\tif (current + inc <= stars)\n\t\t\t\t\tcurrent += inc;\n\t\t\t}\n\t\t\telse if (key == 37 || key == 38) {\n\t\t\t\tif (current - inc >= 0)\n\t\t\t\t\tcurrent -= inc;\n\t\t\t}\n\t\t\telse if (key == 13 && current >= 0 && current <= stars) {\n\t\t\t\tdispatch(SUBMIT_RATING, { articleId: properties.articleId, rating: current+'' });\n\t\t\t}\n\t\t\tupdateState({\n\t\t\t\tcurrent: current\n\t\t\t});\n\t\t\tif (!state.isEditing) {\n\t\t\t\tupdateState({\n\t\t\t\t\tisEditing: true\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[MOUSE_CLICK]: {\n\t\teffect({action, dispatch, properties, updateProperties}) {\n\t\t\tlet rating = get(action, 'payload.rating');\n\t\t\tdispatch(SUBMIT_RATING, { articleId: properties.articleId, rating: rating+'' });\t\n\t\t}\n\t},\n\t[SUBMIT_RATING]: {\n\t\teffect({action, dispatch, properties, updateProperties}) {\n\t\t\tlet rating = get(action, 'payload.rating');\n\t\t\tlet threshold = properties.threshold;\n\n\t\t\tif(rating != properties.rating) {\n\t\t\t\tif(rating <= threshold) {\n\t\t\t\t\tdispatch(UPDATE_FEEDBACK_RATING, { rating: rating + '' });\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(UPDATE_RATING, { articleId: properties.articleId, rating: rating+'' });\n\t\t\t\t}\n\t\t\t}\n\t\t\tupdateProperties({\n\t\t\t\trating: rating\n\t\t\t});\n\t\t}\n\t},\n\t[UPDATE_RATING]: updateKnowledgeRating,\n\t[UPDATE_RATING_SUCCEEDED]: {\n\t\teffect({dispatch, action}) {\n            if(action.payload.data.GlideRecord_Mutation.insert_kb_feedback)\n\t\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\t\tstatus: \"info\",\n\t\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\t\tcontent: MESSAGES.THANK_YOU,\n\t\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t\t});\n\t\t\telse\n\t\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\t\tstatus: \"critical\",\n\t\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\t\tcontent: MESSAGES.LIMIT_REACHED_MESSAGE,\n\t\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[UPDATE_RATING_FAILED]: {\n\t\teffect({dispatch}) {\n\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\tstatus: \"critical\",\n\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\tcontent: MESSAGES.LIMIT_REACHED_MESSAGE,\n\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t}\n};","export const rating_update = `mutation ($rating: String, $articleId: String) {\n    GlideRecord_Mutation {\n      insert_kb_feedback(rating: $rating, article: $articleId) {\n        sys_id {\n          value\n        }\n      }\n    }\n  }`;","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./kbStarRating.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".half-star{position:absolute;overflow:hidden;width:.9rem}.full-star,.half-star,span{float:right}span{position:relative;padding:0 .125rem}.default-star{color:RGB(var(--now-color--secondary-1,1,119,142))}.hover-star{color:RGB(var(--now-color--primary-2,23,100,82))}.pressed-star{color:RGB(var(--now-color--secondary-1,1,119,142))}\", \"\"]);\n\n// exports\n","export { default } from './kbFeedbackModal';","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport styles from './kbFeedbackModal.scss';\nimport {actionHandlers} from './actions';\nimport { OTHER_REASON } from \"./constants\";\n\ncreateCustomElement('sn-kb-feedback-modal' ,{\n    renderer:{\n        type: snabbdom,\n        view\n    },\n    initialState: {\n        reason: OTHER_REASON,\n        comments: \"\"\n    },\n    actionHandlers,\n    properties: {\n        openModal: {\n            default: false\n        },\n        userDetail: {\n            default: []\n        },\n        choiceList: {\n            default: []\n        },\n        articleId:{\n            default: \"\"\n        },\n        helpful:{\n            default: \"\"\n        },\n        rating:{\n            default: \"\"\n        }\n    },\n    styles: styles\n});","import '@servicenow/now-modal';\nimport { t } from 'sn-translate';\n\nexport const view = (state, {updateState}) => {\n    let choices = state.properties.choiceList.map((obj) => {\n        return {'id':obj.value, 'label':obj.label}\n    });\n\n    const content = (\n        <div className=\"kb-feedback-modal\">\n            <div className=\"kb-feedback-choice\">\n             <div className=\"kb-feedback-label\">{t(\"Select a reason\")}</div>\n                <now-dropdown bare items={choices} panel-fit-props='{}' select=\"single\" selected-items={[state.reason]} size=\"md\" variant=\"secondary\"></now-dropdown>\n            </div>\n            <div className=\"kb-feedback-comment\">\n                <div className=\"kb-feedback-label\">{t(\"Additional details\")}</div>\n                <textarea id=\"detailsComment\" className=\"kb-feedback-comment-text\" rows=\"4\" value={state.comments} on-input={(e) => { e.stopPropagation(); updateState({ comments: e.target.value}) }} />\n            </div>\n        </div>\n    );\n    return (\n        <now-modal\n            size=\"md\"\n            manage-opened\n            opened={state.properties.openModal}\n            header-label={t(\"Help us improve this article\")}\n            footer-actions={[\n                {\n                    variant: \"primary\",\n                    label: t('Submit'),\n                    id: \"submit_ok\"\n                },\n                {\n                    variant: \"secondary\",\n                    label: t(\"No thanks\"),\n                    id: \"submit_cancel\"\n                }\n            ]}>{content}</now-modal>\n    );\n};\nexport default view;","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./kbFeedbackModal.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".kb-feedback-header{margin-bottom:1.5rem}.kb-feedback-header-main,.kb-feedback-header-second{display:flex;justify-content:center;margin-bottom:.5rem}.kb-feedback-title{margin:0;text-align:initial}.kb-feedback-label{color:RGB(var(--now-color--neutral-9,99,114,116));font-size:1rem}.kb-feedback-comment{margin-top:1.5rem}.kb-feedback-comment .kb-feedback-label{margin-bottom:.25rem}.kb-feedback-comment textarea{color:RGB(var(--now-color--neutral-18,22,27,28));width:100%;height:6.25rem;padding:.75rem 1rem;box-sizing:border-box;font-size:1rem;resize:none;border-color:RGB(var(--now-color--neutral-5,172,180,181))}.kb-feedback-comment textarea:hover{background-color:RGB(var(--now-color--neutral-2,228,230,231));box-shadow:0 1px 0 RGB(var(--now-color--neutral-5,172,180,181))}.kb-feedback-comment textarea:focus{outline:none;background-color:RGB(var(--now-color--primary-0,221,237,233));box-shadow:0 1px 0 RGB(var(--now-color--primary-1,30,133,109))}\", \"\"]);\n\n// exports\n","import { get, isEmpty } from \"lodash\";\nimport { actionTypes } from '@servicenow/ui-core';\nconst { COMPONENT_BOOTSTRAPPED } = actionTypes;\nimport { reason_choices, update_feedback } from './query';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport {\n    LOAD_CHOICES,\n    CHOICE_LOADED,\n    CHOICE_LOADING_FAILED,\n    UPDATE_FEEDBACK,\n    UPDATE_FEEDBACK_SUCCEEDED,\n    UPDATE_FEEDBACK_FAILED,\n    FOOTER_ACTION_CLICKED,\n    FEEDBACK_MODAL_SUBMITTED,\n    FEEDBACK_MODAL_CLOSED,\n    BUTTON_CLICKED,\n    DROPDOWN_CLICKED,\n    MODAL_BUTTON_ESC,\n    SHOW_MESSAGE,\n    FEEDBACK_MODAL_RESET,\n    OTHER_REASON,\n    MESSAGES,\n    UPDATE_HELPFUL_COUNT\n} from './constants';\n\nconst getFeedbackChoices = createGraphQLEffect(reason_choices, {\n    successActionType: CHOICE_LOADED,\n    errorActionType: CHOICE_LOADING_FAILED,\n    variableList: ['sys_id']\n});\n\nconst updateFeedbackEffect = createGraphQLEffect(update_feedback, {\n    successActionType: UPDATE_FEEDBACK_SUCCEEDED,\n    errorActionType: UPDATE_FEEDBACK_FAILED,\n    variableList: ['articleId', 'comment', 'reason', 'useful', 'rating']\n});\n\nconst resetModalState = (updateState) => {\n    updateState({\n        comments: \"\",\n        reason: OTHER_REASON\n    });\n}\n\nconst extractContent = (str) => {\t\n    return (new DOMParser).parseFromString(str, \"text/html\").documentElement.textContent.toString().trim();\t\n}\n\nexport const actionHandlers = {\n    [COMPONENT_BOOTSTRAPPED]: {\n        effect: ({ dispatch, state }) => {\n            dispatch(LOAD_CHOICES, {\n                'sys_id': state.properties.articleId\n            });\n        }\n    },\n    [LOAD_CHOICES]: getFeedbackChoices,\n    [CHOICE_LOADED]: {\n        effect: ({ action, updateProperties }) => {\n            updateProperties({\n                choiceList: get(action, \"payload.data.AppKnowledge_Query.getFeedbackChoiceList\")\n            });\n        },\n        stopPropagation: true\n    },\n    [CHOICE_LOADING_FAILED]: (props) => {\n        console.log(props);\n    },\n    [FOOTER_ACTION_CLICKED]: {\n        effect:(props) => {\n            if (props.action.payload.footerAction.id == \"submit_ok\")\n                props.dispatch(FEEDBACK_MODAL_SUBMITTED, {});\n            else if (props.action.payload.footerAction.id == \"submit_cancel\"){\n                resetModalState(props.updateState);\n                props.dispatch(FEEDBACK_MODAL_CLOSED, {});\n            }\n        },\n        stopPropagation: true\n    },\n    [FEEDBACK_MODAL_SUBMITTED]: {\n        effect: ({ properties, state, dispatch }) => {\n            dispatch(UPDATE_FEEDBACK, {\n                'articleId': properties.articleId,\n                'comment': isEmpty(extractContent(state.comments)) ? \"\" : state.comments,\n                'reason': state.reason,\n                'useful': properties.helpful,\n                'rating': properties.rating\n            });\n        }\n    },\n    [FEEDBACK_MODAL_CLOSED]: {\n        effect: ({ updateState, properties, dispatch }) => {\n            dispatch(UPDATE_FEEDBACK, {\n                'articleId': properties.articleId,\n                'useful': properties.helpful,\n                'reason': OTHER_REASON,\n                'rating': properties.rating\n            });\n            resetModalState(updateState);\n        }\n    },\n    [UPDATE_FEEDBACK]: updateFeedbackEffect,\n    [UPDATE_FEEDBACK_SUCCEEDED]: {\n        effect: ({ updateState, action, dispatch }) => {\n            if(!action.payload.data.GlideRecord_Mutation.insert_kb_feedback)\n                dispatch(SHOW_MESSAGE, {\n                    status: \"critical\",\n                    iconName: \"circle-info-outline\",\n                    content: MESSAGES.LIMIT_REACHED_MESSAGE,\n                    action: { type: \"dismiss\" }\n                });\n            else{\n                dispatch(SHOW_MESSAGE, {\n                    status: \"info\",\n                    iconName: \"circle-info-outline\",\n                    content: MESSAGES.THANK_YOU,\n                    action: { type: \"dismiss\" }\n                });\n\t\t\t\tlet isRatingFeedback = get(action, \"meta.options.variables.useful\", \"yes\") == \"\";\n                let isHelpful = get(action, \"meta.options.variables.useful\", \"yes\") == \"yes\"? true : false;\n                if(!isRatingFeedback) dispatch(UPDATE_HELPFUL_COUNT, { isHelpful });\n            }\n\n        resetModalState(updateState);\n        }\n    },\n    [UPDATE_FEEDBACK_FAILED]: {\n        effect: ({ dispatch }) => {\n            dispatch(SHOW_MESSAGE, {\n                status: \"critical\",\n                iconName: \"circle-info-outline\",\n                content: MESSAGES.LIMIT_REACHED_MESSAGE,\n                action: { type: \"dismiss\" }\n            });\n        }\n    },\n    [BUTTON_CLICKED]: {\n        effect: ({ action, dispatch }) => {\n            dispatch(FEEDBACK_MODAL_RESET, action);\n        },\n        stopPropagation: true\n    },\n    [MODAL_BUTTON_ESC]: {\n        effect: ({ action, dispatch, updateState, properties }) => {\n            resetModalState(updateState);\n            dispatch(UPDATE_FEEDBACK, {\n                'articleId': properties.articleId,\n                'useful': properties.helpful,\n                'reason': OTHER_REASON,\n                'rating': properties.rating\n            });\n\n            dispatch(FEEDBACK_MODAL_RESET, action);\n        },\n        stopPropagation: true\n    },\n    [DROPDOWN_CLICKED]: {\n        effect: ({ action, updateState }) => {\n            updateState({\n                reason: action.payload.item.id\n            })\n        }\n    },\n}\n","export const reason_choices = `query {\n    AppKnowledge_Query {\n        getFeedbackChoiceList {\n            label\n            value\n        }\n    }\n  }`;\n\nexport const update_feedback = `mutation ($articleId: String, $comment: String, $reason: String, $useful: String, $rating: String){\n    GlideRecord_Mutation{\n        insert_kb_feedback(article: $articleId, comments: $comment, reason: $reason, useful: $useful, rating: $rating) {\n            sys_id {\n                value\n            }\n        }\n    }\n}`\n\n","import '@servicenow/now-collapse';\nimport '@servicenow/now-icon';\nimport {FIELD_COLLAPSED} from '../constants';\n\nexport default props => {\n    const {\n        label,\n        content,\n        column,\n        type,\n        collapsible,\n        collapsed,\n        headingStyle,\n        fieldStyle,\n        dispatch\n    } = props;\n\n    return (\n        <div>\n            {collapsible?\n                (<div style={{cssText: fieldStyle}}>\n                    <now-collapse-trigger controls=\"templateContent\" on-click={() => dispatch(FIELD_COLLAPSED, {column})}>\n                        <div className=\"collapsible-label-container\">\n                            <h2 className=\"label\" style={{cssText: headingStyle}}>\n                                {label}\n                                <now-icon className={collapsed ? \"label-icon selector rotate down\":\"label-icon selector rotate\"} icon=\"chevron-up-fill\" size=\"md\"></now-icon>\n                            </h2>\n                        </div>\n                    </now-collapse-trigger>\n                    <now-collapse id=\"templateContent\" expanded={!collapsed}>\n                        {type == \"html\" ? <p  className=\"content\" innerHTML={content}/>: <section  className=\"content\" innerHTML={content}/>}\n                    </now-collapse>\n                </div>) :\n                (<div style={{cssText: fieldStyle}}>\n                    <h2 className=\"label\" style={{cssText: headingStyle}}>{label}</h2>\n                    {type == \"html\" ? <p  className=\"content\" innerHTML={content}/>: <section  className=\"content\" innerHTML={content}/>}\n                </div>)\n            }\n        </div>\n    );\n};","module.exports = __TECTONIC__$servicenow_now_collapse;","import \"../components/kbComments\";\nimport { get } from \"lodash\";\n\nexport default prop => {\n    const id = get(prop, \"payload.articleResult.sysId\", \"\");\n    const isAdminorOwner = get(prop, \"payload.article_attributes.isKBAdmin\", false) || get(prop, \"payload.article_attributes.isKBOwner\", false) || false;\n    const commentsThreshold = get(prop, \"payload.article_attributes.commentsThreshold\", 0);\n    const hasComments = get(prop, \"payload.article_attributes.hasComments\", false);\n    const user = get(prop, \"payload.userDetail\", {});\n    return (\n        <div className=\"kb-comment\">\n            <sn-knowledge-comments articleId={id} isAdminorOwner={isAdminorOwner} commentsThreshold={commentsThreshold} hasComments={hasComments} user={user}></sn-knowledge-comments>\n        </div>\n    )\n}","export { default } from './snKnowledgeComments';","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport \"./sn-comments\";\nimport view from \"./view\";\nimport { actions, actionHandlers } from \"./actions\";\nimport style from \"./snKnowledgeComments.scss\";\n\ncreateCustomElement(\"sn-knowledge-comments\", {\n    renderer: {\n        type: snabbdom,\n        view\n    },\n    properties: {\n        articleId: { default: \"\" },\n        isAdminorOwner: { default: false },\n        commentsThreshold: { default: 0 },\n        hasComments: { default: false },\n        user: { default: {}}\n    },\n    initialState: {\n        currentEditorId: \"\",\n        actions: [],\n        items: [],\n        buttons: [],\n        expandedItems: [],\n        isEditing: \"\",\n        bootstrapped: false,\n        deleteModalOpened: false,\n        deleteCommentData: {},\n        metaData: [],\n        expanded: false,\n        hasChildren: false,\n        commentsToDisplay: 0,\n        value:\"\"\n    },\n    styles: style,\n    actions: actions,\n    actionHandlers: actionHandlers\n});","import { createCustomElement } from \"@servicenow/ui-core\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport view from \"./view\";\nimport {actionHandlers} from './actions'\nimport style from \"./snComments.scss\";\nimport { timeAgoBehaviors } from \"../../../../../_shared/behaviors\";\n\n\nexport const snComponentComments = \"sn-comments\";\n\ncreateCustomElement(snComponentComments, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\tvalue: \"\"\n\t},\n\tbehaviors: [...timeAgoBehaviors],\n\tproperties: {\n\t\titems: { default: [] },\n\t\tmetaData: { default: [] },\n\t\tbuttons: { default: [] },\n\t\tactions: { default: [] },\n\t\tisEditing: { default: \"\" },\n\t\tcurrentEditorId: { default: \"\" },\n\t\texpandedItems: { default: [] },\n\t\tmanageExpanded: { default: false },\n\t\tlanguage: { default : \"en\" }\n\t},\n\tactionHandlers,\n\tstyles: style\n});\n\n\n","import { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport { isEmpty, mapKeys, has, get } from \"lodash\";\nimport { HTML_EDITOR_ACTION_PERFORMED_PRIVATE, SHOW_REPLY_BUTTON_CLICKED, HIDE_REPLY_BUTTON_CLICKED } from './constants'\n\nimport \"@servicenow/now-icon\";\nimport \"@servicenow/now-avatar\";\nimport \"@servicenow/now-button\";\nimport \"@servicenow/now-dropdown\";\nimport \"@servicenow/now-record-html-editor\";\nimport \"../../../../timeAgo\";\nimport { t } from 'sn-translate';\n\nconst TextEditor = ({ text=\"\", dispatch, appendToPayload, value, language }) => {\t\n\treturn (\n\t\t<div className=\"html-editor\">\n\t\t\t<now-record-html-editor\n\t\t\t\tplaceholder={t(\"Type your comment here\")}\n\t\t\t\tvalue={text}\n\t\t\t\tlanguage={language}\n\t\t\t/>\n\t\t\t<div className=\"comment-buttons right\">\n\t\t\t\t<now-button\n\t\t\t\t\tlabel={t(\"Cancel\")}\n\t\t\t\t\ttooltip-content={t(\"Cancel\")}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\ton-click={e =>\n\t\t\t\t\t\tdispatch(HTML_EDITOR_ACTION_PERFORMED_PRIVATE, {\n\t\t\t\t\t\t\taction: \"cancel\",\n\t\t\t\t\t\t\t...appendToPayload\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t></now-button>\n\t\t\t\t<now-button\n\t\t\t\t\tlabel={t(\"Submit\")}\n\t\t\t\t\ttooltip-content={t(\"Submit\")}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tdisabled={isEmpty(value) ? true : false}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\ton-click={e =>\n\t\t\t\t\t\tdispatch(HTML_EDITOR_ACTION_PERFORMED_PRIVATE, {\n\t\t\t\t\t\t\taction: \"submit\",\n\t\t\t\t\t\t\ttext: value,\n\t\t\t\t\t\t\t...appendToPayload\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t></now-button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n\nconst getTag = (tag, item, className = \"\", addClasses = false) => {\n\n\tconst derivedAttributes = tag.derivedAttributes;\n\tconst attributes = { ...tag.attributes };\n\tif (typeof tag.visible == \"boolean\") {\n\t\tif (!tag.visible) return;\n\t}\n\n\tif (typeof tag.visible == \"function\")\n\t\tif (!tag.visible(item)) return;\n\n\tmapKeys(derivedAttributes, (value, key) => {\n\t\tif (typeof value == \"string\")\n\t\t\tattributes[key] = get(item, value, \"\");\n\n\t\telse if (typeof value == \"function\")\n\t\t\tattributes[key] = value({ ...item });\n\t})\n\tattributes.appendToPayload = {\n\t\tattributes: { ...attributes },\n\t\titemId: item.id\n\t}\n\tlet classname\n\tif (addClasses)\n\t\tclassname = get(tag, \"hideMargin\", false) == true ? className : (\"feedback-button \" + className);\n\treturn (<span className={classname}><tag.tag {...attributes} /></span>);\n};\n\nconst getDropDownItems = (item, id, actions) => {\n\tconst tempArr = [];\n\n\tif (get(actions, \"useDropdown\", false)) {\n\t\tif (has(actions, \"dropdownItems\")) {\n\t\t\tactions.dropdownItems.map(x => {\n\t\t\t\tif ((typeof x.visible == \"boolean\" && x.visible) || (typeof x.visible == \"function\" && x.visible(item)) || typeof x.visible == \"undefined\") {\n\t\t\t\t\ttempArr.push({ ...x })\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (tempArr.length > 0) return (\n\t\t\t\t<span>\n\t\t\t\t\t<now-dropdown\n\t\t\t\t\t\tbare\n\t\t\t\t\t\thide-caret\n\t\t\t\t\t\ticon=\"ellipsis-v-outline\"\n\t\t\t\t\t\titems={tempArr}\n\t\t\t\t\t\tselect=\"none\"\n\t\t\t\t\t\tselected-items=\"\"\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\ttooltip-content={t(\"More Actions\")}\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tappend-to-payload={{ itemId: item.id }}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t)\n\t\t}\n\t} else if (get(actions, \"component\")) {\n\t\treturn getTag(actions.component, item, false)\n\t}\n\n};\n\nconst populateMetaData = (metaData, item) => {\n\tlet tempArr = [];\n\tmetaData.map(x => {\n\t\tif ((typeof x.visible == \"boolean\" && x.visible) || (typeof x.visible == \"function\" && x.visible(item)) || typeof x.visible == \"undefined\") {\n\t\t\tif (typeof x.value == \"string\") {\n\t\t\t\ttempArr.push(\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<span className=\"pad-sides\">•</span>\n\t\t\t\t\t\t<span data-testid=\"metaData\">{get(item, x.value, x.value)}</span>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (typeof x.value == \"function\") {\n\t\t\t\ttempArr.push(\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<span className=\"pad-sides\">•</span>\n\t\t\t\t\t\t<span data-testid=\"metaData\">{x.value(item)}</span>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t})\n\treturn tempArr;\n}\n\n\nconst getUserDetails = item =>\n\titem.level > 0 ? (\n\t\t<Fragment>\n\t\t\t<span className=\"authorName\"> {item.user.name} </span>\n\t\t\t<now-icon className=\"separator\" icon=\"chevron-right-fill\" size=\"sm\"></now-icon>\n\t\t\t<span className=\"parentAuthorName\"> {item.parent_obj.user.name} </span>\n\t\t</Fragment>\n\t) : (\n\t\t\t<Fragment>\n\t\t\t\t<span className=\"authorName\"> {item.user.name} </span>\n\t\t\t</Fragment>\n\t\t);\n\nconst getClass = (item, index, last, expandedItems) => {\n\tvar classes;\n\tvar level = item.level;\n\tclasses = level >= 3 ? \"maxChild\" : level == 2 ? \"lv2-child\" : level == 1 ? \"lv1-child\" : \"\"\n\tif (item.level >= 1 && !expandedItems.includes(item.root.id))\n\t\tclasses += \" hide\"\n\n\treturn classes;\n};\n\nconst getRepliesButton = (item, expandedItems, dispatch, updateProperties, manageExpanded) => {\n\tif (get(item, \"level\", \"\") == 0 && get(item, \"children.length\", 0) > 0) {\n\t\tlet showReplies = expandedItems.includes(item.id);\n\t\treturn (\n\t\t\t<span className=\"right \">\n\t\t\t\t<now-button-bare\n\t\t\t\t\tdata-testid=\"collapse\"\n\t\t\t\t\ticon-name-start={\n\t\t\t\t\t\tshowReplies\n\t\t\t\t\t\t\t? \"chevron-up-fill\"\n\t\t\t\t\t\t\t: \"chevron-down-fill\"\n\t\t\t\t\t}\n\t\t\t\t\texpanded={\n\t\t\t\t\t\tshowReplies ? true : false\n\t\t\t\t\t}\n\t\t\t\t\tlabel={\n\t\t\t\t\t\tshowReplies ? t(\"Hide replies\") : t(\"Show replies\")\n\t\t\t\t\t}\n\t\t\t\t\ttooltip-content={\n\t\t\t\t\t\tshowReplies ? t(\"Hide replies\") : t(\"Show replies\")\n\t\t\t\t\t}\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\thide-padding\n\t\t\t\t\ton-click={() => {\n\t\t\t\t\t\tdispatch(showReplies ? HIDE_REPLY_BUTTON_CLICKED : SHOW_REPLY_BUTTON_CLICKED, {\n\t\t\t\t\t\t\titemId: item.id\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (!manageExpanded) {\n\t\t\t\t\t\t\tif (showReplies)\n\t\t\t\t\t\t\t\texpandedItems.splice(expandedItems.indexOf(item.id), 1);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\texpandedItems.push(item.id);\n\t\t\t\t\t\t\tupdateProperties({\n\t\t\t\t\t\t\t\t\"expandedItems\": expandedItems\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</span>\n\t\t)\n\t}\n\treturn \"\";\n\n}\n\nconst Comment = ({ item, className = \"\", buttons = [], actions = [], isEditing = false, currentEditorId = \"\", expandedItems = [], level = \"\", dispatch, updateProperties, metaData = [], manageExpanded = false, value=\"\", behaviors, language }) => {\n\tif (!has(item, \"children\"))\n\t\titem.children = [];\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className={className} data-testid={item.id}>\n\t\t\t\t<div className=\"avatar\">\n\t\t\t\t\t<now-avatar\n\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\timage-src={item.user.avatar}\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tuser-name={item.user.name}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"comment-container\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div style={{ display: \"inline-block\" }}>\n\t\t\t\t\t\t\t<span className=\"author\">{getUserDetails(item)}</span>\n\t\t\t\t\t\t\t<div className=\"meta-data\">\n\t\t\t\t\t\t\t\t<sn-timeago\n\t\t\t\t\t\t\t\t\ttime-stamp={item.createdOn}\n\t\t\t\t\t\t\t\t\tsystem-time={true}\n\t\t\t\t\t\t\t\t\tbehaviors={behaviors}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{populateMetaData(metaData, item)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span className=\"right actions\">\n\t\t\t\t\t\t\t{getDropDownItems(item, item.id, actions)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"text-display\">\n\t\t\t\t\t\t{isEditing && currentEditorId == item.id ? (\n\t\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t\ttext={item.text}\n\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\tappendToPayload={{ type: \"edit_comment\", itemId: item.id }}\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tlanguage = {language}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p innerHTML={item.text}></p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"feedback-buttons-group clearfix\">\n\t\t\t\t\t\t{buttons.map(x => {\n\t\t\t\t\t\t\tif (get(x, \"position\", \"left\") == \"left\")\n\t\t\t\t\t\t\t\treturn getTag(x, item, \"\", true);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{getRepliesButton(\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t[...expandedItems],\n\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\tupdateProperties,\n\t\t\t\t\t\t\tmanageExpanded\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{buttons.map(x => {\n\t\t\t\t\t\t\tif (get(x, \"position\", \"\") == \"right\")\n\t\t\t\t\t\t\t\treturn getTag(x, item, \"right\", true);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t{!isEditing && currentEditorId == item.id ? (\n\t\t\t\t\t\t<div className=\"create-comment-container\">\n\t\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\tappendToPayload={{ type: \"reply_comment\", itemId: item.id }}\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tlanguage = {language}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{item.children.map((x, index) => {\n\t\t\t\tx.parent_obj = item;\n\t\t\t\tx.root = item.root;\n\t\t\t\tx.level = level + 1;\n\t\t\t\treturn (\n\t\t\t\t\t<Comment\n\t\t\t\t\t\titem={x}\n\t\t\t\t\t\tclassName={getClass(\n\t\t\t\t\t\t\tx,\n\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\titem.children.length - 1 == index,\n\t\t\t\t\t\t\texpandedItems\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tbuttons={buttons}\n\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\tisEditing={isEditing}\n\t\t\t\t\t\tcurrentEditorId={currentEditorId}\n\t\t\t\t\t\texpandedItems={expandedItems}\n\t\t\t\t\t\tlevel={level + 1}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\tupdateProperties={updateProperties}\n\t\t\t\t\t\tmanageExpanded={manageExpanded}\n\t\t\t\t\t\tmetaData={metaData}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tbehaviors={behaviors}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Fragment>\n\t);\n};\n\nconst snCommentsComponent = ({ value, properties: { actions, buttons, items, isEditing, currentEditorId, expandedItems, metaData, manageExpanded, language }, behaviors }, { dispatch, updateProperties }) => {\n\tlet tempItems = JSON.parse(JSON.stringify(items));\t\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"sn-comments\">\n\t\t\t\t{tempItems.map(item => {\n\t\t\t\t\titem.level = 0;\n\t\t\t\t\titem.root = item;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Comment\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tclassName=\"parent\"\n\t\t\t\t\t\t\tbuttons={buttons}\n\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\tisEditing={isEditing}\n\t\t\t\t\t\t\tcurrentEditorId={currentEditorId}\n\t\t\t\t\t\t\texpandedItems={expandedItems}\n\t\t\t\t\t\t\tlevel={0}\n\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\tupdateProperties={updateProperties}\n\t\t\t\t\t\t\tmanageExpanded={manageExpanded}\n\t\t\t\t\t\t\tmetaData={metaData}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tbehaviors={behaviors}\n\t\t\t\t\t\t\tlanguage = {language}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{\n\t\t\t\t\titems.length > 0 ? <div className=\"border-bottom\"></div> : \"\"\n\t\t\t\t}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nexport default snCommentsComponent;\n","import { NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED, HTML_EDITOR_ACTION_PERFORMED, HTML_EDITOR_ACTION_PERFORMED_PRIVATE, NOW_RECORD_HTML_EDITOR_VALUE_CHANGED } from './constants';\nimport {isEmpty} from 'lodash';\n\nconst extractContent = (str) => {\n    return (new DOMParser).parseFromString(str, \"text/html\").documentElement.textContent.toString().trim();\n}\n\nexport const actionHandlers = {\n    [NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED]: {\n\t\teffect({ action, updateState, state }) {\n\t\t\tlet payloadValue = extractContent(action.payload.value);\n\t\t\tif(state.value  != action.payload.value && (isEmpty(state.value) || isEmpty(payloadValue)))\n\t\t\t\tupdateState({\n\t\t\t\t\tvalue: payloadValue\n\t\t\t\t});\n\t\t},\n        stopPropagation: true\n\t},\n    [NOW_RECORD_HTML_EDITOR_VALUE_CHANGED]: {\n        effect({ action, updateState, state }) {\n\t\t\tif(!isEmpty(extractContent(action.payload.value)))\n\t\t\t\tupdateState({\n\t\t\t\t\tvalue: action.payload.value\n\t\t\t\t});\n        },\n        stopPropagation: true\n    },\n    [HTML_EDITOR_ACTION_PERFORMED_PRIVATE]: {\n        effect({ updateState, action, dispatch }) {\n            dispatch(HTML_EDITOR_ACTION_PERFORMED,action.payload)\n            updateState({\n                value: \"\"\n            })\n        },\n        stopPropagation: true\n    }\n}\n","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./snComments.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pad-sides{padding:0 5px}.kb-line-temp{border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));border-style:solid}.feedback-buttons-group{padding-bottom:1rem;padding-top:.75rem}.feedback-button{margin-right:10px}.now-button{color:beige}.no-margin{margin-top:0!important;margin-bottom:0!important}.no-padding{padding:0!important}.right{float:right}.clearfix{overflow:auto}.left{float:left}.text-muted{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.parent{border-top:.125rem solid rgb(var(--now-color--neutral-3,209,214,214));background:RGB(var(--now-color--neutral-0,255,255,255));font-size:1rem;padding-top:1rem;padding-left:.75rem}div .parent:first-child{padding-top:.75rem}.border-bottom{border-bottom:.125rem solid rgb(var(--now-color--neutral-3,209,214,214))}.lv1-child{padding-left:36px;background:RGB(var(--now-color--neutral-1,246,247,247))}.lv1-child,.lv2-child{padding-top:1rem;font-size:1rem;border-top:.125rem solid rgb(var(--now-color--neutral-3,209,214,214))}.lv2-child{padding-left:60px;background:RGBA(var(--now-color--neutral-1,246,247,247),.35)}p{margin:0}.maxChild{border-top:.125rem solid rgb(var(--now-color--neutral-3,209,214,214));background:RGBA(var(--now-color--neutral-1,246,247,247),.35);padding-left:92px;font-size:1rem;padding-top:1rem}.addBorderBottom{border-bottom:1px solid #ddd!important}.removeBorderTop{border-top:none}.avatar{float:left}.comment-container{width:calc(100% - 60px);display:inline-block;margin-left:.75rem}.comment-container text-editor{display:block;margin-bottom:1rem}.comment-container .text-display{word-break:break-all;line-height:normal;margin-top:.5rem}.comment-container .text-display img{max-width:100%}.create-comment{border:2px solid #ddd;border-radius:.25rem;margin:1rem auto auto}.hide{display:none}.create-comment-container{overflow:auto}.create-comment-container sn-html-editor{margin-bottom:1rem}.authorName{font-size:.75rem;color:RGB(var(--now-color--neutral-12,66,80,81));font-weight:600}.meta-data{padding-top:.25rem}.meta-data,.parentAuthorName{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116))}.center{width:60%;margin:auto}.comments-header{padding:1rem 0}.comment-buttons{margin:1rem 0;overflow:auto}.comment-buttons now-button{padding-left:10px}.html-editor{display:flow-root}.show-more{text-align:center}.separator{margin:0 7px;display:inherit}.comment-text{display:inline-block;margin-left:.75rem;vertical-align:middle;height:-moz-fit-content;height:fit-content;font-size:1rem}\", \"\"]);\n\n// exports\n","import { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport \"@servicenow/now-avatar\";\nimport \"@servicenow/now-button\";\nimport \"@servicenow/now-badge\";\nimport \"@servicenow/now-modal\";\nimport \"@servicenow/now-heading\";\nimport \"@servicenow/now-record-html-editor\";\nimport './sn-comments'\nimport { isEmpty } from \"lodash\";\nimport {\n\tHTML_EDITOR_ACTION_PERFORMED,\n\tTOGGLE_DISPLAY_ALL_COMMENTS,\n\tSHOW_MORE_COMMENTS\n} from \"./constants\";\nimport { t } from 'sn-translate';\n\n\nconst footerActions = [{ \"label\": t(\"Yes, delete\"), \"variant\": \"primary\", \"meta\": \"delete\" }, { \"label\": t(\"Cancel\"), \"variant\": \"secondary\", \"meta\": \"cancel\" }];\n\nexport const TextEditor = ({ text = \"\", dispatch, appendToPayload, value, language }) => {\n\treturn (\n\t\t<div className=\"html-editor\">\n\t\t\t<now-record-html-editor\n\t\t\t\tvalue={text}\n\t\t\t\tplaceholder={t(\"Type your comment here\")}\n\t\t\t\tlanguage={language}\n\t\t\t/>\n\t\t\t<div className=\"comment-buttons right\">\n\t\t\t\t<now-button\n\t\t\t\t\tlabel={t(\"Post Comment\")}\n\t\t\t\t\ttooltip-content={t(\"Post Comment\")}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tdisabled={isEmpty(value) ? true : false}\n\t\t\t\t\ton-click={() =>\n\t\t\t\t\t\tdispatch(HTML_EDITOR_ACTION_PERFORMED, {\n\t\t\t\t\t\t\taction: \"submit\",\n\t\t\t\t\t\t\ttext: value,\n\t\t\t\t\t\t\t...appendToPayload\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t></now-button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst snKnowledgeComments = (state, { dispatch, updateState }) => {\n\tif(state.properties.articleId)\n\treturn (\n\t\t<div className=\"center\">\n\t\t\t<div className=\"create-comment\">\n\t\t\t\t<now-avatar\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\timage-src={state.properties.user.avatar}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tuser-name={state.properties.user.name}\n\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"create-comment-container\" >\n\n\t\t\t\t\t<TextEditor\n\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\tappendToPayload={{ type: \"new_comment\" }}\n\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\tlanguage={state.properties.user.userLanguage}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"header\">\n\t\t\t\t<div className=\"inline-block\" >\n\t\t\t\t\t<now-heading has-no-margin label={t(\"Comments\")} level=\"1\" variant=\"header-tertiary\" className=\"heading\"></now-heading>\n\t\t\t\t\t<now-badge round size=\"md\" status=\"info\" value={state.items.length} variant=\"secondary\"></now-badge>\n\t\t\t\t</div>{\n\t\t\t\t\tstate.hasChildren ? <now-button-bare expanded={state.expanded} data-testid=\"toggleReplies\" className=\"right\" icon-start={state.expanded ? \"chevron-up-outline\" : \"chevron-down-outline\"} label={state.expanded ? t(\"Hide all replies\") : t(\"Show all replies\")} tooltip-content={state.expanded ? t(\"Hide All Replies\") : t(\"Show All Replies\")} size=\"md\" variant=\"primary\" on-click={() => dispatch(TOGGLE_DISPLAY_ALL_COMMENTS)}></now-button-bare> : \"\"\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<sn-comments currentEditorId={state.currentEditorId} isEditing={state.isEditing} items={state.items.filter((item, index) => index <= state.commentsToDisplay-1)} buttons={state.buttons} actions={state.actions} expandedItems={state.expandedItems} metaData={state.metaData} manage-expanded language={state.properties.user.userLanguage}></sn-comments>\n\t\t\t{ state.items.length > state.commentsToDisplay ? <div className=\"show-more\"><now-button-bare config-aria={{\"aria-label\":t(\"Show more comments\")}} hide-padding label={t(\"Show more\")} size=\"md\" variant=\"primary\" on-click={()=>dispatch(SHOW_MORE_COMMENTS)}></now-button-bare></div> : \"\"}\n\t\t\t<now-modal manage-opened opened={state.deleteModalOpened} content={state.deleteCommentData.message} footer-actions={footerActions} header-label={t('Are you sure you want to delete?')} size=\"md\"></now-modal>\n\t\t</div>\n\n\t);\n};\n\nexport default snKnowledgeComments;\n","module.exports = __TECTONIC__$servicenow_now_badge;","import { get, has, assign, isEmpty, isNaN } from \"lodash\";\nimport { actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_BOOTSTRAPPED } = actionTypes;\nimport { buttons, commentActions, metaData } from \"./data\";\nimport { createAmbSubscriptionEffect } from \"@servicenow/ui-effect-amb\";\nimport {\n\tRECORD_WATCHER_UPDATED,\n\tRW_ACTIONS,\n\tNOW_BUTTON_BARE_CLICKED,\n\tHTML_EDITOR_ACTION_PERFORMED,\n\tCOMMENTS_FETCH_SUCCESS,\n\tCOMMENTS_FETCH_FAILURE,\n\tFETCH_COMMENTS,\n\tREPLY_TO_COMMENT,\n\tNOW_BUTTON_ICONIC_CLICKED,\n\tNOW_MODAL_FOOTER_ACTION_CLICKED,\n\tLIKE_COMMENT,\n\tUNLIKE_COMMENT,\n\tDELETE_COMMENT,\n\tCOMMENT_INSERT_SUCCESSFUL,\n\tCOMMENT_INSERT_FAILED,\n\tLIKE_COMMENT_SUCCESSFUL,\n\tLIKE_COMMENT_FAILED,\n\tUNLIKE_COMMENT_SUCCESSFUL,\n\tUNLIKE_COMMENT_FAILED,\n\tDELETE_COMMENT_SUCCESSFUL,\n\tDELETE_COMMENT_FAILED,\n\tCHECK_FOR_CHILD_COMMENTS,\n\tSHOW_REPLY_BUTTON_CLICKED,\n\tHIDE_REPLY_BUTTON_CLICKED,\n\tNOW_MODAL_OPENED_SET,\n\tTOGGLE_DISPLAY_ALL_COMMENTS,\n\tSHOW_MESSAGE,\n\tMESSAGES,\n\tNOW_BUTTON_CLICKED,\n\tSHOW_MORE_COMMENTS,\n\tNOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED,\n\tNOW_RECORD_HTML_EDITOR_VALUE_CHANGED\n} from \"./constants\";\nimport { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\nimport {\n\tcommentsQuery,\n\taddCommentQuery,\n\taddLikesQuery,\n\tdeleteLikesQuery,\n\tdeleteCommentQuery\n} from \"./queries\";\nconst recordWatcher = createAmbSubscriptionEffect(\n\t\"/rw/default/:table/:filter\",\n\t{\n\t\tsubscribeStartedActionType: RW_ACTIONS.SUBSCRIPTION_STARTED,\n\t\tsubscribeSucceededActionType: RW_ACTIONS.SUBSCRIPTION_SUCCEEDED,\n\t\tsubscribeFailedActionType: RW_ACTIONS.SUBSCRIPTION_FAILED,\n\t\tmessageReceivedActionType: RW_ACTIONS.MESSAGE_RECEIVED,\n\t\tunsubscribeSucceededActionType: RW_ACTIONS.SUBSCRIPTION_UNSUBSCRIBED\n\t}\n);\n\nvar done = false;\nvar itemPath = [];\n\nconst getPath = (items, pid, level) => {\n\tfor (let i = 0; i < items.length; i++) {\n\t\tif (!done) {\n\t\t\titemPath.length = level;\n\t\t\tif (items[i].id == pid) {\n\t\t\t\titemPath.push(i);\n\t\t\t\tdone = true;\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (items[i].children && items[i].children.length > 0) {\n\t\t\t\t\titemPath.push(i);\n\t\t\t\t\tgetPath(items[i].children, pid, level + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else return;\n\t}\n};\n\nconst getPathinString = (path, key) => {\n\tlet actualPath = \"items\";\n\tfor (let i = 0; i < path.length - 1; i++) {\n\t\tactualPath += `[${path[i]}].children`;\n\t}\n\tif (path.length != 0 && !isEmpty(key))\n\t\tactualPath += `[${path[path.length - 1]}].${key}`;\n\telse if (path.length != 0 && isEmpty(key))\n\t\tactualPath += `[${path[path.length - 1]}]`;\n\treturn actualPath;\n};\n\nconst buildTree = comments => {\n\tvar commentsTree = {};\n\ttry {\n\t\tcomments.forEach(x => {\n\t\t\tif (has(commentsTree, x.id)) {\n\t\t\t\tassign(commentsTree[x.id], x);\n\t\t\t} else {\n\t\t\t\tcommentsTree[x.id] = x;\n\t\t\t\tcommentsTree[x.id].children = [];\n\t\t\t}\n\n\t\t\tif (has(commentsTree, x.parent))\n\t\t\t\tcommentsTree[x.parent].children.push(commentsTree[x.id]);\n\t\t\telse {\n\t\t\t\tcommentsTree[x.parent] = {\n\t\t\t\t\tchildren: [commentsTree[x.id]]\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\treturn commentsTree;\n\t} catch (e) {\n\t\treturn commentsTree;\n\t}\n};\n\nconst getParentComment = (cmArray, parentId) => {\n\tnewCommentParent = {};\n\tfor (var i = 0; i < cmArray.length; i++) {\n\t\tif (cmArray[i] && cmArray[i].id == parentId) {\n\t\t\tnewCommentParent = cmArray[i];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (cmArray[i].children.length)\n\t\t\t\tgetParentComment(cmArray[i].children, parentId);\n\t\t\tif (has(newCommentParent, \"id\")) return true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\nconst hasChildren = items => {\n\tfor (let i = 0; i < items.length; i++) {\n\t\tif (get(items[i], \"children.length\", 0) > 0) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nconst extractContent = (str) => {\n    return (new DOMParser).parseFromString(str, \"text/html\").documentElement.textContent.toString().trim();\n}\n\nexport const actions = {\n\t[RW_ACTIONS.SUBSCRIPTION_STARTED]: {\n\t\tprivate: true\n\t},\n\t[RW_ACTIONS.SUBSCRIPTION_SUCCEEDED]: {\n\t\tprivate: true\n\t},\n\t[RW_ACTIONS.SUBSCRIPTION_FAILED]: {\n\t\tprivate: true\n\t},\n\t[RW_ACTIONS.SUBSCRIPTION_UNSUBSCRIBED]: {\n\t\tprivate: true\n\t},\n\t[NOW_BUTTON_CLICKED]: {\n\t\tprivate: true\n\t}\n};\n\nexport const actionHandlers = {\n\t[NOW_BUTTON_ICONIC_CLICKED]: {\n\t\teffect({ action, updateState }) {\n\t\t\tif (action.payload.attributes.meta == \"delete\") {\n\t\t\t\tlet message = MESSAGES.DELETE_WARNING_1;\n\t\t\t\tif (action.payload.attributes.hasFeedback)\n\t\t\t\t\tmessage = MESSAGES.DELETE_WARNING_2;\n\t\t\t\tlet deleteCommentData = {\n\t\t\t\t\tmessage: message,\n\t\t\t\t\tcommentId: action.payload.itemId\n\t\t\t\t};\n\t\t\t\tupdateState({\n\t\t\t\t\tdeleteModalOpened: true,\n\t\t\t\t\tdeleteCommentData: deleteCommentData\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_MODAL_FOOTER_ACTION_CLICKED]: {\n\t\teffect({ action, updateState, properties, dispatch, state }) {\n\t\t\tif (action.payload.action.meta == \"delete\")\n\t\t\t\tdispatch(DELETE_COMMENT, {\n\t\t\t\t\tcommentId: state.deleteCommentData.commentId,\n\t\t\t\t\tarticleId: properties.articleId\n\t\t\t\t});\n\n\t\t\tupdateState({\n\t\t\t\tdeleteModalOpened: false\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[HTML_EDITOR_ACTION_PERFORMED]: {\n\t\teffect: ({ action, dispatch, updateState, properties }) => {\n\t\t\tif (action.payload.action == \"cancel\") {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: \"currentEditorId\",\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\toperation: \"set\"\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (action.payload.action == \"submit\") {\n\t\t\t\tif (!isEmpty(action.payload.text)) {\n\t\t\t\t\tif (action.payload.type == \"reply_comment\") {\n\t\t\t\t\t\tdispatch(REPLY_TO_COMMENT, {\n\t\t\t\t\t\t\tuser: properties.user.id,\n\t\t\t\t\t\t\tcomments: action.payload.text,\n\t\t\t\t\t\t\tarticle: properties.articleId,\n\t\t\t\t\t\t\tparent_comment: action.payload.itemId\n\t\t\t\t\t\t});\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tpath: \"currentEditorId\",\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\toperation: \"set\"\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (action.payload.type == \"new_comment\") {\n\t\t\t\t\t\tdispatch(REPLY_TO_COMMENT, {\n\t\t\t\t\t\t\tuser: properties.user.id,\n\t\t\t\t\t\t\tcomments: action.payload.text,\n\t\t\t\t\t\t\tarticle: properties.articleId,\n\t\t\t\t\t\t\tparent_comment: \"\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\tcurrentEditorId: \"\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[COMPONENT_BOOTSTRAPPED]: {\n\t\teffect({  updateState, dispatch, properties, updateProperties }) {\n\t\t\tlet { commentsThreshold } = properties;\n\n\t\t\tif (!isEmpty(properties.articleId) && properties.user != null) {\n\t\t\t\tlet maxComments = (isNaN(commentsThreshold) || commentsThreshold < 0) ? 0 : parseInt(commentsThreshold);\n\t\t\t\t\n\t\t\t\tlet user = {\n\t\t\t\t\tname: properties.user.fullName,\n\t\t\t\t\tid: properties.user.userID,\n\t\t\t\t\tavatar: properties.user.avatar,\n\t\t\t\t\tuserLanguage: properties.user.userLanguage\n\t\t\t\t};\n\t\t\t\tupdateProperties({\n\t\t\t\t\tcommentsThreshold: maxComments,\n\t\t\t\t\tuser\n\t\t\t\t});\n\n\t\t\t\tupdateState({\n\t\t\t\t\tmetaData: metaData,\n\t\t\t\t\tactions: commentActions(user, properties),\n\t\t\t\t\tbuttons: buttons\n\t\t\t\t});\n\n\t\t\t\tif (maxComments > 0 && properties.hasComments)\n\t\t\t\t\tdispatch(FETCH_COMMENTS, {\n\t\t\t\t\t\tid: properties.articleId,\n\t\t\t\t\t\tgetRootComments: true\n\t\t\t\t\t});\n\n\t\t\t\tconst table = `kb_feedback`;\n\t\t\t\tconst filter = btoa(\n\t\t\t\t\t`commentsISNOTEMPTY^flagged=false^ratingISEMPTY^useful=^article=${properties.articleId}^user!=${user.id}`\n\t\t\t\t).replace(/=/g, \"-\");\n\t\t\t\tconst recordWatcherSubscription = subscribe => {\n\t\t\t\t\tdispatch(RECORD_WATCHER_UPDATED, {\n\t\t\t\t\t\ttable,\n\t\t\t\t\t\tfilter,\n\t\t\t\t\t\tsubscribe\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\trecordWatcherSubscription(true);\n\t\t\t}\n\t\t}\n\t},\n\n\t[COMMENTS_FETCH_SUCCESS]: {\n\t\teffect: ({ action, dispatch, state, updateState, properties }) => {\t\t\t\n\t\t\tlet comments = get(\n\t\t\t\taction,\n\t\t\t\t\"payload.data.AppKnowledge_Query.getComments\",\n\t\t\t\t[]\n\t\t\t);\n\t\t\tif (state.items.length > 0 && comments.length > 0) {\n\t\t\t\tlet tree = buildTree(comments);\n\t\t\t\tlet tempItems = JSON.parse(JSON.stringify(state.items));\n\t\t\t\tfor (let i = 0; i < tempItems.length; i++) {\n\t\t\t\t\tlet id = tempItems[i].id;\n\t\t\t\t\tif (has(tree, id)) {\n\t\t\t\t\t\ttempItems[i].children = tree[id].children;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempItems[i].children = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tupdateState({\n\t\t\t\t\titems: tempItems,\n\t\t\t\t\thasChildren: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (comments.length > 0) {\n\t\t\t\t\tcomments.forEach(c => {\n\t\t\t\t\t\tc.children = [];\n\t\t\t\t\t});\n\t\t\t\t\tlet commentsToDisplay = 0;\n\t\t\t\t\tif (comments.length > properties.commentsThreshold) {\n\t\t\t\t\t\tcommentsToDisplay = properties.commentsThreshold;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommentsToDisplay = comments.length;\n\t\t\t\t\t}\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\titems: comments,\n\t\t\t\t\t\tcommentsToDisplay: commentsToDisplay\n\t\t\t\t\t});\n\t\t\t\t\tdispatch(FETCH_COMMENTS, {\n\t\t\t\t\t\tid: properties.articleId,\n\t\t\t\t\t\tgetRootComments: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[FETCH_COMMENTS]: createGraphQLEffect(commentsQuery, {\n\t\tvariableList: [\"id\", \"getRootComments\"],\n\t\tsuccessActionType: COMMENTS_FETCH_SUCCESS,\n\t\terrorActionType: COMMENTS_FETCH_SUCCESS,\n\t\tbatch: false\n\t}),\n\n\t[REPLY_TO_COMMENT]: createGraphQLEffect(addCommentQuery, {\n\t\tvariableList: [\"user\", \"comments\", \"article\", \"parent_comment\"],\n\t\tsuccessActionType: COMMENT_INSERT_SUCCESSFUL,\n\t\terrorActionType: COMMENT_INSERT_FAILED,\n\t\tbatch: false\n\t}),\n\n\t[LIKE_COMMENT]: createGraphQLEffect(addLikesQuery, {\n\t\tvariableList: [\"commentId\", \"articleId\"],\n\t\tsuccessActionType: LIKE_COMMENT_SUCCESSFUL,\n\t\terrorActionType: LIKE_COMMENT_FAILED,\n\t\tbatch: false\n\t}),\n\n\t[UNLIKE_COMMENT]: createGraphQLEffect(deleteLikesQuery, {\n\t\tvariableList: [\"commentId\", \"articleId\"],\n\t\tsuccessActionType: UNLIKE_COMMENT_SUCCESSFUL,\n\t\terrorActionType: UNLIKE_COMMENT_FAILED,\n\t\tbatch: false\n\t}),\n\n\t[DELETE_COMMENT]: createGraphQLEffect(deleteCommentQuery, {\n\t\tvariableList: [\"commentId\", \"articleId\"],\n\t\tsuccessActionType: DELETE_COMMENT_SUCCESSFUL,\n\t\terrorActionType: DELETE_COMMENT_FAILED,\n\t\tbatch: false\n\t}),\n\n\t[DELETE_COMMENT_SUCCESSFUL]: {\n\t\teffect: ({ action, state, updateState, dispatch }) => {\n\t\t\tif (\n\t\t\t\tget(action, \"payload.data.AppKnowledge_Mutation.deleteComment\", false)\n\t\t\t) {\n\t\t\t\tlet sysId = get(action, \"meta.options.variables.commentId\", null);\n\t\t\t\tif (sysId != null) {\n\t\t\t\t\tgetPath(state.items, sysId, 0);\n\t\t\t\t\tif (done && itemPath.length > 0) {\n\t\t\t\t\t\tdone = false;\n                        let ind = itemPath.pop();\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\toperation: \"splice\",\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\tpath: getPathinString(itemPath, \"children\"),\n\t\t\t\t\t\t\tstart: ind,\n\t\t\t\t\t\t\tdeleteCount: 1\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdispatch(CHECK_FOR_CHILD_COMMENTS);\n\t\t\t\t\t\titemPath = [];\n\t\t\t\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\t\t\t\tstatus: \"info\",\n\t\t\t\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\t\t\t\tcontent: MESSAGES.DELETE_SUCCESS,\n\t\t\t\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[COMMENT_INSERT_SUCCESSFUL]: {\n\t\teffect: ({ dispatch, state, action, updateState, properties }) => {\n\t\t\tlet data = get(\n\t\t\t\taction,\n\t\t\t\t\"payload.data.AppKnowledge_Mutation.addComment\",\n\t\t\t\tnull\n\t\t\t);\n\t\t\tdata = JSON.parse(data);\n\t\t\tif (data && data.sys_id) {\n\t\t\t\tvar commentRecord = {\n\t\t\t\t\tchildren: [],\n\t\t\t\t\tcreatedOn: data.created_on,\n\t\t\t\t\ttext: data.comment_text,\n\t\t\t\t\tid: data.sys_id,\n\t\t\t\t\tisLiked: false,\n\t\t\t\t\tlikesCount: 0,\n\t\t\t\t\tuser: properties.user\n\t\t\t\t};\n\t\t\t\tif (get(data, \"parent\")) {\n\t\t\t\t\tcommentRecord.parent = data.parent;\n\t\t\t\t\tgetPath(state.items, commentRecord.parent, 0);\n\t\t\t\t\tif (done && itemPath.length > 0) {\n\t\t\t\t\t\tdone = false;\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\toperation: \"unshift\",\n\t\t\t\t\t\t\tvalue: commentRecord,\n\t\t\t\t\t\t\tpath: getPathinString(itemPath, \"children\")\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tlet rootId = state.items[itemPath[0]].id;\n\t\t\t\t\t\tdispatch(SHOW_REPLY_BUTTON_CLICKED, { itemId: rootId })\n\t\t\t\t\t\tif (!state.hasChildren) {\n\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\thasChildren: true,\n\t\t\t\t\t\t\t\texpanded: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\titemPath = [];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcommentRecord.parent = \"\";\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\titems:[commentRecord,...state.items],\n\t\t\t\t\t\tcommentsToDisplay: state.commentsToDisplay + 1\n\t\t\t\t\t})\n\t\t\t\t\ttinyMCE.activeEditor.setContent(\"\");\n\t\t\t\t}\n\t\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\t\tstatus: \"info\",\n\t\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\t\tcontent: MESSAGES.INSERT_SUCCESS,\n\t\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdispatch(COMMENT_INSERT_FAILED);\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[COMMENT_INSERT_FAILED]: {\n\t\teffect({ dispatch }) {\n\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\tstatus: \"critical\",\n\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\tcontent: MESSAGES.INSERT_FAILED,\n\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t});\n\t\t\ttinyMCE.activeEditor.setContent(\"\");\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[CHECK_FOR_CHILD_COMMENTS]: {\n\t\teffect({ state, updateState }) {\n\t\t\tlet children = hasChildren(state.items);\n\t\t\tif (!children && state.hasChildren)\n\t\t\t\tupdateState({\n\t\t\t\t\thasChildren: false,\n\t\t\t\t\texpanded: false\n\t\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[RECORD_WATCHER_UPDATED]: recordWatcher,\n\t[RW_ACTIONS.MESSAGE_RECEIVED]: {\n\t\teffect: ({\n\t\t\taction: {\n\t\t\t\tpayload: { data }\n\t\t\t},\n\t\t\tstate,\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (data && data.operation == \"insert\") {\n\t\t\t\tlet record = data.record;\n\t\t\t\tvar commentRecord = {\n\t\t\t\t\tchildren: [],\n\t\t\t\t\tcreatedOn: record.sys_created_on.value,\n\t\t\t\t\ttext: record.comments.value,\n\t\t\t\t\tid: data.sys_id,\n\t\t\t\t\tisLiked: false,\n\t\t\t\t\tlikesCount: 0,\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tname: record.user.display_value,\n\t\t\t\t\t\tid: record.user.value\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tif (has(record, \"parent_comment\")) {\n\t\t\t\t\tcommentRecord.parent = record.parent_comment.value;\n\t\t\t\t\tgetPath(state.items, commentRecord.parent, 0);\n\t\t\t\t\tif (done && itemPath.length > 0) {\n\t\t\t\t\t\tdone = false;\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\toperation: \"unshift\",\n\t\t\t\t\t\t\tvalue: commentRecord,\n\t\t\t\t\t\t\tpath: getPathinString(itemPath, \"children\")\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tlet rootId = state.items[itemPath[0]].id;\n\t\t\t\t\t\tdispatch(SHOW_REPLY_BUTTON_CLICKED, { itemId: rootId})\n\t\t\t\t\t\tif (!state.hasChildren) {\n\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\thasChildren: true,\n\t\t\t\t\t\t\t\texpanded: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\titemPath = [];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcommentRecord.parent = \"\";\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\titems:[commentRecord,...state.items],\n\t\t\t\t\t\tcommentsToDisplay: state.commentsToDisplay + 1\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else if (data.operation == \"delete\") {\n\t\t\t\tgetPath(state.items, data.sys_id, 0);\n\t\t\t\tif (done && itemPath.length > 0) {\n\t\t\t\t\tdone = false;\n\t\t\t\t\tlet ind = itemPath.pop();\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\toperation: \"splice\",\n\t\t\t\t\t\tvalue: commentRecord,\n\t\t\t\t\t\tpath: getPathinString(itemPath, \"children\"),\n\t\t\t\t\t\tstart: ind,\n\t\t\t\t\t\tdeleteCount: 1\n\t\t\t\t\t});\n\t\t\t\t\tdispatch(CHECK_FOR_CHILD_COMMENTS);\n\t\t\t\t\titemPath = [];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[SHOW_REPLY_BUTTON_CLICKED]: {\n\t\teffect: ({ action, state, updateState }) => {\n\t\t\tlet tempState = {}\n\t\t\tif (state.expandedItems.indexOf(action.payload.itemId) == -1) {\n\t\t\t\ttempState.expandedItems = [...state.expandedItems, action.payload.itemId];\n\t\t\t\tupdateState(tempState);\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[HIDE_REPLY_BUTTON_CLICKED]: {\n\t\teffect: ({ action, state, updateState }) => {\n\t\t\tlet tempArr = [...state.expandedItems];\n\t\t\tlet tempState = {}\n\t\t\tlet ind = tempArr.indexOf(action.payload.itemId);\n\t\t\tif (ind != -1) {\n\t\t\t\ttempArr.splice(ind, 1);\n\t\t\t}\n\t\t\ttempState.expandedItems = tempArr;\n\t\t\tupdateState(tempState);\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_BUTTON_BARE_CLICKED]: {\n        effect: ({ action, properties, updateState, dispatch, state }) => {\n            let commentId = get(action, \"payload.item.id\", \"\") \n\t\t\tif (get(action, \"payload.meta\") == \"like\") {\n\t\t\t\tif (get(action, \"payload.item.isLiked\", \"\") == true) {\n\t\t\t\t\tdispatch(UNLIKE_COMMENT, {\n\t\t\t\t\t\tcommentId: commentId,\n\t\t\t\t\t\tarticleId: properties.articleId\n\t\t\t\t\t});\n\t\t\t\t} else if (get(action, \"payload.item.isLiked\", \"\") == false) {\n\t\t\t\t\tdispatch(LIKE_COMMENT, {\n\t\t\t\t\t\tcommentId: commentId,\n\t\t\t\t\t\tarticleId: properties.articleId\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (get(action, \"payload.meta\", \"\") == \"reply\") {\n\t\t\t\tif (\n\t\t\t\t\tisEmpty(state.currentEditorId) ||\n\t\t\t\t\tcommentId != state.currentEditorId\n\t\t\t\t) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tcurrentEditorId: commentId,\n\t\t\t\t\t\tisEditing: false\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tcurrentEditorId: \"\",\n\t\t\t\t\t\tisEditing: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_MODAL_OPENED_SET]: {\n\t\teffect: ({ action, updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tpath: \"deleteModalOpened\",\n\t\t\t\tvalue: action.payload.value,\n\t\t\t\toperation: \"set\"\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[LIKE_COMMENT_SUCCESSFUL]: {\n\t\teffect: ({ action, state, updateState }) => {\n\t\t\tlet data = get(\n\t\t\t\taction,\n\t\t\t\t\"payload.data.AppKnowledge_Mutation.likeComment\",\n\t\t\t\t{}\n\t\t\t);\n\t\t\tlet commentId = get(action, \"meta.options.variables.commentId\", null);\n\t\t\tdata = JSON.parse(data);\n\t\t\tif (data != null && data.sys_id) {\n\t\t\t\tgetPath(state.items, commentId, 0);\n\t\t\t\tdone = false;\n\t\t\t\tlet path = getPathinString(itemPath, \"\");\n\t\t\t\tupdateState({\n\t\t\t\t\toperation: \"set\",\n\t\t\t\t\tvalue: get(state, `${path}.likesCount`) + 1,\n\t\t\t\t\tpath: `${path}.likesCount`\n\t\t\t\t});\n\n\t\t\t\tupdateState({\n\t\t\t\t\toperation: \"set\",\n\t\t\t\t\tvalue: true,\n\t\t\t\t\tpath: `${path}.isLiked`\n\t\t\t\t});\n\t\t\t\titemPath = [];\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[UNLIKE_COMMENT_SUCCESSFUL]: {\n\t\teffect: ({ action, state, updateState }) => {\n\t\t\tlet commentId = get(action, \"meta.options.variables.commentId\");\n\t\t\tlet result = get(\n\t\t\t\taction,\n\t\t\t\t\"payload.data.AppKnowledge_Mutation.unLikeComment\",\n\t\t\t\tnull\n\t\t\t);\n\t\t\tif (result && commentId != null) {\n\t\t\t\tgetPath(state.items, commentId, 0);\n\t\t\t\tdone = false;\n\t\t\t\tlet path = getPathinString(itemPath, \"\");\n\n\t\t\t\tupdateState({\n\t\t\t\t\toperation: \"set\",\n\t\t\t\t\tvalue: get(state, `${path}.likesCount`) - 1,\n\t\t\t\t\tpath: `${path}.likesCount`\n\t\t\t\t});\n\n\t\t\t\tupdateState({\n\t\t\t\t\toperation: \"set\",\n\t\t\t\t\tvalue: false,\n\t\t\t\t\tpath: `${path}.isLiked`\n\t\t\t\t});\n\t\t\t\titemPath = [];\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[TOGGLE_DISPLAY_ALL_COMMENTS]: {\n\t\teffect({ updateState, state }) {\n\t\t\tif (state.expanded) {\n\t\t\t\tupdateState({\n\t\t\t\t\texpanded: false,\n\t\t\t\t\texpandedItems: []\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet arr = [];\n\t\t\t\tstate.items.forEach(x => {\n\t\t\t\t\tif (x.children.length > 0) \n\t\t\t\t\t\tarr.push(x.id);\n\t\t\t\t});\n\t\t\t\tupdateState({\n\t\t\t\t\texpanded: true,\n\t\t\t\t\texpandedItems: arr\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[SHOW_MORE_COMMENTS]: {\n\t\teffect({ updateState, state: { commentsToDisplay, items }, properties: { commentsThreshold } }) { \n\t\t\tif (commentsToDisplay + commentsThreshold >= items.length) {\n\t\t\t\tupdateState({\n\t\t\t\t\tcommentsToDisplay: items.length\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tupdateState({\n\t\t\t\t\tcommentsToDisplay: commentsToDisplay + commentsThreshold\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED]: {\n\t\teffect({ action, updateState, state }) {\n\t\t\tlet payloadValue = extractContent(action.payload.value);\n\t\t\tif(state.value  != action.payload.value && (isEmpty(state.value) || isEmpty(payloadValue)))\n\t\t\t\tupdateState({\n\t\t\t\t\tvalue: payloadValue\n\t\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_RECORD_HTML_EDITOR_VALUE_CHANGED]: {\n\t\teffect({ action, updateState, state }) {\n\t\t\tif(!isEmpty(extractContent(action.payload.value)))\n\t\t\t\tupdateState({\n\t\t\t\t\tvalue: action.payload.value\n\t\t\t\t});\n\t\t}\n\t}\n};\n","import { t } from \"sn-translate\";\n\nconst neutral18 = \"#161b1c\";\nconst secondary1 = \"#01778e\";\n\nconst commentButton = ({\n\tlabel,\n\ticon,\n\tweight = \"regular\",\n\titem,\n\tmeta,\n\tsize = \"sm\",\n\ticonColor = neutral18\n}) => {\n\tlet textStyles = {\n\t\tfontSize: \"0.75rem\",\n\t\tmarginBottom: \"-3px\",\n\t\tcolor: neutral18\n\t};\n\tlet buttonStyles = {\n\t\tmarginRight: \"0.25rem\",\n\t\tcolor: iconColor\n\t};\n\treturn (\n\t\t<now-button-bare appendToPayload={{ meta: meta, item: item }} hidePadding>\n\t\t\t<now-legacy-icon\n\t\t\t\tsize={size}\n\t\t\t\ttype={icon}\n\t\t\t\tweight={weight}\n\t\t\t\tstyle={buttonStyles}\n\t\t\t></now-legacy-icon>\n\t\t\t<span style={textStyles}>\n\t\t\t\t{label}\n\t\t\t</span>\n\t\t</now-button-bare>\n\t);\n};\n\nexport const buttons = [\n\t{\n\t\ttag: commentButton,\n\t\tattributes: {\n\t\t\ticon: \"thumbs-up\",\n\t\t\tmeta: \"like\",\n\t\t\tlabel: t(\"Like\"),\n\t\t\tsize: \"sm\"\n\t\t},\n\t\tderivedAttributes: {\n\t\t\tweight: item => {\n\t\t\t\treturn item.isLiked ? \"bold\" : \"regular\";\n\t\t\t},\n\t\t\titem: item => item,\n\t\t\ticonColor: item => {\n\t\t\t\treturn item.isLiked ? secondary1 : neutral18;\n\t\t\t}\n\t\t},\n\t\tvisible: true\n\t},\n\t{\n\t\ttag: commentButton,\n\t\tattributes: {\n\t\t\ticon: \"comment\",\n\t\t\tmeta: \"reply\",\n\t\t\tlabel: t(\"Reply\"),\n\t\t\tsize: \"sm\"\n\t\t},\n\t\tderivedAttributes: {\n\t\t\titem: item => item\n\t\t},\n\t\tvisible: true\n\t}\n];\nexport const commentActions = (user, properties) => ({\n\tuseDropdown: false,\n\tdropdownItems: [],\n\tcomponent: {\n\t\ttag: \"now-button-iconic\",\n\t\tattributes: {\n\t\t\tsize: \"md\",\n\t\t\tvariant: \"tertiary\",\n\t\t\ticon: \"trash-outline\",\n\t\t\tmeta: \"delete\",\n\t\t\ttooltipContent: t(\"Delete\"),\n\t\t\tbare: true,\n\t\t\thidePadding: true\n\t\t},\n\t\tderivedAttributes: {\n\t\t\thasFeedback: item => {\n\t\t\t\tif ((item.children && item.children.length > 0) || item.likesCount > 0)\n\t\t\t\t\treturn true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tvisible: item => item.user.id == user.id || properties.isAdminorOwner\n\t}\n});\nexport const metaData = [\n\t{\n\t\tvalue: item => {\n\t\t\tif (item.likesCount)\n\t\t\t\treturn item.likesCount == 1\n\t\t\t\t\t? t(`{0} like`, item.likesCount)\n\t\t\t\t\t: t(`{0} likes`, item.likesCount);\n\t\t\treturn t(\"{0} likes\", 0);\n\t\t},\n\t\tvisible: true\n\t}\n];\n","module.exports = __TECTONIC__$servicenow_ui_effect_amb;","export const commentsQuery = `\nquery($id: String!, $getRootComments: Boolean!){\n  AppKnowledge_Query {\n    getComments(id: $id, getRootComments: $getRootComments) {\n      id\n      createdOn\n      text\n      parent\n      user {\n        name\n        id\n        avatar\n      }\n      likesCount\n      isLiked\n    }\n  }\n}\n`;\nexport const addCommentQuery = `mutation ($comments: String!, $article: String!, $parent_comment: String!) {\n  AppKnowledge_Mutation{\n    addComment(comment:$comments ,articleId:$article, parentId:$parent_comment)\n  }\n  }`;\n\nexport const addLikesQuery = `mutation ($commentId: String!, $articleId: String!) {\n    AppKnowledge_Mutation{\n        likeComment(commentId:$commentId, articleId:$articleId)\n    }\n  }`;\n\nexport const deleteLikesQuery = `mutation ($commentId: String!, $articleId: String!) {\n    AppKnowledge_Mutation{\n        unLikeComment(commentId:$commentId, articleId:$articleId)\n    }\n  }`;\n\nexport const deleteCommentQuery = `mutation ($commentId: String!, $articleId: String!) {\n    AppKnowledge_Mutation{\n        deleteComment(commentId:$commentId, articleId:$articleId)\n    }\n  }`;","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./snKnowledgeComments.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".create-comment{margin:auto}.heading{display:inline-block;padding-right:1rem}.comment-buttons{padding-top:1rem;padding-bottom:2rem;overflow:auto}.right{float:right}.show-more{padding:1rem}.create-comment-container{padding-left:1rem;overflow:auto;width:calc(100% - 58px)}.create-comment-container sn-html-editor{padding-bottom:1rem}.html-editor{display:flow-root}.comment-text{display:inline-block;padding-left:.75rem;vertical-align:middle;height:-moz-fit-content;height:fit-content;font-size:1rem}.header{padding-bottom:1rem}.inline-block{display:inline-block}.show-more{text-align:center}.center{margin:auto;padding:1.5rem}.avatar{float:left}\", \"\"]);\n\n// exports\n","\nconst getTextReadTimeByCharacters = text => text.length/500;\n\nconst getTextReadTimeByWords = text => {\n    const wordCount = text.split(/\\s+/g).length;\n    return wordCount/200;\n};\n\nconst getImageReadTime = dom => {\n    const imgTagCount = dom.querySelectorAll('img').length;\n    const picTags = dom.querySelectorAll('picture');\n    const imagesInPicturetags = Array.from(picTags).reduce((count,node) => count + node.querySelectorAll('source').length, 0);\n    let count = imgTagCount + imagesInPicturetags;\n    let seconds = 0, time = 12;\n    while(count-->0){\n        seconds += time;\n        time = time!=3 ? time-1 : time;\n    }\n    return seconds/60;\n};\n\nexport const getReadTimeFromDOM = (dom, languageCode) => {\n    const text = dom.textContent;\n    const characterBasedTextLangs = new Set(['zh','ja','ko','zt']);\n    let textTime;\n    if(characterBasedTextLangs.has(languageCode)) {\n        textTime = getTextReadTimeByCharacters(text);\n    }\n    else {\n        textTime = getTextReadTimeByWords(text);\n    }\n    const imageTime = getImageReadTime(dom);\n    return Math.ceil(textTime + imageTime);\n};\n\nexport default (html, languageCode='en') => {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    return getReadTimeFromDOM(doc.documentElement, languageCode);\n};\n\n\n","export { default } from './kbContent';","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom, { Fragment, dangerouslyCreateElementFromString } from '@servicenow/ui-renderer-snabbdom';\nimport {nowLinkInterceptorBehavior} from '@servicenow/now-activity-stream';\nimport { actionHandlers } from \"./actions\";\nimport {\n\tBLOCK_FETCH_STARTED,\n\tIMPERSONATE_MODAL_STYLE,\n\tIMPERSONATE_MODAL_FIRST_ITEM_STYLE,\n\tIMPERSONATE_MODAL_ITEM_STYLE,\n\tHIDDEN_BLOCKS_MODAL_ITEM_STYLE,\n\tDATE_FORMAT\n} from './constants';\nimport {selectKnowledgeBlocks, impersonateActions} from '../../utils/actionUtil';\nimport styles from './kbContent.scss';\nimport {t} from \"sn-translate\";\nimport \"@servicenow/now-icon\";\nimport \"@servicenow/now-modal\";\nimport \"@servicenow/now-record-field-lookup-connected\";\nimport \"@servicenow/now-record-date-picker\";\nimport { get, clone } from \"lodash\";\nimport moment from 'moment';\n\nconst getDateFormat = () => {\n\t// TODO: use sn-workspace-header prefetched data source and remove this function\n\tconst uxGlobalsUserStr = `ux_globals.presource[\"sn-workspace-header:wsUserData\"].data.GlideDomain_Query.user`;\n\tconst dateFormat = get(\n        window,\n        `${uxGlobalsUserStr}.dateFormat`,\n        ''\n\t);\n\tconst timeFormat = get(\n        window,\n        `${uxGlobalsUserStr}.timeFormat`,\n        ''\n\t);\n\n\treturn (dateFormat && timeFormat) ? `${dateFormat.toUpperCase()} ${timeFormat}` : DATE_FORMAT;\n}\n\nconst getArticleHTMLContent = props => props.articleData!=null ? [props.articleData] : [];\n\nconst view = (state, {dispatch}) => {\n\tconst content = clone(state.properties.content);\n\tif (state.blocks.length > 0) {\n\t\tselectKnowledgeBlocks(state, dispatch, content);\n\t}\n\n\tconst dateFilter = state.properties.workflowState === 'published' ? (<div className=\"kb-control-item\">\n\t\t\t<now-record-date-picker\n\t\t\t\tstyle={IMPERSONATE_MODAL_ITEM_STYLE}\n\t\t\t\tname=\"viewOn\"\n\t\t\t\tformat={state.dateFormat}\n\t\t\t\tlabel={t('Select Date')}\n\t\t\t\tvalue={state.viewDate}\n\t\t\t\ttimePicker />\n\t\t</div>) : \"\";\n\n\tconst modalContent = (<div style={IMPERSONATE_MODAL_STYLE}>\n\t\t<div className=\"kb-control-item\">\n\t\t\t<now-record-field-lookup-connected\n\t\t\t\tstyle={IMPERSONATE_MODAL_FIRST_ITEM_STYLE}\n\t\t\t\tname=\"viewAs\"\n\t\t\t\tlabel={t('Select User')}\n\t\t\t\ttableName=\"sys_user\"\n\t\t\t\tfieldName=\"name\"\n\t\t\t\tvalue={state.properties.userId}\n\t\t\t\tdisplayValue={state.properties.userName}/>\n\t\t</div>\n\t\t{dateFilter}\n\t</div>);\n\n\tconst hiddenBlocksContent = state.hiddenBlocks.map((hiddenBlock) => (\n\t\t<div style={HIDDEN_BLOCKS_MODAL_ITEM_STYLE}>\n\t\t\t{hiddenBlock.number} {hiddenBlock.short_description}\n\t\t</div>\n\t));\n\n\tconst hiddenBlocksModalContent = (<div>\n\t\t<div style={HIDDEN_BLOCKS_MODAL_ITEM_STYLE}>\n\t\t\t{t('The content for the following knowledge blocks are unavailable for ') + state.properties.userName + ':'}\n\t\t</div>\n\t\t<div>{hiddenBlocksContent}</div>\n\t</div>);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<article>{content}</article>\n\t\t\t<now-modal manage-opened\n\t\t\t\t\t   opened={state.properties.blocksImpersonated}\n\t\t\t\t\t   footer-actions={impersonateActions}\n\t\t\t\t\t   header-label={t('View as User')}\n\t\t\t\t\t   append-to-payload={{key: 'impersonate-modal'}}\n\t\t\t\t\t   size=\"md\">\n\t\t\t\t{modalContent}\n\t\t\t</now-modal>\n\t\t\t<now-modal manage-opened\n\t\t\t\t\t   opened={state.showHiddenBlocks}\n\t\t\t\t\t   content={hiddenBlocksModalContent}\n\t\t\t\t\t   header-label={t('Unavailable Blocks')}\n\t\t\t\t\t   append-to-payload={{key: 'hidden-blocks-modal'}}\n\t\t\t\t\t   size=\"md\"/>\n\t\t</Fragment>\n\t)\n};\n\ncreateCustomElement(\"sn-kb-content\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tbehaviors: [\n\t\t{\n\t\t\tbehavior: nowLinkInterceptorBehavior,\n\t\t\toptions: {\n\t\t\t\tpropsToHtmlArray: getArticleHTMLContent\n\t\t\t}\n\t\t}\n\t],\n\tinitialState: {\n\t\tblocks: [],\n\t\tviewDate: moment().format(getDateFormat()),\n\t\tdateFormat: getDateFormat(),\n\t\tselectedValue: {},\n\t\tshowHiddenBlocks: false,\n\t\thiddenBlocks: [],\n\t\timpersonatedContentHTML: ''\n\t},\n\tproperties: {\n\t\ttable: '',\n\t\tarticleData : {default : \"\"},\n\t\tcontent : \"\",\n\t\tparentSysId: \"\",\n\t\tparentNumber: \"\",\n\t\tblocksSelected: false,\n\t\tblocksImpersonated: false,\n\t\tworkflowState: \"\",\n\t\tknowledgeBase: \"\",\n\t\tuserId : \"\",\n\t\tuserName: \"\"\n\t},\n\tactionHandlers,\n\tonConnect(host, dispatch) {\n\t\tdispatch(BLOCK_FETCH_STARTED, {\n\t\t\tarticleSysId: host.parentSysId,\n\t\t\tuserId: host.userId,\n\t\t\tblocks: \"\",\n\t\t\ttemplate: (host.table && host.table.startsWith('kb_template')) ? host.table : \"kb_knowledge\"\n\t\t});\n\t},\n\tstyles: styles\n});\n","module.exports = __TECTONIC__$servicenow_now_activity_stream;","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport knowledge_blocks_data_read from \"../../queries/knowledge_blocks.read\";\nimport knowledge_preview_data_read from \"../../queries/knowledge_preview.read\";\nimport {\n\tBLOCK_FETCH_STARTED,\n\tBLOCK_FETCH_SUCCEEDED,\n\tPREVIEW_FETCH_STARTED,\n\tPREVIEW_FETCH_SUCCEEDED,\n\tSHOW_BLOCKS_MODAL,\n\tNOW_MODAL_FOOTER_ACTION_CLICKED,\n\tNOW_MODAL_OPENED_SET,\n\tNOW_RECORD_DATE_PICKER_VALUE_CHANGED,\n\tNOW_RECORD_FIELD_LOOKUP_VALUE_CHANGED\n} from './constants';\nimport {\n\tIMPERSONATE_BLOCKS,\n\tSHOW_MESSAGE,\n\tARTICLE_VIEW_ACCESS,\n\tVERSION_CHANGE\n} from \"../../constants\";\nimport {t} from \"sn-translate\";\nimport {actionTypes} from \"@servicenow/ui-core\";\nconst {COMPONENT_RENDERED} = actionTypes;\n\nconst fetchKnowledgeBlocksEffect = createGraphQLEffect(knowledge_blocks_data_read, {\n\tsuccessActionType: BLOCK_FETCH_SUCCEEDED,\n\tvariableList: [\"articleSysId\", \"userId\", \"blocks\", \"template\"]\n});\n\nconst handleKnowledgeBlocksFetchSucceeded = (coeffects) => {\n\tconst {action, updateState} = coeffects;\n\tlet blocks = action.payload.data.AppKnowledgeBlocks_Query.getKBBlocksFromArticleForUser;\n\n\tif (blocks) {\n\t\tblocks = JSON.parse(blocks);\n\t\tupdateState({ blocks: blocks });\n\t}\n};\n\nconst fetchKnowledgePreviewEffect = createGraphQLEffect(knowledge_preview_data_read, {\n\tsuccessActionType: PREVIEW_FETCH_SUCCEEDED,\n\tvariableList: [\"articleNumber\", \"userId\", \"viewOnDate\"]\n});\n\nconst handleKnowledgePreviewFetchSucceeded = (coeffects) => {\n\tconst {action, dispatch, state, updateState} = coeffects;\n\tlet response = action.payload.data.AppKnowledgeBlocks_Query.getArticleContentForUser;\n\tresponse = JSON.parse(response);\n\tlet hasViewAccess = true;\n\tlet contentHTML = response.content;\n\n\tif (response.error) {\n\t\tif (response.error === \"no_version_found\")  {\n\t\t\tlet publishDate = response.publishDate;\n\t\t\tconst errorMessage = t('This article is not available on the selected date. Select a date on or after the first publication date: ' + publishDate + '.');\n\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\taction: {\n\t\t\t\t\ttype: \"dismiss\"\n\t\t\t\t},\n\t\t\t\tstatus: \"critical\",\n\t\t\t\tcontent: errorMessage\n\t\t\t});\n\t\t} else if (response.error === \"no_access\") {\n\t\t\thasViewAccess = false;\n\t\t\tcontentHTML = createNoAccessContent(state);\n\t\t}\n\t}\n\n\tif (contentHTML) {\n\t\tdispatch(ARTICLE_VIEW_ACCESS, {hasViewAccess: hasViewAccess});\n\t\tupdateState({impersonatedContentHTML: contentHTML});\n\t\thandleHiddenBlocks(state, dispatch, contentHTML, hasViewAccess);\n\t\tif (response.sysId) {\n\t\t\tdispatch(VERSION_CHANGE, {selectedSysId: response.sysId});\n\t\t}\n\t}\n};\n\nconst handleImpersonateBlocks = (coeffects) => {\n\tconst {action, dispatch, state, updateProperties, updateState} = coeffects;\n\tif (action.payload.key === 'impersonate-modal') {\n\t\tif (action.payload.action && action.payload.action.meta === \"ok\") {\n\t\t\tif (state.selectedValue.userId || state.selectedValue.viewDate) {\n\t\t\t\tlet userId = state.selectedValue.userId ? state.selectedValue.userId : state.properties.userId;\n\t\t\t\tlet userName = state.selectedValue.userName ? state.selectedValue.userName : state.properties.userName;\n\t\t\t\tlet viewDate = state.selectedValue.viewDate ? state.selectedValue.viewDate : state.viewDate;\n\t\t\t\tupdateProperties({\n\t\t\t\t\tviewDate: viewDate,\n\t\t\t\t\tuserId: userId,\n\t\t\t\t\tuserName: userName,\n\t\t\t\t});\n\t\t\t\tupdateState({\n\t\t\t\t\tviewDate: viewDate\n\t\t\t\t});\n\t\t\t\tdispatch(PREVIEW_FETCH_STARTED, {\n\t\t\t\t\tarticleNumber: state.properties.parentNumber,\n\t\t\t\t\tuserId: userId,\n\t\t\t\t\tviewOnDate: viewDate\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tupdateState({selectedValue: {}});\n\t\t}\n\t\tdispatch(IMPERSONATE_BLOCKS);\n\t} else if (action.payload.key === 'hidden-blocks-modal') {\n\t\tupdateState({\n\t\t\tshowHiddenBlocks: false,\n\t\t\thiddenBlocks: []\n\t\t});\n\t}\n};\n\nconst handleModalValueChange = (coeffects) => {\n\tconst {action, state, updateState} = coeffects;\n\tif (action.payload.name === \"viewAs\") {\n\t\tupdateState({selectedValue: {\n\t\t\t...state.selectedValue,\n\t\t\tuserId: action.payload.value,\n\t\t\tuserName: action.payload.displayValue\n\t\t}});\n\t} else if (action.payload.name === \"viewOn\") {\n\t\tupdateState({selectedValue: {\n\t\t\t...state.selectedValue,\n\t\t\tviewDate: action.payload.value\n\t\t}});\n\t}\n};\n\nconst handleShowBlocksModal = (coeffects) => {\n\tconst {action, updateState} = coeffects;\n\tupdateState({\n\t\tshowHiddenBlocks: true,\n\t\thiddenBlocks: action.payload.hiddenBlocks\n\t});\n};\n\nconst handleHiddenBlocks = (state, dispatch, impersonatedContentHTML, hasViewAccess) => {\n\tconst parentDiv = document.createElement('div');\n\tparentDiv.innerHTML = impersonatedContentHTML;\n\tlet hiddenBlocks = [];\n\tstate.blocks.forEach(block => {\n\t\tconst kbBlock = parentDiv.querySelector('.' + block.number);\n\t\tif (!kbBlock) {\n\t\t\thiddenBlocks.push(block);\n\t\t}\n\t});\n\n\tconst hiddenBlocksDiv = hasViewAccess && hiddenBlocks.length > 0 ?\n\t\t<div>\n\t\t\t<a href=\"javascript:void(0)\" on-click={() => dispatch(SHOW_BLOCKS_MODAL, {\n\t\t\thiddenBlocks: hiddenBlocks\n\t\t})}>{t('See unavailable blocks.')}</a>\n\t\t</div> : '';\n\n\tdispatch(SHOW_MESSAGE, {\n\t\taction: {\n\t\t\ttype: \"dismiss\"\n\t\t},\n\t\ticonName: \"circle-info-outline\",\n\t\tstatus: \"info\",\n\t\tcontent: {\n\t\t\ttype: 'jsx',\n\t\t\tvalue: <div>\n\t\t\t\t<div>{t('You are viewing article as ' + state.properties.userName + '.')}</div>\n\t\t\t\t{hiddenBlocksDiv}\n\t\t\t</div>\n\t\t}\n\t});\n};\n\nconst componentRendered = ({ host }) => {\n\tlet content = host.shadowRoot.querySelector(\"article\");\n\tif(content){\n\t\tcontent.querySelectorAll(\"a\").forEach(link => {\n\t\t\tif(link.href.includes(\"#\")){\n\t\t\t\tlet targetID = link.href.split(\"#\")[1];\n\t\t\t\tlink.onclick = () => {\n\t\t\t\t\tvar target = content.querySelector(\"#\"+targetID) ? content.querySelector(\"#\"+targetID) : content.querySelector(\"[name=\"+targetID+\"]\");\n\t\t\t\t\tif(target) {\n\t\t\t\t\t\ttarget.scrollIntoView({\n\t\t\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\t\t\tblock: 'start'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nconst createNoAccessContent = (state) => {\n\tconst parentDiv = document.createElement('div');\n\tconst headerDiv = document.createElement('div');\n\theaderDiv.innerHTML = t('Access denied');\n\theaderDiv.classList.add('kb-no-access-header');\n\tparentDiv.appendChild(headerDiv);\n\tconst childDiv = document.createElement('div');\n\tchildDiv.innerHTML =  t('Based on user criteria definitions, ') + state.properties.userName\n\t\t+ t(' does not have access to this knowledge article,') + '<br/>'\n\t\t+ t('unless explicitly granted using ACL rules.');\n\tparentDiv.appendChild(childDiv);\n\treturn parentDiv.innerHTML;\n};\n\nexport const actionHandlers = {\n\t[BLOCK_FETCH_STARTED]: fetchKnowledgeBlocksEffect,\n\t[COMPONENT_RENDERED]: componentRendered,\n\t[BLOCK_FETCH_SUCCEEDED]: handleKnowledgeBlocksFetchSucceeded,\n\t[PREVIEW_FETCH_STARTED]: fetchKnowledgePreviewEffect,\n\t[PREVIEW_FETCH_SUCCEEDED]: handleKnowledgePreviewFetchSucceeded,\n\t[NOW_MODAL_FOOTER_ACTION_CLICKED]: handleImpersonateBlocks,\n\t[NOW_MODAL_OPENED_SET]: handleImpersonateBlocks,\n\t[NOW_RECORD_DATE_PICKER_VALUE_CHANGED]: handleModalValueChange,\n\t[NOW_RECORD_FIELD_LOOKUP_VALUE_CHANGED]: handleModalValueChange,\n\t[SHOW_BLOCKS_MODAL]: handleShowBlocksModal\n};\n","const knowledge_blocks_data_read = `query($articleSysId: String!, $userId: String!, $blocks: String!, $template: String!){\n  AppKnowledgeBlocks_Query {\n    getKBBlocksFromArticleForUser(articleSysId: $articleSysId, userId: $userId,\n      blocks: $blocks, template: $template)\n  }\n}`;\n\nexport default knowledge_blocks_data_read;\n","const knowledge_preview_data_read = `query($articleNumber: String!, $userId: String!, $viewOnDate: String){\n\tAppKnowledgeBlocks_Query {\n\t\tgetArticleContentForUser(articleNumber: $articleNumber, userId: $userId,\n\t\t\tviewOnDate: $viewOnDate)\n\t}\n}`;\n\nexport default knowledge_preview_data_read;\n","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./kbContent.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-community-blog-detail),:host(sn-community-qa-detail),:host(sn-knowledge-detail),:host(sn-knowledge-socialqa-detail){display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-agent-assist{flex:1 1 auto;height:100%;position:relative}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;padding:0 1.5rem;overflow:auto}.sn-card,.sn-panel{position:relative;width:100%}.sn-card{border:1px solid;border-color:rgb(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem}.sn-card.-no-border{border:none}.sn-card.-no-border .sn-card-row .context-card{width:100%}.sn-card.-response{background:RGB(var(--now-color--neutral-1,246,247,247));border:none;padding:.75rem}.sn-card.-comment{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-nested{border-width:1px 0 0;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));margin-top:.75rem;padding-left:0}.sn-card.-accepted{background-color:RGB(var(--now-color--primary-0,221,237,233),.45);border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-accepted .sn-card-header{border:none}.sn-card.-accepted .sn-card-row{margin-bottom:0}.sn-card.-solved{background:RGBA(var(--now-color--secondary-1,1,119,142),.1)}.sn-card.-solved .sn-card-header{border:none;color:RGB(var(--now-color--primary-0,221,237,233));margin:0}.sn-card.-solved .sn-card-header .sn-card-row{align-items:center;margin:0}.sn-card.-solved .sn-card-header .sn-card-row>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root:not([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root[dir=rtl] .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-left:.25rem}.sn-card-header{border-left-color:RGB(var(--now-color--neutral-7,135,147,148));border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--neutral-7,135,147,148));border-right-color:RGB(var(--now-color--neutral-7,135,147,148));border-top-color:RGB(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.75rem;position:relative}.sn-card-header+.sn-card-body{margin-top:0}.sn-card-row{display:flex;flex:0 0 auto;position:relative;width:100%}.sn-card-header .sn-card-row:last-of-type{margin-bottom:.75rem}.sn-card-row.has-avatar{margin-top:.5rem}.-response .sn-card-row.has-avatar{margin-top:.75rem}.sn-card-row.has-avatar:first-child{margin-top:0}.sn-card-row.-title{color:RGB(var(--now-color--neutral-12,66,80,81));flex:0 0 auto;font-size:1rem;font-weight:600;margin-top:.25rem}.sn-card-row.-body{flex-direction:column}.sn-card-row>.sn-card-body{margin-top:0}.sn-card-row>now-text-link{margin:.25rem 0 .75rem}.sn-card-content{align-items:center;display:flex;flex:1 1 auto;position:relative;overflow:hidden}.sn-card-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card-content>now-avatar,:root:not([dir=rtl]) .sn-card-content>now-avatar{margin-right:.5rem}:host([dir=rtl]) .sn-card-content>now-avatar,:root[dir=rtl] .sn-card-content>now-avatar{margin-left:.5rem}.sn-card-body{color:RGB(var(--now-color--neutral-18,22,27,28));flex:0 0 auto;font-size:1rem;margin-top:.75rem;width:100%}.sn-card-body p,.sn-card-body ul{margin-bottom:.5rem;margin-top:0}.sn-card-body p:last-child,.sn-card-body ul:last-child{margin-bottom:0}.sn-card-body img{height:auto;max-width:100%}.sn-card-footer{flex:0 0 auto;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin:1rem 0}.sn-card-list{flex:1 1 auto;width:100%}.sn-card-list .sn-card{margin-bottom:.75rem}.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-card .sn-card-row .context-card{width:100%}.sn-attachment{border-radius:.125rem;border:1px solid rgb(var(--now-color--neutral-5,172,180,181));cursor:pointer;display:inline-flex;padding:1rem;max-width:100%}.sn-attachment.is-focus,.sn-attachment.is-hover,.sn-attachment:focus,.sn-attachment:hover{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-attachment.is-focus .sn-attachment-content,.sn-attachment.is-focus .sn-attachment-content-title,.sn-attachment:focus .sn-attachment-content,.sn-attachment:focus .sn-attachment-content-title{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-attachment-container{display:flex;max-width:100%}.sn-attachment-content{color:RGB(var(--now-color--neutral-9,99,114,116));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-right:.5rem}.sn-attachment-content:last-of-type{padding-right:0}.sn-attachment-content.-static{flex:0 0 auto;overflow:visible}.sn-attachment-content.-static>now-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachment-content-title,.sn-attachment-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachment-content-title{color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;margin-bottom:.5rem}.sn-attachment-list{flex:1 1 auto;list-style:none;margin:.75rem 0 0;padding:0;width:100%}.sn-attachment-list .sn-attachment{margin-right:.5rem;margin-bottom:.5rem}.sn-meta-list{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));list-style:none;margin:0;padding:0;position:relative;overflow:hidden}.sn-meta-list-item{align-items:center;display:flex;margin-bottom:.125rem;padding:0;position:relative}.sn-meta-list-item:last-of-type{margin-bottom:0}.sn-meta-list-item.-bold{font-weight:600}.sn-meta-list-item>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-meta-list-item>now-icon,:root:not([dir=rtl]) .sn-meta-list-item>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-meta-list-item>now-icon,:root[dir=rtl] .sn-meta-list-item>now-icon{margin-left:.25rem}.sn-meta-list-item>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-show-more-btn{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;display:inline-flex;font-family:inherit;font-size:1rem;justify-content:center;margin:.75rem 0 0;padding:0;vertical-align:middle;white-space:nowrap;width:auto;font-size:.75rem}.sn-show-more-btn:hover{color:RGB(var(--now-color--secondary-2,1,89,107))}.sn-show-more-btn:active{color:RGB(var(--now-color--secondary-3,1,60,71))}:host(:not([dir=rtl])) .sn-show-more-btn now-icon,:root:not([dir=rtl]) .sn-show-more-btn now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-show-more-btn now-icon,:root[dir=rtl] .sn-show-more-btn now-icon{margin-right:.25rem}.sn-comment-header{display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--primary-1,30,133,109));margin-bottom:.75rem}.sn-comment-header now-icon{margin-right:.25rem}.sn-card-body{overflow:auto}.collapsible-label-container{cursor:pointer}.collapsible-label-container h2{border-bottom:.0625rem solid rgb(var(--now-color--neutral-4,191,197,198))}.collapsible-label-container now-icon{margin-top:.5rem;float:right;margin-right:.1875rem}.label{margin:0;padding:1.5rem 0 .5rem}.rotate{transition:all .25s linear}.rotate.down{transform:rotate(180deg)}.block-selected{background-color:RGBA(var(--now-color--alert-info-0,195,221,240));border:1px solid;border-color:rgb(var(--now-color--alert-info-1,104,171,218));padding:12px}.block-detail{padding-top:10px;padding-bottom:10px;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116))}.block-detail span{padding-right:10px}.kb-controls{display:flex;margin-right:10px;border-right:1px solid rgb(var(--now-color--neutral-3,209,214,214))}.kb-control-item{display:flex;padding:0 10px 0 0}.kb-block-display{padding-bottom:10px}.kb-no-access-header{font-weight:700;padding-top:20px;padding-bottom:20px}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$servicenow_now_record_field_lookup_connected;","module.exports = __TECTONIC__$servicenow_now_record_date_picker;","module.exports = __TECTONIC__moment_2_24_0;","import {\n\tLOAD_KNOWLEDGE,\n\tLOAD_KNOWLEDGE_SUCCEEDED,\n\tLOAD_KNOWLEDGE_FAILED,\n\tUPDATE_HELPFUL,\n\tUPDATE_HELPFUL_SUCCEEDED,\n\tUPDATE_HELPFUL_FAILED,\n\tFIELD_COLLAPSED,\n\tTEXT_LINK_CLICKED,\n\tBUTTON_CLICKED,\n\tDROPDOWN_CLICKED,\n\tFLAG_MODAL_RESET,\n\tFEEDBACK_MODAL_RESET,\n\tSHOW_MESSAGE,\n\tUPDATE_FEEDBACK_RATING,\n\tMESSAGES,\n\tPREVIEW_RECORD,\n\tUPDATE_HELPFUL_COUNT,\n\tSELECT_BLOCKS,\n\tIMPERSONATE_BLOCKS,\n\tARTICLE_VIEW_ACCESS,\n\tVERSION_CHANGE\n} from './constants';\nimport {t} from 'sn-translate';\nimport { get } from 'lodash'\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { createUpdateStateEffect } from '@servicenow/ui-effect-update-state';\nimport { knowledge_read,article_metadata } from './queries/knowledge.read';\nimport { update_helpful } from './queries/feedback.update';\nimport { processArticleAction, performVersionCheck } from './utils/actionUtil'\n\nconst fetchKnowledgeEffect = createGraphQLEffect(knowledge_read, {\n\tsuccessActionType: LOAD_KNOWLEDGE_SUCCEEDED,\n\terrorActionType: LOAD_KNOWLEDGE_FAILED,\n\tvariableList: ['sys_id', 'ts_query_kb_id', 'top_click_rank']\n});\n\nconst updateHelpfulEffect = createGraphQLEffect(update_helpful, {\n\tsuccessActionType: UPDATE_HELPFUL_SUCCEEDED,\n\terrorActionType: UPDATE_HELPFUL_FAILED,\n\tvariableList: ['articleId', 'helpful']\n});\n\nexport const actions = {\n\t[LOAD_KNOWLEDGE]: {\n\t\tprivate: true\n\t},\n\t[UPDATE_HELPFUL]: {\n\t\tprivate: true\n\t}\n};\n\nexport const actionHandlers = {\n\t[LOAD_KNOWLEDGE]: fetchKnowledgeEffect,\n\t[LOAD_KNOWLEDGE_SUCCEEDED]: {\n\t\teffect: (coeffects) => {\n\t\t\tlet result = coeffects.action.payload.data;\n\t\t\tcoeffects.updateState({\n\t\t\t\tkbArticle: result,\n\t\t\t\thelpfulData: {\n\t\t\t\t\ttotalUsefulCount: result.AppKnowledge_Query.getArticleDetails.totalUsefulCount,\n\t\t\t\t\tusefulYesCount: result.AppKnowledge_Query.getArticleDetails.usefulYesCount\n\t\t\t\t}\n\t\t\t})\n\t\t\tperformVersionCheck(coeffects);\n\t\t\tconst sys_id = result.AppKnowledge_Query.getArticleDetails.articleSysId;\n\t\t\tconst {infoMessage, errorMessage} = result.AppKnowledge_Query.getArticleDetails;\n\t\t\tif(result.AppKnowledge_Query.getArticleDetails.articleInfo.isExpired){\n\t\t\t\tcoeffects.dispatch(SHOW_MESSAGE, {\n\t\t\t\t\taction: {\n\t\t\t\t\t\ttype: \"dismiss\"\n\t\t\t\t\t},\n\t\t\t\t\tstatus: \"info\",\n\t\t\t\t\tcontent: {\n\t\t\t\t\t\ttype: 'jsx',\n\t\t\t\t\t\tvalue: <div>{t('Article expired. Update its ')}<i>{t('Valid to')}</i>{t(' date to make it available to users.')}</div>\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tif(infoMessage){\n\t\t\t\tcoeffects.dispatch(SHOW_MESSAGE, {\n\t\t\t\t\taction: {\n\t\t\t\t\t\ttype: \"dismiss\"\n\t\t\t\t\t},\n\t\t\t\t\tstatus: \"info\",\n\t\t\t\t\tcontent: infoMessage\n\t\t\t\t});\n\t\t\t}\n\t\t\tif(errorMessage) {\n\t\t\t\tcoeffects.dispatch(SHOW_MESSAGE, {\n\t\t\t\t\taction: {\n\t\t\t\t\t\ttype: \"dismiss\"\n\t\t\t\t\t},\n\t\t\t\t\tstatus: \"critical\",\n\t\t\t\t\tcontent: errorMessage\n\t\t\t\t});\n\t\t\t}\n\t\t\tif(!sys_id) return;\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[LOAD_KNOWLEDGE_FAILED]: {\n\t\teffect:({updateState})=>{\n\t\t\tupdateState({\n\n\t\t\t})\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[BUTTON_CLICKED]: {\n\t\teffect: (coeffects) => processArticleAction(coeffects),\n\t\tstopPropagation: true\n\t},\n\t[DROPDOWN_CLICKED]: {\n\t\teffect: (coeffects) => processArticleAction(coeffects),\n\t\tstopPropagation: true\n\t},\n\t[TEXT_LINK_CLICKED]: {\n\t\teffect: ({ dispatch, action }) => {\n\t\t\tconst {\n\t\t\t\tpayload: { table, sys_id }\n\t\t\t} = action;\n\t\t\tdispatch(PREVIEW_RECORD, { 'table': table, 'sys_id': sys_id, params: { mode: 'view' } });\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[FIELD_COLLAPSED]: createUpdateStateEffect((state, action) => {\n\t\tstate.kbArticle.AppKnowledge_Query.getArticleDetails.templateFieldData.forEach(function (item) {\n\t\t\tif (item.column == action.payload.column) {\n\t\t\t\titem.collapsed = !item.collapsed;\n\t\t\t}\n\t\t});\n\t\treturn { ...state };\n\t}),\n\t[FLAG_MODAL_RESET]: {\n\t\teffect: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\topenFlagModal: false\n\t\t\t})\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[FEEDBACK_MODAL_RESET]: {\n\t\teffect: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\topenFeedbackModal: false\n\t\t\t})\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[UPDATE_FEEDBACK_RATING]: {\n\t\teffect: ({ state, action, updateState }) => {\n\t\t\tlet rating = action.payload.rating;\n\t\t\tupdateState({\n\t\t\t\trating: rating + '',\n                helpful: '',\n\t\t\t\topenFeedbackModal: true\n\t\t\t});\n\t\t}\n\t},\n\t[UPDATE_HELPFUL]: updateHelpfulEffect,\n\t[UPDATE_HELPFUL_SUCCEEDED]: {\n\t\teffect: ({ dispatch, action }) => {\n\t\t\tif (get(action,\"payload.data.GlideRecord_Mutation.insert_kb_feedback\",\"\")) {\n\t\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\t\tstatus: \"info\",\n\t\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\t\tcontent: MESSAGES.THANK_YOU,\n\t\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t\t});\n\t\t\t\tlet isHelpful = get(action, \"meta.options.variables.helpful\", \"yes\") == \"yes\" ? true : false;\n\t\t\t\tdispatch(UPDATE_HELPFUL_COUNT, { isHelpful })\n\t\t\t}\n\t\t\telse\n\t\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\t\tstatus: \"critical\",\n\t\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\t\tcontent: MESSAGES.LIMIT_REACHED_MESSAGE,\n\t\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[UPDATE_HELPFUL_FAILED]: {\n\t\teffect: ({ dispatch }) => {\n\t\t\tdispatch(SHOW_MESSAGE, {\n\t\t\t\tstatus: \"critical\",\n\t\t\t\ticonName: \"circle-info-outline\",\n\t\t\t\tcontent: MESSAGES.LIMIT_REACHED_MESSAGE,\n\t\t\t\taction: { type: \"dismiss\" }\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[UPDATE_HELPFUL_COUNT]: {\n\t\teffect({ action, updateState, state: { helpfulData} }) {\n\t\t\tlet usefulYesCount = get(action, \"payload.isHelpful\", true) ? helpfulData.usefulYesCount + 1 : helpfulData.usefulYesCount\n\t\t\tupdateState({\n\t\t\t\thelpfulData: {\n\t\t\t\t\tusefulYesCount,\n\t\t\t\t\ttotalUsefulCount: helpfulData.totalUsefulCount + 1\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[SELECT_BLOCKS]: {\n\t\teffect({ state, updateState }) {\n\t\t\tupdateState({blocksSelected: !state.blocksSelected})\n\t\t}\n\t},\n\t[IMPERSONATE_BLOCKS]: {\n\t\teffect({ state, updateState }) {\n\t\t\tupdateState({blocksImpersonated: !state.blocksImpersonated})\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[ARTICLE_VIEW_ACCESS]: {\n\t\teffect({ action, updateState }) {\n\t\t\tconst hasViewAccess = action.payload.hasViewAccess;\n\t\t\tupdateState({hasViewAccess: hasViewAccess});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[VERSION_CHANGE]: {\n\t\teffect({ action, updateState }) {\n\t\t\tconst selectedSysId = action.payload.selectedSysId;\n\t\t\tupdateState({selectedSysId: selectedSysId});\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n","export const knowledge_read = `query ($sys_id: String!, $ts_query_kb_id: String, $top_click_rank: String) {\n  AppKnowledge_Query {\n    getArticleDetails(articleID: $sys_id, searchId: $ts_query_kb_id, topClickRank: $top_click_rank) {\n      articleHTML\n      isEditable\n      articleSysId\n      infoMessage\n      errorMessage\n      templateFieldData {\n        column\n        content\n        fieldStyle\n        headingStyle\n        label\n        type\n        collapsed\n        collapsible\n      }\n      versionDetails {\n      \tisInstalled\n        isEnabled\n        history {\n          sysClassName\n          sysId\n          versionLabel\n          versionNumber\n          versionText\n        }\n        showHistory\n        versionDisplay\n        versionDisplayLabel\n        newVersionAvailable\n        warningMessage\n      }\n      languageDetails {\n        label\n        sysId\n        language\n        selected\n      }\n      kbDocSysId\n      showFeedbackOptions\n      showStarRating\n      showYNRating\n      showFlag\n      showFeedbackComments\n      enableActionableFeedbackForRating\n      enableActionableFeedbackForHelpful\n      enableActionableFeedbackForFlag\n      isKBAdmin\n      isKBOwner\n      commentsThreshold\n      hasComments\n      docviewerEnabled\n      articleInfo {\n\t\t\t\tauthor\n\t\t\t\tdisplayAttachments\n\t\t\t\tkbCategory\n\t\t\t\tworkflowState\n\t\t\t\tkbKnowledgeBase\n\t\t\t\tnumber\n\t\t\t\tshortDescription\n\t\t\t\tsysId\n\t\t\t\tsysUpdatedOn\n\t\t\t\tsysViewCount\n\t\t\t\trating\n\t\t\t\trevisedBy\n        baseVersion\n        isExpired\n      }\n      totalUsefulCount\n      usefulYesCount\n    }\n  }\n\n  GlideDomain_Query {\n    user {\n      sys_id\n      language\n      avatar\n      fullName\n    }\n  }\n}`;\n","export const update_helpful = `mutation ($articleId: String, $helpful: String) {\n    GlideRecord_Mutation {\n      insert_kb_feedback(article: $articleId, useful: $helpful) {\n        sys_id {\n          value\n        }\n      }\n    }\n  }`;\n  \n    ","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport style from './communityQADetail.scss';\nimport '../communityQAComment';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport {actionHandlers} from './actionHandlers';\nimport {\n\tLOAD_COMMUNITYQA,\n\tLOAD_COMMUNITYQA_ANSWER\n} from './actions';\nimport view from './view';\nimport { timeAgoBehaviors } from \"../../_shared/behaviors\";\n\ncreateCustomElement('sn-community-qa-detail', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tbehaviors: [...timeAgoBehaviors],\n\tinitialState: {\n\n\t},\n\tproperties: {\n\t\ttable: '',\n\t\tsysId: '',\n\t\tframeless: true\n\t},\n\tactionHandlers,\n\tonConnect(host, dispatch) {\n\t\tconst {table} = host;\n\t\tif (table === 'community_answer' || table === 'community_question' || table === 'kb_social_qa_question' || table === 'kb_social_qa_answer'){\n\t\t\tdispatch(LOAD_COMMUNITYQA, {id:host.sysId, content_type:'5a2fcaa0dbd26600b1f6f78eaf9619a8'});\n\t\t\tdispatch(LOAD_COMMUNITYQA_ANSWER, {id:host.sysId, content_type:'5a2fcaa0dbd26600b1f6f78eaf9619a8', depth: 1});\n\t\t}\n\t},\n\tonDisconnect(host) {\n\t\tif (host.articleContent) {\n\t\t\tvar aTags = host.articleContent.querySelectorAll('a');\n\t\t\taTags.forEach(function (item) {\n\t\t\t\titem.removeEventListener('click', function(e) {\n\t\t\t\t\tvar redirectURL = e.currentTarget || e.target || e.srcElement;\n\t\t\t\t\twindow.open(redirectURL, '_blank');\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\tstyles: style\n});\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host(sn-community-blog-detail),:host(sn-community-qa-detail),:host(sn-knowledge-detail),:host(sn-knowledge-socialqa-detail){display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-agent-assist{flex:1 1 auto;height:100%;position:relative}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;padding:0 1.5rem;overflow:auto}.sn-card,.sn-panel{position:relative;width:100%}.sn-card{border:1px solid;border-color:rgb(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem}.sn-card.-no-border{border:none}.sn-card.-no-border .sn-card-row .context-card{width:100%}.sn-card.-response{background:RGB(var(--now-color--neutral-1,246,247,247));border:none;padding:.75rem}.sn-card.-comment{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-nested{border-width:1px 0 0;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));margin-top:.75rem;padding-left:0}.sn-card.-accepted{background-color:RGB(var(--now-color--primary-0,221,237,233),.45);border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-accepted .sn-card-header{border:none}.sn-card.-accepted .sn-card-row{margin-bottom:0}.sn-card.-solved{background:RGBA(var(--now-color--secondary-1,1,119,142),.1)}.sn-card.-solved .sn-card-header{border:none;color:RGB(var(--now-color--primary-0,221,237,233));margin:0}.sn-card.-solved .sn-card-header .sn-card-row{align-items:center;margin:0}.sn-card.-solved .sn-card-header .sn-card-row>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root:not([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root[dir=rtl] .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-left:.25rem}.sn-card-header{border-left-color:RGB(var(--now-color--neutral-7,135,147,148));border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--neutral-7,135,147,148));border-right-color:RGB(var(--now-color--neutral-7,135,147,148));border-top-color:RGB(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.75rem;position:relative}.sn-card-header+.sn-card-body{margin-top:0}.sn-card-row{display:flex;flex:0 0 auto;position:relative;width:100%}.sn-card-header .sn-card-row:last-of-type{margin-bottom:.75rem}.sn-card-row.has-avatar{margin-top:.5rem}.-response .sn-card-row.has-avatar{margin-top:.75rem}.sn-card-row.has-avatar:first-child{margin-top:0}.sn-card-row.-title{color:RGB(var(--now-color--neutral-12,66,80,81));flex:0 0 auto;font-size:1rem;font-weight:600;margin-top:.25rem}.sn-card-row.-body{flex-direction:column}.sn-card-row>.sn-card-body{margin-top:0}.sn-card-row>now-text-link{margin:.25rem 0 .75rem}.sn-card-content{align-items:center;display:flex;flex:1 1 auto;position:relative;overflow:hidden}.sn-card-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card-content>now-avatar,:root:not([dir=rtl]) .sn-card-content>now-avatar{margin-right:.5rem}:host([dir=rtl]) .sn-card-content>now-avatar,:root[dir=rtl] .sn-card-content>now-avatar{margin-left:.5rem}.sn-card-body{color:RGB(var(--now-color--neutral-18,22,27,28));flex:0 0 auto;font-size:1rem;margin-top:.75rem;width:100%}.sn-card-body p,.sn-card-body ul{margin-bottom:.5rem;margin-top:0}.sn-card-body p:last-child,.sn-card-body ul:last-child{margin-bottom:0}.sn-card-body img{height:auto;max-width:100%}.sn-card-footer{flex:0 0 auto;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin:1rem 0}.sn-card-list{flex:1 1 auto;width:100%}.sn-card-list .sn-card{margin-bottom:.75rem}.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-card .sn-card-row .context-card{width:100%}.sn-attachment{border-radius:.125rem;border:1px solid rgb(var(--now-color--neutral-5,172,180,181));cursor:pointer;display:inline-flex;padding:1rem;max-width:100%}.sn-attachment.is-focus,.sn-attachment.is-hover,.sn-attachment:focus,.sn-attachment:hover{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-attachment.is-focus .sn-attachment-content,.sn-attachment.is-focus .sn-attachment-content-title,.sn-attachment:focus .sn-attachment-content,.sn-attachment:focus .sn-attachment-content-title{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-attachment-container{display:flex;max-width:100%}.sn-attachment-content{color:RGB(var(--now-color--neutral-9,99,114,116));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-right:.5rem}.sn-attachment-content:last-of-type{padding-right:0}.sn-attachment-content.-static{flex:0 0 auto;overflow:visible}.sn-attachment-content.-static>now-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachment-content-title,.sn-attachment-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachment-content-title{color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;margin-bottom:.5rem}.sn-attachment-list{flex:1 1 auto;list-style:none;margin:.75rem 0 0;padding:0;width:100%}.sn-attachment-list .sn-attachment{margin-right:.5rem;margin-bottom:.5rem}.sn-meta-list{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));list-style:none;margin:0;padding:0;position:relative;overflow:hidden}.sn-meta-list-item{align-items:center;display:flex;margin-bottom:.125rem;padding:0;position:relative}.sn-meta-list-item:last-of-type{margin-bottom:0}.sn-meta-list-item.-bold{font-weight:600}.sn-meta-list-item>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-meta-list-item>now-icon,:root:not([dir=rtl]) .sn-meta-list-item>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-meta-list-item>now-icon,:root[dir=rtl] .sn-meta-list-item>now-icon{margin-left:.25rem}.sn-meta-list-item>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-show-more-btn{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;display:inline-flex;font-family:inherit;font-size:1rem;justify-content:center;margin:.75rem 0 0;padding:0;vertical-align:middle;white-space:nowrap;width:auto;font-size:.75rem}.sn-show-more-btn:hover{color:RGB(var(--now-color--secondary-2,1,89,107))}.sn-show-more-btn:active{color:RGB(var(--now-color--secondary-3,1,60,71))}:host(:not([dir=rtl])) .sn-show-more-btn now-icon,:root:not([dir=rtl]) .sn-show-more-btn now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-show-more-btn now-icon,:root[dir=rtl] .sn-show-more-btn now-icon{margin-right:.25rem}.sn-comment-header{display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--primary-1,30,133,109));margin-bottom:.75rem}.sn-comment-header now-icon{margin-right:.25rem}.sn-card-body{overflow:auto}:host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from '../communityQADetail/communityQADetail.scss';\nimport {actionHandlers} from './actionHandlers';\nimport view from './view';\n\ncreateCustomElement('sn-community-qa-comment', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\n\t},\n\tactionHandlers,\n\tproperties: {\n\t\tkey: '',\n\t\tcomment: '',\n\t\tacceptedid: '',\n\t\tsysid: '',\n\t\tdisablenest: '',\n\t\tnested: false,\n\t\tlastelem: false,\n\t\tshowReplies: false,\n\t\tbehaviors: {default:\"\"}\n\t},\n\tstyles: styles\n});\n","import {\n\tLOAD_REPLIES_FAILED,\n\tLOAD_REPLIES_SUCCEEDED,\n\tLOAD_COMMENT,\n\tSTATE_SET} from './actions';\nimport {createHttpEffect} from '@servicenow/ui-effect-http';\n\nexport const actionHandlers = {\n\t[LOAD_COMMENT] : {\n\t\tstopPropagation: true,\n\t\teffect: ({state, updateState}) => {\n\t\t\tupdateState({\n\t\t\t\t...state\n\t\t\t});\n\t\t}\t\n\t},\n\tLOAD_REPLIES:  createHttpEffect(\n\t\t'/api/sn_communities/v1/community/contents/:id/answers',\n\t\t{\n\t\t\tsuccessActionType: LOAD_REPLIES_SUCCEEDED,\n\t\t\terrorActionType: LOAD_REPLIES_FAILED,\n\t\t\tpathParams: ['id'],\n\t\t\tqueryParams: ['content_type', 'depth']\n\t\t}\n\t),\n\t[LOAD_REPLIES_SUCCEEDED]: {\n\t\tstopPropagation: true,\n\t\teffect: (action, updateState) => {\n\t\t\tupdateState({\n\t\t\t\tcommunityAnswers: action.payload.result\n\t\t\t})\n\t\t}\n\t},\n\t[LOAD_REPLIES_FAILED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({state, updateState}) => {\n\t\t\tupdateState({\n\t\t\t\t...state\n\t\t\t});\n\t\t}\t\n\t},\n\t[STATE_SET]: {\n\t\tstopPropagation: true,\n\t\teffect: (state, action, updateState) => {\n\t\t\tstate.properties.showReplies = action.payload.showReplies;\n\t\t\tupdateState({\n\t\t\t\t...state\n\t\t\t})\n\t\t}\n\t}\n};\n","import {createElement, Fragment} from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport '../timeAgo';\nimport get from 'lodash/get';\nimport {\n\tLOAD_REPLIES,\n\tSTATE_SET\n} from './actions';\n\nfunction toggleReplies(state, dispatch) {\n\tif (!state.properties.showReplies) {\n\t\tdispatch(LOAD_REPLIES, {id: state.properties.sysid, content_type: '8f0a215c6707220071b89a6617415aa7', depth: 1}, {stopPropagation: true});\n\t}\n\tdispatch(STATE_SET,{showReplies: !state.properties.showReplies}, {stopPropagation: true});\n}\n\nfunction getParentDivClass(nested) {\n\treturn nested ? 'sn-card -comment' : 'sn-card -accepted';\n}\n\nfunction getNestedClass(nested) {\n\treturn nested? '-nested' : '';\n}\n\nfunction getReplies(state) {\n\tconst results = get(state, 'communityAnswers', null);\n\treturn (results && results.length) ? results : [];\n}\n\nfunction getToggleBarContent(comment_count, name, state) {\n\treturn state.properties.showReplies ? t('Hide replies to') + ' ' + name : t('Show') + ' ' + comment_count + ' ' + t('replies to') + ' ' + name;\n}\n\nfunction getIconType(state) {\n\treturn state.properties.showReplies == true ? 'chevron-up-fill' : 'chevron-down-fill';\n}\n\nfunction getSpanClass(state) {\n\treturn state.properties.showReplies == true ? 'chevron-up-outline' : 'chevron-down-outline';\n}\n\nconst view = (state, {dispatch}) => {\n\tif (!state || !state.properties || !state.properties.comment) {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div>{t('Loading...')}</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\tlet {nested, lastelem, acceptedid, sysid, disablenest} = state.properties;\n\tlet comment = state.properties.comment;\n\tlet replies = getReplies(state);\n\tconst content = (\n\t\t<div>\n\t\t\t<div className=\"sn-card-row has-avatar\">\n\t\t\t\t<div className=\"sn-card-content -static\">\n\t\t\t\t\t<now-avatar\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\timage-src={'/' + comment.userAvatarObject.userImage}\n\t\t\t\t\t\tuser-name={comment.userAvatarObject.name} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-card-content\">\n\t\t\t\t\t<ul className=\"sn-meta-list\">\n\t\t\t\t\t\t<li className=\"sn-meta-list-item -bold\"><span>{comment.userAvatarObject.name}</span></li>\n\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><span>{comment.user_details.levelName}</span></li>\n\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><span><sn-timeago time-stamp={comment.edited_date} behaviors={state.properties.behaviors} system-time={true}/> · {comment.helpful_count} {' ' + comment.helpful_count == 1 ? t('vote') : t('votes')} </span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"sn-card-body\">\n\t\t\t\t{createElement('div',{props: {innerHTML: comment.text}})}\n\t\t\t</div>\n\t\t\t{\n\t\t\t\t(!(acceptedid == sysid) && comment.comment_count > 0) || (!disablenest && comment.comment_count > 0) ?\n\t\t\t\t\t<div className=\"sn-card-row\"><a href=\"javascript:void(0)\" on-click={() => toggleReplies(state, dispatch)} className=\"sn-show-more-btn\"><span>{getToggleBarContent(comment.comment_count, comment.userAvatarObject.name, state)}</span><span className={getSpanClass(state)}><now-icon icon={getIconType(state)} size=\"md\"></now-icon></span></a></div>\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\t{\n\t\t\t\t!replies || replies.length <= 0 || state.properties.showReplies == false ? '' :\n\t\t\t\t\t<div className=\"sn-card-list\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treplies.map((item, index) => {\n\t\t\t\t\t\t\t\tif(index == replies.length - 1)\n\t\t\t\t\t\t\t\t\treturn (<sn-community-qa-comment key={item.sys_id} comment={item} acceptedid={acceptedid} sysid={item.sys_id} nested={true} lastelem={true} behaviors={state.properties.behaviors}/>);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\treturn (<sn-community-qa-comment key={item.sys_id} comment={item} acceptedid={acceptedid} sysid={item.sys_id} nested={true} behaviors={state.properties.behaviors}/>);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t}\n\t\t\t{!lastelem && nested ? <div className=\"sn-card-separator\"></div> : ''}\n\t\t</div>\n\t);\n\treturn (acceptedid == sysid) ? (\n\t\t<div className={getParentDivClass(nested) + ' ' + getNestedClass(nested)}>\n\t\t\t<div className=\"sn-comment-header\">\n\t\t\t\t<div className=\"sn-card-row\">\n\t\t\t\t\t<now-icon icon=\"circle-check-fill\" size=\"md\"></now-icon>\n\t\t\t\t\t<span>Accepted Solution</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{content}\n\t\t</div>\n\t) : (\n\t\t<div className={'sn-card -comment ' + getNestedClass(nested)}>\n\t\t\t{content}\n\t\t</div>\n\t);\n};\nexport default view;\n","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","import {\n\tLOAD_COMMUNITYQA,\n\tLOAD_COMMUNITYQA_ANSWER,\n\tLOAD_COMMUNITYQA_SUCCEEDED,\n\tLOAD_COMMUNITYQA_FAILED,\n\tLOAD_COMMUNITYQA_ANSWER_SUCCEEDED,\n\tLOAD_COMMUNITYQA_ANSWER_FAILED,\n\tSET_STATE\n} from './actions';\nimport {createHttpEffect} from '@servicenow/ui-effect-http';\n\nexport const actionHandlers = {\n\t[LOAD_COMMUNITYQA]: createHttpEffect(\n\t\t'/api/sn_communities/v1/community/contents/:id', \n\t\t{\n\t\t\tsuccessActionType: LOAD_COMMUNITYQA_SUCCEEDED,\n\t\t\terrorActionType: LOAD_COMMUNITYQA_FAILED,\n\t\t\tpathParams: ['id'],\n\t\t\tqueryParams: ['content_type']\n\t\t}\n\t), \n\t[LOAD_COMMUNITYQA_ANSWER]: createHttpEffect(\n\t\t'/api/sn_communities/v1/community/contents/:id/answers', \n\t\t{\n\t\t\tsuccessActionType: LOAD_COMMUNITYQA_ANSWER_SUCCEEDED,\n\t\t\terrorActionType: LOAD_COMMUNITYQA_ANSWER_FAILED,\n\t\t\tpathParams: ['id'],\n\t\t\tqueryParams: ['content_type', 'depth']\n\t\t}\n\t),\n\t[LOAD_COMMUNITYQA_SUCCEEDED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({state, action, updateState}) => {\n\t\t\tupdateState({\n\t\t\t\t...state,\n\t\t\t\tcommunityQA: action.payload.result\n\t\t\t});\n\t\t}\n\t},\n\t[LOAD_COMMUNITYQA_FAILED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({state, updateState}) => {\n\t\t\tupdateState( {...state});\n\t\t}\n\t},\n\t[LOAD_COMMUNITYQA_ANSWER_SUCCEEDED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({action, updateState}) => {\n\t\t\tupdateState( {\n\t\t\t\tcommunityQAAnswer: action.payload.result\n\t\t\t});\n\t\t}\n\t},\n\t[LOAD_COMMUNITYQA_ANSWER_FAILED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({state, updateState}) => {\n\t\t\tupdateState( {...state});\n\t\t}\n\t}, \n\t[SET_STATE]: {\n\t\tstopPropagation: true,\n\t\teffect: ({action, updateState}) => {\n\t\t\tupdateState( {\n\t\t\t\tarticleContent: action.payload.articleContent\n\t\t\t});\n\t\t}\n\t}\n};","import {Fragment, createElement} from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport '../communityQAComment';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport '../timeAgo'\nimport {\n\tSET_STATE\n} from './actions';\n\nconst view = (state, {dispatch}) => {\n\tif (!state || !state.communityQA || !state.communityQAAnswer) {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div>{t('loading...')}</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n\tconst articleResult = state.communityQA.data[0];\n\tconst answerResult = state.communityQAAnswer;\n\tif (!articleResult) {\n\t\treturn null;\n\t}\n\telse if (articleResult){\n\t\tlet lastAnswer = articleResult.latestReply && articleResult.latestReply.edited_date && articleResult.latestReply.edited_date.length > 0 ? articleResult.latestReply.edited_date : null;\n\t\tconst frameless = state.properties.frameless === 'true' || state.properties.frameless === true;\n\t\tlet noBorderClass = '-bottom-border';\n\t\tif(frameless)\n\t\t\tnoBorderClass = '-no-border';\n\n\t\tconst detailBody = (\n\t\t\t<div className={'sn-card ' + noBorderClass} tabIndex='0'>\n\t\t\t\t<header className=\"sn-card-header\">\n\t\t\t\t\t<div className=\"sn-card-row\"><span>{articleResult.forum.name} {articleResult.topics.length > 0 ? ' | ' + articleResult.topics[0].name : ''}</span></div>\n\t\t\t\t\t<div className=\"sn-card-row -title\"><span>{articleResult.title}</span></div>\n\t\t\t\t\t<div className=\"sn-card-row has-avatar\">\n\t\t\t\t\t\t<div className=\"sn-card-content -static\">\n\t\t\t\t\t\t\t<now-avatar\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\timage-src={'/' + articleResult.userAvatarObject.userImage}\n\t\t\t\t\t\t\t\tuser-name={articleResult.userAvatarObject.name} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sn-card-content\">\n\t\t\t\t\t\t\t<ul className=\"sn-meta-list\">\n\t\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><now-icon icon=\"user-outline\" size=\"sm\" ></now-icon><span>{t('Authored by') + ' ' + articleResult.userAvatarObject.name}</span></li>\n\t\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><now-icon icon=\"calendar-outline\" size=\"sm\" ></now-icon><span>{t('Asked') + ' '}<sn-timeago time-stamp={articleResult.published_date} behaviors={state.behaviors} system-time={true}/></span></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div className=\"sn-card-body\" ref = {(article_content) => {\n\t\t\t\t\tif (!state.articleContent) {\n\t\t\t\t\t\tdispatch(SET_STATE, {articleContent: article_content}, {stopPropagation: true});\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t\t{createElement('div',{props: {innerHTML: articleResult.description}})}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-card-footer\">\n\t\t\t\t\t<ul className=\"sn-meta-list\">\n\t\t\t\t\t\t<li className=\"sn-meta-list-item\">\n\t\t\t\t\t\t\t<span>{lastAnswer ? <span>{t('Answered') + ' '}<sn-timeago time-stamp={lastAnswer} behaviors={state.behaviors} system-time={true}/></span> : t('Not Answered')}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<span>{articleResult.view_count + ' ' + (articleResult.view_count == 1 ? t('view') : t('views'))} · {articleResult.upvote_count + ' ' + (articleResult.upvote_count == 1 ? t('vote') : t('votes'))} · {articleResult.comment_count + ' ' + (articleResult.comment_count == 1 ? t('reply') : t('replies'))}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-card-list\">\n\t\t\t\t\t{\n\t\t\t\t\t\t(articleResult.accepted_answer && articleResult.accepted_answer.sys_id) ?\n\t\t\t\t\t\t\t<sn-community-qa-comment key={articleResult.accepted_answer.sys_id} comment={articleResult.accepted_answer} acceptedid={articleResult.accepted_answer.sys_id} sysid={articleResult.accepted_answer.sys_id} disablenest={true} behaviors={state.behaviors}/>\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\n\t\t\t\t\t{\n\t\t\t\t\t\t(answerResult.length == 1 && articleResult.accepted_answer && articleResult.accepted_answer.sys_id) ? ''\n\n\t\t\t\t\t\t\t: answerResult.map((item) => {\n\t\t\t\t\t\t\t\treturn (<sn-community-qa-comment key={item.sys_id} comment={item} acceptedid={articleResult.accepted_answer.sys_id} sysid={item.sys_id} behaviors={state.behaviors}/>);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t\tif (state.articleContent) {\n\t\t\tvar aTags = state.articleContent.querySelectorAll('a');\n\t\t\taTags.forEach(function (item) {\n\t\t\t\titem.addEventListener('click', function(e) {\n\t\t\t\t\tvar redirectURL = e.currentTarget || e.target || e.srcElement;\n\t\t\t\t\twindow.open(redirectURL, '_blank');\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<div className='sn-agent-assist'>\n\t\t\t\t{ frameless ? (detailBody) : (\n\t\t\t\t\t<div className=\"sn-panel\">\n\t\t\t\t\t\t{detailBody}\n\t\t\t\t\t</div>)\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\treturn null;\n};\n\nexport default view;\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from './communityBlogDetail.scss';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport view from './view';\nimport {actions, actionHandlers} from './actionHandlers';\nimport { LOAD_COMMUNITYBLOG } from './actions';\nimport { timeAgoBehaviors } from \"../../_shared/behaviors\";\n\ncreateCustomElement('sn-community-blog-detail', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\n\t},\n\tbehaviors: [...timeAgoBehaviors],\n\tproperties: {\n\t\ttable: '',\n\t\tsysId: '',\n\t\tframeless: true\n\t},\n\tactions,\n\tactionHandlers,\n\tonConnect(host, dispatch){\n\t\tif (host.table === 'blog' || host.table === 'sn_communities_blog') {\n\t\t\tdispatch(LOAD_COMMUNITYBLOG, {id: host.sysId, content_type : 'cc3fcaa0dbd26600b1f6f78eaf96192e'});\n\t\t}\n\t},\n\tonDisconnect(host) {\n\t\tif (host.articleContent) {\n\t\t\tvar aTags = host.articleContent.querySelectorAll('a');\n\t\t\taTags.forEach(function (item) {\n\t\t\t\titem.removeEventListener('click', function(e) {\n\t\t\t\t\tvar redirectURL = e.currentTarget || e.target || e.srcElement;\n\t\t\t\t\twindow.open(redirectURL, '_blank');\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\tstyles: styles\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./communityBlogDetail.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-community-blog-detail),:host(sn-community-qa-detail),:host(sn-knowledge-detail),:host(sn-knowledge-socialqa-detail){display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-agent-assist{flex:1 1 auto;height:100%;position:relative}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;padding:0 1.5rem;overflow:auto}.sn-card,.sn-panel{position:relative;width:100%}.sn-card{border:1px solid;border-color:rgb(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem}.sn-card.-no-border{border:none}.sn-card.-no-border .sn-card-row .context-card{width:100%}.sn-card.-response{background:RGB(var(--now-color--neutral-1,246,247,247));border:none;padding:.75rem}.sn-card.-comment{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-nested{border-width:1px 0 0;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));margin-top:.75rem;padding-left:0}.sn-card.-accepted{background-color:RGB(var(--now-color--primary-0,221,237,233),.45);border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-accepted .sn-card-header{border:none}.sn-card.-accepted .sn-card-row{margin-bottom:0}.sn-card.-solved{background:RGBA(var(--now-color--secondary-1,1,119,142),.1)}.sn-card.-solved .sn-card-header{border:none;color:RGB(var(--now-color--primary-0,221,237,233));margin:0}.sn-card.-solved .sn-card-header .sn-card-row{align-items:center;margin:0}.sn-card.-solved .sn-card-header .sn-card-row>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root:not([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root[dir=rtl] .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-left:.25rem}.sn-card-header{border-left-color:RGB(var(--now-color--neutral-7,135,147,148));border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--neutral-7,135,147,148));border-right-color:RGB(var(--now-color--neutral-7,135,147,148));border-top-color:RGB(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.75rem;position:relative}.sn-card-header+.sn-card-body{margin-top:0}.sn-card-row{display:flex;flex:0 0 auto;position:relative;width:100%}.sn-card-header .sn-card-row:last-of-type{margin-bottom:.75rem}.sn-card-row.has-avatar{margin-top:.5rem}.-response .sn-card-row.has-avatar{margin-top:.75rem}.sn-card-row.has-avatar:first-child{margin-top:0}.sn-card-row.-title{color:RGB(var(--now-color--neutral-12,66,80,81));flex:0 0 auto;font-size:1rem;font-weight:600;margin-top:.25rem}.sn-card-row.-body{flex-direction:column}.sn-card-row>.sn-card-body{margin-top:0}.sn-card-row>now-text-link{margin:.25rem 0 .75rem}.sn-card-content{align-items:center;display:flex;flex:1 1 auto;position:relative;overflow:hidden}.sn-card-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card-content>now-avatar,:root:not([dir=rtl]) .sn-card-content>now-avatar{margin-right:.5rem}:host([dir=rtl]) .sn-card-content>now-avatar,:root[dir=rtl] .sn-card-content>now-avatar{margin-left:.5rem}.sn-card-body{color:RGB(var(--now-color--neutral-18,22,27,28));flex:0 0 auto;font-size:1rem;margin-top:.75rem;width:100%}.sn-card-body p,.sn-card-body ul{margin-bottom:.5rem;margin-top:0}.sn-card-body p:last-child,.sn-card-body ul:last-child{margin-bottom:0}.sn-card-body img{height:auto;max-width:100%}.sn-card-footer{flex:0 0 auto;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin:1rem 0}.sn-card-list{flex:1 1 auto;width:100%}.sn-card-list .sn-card{margin-bottom:.75rem}.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-card .sn-card-row .context-card{width:100%}.sn-attachment{border-radius:.125rem;border:1px solid rgb(var(--now-color--neutral-5,172,180,181));cursor:pointer;display:inline-flex;padding:1rem;max-width:100%}.sn-attachment.is-focus,.sn-attachment.is-hover,.sn-attachment:focus,.sn-attachment:hover{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-attachment.is-focus .sn-attachment-content,.sn-attachment.is-focus .sn-attachment-content-title,.sn-attachment:focus .sn-attachment-content,.sn-attachment:focus .sn-attachment-content-title{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-attachment-container{display:flex;max-width:100%}.sn-attachment-content{color:RGB(var(--now-color--neutral-9,99,114,116));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-right:.5rem}.sn-attachment-content:last-of-type{padding-right:0}.sn-attachment-content.-static{flex:0 0 auto;overflow:visible}.sn-attachment-content.-static>now-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachment-content-title,.sn-attachment-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachment-content-title{color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;margin-bottom:.5rem}.sn-attachment-list{flex:1 1 auto;list-style:none;margin:.75rem 0 0;padding:0;width:100%}.sn-attachment-list .sn-attachment{margin-right:.5rem;margin-bottom:.5rem}.sn-meta-list{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));list-style:none;margin:0;padding:0;position:relative;overflow:hidden}.sn-meta-list-item{align-items:center;display:flex;margin-bottom:.125rem;padding:0;position:relative}.sn-meta-list-item:last-of-type{margin-bottom:0}.sn-meta-list-item.-bold{font-weight:600}.sn-meta-list-item>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-meta-list-item>now-icon,:root:not([dir=rtl]) .sn-meta-list-item>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-meta-list-item>now-icon,:root[dir=rtl] .sn-meta-list-item>now-icon{margin-left:.25rem}.sn-meta-list-item>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-show-more-btn{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;display:inline-flex;font-family:inherit;font-size:1rem;justify-content:center;margin:.75rem 0 0;padding:0;vertical-align:middle;white-space:nowrap;width:auto;font-size:.75rem}.sn-show-more-btn:hover{color:RGB(var(--now-color--secondary-2,1,89,107))}.sn-show-more-btn:active{color:RGB(var(--now-color--secondary-3,1,60,71))}:host(:not([dir=rtl])) .sn-show-more-btn now-icon,:root:not([dir=rtl]) .sn-show-more-btn now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-show-more-btn now-icon,:root[dir=rtl] .sn-show-more-btn now-icon{margin-right:.25rem}.sn-comment-header{display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--primary-1,30,133,109));margin-bottom:.75rem}.sn-comment-header now-icon{margin-right:.25rem}.sn-card-body{overflow:auto}\", \"\"]);\n\n// exports\n","import {SET_STATE} from './actions';\nimport {createElement} from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport '../timeAgo';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\n\nconst view = (state, dispatch) => {\n\tif (!state.communityBlog) return null;\n\tconst articleResult = state.communityBlog.data[0];\n\tif (!articleResult)\n\t\treturn null;\n\n\telse if (articleResult){\n\t\tconst frameless = state.properties.frameless === 'true' || state.properties.frameless === true;\n\t\tlet noBorderClass = '-bottom-border';\n\t\tif(frameless)\n\t\t\tnoBorderClass = '-no-border';\n\n\t\tconst detailBody = (\n\t\t\t<div className={'sn-card ' + noBorderClass} tabIndex='0'>\n\t\t\t\t<header className=\"sn-card-header\">\n\t\t\t\t\t<div className=\"sn-card-row\"><span>{articleResult.forum.name} {articleResult.topics.length > 0 ? ' | ' + articleResult.topics[0].name : ''}</span></div>\n\t\t\t\t\t<div className=\"sn-card-row -title\"><span>{articleResult.title}</span></div>\n\t\t\t\t\t<div className=\"sn-card-row has-avatar\">\n\t\t\t\t\t\t<div className=\"sn-card-content -static\">\n\t\t\t\t\t\t\t<now-avatar\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\timage-src={'/' + articleResult.userAvatarObject.userImage}\n\t\t\t\t\t\t\t\tuser-name={articleResult.userAvatarObject.name} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sn-card-content\">\n\t\t\t\t\t\t\t<ul className=\"sn-meta-list\">\n\t\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><now-icon icon=\"user-outline\" size=\"sm\"></now-icon><span>{t('Authored by') + ' ' + articleResult.userAvatarObject.name}</span></li>\n\t\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><now-icon icon=\"calendar-outline\" size=\"sm\"></now-icon><span>{t('Asked') + ' '}<sn-timeago time-stamp={articleResult.published_date} behaviors={state.behaviors} system-time={true}/></span></li>\n\t\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><now-icon icon=\"eye-outline\" size=\"sm\"></now-icon><span>{articleResult.view_count + ' ' + (articleResult.view_count == 1 ? t('view') : t('views'))}</span></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div className=\"sn-card-row\" ref = {(article_content) => {\n\t\t\t\t\tif (!state.articleContent) {\n\t\t\t\t\t\tdispatch(SET_STATE, {articleContent: article_content}, {stopPropagation: true});\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t\t<div className=\"sn-card-body\">\n\t\t\t\t\t\t{createElement('div',{props: {innerHTML: articleResult.description}})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t\tif (state.articleContent) {\n\t\t\tvar aTags = state.articleContent.querySelectorAll('a');\n\t\t\taTags.forEach(function (item) {\n\t\t\t\titem.addEventListener('click', function(e) {\n\t\t\t\t\tvar redirectURL = e.currentTarget || e.target || e.srcElement;\n\t\t\t\t\twindow.open(redirectURL, '_blank');\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn (\n\t\t\t<div className='sn-agent-assist'>\n\t\t\t\t{ frameless ? (detailBody) : (\n\t\t\t\t\t<div className=\"sn-panel\">\n\t\t\t\t\t\t{detailBody}\n\t\t\t\t\t</div>)\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\treturn null;\n\n};\n\nexport default view;\n","import {createHttpEffect} from '@servicenow/ui-effect-http';\nimport {LOAD_COMMUNITYBLOG, LOAD_COMMUNITYBLOG_FAILED, LOAD_COMMUNITYBLOG_SUCCEEDED, SET_STATE} from './actions';\n\nexport const actionHandlers = {\n\t[LOAD_COMMUNITYBLOG]: createHttpEffect(\n\t\t'/api/sn_communities/v1/community/contents/:id', \n\t\t{\n\t\t\tsuccessActionType: LOAD_COMMUNITYBLOG_SUCCEEDED,\n\t\t\terrorActionType: LOAD_COMMUNITYBLOG_FAILED,\n\t\t\tpathParams: ['id'],\n\t\t\tqueryParams: ['content_type']\n\t\t}\n\t), \n\t[LOAD_COMMUNITYBLOG_SUCCEEDED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({action, updateState}) => updateState({\n\t\tcommunityBlog: action.payload.result\n\t})},\n\t[LOAD_COMMUNITYBLOG_FAILED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({state,updateState}) => updateState({\n\t\t...state\n\t\t})\n\t}, \n\t[SET_STATE]: {\n\t\tstopPropagation: true,\n\t\teffect: ({action, updateState}) => updateState({\n\t\t\tarticleContent: action.payload.articleContent\n\t\t})\n\t}\n}; ","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from './socialQADetail.scss';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport {\n\tLOAD_SOCIALQA\n} from './actions';\nimport {actions, actionHandlers} from './actionHandlers';\nimport view from './view';\nimport { timeAgoBehaviors } from \"../../_shared/behaviors\";\n\ncreateCustomElement('sn-knowledge-socialqa-detail', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\ttable: '',\n\t\tsysId: '',\n\t\tframeless: ''\n\t},\n\tbehaviors: [...timeAgoBehaviors],\n\tactions,\n\tactionHandlers,\n\tonConnect(host, dispatch) {\n\t\tif (host.table === 'kb_social_qa_question' || host.table === 'kb_social_qa_answer') {\n\t\t\tdispatch(LOAD_SOCIALQA, {\n\t\t\t\tsys_id: host.sysId,\n\t\t\t\tanswerCondition:('active=true^question=' + host.sysId + '^ORDERBYsys_created_on')\n\t\t\t});\n\t\t}\n\t},\n\tonDisconnect(host) {\n\t\tif(host.articleContent){\n\t\t\tvar aTags = host.articleContent.querySelectorAll('a');\n\t\t\taTags.forEach(function (item) {\n\t\t\t\titem.removeEventListener('click', function(e) {\n\t\t\t\t\tvar redirectURL = e.currentTarget || e.target || e.srcElement;\n\t\t\t\t\twindow.open(redirectURL, '_blank');\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\tstyles: styles\n});\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-community-blog-detail),:host(sn-community-qa-detail),:host(sn-knowledge-detail),:host(sn-knowledge-socialqa-detail){display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-agent-assist{flex:1 1 auto;height:100%;position:relative}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;padding:0 1.5rem;overflow:auto}.sn-card,.sn-panel{position:relative;width:100%}.sn-card{border:1px solid;border-color:rgb(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem}.sn-card.-no-border{border:none}.sn-card.-no-border .sn-card-row .context-card{width:100%}.sn-card.-response{background:RGB(var(--now-color--neutral-1,246,247,247));border:none;padding:.75rem}.sn-card.-comment{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-nested{border-width:1px 0 0;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));margin-top:.75rem;padding-left:0}.sn-card.-accepted{background-color:RGB(var(--now-color--primary-0,221,237,233),.45);border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-accepted .sn-card-header{border:none}.sn-card.-accepted .sn-card-row{margin-bottom:0}.sn-card.-solved{background:RGBA(var(--now-color--secondary-1,1,119,142),.1)}.sn-card.-solved .sn-card-header{border:none;color:RGB(var(--now-color--primary-0,221,237,233));margin:0}.sn-card.-solved .sn-card-header .sn-card-row{align-items:center;margin:0}.sn-card.-solved .sn-card-header .sn-card-row>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root:not([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root[dir=rtl] .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-left:.25rem}.sn-card-header{border-left-color:RGB(var(--now-color--neutral-7,135,147,148));border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--neutral-7,135,147,148));border-right-color:RGB(var(--now-color--neutral-7,135,147,148));border-top-color:RGB(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.75rem;position:relative}.sn-card-header+.sn-card-body{margin-top:0}.sn-card-row{display:flex;flex:0 0 auto;position:relative;width:100%}.sn-card-header .sn-card-row:last-of-type{margin-bottom:.75rem}.sn-card-row.has-avatar{margin-top:.5rem}.-response .sn-card-row.has-avatar{margin-top:.75rem}.sn-card-row.has-avatar:first-child{margin-top:0}.sn-card-row.-title{color:RGB(var(--now-color--neutral-12,66,80,81));flex:0 0 auto;font-size:1rem;font-weight:600;margin-top:.25rem}.sn-card-row.-body{flex-direction:column}.sn-card-row>.sn-card-body{margin-top:0}.sn-card-row>now-text-link{margin:.25rem 0 .75rem}.sn-card-content{align-items:center;display:flex;flex:1 1 auto;position:relative;overflow:hidden}.sn-card-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card-content>now-avatar,:root:not([dir=rtl]) .sn-card-content>now-avatar{margin-right:.5rem}:host([dir=rtl]) .sn-card-content>now-avatar,:root[dir=rtl] .sn-card-content>now-avatar{margin-left:.5rem}.sn-card-body{color:RGB(var(--now-color--neutral-18,22,27,28));flex:0 0 auto;font-size:1rem;margin-top:.75rem;width:100%}.sn-card-body p,.sn-card-body ul{margin-bottom:.5rem;margin-top:0}.sn-card-body p:last-child,.sn-card-body ul:last-child{margin-bottom:0}.sn-card-body img{height:auto;max-width:100%}.sn-card-footer{flex:0 0 auto;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin:1rem 0}.sn-card-list{flex:1 1 auto;width:100%}.sn-card-list .sn-card{margin-bottom:.75rem}.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-card .sn-card-row .context-card{width:100%}.sn-attachment{border-radius:.125rem;border:1px solid rgb(var(--now-color--neutral-5,172,180,181));cursor:pointer;display:inline-flex;padding:1rem;max-width:100%}.sn-attachment.is-focus,.sn-attachment.is-hover,.sn-attachment:focus,.sn-attachment:hover{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-attachment.is-focus .sn-attachment-content,.sn-attachment.is-focus .sn-attachment-content-title,.sn-attachment:focus .sn-attachment-content,.sn-attachment:focus .sn-attachment-content-title{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-attachment-container{display:flex;max-width:100%}.sn-attachment-content{color:RGB(var(--now-color--neutral-9,99,114,116));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-right:.5rem}.sn-attachment-content:last-of-type{padding-right:0}.sn-attachment-content.-static{flex:0 0 auto;overflow:visible}.sn-attachment-content.-static>now-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachment-content-title,.sn-attachment-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachment-content-title{color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;margin-bottom:.5rem}.sn-attachment-list{flex:1 1 auto;list-style:none;margin:.75rem 0 0;padding:0;width:100%}.sn-attachment-list .sn-attachment{margin-right:.5rem;margin-bottom:.5rem}.sn-meta-list{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));list-style:none;margin:0;padding:0;position:relative;overflow:hidden}.sn-meta-list-item{align-items:center;display:flex;margin-bottom:.125rem;padding:0;position:relative}.sn-meta-list-item:last-of-type{margin-bottom:0}.sn-meta-list-item.-bold{font-weight:600}.sn-meta-list-item>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-meta-list-item>now-icon,:root:not([dir=rtl]) .sn-meta-list-item>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-meta-list-item>now-icon,:root[dir=rtl] .sn-meta-list-item>now-icon{margin-left:.25rem}.sn-meta-list-item>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-show-more-btn{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;display:inline-flex;font-family:inherit;font-size:1rem;justify-content:center;margin:.75rem 0 0;padding:0;vertical-align:middle;white-space:nowrap;width:auto;font-size:.75rem}.sn-show-more-btn:hover{color:RGB(var(--now-color--secondary-2,1,89,107))}.sn-show-more-btn:active{color:RGB(var(--now-color--secondary-3,1,60,71))}:host(:not([dir=rtl])) .sn-show-more-btn now-icon,:root:not([dir=rtl]) .sn-show-more-btn now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-show-more-btn now-icon,:root[dir=rtl] .sn-show-more-btn now-icon{margin-right:.25rem}.sn-comment-header{display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--primary-1,30,133,109));margin-bottom:.75rem}.sn-comment-header now-icon{margin-right:.25rem}.sn-card-body{overflow:auto}\", \"\"]);\n\n// exports\n","import {\n\tLOAD_SOCIALQA,\n\tLOAD_SOCIALQA_FAILED,\n\tLOAD_SOCIALQA_SUCCEEDED,\n\tSET_STATE\n} from './actions';\nimport {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\nimport {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {default as socialqa_read} from './socialqa.read';\n\nconst fetchSocialQAEffect = createGraphQLEffect(socialqa_read, {\n\tsuccessActionType: LOAD_SOCIALQA_SUCCEEDED,\n\terrorActionType: LOAD_SOCIALQA_FAILED, \n\tvariableList: ['sys_id', 'answerCondition']\n});\n\nexport const actions = {\n\t[LOAD_SOCIALQA]: {\n\t\tprivate: true\n\t}\n}; \n\nexport const actionHandlers = {\n\t[LOAD_SOCIALQA]: fetchSocialQAEffect, \n\t[LOAD_SOCIALQA_SUCCEEDED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({action, updateState}) => updateState({\n\t\t\tsocialQA: action.payload.data.GlideRecord_Query\n\t\t})\n\t},\n\t[LOAD_SOCIALQA_FAILED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({state, updateState}) => updateState({...state})\n\t},\n\t[SET_STATE]: {\n\t\tstopPropagation: true,\n\t\teffect: ({action, updateState}) => updateState({\n\t\t\tarticleContent: action.payload.articleContent\n\t\t})\n\t}\n}; ","const socialQAQuery_read = `query ($sys_id: String, $answerCondition: String) {\n  GlideRecord_Query {\n    kb_social_qa_answer (queryConditions: $answerCondition){\n      _results{\n        sys_id{\n          value\n        }\n        votes{\n          value\n        }\n        answer{\n          displayValue\n        }\n        accepted{\n          value\n        }\n        profile{\n          displayValue\n          _reference{\n            photo{\n              displayValue\n            }\n          }\n        }\n        sys_updated_on{\n          value\n          displayValue\n        }\n        sys_created_on{\n          value\n          displayValue\n        }\n      }\n    }\n    kb_social_qa_question (sys_id: $sys_id) {\n      _results {\n        sys_id{\n          value\n        }\n        kb_category{\n          displayValue\n        }\n        kb_knowledge_base{\n          displayValue\n        }\n        answer_count{\n          value\n        }\n        sys_updated_on{\n          value\n          displayValue\n        }\n        sys_created_on{\n          value\n          displayValue\n        }\n        profile{\n          displayValue\n          _reference{\n            photo{\n              displayValue\n            }\n          }\n        }\n        question{\n          displayValue\n        }\n        question_details {\n          displayValue\n        }\n        votes{\n          value\n        }\n        accepted_answer{\n          _reference{\n            sys_id{\n              value\n            }\n            votes{\n              value\n            }\n            answer{\n              displayValue\n            }\n            accepted{\n              value\n            }\n            profile{\n              displayValue\n              _reference{\n                photo{\n                  displayValue\n                }\n              }\n            }\n            sys_updated_on{\n              value\n              displayValue\n            }\n            sys_created_on{\n              value\n              displayValue\n            }\n          }\n          displayValue\n        }\n        views{\n          value\n        }\n        top_answer {\n          _reference{\n            sys_id{\n              value\n            }\n            votes{\n              value\n            }\n          }\n          \n          displayValue\n        }\n      }\n    }\n  }\n}`;\n\nexport default socialQAQuery_read;\n","import '../timeAgo';\nimport '../../_shared/utils';\nimport {createElement} from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport './socialQADetail.scss';\nimport '../socialQAAnswer';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\n\nconst view = (state, {dispatch}) => {\n\tif (!state.socialQA) return null;\n\tconst articleResult = state.socialQA.kb_social_qa_question._results[0];\n\tconst answerResult = state.socialQA.kb_social_qa_answer._results;\n\tif (!articleResult || !answerResult)\n\t\treturn null;\n\telse if (articleResult && answerResult){\n\t\tlet correctAnswer = null;\n\t\tif(articleResult.accepted_answer && articleResult.accepted_answer._reference && articleResult.accepted_answer._reference.sys_id.value) {\n\t\t\tcorrectAnswer = <sn-knowledge-socialqa-answer key={articleResult.accepted_answer._reference.sys_id.value} answer={articleResult.accepted_answer._reference} answered={true} behaviors={state.behaviors}/>;\n\t\t}\n\t\tlet lastAnswer = answerResult.length > 0 ? answerResult[0] : null;\n\n\t\tconst frameless = state.properties.frameless === 'true' || state.properties.frameless === true;\n\t\tlet noBorderClass = '-bottom-border';\n\t\tif(frameless)\n\t\t\tnoBorderClass = '-no-border';\n\n\t\tconst detailBody = (\n\t\t\t<div className={'sn-card ' + noBorderClass} tabIndex='0'>\n\t\t\t\t<header className=\"sn-card-header\">\n\t\t\t\t\t<div className=\"sn-card-row\"><span>{articleResult.kb_knowledge_base.displayValue} {(articleResult.kb_category.displayValue && articleResult.kb_category.displayValue.length > 0) ?  ' | ' + articleResult.kb_category.displayValue : ''}</span></div>\n\t\t\t\t\t<div className=\"sn-card-row -title\"><span>{articleResult.question.displayValue}</span></div>\n\t\t\t\t\t<div className=\"sn-card-row has-avatar\">\n\t\t\t\t\t\t<div className=\"sn-card-content -static\">\n\t\t\t\t\t\t\t<now-avatar\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\timage-src={'/' + articleResult.profile._reference.photo.displayValue}\n\t\t\t\t\t\t\t\tuser-name={articleResult.profile.displayValue} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"sn-card-content\">\n\t\t\t\t\t\t\t<ul className=\"sn-meta-list\">\n\t\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><now-icon icon=\"user-outline\" size=\"sm\"></now-icon><span>{ t('Asked by {0}', articleResult.profile.displayValue)}</span></li>\n\t\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><now-icon icon=\"calendar-outline\" size=\"sm\"></now-icon><span>{t('Asked' + ' ')}<sn-timeago time-stamp={articleResult.sys_created_on.value} behaviors={state.behaviors} system-time={true}/></span></li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div className=\"sn-card-row -body\" ref = {(article_content) => {\n\t\t\t\t\tif (!state.articleContent) {\n\t\t\t\t\t\tdispatch('SET_STATE', {articleContent: article_content}, {stopPropagation: true});\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t\t<div className=\"sn-card-body\">\n\t\t\t\t\t\t{createElement('div', {props: {innerHTML: articleResult.question_details.displayValue}})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sn-card-footer\">\n\t\t\t\t\t\t<ul className=\"sn-meta-list\">\n\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\">{lastAnswer ? <span>{t('Answered') + ' '}<sn-timeago time-stamp={lastAnswer.sys_created_on.value} behaviors={state.behaviors} system-time={true}/></span> : t('Not Answered')}</li>\n\t\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><span>{articleResult.views.value + ' ' + (articleResult.views.value == 1 ? t('view') : t('views'))} · {articleResult.votes.value + ' ' + (articleResult.votes.value == 1 ? t('vote') : t('votes'))} · {answerResult.length + ' ' + (answerResult.length == 1 ? t('reply') : t('replies'))}</span></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sn-card-list\">\n\t\t\t\t\t\t{correctAnswer}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tanswerResult.map((item) => {\n\t\t\t\t\t\t\t\tif(articleResult.accepted_answer._reference.sys_id.value !== item.sys_id.value)\n\t\t\t\t\t\t\t\t\treturn (<sn-knowledge-socialqa-answer key={item.sys_id.value} answer={item} answered={false} behaviors={state.behaviors}/>);\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t\tif (state.articleContent) {\n\n\t\t\ttry{//Added to resolve queryselector undefined.\n\t\t\t\tvar aTags = state.articleContent.querySelectorAll('a');\n\t\t\t\taTags.forEach(function (item) {\n\t\t\t\t\titem.addEventListener('click', function(e) {\n\t\t\t\t\t\tvar redirectURL = e.currentTarget || e.target || e.srcElement;\n\t\t\t\t\t\twindow.open(redirectURL, '_blank');\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch(e){\n\t\t\t}\n\n\t\t}\n\t\treturn (\n\t\t\t<div className='sn-agent-assist'>\n\t\t\t\t{ frameless ? (detailBody) : (\n\t\t\t\t\t<div className=\"sn-panel\">\n\t\t\t\t\t\t{detailBody}\n\t\t\t\t\t</div>)\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\treturn null;\n};\n\nexport default view;\n","export {default as socialQAAnswer} from './socialQAAnswer';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from '../socialQADetail/socialQADetail.scss';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport view from './view';\n\ncreateCustomElement('sn-knowledge-socialqa-answer', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t}, \n\tproperties: {\n\t\tanswer: '',\n\t\tanswered: true,\n\t\tbehaviors: { default: \"\" }\n\t},\n\tstyles: styles\n});\n","import '../timeAgo';\nimport '../../_shared/utils';\nimport {createElement} from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\n\n\nconst view = (state) => {\n\tlet answerClasses = '';\n\tif(state.properties.answered)\n\t\tanswerClasses += ' -solved';\n\treturn (\n\t\t<div className={'sn-card -response ' + answerClasses}>\n\t\t\t{\n\t\t\t\t(state.properties.answered) ? (<div className=\"sn-card-header\">\n\t\t\t\t\t<div className=\"sn-card-row\">\n\t\t\t\t\t\t<now-icon icon=\"circle-check-fill\" size=\"md\"></now-icon>\n\t\t\t\t\t\t<span>{t('Accepted Solution')}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t) : ('')\n\t\t\t}\n\n\t\t\t<div className=\"sn-card-row has-avatar\">\n\t\t\t\t<div className=\"sn-card-content -static\">\n\t\t\t\t\t<now-avatar\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\timage-src={'/' + state.properties.answer.profile._reference.photo.displayValue}\n\t\t\t\t\t\tuser-name={state.properties.answer.profile.displayValue}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-card-content\">\n\t\t\t\t\t<ul className=\"sn-meta-list\">\n\t\t\t\t\t\t<li className=\"sn-meta-list-item -bold\"><span>{state.properties.answer.profile.displayValue}</span></li>\n\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><span><sn-timeago time-stamp={state.properties.answer.sys_created_on.value} behaviors={state.properties.behaviors} system-time={true}/></span></li>\n\t\t\t\t\t\t<li className=\"sn-meta-list-item\"><span>{state.properties.answer.votes.value} {' ' + state.properties.answer.votes.value == 1 ? t('vote') : t('votes')}</span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"sn-card-body\">\n\t\t\t\t{createElement('div', {props: {innerHTML: state.properties.answer.answer.displayValue}})}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nexport default view;\n","export {default as knowledgeDiscussionWrapper} from './knowledgeDiscussionWrapper';\n","import styles from './knowledgeDiscussionWrapper.scss';\nimport { createCustomElement } from '@servicenow/ui-core';\nimport view from './view';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { actions, actionHandlers } from './actions';\nimport { LOAD_ANSWER, LOAD_QUESTION } from './constants';\n\ncreateCustomElement('sn-knowledge-discussion-wrapper', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\talertMessages: [],\n\t\tmessageDisplayed: false\n\t},\n\tproperties: {\n\t\ttable: '',\n\t\tsysId: '',\n\t\tactive: '',\n\t\tdehydrate: '',\n\t\tbaseTable: '',\n\t\tdetailToLoad: '',\n\t\tsysIdToLoad: '',\n\t\tmode: { default:'view' },\n\t\tview: { default:'workspace' },\n\t\tsrc: '',\n\t\tquery: '',\n\t\talerts:{ default:'' },\n\t\tselectedTabIndex: 0,\n\t\tdefaultTab: '',\n\t\treadOnlyForm: '',\n\t\thideDetails:'',\n\t\tdetailsContext: '',\n\t\tviews: { default:'workspace' },\n\t\ttitle:''\n\t},\n\tactions,\n\tactionHandlers,\n\tonConnect(host, dispatch) {\n\t\tif (host.table != \"kb_knowledge\" && !host.table.startsWith('kb_template') && !host.table.startsWith('u_kb_template')) {\n\t\t\tdispatch(LOAD_QUESTION, { questionID: host.sysId, condition: 'name=sn_communities.knowledge_base_id', answerID: host.sysId });\n\t\t\tdispatch(LOAD_ANSWER, { questionID: host.sysId, condition: 'name=sn_communities.knowledge_base_id', answerID: host.sysId });\n\t\t}\n\t},\n\tstyles: styles\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./knowledgeDiscussionWrapper.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-community-blog-detail),:host(sn-community-qa-detail),:host(sn-knowledge-detail),:host(sn-knowledge-socialqa-detail){display:flex;flex:1 1 auto;flex-direction:column;position:relative}.sn-agent-assist{flex:1 1 auto;height:100%;position:relative}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;padding:0 1.5rem;overflow:auto}.sn-card,.sn-panel{position:relative;width:100%}.sn-card{border:1px solid;border-color:rgb(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;padding:1.5rem}.sn-card.-no-border{border:none}.sn-card.-no-border .sn-card-row .context-card{width:100%}.sn-card.-response{background:RGB(var(--now-color--neutral-1,246,247,247));border:none;padding:.75rem}.sn-card.-comment{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-nested{border-width:1px 0 0;border-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));margin-top:.75rem;padding-left:0}.sn-card.-accepted{background-color:RGB(var(--now-color--primary-0,221,237,233),.45);border-width:0;margin-bottom:.5rem;padding:.75rem}.sn-card.-accepted .sn-card-header{border:none}.sn-card.-accepted .sn-card-row{margin-bottom:0}.sn-card.-solved{background:RGBA(var(--now-color--secondary-1,1,119,142),.1)}.sn-card.-solved .sn-card-header{border:none;color:RGB(var(--now-color--primary-0,221,237,233));margin:0}.sn-card.-solved .sn-card-header .sn-card-row{align-items:center;margin:0}.sn-card.-solved .sn-card-header .sn-card-row>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root:not([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-card.-solved .sn-card-header .sn-card-row>now-icon,:root[dir=rtl] .sn-card.-solved .sn-card-header .sn-card-row>now-icon{margin-left:.25rem}.sn-card-header{border-left-color:RGB(var(--now-color--neutral-7,135,147,148));border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--neutral-7,135,147,148));border-right-color:RGB(var(--now-color--neutral-7,135,147,148));border-top-color:RGB(var(--now-color--neutral-7,135,147,148));display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin-bottom:.75rem;position:relative}.sn-card-header+.sn-card-body{margin-top:0}.sn-card-row{display:flex;flex:0 0 auto;position:relative;width:100%}.sn-card-header .sn-card-row:last-of-type{margin-bottom:.75rem}.sn-card-row.has-avatar{margin-top:.5rem}.-response .sn-card-row.has-avatar{margin-top:.75rem}.sn-card-row.has-avatar:first-child{margin-top:0}.sn-card-row.-title{color:RGB(var(--now-color--neutral-12,66,80,81));flex:0 0 auto;font-size:1rem;font-weight:600;margin-top:.25rem}.sn-card-row.-body{flex-direction:column}.sn-card-row>.sn-card-body{margin-top:0}.sn-card-row>now-text-link{margin:.25rem 0 .75rem}.sn-card-content{align-items:center;display:flex;flex:1 1 auto;position:relative;overflow:hidden}.sn-card-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-card-content>now-avatar,:root:not([dir=rtl]) .sn-card-content>now-avatar{margin-right:.5rem}:host([dir=rtl]) .sn-card-content>now-avatar,:root[dir=rtl] .sn-card-content>now-avatar{margin-left:.5rem}.sn-card-body{color:RGB(var(--now-color--neutral-18,22,27,28));flex:0 0 auto;font-size:1rem;margin-top:.75rem;width:100%}.sn-card-body p,.sn-card-body ul{margin-bottom:.5rem;margin-top:0}.sn-card-body p:last-child,.sn-card-body ul:last-child{margin-bottom:0}.sn-card-body img{height:auto;max-width:100%}.sn-card-footer{flex:0 0 auto;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));margin:1rem 0}.sn-card-list{flex:1 1 auto;width:100%}.sn-card-list .sn-card{margin-bottom:.75rem}.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-card .sn-card-row .context-card{width:100%}.sn-attachment{border-radius:.125rem;border:1px solid rgb(var(--now-color--neutral-5,172,180,181));cursor:pointer;display:inline-flex;padding:1rem;max-width:100%}.sn-attachment.is-focus,.sn-attachment.is-hover,.sn-attachment:focus,.sn-attachment:hover{background:RGB(var(--now-color--primary-0,221,237,233))}.sn-attachment.is-focus .sn-attachment-content,.sn-attachment.is-focus .sn-attachment-content-title,.sn-attachment:focus .sn-attachment-content,.sn-attachment:focus .sn-attachment-content-title{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-attachment-container{display:flex;max-width:100%}.sn-attachment-content{color:RGB(var(--now-color--neutral-9,99,114,116));display:flex;flex:1 1 auto;flex-direction:column;font-size:.75rem;justify-content:center;overflow:hidden;padding-right:.5rem}.sn-attachment-content:last-of-type{padding-right:0}.sn-attachment-content.-static{flex:0 0 auto;overflow:visible}.sn-attachment-content.-static>now-icon{display:flex;font-size:2rem;justify-content:center;width:2rem}.sn-attachment-content-title,.sn-attachment-content span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-attachment-content-title{color:RGB(var(--now-color--neutral-18,22,27,28));font-size:1rem;margin-bottom:.5rem}.sn-attachment-list{flex:1 1 auto;list-style:none;margin:.75rem 0 0;padding:0;width:100%}.sn-attachment-list .sn-attachment{margin-right:.5rem;margin-bottom:.5rem}.sn-meta-list{font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116));list-style:none;margin:0;padding:0;position:relative;overflow:hidden}.sn-meta-list-item{align-items:center;display:flex;margin-bottom:.125rem;padding:0;position:relative}.sn-meta-list-item:last-of-type{margin-bottom:0}.sn-meta-list-item.-bold{font-weight:600}.sn-meta-list-item>now-icon{flex:0 0 auto}:host(:not([dir=rtl])) .sn-meta-list-item>now-icon,:root:not([dir=rtl]) .sn-meta-list-item>now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-meta-list-item>now-icon,:root[dir=rtl] .sn-meta-list-item>now-icon{margin-left:.25rem}.sn-meta-list-item>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-show-more-btn{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;display:inline-flex;font-family:inherit;font-size:1rem;justify-content:center;margin:.75rem 0 0;padding:0;vertical-align:middle;white-space:nowrap;width:auto;font-size:.75rem}.sn-show-more-btn:hover{color:RGB(var(--now-color--secondary-2,1,89,107))}.sn-show-more-btn:active{color:RGB(var(--now-color--secondary-3,1,60,71))}:host(:not([dir=rtl])) .sn-show-more-btn now-icon,:root:not([dir=rtl]) .sn-show-more-btn now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-show-more-btn now-icon,:root[dir=rtl] .sn-show-more-btn now-icon{margin-right:.25rem}.sn-comment-header{display:flex;flex:0 0 auto;flex-direction:column;font-size:.75rem;color:RGB(var(--now-color--primary-1,30,133,109));margin-bottom:.75rem}.sn-comment-header now-icon{margin-right:.25rem}.sn-card-body{overflow:auto}:host(sn-knowledge-discussion-wrapper){display:flex;height:100%;overflow:auto;padding-bottom:.5rem;padding-top:1.5rem;width:100%}:host(sn-knowledge-discussion-wrapper) now-record-form-connected{width:100%;margin-top:-1.5rem}sn-kb-article-comparator{width:100%}now-alert-list{position:absolute;z-index:1000;width:40%;margin:-1.5rem auto auto;left:0;right:0}\", \"\"]);\n\n// exports\n","import { default as DetailMapper } from './DetailMapper';\nimport { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { get } from 'lodash';\nimport '../knowledgeDetail';\nimport '../socialQADetail';\nimport '../communityQADetail';\nimport '../communityBlogDetail';\nimport '@servicenow/now-button';\nimport '@servicenow/now-alert';\nimport { NOW_ALERT_LIST_ITEMS_SET, CONTENT_UPDATED, SHOW_ALERT_MESSAGES } from './constants'\n\nimport KnowledgeViewHandler from './knowledgeViewHandler';\n\nfunction setDetailToLoad(dispatch, id, sysid, table) {\n\tdispatch('PROPERTIES_SET', { detailToLoad: id, sys_id: sysid, table: table });\n}\n\nfunction setDetailToLoadFromResults(dispatch, state, dataSource, kbDotWalk, questionIDDotWalk, questionDefaultValue) {\n\tvar communityKBResults = get(state, dataSource + '.GlideRecord_Query.sys_properties._results', '');\n\tvar communityKBID = '';\n\tvar questionKBID = '';\n\tvar questionResults = get(state, dataSource + '.GlideRecord_Query.' + state.properties.table + '._results', '');\n\tif (communityKBResults && communityKBResults.length > 0) {\n\t\tcommunityKBResults.map((item) => {\n\t\t\tif (get(item, 'name.value', '') === 'sn_communities.knowledge_base_id') {\n\t\t\t\tcommunityKBID = get(item, 'value.value', '');\n\t\t\t}\n\t\t});\n\t}\n\tif (communityKBID.length > 0) {\n\t\tif (questionResults && questionResults.length > 0) {\n\t\t\tquestionKBID = get(questionResults[0], kbDotWalk, '');\n\t\t\tvar questionID = get(questionResults[0], questionIDDotWalk, '');\n\t\t\tif (questionKBID.length > 0 && questionKBID === communityKBID)\n\t\t\t\tdispatch('PROPERTIES_SET', { detailToLoad: 'community_question', sysIdToLoad: questionID });\n\t\t\telse\n\t\t\t\tdispatch('PROPERTIES_SET', { detailToLoad: 'socialqa', sysIdToLoad: questionID });\n\t\t}\n\n\t}\n\telse {\n\t\tdispatch(dispatch, 'PROPERTIES_SET', { detailToLoad: 'socialqa', sysIdToLoad: questionDefaultValue });\n\t}\n\n}\n\nconst getView = (state, dispatch) => {\n\tconst { table, baseTable } = state.properties;\n\n\tif (!state.properties.detailToLoad) {\n\t\tif (table === 'sn_communities_blog' || baseTable === 'sn_communities_blog') {\n\t\t\tdispatch('PROPERTIES_SET', { detailToLoad: 'community_blog', sysIdToLoad: state.properties.sysId });\n\t\t} else if (table === 'kb_social_qa_question' || baseTable === 'kb_social_qa_question') {\n\t\t\tsetDetailToLoadFromResults(dispatch, state, 'question', 'kb_knowledge_base.value', 'sys_id.value', state.properties.sysId);\n\t\t} else if (table === 'kb_social_qa_answer' || baseTable === 'kb_social_qa_answer') {\n\t\t\tsetDetailToLoadFromResults(dispatch, state, 'answer', 'kb_knowledge_base.value', 'sys_id.value', state.properties.sysId);\n\t\t}\n\t}\n\tvar detailToLoad = get(state.properties, 'detailToLoad', null);\n\tvar sysIdToLoad = get(state.properties, 'sysIdToLoad', null);\n\tif (!detailToLoad || !sysIdToLoad) return null;\n\tvar DetailTag = DetailMapper[detailToLoad];\n\tif (!DetailTag)\n\t\treturn null;\n\n\treturn (\n\t\t<DetailTag table={table} sys-id={sysIdToLoad} />\n\t)\n};\n\nconst getKnowledgeView = (state, dispatch) => {\n\tlet { mode, detailToLoad, sysId } = state.properties;\n\tif (detailToLoad != mode) {\n\t\tif (sysId == -1) mode = 'form';\n\t\tdispatch('PROPERTIES_SET', { mode: mode, detailToLoad: mode });\n\t\tdispatch(CONTENT_UPDATED, { params: { 'mode': mode } });\n\t\tif (state.alertMessages && state.alertMessages.length)\n\t\t\tdispatch(NOW_ALERT_LIST_ITEMS_SET, { value: [] });\n\t}\n\n\tsetTimeout(() => {\n\t\tdispatch(SHOW_ALERT_MESSAGES);\n\t}, 500);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<now-alert-list config-aria-live=\"polite\" items={state.alertMessages}></now-alert-list>\n\t\t\t<KnowledgeViewHandler props={state.properties} />\n\t\t</Fragment>\n\t)\n};\n\nexport default (state, dispatch) => {\n\tconst { table, baseTable } = state.properties;\n\tif (table === 'kb_knowledge' || baseTable === 'kb_knowledge' || table === 'kb_knowledge_block' || table.startsWith('kb_template') || table.startsWith('u_kb_template'))\n\t\treturn getKnowledgeView(state, dispatch);\n\telse\n\t\treturn getView(state, dispatch);\n};\n","const DetailMapper = {\n\t'community_question' : 'sn-community-qa-detail',\n\t'community_blog' : 'sn-community-blog-detail',\n\t'knowledge' : 'sn-knowledge-detail',\n\t'socialqa' : 'sn-knowledge-socialqa-detail'\n};\n\nexport default DetailMapper;\n","module.exports = __TECTONIC__$servicenow_now_alert;","import '../kbArticleTranslation/kbArticleTranslation';\nimport '../kbArticleComparator';\nimport '../knowledgeDetail';\nimport \"@devsnc/sn-document-viewer\";\n\nexport default ({ props }) => {\n\tconst {\n\t\ttable=\"kb_knowledge\",\n\t\tsysId=\"-1\",\n\t\tmode=\"view\",\n\t\tsrc=\"\",\n\t\tquery=\"\",\n\t\tview=\"workspace\",\n\t\tdehydrate,\n\t\tactive,\n\t\tselectedTabIndex,\n\t\tdefaultTab,\n\t\treadOnlyForm,\n\t\thideDetails,\n\t\tdetailsContext,\n\t\tviews } = props;\n\tif (mode === 'form' || sysId === '-1') {\n\t\treturn (<now-record-form-connected\n\t\t\ttable={table}\n\t\t\tsys-id={sysId}\n\t\t\tviews={views}\n\t\t\tview={view}\n\t\t\tquery={query}\n\t\t\tactive={active}\n\t\t\tdehydrate={dehydrate}\n\t\t\tselectedTabIndex={selectedTabIndex}\n\t\t\tdefaultTab={defaultTab}\n\t\t\treadOnlyForm={readOnlyForm}\n\t\t\thideDetails={hideDetails}\n\t\t\tdetailsContext={detailsContext}\n\t\t/>);\n\n\t} else if (mode === 'translate') {\n\t\tconst srcdetails = src.split(':');\n\t\treturn (\n\t\t\t<sn-kb-article-translation\n\t\t\t\ttable={table}\n\t\t\t\tsource-page={srcdetails[0]}\n\t\t\t\tsource-record={srcdetails[1]}\n\t\t\t\ttrans-record={sysId}\n\t\t\t/>\n\t\t);\n\t} else if (mode === 'compare') {\n\t\tconst versions = sysId.split('_');\n\t\treturn <sn-kb-article-comparator\n\t\t\ttable={table}\n\t\t\tfirst-version={versions[0]}\n\t\t\tsecond-version={versions[1]}\n\t\t/>\n\t}else if (mode === 'docviewer') {\n\t\treturn <sn-document-viewer sys-id={sysId} delete-hidden=\"true\" close-hidden=\"true\" render-office-format=\"true\"/>;\n\t}\n\n\treturn (<sn-knowledge-detail\n\t\ttable={table}\n\t\tsys-id={sysId}\n\t\tmode={mode}\n\t/>);\n\n\treturn null;\n}\n","import {createCustomElement} from '@servicenow/ui-core';\nimport view from './view';\nimport {actionHandlers} from './actionHandlers';\nimport styles from './style.scss';\nimport { t } from 'sn-translate';\nimport { translationBehavior, isEnabledBehavior } from '@servicenow/behavior-dynamic-translation';\n\ncreateCustomElement('sn-kb-article-translation', {\n    view,\n    styles,\n    actionHandlers,\n    initialState: {\n        languageItems:[],\n        selectedLanguage: [],\n        languageWarningOpened:false,\n        comparisonData:[],\n        disableLanguage:false,\n        disableCreateArticle: false,\n        isDynamicTranslationEnabled: false,\n        isTranslating: false,\n        sourceContent: [],\n        sourceLanguage: {id:'en', label:'English'}\n    },\n    properties:{\n        table:{\n            default: ''\n        },\n        sourcePage:{\n            default:''\n        },\n        sourceRecord: {\n            default:''\n        },\n        transRecord: {\n            default: ''\n        }\n    }, behaviors: [\n        { behavior: translationBehavior },\n        { behavior: isEnabledBehavior}\n    ]\n});","import {Fragment} from '@servicenow/ui-renderer-snabbdom';\nimport '../kbSharedComparator';\nimport '@servicenow/now-label-value';\nimport '@servicenow/now-heading';\nimport '@servicenow/now-dropdown';\nimport '@servicenow/now-modal';\nimport '@servicenow/now-button';\nimport { t } from 'sn-translate';\n\n\nexport default ({\n    languageItems, \n    selectedLanguage, \n    languageWarningOpened, \n    comparisonData, \n    disableLanguage, \n    hideCaret, \n    disableCreateArticle, \n    sourceLanguage, \n    isDynamicTranslationEnabled,\n    modalFor,\n\t\tisTranslating,\n\t\tproperties: {table}\n}) => {\n    let machinTranslateButton = <Fragment/>;\n    if (isDynamicTranslationEnabled) {\n        machinTranslateButton = \n        <now-button \n            label={t('Machine translate')} \n            variant=\"secondary\" \n            append-to-payload={{buttonFor: \"machineTranslate\"}}\n            config-aria = {{'aria-label':t('Machine translate')}}/>\n    }\n\n    let loaderFill = <Fragment/>;\n    let comparatorMode = disableCreateArticle ? 'normal' : 'editable';\n    if (isTranslating)\n        loaderFill = <now-icon icon=\"loader-fill\" spin></now-icon>;\n\t\n\t\tlet labels = {\n\t\t\ttitle: t('Translate Article'),\n\t\t\tbutton : t('Create draft article')\n\t\t};\n\t\tif (table == \"kb_knowledge_block\") {\n\t\t\tlabels.title = t('Translate Block');\n\t\t\tlabels.button = t('Create draft block');\n\t\t}\n        \n    return (\n        <Fragment>\n                <nav>\n                    <now-heading has-no-margin className=\"header-left\" label={labels.title} variant=\"header-primary\"/>\n                    <div className=\"header-right\">\n                        <now-button \n                            label={labels.button} \n                            variant=\"secondary\" \n                            disabled={disableCreateArticle} \n                            append-to-payload={{buttonFor: \"createDraftArticle\"}}\n                            config-aria = {{'aria-label':labels.button}}/>\n                        {machinTranslateButton}\n                        {loaderFill}\n                    </div>\n                </nav>\n                <ul>\n                    <li className=\"comparator-row\">\n                        <section className = \"old-content content-block\">\n                            <now-label-value-inline label = {t('Original language')}/>\n                            <section innerHTML = {sourceLanguage.label}/>\n                        </section>\n                        <section className=\"new-content content-block\">\n                            <now-label-value-inline id={name} label={t('Translated language')}/>\n                            <section>\n                            <now-dropdown \n                                bare\n                                items = {languageItems}\n                                selected-items= {selectedLanguage}\n                                select=\"single\"\n                                disabled = {disableLanguage}\n                                config-aria = {{'aria-label':t('Select languages')}}/>\n                            </section>\n                        </section>\n                    </li>\n                </ul>\n                <sn-kb-shared-comparator comparisonData={comparisonData} mode={comparatorMode}/>\n                <now-modal \n                    content={t('This action will overwrite any existing changes.')} \n                    footer-actions='[{\"label\":\"Yes\", \"variant\": \"primary\"},{\"label\":\"No\", \"variant\": \"secondary\"}]' \n                    header-label={t('Warning')} \n                    size=\"sm\"\n                    append-to-payload={{modalFor: {modalFor}}}\n                    opened={languageWarningOpened}>\n                </now-modal>\n        </Fragment>\n    );\n}","import {createCustomElement} from '@servicenow/ui-core';\nimport styles from './comparator.scss';\nimport view from './view';\nimport {actionHandlers} from './action';\n\ncreateCustomElement('sn-kb-shared-comparator', {\n    view,\n    styles,\n    actionHandlers,\n\tproperties: {\n\t\tmode: {\n\t\t\tdefault: 'normal',\n\t\t\treflect: true\n\t\t},\n        comparisonData: {\n            default:[],\n        }\n\t}\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./comparator.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}ul.comparator-list{margin:0;padding-left:0}ul.comparator-list li.comparator-row{display:flex;margin-top:1rem}ul.comparator-list li.comparator-row .old-content{width:calc(50% - 2.5rem);color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}ul.comparator-list li.comparator-row .old-content ins{color:RGB(var(--now-color--alert-warning-0,242,237,179));background-color:RGB(var(--now-color--alert-warning-0,242,237,179));-webkit-user-select:none;-moz-user-select:none;user-select:none}ul.comparator-list li.comparator-row .new-content{width:calc(50% - 2.5rem)}ul.comparator-list li.comparator-row .new-content del{color:RGB(var(--now-color--alert-critical-0,241,206,205));background-color:RGB(var(--now-color--alert-critical-0,241,206,205));-webkit-user-select:none;-moz-user-select:none;user-select:none}ul.comparator-list li.comparator-row .new-content .editable{outline:none;border:.03125rem solid rgb(var(--now-color--neutral-3,209,214,214));padding:.75rem;border-radius:.25rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}ul.comparator-list li.comparator-row .new-content .input-field{height:32px;border:0;padding-left:.5rem;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:1rem;width:100%;border-bottom:1px solid rgb(var(--now-color--divider-secondary,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}ul.comparator-list li.comparator-row .new-content .input-field:hover{background-color:RGB(var(--now-color--neutral-2,228,230,231));border-bottom:2px solid rgb(var(--now-color--divider-secondary,var(--now-color--neutral-5,172,180,181)));margin-top:1px}ul.comparator-list li.comparator-row .new-content .input-field:focus{outline:none;border-bottom:2px solid rgb(var(--now-color--primary-1,30,133,109));background-color:RGB(var(--now-color--primary-0,221,237,233));margin-top:1px}ul.comparator-list li.comparator-row p{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));margin-block-start:0;margin-block-end:0}ul.comparator-list li.comparator-row .editable p{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}ul.comparator-list li.comparator-row .content-block{margin:0 1.5rem;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:1rem;overflow-x:auto}ul.comparator-list li.comparator-row .content-block img,ul.comparator-list li.comparator-row .content-block picture,ul.comparator-list li.comparator-row .content-block video{max-width:100%}ul.comparator-list li.comparator-row .content-block now-label-value-inline{margin-bottom:.25rem}ul.comparator-list li.comparator-row .content-block .noteditable,ul.comparator-list li.comparator-row del{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}ul.comparator-list li.comparator-row del{background-color:RGB(var(--now-color--alert-critical-0,241,206,205))}ul.comparator-list li.comparator-row ins{background-color:RGB(var(--now-color--alert-warning-0,242,237,179));color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));text-decoration:none}\", \"\"]);\n\n// exports\n","import Comparator from './Comparator';\nimport {Fragment} from '@servicenow/ui-renderer-snabbdom';\n\nexport default (state, {updateState, dispatch}) => {\n    const {comparisonData, mode} = state.properties;\n    let rowList = <Fragment/>;\n\n    if((mode ==='diff' && window.diff_match_patch) || mode !== 'diff'){\n        rowList = comparisonData.map(({\n                heading,\n                originalContent,\n                changedContent,\n                name,\n                contentType\n            }) => \n            <Comparator \n                contentType={contentType}\n                heading={heading} \n                originalContent={originalContent} \n                changedContent={changedContent}\n                name={name}\n                mode={mode}\n                dispatch={dispatch}\n            />\n        ) \n    }\n\n    const scriptLoad = {\n        operation:'set',\n        path:'scriptLoaded',\n        value: true\n    };\n\n\treturn (\n        <Fragment>\n            <ul className=\"comparator-list\">\n                {rowList}\n            </ul>\n            {mode==='diff'? <script async on-load={() => updateState(scriptLoad)} src=\"scripts/lib/diff_match_patch/javascript/diff_match_patch.js\"/>: <Fragment/>}\n        </Fragment>\n\t);\n}\n","const addDiffIndicationTags = (diffString, operation) => {\n    if(operation === 0)\n        return diffString;\n\n    const closeTag = text => operation === -1? `${text}</del>` : `${text}</ins>`;\n    const openTag = text => operation === 1? `${text}<ins>` : `${text}<del>`;\n\n    let tagOpen = true;\n    let outputText = openTag('');\n    for(let i=0; i< diffString.length; i++){\n        if(diffString.charCodeAt(i) < 0xE000) {\n            if(!tagOpen) {\n                outputText = openTag(outputText);\n                tagOpen = true;\n            }\n        } else {\n            if(tagOpen) {\n                outputText = closeTag(outputText);\n                tagOpen = false;\n            }\n        }\n        outputText += diffString[i];\n    }\n    if(tagOpen) {\n        outputText = closeTag(outputText);\n    }\n    return outputText;\n};\n\nconst convertHtmlToEncodedString = (htmlText, tagMap) => {\n    htmlText = htmlText.replace(/&nbsp;/g, tagMap.get('&nbsp;'));\n    let diffableString = '';\n    let offset = 0;\n    while (offset < htmlText.length) {\n        let tagStart = htmlText.indexOf('<', offset);\n        if (tagStart < 0) {\n            diffableString += htmlText.substr(offset);\n            break;\n        }\n        else {\n            var tagEnd = htmlText.indexOf('>', tagStart);\n            if (tagEnd < 0) {\n                // Invalid HTML\n                // Truncate at the start of the tag\n                diffableString += htmlText.substr(offset, tagStart - offset);\n                break;\n            }\n            let tagString = htmlText.substr(tagStart, tagEnd + 1 - tagStart);\n            // Is this tag already mapped?\n            let unicodeCharacter = tagMap.get(tagString);\n            if (!unicodeCharacter) {\n                // Nope, need to map it\n                unicodeCharacter = String.fromCharCode(0xE000 + tagMap.size/2);\n                tagMap.set(tagString, unicodeCharacter);\n                tagMap.set(unicodeCharacter, tagString);\n            }\n            // At this point it has been mapped, so now we can use it\n            diffableString += htmlText.substr(offset, tagStart - offset);\n            diffableString += unicodeCharacter;\n            offset = tagEnd + 1;\n        }\n    }\n    return diffableString;\n};\n\nconst convertEncodedStringToHtml = (text, tagMap) => {\n    let htmlString = '';\n    for (let x = 0; x < text.length; x++) {\n        let charCode = text.charCodeAt(x);\n        if (charCode < 0xE000) {\n            htmlString += text[x];\n            continue;\n        }\n        let tagString = tagMap.get(text[x]);\n        if (!tagString) {\n            // We somehow have a character that is above our range but didn't map\n            htmlString += text[x];\n        }\n        else {\n            htmlString += tagString;\n        }\n    }\n    return htmlString;\n};\n\nconst findDifferences = (baseContent, compareContent, isHtml, tagMap) => {\n    const unicodeChar = String.fromCharCode(0xE000);\n    tagMap.set('&nbsp;', unicodeChar);\n    tagMap.set(unicodeChar, '&nbsp;');\n\n    const baseString = isHtml? convertHtmlToEncodedString(baseContent, tagMap) : baseContent;\n    const compareString = isHtml? convertHtmlToEncodedString(compareContent, tagMap) : compareContent;\n\n    const dmp = new diff_match_patch();\n    let diffs = dmp.diff_main(baseString, compareString);\n    dmp.diff_cleanupSemantic(diffs);\n\n    return diffs;\n};\n\nexport const getDiffContent = (baseContent='', compareContent='', isHtml, keepSpacing) => {\n    const tagMap = new Map();\n    let diffs = findDifferences(baseContent || '', compareContent || '', isHtml, tagMap);\n\n    const originalContent = diffs.reduce((output, diff) => {\n        let taggedString;\n        if(diff[0] === -1 || diff[0] === 0 || keepSpacing){\n            taggedString = addDiffIndicationTags(diff[1], diff[0]);\n            return output + convertEncodedStringToHtml(taggedString, tagMap);\n        } else {\n            return output;\n        }\n    }, '');\n\n    const changedContent = diffs.reduce((output, diff) => {\n        let taggedString;\n        if(diff[0] === 1 || diff[0] === 0 || keepSpacing){\n            taggedString = addDiffIndicationTags(diff[1], diff[0]);\n            return output + convertEncodedStringToHtml(taggedString, tagMap);\n        } else {\n            return output;\n        }\n    }, '');\n\n    return {\n        originalContent,\n        changedContent\n    };\n};\n\n","import {FIELD_UPDATED} from './constants';\n\nexport const actionHandlers = {\n    [FIELD_UPDATED]: {\n\t\tstopPropagation: true,\n\t\teffect: ({action: {payload: {name, content}}, properties: {comparisonData}, updateProperties}) => {\n            comparisonData.forEach(item => {\n                if(item.name === name){\n                    item.changedContent = content;\n                }\n            });\n            updateProperties({\n                comparisonData\n            })\n        }\n    }\n}","import {actionTypes} from '@servicenow/ui-core';\nimport {get} from 'lodash';\nimport {\n    LOAD_LANGUAGES_AND_SOURCE, \n    LOAD_LANGUAGES_AND_SOURCE_SUCCESS, \n    LOAD_TRANSLATED_ARTICLE, \n    LOAD_TRANSLATED_SUCCESS, \n    TYPES, \n    EXCLUDE, \n    CREATE_OR_CHECKOUT_TRANSLATION,\n    CREATE_OR_CHECKOUT_TRANSLATION_FROM_TASK,\n    PREVIEW_TRANSLATED_RECORD,\n    LOAD_TRANSLATION_TASK,\n    LOAD_TRANSLATION_TASK_SUCCESS,\n    BUTTON_CLICKED,\n    MODAL_FOOTER_ACTION_CLICKED,\n    DROPDOWN_ITEM_CLICKED,\n    PREVIEW_RECORD,\n    GET_BLOCK_COUNT,\n    GET_BLOCK_COUNT_SUCCESS\n} from './constants';\nimport {KB_SHOW_ALERT_MESSAGE} from '../knowledgeDiscussionWrapper/constants';\nimport  {fetchLanguageAndSourceDetails, loadTranslatedArticle, createOrCheckout, getBlockCount} from './util/articleGraphqlQueries';\nimport {loadTranslationTaskDetails, createOrCheckoutFromTask} from './util/taskGraphqlQueries';\nimport {translationDataForLoad, translationDataForCreate, sortSourceContent} from './util/translationData';\nimport { t } from 'sn-translate';\n\nconst {COMPONENT_BOOTSTRAPPED} = actionTypes;\n\nlet previousSelection =[];\nlet excludeFields = EXCLUDE;\n\nexport const actionHandlers = {\n    [COMPONENT_BOOTSTRAPPED]: ({dispatch,properties:{sourceRecord, sourcePage, table}}) => {\n        if(!(table == 'kb_knowledge' || table == 'kb_knowledge_block'))\n            excludeFields.push('text');\n        dispatch('DYNAMIC_TRANSLATION#IS_ENABLED_REQUESTED', {\n            event: {eventName: 'KB - Workspace'}\n        });\n        if(sourcePage == 'task') {\n            dispatch(LOAD_TRANSLATION_TASK, {\n                sys_id: sourceRecord,\n                table: table,\n                types: TYPES,\n                exclude: excludeFields\n            })\n        } \n        else {\n            dispatch(GET_BLOCK_COUNT,{\n                sourceArticle: sourceRecord\n            });\n            dispatch(LOAD_LANGUAGES_AND_SOURCE,{\n                table: table,\n                sourceArticle: sourceRecord,\n                types: TYPES,\n                exclude: excludeFields\n            });\n        }\n    },\n\n    'DYNAMIC_TRANSLATION#IS_ENABLED': ({action, updateState}) => {\n        updateState({isDynamicTranslationEnabled:get(action,\"payload.response.translation\", false)})\n    },\n\n    /* GraphQL effects (Queries/Mutations) when loading content from Source article */\n    [GET_BLOCK_COUNT]: getBlockCount,\n    [GET_BLOCK_COUNT_SUCCESS]: ({action:{payload}, dispatch, updateState}) => {\n        const blockCount = get(payload,\"data.knowledge.getBlockCount\", 0);\n        if (blockCount > 0) {\n            dispatch(KB_SHOW_ALERT_MESSAGE, {\n                action: {\n                    type: \"dismiss\"\n                },\n                status: \"critical\",\n                icon: \"bell-outline\",\n                content: t(\"Translation of articles with blocks is not supported.\")\n            });\n            updateState({\n                disableCreateArticle: true,\n                isDynamicTranslationEnabled: false\n            });\n        }  \n    },\n    [LOAD_LANGUAGES_AND_SOURCE] : fetchLanguageAndSourceDetails,\n    [LOAD_LANGUAGES_AND_SOURCE_SUCCESS]: ({action: {payload}, updateState, dispatch, properties:{table,sourceRecord}, state:{selectedLanguage}}) => {\n        let languageResults = get(payload,\"data.knowledge.languages\",[]);\n        \n        languageResults = languageResults.filter(item => item.disabled == false);\n        const languageItems = languageResults.map(({language, label}) => ({\n            id: language,\n            label: label\n        }));\n        selectedLanguage = [languageItems[0].id];\n        const sourceContent = sortSourceContent(get(payload, \"data.knowledge.source\",[]));\n        const srcLanguage = get(payload, \"data.gr.knowledge._results[0].language.displayValue\",[]);\n        updateState({ \n            languageItems:languageItems, \n            selectedLanguage:selectedLanguage,\n            sourceContent:sourceContent,\n            sourceLanguage: {\n                id: get(payload, \"data.gr.knowledge._results[0].language.value\",''),\n                label: get(payload, \"data.gr.knowledge._results[0].language.displayValue\",'')\n            }\n        });\n        dispatch(LOAD_TRANSLATED_ARTICLE,{\n            sourceArticle: sourceRecord,\n            table: table,\n            types: TYPES,\n            exclude: excludeFields,\n            selectedLanguage: selectedLanguage\n        })\n    },\n    [LOAD_TRANSLATED_ARTICLE]: loadTranslatedArticle,\n    [LOAD_TRANSLATED_SUCCESS]: ({action:{payload}, state:{comparisonData, sourceContent}, updateState, dispatch, properties}) => {\n        const results = get(payload,\"data.src.knowledge._results[0]._query.trans.knowledge._results\",[]);\n        if (results.length == 0) {\n            updateState({\n                comparisonData: translationDataForLoad(sourceContent,sourceContent)\n            });\n        } else {\n            const translated = get(results[0],\"_query.knowledge.translated\",[]);\n            updateState({\n                comparisonData:translationDataForLoad(sourceContent,translated)\n            });\n        }\n    },\n    [CREATE_OR_CHECKOUT_TRANSLATION]: createOrCheckout,\n\n    /* GraphQL effects (Queries/Mutations) when loading content from Translation task */\n    [LOAD_TRANSLATION_TASK]: loadTranslationTaskDetails,\n    [LOAD_TRANSLATION_TASK_SUCCESS]:({action:{payload}, dispatch, properties, updateState}) => {\n        const result = get(payload,\"data.glide.task._results[0]\", {});\n        const sourceArticle = get(result,\"source_article.value\", \"\");\n        dispatch(GET_BLOCK_COUNT, {\n            sourceArticle: sourceArticle\n        });\n        const languageResults = get(result, \"_query.knowledge.languages\",[]);\n        const srcLanguage  = {\n            id: get(result, \"_query.src.knowledge._results[0].language.value\", ''),\n            label: get(result, \"_query.src.knowledge._results[0].language.displayValue\", '')\n        };\n        const languageItems = languageResults.map(({language, label}) => ({\n            id: language,\n            label: label \n        }));\n        \n        updateState({\n            languageItems: languageItems,\n            selectedLanguage: [result.translated_language.value],\n            disableLanguage: true,\n            sourceLanguage: srcLanguage\n        });\n        const sourceContent = sortSourceContent(get(result, \"_query.knowledge.source\",[]));\n        let transArticle = get(result, \"_query.trans.knowledge._results\",[]);\n        if (transArticle.length == 0) {\n            updateState({\n                comparisonData: translationDataForLoad(sourceContent,sourceContent)\n            });\n        } else {\n            const translatedContent = get(transArticle[0],\"_query.knowledge.translated\",[]);\n            updateState({\n                comparisonData:translationDataForLoad(sourceContent,translatedContent)\n            });\n        }\n    },\n    [CREATE_OR_CHECKOUT_TRANSLATION_FROM_TASK]: createOrCheckoutFromTask,\n\n    /*Actions triggered on NOW components */\n    [DROPDOWN_ITEM_CLICKED]: ({state:{selectedLanguage}, action:{payload}, updateState}) => {\n        // get(payload);\n        previousSelection = selectedLanguage;\n        const changedLanguage = [get(payload,\"item.id\", \"\")];\n        if (changedLanguage != selectedLanguage[0]) {\n            updateState({\n                'languageWarningOpened': true,\n                'modalFor': 'languageChange'\n            });\n        }\n        updateState({'selectedLanguage': changedLanguage});\n    },\n    [BUTTON_CLICKED]:({action:{payload},updateState, state:{comparisonData,selectedLanguage}, dispatch, properties}) => {\n        if(payload.buttonFor == 'machineTranslate') {\n            updateState({\n                'languageWarningOpened': true,\n                'modalFor': 'machineTranslate'\n            });\n        }\n        if (payload.buttonFor == 'createDraftArticle') {\n            let translationObj = translationDataForCreate(comparisonData,selectedLanguage[0]);\n            const translationData = JSON.stringify(translationObj);\n            if(properties.sourcePage == 'task') {\n                dispatch(CREATE_OR_CHECKOUT_TRANSLATION_FROM_TASK,{\n                    sourceRecord: properties.sourceRecord,\n                    translationData: translationData\n                })\n            } else {\n                dispatch(CREATE_OR_CHECKOUT_TRANSLATION,{\n                    sourceRecord: properties.sourceRecord,\n                    translatedLanguage: selectedLanguage[0],\n                    translationData: translationData\n                })\n            }\n        }\n    }, \n    [MODAL_FOOTER_ACTION_CLICKED]: ({action:{payload}, updateState, state:{selectedLanguage, modalFor, comparisonData, sourceLanguage}, dispatch, properties}) => {\n        const footerVariant = get(payload, \"action.variant\", \"\");\n        if (footerVariant == \"secondary\") {\n            if (modalFor == 'languageChange')\n                updateState({'selectedLanguage':previousSelection});\n        } else {\n            if (modalFor == 'languageChange') {\n                dispatch(LOAD_TRANSLATED_ARTICLE, {\n                    table: properties.table,\n                    sourceArticle: properties.sourceRecord,\n                    selectedLanguage: selectedLanguage,\n                    types: TYPES,\n                    exclude: excludeFields\n                });\n            } else {\n                updateState({\n                    isTranslating: true,\n                    disableCreateArticle: true\n                });\n                comparisonData.forEach((element, index) => {\n                    dispatch('DYNAMIC_TRANSLATION#TEXT_TRANSLATION_REQUESTED', {\n                        msg: element.originalContent,\n                        sourceLanguage: sourceLanguage.id,\n                        targetLanguages: selectedLanguage,\n                        additionalParameters: [\n                            {'parameterName': 'textType', 'parameterValue': element.contentType},\n                            {'parameterName': 'elementIndex', 'parameterValue': index.toString()}\n                        ],\n                        event: {eventName: 'KB - Workspace'}\n                    })\n                });\n                \n            }\n        }\n        updateState({languageWarningOpened:false});\n    },\n    \n    /*Auto translate article fields */\n    'DYNAMIC_TRANSLATION#TEXT_TRANSLATED': ({action:{meta,payload}, state:{comparisonData}, updateState, dispatch   }) => {\n        if (payload.response.code) {\n            dispatch(KB_SHOW_ALERT_MESSAGE, {\n                action: {\n                    type: \"dismiss\"\n                },\n                status: \"critical\",\n                icon: \"bell-outline\",\n                content: t(\"Error while performing translation. If this persists, please contact administrator.\")\n            });\n            updateState({\n                isTranslating: false,\n                disableCreateArticle: false\n            });\n        } else {\n            let params = get(meta,\"request.additionalParameters\",[]);\n            const elemIndex =  (params.filter((element) => element.parameterName=='elementIndex'))[0].parameterValue;\n            const translatedData = comparisonData.map(function(element, index) {\n                if(index==elemIndex) \n                    element.changedContent = get(payload,\"response.translations[0].translatedText\",\"\");\n                return element;\n            });\n            updateState({comparisonData: translatedData});\n            if(elemIndex == comparisonData.length-1)\n                updateState({\n                    isTranslating: false,\n                    disableCreateArticle: false\n                });\n        }\n    },\n\n    /* Preview translated record */\n    [PREVIEW_TRANSLATED_RECORD]: ({action:{payload}, properties:{table, transRecord, sourcePage}, dispatch}) => {\n        let translatedRecord;\n        if(sourcePage=='task') \n            translatedRecord = get(payload, \"data.glide.createOrCheckoutFromTask\", \"\");\n        else\n            translatedRecord = get(payload, \"data.glide.createOrCheckout\", \"\");\n        if (translatedRecord != 'undefined') {\n            dispatch('RECORD_STATUS_CHANGED', {\n                table: table,\n                sys_id: transRecord,\n                status: 'closed'\n            });\n            dispatch(PREVIEW_RECORD, {\n                table: table,\n                sys_id: translatedRecord,\n                params: {\n                    mode: 'form'\n                }\n            });\n        } else {\n            if (sourcePage == 'task') {\n                dispatch(KB_SHOW_ALERT_MESSAGE, {\n                    action: {\n                        type: \"dismiss\"\n                    },\n                    status: \"critical\",\n                    icon: \"bell-outline\",\n                    content: t(\"A draft article already exists for this translation. Wait for it to be published.\")\n                });\n            }\n        }\n       \n    }\n}\n","import {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\nimport {\n    LOAD_LANGUAGES_AND_SOURCE_SUCCESS,\n    LOAD_TRANSLATED_SUCCESS,\n    PREVIEW_TRANSLATED_RECORD,\n    GET_BLOCK_COUNT_SUCCESS\n    } from '../constants';\n    \nconst load_languages_and_source_query = `\nquery($table: String!, $sourceArticle: String!, $types: [String!], $exclude: [String!]){\n  knowledge:AppKnowledge_Query {\n    source: getArticleByFieldTypes(table: $table, sys_id: $sourceArticle, types: $types, exclude: $exclude) {\n      name\n      type\n      label\n      value\n    }\n    languages: getAvailableLanguages(articleID:$sourceArticle){\n        language,\n        label,\n        disabled\n    }\n  }\ngr: GlideRecord_Query {\n  knowledge: kb_knowledge(queryConditions:\"sys_id={{sourceArticle}}\") {\n    _results {\n      language{\n        displayValue,\n        value\n      }\n    }\n  }\n}\n}`;\n\nconst load_translation_query = `query ($sourceArticle: String!, $table: String!, $types: [String!], $exclude: [String!]) {\n  src: GlideRecord_Query {\n    knowledge: kb_knowledge(sys_id: $sourceArticle) {\n      _results {\n        article_id {\n          value\n        }\n        _query {\n          trans: GlideRecord_Query {\n            knowledge: kb_knowledge(queryConditions: \"ORDERBYDESCsys_created_on^parent=$$parent.article_id$$^language={{selectedLanguage}}\", pagination: {limit: 1}) {\n              _results {\n                sys_id {\n                  value\n                }\n                workflow_state{\n                  value\n                }\n                _query {\n                  knowledge: AppKnowledge_Query {\n                    translated: getArticleByFieldTypes(table: $table, sys_id: \"$$parent.sys_id$$\", types: $types, exclude: $exclude) {\n                      name\n                      value\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n`;\n\nconst get_block_count = `\nquery($sourceArticle:String!){\n  knowledge: AppKnowledge_Query {\n    getBlockCount(articleID: $sourceArticle) \n  }\n}\n`;\n\nconst create_or_checkout_mutation = `\nmutation($sourceRecord:String!, $translatedLanguage: String!, $translationData: String!) {\n    glide: AppKnowledge_Mutation {createOrCheckout(articleID:$sourceRecord, translatedLanguage:$translatedLanguage, translationData:$translationData)\n    }\n  }\n`;\n\n\nexport const fetchLanguageAndSourceDetails = createGraphQLEffect(load_languages_and_source_query, {\n    variableList:['table', 'sourceArticle', 'types', 'exclude'],\n    templateVarList: ['sourceArticle'],\n    successActionType: LOAD_LANGUAGES_AND_SOURCE_SUCCESS\n});\n\nexport const getBlockCount = createGraphQLEffect(get_block_count, {\n  variableList: ['sourceArticle'],\n  successActionType: GET_BLOCK_COUNT_SUCCESS\n});\n\nexport const loadTranslatedArticle = createGraphQLEffect(load_translation_query, {\n    variableList: ['sourceArticle', 'table', 'types', 'exclude'],\n    templateVarList: ['selectedLanguage'],\n    successActionType: LOAD_TRANSLATED_SUCCESS\n});\n\nexport const createOrCheckout = createGraphQLEffect(create_or_checkout_mutation, {\n    variableList: ['sourceRecord', 'translatedLanguage', 'translationData'],\n    successActionType: PREVIEW_TRANSLATED_RECORD\n});\n","import {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\nimport {\n    LOAD_TRANSLATION_TASK_SUCCESS,\n    PREVIEW_TRANSLATED_RECORD} from '../constants'\nconst create_or_checkout_from_task_mutation = `\nmutation($sourceRecord:String!, $translationData: String!) {\n  glide: AppKnowledge_Mutation {createOrCheckoutFromTask(translationTaskID:$sourceRecord, translationData:$translationData)\n  }\n}`;\n\nconst load_translation_task_query = `\nquery ($sys_id: String!, $table: String!, $types: [String!], $exclude: [String!]) {\n  glide: GlideRecord_Query {\n    task: kb_translation_task(sys_id: $sys_id) {\n      _results {\n        source_article {\n          value\n        }\n        translated_article {\n          value\n        }\n        translated_language {\n          value\n        }\n        _query {\n          src: GlideRecord_Query {\n            knowledge: kb_knowledge(queryConditions: \"sys_id=$$parent.source_article$$\", pagination: {limit: 1}) {\n              _results {\n                language {\n                  displayValue\n                  value\n                }\n              }\n            }\n          }\n          trans: GlideRecord_Query {\n            knowledge: kb_knowledge(queryConditions: \"ORDERBYDESCsys_created_on^parent=$$parent.source_article.article_id$$^language=$$parent.translated_language$$\" , pagination: {limit: 1}) {\n              _results {\n                sys_id {\n                  value\n                }\n                workflow_state{\n                  value\n                }\n                _query {\n                  knowledge: AppKnowledge_Query {\n                    translated: getArticleByFieldTypes(table: $table, sys_id: \"$$parent.sys_id$$\", types: $types, exclude: $exclude) {\n                      name\n                      value\n                    }\n                  }\n                }\n              }\n            }\n          }\n          knowledge: AppKnowledge_Query {\n            source: getArticleByFieldTypes(table: $table, sys_id: \"$$parent.source_article$$\", types: $types, exclude: $exclude) {\n              name\n              type\n              label\n              value\n            }\n            languages: getAvailableLanguages(articleID: \"$$parent.source_article$$\") {\n              language\n              label\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n\n\n`;\n\nexport const createOrCheckoutFromTask = createGraphQLEffect(create_or_checkout_from_task_mutation, {\n    variableList: ['sourceRecord', 'translationData'],\n    successActionType: PREVIEW_TRANSLATED_RECORD\n})\n\nexport const loadTranslationTaskDetails = createGraphQLEffect(load_translation_task_query,{\n    variableList: ['sys_id','table', 'types', 'exclude'],\n    successActionType: LOAD_TRANSLATION_TASK_SUCCESS\n})\n","export const translationDataForLoad = (source, translated) => {\n    const changedContentMap = new Map();\n    translated.forEach(({name,value}) => changedContentMap.set(name,value));\n    const comparisonData = source.map(({name,value,type,label}) => ({\n        name,\n        contentType: type==='translated_html'?'html':type,\n        heading: label,\n        originalContent: value,\n        changedContent: changedContentMap.get(name)\n    }));\n    return  comparisonData;\n};\n\nexport const translationDataForCreate = (comparisonData, translatedLanguage) => {\n    let translationObj = {htmlFieldArray:[], stringFieldArray:[]};\n    comparisonData.forEach((element) => {\n        let fieldObj = {\n            name: element.name,\n            value: element.changedContent,\n            label: element.heading\n        }\n        if (element.contentType == 'html') {\n            translationObj.htmlFieldArray.push(fieldObj);\n        } else {\n            translationObj.stringFieldArray.push(fieldObj);\n        }\n    });\n    translationObj.language = translatedLanguage;\n    return translationObj;\n}\n\nexport const sortSourceContent = (source) => {\n    source.sort((field1,field2) => {\n        if(field1.name === 'short_description'){\n            return -1;\n        } else if(field2.name === 'short_description'){\n            return 1;\n        } else if(field1.type === 'html' || field1.type === 'translated_html'){\n            return -1;\n        } else if(field2.type === 'html' || field2.type === 'translated_html'){\n            return 1;\n        } else {\n            return 0;\n        }\n    });\n    return source;\n}\n\n\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./style.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-kb-article-translation){width:100%}nav{display:flex;margin-left:1.5rem;margin-right:1.5rem}nav .header-left,nav .header-right{width:50%}nav now-button,nav now-icon{float:right;margin-bottom:.5rem;margin-left:.5rem}nav now-icon{margin-top:.5rem}ul{margin:0;padding-left:0}ul li.comparator-row{display:flex;margin-top:1rem}ul li.comparator-row .old-content{width:calc(50% - 2.5rem);color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}ul li.comparator-row .new-content{width:calc(50% - 2.5rem)}ul li.comparator-row .content-block{margin:0 1.5rem;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:1rem}ul li.comparator-row .content-block now-label-value-inline{margin-bottom:.25rem}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$servicenow_behavior_dynamic_translation_18_0_2;","export {default as kbComparator} from './kbArtlcleComparator';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport {actions, actionHandlers} from './action';\nimport view from './view';\nimport styles from './kbArticleComparator.scss';\n\ncreateCustomElement('sn-kb-article-comparator', {\n    view,\n    actions,\n    actionHandlers,\n    styles,\n    initialState: {\n        comparisonData:[]\n    },\n    properties: {\n        table: {\n            default: 'kb_knowledge',\n            reflect: true\n        },\n        firstVersion: {\n            default: '',\n            reflect: true\n        },\n        secondVersion: {\n            default: '',\n            reflect: true\n        }\n    }\n});","import {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\nimport {actionTypes} from '@servicenow/ui-core';\nimport {READY_TO_FETCH, DATA_LOADED} from './constants';\nimport { t } from \"sn-translate\";\n\nconst {COMPONENT_BOOTSTRAPPED} = actionTypes;\nconst query = `\nquery($table: String!, $query: String!, $types: [String!], $exclude: [String!]){\n    GlideRecord_Query {\n        kb_version (queryConditions:$query){\n            _results{\n                knowledge{\n                    value\n                }\n                snapshot{\n                    value\n                }\n                version{\n                    value\n                }\n                _query{\n                    AppKnowledge_Query{\n                        getArticleByFieldTypes(table:$table, sys_id:\"$$parent.knowledge$$\", snapshot:\"$$parent.snapshot$$\", types:$types, exclude: $exclude){\n                            name,\n                            type,\n                            label,\n                            value\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n`;\n\nexport const actions = {\n    [READY_TO_FETCH]: {\n        private: true\n    }\n};\n\nexport const actionHandlers = {\n    [COMPONENT_BOOTSTRAPPED]: ({dispatch, properties:{table,firstVersion,secondVersion}}) => {\n        setTimeout(() => dispatch(\"CONTENT_UPDATED\", {\n            title: t(\"Compare versions\")\n        }), 500);\n        dispatch(READY_TO_FETCH, {\n            table,\n            query: `sys_idIN${firstVersion},${secondVersion}`,\n            types: [\n                \"string\",\n                \"html\",\n                \"translated_html\"\n            ],\n            exclude: [\n                \"article_id\",\n                \"language\",\n                \"topic\",\n                \"number\",\n                \"meta\",\n                \"meta_description\",\n                \"display_number\",\n                \"sys_created_by\",\n                \"sys_updated_by\",\n                \"description\",\n                \"category\",\n                \"article_type\"\n            ]\n        });\n    },\n    [READY_TO_FETCH]: createGraphQLEffect(query, {\n        variableList: ['table','query','types','exclude'],\n        successActionType: DATA_LOADED\n    }),\n    [DATA_LOADED]: {\n        effect : ({action: {payload}, updateState, dispatch}) => {\n            const {\n                data: {\n                    GlideRecord_Query: {\n                        kb_version: {\n                          _results: [\n                                version1,\n                                version2\n                            ]\n                        }\n                    }\n                }\n            } = payload;\n    \n            let original, changed;\n            let originalVersionNumber, changedVersionNumber;\n            const versionNumber1 = parseFloat(version1.version.value);\n            const versionNumber2 = parseFloat(version2.version.value)\n            const getArticleData = version => version._query.AppKnowledge_Query.getArticleByFieldTypes;\n    \n            if(versionNumber1 < versionNumber2){\n                originalVersionNumber = versionNumber1;\n                changedVersionNumber = versionNumber2;\n                original = getArticleData(version1);\n                changed = getArticleData(version2);\n            } else {\n                originalVersionNumber = versionNumber2;\n                changedVersionNumber = versionNumber1;\n                original = getArticleData(version2);\n                changed = getArticleData(version1);\n            }\n            \n            const changedContentMap = new Map();\n            changed.forEach(({name,value}) => changedContentMap.set(name,value));\n    \n            const comparisonData = original.map(({name,value,type,label}) => ({\n                name,\n                contentType: type==='translated_html'?'html':type,\n                heading: label,\n                originalContent: value,\n                changedContent: changedContentMap.get(name)\n            })).filter(({originalContent,changedContent}) => originalContent || changedContent);\n            \n            updateState({\n                originalVersionNumber,\n                changedVersionNumber,\n                comparisonData\n            });\n        },\n        stopPropagation: true\n    } \n};","\nexport const READY_TO_FETCH = 'KB_COMPARATOR_READY_TO_FETCH';\nexport const DATA_LOADED = 'KB_COMPARATOR_DATA_LOADED';\n","import {Fragment} from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-heading';\nimport {t} from 'sn-translate';\nimport '../kbSharedComparator';\nimport Comparator from '../kbSharedComparator/Comparator';\n\nexport default state => {\n    const {comparisonData, originalVersionNumber, changedVersionNumber} = state;\n    if(originalVersionNumber || changedVersionNumber){\n        return (\n            <Fragment>\n                <now-heading has-no-margin className=\"header-left\" label={t('Compare article versions')} variant=\"header-secondary\"/>\n                <ul>\n                    <Comparator \n                        contentType=\"String\"\n                        heading={t('Article version')}\n                        originalContent={originalVersionNumber} \n                        changedContent={changedVersionNumber}\n                        name=\"version\"\n                        mode=\"normal\"\n                    />\n                </ul>\n                <sn-kb-shared-comparator mode=\"diff\" comparison-data={comparisonData}/>\n            </Fragment>\n        );\n    } else {\n        null;\n    }\n}","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./kbArticleComparator.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(sn-kb-article-comparator){width:100%}now-heading{margin-left:1.5rem}ul{margin:0;padding-left:0}ul li.comparator-row{display:flex;margin-top:1rem}ul li.comparator-row .old-content{width:calc(50% - 2.5rem);color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}ul li.comparator-row .new-content{width:calc(50% - 2.5rem)}ul li.comparator-row p{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));margin-block-start:0;margin-block-end:0}ul li.comparator-row .content-block{margin:0 1.5rem;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:1rem}ul li.comparator-row .content-block now-label-value-inline{margin-bottom:.25rem}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$devsnc_sn_document_viewer;","import { createGraphQLEffect } from \"@servicenow/ui-effect-graphql\";\nimport { t } from \"sn-translate\";\nimport { get, isEmpty } from \"lodash\";\nimport { AnswerQuery, QuestionQuery } from \"./queries\";\nimport { actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_RENDERED } = actionTypes;\nimport {\n\tLOAD_QUESTION,\n\tLOAD_ANSWER,\n\tLOAD_QUESTION_SUCCEEDED,\n\tLOAD_QUESTION_FAILED,\n\tLOAD_ANSWER_SUCCEEDED,\n\tLOAD_ANSWER_FAILED,\n\tCOMPARE_ARTICLE_VERSIONS,\n\tKB_SHOW_ALERT_MESSAGE,\n\tNOW_ALERT_ACTION_CLICKED,\n\tNOW_ALERT_LIST_ITEMS_SET,\n\tSHOW_ALERT_MESSAGES,\n\tPREVIEW_RECORD,\n\tCONTENT_UPDATED\n} from \"./constants\";\n\nconst fetchAnswerEffect = createGraphQLEffect(AnswerQuery, {\n\tsuccessActionType: LOAD_ANSWER_SUCCEEDED,\n\terrorActionType: LOAD_ANSWER_FAILED,\n\tvariableList: [\"condition\", \"answerID\"]\n});\n\nconst fetchQuestionEffect = createGraphQLEffect(QuestionQuery, {\n\tsuccessActionType: LOAD_QUESTION_SUCCEEDED,\n\terrorActionType: LOAD_QUESTION_FAILED,\n\tvariableList: [\"condition\", \"questionID\"]\n});\n\nexport const actions = {\n\t[LOAD_QUESTION]: {\n\t\tprivate: true\n\t},\n\t[LOAD_ANSWER]: {\n\t\tprivate: true\n\t}\n};\n\nexport const actionHandlers = {\n\t[COMPONENT_RENDERED]: {\n\t\teffect: ({ dispatch, properties }) => {\n\t\t\tif(!isEmpty(properties.title))\n\t\t\tsetTimeout(() => dispatch(CONTENT_UPDATED, {\n            title: properties.title\n      }), 500);\n\t\t}\n\t},\n\t[LOAD_QUESTION]: fetchQuestionEffect,\n\t[LOAD_ANSWER]: fetchAnswerEffect,\n\t[LOAD_QUESTION_SUCCEEDED]: {\n\t\teffect :({action, updateState}) =>{\n\t\t\tupdateState({\n\t\t\t\tquestion: action.payload.data\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\n\t},\n\t[LOAD_QUESTION_FAILED]:  {\n\t\teffect :({state, updateState}) =>{\n\t\t\tupdateState({\n\t\t\t\t...state\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[LOAD_ANSWER_SUCCEEDED]: {\n\t\teffect :({action, updateState}) =>{\n\t\t\tupdateState({\n\t\t\t\tanswer: action.payload.data\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\n\t},\n\t[LOAD_ANSWER_FAILED]: {\n\t\teffect :({state, updateState}) =>{\n\t\t\tupdateState({\n\t\t\t\t...state\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[COMPARE_ARTICLE_VERSIONS]: {\n\t\teffect: ({ dispatch, action }) => {\n\t\t\tconst { table, versions } = action.payload;\n\t\t\tconst versionIds = versions.split(\",\");\n\t\t\tif (versionIds.length != 2) {\n\t\t\t\tdispatch(KB_SHOW_ALERT_MESSAGE, {\n\t\t\t\t\taction: {\n\t\t\t\t\t\ttype: \"dismiss\"\n\t\t\t\t\t},\n\t\t\t\t\tstatus: \"warning\",\n\t\t\t\t\ticon: \"bell-outline\",\n\t\t\t\t\tcontent: t(\"You can compare only two versions of a knowledge article.\")\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tversionIds.sort();\n\t\t\tdispatch(PREVIEW_RECORD, {\n\t\t\t\ttable,\n\t\t\t\tsys_id: versionIds.join(\"_\"),\n\t\t\t\tparams: {\n\t\t\t\t\tmode: \"compare\"\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[KB_SHOW_ALERT_MESSAGE]: {\n\t\teffect : ({ updateState, action }) => {\n\t\t\tif (action.payload.content) {\n\t\t\t\taction.payload.id = new Date().getTime();\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: \"alertMessages\",\n\t\t\t\t\toperation: \"push\",\n\t\t\t\t\tvalue: action.payload\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[NOW_ALERT_ACTION_CLICKED]: {\n\t\teffect : ({ updateState, action, state }) => {\n\t\t\tif (action.payload.alertId) {\n\t\t\t\tlet ind = state.alertMessages.findIndex(\n\t\t\t\t\tx => x.id == action.payload.alertId\n\t\t\t\t);\n\t\t\t\tif (ind != -1) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tpath: \"alertMessages\",\n\t\t\t\t\t\toperation: \"splice\",\n\t\t\t\t\t\tstart: ind,\n\t\t\t\t\t\tdeleteCount: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[NOW_ALERT_LIST_ITEMS_SET]: {\n\t\teffect : ({ updateState, action }) => {\n\t\t\tif (get(action, \"payload.value\", []).length == 0) {\n\t\t\t\tupdateState({\n\t\t\t\t\talertMessages: []\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[SHOW_ALERT_MESSAGES]: {\n\t\teffect : ({ updateState, properties, state }) => {\n\t\t\tlet messages = get(properties, \"alerts\", \"\");\n\t\t\tif (!isEmpty(messages) && !state.messageDisplayed) {\n\t\t\t\tlet msg = messages.split(\"::\");\n\t\t\t\tlet tempMsgs = [];\n\t\t\t\tmsg.forEach(x => {\n\t\t\t\t\ttempMsgs.push({\n\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\ttype: \"dismiss\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstatus: \"info\",\n\t\t\t\t\t\ticon: \"circle-info-outline\",\n\t\t\t\t\t\tcontent: x,\n\t\t\t\t\t\tid: new Date().getTime()\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tupdateState({\n\t\t\t\t\talertMessages: [...state.alertMessages, ...tempMsgs],\n\t\t\t\t\tmessageDisplayed: true\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n","export { default } from './knowledgeCategoryPicker';","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport {actionHandlers} from './actions';\nimport { t } from 'sn-translate';\n\nconst knowledgeCategoryPicker = 'sn-kb-category-picker';\n\ncreateCustomElement(knowledgeCategoryPicker, {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\n\tinitialState: {\n\t\titems: [],\n\t\topened: true,\n\t\texpandedItems: [],\n\t\tselectedItems:[],\n\t\tloading: true,\n\t\tloadingItems:[],\n\t\tkbKnowledgeBase: '',\n\t\terrorMessage: t('No categories found')\n\t},\n\tproperties: {\n\t\trecordSysId: { default: '' },\n\t\tserializedChanges: { default: '{}' },\n\t\tvalue: { default: '' },\n\t\tkbKnowledgeBase: { default: '' },\n\t\tencodedRecord: { default: '' }\n\t},\n\tactionHandlers: actionHandlers\n});","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-content-tree';\nimport '@servicenow/now-modal';\nimport '@servicenow/now-loader';\nimport { t } from 'sn-translate';\n\nexport default (state) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<now-modal\n\t\t\t\theader-label={t('Select a category')}\n\t\t\t\topened={state.opened}\n\t\t\t\tsize=\"md\"\n\t\t\t\tshouldFocusOnOpen={true}>\n\t\t\t\t{state.loading ?\n\t\t\t\t\t<now-loader size=\"lg\" label={t('Loading')} /> : state.items.length == 0 ? <span>{state.errorMessage}</span>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<now-content-tree\n\t\t\t\t\t\t\texpanded-items={state.expandedItems}\n\t\t\t\t\t\t\titems={state.items}\n\t\t\t\t\t\t\tselect=\"single\"\n\t\t\t\t\t\t\tloading-items={state.loadingItems}\n\t\t\t\t\t\t\tselected-items={state.selectedItems}\n\t\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t</now-modal>\n\t\t</Fragment>\n\t);\n};","module.exports = __TECTONIC__$servicenow_now_content_tree;","module.exports = __TECTONIC__$servicenow_now_loader;","import {\n\tFETCH_CATEGORIES,\n\tFETCH_CATEGORIES_FROM_ARTICLE,\n\tITEM_CLICKED,\n\tFETCH_CATEGORIES_SUCCESS,\n\tFETCH_FAILURE,\n\tFETCH_NEXT_CATEGORIES,\n\tFETCH_NEXT_CATEGORIES_SUCCESS,\n\tFETCH_NEXT_CATEGORIES_FAILURE,\n\tCATGORY_PICKER_ITEM_SELECTED,\n\tNOW_CONTENT_TREE_LOADING_REQUESTED,\n\tVALUE_CHANGED,\n\tFETCH_CATEGORIES_FROM_ENCODED_RECORD\n} from './constants';\nimport { get, has, isEmpty } from 'lodash';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { actionTypes } from '@servicenow/ui-core';\nconst { COMPONENT_BOOTSTRAPPED } = actionTypes;\nimport { articleCategoryQuery, categoryQuery, encodedRecordCategoryQuery } from './queries';\nimport { t } from 'sn-translate';\n\nconst buildTree = (categories) => {\n\tvar catTree = {};\n\ttry {\n\t\tcategories.forEach((x) => {\n\t\t\tif (has(catTree, x.id)) {\n\t\t\t\tcatTree[x.id].label = x.label;\n\t\t\t\tcatTree[x.id].id = x.id;\n\t\t\t\tcatTree[x.id].path.unshift(x.parentId);\n\t\t\t} else {\n\t\t\t\tcatTree[x.id] = {\n\t\t\t\t\tid: x.id,\n\t\t\t\t\tlabel: x.label,\n\t\t\t\t\tchildren: [],\n\t\t\t\t\tpath: [x.parentId]\n\t\t\t\t};\n\t\t\t\tif (catTree[x.parentId] && catTree[x.parentId].path) {\n\t\t\t\t\tcatTree[x.id].path.unshift(...catTree[x.parentId].path);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (has(catTree, x.parentId)) {\n\t\t\t\tcatTree[x.parentId].children.push(catTree[x.id]);\n\t\t\t} else {\n\t\t\t\tcatTree[x.parentId] = {\n\t\t\t\t\tchildren: [catTree[x.id]]\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\treturn catTree;\n\t} catch (e) {\n\t\treturn {};\n\t}\n};\n\nconst getExpandedPath = (path) => {\n\tlet tempPath = [];\n\tpath.forEach((element, i) => {\n\t\tif (i == 0)\n\t\t\ttempPath.push([element]);\n\t\telse\n\t\t\ttempPath.push([...tempPath[i - 1], element]);\n\t});\n\treturn tempPath;\n};\n\nconst getPathinString = (path, tree) => {\n\tlet actualPath = 'items';\n\tlet tempTree = tree;\n\tfor (let i = 0; i < path.length; i++) {\n\t\tlet index = tempTree.findIndex(y => y.id == path[i]);\n\t\ttempTree = tempTree[index].children;\n\t\tif(index!=-1)\n\t\t\tactualPath += `[${index}].children`;\n\t}\n\treturn actualPath;\n};\n\nexport const actionHandlers = {\n\t[COMPONENT_BOOTSTRAPPED]: {\n\t\teffect({ dispatch, properties: { serializedChanges='{}', recordSysId, kbKnowledgeBase, value = '', encodedRecord = ''}, updateState }) {\n\t\t\tlet changes = JSON.parse(serializedChanges);\n\t\t\tlet hasValue = true;\n\t\t\tif (isEmpty(value)) {\n\t\t\t\tvalue = \"\"\n\t\t\t\thasValue = false\n\t\t\t}\n\t\t\tif (changes.hasOwnProperty('kb_knowledge_base')) {\n\t\t\t\tif (!isEmpty(changes.kb_knowledge_base)) {\n\t\t\t\t\tdispatch(FETCH_CATEGORIES, { id: changes.kb_knowledge_base, hasValue: hasValue, value: value });\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tpath: 'kbKnowledgeBase',\n\t\t\t\t\t\tvalue: changes.kb_knowledge_base,\n\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t});\n\t\t\t\t} else\n\t\t\t\t\tdispatch(FETCH_FAILURE, { errorMessage: t('Select a knowledge base') });\n\t\t\t\t\n\t\t\t} else if (!isEmpty(recordSysId) && recordSysId.length == 32) {\n\t\t\t\tdispatch(FETCH_CATEGORIES_FROM_ARTICLE, { id: recordSysId, hasValue: hasValue, value: value });\n\t\t\t} else if (!isEmpty(kbKnowledgeBase)) {\n\t\t\t\tdispatch(FETCH_CATEGORIES, { id: kbKnowledgeBase, hasValue: hasValue, value: value });\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'kbKnowledgeBase',\n\t\t\t\t\tvalue: kbKnowledgeBase,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t} else if (!isEmpty(encodedRecord)) {\n\t\t\t\tdispatch(FETCH_CATEGORIES_FROM_ENCODED_RECORD, { encodedRecord: encodedRecord, hasValue: hasValue, value: value });\n\t\t\t} else dispatch(FETCH_FAILURE);\n\t\t}\n\t},\n\n\t[FETCH_CATEGORIES]: createGraphQLEffect(categoryQuery, {\n\t\tvariableList: ['id', 'hasValue', 'value'],\n\t\tsuccessActionType: FETCH_CATEGORIES_SUCCESS,\n\t\terrorActionType: FETCH_FAILURE\n\t}),\n\n\t[FETCH_NEXT_CATEGORIES]: createGraphQLEffect(categoryQuery, {\n\t\tvariableList: ['id', 'hasValue', 'value'],\n\t\tsuccessActionType: FETCH_NEXT_CATEGORIES_SUCCESS,\n\t\terrorActionType: FETCH_NEXT_CATEGORIES_FAILURE\n\t}),\n\n\t[FETCH_CATEGORIES_FROM_ARTICLE]: createGraphQLEffect(articleCategoryQuery, {\n\t\tvariableList: ['id', 'hasValue', 'value'],\n\t\tsuccessActionType: FETCH_CATEGORIES_SUCCESS,\n\t\terrorActionType: FETCH_FAILURE\n\t}),\n\n\t[FETCH_CATEGORIES_FROM_ENCODED_RECORD]: createGraphQLEffect(encodedRecordCategoryQuery, {\n\t\tvariableList: ['encodedRecord', 'hasValue', 'value'],\n\t\tsuccessActionType: FETCH_CATEGORIES_SUCCESS,\n\t\terrorActionType: FETCH_FAILURE\n\t}),\n\n\t[ITEM_CLICKED]: {\n\t\teffect({ state, action, dispatch, updateState }) {\n\t\t\tdispatch(CATGORY_PICKER_ITEM_SELECTED, action.payload.item);\n\t\t\tif (state.opened) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'opened',\n\t\t\t\t\tvalue: false,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t\tdispatch(VALUE_CHANGED, {\n\t\t\t\t\tname: 'kb_category',\n\t\t\t\t\tvalue: get(action, 'payload.item.id', ''),\n\t\t\t\t\tdisplayValue: get(action, 'payload.item.label', '')\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\t[FETCH_CATEGORIES_SUCCESS]: {\n\t\teffect({ state, updateState, action, properties: { value } }) {\n\t\t\tif (get(action,'payload.errors.length',0) == 0) {\n\t\t\t\tvar data = get(action,'payload.data');\n\t\t\t\tvar categories = [];\n\t\t\t\tvar kbId = get(data, 'GlideRecord_Query.kb_knowledge._results[0].kb_knowledge_base.value', '');\n\t\t\t\tvar fromArticle = false;\n\t\t\t\tif (kbId) {\n\t\t\t\t\tcategories = get(data, 'GlideRecord_Query.kb_knowledge._results[0]._query.AppKnowledge_Query.first', []);\n\t\t\t\t\tfromArticle = true;\n\t\t\t\t} else {\n\t\t\t\t\tcategories = get(data, 'AppKnowledge_Query.first',[]);\n\t\t\t\t}\n\t\t\t\tif (categories.length > 0) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tpath: 'items',\n\t\t\t\t\t\tvalue: categories,\n\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t});\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tlet flatCategories = [];\n\t\t\t\t\t\tif (fromArticle)\n\t\t\t\t\t\t\tflatCategories = get(data, 'GlideRecord_Query.kb_knowledge._results[0]._query.AppKnowledge_Query.second', []);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tflatCategories = get(data, 'AppKnowledge_Query.second', []);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (flatCategories.length > 0) {\n\t\t\t\t\t\t\tlet categoryTree = buildTree(flatCategories);\n\t\t\t\t\t\t\tif (categoryTree[value]) {\n\t\t\t\t\t\t\t\tlet path = categoryTree[value].path;\n\t\t\t\t\t\t\t\tif (path.length > 0) {\n\t\t\t\t\t\t\t\t\tpath.shift();\n\t\t\t\t\t\t\t\t\tlet index = categories.findIndex(y => y.id == path[0]);\n\t\t\t\t\t\t\t\t\tif (index != -1) {\n\t\t\t\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\t\t\t\tpath: `items[${index}].children`,\n\t\t\t\t\t\t\t\t\t\t\tvalue: categoryTree[path[0]].children,\n\t\t\t\t\t\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlet expandedItems = getExpandedPath(path);\n\t\t\t\t\t\t\t\t\tpath.push(value);\n\t\t\t\t\t\t\t\t\tif (expandedItems.length > 0) {\n\t\t\t\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\t\t\t\tpath: 'expandedItems',\n\t\t\t\t\t\t\t\t\t\t\tvalue: expandedItems,\n\t\t\t\t\t\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\t\t\tpath: 'selectedItems',\n\t\t\t\t\t\t\t\t\t\tvalue: [path],\n\t\t\t\t\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet index = categories.findIndex(y => y.id == value);\n\t\t\t\t\t\t\tif (index != -1) {\n\t\t\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\t\t\tpath: 'selectedItems',\n\t\t\t\t\t\t\t\t\tvalue: [[value]],\n\t\t\t\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tupdateState({\n\t\t\t\tpath: 'loading',\n\t\t\t\tvalue: false,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t}\n\t},\n\n\t[NOW_CONTENT_TREE_LOADING_REQUESTED]: {\n\t\teffect({ action, dispatch, updateState }) {\n\t\t\tupdateState({\n\t\t\t\tpath: 'loadingItems',\n\t\t\t\tvalue: {\n\t\t\t\t\tpath: action.payload.path,\n\t\t\t\t\terror: false,\n\t\t\t\t\terrorMessage: t('Unable to load')\n\t\t\t\t},\n\t\t\t\toperation: 'unshift'\n\t\t\t});\n\t\t\tdispatch(FETCH_NEXT_CATEGORIES, { id: action.payload.item.id, hasValue: false, value: '' });\n\t\t}\n\t},\n\n\t[FETCH_NEXT_CATEGORIES_SUCCESS]: {\n\t\teffect({ action, state, updateState }) {\n\t\t\tvar categories = get(action.payload, 'data.AppKnowledge_Query.first', []);\n\t\t\tlet id = get(action, 'meta.options.variables.id');\n\t\t\tlet ind = state.loadingItems.findIndex(x => x.path[x.path.length - 1] == id);\n\t\t\tif (ind != -1) {\n\t\t\t\tlet path = state.loadingItems[ind].path;\n\t\t\t\tif (path.length > 0) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tpath: getPathinString(path, state.items),\n\t\t\t\t\t\tvalue: categories,\n\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t});\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tpath: 'loadingItems',\n\t\t\t\t\t\tvalue: '',\n\t\t\t\t\t\toperation: 'splice',\n\t\t\t\t\t\tstart: ind,\n\t\t\t\t\t\tdeleteCount: 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t[FETCH_NEXT_CATEGORIES_FAILURE]: {\n\t\teffect({ action, updateState, state }) {\n\t\t\tlet id = get(action, 'meta.options.variables.id');\n\t\t\tlet ind = state.loadingItems.findIndex(x => x.path[x.path.length - 1] == id);\n\t\t\tif (ind != -1) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: `loadingItems[${ind}].error`,\n\t\t\t\t\tvalue: true,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\t[FETCH_FAILURE]: {\n\t\teffect({ updateState, action }) {\n\t\t\tlet errorMessage = get(action, 'payload.errorMessage', t('No categories found'));\n\t\t\tupdateState({\n\t\t\t\tpath: 'loading',\n\t\t\t\tvalue: false,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tpath: 'errorMessage',\n\t\t\t\tvalue: errorMessage,\n\t\t\t\toperation: 'set'\n\t\t\t});\n\t\t}\n\t}\n};\n\n","export const FETCH_CATEGORIES_SUCCESS = 'KNOWLEDGE_CATEGORY_PICKER#FETCH_CATEGORIES_SUCCESS';\nexport const FETCH_FAILURE = 'KNOWLEDGE_CATEGORY_PICKER#FETCH_FAILURE';\nexport const FETCH_CATEGORIES = 'KNOWLEDGE_CATEGORY_PICKER#FETCH_CATEGORIES';\nexport const FETCH_NEXT_CATEGORIES = 'KNOWLEDGE_CATEGORY_PICKER#FETCH_NEXT_CATEGORIES';\nexport const FETCH_NEXT_CATEGORIES_SUCCESS = 'KNOWLEDGE_CATEGORY_PICKER#FETCH_NEXT_CATEGORIES_SUCCESS';\nexport const FETCH_NEXT_CATEGORIES_FAILURE = 'KNOWLEDGE_CATEGORY_PICKER#FETCH_NEXT_CATEGORIES_FAILURE';\nexport const VALUE_CHANGED = 'VALUE_CHANGED';\nexport const CATGORY_PICKER_ITEM_SELECTED = 'KNOWLEDGE_CATEGORY_PICKER#ITEM_SELECTED';\nexport const FETCH_CATEGORIES_FROM_ARTICLE = 'KNOWLEDGE_CATEGORY_PICKER#FETCH_CATEGORIES_FROM_ARTICLE';\nexport const ITEM_CLICKED = 'NOW_CONTENT_TREE#ITEM_CLICKED';\nexport const NOW_CONTENT_TREE_LOADING_REQUESTED = 'NOW_CONTENT_TREE#LOADING_REQUESTED';\nexport const FETCH_CATEGORIES_FROM_ENCODED_RECORD = \"FETCH_CATEGORIES_FROM_ENCODED_RECORD\"","export const articleCategoryQuery = `query($id :String!, $hasValue: Boolean!, $value: String!){\n    GlideRecord_Query {\n        kb_knowledge(sys_id: $id) {\n            _results {\n                kb_knowledge_base {\n                    value\n                }\n                _query {\n                    AppKnowledge_Query {\n                        first: getCategories(id: \"$$parent.kb_knowledge_base$$\", isSelected: false) {\n                            label\n                            id\n                            childrenAvailable\n                        }\n                        second: getCategories(id: $value, isSelected: true) @include(if: $hasValue){\n                          label\n                          id\n                          parentId\n                        }\n                    }\n                }\n            }\n        }\n  }\n}`;\n\nexport const categoryQuery = `query($id :String!, $hasValue: Boolean!, $value: String!){\n  AppKnowledge_Query {\n    first: getCategories(id: $id, isSelected: false) {\n      label\n      id\n      childrenAvailable\n    }\n    second: getCategories(id: $value, isSelected: true) @include(if: $hasValue){\n      label\n      id\n      parentId\n    }\n  }\n}\n`;\n\nexport const encodedRecordCategoryQuery = `query($encodedRecord :String!, $hasValue: Boolean!, $value: String!){\n  AppKnowledge_Query {\n    first: getCategoriesFromEncodedRecord(encodedRecord: $encodedRecord) {\n      label\n      id\n      childrenAvailable\n    }\n    second: getCategories(id: $value, isSelected: true) @include(if: $hasValue){\n      label\n      id\n      parentId\n    }\n  }\n}\n`;\n","import './articleTemplateSelector';","import { createCustomElement } from '@servicenow/ui-core';\nimport view from './view';\nimport { actions, actionHandlers } from './actions';\nimport styles from './styles.scss';\n\ncreateCustomElement('sn-article-template-selector', {\n    view,\n    styles,\n    actions,\n    actionHandlers,\n    initialState: {\n        selectedKnowledgeBase: { value: '', displayValue: '' },\n        selectedArticleTemplate: { value: '', displayValue: '' },\n        knowledgeBases: [],\n        defaultKnowledgeBases: [],\n        articleTemplates: [],\n        isModalOpened: true,\n        searchTerm: '',\n        selectedOptionDisplayValue: '',\n        mapExists: false,\n        tableMaps: [],\n        query: ''\n    },\n    properties: {\n        current: {\n            default: ''\n        },\n        source: {\n            default: ''\n        },\n        modal: {\n            default: 'true'\n        }\n    }\n});\n","import '@devsnc/sn-form-controls';\nimport '@servicenow/now-modal';\nimport '@servicenow/now-record-typeahead';\nimport { t } from 'sn-translate';\nimport { onSearchTermChange, onSelectionChange } from './utilities';\nimport {\n    LOAD_FIELD_MAP\n} from './constants';\n\nexport default (state, { dispatch, updateState }) => {\n    const {\n        selectedKnowledgeBase,\n        selectedArticleTemplate,\n        knowledgeBases,\n        defaultKnowledgeBases,\n        articleTemplates,\n        isModalOpened,\n        searchTerm,\n        selectedOptionDisplayValue,\n        mapExists\n    } = state;\n\n    const value = selectedOptionDisplayValue.length > 0 ? selectedOptionDisplayValue : searchTerm;\n\n    const selectChild = (choice) => {\n        updateState({\n            selectedArticleTemplate: choice\n        });\n        var prQuery = '';\n        if (mapExists)\n            dispatch(LOAD_FIELD_MAP, { sysId: state.properties.current, source: state.properties.source, target: choice.value });\n        else {\n            prQuery = 'kb_knowledge_base=' + selectedKnowledgeBase.value;\n            updateState({\n                query: prQuery\n            });\n        }\n        dispatch('SN_SCRIPTED_MODAL#BUTTON_ENABLED_SET', true);\n        if (prQuery != '') {\n            dispatch('SN_SCRIPTED_MODAL#DATA_SET', { query: prQuery, table: choice.value, kb: selectedKnowledgeBase.value });\n        }\n    }\n\n    const getFooterActions = () => {\n        if (selectedKnowledgeBase.value.trim() != '' && selectedArticleTemplate.value.trim() != '') {\n            return [{\n                \"label\": t('Create Article'),\n                \"variant\": \"primary\", \n                \"clickActionType\": \"OPEN_KNOWLEDGE_FORM\"\n            }, {\n                \"label\": t('Cancel'),\n                \"variant\": \"secondary\", \n                \"clickActionType\": \"CLOSE_MODAL\"\n            }];\n        } else {\n            return [{\n                \"label\": t(\"Create Article\"),\n                \"variant\": \"primary\", \n                \"clickActionType\": \"OPEN_KNOWLEDGE_FORM\", \n                \"disabled\": true\n            }, {\n                \"label\": t(\"Cancel\"),\n                \"variant\": \"secondary\", \n                \"clickActionType\": \"CLOSE_MODAL\"\n            }];\n        }\n    }\n\n    const knowlegeBaseDropdown = (\n        <now-record-typeahead\n            label={t(\"Knowledge Base\")}\n            required={true}\n            options={knowledgeBases}\n            value={value}\n            displayValue={selectedKnowledgeBase.displayValue + ''}\n            onValueChange={\n                (a, b, selectionValue, selectionDisplayValue, e) => {\n                    onSelectionChange(selectionValue, selectionDisplayValue, dispatch, updateState);\n                }\n            }\n            onChange={\n                (event) => {\n                    onSearchTermChange(event, defaultKnowledgeBases, selectedOptionDisplayValue, dispatch, updateState);\n                }\n            }\n        />\n    );\n\n    const articleTemplateDropdown = (\n        <sn-record-choice\n            readonly={selectedKnowledgeBase.value.trim() != '' ? false : true}\n            label={t(\"Article Template\")}\n            required={true}\n            choices={articleTemplates}\n            value={selectedArticleTemplate.value + ''}\n            displayValue={selectedArticleTemplate.displayValue + ''}\n            onValueChange={selectChild}\n        />\n    );\n\n    if (state.properties.modal == \"true\") {\n        return (\n            <now-modal\n                opened={isModalOpened}\n                manage-opened={true}\n                header-label={t(\"Create Article\")}\n                footer-actions={getFooterActions()}\n                size=\"md\">\n\n                <div className=\"header-statement\">\n                    {t(\"What type of article do you want to create?\")}\n                </div>\n\n                <span>\n                    <br /><br />\n                    {knowlegeBaseDropdown}\n                </span>\n\n                <span>\n                    <br /><br />\n                    {articleTemplateDropdown}\n                </span>\n                <br /><br />\n            </now-modal>\n        );\n    }\n    else if (state.properties.modal == \"false\") {\n        return (\n            <div>\n                <div className=\"header-statement\">\n                    {t(\"What type of article do you want to create?\")}\n                </div>\n\n                <span>\n                    <br /><br />\n                    {knowlegeBaseDropdown}\n                </span>\n\n                <span>\n                    <br /><br />\n                    {articleTemplateDropdown}\n                </span>\n                <br /><br />\n            </div>\n        );\n    }\n};","module.exports = __TECTONIC__$devsnc_sn_form_controls;","module.exports = __TECTONIC__$servicenow_now_record_typeahead;","import {\n    KNOWLEDGE_BASE_SELECTED\n} from './constants';\n\nconst filterResults = (searchTerm, options, dispatch, updateState) => {\n    if (searchTerm.length >= 1) {\n        updateState({\n            knowledgeBases: options.filter(obj => obj.displayValue.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1).map(obj => ({\n                \"value\": obj.value,\n                \"displayValue\": obj.displayValue\n            }))\n        });\n    } else {\n        updateState({\n            knowledgeBases: options,\n            selectedKnowledgeBase: { value: '', displayValue: '' }\n        });\n    }\n};\n\nexport const onSearchTermChange = (event, options, selectedOptionDisplayValue, dispatch, updateState) => {\n    if (event) {\n        let newState = {};\n        var searchTerm = event.target.value.replace(/^\\s+/g, '');\n\n        if (selectedOptionDisplayValue != null && selectedOptionDisplayValue.length > 0) {\n            newState.selectedOptionDisplayValue = '';\n            updateState({\n                selectedKnowledgeBase: { value: '', displayValue: '' }\n            });\n        }\n\n        filterResults(searchTerm, options, dispatch, updateState);\n        newState.searchTerm = searchTerm;\n        updateState(newState);\n    }\n};\n\nexport const onSelectionChange = (selectionValue, selectionDisplayValue, dispatch, updateState) => {\n    updateState({\n        searchTerm: selectionDisplayValue,\n        selectedOptionDisplayValue: selectionDisplayValue,\n        selectedKnowledgeBase: { value: selectionValue, displayValue: selectionDisplayValue },\n        selectedArticleTemplate: { value: '', displayValue: '-- Select --' }\n    });\n\n    dispatch(KNOWLEDGE_BASE_SELECTED, { id: selectionValue })\n};","import { default as knowledgeBase_read } from './knowledgeBase.read';\nimport { default as articleTemplate_read } from './articleTemplate.read';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport {\n    LOAD_KNOWLEDGE_BASES,\n    POPULATE_KNOWLEDGE_BASES,\n    KNOWLEDGE_BASE_SELECTED,\n    LOAD_ARTICLE_TEMPLATES,\n    POPULATE_ARTICLE_TEMPLATES,\n    OPEN_KNOWLEDGE_FORM,\n    CLOSE_MODAL,\n    NOW_MODAL_CLOSE,\n    PREVIEW_RECORD,\n    LOAD_TABLE_MAP,\n    TABLE_MAP_LOADED,\n    LOAD_FIELD_MAP,\n    FIELD_MAP_LOADED\n} from './constants';\nimport { actionTypes } from '@servicenow/ui-core';\n\nconst { COMPONENT_BOOTSTRAPPED } = actionTypes;\n\nconst loadKnowledgeBases = createGraphQLEffect(knowledgeBase_read, {\n    successActionType: POPULATE_KNOWLEDGE_BASES\n});\n\nconst tableMapQuery = `\nquery($queryConditions: String) {\n    GlideRecord_Query {\n        csm_table_map(queryConditions: $queryConditions) {\n            _results {\n                sys_id {\n                    value\n                }\n                target_table {\n                    value\n                }\n            }\n        }\n    }\n}`;\n\nconst fieldMapQuery = `\nquery ($sysId: String!, $source: String!, $target: String!) {\n    schema: AppKnowledge_Query {\n        function: getFieldMappings (sysId: $sysId, source: $source, target: $target) {\n          name\n          value\n        }\n    }\n}`;\n\nconst populateKnowledgeBases = ({ state, action, updateState, dispatch }) => {\n    updateState({\n        knowledgeBases: action.payload.data.schema.function,\n        defaultKnowledgeBases: action.payload.data.schema.function,\n        selectedKnowledgeBase: { value: '', displayValue: '' }\n    });\n    if (state.properties.source && state.properties.source != '') {\n        dispatch(LOAD_TABLE_MAP, { 'queryConditions': 'active=true^source_table=' + state.properties.source });\n    }\n}\n\nconst loadArticleTemplates = createGraphQLEffect(articleTemplate_read, {\n    successActionType: POPULATE_ARTICLE_TEMPLATES,\n    variableList: ['query']\n});\n\nconst populateArticleTemplates = ({ action, updateState, state }) => {\n    var temps = action.payload.data.schema.function;\n    updateState({\n        articleTemplates: temps,\n        selectedArticleTemplate: { value: '', displayValue: '-- Select --' }\n    });\n};\n\nconst closeModal = ({ updateState }) => {\n    updateState({\n        isModalOpened: false\n    });\n}\n\nconst openKnowledgeForm = ({ state, dispatch, updateState }) => {\n    dispatch(CLOSE_MODAL);\n    dispatch(PREVIEW_RECORD, {\n        table: state.selectedArticleTemplate.value,\n        sys_id: '-1',\n        params: { query: state.query, mode: 'form' }\n    });\n}\n\nconst knowledgeBaseSelected = ({ action, dispatch }) => {\n    dispatch(LOAD_ARTICLE_TEMPLATES, {\n        query: action.payload.id\n    });\n}\n\nexport const action = {\n    [LOAD_KNOWLEDGE_BASES]: {\n        private: true\n    },\n    [POPULATE_KNOWLEDGE_BASES]: {\n        private: true\n    },\n    [KNOWLEDGE_BASE_SELECTED]: {\n        private: true\n    },\n    [LOAD_ARTICLE_TEMPLATES]: {\n        private: true\n    },\n    [POPULATE_ARTICLE_TEMPLATES]: {\n        private: true\n    },\n    [OPEN_KNOWLEDGE_FORM]: {\n        private: true\n    },\n    [LOAD_TABLE_MAP]: {\n        private: true\n    },\n    [TABLE_MAP_LOADED]: {\n        default: true\n    },\n    [LOAD_FIELD_MAP]: {\n        default: true\n    },\n    [FIELD_MAP_LOADED]: {\n        default: true\n    }\n}\n\nexport const actionHandlers = {\n    [LOAD_KNOWLEDGE_BASES]: loadKnowledgeBases,\n    [POPULATE_KNOWLEDGE_BASES]: populateKnowledgeBases,\n    [LOAD_ARTICLE_TEMPLATES]: loadArticleTemplates,\n    [POPULATE_ARTICLE_TEMPLATES]: populateArticleTemplates,\n    [OPEN_KNOWLEDGE_FORM]: openKnowledgeForm,\n    [CLOSE_MODAL]: closeModal,\n    [NOW_MODAL_CLOSE]: closeModal,\n    [KNOWLEDGE_BASE_SELECTED]: knowledgeBaseSelected,\n    [COMPONENT_BOOTSTRAPPED]: {\n        effect({ state, dispatch }) {\n            dispatch(LOAD_KNOWLEDGE_BASES);\n        }\n    },\n    [LOAD_TABLE_MAP]: createGraphQLEffect(tableMapQuery,\n        {\n            successActionType: TABLE_MAP_LOADED,\n            variableList: ['queryConditions']\n        }),\n    [TABLE_MAP_LOADED]: (props) => {\n        var results = props.action.payload.data.GlideRecord_Query.csm_table_map._results;\n        if (results && results.length > 0) {\n            var temps = [];\n            for (var i = 0; i < results.length; i++) {\n                temps.push({ 'mapId': results[i].sys_id.value, 'target': results[i].target_table.value });\n            }\n            props.updateState({\n                mapExists: true,\n                tableMaps: temps\n            });\n        }\n    },\n    [LOAD_FIELD_MAP]: createGraphQLEffect(fieldMapQuery,\n        {\n            successActionType: FIELD_MAP_LOADED,\n            variableList: ['sysId', 'source', 'target']\n        }),\n    [FIELD_MAP_LOADED]: (props) => {\n        var prQuery = 'kb_knowledge_base=' + props.state.selectedKnowledgeBase.value;\n        if (props.action.payload.data.schema.function != null) {\n            var fieldMaps = props.action.payload.data.schema.function;\n            for (var i = 0; i < fieldMaps.length; i++) {\n                if(fieldMaps[i].name == 'kb_knowledge_base')\n                    continue;\n                prQuery = prQuery + \"^\" + fieldMaps[i].name + \"=\" + fieldMaps[i].value;\n            }\n        }\n        props.updateState({\n            query: prQuery\n        });\n        if (prQuery != '') {\n            props.dispatch('SN_SCRIPTED_MODAL#DATA_SET', { query: prQuery, table: props.state.selectedArticleTemplate.value, kb: props.state.selectedKnowledgeBase.value});\n        }\n    }\n}\n","const knowledgeBase_read = `query {\n    schema: AppKnowledge_Query {\n        function: getContributableKnowledgeBases {\n            value\n            displayValue\n        }\n    }\n}`;\n\nexport default knowledgeBase_read;\n","const articleTemplate_read = `query ($query: String!) {\n\tschema: AppKnowledge_Query {\n\t\tfunction: getArticleTemplatesByKnowledgeBase (knowledgeBase: $query) {\n          value\n          displayValue\n\t\t}\n\t}\n}`;\n\nexport default articleTemplate_read;\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.header-statement{font-weight:700;padding-left:.125rem}\", \"\"]);\n\n// exports\n","export {default as kbRequestTranslation} from './kbRequestTranslation';","import {createCustomElement} from '@servicenow/ui-core';\nimport view from './view';\nimport {actions, actionHandlers} from './actions';\nimport styles from './style.scss'\n\ncreateCustomElement('sn-kb-request-translation', {\n\tview,\n\tactions,\n\tactionHandlers,\n\tstyles,\n\tinitialState: {\n\t\tlanguageItems: []\n\t},\n\tproperties:{\n\t\tsourceArticle:{\n\t\t\tdefault:''\n\t\t}\n\t}\n});\n","import '@servicenow/now-dropdown';\nimport {Fragment} from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\n\nexport default ({languageItems}) => {\n    return (\n            <Fragment>\n                <div className='content'>\n                        <div>\n                                <span>{t(\"A language appears grayed out if the associated translation task is in progress.\")} </span>\n                        </div>\n                        <div className=\"content-label\">\n                                <span>{t('Select languages')}</span>\n                        </div>\n                        <div className='content-dropdown'>\n                                <now-dropdown items={languageItems}\n                                        bare\n                                        placeholder={t('Languages')}\n                                        select=\"multi\" \n                                        variant=\"secondary\" />\n                        </div>\n                </div>\n            </Fragment>\n    );\n}","import {actionTypes} from '@servicenow/ui-core';\nimport {\n    LOAD_LANGUAGES, \n    LOAD_LANGUAGES_SUCCESS,\n    LANGUAGES_SELECTED\n} from './constants';\nimport {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\nimport {getAvailableLanguages} from './queries';\nimport {get} from 'lodash';\n\nconst {COMPONENT_BOOTSTRAPPED} = actionTypes;\n\nconst fetchLanguageDetails = createGraphQLEffect(getAvailableLanguages,{\n    variableList: ['sourceArticle'],\n    successActionType: LOAD_LANGUAGES_SUCCESS\n})\n\nexport const actions = {\n    [LOAD_LANGUAGES]:{\n        private: true\n    }\n};\nexport const actionHandlers = {\n    [COMPONENT_BOOTSTRAPPED]: ({dispatch, properties}) => {\n        dispatch(LOAD_LANGUAGES , {\n            ...properties\n        });\n    },\n    [LOAD_LANGUAGES]: fetchLanguageDetails,\n    [LOAD_LANGUAGES_SUCCESS]: {\n        stopPropagation: true,\n        effect: ({action: {payload}, updateState}) => {\n            let results = get(payload,\"data.knowledge.languages\",[]);\n            const languageItems = results.map(({language, label,disabled}) => ({\n                id: language,\n                label: label,\n                disabled: disabled\n            }));\n            updateState({languageItems: languageItems});\n        }\n    },\n    [LANGUAGES_SELECTED] : ({action:{payload}, dispatch}) => {\n        dispatch('SN_SCRIPTED_MODAL#DATA_SET', {\n            selectedLanguages: payload.value.toString()\n        });\n    }\n};","\nexport const LOAD_LANGUAGES = 'LOAD_LANGUAGES';\nexport const LOAD_LANGUAGES_SUCCESS = 'LOAD_LANGUAGES_SUCCESS';\nexport const LANGUAGES_SELECTED = 'NOW_DROPDOWN#SELECTED_ITEMS_SET';","export const getAvailableLanguages = `\n    query($sourceArticle: String!){\n        knowledge: AppKnowledge_Query {\n            languages: getAvailableLanguages(articleID:$sourceArticle){\n                language,\n                label,\n                disabled\n            }\n        }\n    }\n`;\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./style.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:1rem}.content{margin-top:.25rem}.content-icon{margin-top:.125rem;position:absolute;display:inline-block}.content-label{margin-top:1.5rem}.content-dropdown{margin-top:.25rem}\", \"\"]);\n\n// exports\n","export const KNOWLEDGEBASE_PREVIEW = 'KNOWLEDGEBASE_PREVIEW';\n"],"sourceRoot":""}