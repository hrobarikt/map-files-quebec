{"version":3,"sources":["webpack://__TECTONIC__$servicenow_now_illustration/webpack/bootstrap","webpack://__TECTONIC__$servicenow_now_illustration/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__$servicenow_now_illustration/./src/index.js","webpack://__TECTONIC__$servicenow_now_illustration/./src/now-illustration.js","webpack://__TECTONIC__$servicenow_now_illustration/external \"__TECTONIC__$servicenow_library_enhanced_element_19_8_3\"","webpack://__TECTONIC__$servicenow_now_illustration/./src/_now-illustration.scss?2272","webpack://__TECTONIC__$servicenow_now_illustration/./src/_now-illustration.scss","webpack://__TECTONIC__$servicenow_now_illustration//mnt/jenkins/workspace/motive_design-system_quebec-LAU4EC4LTND4QOM764JRONU2HSYHYZ6QDWUSLZIXTBP7KKZ7BWQQ/target/checkout/node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__$servicenow_now_illustration/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__$servicenow_now_illustration/./src/maps.js","webpack://__TECTONIC__$servicenow_now_illustration/external \"__TECTONIC__$servicenow_behavior_resize_19_8_3\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","createNowIllustrationDriver","COMPONENT_CONNECTED","COMPONENT_DISCONNECTED","COMPONENT_PROPERTY_CHANGED","actionTypes","processSize","properties","updateState","dispatch","size","operation","path","shouldRender","processRequestedSize","illustration","updateResizeObserver","getCorrectAsset","then","toUse","asset","type","currentSize","Promise","resolve","assetMap","sizes","loaded","assetName","generateAssetName","fetch","async","response","ok","txt","text","replace","Blob","blob","data","URL","createObjectURL","loadAsset","getNextSize","availableSizes","keys","ordered","orderedSizeMap","reduce","acc","val","indexOf","push","length","pixelSizeChanged","width","height","smallerSide","Math","min","newSize","pixelSizeMap","md","lg","forceRemove","forceHostMeasure","host","requestAnimationFrame","rect","getBoundingClientRect","createEnhancedElement","default","schema","enum","alt","required","initialState","behaviors","behavior","resizeBehavior","options","timer","wait","preventRender","componentManaged","actionHandlers","state","action","previousValue","payload","requestedSize","stopPropagation","effect","styles","view","class","role","src","__TECTONIC__$servicenow_library_enhanced_element_19_8_3","result","toString","useSourceMap","list","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","__TECTONIC__$servicenow_ui_core","aMap","sm","error","interrupted","offline","permissions","unconfigured","forEach","__TECTONIC__$servicenow_behavior_resize_19_8_3"],"mappings":"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","file":"now-illustration.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","import './now-illustration';\nexport {createNowIllustrationDriver} from '../drivers';\n","import {createEnhancedElement} from '@servicenow/library-enhanced-element';\nimport styles from './_now-illustration.scss';\nimport {actionTypes} from '@servicenow/ui-core';\nimport {orderedSizeMap, pixelSizeMap, assetMap} from './maps.js';\nimport resizeBehavior from '@servicenow/behavior-resize';\n\nconst {\n\tCOMPONENT_CONNECTED,\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_PROPERTY_CHANGED\n} = actionTypes;\n\nconst processSize = ({properties, updateState, dispatch}) => {\n\tconst {size} = properties;\n\n\tif (size !== 'auto') {\n\t\tupdateState({\n\t\t\toperation: 'set',\n\t\t\tpath: 'requestedSize',\n\t\t\tvalue: size,\n\t\t\tshouldRender: false\n\t\t});\n\t\tprocessRequestedSize({\n\t\t\tsize,\n\t\t\tillustration: properties.illustration,\n\t\t\tupdateState\n\t\t});\n\t}\n\t// if size is auto we'll get the calculation from the resize observer\n\tupdateResizeObserver({properties, dispatch});\n};\n\nconst processRequestedSize = ({size, illustration, updateState}) => {\n\tgetCorrectAsset({size, illustration}).then((toUse) => {\n\t\tupdateState({\n\t\t\tasset: {...toUse.asset, type: toUse.type},\n\t\t\tcurrentSize: toUse.size\n\t\t});\n\t});\n};\n\n/**\n * Fetch one asset in one size and store information about it\n * in the asset map\n * @param {*} param0\n */\nconst loadAsset = ({size, illustration}) => {\n\tconst assetName = generateAssetName({size, illustration});\n\treturn fetch(`images/@servicenow/now-illustration/${assetName}`)\n\t\t.then(async (response) => {\n\t\t\tif (!response.ok) {\n\t\t\t\tdelete assetMap[illustration].sizes[size];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Because Safari + VO we have to ensure the svg is hidden or it will be annouced\n\t\t\t// at the img level + the svg level\n\t\t\tif (assetMap[illustration].type === 'svg') {\n\t\t\t\tlet txt = await response.text();\n\t\t\t\ttxt = txt.replace('<svg', '<svg aria-hidden=\"true\"');\n\t\t\t\treturn new Blob([txt], {type: 'image/svg+xml'});\n\t\t\t} else {\n\t\t\t\treturn response.blob();\n\t\t\t}\n\t\t})\n\t\t.then((blob) => {\n\t\t\tif (blob) {\n\t\t\t\tassetMap[illustration].sizes[size].loaded = true;\n\t\t\t\tassetMap[illustration].sizes[size].data = URL.createObjectURL(blob);\n\t\t\t}\n\t\t});\n};\n\n/**\n * Gets the image data for a size/illustration combo.\n * Note that this might return the data of a different image size\n * if the requested size doesn't exist\n * Only assets whitelisted in the assetmap can be loaded\n * Note that we can easily switch to allowing custom illustrations by dynamically\n * changing the asset map\n * Returns the data and the size associated with it\n * @param {*} param0\n */\nconst getCorrectAsset = ({size, illustration}) => {\n\treturn new Promise((resolve) => {\n\t\t// asset is not whitelisted or has no available sizes\n\t\tif (\n\t\t\t!size ||\n\t\t\t!illustration ||\n\t\t\t!assetMap[illustration] ||\n\t\t\t!assetMap[illustration].sizes\n\t\t) {\n\t\t\tresolve({data: '', size, type: null});\n\t\t\treturn;\n\t\t}\n\n\t\t// that size doesn't exist\n\t\tif (!assetMap[illustration].sizes[size]) {\n\t\t\tresolve(\n\t\t\t\tgetCorrectAsset({\n\t\t\t\t\tsize: getNextSize({size, illustration}),\n\t\t\t\t\tillustration\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!assetMap[illustration].sizes[size].loaded) {\n\t\t\tresolve(\n\t\t\t\tloadAsset({size, illustration}).then(() => {\n\t\t\t\t\treturn getCorrectAsset({size, illustration});\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tresolve({\n\t\t\tasset: assetMap[illustration].sizes[size],\n\t\t\tsize,\n\t\t\ttype: assetMap[illustration].type\n\t\t});\n\t});\n};\n\n/**\n * For a given illustration and `size` property gets the next \"logical\"\n * size based on requirements: try smaller first if no smaller ones then try bigger\n * @param {*} param0\n */\nconst getNextSize = ({size, illustration}) => {\n\tif (!assetMap[illustration] || !assetMap[illustration].sizes) {\n\t\treturn '';\n\t}\n\n\tconst availableSizes = Object.keys(assetMap[illustration].sizes),\n\t\tordered = orderedSizeMap.reduce((acc, val) => {\n\t\t\tif (availableSizes.indexOf(val) !== -1 || val === size) {\n\t\t\t\tacc.push(val);\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []),\n\t\ti = ordered.indexOf(size);\n\n\tif (ordered.length === 1) {\n\t\t// no other size available\n\t\treturn 'null';\n\t}\n\n\tif (i === 0) {\n\t\t// no smaller size, go up\n\t\treturn ordered[i + 1];\n\t} else {\n\t\treturn ordered[i - 1];\n\t}\n};\n\n/**\n * generate the name of an asset for a fetch request\n * @param {*} param0\n */\nconst generateAssetName = ({illustration, size}) => {\n\tif (!illustration || !size) {\n\t\treturn '';\n\t}\n\tconst type = assetMap[illustration].type\n\t\t? assetMap[illustration].type\n\t\t: 'svg';\n\n\treturn `${illustration}-${size}.${type}`;\n};\n\n/**\n * in auto mode the size of the comp changed, see if we need to change the requestedSize\n * @param {*} param0\n */\nconst pixelSizeChanged = ({updateState, width, height, dispatch}) => {\n\tconst smallerSide = Math.min(width, height);\n\tlet newSize = '';\n\n\tif (smallerSide <= pixelSizeMap.md) {\n\t\tnewSize = 'sm';\n\t} else if (smallerSide <= pixelSizeMap.lg) {\n\t\tnewSize = 'md';\n\t} else {\n\t\tnewSize = 'lg';\n\t}\n\n\tupdateState({\n\t\toperation: 'set',\n\t\tpath: 'requestedSize',\n\t\tvalue: newSize,\n\t\tshouldRender: false\n\t});\n\tdispatch('NOW_TILE_ICON#REQUESTED_SIZE_CHANGED');\n};\n\nconst updateResizeObserver = ({properties, forceRemove, dispatch}) => {\n\tif (properties.size === 'auto' && !forceRemove) {\n\t\tdispatch('NOW_RESIZE#ENABLE');\n\t} else {\n\t\tdispatch('NOW_RESIZE#DISABLE');\n\t}\n};\n\n/**\n * force a host size measure as the resizeobserver doesn't kick on init\n */\nconst forceHostMeasure = ({host, updateState, dispatch}) => {\n\trequestAnimationFrame(() => {\n\t\tconst rect = host.getBoundingClientRect();\n\t\tpixelSizeChanged({\n\t\t\tupdateState,\n\t\t\twidth: rect.width,\n\t\t\theight: rect.height,\n\t\t\tdispatch\n\t\t});\n\t});\n};\n\nconst view = (state) => {\n\t// no asset available\n\tif (!state.asset || !state.currentSize) {\n\t\treturn <span />;\n\t}\n\n\t// we do need the redundant \"img\" role on the image because safari doesn't identify\n\t// img + svg src correctly https://bugs.webkit.org/show_bug.cgi?id=187695\n\treturn (\n\t\t<figure class={{'now-illustration': true}}>\n\t\t\t<img\n\t\t\t\trole={\n\t\t\t\t\tstate.asset.type === 'svg' && state.properties.alt !== ''\n\t\t\t\t\t\t? 'img'\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\talt={state.properties.alt}\n\t\t\t\theight={pixelSizeMap[state.currentSize]}\n\t\t\t\twidth={pixelSizeMap[state.currentSize]}\n\t\t\t\tsrc={state.asset.data}\n\t\t\t/>\n\t\t</figure>\n\t);\n};\n\n/**\n * Multi-size set of illustrations loaded on-demand\n *\n * ```jsx\n * <now-illustration illustration=\"add-attachment\" size=\"auto\" />\n * ```\n *\n * @seismicElement now-illustration\n * @summary Multi-size set of illustrations loaded on-demand\n * @uib.label Illustration\n * @uib.icon illustration\n * @uib.description Multi-size set of illustrations loaded on-demand\n * @uib.category primitives\n * @uib.associatedTypes global.core\n * @uib.properties illustration, size, alt\n */\ncreateEnhancedElement('now-illustration', {\n\tproperties: {\n\t\t/**\n\t\t * Requested size used to pick the right illustration asset. If using `auto` then\n\t\t * the illustration will choose the appropriate illustration asset based on the current\n\t\t * size of the now-illustration component. Please note that for `auto` mode to work correctly you can't\n\t\t * set the illustration `display` to any inline value\n\t\t * @type {('sm'|'md'|'lg'|'auto')}\n\t\t * @uib.description Requested size used to pick the right illustration asset. If using `auto` then\n\t\t * the illustration will choose the appropriate illustration asset based on the current\n\t\t * size of the now-illustration component. Please note that for `auto` mode to work correctly you can't\n\t\t * set the illustration `display` to any inline value\n\t\t */\n\t\tsize: {\n\t\t\tdefault: 'auto',\n\t\t\tschema: {type: 'string', enum: ['sm', 'md', 'lg', 'auto']}\n\t\t},\n\t\t/**\n\t\t * alt text to use on the <img> tag of the illustration. By default the illustration is assumed\n\t\t * to be purely illustrative and no alt text is needed.\n\t\t * @type {(string)}\n\t\t * @uib.label Alt text\n\t\t * @uib.description alt text to use on the <img> tag of the illustration. By default the illustration\n\t\t * is assumed to be purely illustrative and no alt text is needed.\n\t\t */\n\t\talt: {\n\t\t\tdefault: '',\n\t\t\tschema: {\n\t\t\t\ttype: 'string'\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Name of the illustration to use\n\t\t * @type {('add-attachment'|'add-data'|'completed-tasks'|'error'|'first-time-user'|'interrupted'|'no-activities'|'no-data'|'no-search-results'|'offline'|'permissions'|'unconfigured')}\n\t\t * @uib.description Name of the illustration to use\n\t\t * @uib.defaultValue add-attachment\n\t\t */\n\t\tillustration: {\n\t\t\trequired: true,\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: [\n\t\t\t\t\t'add-attachment',\n\t\t\t\t\t'add-data',\n\t\t\t\t\t'completed-tasks',\n\t\t\t\t\t'error',\n\t\t\t\t\t'first-time-user',\n\t\t\t\t\t'interrupted',\n\t\t\t\t\t'no-activities',\n\t\t\t\t\t'no-data',\n\t\t\t\t\t'no-search-results',\n\t\t\t\t\t'offline',\n\t\t\t\t\t'permissions',\n\t\t\t\t\t'unconfigured'\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\tinitialState: {\n\t\tcurrentSize: null,\n\t\tasset: null\n\t},\n\tbehaviors: [\n\t\t{\n\t\t\tbehavior: resizeBehavior,\n\t\t\toptions: {\n\t\t\t\ttimer: {type: 'throttle', wait: 30},\n\t\t\t\tpreventRender: true,\n\t\t\t\tcomponentManaged: true\n\t\t\t}\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]: ({host, properties, dispatch, updateState}) => {\n\t\t\tprocessSize({properties, updateState, dispatch});\n\t\t\tif (properties.size === 'auto') {\n\t\t\t\tforceHostMeasure({host, updateState, dispatch});\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({host, properties, dispatch}) => {\n\t\t\tupdateResizeObserver({properties, host, dispatch, forceRemove: true});\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\thost,\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\taction,\n\t\t\tdispatch,\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tconst {name, value, previousValue} = action.payload;\n\n\t\t\tif (name === 'size') {\n\t\t\t\tprocessSize({properties, updateState, dispatch});\n\t\t\t\tif (value === 'auto' && previousValue !== 'auto') {\n\t\t\t\t\tforceHostMeasure({host, updateState, dispatch});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (name === 'illustration') {\n\t\t\t\tprocessRequestedSize({\n\t\t\t\t\tsize: state.requestedSize,\n\t\t\t\t\tillustration: properties.illustration,\n\t\t\t\t\tupdateState\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t['NOW_RESIZE#ELEMENT_RESIZED']: ({updateState, action, dispatch}) => {\n\t\t\tconst {width, height} = action.payload;\n\t\t\tpixelSizeChanged({updateState, width, height, dispatch});\n\t\t},\n\t\t['NOW_TILE_ICON#REQUESTED_SIZE_CHANGED']: {\n\t\t\tstopPropagation: true,\n\t\t\teffect: ({state, properties, updateState}) => {\n\t\t\t\tprocessRequestedSize({\n\t\t\t\t\tsize: state.requestedSize,\n\t\t\t\t\tillustration: properties.illustration,\n\t\t\t\t\tupdateState\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tstyles,\n\tview\n});\n","module.exports = __TECTONIC__$servicenow_library_enhanced_element_19_8_3;","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_now-illustration.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host{display:block}.now-illustration{display:flex;justify-content:center;align-items:center;height:100%;margin:0}\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__$servicenow_ui_core;","export const orderedSizeMap = ['sm', 'md', 'lg'];\nexport const pixelSizeMap = {\n\tsm: 56,\n\tmd: 216,\n\tlg: 352\n};\n\nconst aMap = {\n\t'add-attachment': {},\n\t'add-data': {},\n\t'completed-tasks': {},\n\terror: {},\n\t'first-time-user': {},\n\tinterrupted: {},\n\t'no-activities': {},\n\t'no-data': {},\n\t'no-search-results': {},\n\toffline: {},\n\tpermissions: {},\n\tunconfigured: {}\n};\n\n// initialize all illustrations with all sizes\nObject.keys(aMap).forEach((key) => {\n\taMap[key].sizes = {};\n\taMap[key].type = 'svg';\n\torderedSizeMap.forEach((size) => {\n\t\taMap[key].sizes[size] = {loaded: false, data: null};\n\t});\n});\n\nexport const assetMap = aMap;\n","module.exports = __TECTONIC__$servicenow_behavior_resize_19_8_3;"],"sourceRoot":""}