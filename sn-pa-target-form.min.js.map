{"version":3,"sources":["webpack://__TECTONIC__sn_pa_target_form/webpack/bootstrap","webpack://__TECTONIC__sn_pa_target_form/./src/sn-pa-target-form/constants.js","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__moment_2_24_0\"","webpack://__TECTONIC__sn_pa_target_form/./src/sn-pa-target-form/utils.js","webpack://__TECTONIC__sn_pa_target_form/./src/index.js","webpack://__TECTONIC__sn_pa_target_form/./src/sn-pa-target-form/index.js","webpack://__TECTONIC__sn_pa_target_form/./src/sn-pa-target-form/sn-pa-target-form.js","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_now_input\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_now_select\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_now_record_date_picker\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_now_checkbox\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_now_radio_buttons\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_now_alert\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__$servicenow_now_text_link\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__sn_pa_target_form/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__sn_pa_target_form/./src/sn-pa-target-form/actions.js","webpack://__TECTONIC__sn_pa_target_form/./src/sn-pa-target-form/sn-pa-target-form.scss?5cc7","webpack://__TECTONIC__sn_pa_target_form/./src/sn-pa-target-form/sn-pa-target-form.scss","webpack://__TECTONIC__sn_pa_target_form/./node_modules/css-loader/lib/css-base.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","COMPONENT_PREFIX","DEFAULT_TARGET_TYPE","TARGET_DATE_FORMAT","TARGET_DATE_VISIBLE_FORMAT","TARGET_TYPE","TARGET_VALUE","TARGET_DATE","TARGET_REVIEW_DATE","TARGET_IMPROVEMENT","TARGET_CALCULATION","TARGET_BASELINE_TYPE","INDICATOR_DIRECTION","TARGET_CALCULATION_TYPE","DISMISS_ALERT","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__moment_2_24_0","isValidNumber","number","preventNegative","test","Number","isSafeInteger","Math","floor","focusToNode","node","query","focusNode","shadowRoot","querySelector","focus","setTimeout","getMomentDate","date","format","dateMoment","isValid","handleTargetPercent","targetValue","baseline","percent","isPercentValue","indicatorDirection","targetCalculationType","isNaN","parsedValue","parsedPercent","parsedBaseline","replace","changeValueSign","change","id","toFixed","toString","Infinity","COMPONENT_BOOTSTRAPPED","actionTypes","COMPONENT_PROPERTY_CHANGED","userLanguage","window","createCustomElement","renderer","type","snabbdom","initialState","init","properties","formTitle","schema","default","targetAt","targetReview","uuid","createTarget","manageValue","manageType","openForm","hideTargetType","fieldMessages","items","for","status","enum","icon","content","required","baselineTargetValue","averageScore","hasCreateTargetRole","showBackButton","actionHandlers","updateState","moment","locale","selectedBaselineType","undefined","label","direction","action","payload","previousValue","state","dispatch","percentValue","setTargetImprovement","_direction","hasNoBaseline","handleInputValue","error","message","indexOf","valueMoment","reviewDateMoment","selectedTargetReview","reviewDateInvalid","selectedTargetAt","dateInvalid","stopPropagation","item","view","visibilityElm","baselineItems","options","baselineMessage","push","length","hasError","hasNoBaselineError","errorMessage","map","href","variant","underlined","configAria","append-to-payload","expanded","setElementRef","ref","checked","className","Fragment","helper-content","layout","manage-value","hook-insert","elm","hook-destroy","size","tooltip-content","config-aria","role","bare","disabled","manageChecked","selected-item","readonly","invalid","language","slot","styles","__TECTONIC__$servicenow_ui_core","__TECTONIC__$servicenow_now_input","__TECTONIC__$servicenow_now_select","__TECTONIC__$servicenow_now_record_date_picker","__TECTONIC__$servicenow_now_checkbox","__TECTONIC__$servicenow_now_radio_buttons","__TECTONIC__$servicenow_now_alert","__TECTONIC__$servicenow_now_text_link","__TECTONIC__lodash_4_17_4","__TECTONIC__sn_translate","fieldValue","invalidValue","result","useSourceMap","list","this","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules"],"mappings":"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","file":"sn-pa-target-form.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","export const COMPONENT_PREFIX = 'SN_PA_TARGET';\nexport const DEFAULT_TARGET_TYPE = 'global';\nexport const TARGET_DATE_FORMAT = 'YYYYMMDD';\nexport const TARGET_DATE_VISIBLE_FORMAT = 'MMM DD YYYY';\n\nexport const TARGET_TYPE = `${COMPONENT_PREFIX}#TARGET_TYPE`;\nexport const TARGET_VALUE = `${COMPONENT_PREFIX}#TARGET_VALUE`;\nexport const TARGET_DATE = `${COMPONENT_PREFIX}#TARGET_DATE`;\nexport const TARGET_REVIEW_DATE = `${COMPONENT_PREFIX}#TARGET_REVIEW_DATE`;\nexport const TARGET_IMPROVEMENT = `${COMPONENT_PREFIX}#TARGET_IMPROVEMENT`;\n\nexport const TARGET_CALCULATION = `${COMPONENT_PREFIX}#TARGET_CALCULATION`;\nexport const TARGET_BASELINE_TYPE = `${COMPONENT_PREFIX}#TARGET_BASELINE_TYPE`;\nexport const INDICATOR_DIRECTION = `${COMPONENT_PREFIX}#INDICATOR_DIRECTION`;\nexport const TARGET_CALCULATION_TYPE = `${COMPONENT_PREFIX}#TARGET_CALCULATION_TYPE`;\nexport const DISMISS_ALERT = `${COMPONENT_PREFIX}#DISMISS_ALERT`;\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__moment_2_24_0;","import moment from 'moment';\nimport { TARGET_DATE_VISIBLE_FORMAT } from './constants';\n\nexport function isValidNumber(number = '', preventNegative = false) {\n\tif (preventNegative)\n\t\treturn (\n\t\t\t!number ||\n\t\t\t(/^(\\d+(\\.\\d{0,6})?|\\.?\\d{1,2})$/.test(number) &&\n\t\t\t\tNumber.isSafeInteger(Math.floor(Number(number))))\n\t\t);\n\treturn (\n\t\t!number ||\n\t\t(/(^-$)|^(-{0,1}\\d+(\\.\\d{0,6})?|\\.?\\d{1,2})$/.test(number) &&\n\t\t\tNumber.isSafeInteger(Math.floor(Number(number))))\n\t);\n}\n\nexport const getMomentDate = (date, format = TARGET_DATE_VISIBLE_FORMAT) => {\n\tconst dateMoment = moment(date, format);\n\treturn dateMoment.isValid() ? dateMoment : date;\n};\n\n/**\n * indicatorDirection ---> { \"2\": \"Decrease\", \"3\": \"Increase\" }\n */\n\nexport const handleTargetPercent = (\n\ttargetValue = '',\n\tbaseline = '',\n\tpercent = '',\n\tisPercentValue,\n\tindicatorDirection,\n\ttargetCalculationType\n) => {\n\tif (\n\t\t(isNaN(Number(targetValue)) && !isPercentValue) ||\n\t\tisNaN(Number(percent) && isPercentValue) ||\n\t\t(percent === '' && targetValue === '')\n\t)\n\t\treturn '';\n\n\tlet parsedValue = Number(targetValue) || 0;\n\tlet parsedPercent = Number(percent) || 0;\n\n\tconst parsedBaseline = Number(`${baseline}`.replace(/([^0-9.,-]+)/gi, ''));\n\tconst changeValueSign =\n\t\t(indicatorDirection === '2' && parsedBaseline >= 0) ||\n\t\t(indicatorDirection === '3' && parsedBaseline < 0);\n\n\tif (isPercentValue) {\n\t\tconst change =\n\t\t\ttargetCalculationType.id === 'percentage'\n\t\t\t\t? parsedBaseline * (parsedPercent / 100)\n\t\t\t\t: parsedPercent;\n\t\tparsedValue = parsedBaseline + (changeValueSign ? -1 * change : change);\n\t\treturn Number(parsedValue.toFixed(6)).toString();\n\t} else {\n\t\tconst change =\n\t\t\ttargetCalculationType.id === 'percentage'\n\t\t\t\t? ((parsedBaseline - parsedValue) / parsedBaseline) * 100\n\t\t\t\t: parsedBaseline - parsedValue;\n\t\tlet parsedPercent = changeValueSign ? change : -1 * change;\n\t\tif (\n\t\t\tparsedPercent === Infinity ||\n\t\t\tparsedPercent === -Infinity ||\n\t\t\tisNaN(parsedPercent)\n\t\t)\n\t\t\tparsedPercent = 0;\n\t\treturn Number(parsedPercent.toFixed(6)).toString();\n\t}\n};\n\nexport function focusToNode(node, query) {\n\tlet focusNode = node;\n\n\tif (query) focusNode = (node.shadowRoot || node).querySelector(query);\n\n\tif (focusNode && typeof focusNode.focus === 'function')\n\t\tsetTimeout(() => focusNode.focus(), 0);\n}\n","import './sn-pa-target-form';\n","import './sn-pa-target-form';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport { snabbdom, Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-input';\nimport '@servicenow/now-select';\nimport '@servicenow/now-record-date-picker';\nimport '@servicenow/now-checkbox';\nimport '@servicenow/now-radio-buttons';\nimport '@servicenow/now-alert';\nimport '@servicenow/now-text-link';\nimport get from 'lodash/get';\nimport { t } from 'sn-translate';\nimport moment from 'moment';\n\nimport {\n\tDEFAULT_TARGET_TYPE,\n\tTARGET_DATE_VISIBLE_FORMAT,\n\tTARGET_DATE_FORMAT,\n\tTARGET_REVIEW_DATE,\n\tTARGET_DATE,\n\tTARGET_VALUE,\n\tTARGET_TYPE,\n\tTARGET_IMPROVEMENT,\n\tTARGET_CALCULATION,\n\tTARGET_BASELINE_TYPE,\n\tTARGET_CALCULATION_TYPE,\n\tINDICATOR_DIRECTION,\n\tDISMISS_ALERT,\n} from './constants';\n\nimport { handleInputValue } from './actions';\n\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nimport styles from './sn-pa-target-form.scss';\nimport { focusToNode, getMomentDate, handleTargetPercent } from './utils';\n\nconst userLanguage = () => {\n\treturn get(\n\t\twindow,\n\t\t'ux_globals.presource[\"sn-workspace-header:wsUserData\"].data.GlideDomain_Query.user.language',\n\t\t'en'\n\t);\n};\n\nconst view = (\n\t{\n\t\tproperties: {\n\t\t\tvalue,\n\t\t\ttargetAt,\n\t\t\ttargetReview,\n\t\t\ttype,\n\t\t\tcreateTarget,\n\t\t\tmanageValue,\n\t\t\tformTitle,\n\t\t\tmanageType,\n\t\t\thideTargetType,\n\t\t\taverageScore,\n\t\t\thasCreateTargetRole,\n\t\t\tbaselineTargetValue,\n\t\t\tindicatorDirection,\n\t\t\tshowBackButton,\n\t\t},\n\t\tinit,\n\t\tvisibilityElm,\n\t\tselectedTargetAt,\n\t\tselectedTargetReview,\n\t\tsetTargetImprovement = false,\n\t\tdateInvalid = false,\n\t\treviewDateInvalid = false,\n\t\ttargetCalculationType,\n\t\tselectedBaselineType,\n\t\tpercentValue,\n\t\tdirection,\n\t\terror,\n\t\thasNoBaseline,\n\t}, { updateState, dispatch }\n) => {\n\tconst baselineItems = [];\n\tconst options = [];\n\tconst baselineMessage = { type: \"critical\", message: t('There is no available existing target for selected start date to use as baseline value. ') };\n\tif (baselineTargetValue !== undefined)\n\t\tbaselineItems.push({\n\t\t\tid: 'existing_target',\n\t\t\tlabel: t('Existing target'),\n\t\t});\n\tif (averageScore !== undefined)\n\t\tbaselineItems.push({\n\t\t\tid: 'average',\n\t\t\tlabel: t('Average score for the selected date range'),\n\t\t});\n\n\tif (setTargetImprovement && value !== undefined) {\n\t\tpercentValue < 0 ? dispatch('PERCENT_VALUE_NEGATIVE') : dispatch('PERCENT_VALUE_POSITIVE');\n\t}\n\t(error && error.length) ? dispatch('ERROR', { hasError: true }) : dispatch('ERROR', { hasError: false });\n\thasNoBaseline ? dispatch('BASELINE_ERROR', { hasNoBaselineError: true }) : dispatch('BASELINE_ERROR', { hasNoBaselineError: false });\n\n\tconst getErrorMessage = (message) => message.map(message => <now-alert\n\t\tstatus={message.type}\n\t\ticon=\"info-circle-outline\"\n\t\tcontent={{\n\t\t\ttype: 'jsx', value: (\n\t\t\t\t<div>\n\t\t\t\t\t{message.message}\n\t\t\t\t\t<now-text-link label={t('Set target value manually')} href=\"javascript:void(0)\" variant=\"primary\" underlined={true} configAria={{\n\t\t\t\t\t\t'aria-label': t(\n\t\t\t\t\t\t\t'Set target value manually'\n\t\t\t\t\t\t),\n\t\t\t\t\t}}></now-text-link>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}}\n\t\tappend-to-payload={{ type: DISMISS_ALERT }}\n\t\taction={{ type: 'dismiss' }}\n\t\texpanded\n\t></now-alert>);\n\n\tconst errorMessage = (<div>\n\t\t{error && error.length ? (getErrorMessage(error)) : ''}\n\t</div>)\n\tconst setElementRef = (ref, name) => updateState({ [name]: ref });\n\n\tif (init && visibilityElm && !hideTargetType && !showBackButton) {\n\t\tfocusToNode(visibilityElm, 'input[type=\"radio\"]:checked');\n\t\tsetElementRef(null, 'visibilityElm');\n\t\tupdateState({ init: false });\n\t}\n\tif (hasCreateTargetRole)\n\t\toptions.push({\n\t\t\tid: 'global',\n\t\t\tlabel: t('Global'),\n\t\t\tchecked: type === 'global',\n\t\t})\n\toptions.push({\n\t\tid: 'personal',\n\t\tlabel: t('Personal'),\n\t\tchecked: hasCreateTargetRole ? type === 'personal' : true,\n\t});\n\n\treturn (\n\t\t<div className=\"sn-pa-target__form\">\n\t\t\t<div className=\"sn-pa-target__form-header\">\n\t\t\t\t<slot name=\"pre-title\" />\n\t\t\t\t<h6 className=\"sn-pa-target__form-header--title\">\n\t\t\t\t\t{formTitle}\n\t\t\t\t</h6>\n\t\t\t</div>\n\t\t\t<slot name=\"pre-form\">\n\t\t\t\t<div />\n\t\t\t</slot>\n\t\t\t<div className=\"sn-pa-target__form-controls\">\n\t\t\t\t{!hideTargetType ? (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<now-radio-buttons\n\t\t\t\t\t\t\tclassName=\"target_type\"\n\t\t\t\t\t\t\tlabel={t('Visibility')}\n\t\t\t\t\t\t\thelper-content={t('Global targets are visible to everyone and personal targets only to you.')}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\ttype: TARGET_TYPE,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={type}\n\t\t\t\t\t\t\tlayout=\"horizontal\"\n\t\t\t\t\t\t\tmanage-value={manageType}\n\t\t\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\t\t\tsetElementRef(elm, 'visibilityElm')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thook-destroy={() =>\n\t\t\t\t\t\t\t\tsetElementRef(null, 'visibilityElm')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t></now-radio-buttons>\n\n\t\t\t\t\t\t<div className=\"target_improvement\">\n\t\t\t\t\t\t\t<div className=\"target_improvement_label\">\n\t\t\t\t\t\t\t\t<label>{t('Target Improvement')}</label>\n\t\t\t\t\t\t\t\t{(baselineItems.length === 0) ? <now-button-iconic\n\t\t\t\t\t\t\t\t\ticon=\"circle-info-outline\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\ttooltip-content={t('No baselines available yet. Create an absolute target to get started.')}\n\t\t\t\t\t\t\t\t\tconfig-aria={{ 'aria-label': t('No baselines available yet. Create an absolute target to get started.') }}\n\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t/> : ''}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\t\ttype: TARGET_IMPROVEMENT,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\t'Set target as an improvement of the baseline'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tdisabled={baselineItems.length === 0}\n\t\t\t\t\t\t\t\tchecked={setTargetImprovement}\n\t\t\t\t\t\t\t\tmanageChecked\n\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t'aria-label': t(\n\t\t\t\t\t\t\t\t\t\t'Set target as an improvement of the baseline'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{setTargetImprovement ? (\n\t\t\t\t\t\t\t\t<div className=\"target-improvement-form\">\n\t\t\t\t\t\t\t\t\t<now-select\n\t\t\t\t\t\t\t\t\t\tclassName=\"target_calculation\"\n\t\t\t\t\t\t\t\t\t\tlabel={t('Target Calculation')}\n\t\t\t\t\t\t\t\t\t\thelper-content={t('Choose whether you want to calculate an improvement as a percentage or as a number of units of the KPI.')}\n\t\t\t\t\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'percentage',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Percentage (%)'),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tid: 'units',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Units of the KPI'),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tselected-item={targetCalculationType.id}\n\t\t\t\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\t\t\t\ttype: TARGET_CALCULATION,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<now-select\n\t\t\t\t\t\t\t\t\t\tlabel={t('Direction')}\n\t\t\t\t\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tid: '2',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Decrease'),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tid: '3',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('Increase'),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tselected-item={\n\t\t\t\t\t\t\t\t\t\t\tindicatorDirection && indicatorDirection !== '1' ? indicatorDirection : direction\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tdisabled={indicatorDirection === '2' || indicatorDirection === '3'}\n\t\t\t\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\t\t\t\ttype: INDICATOR_DIRECTION,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\t\t\t\tclassName=\"target_calculation_type\"\n\t\t\t\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\t\t\t\ttype: TARGET_CALCULATION_TYPE,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tlabel={t(targetCalculationType.label)}\n\t\t\t\t\t\t\t\t\t\thelper-content={t('Enter the {0} by which you want to improve your KPI.', targetCalculationType.id)}\n\t\t\t\t\t\t\t\t\t\tvalue={percentValue || ''}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<now-select\n\t\t\t\t\t\t\t\t\t\tlabel={t('Baseline')}\n\t\t\t\t\t\t\t\t\t\thelper-content={t('Set the baseline as an improvement on the current target or an improvement on the average value during the selected period of the visualization.')}\n\t\t\t\t\t\t\t\t\t\titems={baselineItems}\n\t\t\t\t\t\t\t\t\t\tselected-item={selectedBaselineType}\n\t\t\t\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\t\t\t\ttype: TARGET_BASELINE_TYPE,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\t\t\t\tclassName=\"baseline_value\"\n\t\t\t\t\t\t\t\t\t\tlabel={t('Baseline Value')}\n\t\t\t\t\t\t\t\t\t\thelper-content={t('The Baseline Value as calculated from the previous inputs.')}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tselectedBaselineType ===\n\t\t\t\t\t\t\t\t\t\t\t\t'existing_target'\n\t\t\t\t\t\t\t\t\t\t\t\t? baselineTargetValue\n\t\t\t\t\t\t\t\t\t\t\t\t: averageScore\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Fragment>\n\t\t\t\t) : undefined}\n\n\t\t\t\t<now-input\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\ttype: TARGET_VALUE,\n\t\t\t\t\t}}\n\t\t\t\t\treadonly={!hasCreateTargetRole && type === 'global' && !createTarget}\n\t\t\t\t\tclassName=\"target_value\"\n\t\t\t\t\tlabel={t('Target')}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\thelper-content={setTargetImprovement ? t('Target is automatically calculated based on the fields above.') : t('Enter target value.')}\n\t\t\t\t\tvalue={value || ''}\n\t\t\t\t\tmanage-value={manageValue}\n\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\tsetElementRef(elm, 'targetValueElm')\n\t\t\t\t\t}\n\t\t\t\t\thook-destroy={() => setElementRef(null, 'targetValueElm')}\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<now-record-date-picker\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\ttype: TARGET_DATE,\n\t\t\t\t\t}}\n\t\t\t\t\treadonly={!hasCreateTargetRole && type === 'global' && !createTarget}\n\t\t\t\t\tformat={TARGET_DATE_VISIBLE_FORMAT}\n\t\t\t\t\tclassName=\"start_date\"\n\t\t\t\t\tlabel={t('Start date')}\n\t\t\t\t\tvalue={selectedTargetAt || targetAt}\n\t\t\t\t\tinvalid={dateInvalid}\n\t\t\t\t\trequired\n\t\t\t\t\tlanguage={userLanguage()}\n\t\t\t\t/>\n\t\t\t\t<now-record-date-picker\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\ttype: TARGET_REVIEW_DATE,\n\t\t\t\t\t}}\n\t\t\t\t\treadonly={!hasCreateTargetRole && type === 'global' && !createTarget}\n\t\t\t\t\tformat={TARGET_DATE_VISIBLE_FORMAT}\n\t\t\t\t\tclassName=\"review_date\"\n\t\t\t\t\tlabel={t('Review date')}\n\t\t\t\t\tinvalid={reviewDateInvalid}\n\t\t\t\t\tvalue={selectedTargetReview || targetReview}\n\t\t\t\t\tlanguage={userLanguage()}\n\t\t\t\t/>\n\t\t\t\t<div slot=\"actions\">{errorMessage}</div>\n\t\t\t\t<div slot=\"actions\">{hasNoBaseline ? (<now-alert status={baselineMessage.type}\n\t\t\t\t\ticon=\"info-circle-outline\"\n\t\t\t\t\tcontent={{\n\t\t\t\t\t\ttype: 'jsx', value: (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{baselineMessage.message}\n\t\t\t\t\t\t\t\t<now-text-link append-to-payload={{ type: 'NO_BASELINE' }} label={t('Set target value manually')} href=\"javascript:void(0)\" variant=\"primary\" underlined={true} configAria={{\n\t\t\t\t\t\t\t\t\t'aria-label': t(\n\t\t\t\t\t\t\t\t\t\t'Set target value manually'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}></now-text-link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\tappend-to-payload={{ type: 'dismiss-baseline' }}\n\t\t\t\t\taction={{ type: 'dismiss' }}\n\t\t\t\t\texpanded></now-alert>) : ''}</div>\n\t\t\t</div>\n\t\t\t<slot name=\"post-form\">\n\t\t\t\t<div />\n\t\t\t</slot>\n\t\t\t<slot name=\"actions\" />\n\t\t</div>\n\t);\n};\n\ncreateCustomElement('sn-pa-target-form', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t},\n\tinitialState: {\n\t\tinit: false,\n\t},\n\tproperties: {\n\t\tformTitle: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tdefault: t('New Target'),\n\t\t},\n\t\ttargetAt: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\ttargetReview: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\ttype: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tdefault: DEFAULT_TARGET_TYPE,\n\t\t},\n\t\tuuid: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\tvalue: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\tcreateTarget: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean',\n\t\t\t},\n\t\t},\n\t\tmanageValue: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean',\n\t\t\t},\n\t\t\tdefault: false,\n\t\t},\n\t\tmanageType: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean',\n\t\t\t},\n\t\t\tdefault: true,\n\t\t},\n\t\topenForm: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean',\n\t\t\t},\n\t\t\tdefault: false,\n\t\t},\n\t\thideTargetType: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean',\n\t\t\t},\n\t\t\tdefault: false,\n\t\t},\n\t\tfieldMessages: {\n\t\t\tschema: {\n\t\t\t\ttype: 'array',\n\t\t\t\titems: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tfor: { type: 'string' },\n\t\t\t\t\t\tstatus: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tenum: [\n\t\t\t\t\t\t\t\t'info',\n\t\t\t\t\t\t\t\t'warning',\n\t\t\t\t\t\t\t\t'positive',\n\t\t\t\t\t\t\t\t'suggestion',\n\t\t\t\t\t\t\t\t'critical',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\ticon: { type: 'string' },\n\t\t\t\t\t\tcontent: { type: 'string' },\n\t\t\t\t\t},\n\t\t\t\t\trequired: ['text'],\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tindicatorDirection: {\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\t\tbaselineTargetValue: {\n\t\t\tschema: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t},\n\t\taverageScore: {\n\t\t\tschema: {\n\t\t\t\ttype: 'integer',\n\t\t\t},\n\t\t},\n\t\thasCreateTargetRole: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean',\n\t\t\t}\n\t\t},\n\t\tshowBackButton: {\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean',\n\t\t\t},\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tproperties: {\n\t\t\t\tvalue,\n\t\t\t\ttargetReview,\n\t\t\t\ttargetAt,\n\t\t\t\tbaselineTargetValue,\n\t\t\t\taverageScore,\n\t\t\t},\n\t\t\tupdateState,\n\t\t}) => {\n\t\t\tmoment.locale(userLanguage());\n\t\t\tupdateState({\n\t\t\t\tinit: true,\n\t\t\t\tvalue,\n\t\t\t\ttargetAt: targetAt\n\t\t\t\t\t? moment(targetAt, TARGET_DATE_FORMAT).format(\n\t\t\t\t\t\tTARGET_DATE_VISIBLE_FORMAT\n\t\t\t\t\t)\n\t\t\t\t\t: '',\n\t\t\t\ttargetReview: targetReview\n\t\t\t\t\t? moment(targetReview, TARGET_DATE_FORMAT).format(\n\t\t\t\t\t\tTARGET_DATE_VISIBLE_FORMAT\n\t\t\t\t\t)\n\t\t\t\t\t: '',\n\t\t\t\tselectedBaselineType:\n\t\t\t\t\tbaselineTargetValue !== undefined\n\t\t\t\t\t\t? 'existing_target'\n\t\t\t\t\t\t: averageScore !== undefined\n\t\t\t\t\t\t\t? 'average'\n\t\t\t\t\t\t\t: '',\n\t\t\t\ttargetCalculationType: { id: 'percentage', label: t('Percentage (%)') },\n\t\t\t\tdirection: '3',\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ action: { payload: { name, previousValue, value } },\n\t\t\tproperties: { averageScore, baselineTargetValue, indicatorDirection },\n\t\t\tstate,\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst { selectedBaselineType, percentValue, targetCalculationType, direction, setTargetImprovement } = state;\n\t\t\tconst _direction = indicatorDirection && indicatorDirection !== '1' ? indicatorDirection : direction;\n\t\t\tif (name === 'averageScore' && previousValue !== value && selectedBaselineType === 'average')\n\t\t\t\tdispatch(TARGET_VALUE, {\n\t\t\t\t\tvalue: handleTargetPercent(\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tpercentValue,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t_direction,\n\t\t\t\t\t\ttargetCalculationType\n\t\t\t\t\t)\n\t\t\t\t});\n\t\t\telse if (name === 'baselineTargetValue' && setTargetImprovement)\n\t\t\t\tdispatch(TARGET_VALUE, {\n\t\t\t\t\tvalue: handleTargetPercent(\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tselectedBaselineType === 'average' ? averageScore : (value ? value : averageScore),\n\t\t\t\t\t\tpercentValue,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tindicatorDirection || direction,\n\t\t\t\t\t\ttargetCalculationType\n\t\t\t\t\t),\n\t\t\t\t});\n\t\t\telse if (baselineTargetValue === undefined && averageScore !== undefined && selectedBaselineType === 'existing_target' && setTargetImprovement)\n\t\t\t\tupdateState({ hasNoBaseline: true });\n\t\t\tbaselineTargetValue === undefined\n\t\t\t\t? averageScore === undefined\n\t\t\t\t\t? updateState({\n\t\t\t\t\t\tsetTargetImprovement: false,\n\t\t\t\t\t\tselectedBaselineType: '',\n\t\t\t\t\t\tpercentValue: '',\n\t\t\t\t\t\thasNoBaseline: false,\n\t\t\t\t\t})\n\t\t\t\t\t: updateState({ selectedBaselineType: 'average' })\n\t\t\t\t: averageScore === undefined\n\t\t\t\t\t? updateState({ selectedBaselineType: 'existing_target' })\n\t\t\t\t\t: updateState({ hasNoBaseline: false });\n\t\t},\n\t\t'NOW_INPUT#INPUT': handleInputValue,\n\t\t'NOW_ALERT#ACTION_CLICKED': ({\n\t\t\taction: {\n\t\t\t\tpayload: { type },\n\t\t\t},\n\t\t\tupdateState,\n\t\t}) => {\n\t\t\tif (type === DISMISS_ALERT)\n\t\t\t\tupdateState({ error: [], setTargetImprovement: false });\n\t\t\tif (type === 'dismiss-baseline')\n\t\t\t\tupdateState({ hasNoBaseline: false })\n\n\t\t},\n\t\t'NOW_TEXT_LINK#CLICKED': ({ action: {\n\t\t\tpayload: { type },\n\t\t}, updateState }) => {\n\t\t\tupdateState({ error: [], setTargetImprovement: false });\n\t\t\tif (type === 'NO_BASELINE')\n\t\t\t\tupdateState({ hasNoBaseline: false });\n\t\t},\n\t\t'PERCENT_VALUE_NEGATIVE': ({ updateState }) => {\n\t\t\tupdateState({ error: [{ message: t('Target value is not an improvement from the Baseline value.'), type: 'critical' }] });\n\n\t\t},\n\t\t'PERCENT_VALUE_POSITIVE': ({ updateState }) => {\n\t\t\tupdateState({ error: [] });\n\t\t},\n\t\t'NOW_RECORD_DATE_PICKER#VALUE_CHANGED': ({\n\t\t\taction: {\n\t\t\t\tpayload: { value, type },\n\t\t\t},\n\t\t\tstate: {\n\t\t\t\tproperties: { targetAt, targetReview },\n\t\t\t},\n\t\t\tdispatch,\n\t\t\tupdateState,\n\t\t}) => {\n\t\t\tif ([TARGET_DATE, TARGET_REVIEW_DATE].indexOf(type) !== -1) {\n\t\t\t\tdispatch(type, { value });\n\t\t\t}\n\t\t\tmoment.locale(userLanguage());\n\t\t\tconst [valueMoment, dateMoment, reviewDateMoment] = [\n\t\t\t\tvalue && getMomentDate(value),\n\t\t\t\ttargetAt && getMomentDate(targetAt),\n\t\t\t\ttargetReview && getMomentDate(targetReview),\n\t\t\t];\n\t\t\tswitch (type) {\n\t\t\t\tcase TARGET_REVIEW_DATE:\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tselectedTargetReview: value,\n\t\t\t\t\t\treviewDateInvalid: dateMoment\n\t\t\t\t\t\t\t? valueMoment <= dateMoment\n\t\t\t\t\t\t\t: false,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase TARGET_DATE:\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tselectedTargetAt: value,\n\t\t\t\t\t\tdateInvalid: reviewDateMoment\n\t\t\t\t\t\t\t? valueMoment >= reviewDateMoment\n\t\t\t\t\t\t\t: false,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t'NOW_RADIO_BUTTONS#VALUE_SET': ({\n\t\t\taction: {\n\t\t\t\tpayload: { type, value },\n\t\t\t\tstopPropagation,\n\t\t\t},\n\t\t\tdispatch,\n\t\t}) => {\n\t\t\tif (type === TARGET_TYPE) {\n\t\t\t\tstopPropagation();\n\t\t\t\tdispatch(type, { value });\n\t\t\t}\n\t\t},\n\t\t'NOW_CHECKBOX#CHECKED_SET': ({\n\t\t\taction: {\n\t\t\t\tpayload: { type, value },\n\t\t\t},\n\t\t\tupdateState,\n\t\t}) => {\n\t\t\tif (type === TARGET_IMPROVEMENT)\n\t\t\t\tupdateState({ setTargetImprovement: value, error: [] });\n\t\t},\n\t\t'NOW_SELECT#SELECTED_ITEM_SET': ({\n\t\t\taction: {\n\t\t\t\tpayload: { type, item },\n\t\t\t},\n\t\t\tstate,\n\t\t\tdispatch,\n\t\t\tupdateState,\n\t\t}) => {\n\t\t\tconst { selectedBaselineType, targetCalculationType, percentValue, direction, properties: { indicatorDirection, baselineTargetValue, averageScore } } = state;\n\t\t\tif (type === TARGET_CALCULATION) {\n\t\t\t\tupdateState({ targetCalculationType: item, percentValue: '' });\n\t\t\t\tdispatch(TARGET_VALUE, { value: '' });\n\t\t\t}\n\t\t\tif (type === TARGET_BASELINE_TYPE) {\n\t\t\t\tupdateState({ selectedBaselineType: item.id });\n\t\t\t\tdispatch(TARGET_VALUE, {\n\t\t\t\t\tvalue: handleTargetPercent(\n\t\t\t\t\t\t'',\n\t\t\t\t\t\titem.id === 'average' ? averageScore : baselineTargetValue,\n\t\t\t\t\t\tpercentValue,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tindicatorDirection || direction,\n\t\t\t\t\t\ttargetCalculationType\n\t\t\t\t\t),\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (type === INDICATOR_DIRECTION) {\n\t\t\t\tupdateState({ direction: item.id, percentValue: '' });\n\t\t\t\tdispatch(TARGET_VALUE, { value: '' });\n\t\t\t}\n\t\t},\n\t},\n\tview,\n\tstyles,\n});\n","module.exports = __TECTONIC__$servicenow_ui_core;","module.exports = __TECTONIC__$servicenow_now_input;","module.exports = __TECTONIC__$servicenow_now_select;","module.exports = __TECTONIC__$servicenow_now_record_date_picker;","module.exports = __TECTONIC__$servicenow_now_checkbox;","module.exports = __TECTONIC__$servicenow_now_radio_buttons;","module.exports = __TECTONIC__$servicenow_now_alert;","module.exports = __TECTONIC__$servicenow_now_text_link;","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","module.exports = __TECTONIC__sn_translate;","import { TARGET_VALUE, TARGET_CALCULATION_TYPE } from './constants';\nimport { isValidNumber, handleTargetPercent } from './utils';\nexport const handleInputValue = ({\n\taction: {\n\t\tpayload: { fieldValue: value, type },\n\t\tstopPropagation,\n\t},\n\tstate,\n\tdispatch,\n\tupdateState,\n}) => {\n\tstopPropagation();\n\tconst { selectedBaselineType, targetCalculationType, direction, setTargetImprovement } = state;\n\tconst { properties: { baselineTargetValue, averageScore, indicatorDirection } } = state;\n\tconst baseline = selectedBaselineType === 'existing_target' ? baselineTargetValue : averageScore;\n\tconst _direction = indicatorDirection && indicatorDirection !== '1' ? indicatorDirection : direction;\n\tif (type === TARGET_VALUE) {\n\t\tupdateState({\n\t\t\tvalue,\n\t\t\tinvalidValue: value ? !isValidNumber(value) : true,\n\t\t\tpercentValue: setTargetImprovement ? handleTargetPercent(\n\t\t\t\tvalue,\n\t\t\t\tbaseline,\n\t\t\t\t'',\n\t\t\t\tfalse,\n\t\t\t\t_direction,\n\t\t\t\ttargetCalculationType\n\t\t\t) : '',\n\t\t});\n\t\tdispatch(type, { value });\n\t} else if (type === TARGET_CALCULATION_TYPE) {\n\t\tupdateState({\n\t\t\tpercentValue: value,\n\t\t});\n\t\tdispatch(TARGET_VALUE, {\n\t\t\tvalue: handleTargetPercent(\n\t\t\t\t'',\n\t\t\t\tbaseline,\n\t\t\t\tvalue,\n\t\t\t\ttrue,\n\t\t\t\t_direction,\n\t\t\t\ttargetCalculationType\n\t\t\t)\n\t\t});\n\t}\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-pa-target-form.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-line-height-crop--sm:after,.now-line-height-crop--sm:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop--sm:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-line-height-crop--sm:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-line-height-crop--sm+.now-line-height-crop--sm{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}:host{display:grid;grid-template:auto/auto;overflow:auto}:host .sn-pa-target__form{display:grid;grid-template:min-content min-content auto min-content min-content/auto;position:relative;min-height:0}:host .sn-pa-target__form-header{display:grid;grid-template:min-content auto/max-content;column-gap:.25rem;align-items:center;padding:1.5rem}:host .sn-pa-target__form-header slot[name=pre-title]{display:grid;grid-template:auto/auto;align-items:center}:host .sn-pa-target__form-header--title{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));font-size:1.25rem;font-weight:400;margin:0}:host .sn-pa-target__form-controls{display:grid;grid-template-areas:\\\"target_type\\\" \\\"target_improvement\\\" \\\"target_value\\\" \\\"start_date\\\" \\\"review_date\\\";align-items:end;align-self:flex-start;column-gap:1rem;padding:0 1.5rem;max-height:100%;min-height:0;overflow:auto}:host .sn-pa-target__form .target_type{-ms-grid-row:1;-ms-grid-column:1;grid-area:target_type;margin:0;padding-bottom:1.5rem}:host .sn-pa-target__form .target_improvement{-ms-grid-row:2;-ms-grid-column:1;grid-area:target_improvement;display:grid;row-gap:.5rem;padding-bottom:1.5rem}:host .sn-pa-target__form .target_improvement .target-improvement-form{display:grid;grid-template:auto/auto}:host .sn-pa-target__form .target_improvement .target-improvement-form now-select{margin:0;padding-bottom:1.5rem}:host .sn-pa-target__form .target_improvement label{color:RGB(var(--now-color--neutral-9,99,114,116));font-size:.75rem;font-weight:400}:host .sn-pa-target__form .target_value{-ms-grid-row:3;-ms-grid-column:1;grid-area:target_value;margin:0;padding-bottom:1.5rem}:host .sn-pa-target__form .start_date{-ms-grid-row:4;-ms-grid-column:1;grid-area:start_date;padding-bottom:1.5rem}:host .sn-pa-target__form .review_date{-ms-grid-row:5;-ms-grid-column:1;grid-area:review_date;padding-bottom:1.5rem}:host .sn-pa-target__form .target_calculation{padding-top:1.5rem}:host .sn-pa-target__form .target_calculation_type{margin:0;padding-bottom:1.5rem}:host .sn-pa-target__form .baseline_value{margin:0}:host .sn-pa-target__form slot[name=post-form]::slotted([slot=post-form]),:host .sn-pa-target__form slot[name=pre-form]::slotted([slot=pre-form]){padding:0 1.5rem}:host .sn-pa-target__form slot[name=actions]::slotted([slot=actions]){border-top:1px solid rgb(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)))}:host .sn-pa-target__form slot[name=actions]{padding:0 1.5rem 1.5rem}:host .sn-pa-target__form slot[name=actions]::slotted(:first-child){border-top:1px solid rgb(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)))}:host .sn-pa-target__form ::slotted(*){align-self:end}\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n"],"sourceRoot":""}