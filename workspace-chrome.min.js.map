{"version":3,"sources":["webpack://__TECTONIC__workspace_chrome/webpack/bootstrap","webpack://__TECTONIC__workspace_chrome/./src/constants/constants.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__sn_custom_create_element_3_0_0_rc_1\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__react\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_ui_renderer_react\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__workspace_chrome/./src/constants/presource.behaviors.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.util.js","webpack://__TECTONIC__workspace_chrome/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.moduleTab.js","webpack://__TECTONIC__workspace_chrome/./src/constants/ws_config.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__workspace_chrome/./node_modules/prop-types/index.js","webpack://__TECTONIC__workspace_chrome/./src/utils/behaviors/selectableProps.behaviors.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_ui_effect_update_state\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.storage.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-router/snWorkspaceRouter.util.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__sn_uxpage_presource_19_0_1\"","webpack://__TECTONIC__workspace_chrome/./src/utils/index.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/config.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__sn_user_preferences\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-popover/popoverContainer.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.generators.js","webpack://__TECTONIC__workspace_chrome/./src/constants/ws_renderer.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.cache.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.RecordChangeLogger.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-panels/slotUtils.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_ui_effect_graphql\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"isEqual\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/snWorkspaceToolbar.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/wsNotificationTray.util.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__react_dom\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/userDropdown/userDropdown.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.reducers.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.closeTabs.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_now_badge\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-panels/chromeTabPanels.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.selectors.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__sn_seismic_addons\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-one-tab/chromeOneTab.effects.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-one-tab/chromeOneTab.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/snWorkspaceBreadcrumb.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-router/snWorkspaceRouter.urlParser.js","webpack://__TECTONIC__workspace_chrome/./src/utils/tracking.js","webpack://__TECTONIC__workspace_chrome/./src/utils/browser.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-popover/_popoverContainer.scss?e24a","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"find\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-panels/updateElementProp.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_now_modal\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tabs/chromeTabsElement.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-one-tab/chromeOneTabQuery.read.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-popover/controlMenu.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-menu-with-key-event/chromeMenuWithKeyEvent.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/config.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/snWorkspaceToolbar.reducers.js","webpack://__TECTONIC__workspace_chrome/./src/utils/updateSlotProps.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__sn_component_error_handler\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-alert/chromeAlertElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-time-ago/chromeTimeAgo.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-alert/chromeAlert.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/snWorkspaceNotification.behaviors.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/snWorkspaceNotification.provider.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/snWorkspaceBreadcrumbElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/snWorkspaceBreadcrumb.reducers.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-router/snWorkspaceRouter.contentParser.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-home/snWorkspaceHome.actions.js","webpack://__TECTONIC__workspace_chrome/./src/sn-ux-content-option/snUXContentOption.util.js","webpack://__TECTONIC__workspace_chrome/./src/index.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/snWorkspaceHeaderElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/snWorkspaceHeader.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"clamp\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/utils/renderDeferredSlot.js","webpack://__TECTONIC__workspace_chrome/(webpack)/buildin/global.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__path_to_regexp_3_1_0\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__qs_6_9_0\"","webpack://__TECTONIC__workspace_chrome/./src/utils/configFilters.js","webpack://__TECTONIC__workspace_chrome/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://__TECTONIC__workspace_chrome/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-popover/_popoverContainer.scss","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-popover/jsElementPath.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-popover/popoverContainer.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/userDropdown/userDropdown.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/userDropdown/userDropdownItem.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/userDropdown/userDropdownToggleElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/userDropdown/userDropdownToggle.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_now_toggle\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"isEmpty\\\"]\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"isString\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-icon/wsNotificationIconElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-icon/wsNotificationIcon.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-icon/_wsNotificationIcon.scss?8de0","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-icon/_wsNotificationIcon.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/snWorkspaceHeader.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/_snWorkspaceHeader.scss?91f7","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-header/_snWorkspaceHeader.scss","webpack://__TECTONIC__workspace_chrome/./src/utils/selectablePropUtils.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-nav/snWorkspaceNavElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-nav/snWorkspaceNav.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-nav/_snWorkspaceNav.scss?7a23","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-nav/_snWorkspaceNav.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-content/snWorkspaceContentElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-content/snWorkspaceContent.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"head\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-panels/updateContentOptionState.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-content/snWorkspaceContent.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-content/_snWorkspaceContent.scss?7e10","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-content/_snWorkspaceContent.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabsElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tabs/chromeTabs.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-one-tab/chromeOneTabElement.js","webpack://__TECTONIC__workspace_chrome/./src/utils/effects/makeCustomHandler.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-one-tab/chromeOneTab.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/form-preview/formPreview.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"truncate\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-one-tab/_chromeOneTab.scss?6389","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-one-tab/_chromeOneTab.scss","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-popover/optionItem.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tabs/moreOptionMenu.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-overflow/chromeTabOverflow.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-overflow/overflowItemElement.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-overflow/overflowItem.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"pick\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-overflow/_overflowItem.scss?d3b2","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tab-overflow/_overflowItem.scss","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tabs/chromeTabs.util.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tabs/_chromeTabs.scss?4a25","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-tabs/_chromeTabs.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/_snWorkspaceTabs.scss?cd02","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/_snWorkspaceTabs.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-sub-tabs/snWorkspaceSubTabsElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-sub-tabs/snWorkspaceSubTabs.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-sub-tabs/_snWorkspaceSubTabs.scss?f0a7","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-sub-tabs/_snWorkspaceSubTabs.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/snWorkspaceToolbarElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/snWorkspaceToolbar.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/_snWorkspaceToolbar.scss?da95","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/_snWorkspaceToolbar.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/snWorkspaceToolbar.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/getButtonsFromSlot.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-layout/snWorkspaceLayoutElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-layout/snWorkspaceLayout.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-toast/wsNotificationToastElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-toast/_wsNotificationToast.scss?2a21","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-toast/_wsNotificationToast.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-toast/wsNotificationToast.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-toast/wsNotificationToast.config.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-alert/chromeAlert.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"defer\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-time-ago/chromeTimeAgoElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-time-ago/chromeTimeAgo.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__lodash_4_17_4[\\\"isNumber\\\"]\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-alert/_chromeAlert.scss?134a","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/chrome-alert/_chromeAlert.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/snWorkspaceNotification.root.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/wsNotificationTrayElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/wsNotificationTray.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/wsNotificationTray.scroll.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/wsNotificationTray.effects.js","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__workspace_chrome/external \"__TECTONIC__$servicenow_ui_effect_amb\"","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/wsNotificationTray.query.js","webpack://__TECTONIC__workspace_chrome/./src/utils/effects/makeReducerStateHandler.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/_wsNotificationTray.scss?65ee","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-notification/ws-notification-tray/_wsNotificationTray.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/_snWorkspaceBreadcrumb.scss?17c8","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/_snWorkspaceBreadcrumb.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/snWorkspaceBreadcrumb.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/OneBreadCrumb.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/snWorkspaceBreadcrumb.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-breadcrumb/snWorkspaceBreadcrumb.graphql.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-router/snWorkspaceRouterElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-router/snWorkspaceRouter.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-router/snWorkspaceRouter.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-router/snWorkspaceRouter.contentGenerator.js","webpack://__TECTONIC__workspace_chrome/./src/internal-components/chrome-layout-handler-container/chromeLayoutHandlerContainer.js","webpack://__TECTONIC__workspace_chrome/./src/utils/theme.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.behaviors.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-tabs/snWorkspaceTabs.reducers.liveUpdate.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/snWorkspaceToolbar.behaviors.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar/snWorkspaceToolbar.root.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-layout/snWorkspaceLayout.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-layout/_snWorkspaceLayout.scss?8c74","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-layout/_snWorkspaceLayout.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-main/snWorkspaceMainElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-main/snWorkspaceMain.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-main/_snWorkspaceMain.scss?b25e","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-main/_snWorkspaceMain.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-primary-content/snWorkspacePrimaryContentElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-primary-content/snWorkspacePrimaryContent.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-primary-content/snWorkspacePrimaryContent.effects.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-primary-content/_snWorkspacePrimaryContent.scss?26b4","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-primary-content/_snWorkspacePrimaryContent.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-home/snWorkspaceHomeElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-home/_snWorkspaceHome.scss?0e07","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-home/_snWorkspaceHome.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-home/snWorkspaceHome.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-home/snWorkspaceHome.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar-button/snWorkspaceToolbarButtonElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar-button/_snWorkspaceToolbarButton.scss?0c4f","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar-button/_snWorkspaceToolbarButton.scss","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar-button/snWorkspaceToolbarButton.js","webpack://__TECTONIC__workspace_chrome/./src/sn-workspace-toolbar-button/snWorkspaceToolbarButton.util.js","webpack://__TECTONIC__workspace_chrome/./src/sn-ux-content-option/snUxContentOptionElement.js","webpack://__TECTONIC__workspace_chrome/./src/sn-ux-content-option/snUxContentOption.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","COMPONENT_ID","SN_WORKSPACE_LAYOUT","SN_WORKSPACE_NOTIFICATION_TRAY","CLEAR_NOTIFICATIONS_ENDPOINT","ROOT_TAB_ID","MODULE_TAB_ID","PANEL_ID","MASTER_SLOT","DETAIL_SLOT","PICKER_STATE_PROP","PICKER_CONDITION_PROP","FORM_VIEW_UPDATED","RECORD_ITEM_TYPE","FULL_SEARCH_ITEM_TYPE","NEW_RECORD_ITEM_TYPE","CHAT_ITEM_TYPE","PHONE_ITEM_TYPE","INBOX_ITEM_TYPE","KNOWLEDGE_ITEM_TYPE","MODULE_ITEM_TYPE","FULL_LIST_ITEM_TYPE","SUB_URL","NON_RECORD_ITEM_TYPE","ICON_CHAT_FILL","ICON_CHAT_OUTLINE","ICON_PHONE_FILL","ICON_PHONE_OUTLINE","ICON_GROUP_FILL","ICON_GROUP_OUTLINE","ICON_LIST_OUTLINE","ICON_ONGOING_FILL","ICON_ONGOING_OUTLINE","OPEN_OR_FOCUS_TAB_REDUCER","OPEN_OR_FOCUS_MODULE_REDUCER","CHAINED_REDUCER","CLOSE_DRILLDOWN_REDUCER","WORKSPACE_TAB_ACTIVATED","CONTENT_UPDATED","MAIN_TAB_CLICKED","MASTER_DETAIL_TOGGLED","MAIN_TAB_CLOSE_CLICKED","SUB_TAB_CLOSE_CLICKED","SUB_TAB_CLOSE_MENU_CLICKED","SET_SUB_TABS","CLEAR_STOPPER_PROMPT","LOAD_TABS_DATA","UPDATE_TABLE_COL_MAP","CLOSE_TAB","TABS_ROOT_BEHAVIOR","TABS_DATA_UPDATED","TABS_DATA_INIT_PROP_BEHAVIOR","STOPPER_PROMPT_INIT_PROP_BEHAVIOR","NOTIFICATION_BADGE_COUNT_INIT_PROP_BEHAVIOR","NOTIFICATION_SHOW_TRAY_INIT_PROP_BEHAVIOR","WORKSPACE_LOADED_INIT_PROP_BEHAVIOR","SELECTED_CONTENT_INIT_PROP_BEHAVIOR","SELECTED_PANEL_ID_INIT_PROP_BEHAVIOR","UPDATE_MODULE_INIT_PROP_BEHAVIOR","CONFIG_ITEMS_LINKS_INIT_PROP_BEHAVIOR","OPEN_FRAME_PROPS_BEHAVIOR","HOME_MODULE","INBOX_MODULE","PARAMS_DIVIDER","UPDATE_MODULE_STATUS","FULL_SEARCH_TAB_TITLE","KNOWLEDGE_TAB_TITLE","USER_MENU_TEXT","ITEM_SELECTED","TERM_SEARCHED","SELECT_TAB","SET_TABS","GLOBAL_SEARCH_ACTION","QUEUE_ITEM_ACCEPTED","UPDATE_ONE_TAB","PREVIEW_RECORD","RECORD_INSERTED_FOR_INTERACTION","RECORD_STATUS_CHANGED","CLOSE_DIRTY_TABS","MAX_TABS_REACHED","RECORD_NOTIFICATIONS_CHANGED","CHAT_STATUS_CHANGED","FORM_UPDATE_HEADER","CLOSE_MODULE_DRILLDOWN","CONTENT_ITEMS_SELECTED","ACTIVE_PANEL_RENDERED","MAIN_TAB_ONLY_TYPE","CONTEXTUAL_RECORD_ITEM_TYPE","TWO_LAYER_TYPE","UPDATE_ONE_TAB_TITLE","UPDATE_ONE_TAB_CLOSE","INVALID_TITLE","UNKNOWN_RECORD_TITLE","CLOSE_DIRTY_TAB_MODAL_TITLE","CLOSE_DIRTY_TAB_MODAL_MESSAGE","CLOSE_DIRTY_TAB_MODAL_CLOSE_BTN","LOADING_TITLE","TAB_DETAILS_TITLE","APP_STOPPER_MSG","CLOSE_TAB_MENU_ITEM","CLOSE_OTHER_TABS_MENU_ITEM","CLOSE_ALL_TABS_MENU_ITEM","TAB_MENU_CONF_KEY","HEADER_ALERT_CONFIG_KEY","HEADER_ALERT_CONFIG_V2_KEY","TAB_CUSTOM_RENDERER_KEY","BRAND_THEME_KEY","MODULE_CONFIG_KEY","WS_CONFIG_SYS_ID","WS_LOGO_KEY","NOTIFICATION_CONFGIURED","WORKSPACE_LOADED","WORKSPACE_TAB_CLOSED","MOVE_UP","TAB","MOVE_DOWN","EXECUTE","CLICK","INTERACTION_TABLE","WORKSPACE_NAV_SELECTED","UPDATE_TOOLBAR_BUTTON","TOOLBAR_EXPANDER","FULL_PAGE_TARGET","MASTER_DETAIL_TARGET","FLYOUT_TARGET","WIN_TARGET","TOOLBAR_ROOT_BEHAVIOR","WORKSPACE_TOOLBAR_BUTTON_CLICKED","NOTIFICATIONS_PROVIDER_TAG","NOTIFICATIONS_TOAST_PROP","NOTIFICATIONS_ROOT_BEHAVIOR","NOTIFICATIONS_TOAST_BEHAVIOR","SHOW_NOTIFICATION_TOAST","TOGGLE_NOTIFICATION_TRAY","NOTIFICATIONS_ITEM_CLICKED","NOTIFICATION_SELECTED","NOTIFICATIONS_BADGE_LIST_UPDATED","NOTIFICATIONS_TRAY_TOGGLED","UPDATE_NOTIFICATIONS_QUEUE","NOTIFICATIONS_INIT","UPDATE_NOTIFICATIONS","UPDATE_NOTIFICATIONS_SUCCEEDED","UPDATE_ALERTS_FAILED","NOTIFICATIONS_SELECTED_CONTENT","QUERY_NOTIFICATIONS","QUERY_NOTIFICATIONS_SUCCEEDED","QUERY_ALERTS_FAILED","QUERY_NOTIFICATION_COUNT","QUERY_NOTIFICATION_COUNT_SUCCEEDED","CLEAR_NOTIFICATION_SECTION","CLEAR_NOTIFICATION_SECTION_SUCCEEDED","SUBSCRIBE_NOTIFICATIONS","WS_NOTIFICATION_ITEM_CHANGED","NOTIFICATION_TOAST","NOTIFICATION_TRAY","PAGE_SIZE","ALERT_STATUS_NEW","ALERT_STATUS_READ","ALERT_STATUS_DELETED","ALERT_BADGE_RESET_TIMESTAMP","USER_PREFERENCES_UPDATED","USER_MENU_CLICKED","USER_PREFERENCES","SHOW_RIBBON","SHOW_SIDEBAR","WRAP_LIST_TEXT","SHOW_BADGE_COUNT","SHOW_BANNERS","DISPLAY_PREFS","NOTIFICATION_PREFS","HOME_PAGE_HINTS_TOGGLED","HOME_PAGE_REFRESH_ACTIVITY_LOGS","STORE_UPDATED","PROPERTIES_SET","NAVIGATION_MODE_TAB","NAVIGATION_MODE_BREADCRUMB","BREADCRUMB_ITEM_SELECTED","BREADCRUMB_COMPONENT_INIT","BREADCRUMB_COMPONENT_UNMOUNTED","BREADCRUMB_TABS_DATA_CHANGED","EDS_TOGGLE_CHECKED_SET","EDS_BUTTON_CLICKED","EDS_MODAL_OPENED_SET","EDS_MODAL_FOOTER_ACTION_CLICKED","EDS_MODAL_CANCEL_BTN","variant","label","EDS_MODAL_CONFIRM_BTN","SELECTED_CONTENT_CHANGED","CLEAR_REDIRECT","URL_CONTENT_LOADED","INITIAL_URL_LOADED","WORKSPACE_URL_CHANGED","VIEWED","INSERTED","CREATED","DELETED","UPDATED","SAVED","CLOSED","WS_CONFIG_ADMIN_PATH","ROLE_WORKSPACE_ADMIN","TRANSACTION_SOURCE","OPEN_PHONE","AGENT_PRESENCE_STATE_WATCHER","__TECTONIC__sn_translate","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__sn_custom_create_element_3_0_0_rc_1","__TECTONIC__react","__TECTONIC__$servicenow_ui_renderer_react","__TECTONIC__lodash_4_17_4","__TECTONIC__$servicenow_ui_core","getProperty","getBehaviorProp","preWsConfigSysId","preUserData","preUserRoles","preUserPrefs","wsTabMenuConf","createPreSourceBehavior","transform","data","getRawConfig","wsModuleConf","map","item","id","displayValue","roles","icon","sys_props","type","hide_until_ready","show","length","replace","split","mapModuleConfigToState","wsAlertConfig","result","wsAlertConfigV2","getNotificationEnabledState","sysProp","version","Number","alertV1","alertV2","wsNotificationEnabled","isTriggerEnabled","initialState","getPagePropNotification","findRecordDisplayValue","table","record","title","displayColumn","getTableDisplayColumn","console","warn","getClosestTabId","tabList","curTabId","curTabIdx","findIndex","tab_id","isValidTabId","tabsData","getTabIndexById","getTabById","getSelectedTab","getSelectedTabIdx","selectedTabId","getListTab","find","constants","clearUpdateFlag","removeInteractionRecord","props","interactionRelatedRecord","getTitleFromFormHeader","recordDisplayValue","tableDisplayValue","clearStatusIndicator","tab","isDirty","hasError","isValidSysId","sysId","test","shouldUpdateTabData","preTabsData","nextTabsData","nextActiveTab","stopperPrompt","reached","preTabList","nextTabList","mainLimit","subLimit","getMaxTabLimit","filter","isModuleTab","reduce","ac","cv","isReachingTabsLimit","maxTabsPrompt","updateSelectedTabs","applyToSelectedTabs","newTab","unsuspendTab","cacheTab","getTabByData","buildTabTitleCacheKey","setTabTitleCache","sys_id","RECORD_DISPLAY_VALUE_CACHE","setTableDisplayColumn","TABLE_COL_MAP","getTabTitleCache","findSubTabId","toFind","subTab","some","mainTab","getActiveTabInfo","checkActiveTab","prevTabsData","activeTabInfo","prevActiveTabInfo","applyToAllTabs","applyToOneTab","updateTabs","updateFn","parentFn","clearUpdateFlags","updateTabById","getContentId","contentId","toLowerCase","isRootTab","isSubTab","parentTabId","convertTabToChat","additional_data","activated","chat","overrideTabLimit","converChatTabToRecord","additional_data_new","closeDrillDown","moduleTab","getSelectedModuleTab","getLeafTab","isDetailTab","parentTab","parentTable","parentSysId","getContentDef","getSelectedContent","contentDef","parent","parentContentDef","isContentParentDetails","redirect","getParentTabInfoByTableAndSysId","message","buttonTitle","buttonAction","tabId","hasUpdate","tabDef","rType","rendererType","renderer_type","primaryTab","parent_tab_id","parent_table","parent_sys_id","parent_type","session_type","selectedSubTab","fn","includeMasterDetail","_applyToSelectedTabsOnly","isModuleTabSelected","isMasterDetail","selectedTabIdx","childTab","newTabList","slice","modified","found","newList","oneTab","updates","module_id","params","tab_title","searchTerm","term","chatId","content","useSourceMap","list","toString","this","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","push","setModules","moduleArray","defaultModule","getModules","getModule","getDefaultModule","getInitialModuleTab","getTabIdForModule","isModuleChild","getModuleTab","getTabByModule","getModuleType","getModuleId","getModuleProp","getSelectedModule","prop","hasRole","agentRoles","role","includes","iconConfig","isAdmin","isWSAdmin","getWorkspaceViews","phone","active","inactive","walkup","messaging","wsBrandThemePresource","getIconFromConfig","status","icon_type","tabsConfig","valid_max_tabs_min","valid_max_tabs_max","non_records","menuConfig","closeMenu","header","items","mainPlus","alertConfig","toast","toast_max_show_time","configObj","workspace_logo","brand_color","primary_color","logo","brandColor","primaryColor","wsBrandLogoPresource","wslogo","getPagePropNavMode","wsLogo","wsBrandTheme","getPagePropUserPref","getPageProp","getPagePropSearch","isNavModeTab","isNavModeBreadcrumb","getTransactionSource","path","window","location","pathname","nowRegExp","RegExp","match","sourceRegExp","__TECTONIC__$servicenow_now_icon","require","COMPONENT_BOOTSTRAPPED","actionTypes","tabsDataInitPropBehavior","properties","getSelectableRootProps","configItemsLinksInitPropBehavior","configItemsLinks","stopperPromptInitPropBehavior","notificationBadgeCountInitPropBehavior","notificationBadgeCount","getSelectableAlertProps","notificationShowTrayInitPropBehavior","notificationShowTray","workspaceLoadedInitPropBehavior","workspaceLoaded","selectedContentInitPropBehavior","selectedContent","selectedPanelIdInitPropBehavior","selectedPanelId","updateModuleInitPropBehavior","updateModule","openFramePropsBehavior","openPhone","selectable","default","selectedNav","presenceStatus","actionHandlers","action","payload","updateProperties","options","openFrameElements","document","getElementsByTagName","openFrameElement","__TECTONIC__$servicenow_now_tooltip","__TECTONIC__$servicenow_ui_effect_update_state","getNextTabId","nextTabId","loadTabs","userId","moduleTabPayload","getModuleTabPayload","openOrFocusTabs","initialTabsData","getInitialTabsData","serializedTabsData","sessionStorage","getItem","getWSSessionStorageKey","storedtabsData","parse","Array","isArray","suspendTab","e","saveTabs","setItem","unsuspendSelectedTabs","suspendTabs","clearTabs","clear","initialPrimaryTab","isSuspended","navigateUrl","url","href","resolveHref","getGlobal","history","pushState","trackEvent","setPageTitle","redirectUrl","getParametersFromPath","hash","search","getLocation","keys","exec","base","getBasePath","stripBase","query","qs","substring","keysToParams","getParamsFromUri","paramFound","paramName","camelCase","decodeURIComponent","isEmpty","BASE_ATTR","BASE_TITLE","self","global","Error","removeTrailingSlash","last","trimSlashes","removeFirstSlash","index","k","indexOf","hrefParts","up","acc","part","removeRelativePathParts","replaceState","explodedUrl","upperFirst","pageTitle","basePath","querySelector","parsed","createElement","getPathname","getAttribute","__TECTONIC__sn_uxpage_presource_19_0_1","trackPage","isIE11","isBrowserSupported","__TECTONIC__$servicenow_now_button","confData","rawConfig","GlideRecord_Query","sys_aw_new_menu_item","_results","uniqueTablesFilter","initDataConfig","confDS","canCreateFilter","cf","order","sort","a","b","transformRawConfig","tabsConf","menuConf","_tabsLimit","_isIE11","sysPropSub","actLimit","__TECTONIC__sn_user_preferences","PopoverContainer","Component","constructor","super","globalListenerToggle","persistOnClick","onToggle","composedPath","dropdown","globalListenerKeyup","keyCode","timeStamp","Date","now","keyCmd","event","setState","hidePopover","showPopover","setDropdownRef","el","state","triggerEl","positionStyle","componentDidMount","hoverEnabled","addEventListeners","componentWillUnmount","removeEventListeners","componentWillReceiveProps","nextProps","_propsToState","align","nextShow","nextTriggerEl","newTriggerEl","updateDropdownPosition","focus","_clearGlobalClickHandler","newState","isEqual","componentDidUpdate","prevProps","prevState","_manageGlobalListeners","prevShow","_addGlobalClickHandler","addEventListener","removeEventListener","body","render","children","classNames","openClassName","positionClassName","popoverClassNames","className","ref","style","React","Children","child","cloneElement","propTypes","PropTypes","bool","isRequired","string","func","shape","oneOf","getCloseModuleDrilldownPayload","getTabPayloadFromSelectedContent","parentType","getSearchPayload","drilldown","inboxTab","generators","subTabContent","tabUtils","chatTab","getChatPayload","chainedPayloads","getTabPayload","getInboxPayload","modulePayload","closeDrilldownPayload","getChainedTabPayload","setTransType","dataType","transType","isMainTabRecordTable","tabContent","tabPayload","subTabPayload","getSelectTabPayload","tabIds","_nestTabIds","getTabList","moduleArg","getTabDefinition","moduleDrilldown","collapsed","eventData","forceUpdate","it","payloads","args","_getDefaultTitle","_getDefaultTabType","_getDefaultIcon","undefined","_excludeUndefinedProps","canClose","recordType","tabDefinition","subTabDef","subTabType","wsTabRenderer","customRendererList","moduleRendererList","typedRendererList","macroponentList","renderer_type_dval","renderer_type_val","module_flag","custom_renderer_tag","custom_renderer","workspace_module","_reference","renderer_sysid","type_ext_dval","type_ext","macroponent_val","macroponent_dval","macroponent","forEach","module_renderer","typed_renderer","macroponent_renderer","mapRendererToState","WS_CUSTOM_TAB_RENDERER","WS_MODULE_TAB_RENDERER","WS_TYPED_RENDERER","WS_MACROPONENT_RENDERER","isCustomRendererTable","isModuleRendererTable","cacheSelectedTabs","clearCache","cachedTabs","tabIndex","splice","shouldLoadTab","lastAccessed","getOldestAccessed","shift","instance","recordChangeLog","toBeClearedParent","RecordChangeLogger","logRecordChange","activityData","isNewParent","isNewRelRec","relRecCount","relatedRecords","relatedRecord","op","getAllChangedRecords","getRecordsByParent","parentRecord","getSelectedMainTabRelatedRecords","clearRecordLog","clearRecordLogExcludingSelected","removeParent","markToBeClearedParent","clearMarkedParent","clearRecordsByParent","isParent","getRootNode","node","getAssignedNodes","rootNode","slot","foundSlot","querySelectorAll","sl","assignedNodes","updateElement","element","propName","updateElementsWithProp","elements","getAssignedElements","getElements","nodeType","__TECTONIC__$servicenow_ui_effect_graphql","updateButtonProps","clickHandler","stateToButtonProps","updateToolbarProps","mergeButtonDataFromSlot","getButtonsFromSlot","elem","updateButton","badge","select","cloneDeep","hasStatusKey","hasBadgeKey","hasSelectKey","hasShowKey","hasIconKey","selected","setSelected","optionItems","newViewData","buttonIndex","foundButtonIdx","btn","isNaN","count","_shouldRemoveBadge","buildSelectedActionPayload","mapSelectedToState","button","selectValue","prevSelected","windowSelected","prevWindowSelected","isWindow","isWindowType","isSelectable","actualSelection","highlightedIdx","findButtonIndexById","highlighted","previousSelected","getNumShowableButtons","findButtonById","updatePropertiesHelper","restOfProperties","dispatchWSNavSelected","dispatch","previousValue","actionPayload","setHighlighted","handleKeyCmd","coeffect","numButtons","positionMap","Map","isSelected","isHighlighted","onClickBtn","getBoundingClientRect","buttons","foundIndex","setUserData","timeZoneOffset","currentUserData","getUserData","addDateGroupings","alertQueue","baseDate","todayQueue","TODAY_QUEUE","yesterdayQueue","YESTERDAY_QUEUE","olderQueue","OLDER_QUEUE","item_type","time_stamp","_date","daysDiff","timeAgoUtils","daysBetween","group","storeBadgeCount","localStorage","reset","reset_str","handleClearSection","groupId","rawItemsToClear","startDate","endDate","itemsToClear","raw_time_stamp","latestDate","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","dateDaysBefore","setDate","getDate","hours","getUTCHours","mins","getUTCMinutes","secs","getUTCSeconds","getDateRangeToClear","startDateTime","endDateTime","buildAlertSubscriptionFilter","_getBasicCondition","decodePayload","getTransformedAlert","alert","baseProps","tableLabel","changes","updatePayload","alertPayload","buildAlertPayload","purgeOldAlerts","alertItem","trayState","record_sys_id","alertsToKeep","alertsToDelete","deleteQueue","existingAlert","alert_sys_id","unshift","purgeOldAlerts2","rawAlerts","target","set","Set","al","deleteTarget","has","add","transformGraphQLAlert","buildAlertItem","askToQueryAlerts","offset","totalRowCount","initial","condition","limit","askToUpdateNotifications","sys_ids","_buildUpdateItems","queue","theStatus","newItems","buildBadgeQueryCondition","count_time_str","currentUserId","reset_timestamp","reset_date_obj","dd","mm","getMonth","yyyy","getFullYear","hh","getHours","min","getMinutes","sec","getSeconds","reset_date","sys_created_on","target_table","record_display_value","parseSystemTime","updated_by","getTriggeredBy","triggered_by","is_read","error","assigned_to","priority","short_description","fields","fieldLabel","field_name","field_label","field_value","field_displayValue","table_label","display_value","toUpperCase","__TECTONIC__react_dom","getPreferenceMenu","notificationsEnabled","userPreferences","enableNotify","PREFERENCE_MENU","PREFERENCE_GROUPS","preferences","pref","resolveURL","startsWith","getShadowRoot","parentNode","host","reduceTabsData","openOrFocusModule","toggleMasterTab","chainReducers","updateOneTab","closeTabById","updateFormHeader","validPayload","primaryItem","formHeaderInfo","tooltipInfo","tabCache","reducerTypeMap","reducer","tabsDataNew","tabListNew","metaKeyPressed","tabListResult","selectedTabIdResult","tabDefWithoutChildren","newTabsData","subPayload","executeCloseMain","executeCloseSub","askToCloseMain","operation","_hasPromptChildren","_askToCloseSubTabs","_askToCloseOneMainTab","promptTabIdList","closeIdList","mt","subTabList","closeTabList","st","_hasPrompt","getInstance","newSelectedTabId","_askToCloseMainTabs","askToCloseSub","operatedTabId","closeFromCloseIdList","lastIdx","close_tab_id","newCloseIdList","nextCloseTabId","tabClosed","tabClosedTemp","nextCloseTab","pop","newSubTabList","newSubSelectedTabId","menuItem","selectedTabForClose","selectedTab","newTabs","closeOtherTabsById","tabsToKeep","selectedIdx","newSelectedTab","parentTabIdx","tabClicked","tab_id_to_skip","newActiveMainTab","_isActiveChat","childIdx","selectedTabIdNew","idx","__TECTONIC__$servicenow_now_badge","ChromeTabPanels","PureComponent","_renderOnePanel","isActive","dehydrate","panel","isPrimary","formViews","views","formData","recordChangeLogger","sendRecordLog","detailsContext","interaction","react","createSlot","panels","panelsData","activeModulePanel","panelId","activeModuleId","hidden","_updateContentPickerState","activePanel","_updateChildrenWithProps","findDOMNode","getPanelsData","_binaryInsert","array","start","end","Math","floor","newArray","handleDuplicate","getChatPanelsData","existingTab","__TECTONIC__sn_seismic_addons","TABLE_LABEL_MAP","CHROME_ONE_TAB_ACTIONS","FETCH_TITLE","FETCH_TITLE_STARTED","FETCH_TITLE_SUCCEEDED","FETCH_TITLE_FAILED","FETCH_DISPLAY_COLUMN","FETCH_DISPLAY_COLUMN_STARTED","FETCH_DISPLAY_COLUMN_SUCCEEDED","FETCH_DISPLAY_COLUMN_FAILED","FETCH_TABLE_INFO","FETCH_TABLE_INFO_STARTED","FETCH_TABLE_INFO_SUCCEEDED","FETCH_TABLE_INFO_FAILED","fetchTitleEffect","createGraphQLEffect","chromeOneTabTitle_read","variableList","templateVarList","startActionType","successActionType","errorActionType","fetchDisplayColumnEffect","chromeOneTabDisplayColumn_read","fetchTableInfoEffect","chromeOneTabTableInfo_read","handleStarted","createUpdateStateEffect","handleTitleFetchSucceeded","coeffects","results","columnName","handleFailure","handleDisplayColumnFetchSucceeded","field","handleTableInfoFetchSucceeded","updateNewRecordTabTitle","handlerMap","handlers","initDisplayColumnOrTitle","tabStorage","_tableColumnMap","setTableColumnMap","displayColumnName","getTableDisplayColumnName","titleField","getActiveModule","tabData","moduleTabData","getModulebyId","moduleData","_moduleData","getStringParams","cleanParams","getBreadCrumbData","activeModuleData","activeModule","breadcrumbData","_getUserId","saveTabsInSessionStorage","getTabsFromSessionStorage","getSelectedContentFromUrl","prevSelectedContent","redirectInvalidUrl","contentGenerators","_hasDrillDown","getSubPortion","getModuleContent","subPortionArgs","getUrlFromSelectedContent","subUrlIdx","_userId","GlideWebAnalytics","additionalValue","supported","IEVer","ua","navigator","userAgent","msie","parseInt","rv","edge","_isMobile","_wsSessionStorageKey","MSInputMethodContext","documentMode","getModuleIdFromComponentId","componentId","componentIdModuleMap","slottedElements","pickerCondition","_getElementByModuleId","customElem","shadowRoot","_getCustomElement","_buildComponentIdModuleMap","_updateProps","__TECTONIC__$servicenow_now_modal","createCustomElement","renderer","view","ChromeTabs","styles","newMenu","onNewTab","onClickTab","onCloseTab","onMenuClose","tabsMaxWidth","ControlMenu","context","getMenuRef","highlightIdx","onItemClick","itemType","withKeyCmd","WrappedComponent","withKeyCmdWrapper","_moveUp","_moveDown","_getFocusIdx","nodeIdx","onItemClose","prevKeyCmd","next","startIdx","_findNextActiveIdx","tabs","shiftKey","tabUpOut","tabDownOut","disabled","onNodeFocus","getStatusClassName","_STATUS_2_CLASS_MAP","initConfigData","moduleConfig","bvData","available","reqProp","reqRole","isButtonAvailable","trim","propertyChangedReducer","prevProperties","newProperties","newProps","getPropertyChangedReducer","activeSlotted","getAllElements","selector","slots","__TECTONIC__sn_component_error_handler","ChromeAlert","alertSysId","infoIcon","isRead","onClick","timestamp","dateParsed","time_arr","currentOffset","getTimezoneOffset","getTime","getWords","date","seconds","minutes","words","WORD_LITERALS","justNow","suffix","actualDate","normalizedBaseDate","setHours","normalizedActualDate","diff","round","abs","minute","hour","toastItem","f","prefix","verb","buildMessage","buildNewAssignedToastItem","msgPrefix","buildUpdatedToastItem","notificationsRootBehavior","notificationsToastBehavior","getProviderPropSelector","toggleNotificationTray","setNotificationProviderProp","selectNotification","notification","getProviderComponentId","notificationProvider","notificationProviderComponentId","getNotificationProvider","provider","WsBreadCrumb","behaviors","onChange","valuePrev","mergeWithNewTabData","newTabData","setTabsProps","stateTabData","setBreadCrumbInModuleData","hierarchyNodeData","resolvedHierarchy","setSelectedItemInBreadCrumbData","selectedItem","truncateBreadCrumbData","removeBreadCrumbInModuleData","leafUrl","getUrlFromContentDefinition","rootContent","rootUrl","kebabCase","USER_INFO_ACTIONS","USER_INFO_INIT","USER_INFO_FETCH_STARTED","USER_INFO_FETCH_SUCCEEDED","USER_INFO_FETCH_FAILED","initStateEffect","firstName","userSysId","greetings","showHints","loadShowHintsForUser","userInfoFetchEffect","userInfoInitEffect","interceptors","after","effects","effectWithCoeffects","userInfoFetchedEffect","lastLoginTime","last_login_time","login_time","toggleHintsEffect","effect","saveShowHintsForUser","parsePickerCondition","parts","conditions","isRoles","token","pieces","validateConditions","pickerState","shouldRender","currentRoles","intersection","activateDeferredElement","assignedElement","getAssignedElement","hasAttribute","requestAnimationFrame","removeAttribute","setProp","propValue","WsHeader","userPreferencesBehavior","brandLogo","showUserMenu","menuUserPrefs","showAlertBadgeCount","configLinks","isPrimaryContent","WSConf","handleClick","callback","preventDefault","newValue","USER_PREF_UPDATE","onUserMenuClick","force","stopPropagation","_showTooltip","showTooltip","_hideTooltip","notificationEnabled","user","userRoles","showConfigurations","wsConfigSysId","setUserPrefs","setConfigLinks","userPrefsNext","configItemsLinksNext","selectedPanelIdNext","panelLinks","_renderAvatar","tooltipText","Fragment","avatarTriggerEl","aria-label","aria-expanded","aria-controls","aria-haspopup","onFocus","onBlur","size","user-name","lastName","image-src","avatar","div","targetRef","onMouseOver","onMouseOut","target-ref","manage-opened","opened","position","_renderBrandLogo","src","alt","_renderSearch","show-badge-count","badge-count","show-tray","prefs","__TECTONIC__$servicenow_now_avatar","component","slotName","g","Function","__TECTONIC__path_to_regexp_3_1_0","__TECTONIC__qs_6_9_0","uniqueNames","tableName","tableDetailsSubQuery","GlideDomain_Query","tableDescription","canCreate","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","componentName","propFullName","secret","err","getShim","ReactPropTypes","number","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOfType","exact","checkPropTypes","dropdownEl","tooltip","placement","targetRect","tooltipRect","horizontalCenterOffset","width","verticalCenterOffset","height","targetLeft","left","targetTop","top","OFFSET","tooltipLeft","tooltipTop","bottom","right","innerHeight","innerWidth","getCenterPositioning","windowWidth","triggerWidth","getAlignedPositioning","UserDropdown","resetSelection","selectedIndex","detail","clientX","clientY","toggleSettings","showSettings","toggleConfigPage","showConfigLinks","logout","navigatToWS","_getConfigWSUrl","open","_onBlur","lastFocused","focused","_onFocus","activeElement","_setRef","_setFocused","_initMenuItems","logoutItem","_getLogoutUrl","text","configWSItem","nextKeyCmd","_handleKeyCmd","originalSelectedIndex","numTotalItems","menuItems","encodeURI","isSelectedItem","elemIdx","buildMenuItems","settingsIcon","component-id","onKeyUp","onInteractiveKeyUp","aria","linkURL","configIcon","focusedElem","setFocused","UserDropdownItem","setItemRef","itemRef","onConfigureItem","link","_setFocus","nextIsSelected","renderPreferences","preferenceGroups","renderConfigLinks","links","childSelectedIndex","selectedClassName","newHref","newTarget","userDropdownToggle","actions","userPref","prefId","hoverClassName","isChecked","htmlFor","checked","config-aria","append-to-payload","__TECTONIC__$servicenow_now_toggle","WsNotificationIcon","showBadgeCount","badgeCount","showTray","code","onClickOutSide","iconRef","onClickAlertBadge","newShowTray","getRef","renderCounterBadge","_getAriaBadgeText","showIcon","prevShowTray","badgeText","getSelectableProp","componentIds","snWorkspaceLayout","WsNav","actionTypesToProps","deferred","shouldComponentUpdate","toolbar","renderDeferredSlot","WsContent","computed","componentWillMount","panelsPrev","_cleanTabTitleCache","panelList","_setFormViews","WsTabs","modal","onUnload","retVal","returnValue","_resize","tabsRef","setMaxWidth","maxWidth","clientWidth","setTimeout","_getTabsRef","_onClickTab","_onCloseTab","_onClickCloseMenuItem","_onClickNewMenuItem","wsMenuConf","removeResizeListener","addResizeListener","onPopState","_renderStopperPrompt","header-label","footer-actions","chromeTabsUtils","tabWidth","visibleList","overflowDisabled","focusedTabIdx","showOverflowMenu","hasOverflowUpdate","showAddNewMenu","debouncedOverflowTriggerClick","debounce","onOverflowTriggerClick","debouncedAddNewTriggerClick","onAddNewTriggerClick","updateTabsState","counterBadge","overflowLength","overflowLabel","overflowTooltipContent","overflowButtonId","overflowClassNames","buildOverflowStyle","tabListSpace","tabType","handleKeyUp","renderNewMenu","overflowTriggerEl","onClickMenuItem","onCloseMenuItem","updateState","childNodes","setPlusMenuRef","menu","plusMenuWidth","shouldShow","setAddNewTriggerEl","addNewTrigger","buttonId","tooltipContent","ariaLabel","classname","menuId","ChromeOneTab","domEventManager","oneTabUtil","_onClick","_hideFormPreview","_onClose","_onKeyUp","tabOrder","_clearPopoverTimers","showPreviewTimer","clearTimeout","autoClosePreviewTimer","onTabHover","forcedValue","showFormPreview","_showFormPreview","showTabTooltip","hideTabTooltip","haveTabElement","nextState","oneTabData","pick","prevOneTabData","_renderStatusIndicator","indicator","_renderIcon","_renderCloseBtn","closeBtnRef","_buildClassName","isModule","tmpClassList","_renderFormPreview","tooltipPosition","aria_label","tabContainerElem","aria-live","aria-selected","prevTab","prevIsHighlighted","prevShowFormPreview","FormPreview","secondaryItems","OptionItem","_onItemClick","_renderDisabledItem","_getItemRef","MoreOptionMenu","ChromeTabOverflow","OverflowItem","_onItemClose","styleClass","closeBtn_tooltip","overflowBtnElem","getOverflowDisabled","transformCloseMenuItems","totalWidth","closeMenuItems","uncompressedTabSpace","maxTabWidth","maxTabWidthModule","overflowList","moduleTabSpace","newTabSpace","max","minTabWidth","lastVisibleIdx","itemOrder","popoverProps","_getPopoverProps","minWidth","getTabStyle","activeTab","isPivotActive","isDetailsTabTheOnlyOtherTab","snWorkspaceSubTabs","level","closeDirtyTabs","SnWorkspaceSubTabs","resize","getTabsRef","_onClickSubTabs","tab_ids","ancestors","_onCloseSubTab","itemIdx","initialize","setTabsData","_renderDirtyTabModal","closeMessage","dataMenu","WorkspaceToolbar","eventHandlers","events","aria-orientation","COMPONENT_DOM_TREE_READY","COMPONENT_PROPERTY_CHANGED","initialOptionItems","evt","propertyReducer","SnWorkspaceLayout","createErrorHandlerBehavior","tabRootBehaviors","toolbarRootBehavior","consts","_setPageRef","pageRef","_isBrowserSupported","navMode","_applyTheme","brandTheme","applyBrandingTheme","_renderSlot","_renderWorkspace","modalOpen","BEHAVIOR_NAME","selected-content","_renderNav","_renderHiddenListRefreshSlot","tabs-data","_renderErrorStopper","_onChromeLoaded","WsNotificationToast","showBanners","getUserPreference","hideToastAtTimeout","autoCloseTimeOutID","toastConfig","onClickAlert","alertToast","prevAlertToast","prevToastItem","info-icon","alert-sys-id","sys-id","on-click","onClickCloseBtn","renderTimeAgo","timeAgo","time-stamp","msg_prefix","itemClass","headerText","contentText","deleteBtn_tooltip","toastBody","deleteBtn","ChromeTimeAgo","noRefresh","timeAgoUtil","_updateTime","interval","setInterval","clearInterval","WsNotificationTray","groupIdToDelete","selectedContentVal","badgeList","valuePrevious","notificationSelected","PASSIVE","passive","NOOP","_addListeners","scrollParent","_getScrollParent","debounceScroll","_setFocusToFirstElement","clearButton","trayRef","_removeListeners","_onScrollOrResize","onScrollOrResize","onClearSection","getTrayRef","renderNoAlerts","renderSection","sectionId","renderTrayItem","is-read","renderSectionHeader","headerItem","clearToolTip","clearBtn","renderTrayContent","groupItem","loadedPrev","selectedContentPrev","prevAlertQueue","subscribe","getOffset","clientTop","offsetTop","offsetParent","threshold","scroll","actual","scrollTop","scrollHeight","clientHeight","getScrollPosition","getStartAndEnd","itemEls","elEnd","firstItemEl","lastItemEl","offsetHeight","utils","updateNotificationsQueueEffect","newAlertQueue","updateNotificationsEffect","notificationUpdateQuery","updateNotificationsSucceededEffect","deleteCount","newDeleteQueue","queryNotificationsEffect","notificationReadQuery","queryNotificationsSucceededEffect","alertChunk","queryNotificationCountEffect","notificationCountQuery","clearSectionEffect","httpEffect","createHttpEffect","method","dataParam","clearSectionSucceededEffect","reloadEffect","groups","groupIdx","needReLoading","nextGroupId","subscribeNotificationsEffect","createAmbSubscriptionEffect","messageReceivedActionType","subscribeStartedActionType","subscribeSucceededActionType","subscribeFailedActionType","unsubscribeSucceededActionType","newBadgeList","createUpdateStateSimpleEffect","badgeListNew","GlideAggregate_Query","groupBy","sys_id_val","rawAlert","transformedAlert","activeTable","activeSysId","__TECTONIC__$servicenow_ui_effect_http","__TECTONIC__$servicenow_ui_effect_amb","makeReduceStateHandler","makeSimpleReduceStateHandler","_setBreadcrumbRef","breadcrumb","breadcrumbRef","_getChevron","chevron","_handleOverflowState","overflowArray","showOverflow","oneRefs","olEleWidth","hasOneRefWidths","_setOneRefWidths","scrollWidth","overflowchanged","oneRefWidths","_setOverflowRefs","overflowRefs","_pushOneRef","elmRef","toggleOverflowPopover","trigger","focusPrevOrNextElement","dir","focusedOverflowEleIndx","debounceOverflowPopoverClick","handleClicks","cls","_handleModuleClick","indx","_handleBreadCrumbClick","handleKeys","charCode","which","click","_renderModule","isBreadCrumbsEmpty","config","eleClass","_renderOverflow","icon-name","tooltip-content","overflowTriggerEle","bare","breadcrumbElement","data-params-index","_renderBreadCrumb","lastEle","_transformBreadcrumbDataToPayload","row","container","newBreadcrumbData","OneBreadCrumb","_getModuleIcon","elm","aria-current","bcUtil","bcReducers","_navMode","requestId","hierarchyCache","noHierarchyCache","breadcrumbCustomRecordCache","updateNewRecordTitle","setSelectedItemDisplayValue","_breadCrumbModuleSelected","_breadCrumbItemSelected","tableModule","currentTab","obj","defaultValue","checkedPath","getObjValue","ITEM_DISPLAY_TITLE_ACTIONS","FETCH_ITEM_TABLE_INFO","resolveNewRecordTitle","cacheKey","additionalIdentifier","FETCH_ITEM_DISPLAY_COLUMN","cachedHierarchy","stringifiedParams","HIERARCHY_INFO_ACTIONS","HIERARCHY_INFO_FETCH","breadCrumbEffectsMap","tabsDataState","HIERARCHY_INFO_FETCH_SUCCEEDED","meta","variables","_requestId","lastCrumb","redirectEmptyState","FETCH_ITEM_DISPLAY_COLUMN_SUCCEEDED","FETCH_ITEM_TITLE","FETCH_ITEM_TITLE_SUCCEEDED","FETCH_ITEM_TABLE_INFO_SUCCEEDED","bcGqlEffectsMap","fetchHierarchyInfoEffect","_handlerMap","breadCrumbEffect","HIERARCHY_INFO_FETCH_STARTED","HIERARCHY_INFO_FETCH_FAILED","FETCH_ITEM_TITLE_STARTED","FETCH_ITEM_TITLE_FAILED","FETCH_ITEM_DISPLAY_COLUMN_STARTED","FETCH_ITEM_DISPLAY_COLUMN_FAILED","FETCH_ITEM_TABLE_INFO_STARTED","FETCH_ITEM_TABLE_INFO_FAILED","hierarchyInfoQuery","SnWorkspaceRouter","initialUrlLoaded","urlChangedEffect","getSearchContent","getRecordContent","getNewRecordContent","getNonRecordContent","getChatContent","moduleContent","selectedTabRelatedRecords","current-context","isValidHexColor","hex","hexToRgb","values","mixColor","mix","weight","w","w1","w2","createColorRange","stops","colors","toRgbTriplet","color","generateTheme","theme","brand","white","black","primary","primaryDerivedSet","brandColorHex","primaryColorHex","themeCssText","cssText","printThemeCssText","head","themeStyleEl","styleSheet","appendChild","createTextNode","log","tabRootBehavior","onConnect","hostElement","tabsStopperPrompt","currentActiveItem","rootActionHandlers","selectTabEffect","closeTabs","tabsDataEffectWrapper","stopper","selectedContentNew","currentActiveItemNew","itemSelectedEffect","nativeEvent","mainTabPayload","secondaryTabPayload","itemSelectedGenericEffect","urlContentLoadedEffect","actionTabsDataEffectMap","storedTabs","tabsDataWithUrl","mediateStatusChange","mediateChatStatusChange","updateContent","tabsDataActionHandlers","tabEffect","updateIndicatorContent","_getTabIdFromCoeffects","_onInsert","_onDeleted","_setFlag","_clearFlag","clearedTabsData","updatedTab","currentParams","is_chat","tabInfo","flag","dispatchPayload","configItemsLoadEffect","appName","newConfigLinks","linkIdx","currentPaenlId","moduleParamsMap","_getModuleParamsMap","moduleElement","WsMain","chatPanelData","hasSubTabs","showPrimary","showSession","subTabs","_updateSlots","_renderPrimaryPanels","_renderSessionPanels","_renderSubTabs","WsPrimaryContent","drilldownContent","renderBackButton","onContentDrillUpEffect","snWorkspaceHome","toggleHintTitle","SnWorkspaceHome","renderHints","hide","onToggleHints","wsUserData","renderTesters","isDebug","listId","defValue","showHintsMap","loadShowHintsMap","showHintsJson","SnWorkspaceToolbarButton","reflect","ToolbarButton","prevIsSelected","prevBtn","validateSysProps","_getClassName","selectedClass","statusClass","hasLabel","SnUxContentOption","_updateActive","display","_updateDeferred"],"mappings":"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","file":"workspace-chrome.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 72);\n","import {t} from 'sn-translate';\n\nexport const COMPONENT_ID = 'component-id';\n\n//Component Names\nexport const SN_WORKSPACE_LAYOUT = 'sn-workspace-layout';\nexport const SN_WORKSPACE_NOTIFICATION_TRAY = 'sn-workspace-notification-tray';\n\n//REST Endpoints\nexport const CLEAR_NOTIFICATIONS_ENDPOINT = 'api/now/v1/glide_ui_notifications/item_status';\n\nexport const ROOT_TAB_ID = 'root';\nexport const MODULE_TAB_ID = 'module';\nexport const PANEL_ID = 'panelId';\nexport const MASTER_SLOT = 'primary-content-area';\nexport const DETAIL_SLOT = 'content-area';\nexport const PICKER_STATE_PROP = 'pickerState';\nexport const PICKER_CONDITION_PROP = 'picker-condition';\n\n// Content Areas\nexport const FORM_VIEW_UPDATED = 'FORM_VIEW_UPDATED';\n\n// Tab Item Types\nexport const RECORD_ITEM_TYPE = 'record';\nexport const FULL_SEARCH_ITEM_TYPE = 'full-search';\nexport const NEW_RECORD_ITEM_TYPE = 'new_record';\nexport const CHAT_ITEM_TYPE = 'chat';\nexport const PHONE_ITEM_TYPE = 'phone';\nexport const INBOX_ITEM_TYPE = 'inbox';\nexport const KNOWLEDGE_ITEM_TYPE = 'knowledge';\nexport const MODULE_ITEM_TYPE = 'module';\nexport const FULL_LIST_ITEM_TYPE = 'list';\nexport const SUB_URL = 'sub';\nexport const NON_RECORD_ITEM_TYPE = 'non_record';\n\n//ICONS\nexport const ICON_CHAT_FILL = 'chat-fill';\nexport const ICON_CHAT_OUTLINE = 'chat-outline';\nexport const ICON_PHONE_FILL = 'phone-fill';\nexport const ICON_PHONE_OUTLINE = 'phone-outline';\nexport const ICON_GROUP_FILL = 'group-fill';\nexport const ICON_GROUP_OUTLINE = 'group-outline';\nexport const ICON_LIST_OUTLINE = 'list-outline';\nexport const ICON_ONGOING_FILL = 'ongoing-fill';\nexport const ICON_ONGOING_OUTLINE = 'ongoing-outline';\n\n// Tab Reducers\nexport const OPEN_OR_FOCUS_TAB_REDUCER = 'OPEN_OR_FOCUS_TAB_REDUCER';\nexport const OPEN_OR_FOCUS_MODULE_REDUCER ='OPEN_OR_FOCUS_MODULE_REDUCER';\nexport const CHAINED_REDUCER = 'CHAINED_REDUCER';\nexport const CLOSE_DRILLDOWN_REDUCER = 'CLOSE_DRILL_DOWN_REDUCER';\n\n\n// Tab actions\nexport const WORKSPACE_TAB_ACTIVATED = 'WORKSPACE_TAB_ACTIVATED';\nexport const CONTENT_UPDATED = 'CONTENT_UPDATED';\nexport const MAIN_TAB_CLICKED = 'MAIN_TAB_CLICKED';\nexport const MASTER_DETAIL_TOGGLED = 'MASTER_DETAIL_TOGGLED';\nexport const MAIN_TAB_CLOSE_CLICKED = 'MAIN_TAB_CLOSE_CLICKED';\nexport const SUB_TAB_CLOSE_CLICKED = 'SUB_TAB_CLOSE_CLICKED';\nexport const SUB_TAB_CLOSE_MENU_CLICKED = 'SUB_TAB_CLOSE_MENU_CLICKED';\nexport const SET_SUB_TABS = 'SET_SUB_TABS';\nexport const CLEAR_STOPPER_PROMPT = 'CLEAR_STOPPER_PROMPT';\nexport const LOAD_TABS_DATA = 'LOAD_TABS_DATA';\nexport const UPDATE_TABLE_COL_MAP = 'UPDATE_TABLE_COL_MAP';\nexport const CLOSE_TAB = 'CLOSE_TAB';\nexport const TABS_ROOT_BEHAVIOR = 'TABS_ROOT_BEHAVIOR';\nexport const TABS_DATA_UPDATED = 'TABS_DATA_UPDATED';\n\n//Selectable Properties\nexport const TABS_DATA_INIT_PROP_BEHAVIOR = 'TABS_DATA_INIT_PROP_BEHAVIOR';\nexport const STOPPER_PROMPT_INIT_PROP_BEHAVIOR = 'STOPPER_PROMPT_PROP_BEHAVIOR';\nexport const NOTIFICATION_BADGE_COUNT_INIT_PROP_BEHAVIOR = 'NOTIFICATION_BADGE_COUNT_INIT_PROP_BEHAVIOR';\nexport const NOTIFICATION_SHOW_TRAY_INIT_PROP_BEHAVIOR = 'NOTIFICATION_SHOW_TRAY_INIT_PROP_BEHAVIOR';\nexport const WORKSPACE_LOADED_INIT_PROP_BEHAVIOR = 'WORKSPACE_LOADED_INIT_PROP_BEHAVIOR';\nexport const SELECTED_CONTENT_INIT_PROP_BEHAVIOR = 'SELECTED_CONTENT_INIT_PROP_BEHAVIOR';\nexport const SELECTED_PANEL_ID_INIT_PROP_BEHAVIOR = 'SELECTED_PANEL_ID_INIT_PROP_BEHAVIOR';\nexport const UPDATE_MODULE_INIT_PROP_BEHAVIOR = 'UPDATE_MODULE_INIT_PROP_BEHAVIOR';\nexport const CONFIG_ITEMS_LINKS_INIT_PROP_BEHAVIOR = 'CONFIG_ITEMS_LINKS_INIT_PROP_BEHAVIOR';\nexport const OPEN_FRAME_PROPS_BEHAVIOR = 'OPEN_FRAME_PROPS_BEHAVIOR';\n\n// Modules\nexport const HOME_MODULE = 'home';\nexport const INBOX_MODULE = 'inbox';\nexport const PARAMS_DIVIDER = 'params';\nexport const UPDATE_MODULE_STATUS = 'UPDATE_MODULE_STATUS';\n\nexport const FULL_SEARCH_TAB_TITLE = t('WS:Search Results');\nexport const KNOWLEDGE_TAB_TITLE = t('Knowledge Articles');\n\n//Tooltip Text\nexport const USER_MENU_TEXT = t('User Menu');\n\n// Mediated action types\nexport const ITEM_SELECTED = 'ITEM_SELECTED';\nexport const TERM_SEARCHED = 'TERM_SEARCHED';\nexport const SELECT_TAB = 'SELECT_TAB';\nexport const SET_TABS = 'SET_TABS';\nexport const GLOBAL_SEARCH_ACTION = 'GLOBAL_SEARCH_ACTION';\nexport const QUEUE_ITEM_ACCEPTED = 'QUEUE_ITEM_ACCEPTED';\nexport const UPDATE_ONE_TAB = 'UPDATE_ONE_TAB';\nexport const PREVIEW_RECORD = 'PREVIEW_RECORD';\nexport const RECORD_INSERTED_FOR_INTERACTION = 'RECORD_INSERTED_FOR_INTERACTION';\nexport const RECORD_STATUS_CHANGED = 'RECORD_STATUS_CHANGED';\nexport const CLOSE_DIRTY_TABS = 'CLOSE_DIRTY_TABS';\nexport const MAX_TABS_REACHED = 'MAX_TABS_REACHED';\nexport const RECORD_NOTIFICATIONS_CHANGED = 'RECORD_NOTIFICATIONS_CHANGED';\nexport const CHAT_STATUS_CHANGED = 'CHAT_STATUS_CHANGED';\nexport const FORM_UPDATE_HEADER = 'FORM_UPDATE_HEADER';\nexport const CLOSE_MODULE_DRILLDOWN = 'CLOSE_MODULE_DRILLDOWN';\nexport const CONTENT_ITEMS_SELECTED = 'CONTENT_ITEMS_SELECTED';\nexport const ACTIVE_PANEL_RENDERED = 'ACTIVE_PANEL_RENDERED';\n\nexport const MAIN_TAB_ONLY_TYPE = 'MAIN_TAB_ONLY_TYPE';\nexport const CONTEXTUAL_RECORD_ITEM_TYPE = 'contextual_record';\nexport const TWO_LAYER_TYPE = 'TWO_LAYER_TYPE'; //[RECORD_ITEM_TYPE, NEW_RECORD_ITEM_TYPE, CHAT_ITEM_TYPE]// Error mediated action types\n\n// Other constants\nexport const UPDATE_ONE_TAB_TITLE = 'UPDATE_ONE_TAB_TITLE';\nexport const UPDATE_ONE_TAB_CLOSE = 'UPDATE_ONE_TAB_CLOSE';\nexport const INVALID_TITLE = 'INVALID_TITLE';\nexport const UNKNOWN_RECORD_TITLE = t('Record');\n\n// Messages\nexport const CLOSE_DIRTY_TAB_MODAL_TITLE = t('Close Tab');\nexport const CLOSE_DIRTY_TAB_MODAL_MESSAGE = t('Closing this tab will cause your changes to be lost. Do you want to continue?');\nexport const CLOSE_DIRTY_TAB_MODAL_CLOSE_BTN = t('Close');\nexport const LOADING_TITLE = t('Loading...');\nexport const TAB_DETAILS_TITLE = t('Details');\nexport const APP_STOPPER_MSG = t('Agent Workspace is not supported on this device. For the best user experience we recommend switching to desktop.');\n\nexport const CLOSE_TAB_MENU_ITEM = 'close_tab';\nexport const CLOSE_OTHER_TABS_MENU_ITEM = 'close_other_tabs';\nexport const CLOSE_ALL_TABS_MENU_ITEM = 'close_all_tabs';\n\n// Prefetch resource keys\nexport const TAB_MENU_CONF_KEY = 'wsRecordTypes';\n\nexport const HEADER_ALERT_CONFIG_KEY = 'wsAlertConfig';\nexport const HEADER_ALERT_CONFIG_V2_KEY = 'wsAlertConfigV2';\nexport const TAB_CUSTOM_RENDERER_KEY = 'snCustomRenderer';\nexport const BRAND_THEME_KEY = 'wsBrandTheme';\nexport const MODULE_CONFIG_KEY = 'moduleConfig';\nexport const WS_CONFIG_SYS_ID = 'wsConfigSysId';\nexport const WS_LOGO_KEY = 'snWorkspaceLogo'\n\nexport const NOTIFICATION_CONFGIURED = 'notificationConfigured';\n\n// Other action types\nexport const WORKSPACE_LOADED = 'WORKSPACE_LOADED';\nexport const WORKSPACE_TAB_CLOSED = 'WORKSPACE_TAB_CLOSED';\n\n//KEY COMMANDS\nexport const MOVE_UP = 'MOVE_UP';\nexport const TAB = 'TAB';\nexport const MOVE_DOWN = 'MOVE_DOWN';\nexport const EXECUTE = 'EXECUTE';\nexport const CLICK = 'CLICK';\n\n// Special table handling\nexport const INTERACTION_TABLE = 'interaction';\n\n//Toolbar Constants\nexport const WORKSPACE_NAV_SELECTED = 'WORKSPACE_NAV_SELECTED';\nexport const UPDATE_TOOLBAR_BUTTON = 'UPDATE_TOOLBAR_BUTTON';\nexport const TOOLBAR_EXPANDER = 'expander';\nexport const FULL_PAGE_TARGET = 'full';\nexport const MASTER_DETAIL_TARGET = 'master_detail';\nexport const FLYOUT_TARGET = 'flyout';\nexport const WIN_TARGET = 'win';\nexport const TOOLBAR_ROOT_BEHAVIOR = 'TOOLBAR_ROOT_BEHAVIOR';\nexport const WORKSPACE_TOOLBAR_BUTTON_CLICKED = 'WORKSPACE_TOOLBAR_BUTTON_CLICKED';\n\n// Alert aka Notification\nexport const NOTIFICATIONS_PROVIDER_TAG = 'sn-workspace-notification-tray';\nexport const NOTIFICATIONS_TOAST_PROP = 'toast';\nexport const NOTIFICATIONS_ROOT_BEHAVIOR = 'NOTIFICATIONS_ROOT_BEHAVIOR';\nexport const NOTIFICATIONS_TOAST_BEHAVIOR = 'NOTIFICATIONS_TOAST_BEHAVIOR';\nexport const SHOW_NOTIFICATION_TOAST = 'SHOW_ALERT_TOAST';\nexport const TOGGLE_NOTIFICATION_TRAY = 'TOGGLE_ALERT_TRAY';\nexport const NOTIFICATIONS_ITEM_CLICKED = 'NOTIFICATIONS_ITEM_CLICKED';\nexport const NOTIFICATION_SELECTED = 'NOTIFICATION_ITEM_CHANGED';\nexport const NOTIFICATIONS_BADGE_LIST_UPDATED = 'NOTIFICATION_BADGE_LIST_UPDATED';\nexport const NOTIFICATIONS_TRAY_TOGGLED = 'NOTIFICATIONS_TRAY_TOGGLED';\nexport const UPDATE_NOTIFICATIONS_QUEUE = 'UPDATE_NOTIFICATIONS_QUEUE';\nexport const NOTIFICATIONS_INIT = 'NOTIFICATIONS_INIT';\nexport const UPDATE_NOTIFICATIONS = 'ASK_TO_UPDATE_ALERTS';\nexport const UPDATE_NOTIFICATIONS_SUCCEEDED = 'UPDATE_ALERTS_SUCCEEDED';\nexport const UPDATE_ALERTS_FAILED = 'UPDATE_ALERTS_FAILED';\nexport const NOTIFICATIONS_SELECTED_CONTENT = 'NOTIFICATIONS_SELECTED_CONTENT';\n\nexport const QUERY_NOTIFICATIONS = 'ASK_TO_QUERY_ALERTS';\nexport const QUERY_NOTIFICATIONS_SUCCEEDED = 'QUERY_ALERTS_SUCCEEDED';\nexport const QUERY_ALERTS_FAILED = 'QUERY_ALERTS_FAILED';\n\nexport const QUERY_NOTIFICATION_COUNT = 'ASK_TO_QUERY_ALERT_COUNT';\nexport const QUERY_NOTIFICATION_COUNT_SUCCEEDED = 'QUERY_ALERT_COUNT_SUCCEEDED';\n\nexport const CLEAR_NOTIFICATION_SECTION = 'ASK_TO_CLEAR_SECTION';\nexport const CLEAR_NOTIFICATION_SECTION_SUCCEEDED = 'CLEAR_SECTION_SUCCEEDED';\n\nexport const SUBSCRIBE_NOTIFICATIONS = 'ASK_TO_SUBSCRIBE_NOTIFICATION';\nexport const WS_NOTIFICATION_ITEM_CHANGED = 'WS_NOTIFICATION_ITEM_CHANGED';\n\nexport const NOTIFICATION_TOAST = 'toast';\nexport const NOTIFICATION_TRAY = 'tray';\nexport const PAGE_SIZE = 20;\n\nexport const ALERT_STATUS_NEW = 'new';\nexport const ALERT_STATUS_READ = 'read';\nexport const ALERT_STATUS_DELETED = 'deleted';\nexport const ALERT_BADGE_RESET_TIMESTAMP = 'sn.ws.notification.badge.reset.timestamp';\n\n\n// User preferences\nexport const USER_PREFERENCES_UPDATED = 'USER_PREFERENCES_UPDATED';\nexport const USER_MENU_CLICKED = 'USER_MENU_CLICKED';\nexport const USER_PREFERENCES = 'USER_PREFERENCES';\nexport const SHOW_RIBBON = 'workspace.showRibbon';\nexport const SHOW_SIDEBAR = 'workspace.showAgentAssist';\nexport const WRAP_LIST_TEXT = 'workspace.wrapListText';\nexport const SHOW_BADGE_COUNT = 'workspace.notifications.showBadgeCount';\nexport const SHOW_BANNERS = 'workspace.notifications.showPopups';\nexport const DISPLAY_PREFS = 'display';\nexport const NOTIFICATION_PREFS = 'notifications';\n\n// HomePage\nexport const HOME_PAGE_HINTS_TOGGLED = 'TOGGLE_HOME_PAGE_HINTS';\nexport const HOME_PAGE_REFRESH_ACTIVITY_LOGS = 'REFRESH_ACTIVITY_LOGS';\n\nexport const STORE_UPDATED = 'STORE_UPDATED';\nexport const PROPERTIES_SET = 'PROPERTIES_SET';\n\n//Navigation Mode\nexport const NAVIGATION_MODE_TAB = 'tab';\nexport const NAVIGATION_MODE_BREADCRUMB = 'breadcrumb';\n\n//Breadcrumb Actions\nexport const BREADCRUMB_ITEM_SELECTED = 'BREADCRUMB_ITEM_SELECTED';\nexport const BREADCRUMB_COMPONENT_INIT = 'BREADCRUMB_COMPONENT_INIT';\nexport const BREADCRUMB_COMPONENT_UNMOUNTED = 'BREADCRUMB_COMPONENT_UNMOUNTED';\nexport const BREADCRUMB_TABS_DATA_CHANGED = 'BREADCRUMB_TABS_DATA_CHANGED';\n\n// EDS Actions\nexport const EDS_TOGGLE_CHECKED_SET = \"NOW_TOGGLE#CHECKED_SET\";\nexport const EDS_BUTTON_CLICKED = \"NOW_BUTTON#CLICKED\";\nexport const EDS_MODAL_OPENED_SET = \"NOW_MODAL#OPENED_SET\";\nexport const EDS_MODAL_FOOTER_ACTION_CLICKED = \"NOW_MODAL#FOOTER_ACTION_CLICKED\";\n\n// Modal Buttons\nexport const EDS_MODAL_CANCEL_BTN = {\n\tvariant: 'secondary',\n\tlabel: t('Cancel')\n};\n\nexport const EDS_MODAL_CONFIRM_BTN = {\n\tvariant: 'primary',\n\tlabel: t('OK')\n};\n\n// Router\nexport const SELECTED_CONTENT_CHANGED = 'SELECTED_CONTENT_CHANGED';\nexport const CLEAR_REDIRECT = 'CLEAR_REDIRECT';\nexport const URL_CONTENT_LOADED = 'URL_CONTENT_LOADED';\nexport const INITIAL_URL_LOADED = 'INITIAL_URL_LOADED';\nexport const WORKSPACE_URL_CHANGED = 'WORKSPACE_URL_CHANGE';\n\n//Record status\nexport const VIEWED = 'viewed';\nexport const INSERTED = 'inserted';\nexport const CREATED = 'created';\nexport const DELETED = 'deleted';\nexport const UPDATED = 'updated';\nexport const SAVED = 'saved';\nexport const CLOSED = 'closed';\n\n//platform workspace config admin link\nexport const WS_CONFIG_ADMIN_PATH = '/nav_to.do?uri=%2Fsys_aw_master_config.do%3Fsys_id%3D${APPID}%26sysparm_view%3D%26sysparm_record_target%3Dsys_aw_master_config%26sysparm_record_row%3D1%26sysparm_record_list%3DORDERBYname%26sysparm_record_rows%3D1'\n\n//roles\nexport const ROLE_WORKSPACE_ADMIN = 'workspace_admin';\n\nexport const TRANSACTION_SOURCE = 'transaction_source';\n\n// open frame\nexport const OPEN_PHONE = 'OPEN_PHONE';\nexport const AGENT_PRESENCE_STATE_WATCHER = 'agent_presence_state_watcher';\n","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__sn_custom_create_element_3_0_0_rc_1;","module.exports = __TECTONIC__react;","module.exports = __TECTONIC__$servicenow_ui_renderer_react;","module.exports = __TECTONIC__lodash_4_17_4;","module.exports = __TECTONIC__$servicenow_ui_core;","import get from 'lodash/get';\nimport {createPreSourceBehavior, getProperty} from 'sn-uxpage-presource';\nimport {t} from 'sn-translate';\n\nimport {getRawConfig} from '../sn-workspace-tabs/config';\nimport {\n\tTAB_MENU_CONF_KEY, TOOLBAR_EXPANDER, MODULE_CONFIG_KEY,\n\tHEADER_ALERT_CONFIG_KEY, HEADER_ALERT_CONFIG_V2_KEY,\n\tNOTIFICATION_CONFGIURED\n} from '../constants/constants';\nimport {getPagePropNotification} from './ws_config';\n\nexport {getProperty, getBehaviorProp, preWsConfigSysId, preUserData, preUserRoles, preUserPrefs} from 'sn-uxpage-presource';\n\nexport const wsTabMenuConf = createPreSourceBehavior('sn-workspace-tabs', {\n\tname: TAB_MENU_CONF_KEY,\n\ttransform: data => getRawConfig(data)\n});\n\nexport const wsModuleConf = createPreSourceBehavior('sn-workspace-toolbar', {\n\tname: MODULE_CONFIG_KEY,\n\ttransform: data => {\n\t\tconst results = get(data, 'data.GlideRecord_Query.sys_aw_module._results', null);\n\t\treturn mapModuleConfigToState(results);\n\t}\n});\n\nfunction mapModuleConfigToState(data) {\n\treturn data\n\t\t.map(item => {\n\t\t\tlet {\n\t\t\t\tid: {value: id},\n\t\t\t\tlabel: {displayValue: label},\n\t\t\t\troles: {displayValue: roles},\n\t\t\t\ticon: {value: icon},\n\t\t\t\tsys_props: {value: sys_props},\n\t\t\t\ttype: {value: type},\n\t\t\t\thide_until_ready: {value: hide_until_ready}\n\t\t\t} = item;\n\n\t\t\tlabel = !label ? \"\" : t(label);\n\n\t\t\t// convert server hide_until_ready to show which is our internal representation\n\t\t\tconst show = !hide_until_ready;\n\n\t\t\t// Until we come up with a model for expander, we ignore any specified expanders from the server configuration\n\t\t\t// to prevent any issues. Later we hardcode an expander above the cti button\n\t\t\tif (id === TOOLBAR_EXPANDER)\n\t\t\t\treturn null;\n\n\t\t\t//normalize glide_list and text_area fields into array values\n\t\t\tif (sys_props && sys_props.length > 0)\n\t\t\t\tsys_props = sys_props.replace(/\\n/g, \",\").split(',');\n\n\t\t\tif (roles && roles.length > 0)\n\t\t\t\troles = roles.split(',');\n\n\t\t\treturn {id, label, icon, roles, sys_props, type, show};\n\t\t});\n}\n\nexport const wsAlertConfig = createPreSourceBehavior('sn-workspace-header', {\n\tname: HEADER_ALERT_CONFIG_KEY,\n\ttransform: result => get(result, 'data.GlideAggregate_Query[0].count', 0)\n});\n\nexport const wsAlertConfigV2 = createPreSourceBehavior('sn-workspace-header', {\n\tname: HEADER_ALERT_CONFIG_V2_KEY,\n\ttransform: result => get(result, 'data.GlideAggregate_Query[0].count', 0)\n});\n\nexport const getNotificationEnabledState = () => ({\n\tsysProp: getProperty('glide.ui_notification.enabled', false),\n\tversion: Number(getProperty('glide.ui_notification.version', '1')),\n\talertV1: wsAlertConfig,\n\talertV2: wsAlertConfigV2,\n});\n\n\n\nexport const wsNotificationEnabled = (function ({sysProp, version, alertV1, alertV2}) {\n\tconst isTriggerEnabled = (version >= 2 && alertV2.initialState > 0) || (version <= 1 && alertV1.initialState > 0);\n\tconst initialState = sysProp && getPagePropNotification() && isTriggerEnabled;\n\treturn { name: NOTIFICATION_CONFGIURED, initialState};\n}(getNotificationEnabledState()));\n","\nimport get from 'lodash/get';\nimport isEmpty from 'lodash/isEmpty';\nimport {t} from \"sn-translate\";\n\nimport * as constants from '../constants/constants';\nimport {getListPrimaryTab, getChatPrimaryTab} from \"./snWorkspaceTabs.generators\";\nimport {getMaxTabLimit} from './config';\nimport {unsuspendTab} from \"./snWorkspaceTabs.storage\";\nimport {cacheTab} from './snWorkspaceTabs.cache';\nimport {\n\t getSelectedModuleTab,\n\tisMasterDetail,\n\tisModuleTab,\n\tisModuleTabSelected,\n} from './snWorkspaceTabs.moduleTab';\n\nconst maxTabsPrompt = {\n\tname: constants.MAX_TABS_REACHED,\n\ttitle: t('Max Tab Reached'),\n\tmessage: t('You have reached max number of tabs you can have open at one time. Close tabs in order to open more.'),\n\tbuttonTitle: t('Dismiss'),\n\tbuttonAction: () => {}\n};\n\nconst noSupportPrompt = {\n\ttitle: t('Not Supported'),\n\tmessage: t('You are trying to create a record that is not supported. Please contact system administrator for assist.'),\n\tbuttonTitle: t('Dismiss'),\n\tbuttonAction: () => {}\n};\n\nexport let RECORD_DISPLAY_VALUE_CACHE = {};\n\nlet TABLE_COL_MAP = {};\n\nexport function findRecordDisplayValue(table, record) {\n\tlet title = '';\n\tif (record) {\n\t\tlet displayColumn = getTableDisplayColumn(table);\n\t\tif (displayColumn && record[displayColumn]) {\n\t\t\ttitle = record[displayColumn].displayValue;\n\t\t}\n\t}\n\telse {console.warn('Tabs: missing record for', table);}\n\n\treturn title;\n}\n\nexport function getClosestTabId(tabList, curTabId) {\n\n\t// There is no closest tab unless we have at least two tabs open\n\tif(tabList.length < 2)\n\t\treturn '-1';\n\n\t// Fetch the tab to the left, unless there is none, in which case fetch the tab to the right\n\tlet curTabIdx = tabList.findIndex(t => t.tab_id == curTabId);\n\tconst newTabIdx = curTabIdx - 1 < 0 ? curTabIdx + 1 : curTabIdx - 1;\n\tconst newTab = tabList[newTabIdx];\n\treturn newTab.tab_id;\n}\n\nexport function isValidTabId(tabsData, tab_id){\n\tconst {tabList = []} = tabsData;\n\treturn getTabIndexById(tabList, tab_id) > -1;\n}\n\nexport function getTabById(tabList, tab_id) {\n\treturn tabList ? tabList.find( t => t.tab_id === tab_id) : null;\n}\n\nexport function getTabIndexById(tabList, tabId){\n\treturn tabList.findIndex(t => t.tab_id === tabId);\n}\n\nexport function getSelectedTab(tabsData){\n\tconst {tabList, selectedTabId} = tabsData;\n\treturn getTabById(tabList, selectedTabId);\n}\n\nexport function getSelectedTabIdx(tabsData){\n\tconst {tabList, selectedTabId} = tabsData;\n\treturn getTabIndexById(tabList, selectedTabId);\n}\n\nexport function getListTab(tabsData){\n\tconst {tabList} = tabsData;\n\treturn tabList.find(t => t.type == constants.FULL_LIST_ITEM_TYPE);\n}\n\nexport function clearUpdateFlag(tab){\n\t// No update flag to clear\n\tif(!tab.hasUpdate)\n\t\treturn tab;\n\n\t// If no children, clear flag\n\tconst {tabList = []} = tab;\n\tif(tabList.length === 0)\n\t\treturn {...tab, hasUpdate: false};\n\n\t// If a child tab has an update, don't clear flag\n\tif(tabList.some(t => t.hasUpdate))\n\t\treturn tab;\n\n\t// Clear flag\n\treturn {...tab, hasUpdate: false};\n}\n\n\n// Remove interaction record from tabs data (STRY5193031)\nexport function removeInteractionRecord(tabsData, props){\n\tif (!tabsData.interactionRelatedRecord)\n\t\treturn tabsData;\n\tconst {interactionRelatedRecord, ...newTabsData} = tabsData;\n\treturn newTabsData;\n}\n\nexport function getTitleFromFormHeader(type, recordDisplayValue, tableDisplayValue) {\n\tlet title  = recordDisplayValue || tableDisplayValue || 'Record';\n\tif (type === constants.NEW_RECORD_ITEM_TYPE && !recordDisplayValue)\n\t\ttitle = 'New ' + title;\n\treturn title;\n}\n\nexport function clearStatusIndicator(tab) {\n\n\tif(!tab.isDirty && !tab.hasError)\n\t\treturn tab;\n\n\treturn {...tab, isDirty: false, hasError: false};\n}\n\n\nexport function isValidSysId(sysId){\n\treturn /^[0-9a-f]{32}$/gi.test(sysId);\n}\n\nexport function shouldUpdateTabData(preTabsData, nextTabsData) {\n\tconst nextActiveTab = getSelectedTab(nextTabsData);\n\n\tfunction _getTotalContentTabs(tabsData) {\n\t\treturn tabsData.tabList.filter( t => !isModuleTab(t)).reduce( (ac, cv) => ac + cv.tabList.length, 0) + 1;\n\t}\n\n\tfunction isReachingTabsLimit(preTabsData, nextTabsData) {\n\t\tlet reached = false;\n\t\tif (isEmpty(preTabsData))\n\t\t\treturn reached;\n\n\t\t// Override tab limit if active tab says so\n\t\tif (get(nextActiveTab, 'additional_data.overrideTabLimit', false))\n\t\t\treturn reached;\n\n\t\tconst {tabList: preTabList} = preTabsData;\n\t\tconst {tabList: nextTabList} = nextTabsData;\n\n\t\tconst {mainLimit, subLimit} = getMaxTabLimit();\n\t\tif (nextTabList.length > preTabList.length) { // checking main tab limit\n\t\t\treached = nextTabList.length > mainLimit;\n\t\t}\n\n\t\tif (!reached) { // checking sub tab limit 1)adding sub tab to the same main tab 2)Adding sub tab by adding a main tab\n\t\t\tconst nextTotalSubs = _getTotalContentTabs(nextTabsData);\n\t\t\treached = nextTotalSubs > subLimit;\n\t\t}\n\t\treturn reached;\n\t}\n\n\tlet stopperPrompt = null;\n\tif (isReachingTabsLimit(preTabsData, nextTabsData)) {\n\t\tstopperPrompt = maxTabsPrompt;\n\t}\n\n\treturn stopperPrompt;\n}\n\nexport function updateSelectedTabs(tabsData){\n\treturn applyToSelectedTabs(tabsData, t=>{\n\t\tlet newTab = clearUpdateFlag(t);\n\t\tnewTab = unsuspendTab(newTab);\n\t\tnewTab = cacheTab(newTab);\n\t\treturn newTab;\n\t});\n}\n\nexport function getTabByData(tabList, tabDef) {\n\tconst { table, sys_id, type} = tabDef;\n\n\tif(table && sys_id)\n\t\treturn tabList.find( t => t.table === table && t.sys_id === sys_id );\n\n\tif (type === constants.NON_RECORD_ITEM_TYPE) {\n\t\tconst rType = get(tabDef, 'additional_data.rendererType', null) || get(tabDef, `renderer_type`, null);\n\t\tif (sys_id)\n\t\t\treturn tabList.find(t => t.type === type &&\n\t\t\t\t( (t.additional_data && t.additional_data.rendererType === rType) || t.renderer_type === rType) &&\n\t\t\t\tt.sys_id === sys_id);\n\t\telse\n\t\t\treturn tabList.find(t => t.type === type &&\n\t\t\t\t( (t.additional_data && t.additional_data.rendererType === rType) || t.renderer_type === rType) &&\n\t\t\t\t!t.sys_id);\n\t}\n\n\tif(type)\n\t\treturn tabList.find(t => t.type === type);\n\n\treturn null;\n}\n\nexport function buildTabTitleCacheKey(table, sys_id) {\n\treturn table && sys_id ? `${table}_${sys_id}` : '';\n}\n\nexport function setTabTitleCache(table, sys_id, value) {\n\tlet key = buildTabTitleCacheKey(table, sys_id);\n\tif (key)\n\t\tRECORD_DISPLAY_VALUE_CACHE[key] = value;\n}\n\nexport function setTableDisplayColumn(table, displayColumn){\n\tTABLE_COL_MAP[table] = displayColumn;\n}\n\nexport function getTabTitleCache(table, sys_id) {\n\tlet key = buildTabTitleCacheKey(table, sys_id);\n\treturn key ? RECORD_DISPLAY_VALUE_CACHE[key] : '';\n}\n\nexport function getTableDisplayColumn(table){\n\treturn TABLE_COL_MAP[table];\n}\n\nexport function findSubTabId(tabsData, table, sys_id) {\n\tconst toFind = {table, sys_id};\n\tlet subTab = null;\n\ttabsData.tabList.some( mainTab => {\n\t\tsubTab = getTabByData(mainTab.tabList, toFind);\n\t\treturn !!subTab;\n\t});\n\treturn subTab ? subTab.tab_id : null;\n}\n\nexport function getActiveTabInfo(tabsData) {\n\t// All possible return properties {parent_tab_id, parent_table, parent_sys_id, table, sys_id, type}\n\tif (!tabsData)\n\t\treturn null;\n\n\tconst { tabList, selectedTabId} = tabsData;\n\tconst primaryTab = getTabById(tabList, selectedTabId);\n\n\tif (!primaryTab)\n\t\treturn null;\n\n\tlet { tab_id: parent_tab_id, table: parent_table, sys_id: parent_sys_id, type: parent_type, session_type } = primaryTab;\n\tparent_type = session_type || parent_type;\n\tlet activeTabInfo = {\n\t\ttab_id: parent_tab_id,\n\t\ttable: parent_table,\n\t\tsys_id: parent_sys_id,\n\t\ttype: parent_type\n\t};\n\n\n\n\tlet selectedSubTab = getSelectedTab(primaryTab);\n\n\tif (selectedSubTab) {\n\t\tconst {tab_id, table, sys_id, type} = selectedSubTab;\n\t\tactiveTabInfo = {\n\t\t\tparent_tab_id,\n\t\t\tparent_table,\n\t\t\tparent_sys_id,\n\t\t\tparent_type,\n\t\t\ttab_id,\n\t\t\ttable,\n\t\t\tsys_id,\n\t\t\ttype\n\t\t};\n\t}\n\n\n\treturn activeTabInfo;\n}\n\nexport function checkActiveTab(tabsData, prevTabsData) {\n\tconst activeTabInfo = getActiveTabInfo(tabsData);\n\tconst prevActiveTabInfo = getActiveTabInfo(prevTabsData);\n\n\tif (activeTabInfo && (!prevActiveTabInfo || activeTabInfo.sys_id !== prevActiveTabInfo.sys_id))\n\t\treturn activeTabInfo;\n\n\treturn null;\n}\n\n/**\n * Helper function applies a function to every selected tab of the tree, mutating the parent as necessary\n * @param tab\n * @param fn\n * @returns {*}\n */\nexport function applyToSelectedTabs(tab, fn, includeMasterDetail = true){\n\tlet newTab = _applyToSelectedTabsOnly(tab, fn);\n\tif(isModuleTabSelected(tab) || !isMasterDetail(tab))\n\t\treturn newTab;\n\n\treturn applyToOneTab(newTab, isModuleTab, t=>_applyToSelectedTabsOnly(t, fn));\n}\n\nfunction _applyToSelectedTabsOnly(tab, fn){\n\tconst {tabList = [], selectedTabId} = tab;\n\n\tif(tabList.length === 0 || selectedTabId == '-1')\n\t\treturn tab;\n\n\tconst selectedTabIdx = getTabIndexById(tabList, selectedTabId);\n\tif(selectedTabIdx < 0)\n\t\treturn tab;\n\n\tlet childTab = _applyToSelectedTabsOnly(tabList[selectedTabIdx], fn);\n\n\tchildTab = fn(childTab);\n\n\tif(childTab === tabList[selectedTabIdx])\n\t\treturn tab;\n\n\tlet newTabList = tabList.slice(0);\n\tnewTabList[selectedTabIdx] = childTab;\n\n\treturn {...tab, tabList: newTabList};\n}\n\n/**\n * Helper function applies a function to every tab in the tree. Optionally applies parent function if child mutates.\n * @param tab\n * @param fn\n * @returns {*}\n */\nexport function applyToAllTabs(tab, fn, parentFn = t=>t){\n\tconst {tabList = []} = tab;\n\n\tif(tabList.length === 0)\n\t\treturn tab;\n\n\tlet modified = false;\n\tconst newTabList = tabList.map(t => {\n\t\tlet childTab = applyToAllTabs(t, fn, parentFn);\n\t\tchildTab = fn(childTab);\n\t\tif(childTab !== t)\n\t\t\tmodified = true;\n\n\t\treturn childTab;\n\t});\n\n\tif(!modified)\n\t\treturn tab;\n\n\treturn parentFn({...tab, tabList: newTabList});\n}\n\n/**\n * Helper function applies a function to the first tab that satisfies a filter and optional parent function on ancestors.\n * @param tab\n * @param fn\n * @returns {*}\n */\nexport function applyToOneTab(tab, filter, fn, parentFn = t=>t){\n\tconst {tabList = []} = tab;\n\n\tif(tabList.length === 0)\n\t\treturn tab;\n\n\n\tlet found = false;\n\n\tlet newList = tabList.slice(0);\n\tlet i;\n\tfor(i = 0; i < newList.length; i++){\n\t\tif(filter(newList[i])){\n\t\t\tnewList[i] = fn(newList[i], i);\n\t\t\tfound = true;\n\t\t\tbreak;\n\t\t}\n\n\t\tlet childTab = applyToOneTab(newList[i], filter, fn, parentFn);\n\t\tif(childTab !== newList[i]){\n\t\t\tnewList[i] = childTab;\n\t\t\tfound = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(!found)\n\t\treturn tab;\n\n\treturn parentFn({...tab, tabList: newList}, i);\n}\n\nexport function updateTabs(tabsData, filter, updateFn, parentFn = t=>t){\n\treturn applyToAllTabs(tabsData, t=> {\n\t\tif(!filter(t))\n\t\t\treturn t;\n\n\t\treturn updateFn(t);\n\t}, parentFn)\n}\n\n\nexport function clearUpdateFlags(tabsData){\n\treturn applyToSelectedTabs(tabsData, clearUpdateFlag);\n}\n\n/**\n *\n * @param {*} oneTab\n * @param {*} tab_id\n * @param {*} updates: an object of all fields to be updated\n */\nexport function updateTabById(oneTab, tab_id, updates) {\n\treturn applyToOneTab(oneTab, t=>t.tab_id === tab_id, t=>({...t, ...updates}));\n}\n\n/**\n * Generate a content ID that uniquely identifies a tab's contents\n * @param tab\n * @returns {string}\n * @private\n */\nexport function getContentId(tab) {\n\t/**\n\t * A tab's content is uniquely identified by its type and sys_id. Tabs that don't have a sys_id,\n\t * such as new records and searches, can instead be differentiated by their tab_id which is always unique.\n\t **/\n\tconst { sys_id, type, tab_id, contentId } = tab;\n\tif(contentId)\n\t\treturn contentId;\n\n\tconst id = sys_id && sys_id != '-1' ? sys_id : tab_id;\n\treturn `${type}_${id}`.toLowerCase();\n}\n\nexport function isRootTab(tab){\n\treturn tab && tab.tab_id === constants.ROOT_TAB_ID;\n}\n\nexport function isSubTab(tab){\n\treturn tab.parentTabId !== constants.ROOT_TAB_ID;\n}\nexport function convertTabToChat(tab){\n\tconst {additional_data = {}, table, sys_id} = tab;\n\treturn {\n\t\t...tab,\n\t\ttype: constants.CHAT_ITEM_TYPE,\n\t\tactivated: false,\n\t\tadditional_data: {...additional_data, chat: {table, sys_id}, overrideTabLimit: true}\n\t}\n}\n\nexport function converChatTabToRecord(tab){\n\tconst {additional_data} = tab;\n\tconst {chat, overrideTabLimit, ...additional_data_new} = additional_data;\n\treturn {\n\t\t...tab,\n\t\ttype: constants.RECORD_ITEM_TYPE,\n\t\t//icon: null, // TODO: Remove after interaction team updates payload\n\t\tadditional_data: additional_data_new\n\t};\n}\n\nexport function closeDrillDown(tabsData) {\n\tconst moduleTab = getSelectedModuleTab(tabsData);\n\n\tif(!moduleTab)\n\t\treturn tabsData;\n\n\tconst {tabList =[]} = moduleTab;\n\tif(tabList.length === 0)\n\t\treturn tabsData;\n\n\treturn updateTabById(tabsData, moduleTab.tab_id, {tabList: []} );\n}\n\nexport function getLeafTab(tab){\n\tif(!tab)\n\t\treturn null;\n\n\tconst subTab = getSelectedTab(tab);\n\tif(!subTab)\n\t\treturn null;\n\n\t// Recurse to leaf of tree\n\tconst {tabList = []} = subTab;\n\tif(tabList.length)\n\t\treturn getLeafTab(subTab);\n\n\treturn subTab;\n}\n\nexport function isDetailTab(tab, parentTab){\n\tif(isModuleTab(parentTab))\n\t\treturn false;\n\n\tconst {table, sys_id} = tab;\n\tconst {table: parentTable, sys_id: parentSysId} = parentTab;\n\n\treturn table && table === parentTable && sys_id === parentSysId;\n}\n\n/** CONTENT PROVIDER */\n// TODO: move to content provider library\n\nexport function getContentDef(tab){\n\tif(!tab || !tab.type)\n\t\treturn null;\n\n\treturn {\n\t\ttype: tab.type,\n\t\t...(tab.table && {table: tab.table}),\n\t\t...(tab.sys_id && {sys_id: tab.sys_id}),\n        ...(tab.tab_id && {tab_id: tab.tab_id}),\n\t\t...(tab.module && {module_id: tab.module.id}),\n\t\t...(tab.params && {params: tab.params}),\n\t\t...(tab.title) && {tab_title: tab.title},\n\t\t...( (get(tab, 'additional_data.rendererType') && {rendererType: tab.additional_data.rendererType}) || (get(tab, 'renderer_type') && {rendererType:tab.renderer_type}) ), // TODO: move renderer type out of additional data\n\t\t...(get(tab, 'additional_data.term') && {searchTerm: tab.additional_data.term}), // TODO: switch search to custom renderer using params\n\t\t...(get(tab, 'additional_data.chat.sys_id') && {chatId: tab.additional_data.chat.sys_id}), // TODO: switch interaction to custom renderer using params\n\t};\n}\n\nexport function getSelectedContent(tabsData){\n\tlet parent = getSelectedTab(tabsData);\n\tlet parentContentDef = getContentDef(parent);\n\tlet tab, contentDef;\n\twhile(tab = getSelectedTab(parent)){\n\t\tcontentDef = getContentDef(tab);\n        if(parentContentDef && (parentContentDef.sys_id == '-1' || isContentParentDetails(contentDef, parentContentDef)))\n            break;\n\t\tif(parentContentDef)\n\t\t\tcontentDef.parent = {...parentContentDef};\n\n\t\tparent = tab;\n        parentContentDef = contentDef;\n\t}\n\n\treturn {\n\t\t...parentContentDef,\n\t\t...(tabsData.redirect && {redirect: tabsData.redirect})\n\t};\n}\n\nexport function isContentParentDetails(content, parent){\n\tif(parent.type === constants.MODULE_ITEM_TYPE )\n\t\treturn false;\n\n\tconst {table, sys_id} = content;\n\tconst {table: parentTable, sys_id: parentSysId} = parent;\n\n\treturn table && table === parentTable && sys_id === parentSysId;\n}\n\nexport function getParentTabInfoByTableAndSysId(tabsData, table, sys_id) {\n\treturn tabsData.tabList ? tabsData.tabList.find( t => t.table === table && t.sys_id === sys_id) : null;\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","import * as constants from '../constants/constants';\nimport {t} from \"sn-translate\";\nimport {getTabById, isRootTab, getSelectedTab} from \"./snWorkspaceTabs.util\";\n\n\nlet modules;\nlet defaultModule = null;\n// Index modules by ID\nexport function setModules(moduleArray){\n\tmodules = moduleArray.reduce((result, module)=>{\n\t\tconst {id} = module;\n\t\tif(!id)\n\t\t\treturn result;\n\n\t\tresult[id] = module;\n\t\tdefaultModule = defaultModule === null ? module : defaultModule;\n\t\treturn result;\n\t}, {});\n}\n\nexport function getModules(){\n\treturn modules;\n}\n\nexport function getModule(id){\n\treturn modules[id];\n}\n\nexport function getDefaultModule(){\n\treturn defaultModule;\n}\n\nexport function getInitialModuleTab(){\n\treturn {\n\t\tparentTabId: constants.ROOT_TAB_ID,\n\t\ttab_id: constants.MODULE_TAB_ID,\n\t\tselectedTabId: '-1',\n\t\ttabList: []\n\t};\n}\n\nexport function getTabIdForModule(module){\n\treturn `module_${module.id}`;\n}\n/**\n * Determines if a tab is a module tab or not\n * @param tab\n * @returns {boolean}\n */\nexport function isModuleTab(tab){\n\treturn tab.tab_id === constants.MODULE_TAB_ID;\n}\n\nexport function isModuleChild(tab){\n\treturn tab.type === constants.MODULE_ITEM_TYPE;\n}\n\nexport function isModuleTabSelected(tabsData){\n\treturn tabsData && tabsData.selectedTabId === constants.MODULE_TAB_ID;\n}\n\n/**\n * Finds top level module tab\n * @param tabsData\n * @returns {*}\n */\nexport function getModuleTab(tabsData){\n\tconst {tabList=[]} = tabsData;\n\treturn tabList.find(t=>isModuleTab(t));\n}\n\nexport function getTabByModule(tabsData, module){\n\tconst moduleTab = getModuleTab(tabsData);\n\n\tconst {tabList = []} = moduleTab;\n\treturn getTabById(tabList, getTabIdForModule(module));\n}\n\nexport function getModuleType(tab){\n\treturn getModuleProp(tab, 'type');\n}\n\nexport function getModuleId(tab){\n\treturn getModuleProp(tab, 'id');\n}\n\nfunction getModuleProp(tab, prop){\n\tconst module = getSelectedModule(tab);\n\tif (module)\n\t\treturn module[prop];\n}\n\nexport function isMasterDetail(tab){\n\treturn getModuleType(tab) === constants.MASTER_DETAIL_TARGET;\n}\n\nexport function getSelectedModuleTab(tabsData){\n\tconst moduleTab = getModuleTab(tabsData);\n\tif(!moduleTab)\n\t\treturn;\n\n\treturn getSelectedTab(moduleTab);\n}\n\nexport function getSelectedModule(tab){\n\tlet moduleTab = tab;\n\tif(isRootTab(moduleTab))\n\t\tmoduleTab = getModuleTab(moduleTab);\n\n\tif(!moduleTab)\n\t\treturn;\n\n\tif(isModuleTab(moduleTab))\n\t\tmoduleTab = getSelectedTab(moduleTab);\n\n\tif(!moduleTab)\n\t\treturn;\n\n\tconst {module = {}} = moduleTab;\n\treturn module;\n}\n","import {t} from 'sn-translate';\nimport {createPreSourceBehavior, getPageProp} from 'sn-uxpage-presource';\nimport * as constants from './constants';\nimport {get} from 'lodash';\nimport {BRAND_THEME_KEY,WS_LOGO_KEY} from \"./constants\";\n\nexport const hasRole = (agentRoles, role) => agentRoles && agentRoles.length ? agentRoles.includes(role) : false;\nexport const isAdmin = agentRoles => hasRole(agentRoles, 'admin');\nexport const isWSAdmin = agentRoles => hasRole(agentRoles, constants.ROLE_WORKSPACE_ADMIN);\n\nexport const getWorkspaceViews = (agentRoles) => {\n\tif (hasRole(agentRoles, 'sn_customerservice.csm_workspace_user') || hasRole(agentRoles, 'sn_customerservice.relationship_agent'))\n\t\treturn \"workspace_csm,workspace\";\n\telse if (hasRole(agentRoles, 'itil'))\n\t\treturn \"workspace_itil,workspace\";\n\n\treturn 'workspace';\n};\n\nexport const iconConfig = {\n\tphone: {active: constants.ICON_PHONE_FILL, inactive: constants.ICON_PHONE_OUTLINE },\n\tchat: {active: constants.ICON_CHAT_FILL, inactive: constants.ICON_CHAT_OUTLINE},\n\twalkup: {active: constants.ICON_GROUP_FILL, inactive:constants.ICON_GROUP_OUTLINE},\n\tmessaging: {active: constants.ICON_ONGOING_FILL, inactive: constants.ICON_ONGOING_OUTLINE}\n};\n\nexport const getIconFromConfig = (type, status) => {\n\tlet icon_type =  get(iconConfig,type,null);\n\treturn icon_type ? get(icon_type,status,icon_type) : null;\n};\n\nexport const tabsConfig = {\n\tvalid_max_tabs_min: 2,\n\tvalid_max_tabs_max: 100,\n\tnon_records: [{\n\t\ttype: constants.FULL_SEARCH_ITEM_TYPE,\n\t\ttitle: constants.FULL_SEARCH_TAB_TITLE\n\t},{\n\t\ttype: constants.KNOWLEDGE_ITEM_TYPE,\n\t\ttitle: constants.KNOWLEDGE_TAB_TITLE\n\t}\n\t]\n};\n\nexport const menuConfig = {\n\tcloseMenu: {\n\t\theader: null,\n\t\titems: [\n\t\t\t{name: constants.CLOSE_TAB_MENU_ITEM, displayValue: t('Close Tab')},\n\t\t\t{name: constants.CLOSE_OTHER_TABS_MENU_ITEM, displayValue: t('Close Other Tabs')},\n\t\t\t{name: constants.CLOSE_ALL_TABS_MENU_ITEM, displayValue: t('Close All Tabs')}\n\t\t]\n\t},\n\tmainPlus: {\n\t\theader: {name: 'new', displayValue: t('New...')},\n\t\titems: [ ]\n\t}\n};\n\nexport const alertConfig = {\n\ttoast: {\n\t\ttoast_max_show_time: 6000\n\t}\n};\n\n\nexport const wsBrandThemePresource = createPreSourceBehavior('sn-workspace-header', {\n\tname: BRAND_THEME_KEY,\n\ttransform: result => {\n\t\tconst configObj = get(result, 'data.GlideRecord_Query.sys_aw_master_config._results[0]', {});\n\t\tconst {workspace_logo, brand_color, primary_color} = configObj;\n\n\t\treturn {\n\t\t\tlogo: get(workspace_logo, 'value', null),\n\t\t\tbrandColor: get(brand_color, 'value', null),\n\t\t\tprimaryColor: get(primary_color, 'value', null)\n\t\t};\n\t}\n});\n\nexport const wsBrandLogoPresource = createPreSourceBehavior('sn-workspace-header', {\n\t   name: WS_LOGO_KEY,\n\t   transform: result =>  {\n\t\t\t   const data = get(result, 'data.GlideRecord_Query.sys_attachment._results[0]', null);\n\t\t\t   let wslogo = null;\n\t\t\t   if (data && get(data, 'sys_id', null)) {\n\t\t\t\t\t\t\t\t   wslogo = get(data.sys_id, 'value', null);\n\t\t\t\t   }\n\t\t\t   return wslogo;\n\t  }\n});\n\nexport const wsLogo = wsBrandLogoPresource.initialState;\nexport const wsBrandTheme = wsBrandThemePresource.initialState;\n\nexport const getPagePropUserPref = () => getPageProp(\"ws_active_user_pref\", true);\nexport const getPagePropNotification = () => getPageProp(\"ws_active_notification\", true);\nexport const getPagePropSearch = () => getPageProp(\"ws_active_search\", true);\nexport const getPagePropNavMode = () => getPageProp(\"ws_navigation_mode\", \"tab\");\n\nexport const isNavModeTab = () => (getPagePropNavMode() === constants.NAVIGATION_MODE_TAB);\nexport const isNavModeBreadcrumb = () => (getPagePropNavMode() === constants.NAVIGATION_MODE_BREADCRUMB);\n\nexport const getTransactionSource = () => {\n\tlet result = 'Interface=Workspace;Interface-Type=';\n\tconst path = window.location.pathname;\n\tconst nowRegExp = new RegExp(/^\\/now\\/workspace/);\n\tconst isInternal = path.match(nowRegExp);\n\n\t// if the workspace is internal, we add a value to Interface-Type\n\tif (isInternal) {\n\t\tconst sourceRegExp = new RegExp((/(^\\/now\\/workspace\\/)?([\\w\\-]+)(.*$)/i));\n\t\t// capture group 2 is the section of the url after /now/workspace/\n\t\t// this is a uniquely identifying string for internally created workspaces\n\t\tresult += path.match(sourceRegExp)[2];\n\t}\n\n\treturn result;\n}\n","module.exports = __TECTONIC__$servicenow_now_icon;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import {\n\tTABS_DATA_INIT_PROP_BEHAVIOR,\n\tSTOPPER_PROMPT_INIT_PROP_BEHAVIOR,\n\tNOTIFICATION_BADGE_COUNT_INIT_PROP_BEHAVIOR,\n\tNOTIFICATION_SHOW_TRAY_INIT_PROP_BEHAVIOR,\n\tWORKSPACE_LOADED_INIT_PROP_BEHAVIOR,\n\tSELECTED_CONTENT_INIT_PROP_BEHAVIOR,\n\tUPDATE_MODULE_INIT_PROP_BEHAVIOR,\n\tCONFIG_ITEMS_LINKS_INIT_PROP_BEHAVIOR,\n\tSELECTED_PANEL_ID_INIT_PROP_BEHAVIOR,\n\tOPEN_FRAME_PROPS_BEHAVIOR,\n\tOPEN_PHONE,\n\tWORKSPACE_NAV_SELECTED,\n\tAGENT_PRESENCE_STATE_WATCHER\n} from '../../constants/constants';\nimport {getSelectableRootProps, getSelectableAlertProps} from \"../selectablePropUtils\";\n\nimport {actionTypes} from '@servicenow/ui-core';\n\nconst {COMPONENT_BOOTSTRAPPED} = actionTypes;\n\nexport const tabsDataInitPropBehavior = {\n\tname: TABS_DATA_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\ttabsData: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRootProps('tabsData');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const configItemsLinksInitPropBehavior = {\n\tname: CONFIG_ITEMS_LINKS_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tconfigItemsLinks: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRootProps('configItemsLinks');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const stopperPromptInitPropBehavior = {\n\tname: STOPPER_PROMPT_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tstopperPrompt: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRootProps('tabsStopperPrompt');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const notificationBadgeCountInitPropBehavior = {\n\tname: NOTIFICATION_BADGE_COUNT_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tnotificationBadgeCount: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableAlertProps('badgeCount');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const notificationShowTrayInitPropBehavior = {\n\tname: NOTIFICATION_SHOW_TRAY_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tnotificationShowTray: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableAlertProps('show');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const workspaceLoadedInitPropBehavior = {\n\tname: WORKSPACE_LOADED_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tworkspaceLoaded: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRootProps('workspaceLoaded');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const selectedContentInitPropBehavior = {\n\tname: SELECTED_CONTENT_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tselectedContent: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRootProps('selectedContent');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const selectedPanelIdInitPropBehavior = {\n\tname: SELECTED_PANEL_ID_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tselectedPanelId: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRootProps('selectedPanelId');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const updateModuleInitPropBehavior = {\n\tname: UPDATE_MODULE_INIT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tupdateModule: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRootProps('updateModule');\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const openFramePropsBehavior = {\n\tname: OPEN_FRAME_PROPS_BEHAVIOR,\n\tproperties: {\n\t\topenPhone: {\n\t\t\tselectable: true,\n\t\t\tdefault: null\n\t\t},\n\t\tselectedNav: {\n\t\t\tselectable: true,\n\t\t\tdefault: null\n\t\t},\n\t\tpresenceStatus: {\n\t\t\tselectable: true,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[OPEN_PHONE]: ({action: {payload},updateProperties}) => {\n\t\t\tupdateProperties({openPhone: payload});\n\t\t},\n\t\t[WORKSPACE_NAV_SELECTED]: ({action: {payload},updateProperties}) => {\n\t\t\tupdateProperties({selectedNav: payload});\n\t\t},\n\t\t[AGENT_PRESENCE_STATE_WATCHER]: ({action: {payload},updateProperties}) => {\n\t\t\tupdateProperties({presenceStatus: payload});\n\t\t},\n\t\t[COMPONENT_BOOTSTRAPPED]: ({action: {payload: {options}}}) => {\n\t\t\tconst openFrameElements = document.getElementsByTagName('sn-component-openframe');\n\t\t\tif(openFrameElements && openFrameElements.length > 0){\n\t\t\t\tconst openFrameElement = openFrameElements[0];\n\t\t\t\tif(openFrameElement){\n\t\t\t\t\topenFrameElement['openPhone'] = getSelectableRootProps('openPhone');\n\t\t\t\t\topenFrameElement['selectedNav'] = getSelectableRootProps('selectedNav');\n\t\t\t\t\topenFrameElement['presenceStatus'] = getSelectableRootProps('presenceStatus');\n\t\t\t\t}\n\t\t\t}\n\t\t} \n\t}\n};\n\n","module.exports = __TECTONIC__$servicenow_now_tooltip;","module.exports = __TECTONIC__$servicenow_ui_effect_update_state;","import * as constants from '../constants/constants';\nimport {isModuleTab, getInitialModuleTab, getDefaultModule} from './snWorkspaceTabs.moduleTab';\nimport {clearStatusIndicator, applyToAllTabs, applyToSelectedTabs} from './snWorkspaceTabs.util';\nimport {getModuleTabPayload} from './snWorkspaceTabs.generators';\nimport {openOrFocusTabs} from './snWorkspaceTabs.reducers';\nimport {getWSSessionStorageKey} from '../utils/browser';\n\nconst initialPrimaryTab = getInitialModuleTab();\nconst initialTabsData = {tabList: [initialPrimaryTab], selectedTabId: initialPrimaryTab.tab_id, parentTabId: null, tab_id: constants.ROOT_TAB_ID};\n\n\nlet nextTabId = 0; // Math.round(Math.random() * 1000);\nexport function getNextTabId(){\n\treturn '' + nextTabId++;\n}\n\nfunction getInitialTabsData(){\n\tconst defaultModule = getDefaultModule();\n\tconst moduleTabPayload = getModuleTabPayload(defaultModule);\n\treturn openOrFocusTabs(initialTabsData, moduleTabPayload);\n}\n\nexport function loadTabs(userId){\n\tlet tabsData = getInitialTabsData();\n\n\t// try-catch for session storage support.\n\ttry {\n\t\tconst serializedTabsData = window.sessionStorage.getItem(getWSSessionStorageKey());\n\t\tif (serializedTabsData){\n\t\t\tconst storedtabsData = JSON.parse(serializedTabsData);\n\t\t\n\t\t\tif (storedtabsData.userId === userId && Array.isArray(storedtabsData.tabList) && (storedtabsData.tabList.length)) {\n\t\t\t\t// Remove userId and nextTabId from tabsData\n\t\t\t\t({userId, nextTabId, ...tabsData} = storedtabsData);\n\t\t\t\treturn applyToAllTabs(tabsData, t=>{\n\t\t\t\t\tlet newTab = suspendTab(t);\n\t\t\t\t\treturn clearStatusIndicator(newTab);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tcatch(e) {\n\t\ttabsData = initialTabsData;\n\t}\n\n\treturn tabsData;\n}\n\nexport function saveTabs(tabsData, userId){\n\t// try-catch for session storage support. Just do nothing if unavailable.\n\ttry {\n\t\tconst serializedTabsData = JSON.stringify({...tabsData, userId, nextTabId});\n\t\twindow.sessionStorage.setItem(getWSSessionStorageKey(), serializedTabsData);\n\t} catch(e){\n\t\treturn;\n\t}\n}\n\n/**\n * Update selected tab and its children to remove suspended flags and update active order\n * @param tabsData\n * @returns {*}\n */\nexport function unsuspendSelectedTabs(tabsData){\n\treturn applyToSelectedTabs(tabsData, unsuspendTab);\n}\n\nexport function unsuspendTab(tab){\n\treturn tab.isSuspended ? {...tab, isSuspended: false} : tab;\n}\n\n/***\n * Suspends non-primary tabs\n * @param tab\n * @returns tab\n */\nexport function suspendTab(tab){\n\treturn tab.isSuspended || isModuleTab(tab) ? tab: {...tab, isSuspended: true};\n}\n\nexport function suspendTabs(tabsData){\n\treturn applyToAllTabs(tabsData, suspendTab);\n}\n\nexport function clearTabs(){\n\ttry{\n\t\twindow.sessionStorage.clear();\n\t} catch(e){\n\t\t// Session storage not supported.\n\t}\n}\n","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","import pathToRegexp from 'path-to-regexp';\nimport qs from 'qs';\nimport {t} from 'sn-translate';\nimport {trackEvent} from '../utils';\nimport {isEmpty, camelCase, upperFirst} from 'lodash';\nimport * as constants from '../constants/constants';\n\nexport const BASE_ATTR = 'data-sn-href';\nconst BASE_TITLE = window.document.title;\n\nfunction getGlobal() {\n\tif (typeof self !== 'undefined') {\n\t\treturn self;\n\t}\n\n\tif (typeof window !== 'undefined') {\n\t\treturn window;\n\t}\n\n\tif (typeof global !== 'undefined') {\n\t\treturn global; // eslint-disable-line no-undef\n\t}\n\n\tthrow new Error('Unable to locate global object');\n}\n\nfunction getLocation(){\n\treturn getGlobal().location;\n}\n\nfunction removeTrailingSlash(pathname) {\n\tconst last = pathname.length - 1;\n\treturn pathname.substring(last) === '/' ? pathname.substring(0, last) : pathname;\n}\n\nfunction removeFirstSlash(pathname) {\n\treturn pathname.substring(0, 1) === '/' ? pathname.substring(1) : pathname;\n}\n\nfunction trimSlashes(pathname) {\n\treturn removeTrailingSlash(removeFirstSlash(pathname));\n}\n\nfunction removeRelativePathParts(href){\n\treturn href.split('/').filter((part) => {\n\t\treturn part !== '..';\n\t}).join('/');\n}\n\nfunction stripBase(pathname) {\n\tconst base = getBasePath();\n\treturn pathname.replace(base, '');\n}\n\nfunction getPathname(url){\n\tconst parsed = document.createElement('a');\n\tparsed.href = url;\n\treturn (parsed.pathname || url).replace(/(^\\/?)/, '/');\n\n}\n\nfunction keysToParams(match, keys) {\n\tconst params = {};\n\tlet index = 1;\n\tfor (let k in keys) {\n\t\tparams[keys[k].name] = match[index];\n\t\tindex++;\n\t}\n\n\treturn params;\n}\n\nfunction resolveHref(href) {\n\tconst base = getBasePath();\n\tif (!href.indexOf('/')) // absolute\n\t\treturn `${base}${href}`;\n\n\tconst hrefParts = href.split('/');\n\tconst pathname  = trimSlashes(getLocation().pathname);\n\n\tif (hrefParts[0] === '.') // relative, cwd\n\t\treturn `/${pathname}/${hrefParts.slice(1).join('/')}`;\n\tif (hrefParts[0] === '..') { // relative, up\n\t\tconst up = hrefParts.reduce((acc, part) => {\n\t\t\tif (part === '..')\n\t\t\t\tacc++;\n\n\t\t\treturn acc;\n\t\t}, 0);\n\n\t\tif (base && trimSlashes(base).split('/').length >= up) {\n\t\t\treturn `${base}/${trimSlashes(removeRelativePathParts(href))}`;\n\t\t}\n\n\t\treturn up >= pathname.split('/').length ? '/' : `/${pathname.split('/').slice(0, (up - 1)).join('/')}/${hrefParts.slice(up).join('/')}`;\n\t}\n\n\treturn `/${pathname}/${hrefParts.join('/')}`; // relative, cwd, without a prefix ('.')\n}\n\nfunction push(href) {\n\tgetGlobal().history.pushState({}, null, href);\n}\n\nexport function replace(href) {\n\tgetGlobal().history.replaceState({}, null, href);\n}\n\nexport function navigateUrl(url, title){\n\tpush(resolveHref(url));\n\ttrackEvent('navigate', url);\n\tsetPageTitle(url, title);\n}\n\nexport function setPageTitle(url, title = '') {\n\ttry {\n\t\t// default to the URL if title wasn't passed\n\t\tif (!title) {\n\t\t\tconst explodedUrl = url.split('/')[1];\n\t\t\tif (explodedUrl && explodedUrl.length > 3) {\n\t\t\t\ttitle = explodedUrl.split('_').map(e => upperFirst(e)).join(' ');\n\t\t\t}\n\t\t}\n\t\tconst pageTitle = title === 'Home' ? t('Home') : title;\n\t\twindow.document.title = t(`${pageTitle} | ${BASE_TITLE}`);\n\t}\n\tcatch (e) { () => {}}\n}\n\nexport function redirectUrl(url, title) {\n\tif (!url || typeof(url) != 'string')\n\t\treturn;\n\treplace(resolveHref(url));\n\ttrackEvent('redirect', url);\n\tsetPageTitle(url, title);\n}\n\nexport function getParametersFromPath(path){\n\tconst { pathname, hash, search } = getLocation();\n\tconst keys = [];\n\tconst regex = pathToRegexp(path, keys);\n\tconst match = regex.exec(stripBase(pathname));\n\n\treturn { pathname, hash, params: {\n\t\t\tquery: qs.parse(search.substring(1)),\n\t\t\tpath: match ? keysToParams(match, keys) : {}\n\t\t}};\n}\n\nlet basePath = null;\nexport function getBasePath() {\n\tif(!basePath) {\n\t\tconst base = document.querySelector('base');\n\t\tif (base) {\n\t\t\t// data-sn-href is a custom base path tag used by UX Framework. Use it if it exists, or the native href attribute otherwise\n\t\t\tconst pathname = getPathname(base.getAttribute(BASE_ATTR) || base.href);\n\t\t\tbasePath = pathname ? removeTrailingSlash(pathname) : '';\n\t\t} else\n\t\t\tbasePath = '';\n\t}\n\n\treturn basePath;\n}\n\n/**\n * Construct a params object from an array of URL slugs\n * @param options\n */\nexport function getParamsFromUri(options){\n\tlet params = {};\n\tlet paramFound = false;\n\tlet paramName = null;\n\tfor(let i = 0; i < options.length; i++) {\n\t\t// Stop parsing if we land on a SUB keyword\n\t\tif (options[i] === constants.SUB_URL)\n\t\t\tbreak;\n\n\t\tif(options[i] === constants.PARAMS_DIVIDER) {\n\t\t\t// Stop parsing if we encounter a second PARAMS keyword\n\t\t\tif(paramFound)\n\t\t\t\tbreak;\n\n\t\t\tparamFound = true;\n\t\t\tcontinue;\n\t\t}\n\n\t\t// No params found yet\n\t\tif(!paramFound)\n\t\t\tcontinue;\n\n\t\tif(paramName === null)\n\t\t\tparamName = camelCase(decodeURIComponent(options[i]));\n\t\telse {\n\t\t\tparams[paramName] = decodeURIComponent(options[i]);\n\t\t\tparamName = null;\n\t\t}\n\t}\n\n\tif(isEmpty(params))\n\t\treturn;\n\n\treturn params;\n}\n\n\n","module.exports = __TECTONIC__sn_uxpage_presource_19_0_1;","export {default as renderDeferredSlot} from './renderDeferredSlot';\nexport { trackPage, trackEvent } from './tracking';\nexport {isIE11, isBrowserSupported} from './browser';\n","module.exports = __TECTONIC__$servicenow_now_button;","import {tabsConfig, menuConfig} from '../constants/ws_config';\nimport {getProperty} from '../constants/presource.behaviors';\nimport clamp from 'lodash/clamp';\nimport {isIE11} from '../utils';\nimport {uniqueTablesFilter, canCreateFilter} from \"../utils/configFilters\";\n\nconst _isIE11 = isIE11();\nlet _tabsLimit = null;\n\nexport function getRawConfig(confData) {\n\tlet rawConfig = null;\n\ttry {\n\t\trawConfig = confData.data.GlideRecord_Query.sys_aw_new_menu_item._results.filter(uniqueTablesFilter());\n\t}\n\tcatch(e) { rawConfig = null; }\n\treturn rawConfig;\n}\n\nexport function initDataConfig(rawConfig) {\n\tlet transformRawConfig = rawConfig => rawConfig\n\t\t\t.filter(canCreateFilter())\n\t\t\t.map( cf => ({name: cf.table.value, displayValue: cf.table.displayValue, table: cf.table.value, order: cf.order.value}) )\n\t\t\t.sort( (a, b) => a.order - b.order );\n\n\tlet confDS = Array.isArray(rawConfig) ? transformRawConfig(rawConfig) : menuConfig.mainPlus.items;\n\n\treturn {tabsConf: tabsConfig, menuConf: {...menuConfig, [\"mainPlus\"]: {...menuConfig.header, [\"items\"]: confDS} }};\n}\n\nexport function getMaxTabLimit() {\n\tconst {valid_max_tabs_min, valid_max_tabs_max} = tabsConfig;\n\n\tif (!_tabsLimit ) {\n\t\tconst sysProp = _isIE11 ? \"sn_agent_workspace.max_tabs_ie\" : \"sn_agent_workspace.max_tabs\";\n\t\tlet mainLimit = getProperty(sysProp, _isIE11 ? 5 : 10);\n\t\tmainLimit = clamp(mainLimit, valid_max_tabs_min, valid_max_tabs_max) + 1; //full-list occupies the first tab slot\n\n\t\tconst sysPropSub = _isIE11 ? \"sn_agent_workspace.total_sub_tabs_ie\" : \"sn_agent_workspace.total_sub_tabs\";\n\t\tlet subLimit = getProperty(sysPropSub, _isIE11 ? 15 : 30);\n\t\tsubLimit = clamp(subLimit, mainLimit, valid_max_tabs_max);\n\n\t\t_tabsLimit = {mainLimit, subLimit, actLimit: clamp(getProperty(\"sn_agent_workspace.max_active_tabs\", 5), 2, 15)};\n\t}\n\n\treturn _tabsLimit;\n}\n","module.exports = __TECTONIC__sn_user_preferences;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {isEqual, debounce} from 'lodash';\nimport style from './_popoverContainer.scss';\nimport elementPath from './jsElementPath';\nimport {EXECUTE, MOVE_DOWN, MOVE_UP, TAB, CLICK} from \"../../constants/constants\";\n\nimport {updateDropdownPosition} from \"./popoverContainer.util\";\n\nclass PopoverContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttriggerEl: props.triggerEl,\n\t\t\tpositionStyle: null,\n\t\t\tkeyCmd: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {hoverEnabled, triggerEl} = this.props;\n\n\t\tif (hoverEnabled && hoverEnabled === true && triggerEl)\n\t\t\tthis.addEventListeners(triggerEl);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst {hoverEnabled, triggerEl} = this.props;\n\n\t\tif (hoverEnabled && hoverEnabled === true && triggerEl)\n\t\t\tthis.removeEventListeners(triggerEl);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis._propsToState(nextProps);\n\t}\n\n\t_propsToState(props) {\n\t\tconst {show, triggerEl, hoverEnabled, align} = this.props;\n\t\tconst {show: nextShow, triggerEl: nextTriggerEl} = props;\n\n\t\t//handle new trigger (in certain cases, the trigger isn't available on construction)\n\t\tconst newTriggerEl = triggerEl !== nextTriggerEl ? nextTriggerEl : triggerEl;\n\n\t\t//If show is changed and show is true, update the positioning and cache it to state.\n\t\tlet positionStyle = this.state.positionStyle;\n\t\tif (show !== nextShow) {\n\t\t\tif (!nextShow) {\n\t\t\t\t// accessibility requirement to replace focus on the trigger\n\t\t\t\t// when a menu is closed.\n\t\t\t\tif (!hoverEnabled && newTriggerEl)\n\t\t\t\t\tnewTriggerEl.focus();\n\t\t\t\tthis._clearGlobalClickHandler();\n\t\t\t} else {\n\t\t\t\tpositionStyle = updateDropdownPosition(newTriggerEl, this.dropdown, hoverEnabled, align);\n\t\t\t}\n\t\t}\n\n\t\tconst newState = {...props, positionStyle, triggerEl: newTriggerEl };\n\n\t\tif (!isEqual(newState, this.state))\n\t\t\tthis.setState(newState);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tthis._manageGlobalListeners(prevProps);\n\t}\n\n\t_manageGlobalListeners(prevProps) {\n\t\tconst { hoverEnabled, show } = this.props;\n\t\tconst {show: prevShow} = prevProps;\n\n\t\tif (!hoverEnabled && prevShow !== show) {\n\t\t\tif (show)\n\t\t\t\tthis._addGlobalClickHandler();\n\t\t\telse\n\t\t\t\tthis._clearGlobalClickHandler();\n\t\t}\n\t}\n\n\t/**\n\t * This toggle is used by the global listener to determine if the captured\n\t * click is within the menu.\n\t *\n\t * Then it calls the props toggle function passed in by the parent.\n\t * We handle the click check here to make sure every implementor doesn't need\n\t * to do this.\n\t * @param e\n\t */\n\tglobalListenerToggle = (e) => {\n\t\tconst {persistOnClick, onToggle} = this.props;\n\t\t//if the dropdown is sticky and the mouse is currently within it,\n\t\t//the dropdown needs to stay open\n\t\tif (persistOnClick) {\n\t\t\t// event.path: chrome, event.b: polyfilled (always), composePath: others (sometimes)\n\t\t\tconst path = e.path || e.b || (e.composedPath && e.composedPath());\n\t\t\tconst elementFound = elementPath(this.dropdown, path);\n\t\t\t// This is set for dropdown children to know that a click occurred.\n\t\t\tif (elementFound)\n\t\t\t\treturn;\n\t\t}\n\n\t\tonToggle(e);\n\t};\n\n\tglobalListenerKeyup = e => {\n\t\tconst {keyCode} = e;\n\t\tconst timeStamp = Date.now();\n\t\tlet keyCmd;\n\n\t\tif (keyCode === 27) { // ESC\n\t\t\tthis.hidePopover(e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (keyCode === 9) //Tab and Shift + Tab cases\n\t\t\tkeyCmd = {type: TAB, timeStamp, event: e};\n\n\t\tif (keyCode === 38) // Up Arrow\n\t\t\tkeyCmd = {type: MOVE_UP, timeStamp};\n\n\t\tif (keyCode === 40) // Down Arrow\n\t\t\tkeyCmd = {type: MOVE_DOWN, timeStamp};\n\n\t\tif (keyCode === 32) { // Spacebar\n\t\t\tkeyCmd = {type: EXECUTE, timeStamp};\n\t\t}\n\n\t\tif (keyCmd)\n\t\t\tthis.setState({keyCmd});\n\t};\n\n\tshowPopover = (e) => {\n\t\tthis.props.onToggle(e, true);\n\t};\n\n\thidePopover = (e) => {\n\t\tthis.props.onToggle(e, false);\n\t};\n\n\t/**\n\t * Listeners are attached for mouseover support and accessibility of mouseover\n\t * to the trigger element.\n\t *\n\t * @param triggerEl - the trigger element either passed in or grabbed on ref of the internal button (plus, overflow)\n\t */\n\taddEventListeners(triggerEl) {\n\t\tif (!triggerEl)\n\t\t\treturn;\n\n\t\t//Mouse leave prevents the children from firing bubbling mouseover/mouseout events.\n\t\t//We could have the react component deal with this but there are bugs with onMouseEnter and onMouseLeave in React.\n\t\ttriggerEl.addEventListener('mouseenter', this.showPopover);\n\t\ttriggerEl.addEventListener('mouseleave', this.hidePopover);\n\t\ttriggerEl.addEventListener('focus', this.showPopover, true);\n\t\ttriggerEl.addEventListener('blur', this.hidePopover, true);\n\t}\n\n\tremoveEventListeners(triggerEl) {\n\t\tif (!triggerEl)\n\t\t\treturn;\n\n\t\ttriggerEl.removeEventListener('mouseenter', this.showPopover);\n\t\ttriggerEl.removeEventListener('mouseleave', this.hidePopover);\n\t\ttriggerEl.removeEventListener('focus', this.showPopover, true);\n\t\ttriggerEl.removeEventListener('blur', this.hidePopover, true);\n\t}\n\n\t_addGlobalClickHandler() {\n\t\tdocument.addEventListener('click', this.globalListenerToggle, true);\n\t\tdocument.body.addEventListener('keyup', this.globalListenerKeyup, true);\n\t}\n\n\t_clearGlobalClickHandler() {\n\t\tdocument.removeEventListener('click', this.globalListenerToggle, true);\n\t\tdocument.body.removeEventListener('keyup', this.globalListenerKeyup, true);\n\t}\n\n\tsetDropdownRef = (el) => {\n\t\tthis.dropdown = el;\n\t};\n\n\trender() {\n\t\tconst {children, show, classNames, header, hoverEnabled} = this.props;\n\t\tconst {positionStyle, keyCmd} = this.state;\n\n\t\tconst openClassName = show ? \"is-open\" : '';\n\t\tconst positionClassName = hoverEnabled ? 'hoverEnabled' : '';\n\t\tconst popoverClassNames = classNames ? classNames : ''; //this is needed or classNames will be \"undefined\" if not provided.\n\n\t\treturn (\n\t\t\t<div id=\"content\" className={`sn-chrome-popover-container ${openClassName}`}>\n\t\t\t\t<div ref={this.setDropdownRef} className={`sn-chrome-popover ${popoverClassNames} ${positionClassName}`} style={positionStyle} >\n\t\t\t\t\t{header && <div className=\"sn-chrome-popover-header\"><span className=\"sn-chrome-popover-text\">{header.displayValue}</span></div>}\n\t\t\t\t\t<div className=\"sn-chrome-popover-body\">\n\t\t\t\t\t\t{show && React.Children.map(children, child => React.cloneElement(child, {keyCmd, hidePopover: this.hidePopover}))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nPopoverContainer.style = style;\n\nPopoverContainer.propTypes = {\n\ttriggerEl: PropTypes.object,\t\t\t\t// trigger element (button)\n\tshow: PropTypes.bool.isRequired,\t\t\t// should the dropdown be open or closed\n\tclassNames: PropTypes.string,\t\t\t\t// custom classes if needed\n\thoverEnabled: PropTypes.bool,\t\t\t\t// allow mouse hover over trigger to enable the dropdown\n\tpersistOnClick: PropTypes.bool,\t\t\t\t// if a click occurs within the menu it should not close.\n\tonToggle: PropTypes.func,\t\t\t\t\t// parent function to call when toggle is needed.\n\theader: PropTypes.shape({\t\t\t\t\t// header specified for popover container.\n\t\tdisplayValue: PropTypes.string\n\t}),\n\talign: PropTypes.oneOf(['left', 'right'])\t// align refers to positioning a dropdown to its left or right edge.\n};\n\nexport default PopoverContainer;\n","import * as constants from \"../constants/constants\";\nimport { tabsConfig} from \"../constants/ws_config\";\nimport {getNextTabId} from \"./snWorkspaceTabs.storage\";\nimport {createOneTab, getTabTitleCache} from \"./snWorkspaceTabs.util\";\nimport {isCustomRendererTable, isMainTabRecordTable} from \"../constants/ws_renderer\";\nimport isString from 'lodash/isString';\nimport {getModule, getModules, getTabIdForModule} from \"./snWorkspaceTabs.moduleTab\";\nimport {get} from 'lodash';\nimport {getIconFromConfig} from \"../constants/ws_config\";\n\n\n// ---- TABS -----\nexport function getModuleTabPayload(moduleArg, params, drilldown, rendererType=null){\n\tconst module = isString(moduleArg) ? getModule(moduleArg) : moduleArg;\n\n\tif (!module)\n\t\treturn;\n\n\tconst moduleTab = {\n\t\ttab_id: getTabIdForModule(module),\n\t\ttype: constants.MODULE_ITEM_TYPE,\n\t\tmodule,\n\t\ttabList: drilldown ? [getTabDefinition({...drilldown,\n\t\t\t\t\t\t\t\t\t\t\t\t\tadditional_data: {moduleDrilldown: true, rendererType:rendererType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t})] : []\n\t};\n\n\treturn {\n\t\ttype: constants.OPEN_OR_FOCUS_MODULE_REDUCER,\n\t\ttabsData: {\n\t\t\ttabList: [{\n\t\t\t\ttab_id: constants.MODULE_TAB_ID,\n\t\t\t\ttitle: module.label,\n\t\t\t\ticon: module.icon,\n\t\t\t\tcollapsed: false,\n\t\t\t\ttabList: [params ? {...moduleTab, params} : moduleTab]\n\t\t\t}]\n\t\t},\n\t\teventData: {forceUpdate: true}\n\t};\n}\n\nexport function getCloseModuleDrilldownPayload(module=null){\n\treturn {\n\t\ttype: constants.CLOSE_DRILLDOWN_REDUCER,\n\t\tmodule\n\t}\n}\n\nexport function getTabPayloadFromSelectedContent(selectedContent){\n    const {type, parent, table} = selectedContent;\n    let parentType = null;\n    if(parent)\n        parentType = parent.type;\n\n\t// Special case for search\n\tif(type === constants.FULL_SEARCH_ITEM_TYPE)\n        return getSearchPayload(selectedContent.searchTerm);\n\n\t// Modules\n\tconst modules = getModules();\n    if(parent && parentType == constants.MODULE_ITEM_TYPE && modules[parent.module_id]) { //handle drilldown\n        const {parent:{module_id, params}, ...drilldown} = selectedContent;\n        return getModuleTabPayload(modules[module_id], params, drilldown, drilldown.renderer_type);\n    }\n\tif(type == constants.MODULE_ITEM_TYPE && modules[selectedContent.module_id]) {\n\t\t// special case handling for inbox\n\t\tif (type === constants.INBOX_MODULE)\n\t\t\treturn getInboxPayload(selectedContent);\n\n        const {module_id, params} = selectedContent;\n\t\tconst module = modules[module_id];\n\t\tconst modulePayload = getModuleTabPayload(module, params);\n\t\tconst closeDrilldownPayload = getCloseModuleDrilldownPayload(module);\n\t\treturn getChainedTabPayload([modulePayload, closeDrilldownPayload]);\n\n\t}\n\t\n\tconst setTransType = (data) => {\n\t\tconst {type: dataType} = data;\n\t\tdata.transType = constants.MAIN_TAB_ONLY_TYPE;\n\t\tif(dataType == constants.RECORD_ITEM_TYPE || dataType == constants.NEW_RECORD_ITEM_TYPE)\n\t\t\tdata.transType = isMainTabRecordTable(data.table) ? constants.MAIN_TAB_ONLY_TYPE : constants.TWO_LAYER_TYPE\n\t\treturn data;\n\t}\n    \n    // All other tabs\n    if(!parent) {\n\t\tconst isChatTab = (table === constants.INTERACTION_TABLE && type === constants.CHAT_ITEM_TYPE);\n\t\treturn isChatTab ? getChatPayload(setTransType(selectedContent)) : getTabPayload(setTransType(selectedContent));\n\t}    \n    const {parent: tabContent, ...subTabContent} = selectedContent;\n    \n    const tabPayload = getTabPayload(setTransType(tabContent));\n\tif(subTabContent)\n\t\tsubTabContent.transType = constants.CONTEXTUAL_RECORD_ITEM_TYPE\n\n\tconst subTabPayload = getTabPayload(subTabContent);\n\n\treturn getChainedTabPayload([tabPayload, subTabPayload]);\n}\n\n/**\n * Inbox URLs are weird. Without params we just set the primary tab. With params we use them to create a chat tab AND\n * set the primary tab.\n * @param options\n * @returns {*}\n */\nfunction getInboxPayload(selectedContent){\n\tconst modules = getModules();\n\tconst inboxTab = generators.getModuleTabPayload(modules[constants.INBOX_MODULE]);\n    \n    const {parent, ...subTabContent} = selectedContent;\n    \n    const {type, params, ...options} = parent ? parent : selectedContent;\n    \n\n\t// No params, just set the primary tab\n\tif(!options)\n\t\treturn inboxTab;\n\n\t// Invalid param. Redirect to /inbox and set the primary tab\n\tif(!tabUtils.isValidSysId(options.sys_id)){\n\t\t//redirectUrl(constants.INBOX_MODULE);\n\t\treturn inboxTab;\n\t}\n\n\t// Create a chat tab payload from param\n\tconst chatTab = generators.getChatPayload({\n\t\tsys_id: options.sys_id,\n\t\tstate: '',\n\t\ttable: constants.INTERACTION_TABLE\n\t});\n\n\t// Chain both operations\n\tlet chainedPayloads = [inboxTab, chatTab];\n\n\tif(parent && subTabContent)\n\t\tchainedPayloads.push(getTabPayload(subTabContent));\n\n\treturn {\n\t\ttype: constants.CHAINED_REDUCER,\n\t\tpayload: chainedPayloads\n\t}\n}\n\n\nexport function getSearchPayload(term){\n\tlet {title} = tabsConfig.non_records.find( it => it.type === constants.FULL_SEARCH_ITEM_TYPE);\n\treturn getTabPayload({\n\t\ttype: constants.FULL_SEARCH_ITEM_TYPE,\n\t\ttitle: title,\n\t\teventData: {forceUpdate: true},\n\t\tadditional_data:  {term},\n\t\ttransType: constants.MAIN_TAB_ONLY_TYPE,\n\t\ticon: 'magnifying-glass-outline'\n\t});\n}\n\nexport function getChatPayload(chat){\n\tconst { table, sys_id, icon, params } = chat;\n\n\treturn getTabPayload({\n\t\ttype: constants.CHAT_ITEM_TYPE,\n\t\ttable: table,\n\t\tsys_id: sys_id,\n\t\ticon: icon ? icon : 'chat-outline',\n\t\tactivated: false,\n\t\tadditional_data: {chat, overrideTabLimit: true},\n\t\ttransType: constants.TWO_LAYER_TYPE,\n\t\tparams: params\n\t});\n}\n\nfunction _nestTabIds(tabIds){\n\tif(tabIds.length == 1)\n\t\treturn {tab_id: tabIds[0]};\n\n\tlet tab = _nestTabIds(tabIds.slice(1));\n\treturn {\n\t\ttab_id: tabIds[0],\n\t\ttabList: [tab]\n\t}\n}\n\nexport function getSelectTabPayload(tabIds){\n\treturn {\n\t\ttype: constants.OPEN_OR_FOCUS_TAB_REDUCER,\n\t\ttabsData: {\n\t\t\ttabList: [_nestTabIds(tabIds)]\n\t\t}\n\t}\n}\n\nexport function getChainedTabPayload(payloads){\n\treturn {\n\t\ttype: constants.CHAINED_REDUCER,\n\t\tpayload: payloads\n\t};\n}\n\nfunction getTabDefinition(args){\n\tconst { table, sys_id, title = _getDefaultTitle(args), additional_data,\n\t\ttype = _getDefaultTabType(args), icon = _getDefaultIcon(args), activated, params, renderer_type} = args;\n\n\tlet {tab_id} = args;\n\tif(sys_id === '-1' && !tab_id)\n\t\ttab_id = getNextTabId();\n\n\treturn _excludeUndefinedProps({table, sys_id, title, type, additional_data, tab_id, icon, activated, params, renderer_type, canClose: true});\n}\n\nfunction _getDefaultIcon(payload){\n\tlet {icon, recordType} = payload;\n\tif (!icon){\n\t\t// TODO: Replace status once interactions team updates payload\n\t\ticon = getIconFromConfig(recordType, 'inactive');\n\t}\n\treturn icon? icon: undefined;\n}\n\n/**\n * Creates a tab payload to be consumed by openOrFocusSubTabs reducer.\n * Input: {type, transType, table, sys_id, title, eventData, additional_data}\n * Output: { type: constants.OPEN_OR_FOCUS_TAB_TYPE, tabList, eventData}\n *\n**/\nexport function getTabPayload(args) {\n\tconst tabDefinition = getTabDefinition(args);\n\n\t// Special case. Convert record tab to chat tab.\n\tconst {type, table, sys_id, icon, params} = tabDefinition;\n\tif(type === constants.RECORD_ITEM_TYPE && table === constants.INTERACTION_TABLE)\n\t\treturn getChatPayload({table, sys_id, icon, params});\n\n\tconst { transType, eventData} = args;\n\n\treturn {\n\t\ttabsData: {tabList: getTabList(tabDefinition, transType)},\n\t\teventData,\n\t\ttype: constants.OPEN_OR_FOCUS_TAB_REDUCER\n\t};\n}\n\n\nfunction _excludeUndefinedProps(args){\n\treturn Object.keys(args).reduce((result, key)=>{\n\t\tif(args[key] !== undefined)\n\t\t\tresult[key] = args[key];\n\n\t\treturn result;\n\t}, {});\n}\nexport function getTabList(tabDefinition, transType = constants.MAIN_TAB_ONLY_TYPE){\n\n\t// Don't pass tab_id or icon if present, to sub tabs\n\tconst {tab_id, icon, ...subTabDef} = tabDefinition;\n\n\tswitch (transType) {\n\t\tcase constants.CONTEXTUAL_RECORD_ITEM_TYPE:\n\t\t\t// Empty parent tab. Single sub tab.\n\t\t\treturn [{ tabList: [tabDefinition]}];\n\t\tcase constants.TWO_LAYER_TYPE: {\n\t\t\t// Single parent tab with single sub tab containing record details\n\t\t\tconst subTabType = _getDefaultTabType(tabDefinition);\n\t\t\treturn [{\n\t\t\t\t...tabDefinition,\n\t\t\t\ttabList: [ {...subTabDef, type: subTabType, title: constants.TAB_DETAILS_TITLE, canClose: false}]\n\t\t\t}];\n\t\t}\n\t\tcase constants.MAIN_TAB_ONLY_TYPE:\n\t\tdefault:\n\t\t\t// Single parent tab\n\t\t\treturn [tabDefinition];\n\t}\n}\n\nfunction _getDefaultTabType(payload){\n\n\t// if additional_data contains renderer, then it is a non-record type\n\tif ( payload.additional_data && payload.additional_data.rendererType ){\n\t\treturn constants.NON_RECORD_ITEM_TYPE;\n\t}\n\n\tconst {RECORD_ITEM_TYPE, NEW_RECORD_ITEM_TYPE} = constants;\n\tconst {sys_id = '-1'} = payload;\n\treturn sys_id !== '-1' ? RECORD_ITEM_TYPE : NEW_RECORD_ITEM_TYPE;\n}\n\nfunction _getDefaultTitle(payload){\n\tconst {table, sys_id} = payload;\n\tif(table && sys_id)\n\t\treturn getTabTitleCache(table, sys_id);\n\n\t// title for non-record type renderers\n\tif ( payload.additional_data && payload.additional_data.rendererType ){\n\t\treturn get(payload.additional_data, 'title', null) ? payload.additional_data.title : payload.additional_data.rendererType;\n\t}\n\n\tif (payload.renderer_type)\n\t\treturn payload.renderer_type;\n\n\treturn '';\n}\n\n\n\n\n","import get from 'lodash/get';\nimport {createPreSourceBehavior} from \"sn-uxpage-presource\";\nimport {TAB_CUSTOM_RENDERER_KEY} from \"./constants\";\n\n\nexport const wsTabRenderer = createPreSourceBehavior('sn-workspace-content', {\n\tname: TAB_CUSTOM_RENDERER_KEY,\n\ttransform: data => {\n\t\tconst results = get(data, 'data.GlideRecord_Query.sys_aw_renderer._results', null);\n\t\treturn mapRendererToState(results);\n\t}\n\n});\n\n\nfunction mapRendererToState(data) {\n\n\tlet customRendererList = {}, moduleRendererList = {}, typedRendererList = {}, macroponentList = {};\n\n\n\tif (!data)\n\t\treturn {custom_renderer: customRendererList,\n\t\t\tmodule_renderer: moduleRendererList,\n\t\t\ttyped_renderer: typedRendererList,\n\t\t\tmacroponent_renderer: macroponentList};\n\n\tlet items =  data\n\t\t.map(item => {\n\t\t\tlet {\n\t\t\t\trenderer_type: {displayValue: renderer_type_dval, value: renderer_type_val},\n\t\t\t\tactive: {value: active},\n\t\t\t\ttable: {value: table},\n\t\t\t\tmodule_flag: {value: module_flag},\n\t\t\t\tcustom_renderer_tag: {value: custom_renderer},\n\t\t\t\tworkspace_module: {_reference: {id: {value: workspace_module}}},\n\t\t\t\tsys_id: {value:renderer_sysid}\n\t\t\t} = item;\n\n\n\t\t\tlet type_ext_dval = null;\n\t\t\tif (item.type_ext)\n\t\t\t\ttype_ext_dval = get(item.type_ext, 'displayValue', null);\n\n\t\t\tlet macroponent_val = null;\n\t\t\tlet macroponent_dval = null;\n\t\t\tif (item.macroponent) {\n\t\t\t\tmacroponent_val = get(item.macroponent, 'value', null);\n\t\t\t\tmacroponent_dval = get(item.macroponent, 'displayValue', null);\n\t\t\t}\n\n\t\t\treturn {renderer_type_dval,\n\t\t\t\trenderer_type_val,\n\t\t\t\ttype_ext_dval,\n\t\t\t\tactive,\n\t\t\t\ttable,\n\t\t\t\tmodule_flag,\n\t\t\t\tcustom_renderer,\n\t\t\t\tworkspace_module,\n\t\t\t\tmacroponent_val,\n\t\t\t\tmacroponent_dval,\n\t\t\t\trenderer_sysid\n\t\t\t};\n\t\t});\n\n\titems.forEach( item => {\n\n\t\tif (item.active === false)\n\t\t\treturn;\n\n\n\t\t// handle new record case first\n\t\tif (item.type_ext_dval) {\n\t\t\t// record case\n\t\t\tif (item.type_ext_dval === \"record\"){\n\t\t\t\t// if macroponent field is populated\n\t\t\t\tif (item.macroponent_val){\n\t\t\t\t\tif (!macroponentList.hasOwnProperty(item.table)) {\n\t\t\t\t\t\tmacroponentList[item.table] = {\n\t\t\t\t\t\t\t'macroponent_id': item.macroponent_val,\n\t\t\t\t\t\t\t'workspace_module': item.workspace_module,\n\t\t\t\t\t\t\t'renderer_sysid': item.renderer_sysid\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (item.module_flag) {\n\t\t\t\t\t\tif(!moduleRendererList.hasOwnProperty(item.table))\n\t\t\t\t\t\t\tmoduleRendererList[item.table] = item.workspace_module;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(!customRendererList.hasOwnProperty(item.table))\n\t\t\t\t\t\t\tcustomRendererList[item.table] = item.custom_renderer;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse { // non-record case\n\t\t\t\t\ttypedRendererList[item.type_ext_dval] = {\n\t\t\t\t\t\t'custom_renderer': item.custom_renderer,\n\t\t\t\t\t\t'workspace_module': item.workspace_module\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t}else { // old schema records\n\t\t\t// record case\n\t\t\t/* Second/Third Condition check is a transient FIX to handle backward compatibility of\n\t\t\t\trenderer_type (non-reference field) in NY vs Orlando */\n\t\t\tif (item.renderer_type_dval === \"\" ||\n\t\t\t\t(item.renderer_type_dval && item.renderer_type_dval.toLowerCase() === \"record\") || // with sys_id reference or old records\n\n\t\t\t\t(item.renderer_type_val && item.renderer_type_val.toLowerCase() === \"record\") ) // with new schema and old records with null sys_id\n\t\t\t{\n\t\t\t\tif (item.module_flag) {\n\t\t\t\t\tif (!moduleRendererList.hasOwnProperty(item.table))\n\t\t\t\t\t\tmoduleRendererList[item.table] = item.workspace_module;\n\t\t\t\t}else {\n\t\t\t\t\tif(!customRendererList.hasOwnProperty(item.table))\n\t\t\t\t\t\tcustomRendererList[item.table] = item.custom_renderer;\n\t\t\t\t}\n\t\t\t} else{ // non-record case\n\t\t\t\tif (item.renderer_type_dval) {\n\t\t\t\t\ttypedRendererList[item.renderer_type_dval.toLowerCase()] = {\n\t\t\t\t\t\t'custom_renderer': item.custom_renderer,\n\t\t\t\t\t\t'workspace_module': item.workspace_module\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if(item.renderer_type_val){\n\t\t\t\t\ttypedRendererList[item.renderer_type_val.toLowerCase()] = {\n\t\t\t\t\t\t'custom_renderer': item.custom_renderer,\n\t\t\t\t\t\t'workspace_module': item.workspace_module\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n\treturn {custom_renderer: customRendererList,\n\t\t\tmodule_renderer: moduleRendererList,\n\t\t\ttyped_renderer: typedRendererList,\n\t\t\tmacroponent_renderer: macroponentList}\n\n}\n\n\n\nexport const WS_CUSTOM_TAB_RENDERER = wsTabRenderer.initialState.custom_renderer;\n\nexport const WS_MODULE_TAB_RENDERER = wsTabRenderer.initialState.module_renderer;\n\nexport const WS_TYPED_RENDERER = wsTabRenderer.initialState.typed_renderer;\n\nexport const isMainTabRecordTable = table => WS_CUSTOM_TAB_RENDERER && WS_CUSTOM_TAB_RENDERER[table] == 'sn-component-kb-discussion-wrapper';\n\nexport const WS_MACROPONENT_RENDERER = wsTabRenderer.initialState.macroponent_renderer;\n\nexport const isCustomRendererTable = table => WS_CUSTOM_TAB_RENDERER && WS_CUSTOM_TAB_RENDERER.hasOwnProperty(table);\n\nexport const isModuleRendererTable = table => WS_MODULE_TAB_RENDERER && WS_MODULE_TAB_RENDERER.hasOwnProperty(table);\n","import {getMaxTabLimit} from \"./config\";\nimport {applyToSelectedTabs, getContentId} from './snWorkspaceTabs.util';\n\n/**\n * Collection of cached (unsuspended) tabs to render\n * [{\n * \ttabId,\n * \tlastAccessed\n * }]\n * @type {Array}\n */\nlet cachedTabs = [];\n\nexport function cacheTab(tab){\n\tconst {tabList = []} = tab;\n\n\t// Don't cache parent tabs\n\tif(tabList.length)\n\t\treturn tab;\n\n\t// Extract content ID from tab\n\tconst contentId = getContentId(tab);\n\n\t// If tab's content is already cached, remove cached version\n\tconst tabIndex = cachedTabs.findIndex(t=>t.contentId == contentId);\n\tif(tabIndex >= 0)\n\t\tcachedTabs.splice(tabIndex, 1);\n\n\t// Add tab to end of cache with last accessed date set\n\tconst lastAccessed = Date.now();\n\tcachedTabs.push({contentId, lastAccessed});\n\n\t// If cache exceeds tab limit, remove the oldest tab\n\tif(cachedTabs.length > getMaxTabLimit().actLimit)\n\t\tcachedTabs.shift();\n\n\t// Return tab appended with lastAccessed date\n\treturn {...tab, lastAccessed};\n}\n/**\n * Adds a tab's contents to the cache and returns tab appended with last access date\n * @param tab\n * @returns {{lastAccessed: number}}\n */\nexport function cacheSelectedTabs(tab){\n\treturn applyToSelectedTabs(tab, cacheTab);\n}\n\n/**\n * Clear the tab cache.\n * @param tab - optional. Only remove the leaves of the specified tab from the cache.\n */\nexport function clearCache(tab = null){\n\tif(!tab){\n\t\tcachedTabs = [];\n\t\treturn;\n\t}\n\n\t// Only leaves of tab tree are cached\n\tconst {tabList = []} = tab;\n\n\tif(tabList.length) {\n\t\ttabList.forEach(t => clearCache(t));\n\t\treturn;\n\t}\n\n\tconst contentId = getContentId(tab);\n\tconst tabIndex = cachedTabs.findIndex(t=>t.contentId === contentId);\n\tif(tabIndex >= 0)\n\t\tcachedTabs.splice(tabIndex, 1);\n}\n\nexport function shouldLoadTab(tab){\n\treturn cachedTabs.length < getMaxTabLimit().actLimit || (tab.lastAccessed && (tab.lastAccessed >= getOldestAccessed()));\n}\nexport function getOldestAccessed(){\n\treturn cachedTabs.length ? cachedTabs[0].lastAccessed: 0;\n}\n","/* eslint-disable no-mixed-spaces-and-tabs */\n/* eslint-disable indent */\nimport {get} from 'lodash';\nimport * as constants from \"../constants/constants\";\nimport {getActiveTabInfo} from './snWorkspaceTabs.util.js';\n\nlet instance = null;\nlet recordChangeLog = [];\nlet toBeClearedParent = null;\n\nexport default class RecordChangeLogger{\n\tconstructor(){\n\t\tif(!instance)\n\t\t\tinstance = this;\n\t\treturn instance;\n\t}\n    static getInstance(){\n        if(!instance)\n\t\t\tinstance = new RecordChangeLogger();\n\t\treturn instance;\n    }\n    logRecordChange(activityData){\n    \tconst {parent_table, parent_sys_id, table, sys_id, status} = activityData;\n    \tlet isNewParent = true;\n    \trecordChangeLog.forEach(parent => {\n    \t\tif(parent_sys_id == parent.parent_sys_id && parent_table == parent.parent_table){\n    \t\t\tisNewParent = false;\n    \t\t\tlet isNewRelRec = true;\n    \t\t\tlet relRecCount = 0;\n    \t\t\tparent.relatedRecords.forEach(relatedRecord =>{\n    \t\t\t\tif(sys_id == relatedRecord.sys_id && table == relatedRecord.table){\n    \t\t\t\t\tisNewRelRec = false;\n    \t\t\t\t\tconst {op} = relatedRecord;\n    \t\t\t\t\tif(status == constants.INSERTED && op != constants.INSERTED)\n    \t\t\t\t\t\trelatedRecord.op = constants.INSERTED;\n    \t\t\t\t\telse if(status == constants.UPDATED && op == constants.VIEWED)\n    \t\t\t\t\t\trelatedRecord.op = constants.UPDATED;\n    \t\t\t\t\telse if(status == constants.VIEWED)\n    \t\t\t\t\t\trelatedRecord.op = constants.VIEWED;\n\t\t\t\t\t\telse if(status == constants.DELETED)\n\t\t\t\t\t\t\trelatedRecord.op = constants.DELETED;\n    \t\t\t\t}\n    \t\t\t\trelRecCount++;\n    \t\t\t});\n    \t\t\tif(relRecCount === 0)\n    \t\t\t\tparent.relatedRecords = [];\n    \t\t\tif(isNewRelRec){\n    \t\t\t\tlet relatedRecord = {table, sys_id, op: status};\n    \t\t\t\tparent.relatedRecords.push(relatedRecord);\n    \t\t\t}\n    \t\t}\n    \t});\n    \tif(isNewParent){\n    \t\tlet parent = {parent_sys_id, parent_table, relatedRecords: [{table, sys_id, op: status}]};\n    \t\trecordChangeLog.push(parent);\n    \t}\n    }\n    \n    getAllChangedRecords(){\n    \treturn recordChangeLog;\n\t}\n\t\n    getRecordsByParent(table, sys_id){\n    \tlet parentRecord = recordChangeLog.filter(parent => parent.parent_sys_id === sys_id && parent.parent_table === table);\n    \treturn get(parentRecord,'[0].relatedRecords',null);\n    }\n    getSelectedMainTabRelatedRecords(tabsData){\n        const {parent_table: table, parent_sys_id: sys_id} = getActiveTabInfo(tabsData) || {};\n        const parentRecord = recordChangeLog.filter(parent => parent.parent_sys_id === sys_id && parent.parent_table === table);\n    \treturn parentRecord.length > 0 ? {...parentRecord[0]} : null;\n\t}\n\n\tclearRecordLog(){\n\t\tif(recordChangeLog.length > 0)\n\t\t\trecordChangeLog = [];\n\t}\n\n\tclearRecordLogExcludingSelected( parent_table, parent_sys_id){\n\t\tif(recordChangeLog.length > 0)\n\t\t\trecordChangeLog = recordChangeLog.filter(parent => parent.parent_sys_id === parent_sys_id && parent.parent_table === parent_table);\n\t}\n\n\tremoveParent(parent_table, parent_sys_id){\n\t\tif(recordChangeLog.length > 0)\n\t\t\trecordChangeLog.splice(recordChangeLog.findIndex(parent => parent.parent_sys_id === parent_sys_id && parent.parent_table === parent_table), 1);\n\t}\n\t\n\tmarkToBeClearedParent(table, sys_id){\n\t\ttoBeClearedParent = {table, sys_id};\n\t}\n\t\n\tclearMarkedParent(){\n\t\tif(toBeClearedParent)\n\t\t\tthis.clearRecordsByParent(toBeClearedParent.table, toBeClearedParent.sys_id);\n\t\ttoBeClearedParent = null;\n\t}\n\n    clearRecordsByParent(table, sys_id){\n    \trecordChangeLog.map(parent => {\n    \t\tif(parent.parent_sys_id === sys_id && parent.parent_table === table){\n    \t\t\tparent.relatedRecords = [];\n    \t\t}});  \n\t}\n\n\tisParent(table, sys_id){\n\t\treturn (recordChangeLog.filter(parent => parent.parent_sys_id === sys_id && parent.parent_table === table)).length > 0;\n\t}\n}","export function getRootNode(node) {\n\tif (!node)\n\t\treturn;\n\n\treturn node.getRootNode();\n}\n\nexport function getAssignedNodes(rootNode, slot) {\n\tconst slots = [...rootNode.querySelectorAll('slot')];\n\tconst foundSlot = slots.find(sl => sl.getAttribute('name') === slot);\n\n\tif (foundSlot)\n\t\treturn foundSlot.assignedNodes();\n}\n\nexport function updateElementsWithProp(elements, propName, payload) {\n\telements.forEach(element => updateElement(element, propName, payload));\n}\n\nexport function updateElement(element, propName, payload) {\n\telement[propName] = payload;\n}\n\nexport function getAssignedElements(node, slot) {\n\tconst rootNode = getRootNode(node);\n\n\tif (!rootNode)\n\t\treturn;\n\n\treturn getAssignedNodes(rootNode, slot);\n}\n\nexport function getElements(node) {\n\treturn node.assignedNodes().filter(n => n.nodeType === 1);\n}\n","module.exports = __TECTONIC__$servicenow_ui_effect_graphql;","module.exports = __TECTONIC__lodash_4_17_4[\"isEqual\"];","import {\n\tFLYOUT_TARGET,\n\tFULL_PAGE_TARGET,\n\tMASTER_DETAIL_TARGET,\n\tWIN_TARGET,\n\tWORKSPACE_NAV_SELECTED,\n} from '../constants/constants';\nimport {setSelected} from './snWorkspaceToolbar.reducers';\nimport {updateToolbarProps} from '../utils/updateSlotProps';\nimport {getButtonsFromSlot} from './getButtonsFromSlot';\nimport {cloneDeep} from 'lodash';\n\nconst BADGE = 'badge';\nconst STATUS = 'status';\nconst SELECT = 'select';\nconst SHOW = 'show';\nconst ICON = 'icon';\n\nexport let positionMap = new Map();\n\nexport function updateButtonProps(node, state, clickHandler) {\n\tconst props = stateToButtonProps(state, clickHandler);\n\n\tif (Object.keys(props).length > 0)\n\t\tupdateToolbarProps(node, props);\n}\n\nexport function mergeButtonDataFromSlot(node, items) {\n\tconst elements = getButtonsFromSlot(node);\n\treturn elements.reduce((acc, elem) => {\n\t\tconst moduleId = elem.getAttribute('module-id');\n\t\tconst item = items.find(item => item.id === moduleId);\n\t\tif (item)\n\t\t\tacc.push(item);\n\t\treturn acc;\n\t}, []);\n}\n\nexport function stateToButtonProps(state, clickHandler) {\n\tconst {optionItems, selected, windowSelected, highlighted} = state;\n\tconst props = {};\n\n\toptionItems.forEach((btn => {\n\t\tconst {id} = btn;\n\t\tprops[id] = {\n\t\t\tkey: id,\n\t\t\tbtn: btn,\n\t\t\tisSelected: selected === id || windowSelected === id,\n\t\t\tisHighlighted: highlighted === id,\n\t\t\tonClickBtn: clickHandler\n\t\t};\n\t}));\n\n\treturn props;\n}\n\n/**\n * Transform the current state's optionItems into the optionItems that corresponds to the passed in payload.\n * ViewData is split into button sets in order to handle the expander element.\n *\n * We must loop the data sets and find the correct button object to assign the new values to.\n * We find the object by looping the button sets looking for a match on the \"id\" of the button.\n *\n * There are certain conditions that must be met.\n *\n * if badge and status are omitted, no action is taken;\n * if badge are 0, -1, or null, badge will be cleared\n * if stutus is \"\", it'll be treated as \"offline\"\n * if otherwise, we update the count and/or status.\n *\n * @param state\n * @param payload\n * @returns {{optionItems}}updateButton\n */\nexport function updateButton(state, payload) {\n\tconst {id, badge, select, status, show, icon} = payload;\n\tlet newState = cloneDeep(state);\n\n\t// validate required attributes on the object\n\tif (!id || (badge === null && status === null && select === null && show === null))\n\t\treturn newState;\n\n\t//check if the keys exist otherwise, exit early\n\tconst keys =  Object.keys(payload);\n\tconst hasStatusKey = keys.indexOf(STATUS) > -1;\n\tconst hasBadgeKey = keys.indexOf(BADGE) > -1;\n\tconst hasSelectKey = keys.indexOf(SELECT) > -1;\n\tconst hasShowKey = keys.indexOf(SHOW) > -1;\n\tconst hasIconKey = keys.indexOf(ICON) > -1;\n\n\t// validate all keys exist\n\tif (!hasStatusKey && !hasBadgeKey && !hasSelectKey && !hasShowKey)\n\t\treturn newState;\n\n\tlet {selected} = newState;\n\n\t//handle select first just in case, there is no button updates passed\n\tif (hasSelectKey && id !== selected) {\n\t\t//let toSelect = select ? id : null;\n\t\tnewState = setSelected(newState, id, select);\n\t}\n\n\tconst {optionItems} = newState;\n\tconst newViewData = optionItems.slice(0);\n\n\tlet buttonIndex = null;\n\tconst foundButtonIdx = newViewData.findIndex(btn => btn.id === id);\n\n\tif (foundButtonIdx !== -1) {\n\t\tbuttonIndex = foundButtonIdx;\n\t}\n\n\tif (!buttonIndex)\n\t\treturn newState;\n\n\tif (hasStatusKey) {\n\t\tif (status !== undefined)\n\t\t\tnewViewData[buttonIndex][STATUS] = status;\n\t}\n\n\tif (hasShowKey)\n\t\tnewViewData[buttonIndex][SHOW] = show;\n\n\tif (hasBadgeKey) {\n\t\t//force badge to hide\n\t\tif (_shouldRemoveBadge(badge))\n\t\t\tnewViewData[buttonIndex][BADGE] = null;\n\t\telse if (badge !== undefined) //keep the badge as it is when it's undefined\n\t\t\tnewViewData[buttonIndex][BADGE] = badge;\n\t}\n\n\tif (hasIconKey) {\n\t\tnewViewData[buttonIndex][ICON] = icon;\n\t}\n\n\treturn {\n\t\t...newState,\n\t\toptionItems: newViewData\n\t};\n}\n\nfunction _shouldRemoveBadge(badge) {\n\treturn (badge === undefined) ? false : (badge === null || isNaN(badge.count) || (badge.count <= 0));\n}\n\nexport function buildSelectedActionPayload(button, selectValue, elem) {\n\tconst {id, type, label, icon} = button;\n\n\tconst actionPayload = {\n\t\tid,\n\t\tselect: selectValue,\n\t\ttype,\n\t\tlabel,\n\t\ticon\n\t};\n\n\t// Add additional properties required for specific target types. Specified in the readme\n\tswitch(type) {\n\t\tcase FLYOUT_TARGET:\n\t\tcase WIN_TARGET:\n\t\t\tactionPayload['position'] = elem\n\t\t\t\t? elem.getBoundingClientRect()\n\t\t\t\t: positionMap.get(id);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\treturn actionPayload;\n}\n\nexport function mapSelectedToState(state, button, selectValue) {\n\tconst {id} = button;\n\tconst {optionItems, selected: prevSelected, windowSelected: prevWindowSelected} = state;\n\n\tconst isWindow = isWindowType(button);\n\t// if its a window type\n\tif (prevSelected === id && !isWindow)\n\t\treturn state;\n\n\t//const selected = isSelectable(button) ? id : prevSelected;\n\t//const windowSelected = isWindow && prevWindowSelected !== id ? id : null;\n\n\tlet selected, windowSelected = null;\n\n\tif (isWindow) {\n\t\tselected = prevSelected;\n\n\t\tif (selectValue === undefined) {\n\t\t\tselected = prevSelected;\n\t\t\twindowSelected = id !== prevWindowSelected ? id : null;\n\t\t}\n\n\t\tif (id === prevWindowSelected && selectValue)\n\t\t\treturn state;\n\n\t\tif (id === prevWindowSelected && selectValue === false)\n\t\t\twindowSelected = null;\n\n\t\tif (id !== prevWindowSelected && selectValue)\n\t\t\twindowSelected = id;\n\n\t\tif (prevWindowSelected === null && selectValue === false)\n\t\t\treturn state;\n\t} else {\n\t\tselected = isSelectable(button) ? id : prevSelected;\n\t\twindowSelected = prevWindowSelected;\n\t}\n\n\tlet actualSelection = selected;\n\tif (isWindow)\n\t\tactualSelection = windowSelected || prevWindowSelected;\n\n\tconst highlightedIdx = findButtonIndexById(optionItems, actualSelection);\n\n\t// reset the highlighted item\n\tconst highlighted = null;\n\n\treturn {selected, windowSelected, highlightedIdx, highlighted, optionItems, previousSelected: prevSelected};\n}\n\nexport function isSelectable(button) {\n\tconst {type} = button;\n\treturn type === FULL_PAGE_TARGET || type === MASTER_DETAIL_TARGET || type === WIN_TARGET;\n}\n\nexport function isWindowType(button) {\n\tconst {type} = button;\n\treturn type === WIN_TARGET;\n}\n\nexport function getNumShowableButtons(buttons) {\n\treturn buttons.filter(btn => btn.show).length;\n}\n\nexport function findButtonById(options, id) {\n\treturn options.find( btn => btn.id === id );\n}\n\nexport function findButtonIndexById(options, id) {\n\tconst foundIndex = options.findIndex(btn => btn.id === id);\n\treturn foundIndex >= 0 ? foundIndex : null;\n}\n\nexport function updatePropertiesHelper(updateProperties, properties) {\n\tconst { updateModule, tabsData, ...restOfProperties } = properties; // eslint-disable-line no-unused-vars\n\tupdateProperties(restOfProperties);\n}\n\nexport function dispatchWSNavSelected({ properties, dispatch, action }) {\n\tconst { optionItems, previousSelected } = properties;\n\tconst { value, previousValue } = action.payload;\n\tconst toSelect = value ? value : previousValue;\n\tconst button = findButtonById(optionItems, toSelect);\n\n\tif(button && previousSelected) {\n\t\tconst actionPayload = buildSelectedActionPayload(button, value !== null);\n\t\tdispatch(WORKSPACE_NAV_SELECTED, actionPayload);\n\t}\n}\n\nexport function setHighlighted(id, properties, updateProperties) {\n\tconst {optionItems} = properties;\n\tconst button = findButtonById(optionItems, id);\n\tif (!button) {\n\t\treturn;\n\t}\n\n\tconst highlightedIdx = findButtonIndexById(optionItems, id);\n\tupdateProperties({highlighted: id, highlightedIdx});\n}\n\n/**\n * Handle keyboard accessibility of the tabs in the list.\n *\n * Utilizing the index of the configuration data, not the view data\n * due to the complexity of multi array lookups\n *\n * @param e\n */\nexport function handleKeyCmd (coeffect, e) {\n\tconst { updateProperties, properties } = coeffect;\n\tconst {optionItems, highlightedIdx} = properties;\n\tconst {keyCode} = e;\n\tconst numButtons = getNumShowableButtons(optionItems);\n\tlet index = highlightedIdx;\n\n\tswitch(keyCode) {\n\t\tcase 38: //up arrow\n\t\t\tif (--index < 0)\n\t\t\t\tindex = numButtons - 1;\n\n\t\t\tsetHighlighted(optionItems[index].id, properties, updateProperties);\n\t\t\tbreak;\n\t\tcase 40: //down arrow\n\t\t\tif (++index > numButtons - 1)\n\t\t\t\tindex = 0;\n\n\t\t\tsetHighlighted(optionItems[index].id, properties, updateProperties);\n\t\t\tbreak;\n\t\tdefault: break;\n\t}\n}\n\n","'use strict';\n\nimport {get} from 'lodash';\nimport {t} from 'sn-translate';\n\nimport * as timeAgoUtils from '../chrome-time-ago/chromeTimeAgo.util';\nimport {buildAlertItem} from '../chrome-alert/chromeAlert.util';\n\nimport {\n\tALERT_BADGE_RESET_TIMESTAMP, PAGE_SIZE,\n\tCLEAR_NOTIFICATION_SECTION, UPDATE_NOTIFICATIONS, QUERY_NOTIFICATIONS,\n\tALERT_STATUS_READ, ALERT_STATUS_DELETED\n} from '../../constants/constants';\n\nlet currentUserData = {};\nexport function setUserData(data) {\n\tconst {sys_id, timeZoneOffset} = data;\n\tcurrentUserData = {sys_id, timeZoneOffset};\n}\n\nexport function getUserData() {\n\treturn currentUserData;\n}\n\nconst TODAY_QUEUE = [{item_type: 'group', name: 'today', label: t('Today')}],\n\tYESTERDAY_QUEUE = [{item_type: 'group', name: 'yesterday', label: t('Yesterday')}],\n\tOLDER_QUEUE = [{item_type: 'group', name: 'older', label: t('Older')}];\n\nexport function addDateGroupings(alertQueue) {\n\tconst baseDate = new Date(Date.now());\n\n\tlet todayQueue = [...TODAY_QUEUE], yesterdayQueue = [...YESTERDAY_QUEUE], olderQueue = [...OLDER_QUEUE];\n\n\talertQueue.forEach( item => {\n\t\tif (item.item_type === 'notification') {\n\t\t\tconst {time_stamp} = item;\n\t\t\tconst _date = new Date(time_stamp);\n\t\t\tconst daysDiff = timeAgoUtils.daysBetween(baseDate, _date);\n\t\t\tif (daysDiff === 0)\n\t\t\t\ttodayQueue = todayQueue.concat({...item, group: 'today'});\n\t\t\telse if (daysDiff === 1)\n\t\t\t\tyesterdayQueue = yesterdayQueue.concat({...item, group: 'yesterday'});\n\t\t\telse\n\t\t\t\tolderQueue = olderQueue.concat({...item, group: 'older'});\n\t\t}\n\t});\n\n\treturn todayQueue.concat(yesterdayQueue).concat(olderQueue);\n}\n\nexport function storeBadgeCount() {\n\tif (window.localStorage) {\n\t\ttry {\n\t\t\tlet reset = window.localStorage.getItem(ALERT_BADGE_RESET_TIMESTAMP);\n\t\t\treset = JSON.parse(reset) || {};\n\t\t\treset = {...reset, [currentUserData.sys_id]: Date.now()};\n\t\t\tlet reset_str = JSON.stringify(reset);\n\t\t\twindow.localStorage.setItem(ALERT_BADGE_RESET_TIMESTAMP, reset_str);\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n}\n\nfunction getDateRangeToClear(itemsToClear, groupId) {\n\tif (itemsToClear.length <= 0)\n\t\treturn;\n\n\tconst {raw_time_stamp, time_stamp} = itemsToClear[0];\n\tconst latestDate = new Date(time_stamp);\n\n\tif (groupId === 'today' || groupId === 'yesterday') {\n\t\tconst year = latestDate.getUTCFullYear();\n\t\tconst month = latestDate.getUTCMonth() + 1;\n\t\tconst day = latestDate.getUTCDate();\n\n\t\tconst startDate = `${year}-${month}-${day} 00:00:00`;\n\n\t\treturn {\n\t\t\tstartDate: startDate,\n\t\t\tendDate: raw_time_stamp\n\t\t};\n\t}\n\n\tif (groupId === 'older') {\n\t\tlet dateDaysBefore = new Date();\n\t\tdateDaysBefore.setDate(dateDaysBefore.getDate() - 7);\n\n\t\tconst year = dateDaysBefore.getUTCFullYear();\n\t\tconst month = dateDaysBefore.getUTCMonth() + 1;\n\t\tconst day = dateDaysBefore.getUTCDate();\n\n\t\tconst hours = dateDaysBefore.getUTCHours();\n\t\tconst mins = dateDaysBefore.getUTCMinutes();\n\t\tconst secs = dateDaysBefore.getUTCSeconds();\n\n\t\tconst startDate = `${year}-${month}-${day} ${hours}:${mins}:${secs}`;\n\n\t\treturn {\n\t\t\tstartDate: startDate,\n\t\t\tendDate: raw_time_stamp\n\t\t};\n\t}\n}\n\nexport function handleClearSection(props, groupId) {\n\tconst {alertQueue} = props;\n\tconst rawItemsToClear = alertQueue.filter(item => item.group === groupId);\n\tconst {startDate, endDate} = getDateRangeToClear(rawItemsToClear, groupId);\n\n\tif (startDate && endDate) {\n\t\tconst data = {\n\t\t\tstartDateTime: startDate,\n\t\t\tendDateTime: endDate,\n\t\t\tstatus: ALERT_STATUS_DELETED\n\t\t};\n\t\tprops.dispatch(CLEAR_NOTIFICATION_SECTION, {data, groupId});\n\t}\n}\n\nexport function buildAlertSubscriptionFilter() {\n\tconst filter = `${_getBasicCondition()}^status=new`;\n\treturn btoa(filter).replace(/=/g, '-');\n}\n\nexport function decodePayload(alert) {\n\tlet payload = null;\n\ttry {\n\t\tconst {displayValue = '', tableLabel = '', changes = {}} = JSON.parse(alert.payload.value);\n\n\t\tconst raw_time_stamp = alert.sys_created_on.value;\n\n\t\tconst baseProps = {\n\t\t\ttable: alert.target_table.value,\n\t\t\tsys_id: alert.target.value,\n\t\t\trecord_display_value: displayValue,\n\t\t\traw_time_stamp,\n\t\t\ttime_stamp: timeAgoUtils.parseSystemTime(raw_time_stamp),\n\t\t\talert_sys_id: alert.sys_id.value,\n\t\t\tupdated_by: getTriggeredBy(alert.triggered_by),\n\t\t\tis_read: alert.status.value === ALERT_STATUS_READ\n\t\t};\n\n\t\tpayload = {baseProps, tableLabel, changes};\n\t}\n\tcatch(e) {\n\t\tconsole.error('invalid notification payload');\n\t\tpayload = null;\n\t}\n\treturn payload;\n}\n\n// Take record watcher format and transform to client side format.\nexport function getTransformedAlert(alert) {\n\tconst payload = decodePayload(alert);\n\tif (!payload)\n\t\treturn null;\n\n\tconst {baseProps, tableLabel, changes} = payload;\n\tconst updatePayload = {...baseProps, status:\"liveUpdated\"};\n\n\treturn {alertPayload: buildAlertPayload(baseProps, tableLabel, changes), updatePayload};\n}\n\nfunction transformGraphQLAlert(alert) {\n\tconst payload = decodePayload(alert);\n\tif (!payload)\n\t\treturn null;\n\n\tconst {baseProps, tableLabel, changes} = payload;\n\treturn buildAlertPayload(baseProps, tableLabel, changes);\n}\n\nfunction buildAlertPayload(baseProps, tableLabel, changes) {\n\tconst {assigned_to = {}, priority = {}, short_description = {}} = changes;\n\tconst fields = Object.keys(changes).reduce( (result, key) => {\n\t\tconst change = changes[key];\n\n\t\tif (change) {\n\t\t\tconst {value, previousValue} = changes[key];\n\t\t\tif (value !== previousValue) {\n\t\t\t\tconst {displayValue, fieldLabel} = changes[key];\n\t\t\t\tresult = result.concat({\n\t\t\t\t\tfield_name: key,\n\t\t\t\t\tfield_label: fieldLabel,\n\t\t\t\t\tfield_value: value,\n\t\t\t\t\tfield_displayValue: displayValue\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}, []);\n\n\treturn {...baseProps,\n\t\ttable_label: tableLabel,\n\t\tshort_description: short_description && short_description.displayValue || '',\n\t\tfields,\n\t\tpriority: priority && priority.displayValue || '',\n\t\tassigned_to: assigned_to || ''\n\t};\n}\n\nfunction getTriggeredBy(triggered_by) {\n\tconst {displayValue, display_value, value} = triggered_by; // graphql and amb format is different\n\tif (!displayValue && !display_value && value)\n\t\treturn value[0].toUpperCase() + value.slice(1);\n\telse\n\t\treturn displayValue || display_value;\n}\n\nexport function purgeOldAlerts(alertQueue, alertItem, trayState) { //item arrived\n\tconst record_sys_id = alertItem.sys_id;\n\n\tlet alertsToKeep = alertQueue.filter(it => it.item_type === 'notification' && it.sys_id !== record_sys_id),\n\t\talertsToDelete = trayState.deleteQueue.slice(); //[alertPayload]\n\n\tconst existingAlert = alertQueue.find(it => it.sys_id === record_sys_id);\n\tif (existingAlert)\n\t\talertsToDelete.push(existingAlert.alert_sys_id);\n\n\talertsToKeep.unshift(alertItem);\n\n\treturn {\n\t\talertsToKeep,\n\t\talertsToDelete\n\t};\n}\n\nexport function purgeOldAlerts2(alertQueue, rawAlerts, trayState, target = 'target.value') { // initial loading/scrolling\n\tlet alertsToKeep = alertQueue.filter(it => it.item_type === 'notification'),\n\t\talertsToDelete = trayState.deleteQueue.slice(); // [alert_sys_ids_to_delete]\n\tlet set = new Set(alertQueue.map( al => al.sys_id));\n\tconst deleteTarget = target === 'target.value' ? 'sys_id.value' : 'alert_sys_id'; // initial or item arrived\n\n\trawAlerts.forEach( alert => {\n\t\tconst record_sys_id = get(alert, target, '');\n\t\tif (!set.has(record_sys_id)) {\n\t\t\tset.add(record_sys_id);\n\t\t\tlet payload = transformGraphQLAlert(alert);\n\t\t\tif (payload) {\n\t\t\t\tlet item = buildAlertItem(payload);\n\t\t\t\talertsToKeep.push(item);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconst alert_sys_id = get(alert, deleteTarget, '');\n\t\t\talertsToDelete.push(alert_sys_id);\n\t\t}\n\t});\n\n\treturn {\n\t\talertsToKeep,\n\t\talertsToDelete\n\t};\n}\n\nexport function askToQueryAlerts(offset, totalRowCount, dispatch, initial = false) {\n\tif (initial || offset < totalRowCount) {\n\t\tconst condition = `${_getBasicCondition()}^sys_created_on>=javascript:gs.beginningOfLast7Days()^status!=deleted^ORDERBYDESCsys_created_on`;\n\t\tdispatch(QUERY_NOTIFICATIONS, {condition, limit: PAGE_SIZE, offset});\n\t}\n}\n\nexport function askToUpdateNotifications(dispatch, sys_ids, status, deleteQueue = []) {\n\tlet _buildUpdateItems = (items, queue, theStatus) => {\n\t\tconst newItems = queue.map( (sys_id) => ({sys_id, status: theStatus}) );\n\t\treturn items.concat(newItems);\n\t};\n\n\tlet items = [];\n\titems = _buildUpdateItems(items, sys_ids, status);\n\titems = _buildUpdateItems(items, deleteQueue, ALERT_STATUS_DELETED); //clear delete queue on each update\n\n\tif (items.length > 0)\n\t\tdispatch(UPDATE_NOTIFICATIONS, {items});\n}\n\nexport function buildBadgeQueryCondition() {\n\tlet count_time_str = 'gs.beginningOfLast7Days()';\n\tconst {sys_id: currentUserId} = getUserData();\n\n\tif (window.localStorage) {\n\t\ttry {\n\t\t\tlet reset = window.localStorage.getItem(ALERT_BADGE_RESET_TIMESTAMP);\n\t\t\treset = JSON.parse(reset);\n\t\t\tif (reset && reset[currentUserId]) {\n\t\t\t\tconst reset_timestamp = reset[currentUserId];\n\t\t\t\tconst reset_date_obj = new Date(reset_timestamp);\n\t\t\t\tconst dd = reset_date_obj.getDate(), mm = reset_date_obj.getMonth() + 1, yyyy = reset_date_obj.getFullYear(),\n\t\t\t\t\thh = reset_date_obj.getHours(), min = reset_date_obj.getMinutes(), sec = reset_date_obj.getSeconds();\n\t\t\t\tconst reset_date = `${yyyy}-${mm}-${dd}`, reset_time = `${hh}:${min}:${sec}`;\n\t\t\t\tcount_time_str = `gs.dateGenerate('${reset_date}','${reset_time}')`;\n\t\t\t}\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n\n\treturn `${_getBasicCondition()}^status=new^sys_updated_on>javascript:${count_time_str}`;\n}\n\nfunction _getBasicCondition() {\n\treturn `recipient=${getUserData().sys_id}^route=cb1af195872023002941b53046cb0b4e`;\n}\n","module.exports = __TECTONIC__react_dom;","import {\n\tDISPLAY_PREFS,\n\tNOTIFICATION_PREFS,\n\tSHOW_BADGE_COUNT,\n\tSHOW_BANNERS,\n\tSHOW_RIBBON,\n\tSHOW_SIDEBAR,\n\tWRAP_LIST_TEXT\n} from \"../../constants/constants\";\nimport {t} from 'sn-translate';\n\nconst PREFERENCE_MENU = [DISPLAY_PREFS, NOTIFICATION_PREFS];\n\nconst PREFERENCE_GROUPS = {\n\t[DISPLAY_PREFS]: {\n\t\tlabel: t('Display Preferences'),\n\t\tpreferences: [SHOW_RIBBON, SHOW_SIDEBAR, WRAP_LIST_TEXT]\n\t},\n\t[NOTIFICATION_PREFS]: {\n\t\tlabel: t('Notifications'),\n\t\tpreferences: [SHOW_BANNERS, SHOW_BADGE_COUNT]\n\t}\n} ;\n\nexport function getPreferenceMenu(notificationsEnabled = false, userPreferences) {\n\tconst enableNotify = notificationsEnabled;\n\treturn PREFERENCE_MENU.reduce((result, group) => {\n\t\tif (group === NOTIFICATION_PREFS && !enableNotify)\n\t\t\treturn result;\n\n\t\tresult.push({\n\t\t\tlabel: PREFERENCE_GROUPS[group].label,\n\t\t\tname: group,\n\t\t\tpreferences: PREFERENCE_GROUPS[group].preferences.map(pref => (  userPreferences.find(p => p.name === pref)))\n\t\t});\n\n\t\treturn result;\n\t}, []);\n}\n\nexport function resolveURL(url) {\n\tif(!url.startsWith('nav_to') && !url.startsWith('/nav_to') && !url.startsWith('/now') && !url.startsWith('now/'))\n\t\treturn `/nav_to.do?uri=%2F/${url}`;\n\telse\n\t\treturn url;\n}\n\n/**\n * Find the shadow root. In this case, we want to find the shadowroot from the closest parent\n * container that is slotted.\n *\n * @param elem\n * @returns {{host}|*}\n */\nexport function getShadowRoot(elem) {\n\tif (!elem)\n\t\treturn;\n\n\tlet parentNode = elem.parentNode;\n\twhile (!parentNode.host)\n\t\tparentNode = parentNode.parentNode;\n\n\treturn parentNode;\n}\n","import {getNextTabId} from \"./snWorkspaceTabs.storage\";\nimport {\n\tgetContentId,\n\tsetTabTitleCache,\n\tupdateTabById,\n\tupdateTabs\n} from \"./snWorkspaceTabs.util\";\nimport * as constants from \"../constants/constants\";\nimport * as tabUtils from \"./snWorkspaceTabs.util\";\nimport * as tabCache from \"./snWorkspaceTabs.cache\";\nimport {closeTabById} from \"./snWorkspaceTabs.closeTabs\";\nimport {\n\tgetModuleType,\n\tgetTabByModule,\n\tgetSelectedModuleTab,\n\tgetModuleTab\n} from \"./snWorkspaceTabs.moduleTab\";\nimport {get} from 'lodash';\n\nconst reducerTypeMap = {\n\t[constants.OPEN_OR_FOCUS_MODULE_REDUCER]: openOrFocusModule,\n\t[constants.OPEN_OR_FOCUS_TAB_REDUCER]: openOrFocusTabs,\n\t[constants.CLOSE_DRILLDOWN_REDUCER]: closeDrillDown,\n\t[constants.CHAINED_REDUCER]: chainReducers\n};\n\n/**\n * Generic reducer function uses type prop to determine tab reducer\n * @param tabsData\n * @param payload\n * @returns {*}\n */\nexport function reduceTabsData(tabsData, payload){\n\tif (!payload)\n\t\treturn tabsData;\n\tconst {type} = payload;\n\tconst reducer = reducerTypeMap[type];\n\tif(reducer)\n\t\treturn reducer(tabsData, payload);\n\n\treturn tabsData;\n}\n\nexport function openOrFocusModule(tabsData, payload){\n\tlet tabsDataNew = openOrFocusTabs(tabsData, payload);\n\n\t// If the module tab is not Master-Detail, or we only have tab open, we're done\n\tif(getModuleType(tabsDataNew) !== constants.MASTER_DETAIL_TARGET || tabsDataNew.tabList.length <= 1)\n\t\treturn tabsDataNew;\n\n\t// If a module tab was previously selected, select the first session tab\n\tif(tabsData.selectedTabId === constants.MODULE_TAB_ID)\n\t\treturn {...tabsDataNew, selectedTabId: tabsDataNew.tabList[1].tab_id};\n\n\t// Use the previously selected tab ID\n\treturn {...tabsDataNew, selectedTabId: tabsData.selectedTabId};\n}\n\n/**\n * Given a tabsData set and tab payload, return a modified tabsData set with the corresponded tab open and / or focused\n * @param tabsData\n * @param payload\n * @returns {{tabList, selectedTabId: string, activeSubTabIdList}}\n */\nexport function openOrFocusTabs(tabsData, payload) {\n\tconst {tabsData: tabsDataNew = {}, eventData = {}} = payload;\n\n\tconst {tabList: tabListNew = []} = tabsDataNew;\n\n\tconst metaKeyPressed = get(eventData, 'nativeEvent.metaKey', false) || get(eventData, 'nativeEvent.ctrlKey', false);\n\n\t// We're at the lowest level of recursion passed in and meta key has been pressed. This tab won't be cached by the\n\t// post processor so cache it manually here\n\tif(tabListNew.length === 0 && metaKeyPressed)\n\t\treturn tabCache.cacheTab(tabsData);\n\n\treturn tabListNew.reduce((result, tabDef) => {\n\t\tlet tabListResult = result.tabList.slice(0);\n\t\tlet selectedTabIdResult = result.selectedTabId;\n\t\tlet newTab = false;\n\t\tlet tab;\n\t\tif (tabDef.tab_id)\n\t\t\ttab = tabUtils.getTabById(tabListResult, tabDef.tab_id);\n\t\telse if(tabDef.table || tabDef.sys_id || tabDef.type)\n\t\t\ttab = tabUtils.getTabByData(tabListResult, tabDef);\n\t\telse\n\t\t\ttab = tabUtils.getSelectedTab(result);\n\n\t\tconst {tabList: children, ...tabDefWithoutChildren} = tabDef;\n\t\tif(tab) {\n\t\t\tif(eventData.forceUpdate)\n\t\t\t\ttab = {...tab, ...tabDefWithoutChildren};\n\t\t\telse if(tabDef.params )\n\t\t\t\ttab = {...tab, params: tabDef.params};\n\t\t}\n\t\telse {\n\t\t\tnewTab = true;\n\t\t\ttab = {tab_id: getNextTabId(), ...tabDefWithoutChildren,  selectedTabId: '-1', parentTabId: result.tab_id, tabList: []};\n\t\t\ttab.contentId = getContentId(tab); // lock down the tab ID now to prevent tab unmounting in the future, e.g. new records becoming records\n\t\t}\n\n\t\t// Recurse into any sub tabs\n\t\ttab = openOrFocusTabs(tab, {tabsData: tabDef, eventData});\n\n\t\tif(newTab){\n\t\t\t// Full list should always be the first tab\n\t\t\tif (tab.type == constants.FULL_LIST_ITEM_TYPE)\n\t\t\t\ttabListResult.unshift(tab);\n\t\t\telse {\n\t\t\t\t// Top level tabs go to the end, others go to the immediate right\n\t\t\t\tif(tab.parentTabId)\n\t\t\t\t\ttabListResult.push(tab);\n\t\t\t\telse {\n\t\t\t\t\tconst selectedTabIdx = tabUtils.getTabIndexById(tabListResult, selectedTabIdResult);\n\t\t\t\t\ttabListResult.splice(selectedTabIdx + 1, 0, tab);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconst tabIdx = tabUtils.getTabIndexById(tabListResult, tab.tab_id);\n\t\t\ttabListResult[tabIdx] = tab;\n\t\t}\n\n\t\tif (!metaKeyPressed || selectedTabIdResult === '-1')\n\t\t\tselectedTabIdResult = tab.tab_id;\n\n\t\treturn {...result, selectedTabId: selectedTabIdResult, tabList: tabListResult};\n\n\t}, tabsData);\n}\n\nexport function closeDrillDown(tabsData, payload) {\n\tconst {module} = payload;\n\tconst moduleTab = module ? getTabByModule(tabsData, module) :  getSelectedModuleTab(tabsData);\n\n\tconst {tabList =[]} = moduleTab;\n\tif(tabList.length === 0)\n\t\treturn tabsData;\n\n\treturn updateTabById(tabsData, moduleTab.tab_id, {tabList: []} );\n}\n\nexport function toggleMasterTab(tabsData){\n\tconst moduleTab = getModuleTab(tabsData);\n\treturn tabUtils.updateTabById(tabsData, moduleTab.tab_id, {collapsed: !moduleTab.collapsed});\n}\n\nexport function chainReducers(tabsData, payload){\n\tconst {payload: payloads} = payload;\n\treturn payloads.reduce((newTabsData, subPayload) => reduceTabsData(newTabsData, subPayload), tabsData);\n}\n\nexport function updateOneTab(tabsData, payload) {\n\tconst { type, tab_id, title } = payload;\n\tif (type === constants.UPDATE_ONE_TAB_CLOSE)\n\t\treturn closeTabById(tabsData, tab_id);\n\telse if (type === constants.UPDATE_ONE_TAB_TITLE)\n\t\treturn tabUtils.updateTabById(tabsData, tab_id, {title});\n}\n\n\nexport function updateFormHeader(tabsData, payload){\n\tconst {sysId, table, recordDisplayValue, tableDisplayValue} = payload;\n\n\tif (sysId && sysId !== '-1')\n\t\treturn updateTabs(tabsData, t=> t.sys_id === sysId, t => {\n\t\t\tlet newTab = t;\n\t\t\tconst title = tabUtils.getTitleFromFormHeader(t.type, recordDisplayValue, tableDisplayValue);\n\t\t\tsetTabTitleCache(table, sysId, title);\n\n\t\t\tif(t.canClose)\n\t\t\t\tnewTab = {...newTab, title};\n\n\t\t\tlet validPayload = payload;\n\n\t\t\tif(!get(payload, 'primaryItem.displayValue'))\n\t\t\t\tvalidPayload = {...payload, primaryItem: {displayValue: title}};\n\n\t\t\tif(get(payload, 'secondaryItems.length', 0) > 0)\n\t\t\t\tnewTab = {...newTab, formHeaderInfo: validPayload };\n\t\t\telse\n\t\t\t\tnewTab = {...newTab, tooltipInfo: validPayload.primaryItem.displayValue};\n\n\t\t\treturn newTab;\n\t\t});\n\n\treturn tabsData;\n\n}\n","/* eslint-disable indent */\n\nimport { CLOSE_TAB_MENU_ITEM, CLOSE_OTHER_TABS_MENU_ITEM, CLOSE_ALL_TABS_MENU_ITEM, CHAT_ITEM_TYPE } from '../constants/constants';\nimport * as tabUtils from './snWorkspaceTabs.util';\nimport * as tabCache from './snWorkspaceTabs.cache';\nimport {getModuleTab, isModuleChild, isModuleTab} from \"./snWorkspaceTabs.moduleTab\";\nimport RecordChangeLogger from './snWorkspaceTabs.RecordChangeLogger';\n\n/**\n * Execute a close tab menu item.\n * @param tabsData\n * @param menuItem - close tab menu item to execute\n * @param tab_id - tab id to close, defaults to currently selected tab\n * @returns {*}\n */\nexport function executeCloseMain(tabsData, menuItem = CLOSE_TAB_MENU_ITEM, tab_id = tabsData.selectedTabId) {\n\t\n\tconst moduleTab = getModuleTab(tabsData);\n\tswitch (menuItem) {\n\t\tcase CLOSE_TAB_MENU_ITEM: {\n\t\t\tif(tab_id === moduleTab.tab_id)\n\t\t\t\treturn tabsData;\n\n\t\t\tconst {tabList} = tabsData;\n\t\t\tconst selectedTabForClose = tabUtils.getTabById(tabList, tab_id);\n\t\t\tif(selectedTabForClose){\n\t\t\t\tconst {table, sys_id } = selectedTabForClose;\n\t\t\t\tRecordChangeLogger.getInstance().removeParent(table, sys_id);\n\t\t\t}\n\n\t\t\treturn closeTabById(tabsData, tab_id);\n\t\t}\n\t\tcase CLOSE_OTHER_TABS_MENU_ITEM: {\n\t\t\ttabCache.clearCache();\n\t\t\tconst selectedTab = tabUtils.getSelectedTab(tabsData);\n\t\t\tif(selectedTab){\n\t\t\t\tconst {table, sys_id } = selectedTab;\n\t\t\t\tRecordChangeLogger.getInstance().clearRecordLogExcludingSelected(table, sys_id);\n\t\t\t}\n\n\t\t\treturn {...tabsData, tabList: isModuleTab(selectedTab) ? [moduleTab] : [moduleTab, selectedTab]};\n\t\t}\n\t\tcase CLOSE_ALL_TABS_MENU_ITEM: {\n\t\t\ttabCache.clearCache();\n\t\t\tRecordChangeLogger.getInstance().clearRecordLog();\n\n\t\t\treturn {...tabsData, tabList: [moduleTab], selectedTabId: moduleTab.tab_id};\n\t\t}\n\t\tdefault: break;\n\t}\n\treturn tabsData;\n}\n\nexport function executeCloseSub(tabsData, operation, operatedTabId) {\n\tconst {selectedTabId} = tabsData;\n\tlet newTabs = tabsData;\n\n\tswitch (operation) {\n\t\tcase CLOSE_TAB_MENU_ITEM: {\n\t\t\tnewTabs = closeTabById(tabsData, operatedTabId);\n\t\t\tbreak;\n\t\t}\n\t\tcase CLOSE_OTHER_TABS_MENU_ITEM: {\n\t\t\tnewTabs = closeOtherTabsById(tabsData, operatedTabId);\n\t\t\tbreak;\n\t\t}\n\t\tcase CLOSE_ALL_TABS_MENU_ITEM: {\n\t\t\tnewTabs = closeTabById(tabsData, selectedTabId); // closing all sub tabs will close its main tab as well\n\t\t\tbreak;\n\t\t}\n\t\tdefault:break;\n\t}\n\treturn newTabs;\n}\n\nexport function askToCloseMain(tabsData, operation, tab_id) {\n\tlet newTabsData = tabsData;\n\tif (operation === CLOSE_TAB_MENU_ITEM) {\n\t\tnewTabsData = _askToCloseOneMainTab(tabsData, tab_id);\n\t}\n\telse if (operation === CLOSE_OTHER_TABS_MENU_ITEM || operation === CLOSE_ALL_TABS_MENU_ITEM) {\n\t\tnewTabsData = _askToCloseMainTabs(tabsData, operation);\n\t}\n\n\tif (newTabsData === tabsData) // none of the tabs to be closed has prompt\n\t\tnewTabsData = executeCloseMain(tabsData, operation, tab_id);\n\n\treturn newTabsData;\n}\n\nexport function askToCloseSub(tabsData, operation, operatedTabId) {\n\tlet newTabsData = _askToCloseSubTabs(tabsData, operation, operatedTabId);\n\n\tif (newTabsData === tabsData) // none of the tabs to be closed is has prompt\n\t\tnewTabsData = executeCloseSub(tabsData, operation, operatedTabId);\n\n\treturn newTabsData;\n}\n\nfunction _askToCloseSubTabs(tabsData, operation, operatedTabId, parentTabId = tabsData.selectedTabId) {\n\tconst {tabList = []} = tabsData;\n\tif(tabList.length === 0)\n\t\treturn tabsData;\n\n\tconst parentTabIdx = tabUtils.getTabIndexById(tabList, parentTabId);\n\tif(parentTabIdx < 0)\n\t\treturn tabsData;\n\n\tconst parentTab = tabList[parentTabIdx];\n\tconst {tabList: subTabList} = parentTab;\n\n\tlet closeTabList = [];\n\tif (operation === CLOSE_TAB_MENU_ITEM) {\n\t\tconst tabClicked = tabUtils.getTabById(subTabList, operatedTabId);\n\t\tif (tabClicked.isDirty)\n\t\t\tcloseTabList = [tabClicked];\n\t}\n\telse if (operation === CLOSE_OTHER_TABS_MENU_ITEM) {\n\t\tconst tab_id_to_skip = parentTab.selectedTabId;\n\t\tcloseTabList = subTabList.filter( t => t.tab_id !== tab_id_to_skip && !tabUtils.isDetailTab(t, parentTab) && _hasPrompt(t, parentTab) );\n\t}\n\telse if (operation === CLOSE_ALL_TABS_MENU_ITEM) {\n\t\tcloseTabList = subTabList.filter( t => _hasPrompt(t, parentTab) );\n\t\t// append details tab to front if there're any dirty tabs. So that when user cancel closing dirty tabs, we still have the details sub tab\n\t\tif (closeTabList.length > 0 && closeTabList[0].tab_id !== subTabList[0].tab_id)\n\t\t\tcloseTabList.unshift(subTabList[0]);\n\t}\n\n\tif(closeTabList.length === 0)\n\t\treturn tabsData;\n\n\tconst closeIdList = closeTabList.map(t => t.tab_id);\n\n\tlet newSubTabList = subTabList;\n\tif (operation === CLOSE_OTHER_TABS_MENU_ITEM) {\n\t\tconst tab_id_to_skip = parentTab.selectedTabId;\n\t\tnewSubTabList = subTabList.filter(t => t.tab_id === tab_id_to_skip || tabUtils.isDetailTab(t, parentTab) || _hasPrompt(t, parentTab));\n\t}\n\telse if (operation === CLOSE_ALL_TABS_MENU_ITEM) {\n\t\tnewSubTabList = closeTabList;\n\t}\n\n\tconst newActiveMainTab = {...parentTab, selectedTabId: closeIdList.slice(-1)[0], tabList: newSubTabList};\n\tconst newTabList = tabList.slice(0);\n\tnewTabList[parentTabIdx] = newActiveMainTab;\n\treturn {...tabsData, selectedTabId: parentTabId, tabList: newTabList, closeIdList};\n\n}\n\nfunction _askToCloseOneMainTab(tabsData, tab_id) {\n\tconst { tabList} = tabsData;\n\tlet mainTab = tabUtils.getTabById(tabList, tab_id);\n\tlet newTabsData = tabsData;\n\tif (_hasPromptChildren(mainTab))\n\t\tnewTabsData = _askToCloseSubTabs(tabsData, CLOSE_ALL_TABS_MENU_ITEM, null, tab_id); // The same as close its all sub tabs\n\n\treturn newTabsData;\n}\n\nfunction _askToCloseMainTabs(tabsData, operation) {\n\tconst { selectedTabId, tabList } = tabsData;\n\n\tlet newTabsData = tabsData;\n\n\t// newTabList contains prompt tabs to be closed and curActiveTab\n\tlet promptTabIdList = [], newTabList = [], closeIdList = [];\n\ttabList.forEach( mt => {\n\t\tconst { table, sys_id, tab_id, tabList: subTabList } = mt;\n\n\t\tif(isModuleTab(mt))\n\t\t\tnewTabList.push(mt);\n\n\t\tif (_hasPromptChildren(mt) || (operation === CLOSE_OTHER_TABS_MENU_ITEM && tab_id === selectedTabId)) {\n\t\t\tlet newTab = mt;\n\n\t\t\tif (_hasPromptChildren(mt) && (operation === CLOSE_ALL_TABS_MENU_ITEM || tab_id !== selectedTabId)) {\n\t\t\t\tpromptTabIdList.push(mt.tab_id);\n\n\t\t\t\tif (subTabList.length > 0) {\n\t\t\t\t\tlet closeTabList = subTabList.filter(st => _hasPrompt(st, mt));\n\t\t\t\t\tif (closeTabList.length > 0 && closeTabList[0].tab_id !== subTabList[0].tab_id) {\n\t\t\t\t\t\tcloseTabList.unshift(subTabList[0]);\n\t\t\t\t\t}\n\n\t\t\t\t\tcloseIdList = closeIdList.concat(closeTabList.map( st => st.tab_id));\n\t\t\t\t\tnewTab = {...newTab, tabList: closeTabList, selectedTabId: closeIdList.slice(-1)[0]};\n\t\t\t\t}\n\t\t\t} \n\n\t\t\tnewTabList.push(newTab);\n\t\t} else {\n\t\t\tif(isModuleTab(mt))\n\t\t\t\tRecordChangeLogger.getInstance().removeParent(table, sys_id);\n\t\t}\n\t});\n\n\tif (closeIdList.length > 0) {\n\t\tlet newSelectedTabId = promptTabIdList.slice(-1)[0];\n\t\tnewTabsData = {...tabsData, tabList: newTabList, selectedTabId: newSelectedTabId, closeIdList};\n\t}\n\n\treturn newTabsData;\n}\n\nfunction _isActiveChat(tab) {\n\treturn tab.type === CHAT_ITEM_TYPE && tab.activated;\n}\n\nfunction _hasPrompt(subTab, mainTab) { // apply to sub tab\n\treturn subTab.isDirty || (_isActiveChat(mainTab) && tabUtils.isDetailTab(subTab, mainTab));\n}\n\nfunction _hasPromptChildren(mainTab) { // apply to main tab\n\treturn mainTab.isDirty || _isActiveChat(mainTab);\n}\n\nexport function closeTabById(tabsData, tab_id){\n\treturn tabUtils.applyToOneTab(tabsData, t=>t.tab_id === tab_id,\n\t\t\t// Apply to the tab to be deleted\n\t\t\tt=>{\n\t\t\t\ttabCache.clearCache(t);\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\t// Apply to the ancestors of the deleted tab\n\t\t\t(parentTab, childIdx)=>{\n\t\t\t\tconst {tabList} = parentTab;\n\t\t\t\tlet isDirty = false;\n\t\t\t\tlet tabListNew = [];\n\t\t\t\tlet selectedTabIdNew = parentTab.selectedTabId;\n\t\t\t\tif(tab_id === selectedTabIdNew)\n\t\t\t\t\tselectedTabIdNew = tabUtils.getClosestTabId(tabList, tab_id);\n\n\t\t\t\ttabList.forEach((t, idx)=>{\n\t\t\t\t\t// Skip tab to be deleted\n\t\t\t\t\tif(t.tab_id === tab_id)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// If the parent of the tab to be deleted has no other children, remove it from the cache\n\t\t\t\t\t// and skip it as well\n\t\t\t\t\tif(idx === childIdx && t.tabList.length === 0 && !isModuleChild(t)){\n\t\t\t\t\t\tselectedTabIdNew = tabUtils.getClosestTabId(tabList, t.tab_id);\n\t\t\t\t\t\ttabCache.clearCache(t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(t.isDirty)\n\t\t\t\t\t\tisDirty = true;\n\n\t\t\t\t\t// All other tabs shall remain\n\t\t\t\t\ttabListNew.push(t);\n\t\t\t\t});\n\n\t\t\t\treturn {...parentTab, tabList: tabListNew, isDirty, selectedTabId: selectedTabIdNew};\n\n\t\t\t});\n}\n\n\nexport function closeFromCloseIdList(tabsData) {\n\n\tconst {closeIdList, tabList, selectedTabId} = tabsData;\n\tconst lastIdx = closeIdList.length - 1;\n\tconst close_tab_id = closeIdList[lastIdx];\n\tlet newCloseIdList = closeIdList.slice(0, lastIdx);\n\n\tconst nextCloseTabId =  newCloseIdList.length > 0 ? newCloseIdList[lastIdx-1] : '-1';\n\n\tlet newSelectedTabId = '-1', tabClosed = null;\n\tconst newTabList = tabList.reduce( (acc, t) => {\n\t\tconst {table, sys_id, tabList: subTabList} = t;\n\t\tlet newTab = t;\n\n\t\tconst tabClosedTemp = tabUtils.getTabById(subTabList, close_tab_id);\n\t\tif (!tabClosed)\n\t\t\ttabClosed = tabClosedTemp;\n\t\tconst nextCloseTab = tabUtils.getTabById(subTabList, nextCloseTabId);\n\n\t\tif (nextCloseTab && !nextCloseTab.isDirty) {\n\t\t\tconst nextCloseTabParent  = tabUtils.getTabById(tabList,nextCloseTab.parentTabId);\n\t\t\tif (!_hasPrompt(nextCloseTab,nextCloseTabParent))\n\t\t\t{\n\t\t\t\t// the next one in closeIdList is a non-dirty details sub tab\n\t\t\t\t// or a parent main tab that has to prompt\n\t\t\t\tnewTab = [];\n\t\t\t\tnewCloseIdList.pop();\n\n\t\t\t\tif(table && sys_id)\n\t\t\t\t\tRecordChangeLogger.getInstance().removeParent(table, sys_id);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (tabClosedTemp) {\n\t\t\t\tif (subTabList.length === 1) {\n\t\t\t\t\tnewTab = [];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst newSubTabList = subTabList.filter( t => t.tab_id !== close_tab_id);\n\t\t\t\t\tconst newSubSelectedTabId = tabUtils.getClosestTabId(subTabList, close_tab_id);\n\t\t\t\t\tconst isDirty = newSubTabList.some( t => t.isDirty );\n\t\t\t\t\tnewTab = {...newTab, tabList: newSubTabList, selectedTabId: newSubSelectedTabId, isDirty};\n\t\t\t\t\tnewSelectedTabId = selectedTabId;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Switch focus to the last item in closeIdList\n\t\t\tif (nextCloseTab) {\n\t\t\t\tnewSelectedTabId = newTab.tab_id;\n\t\t\t\tnewTab = {...newTab, selectedTabId: nextCloseTabId};\n\t\t\t}\n\t\t}\n\n\t\treturn acc.concat(newTab);\n\t}, []);\n\n\tif (newSelectedTabId === '-1')\n\t\tnewSelectedTabId = tabUtils.getClosestTabId(tabList, selectedTabId);\n\n\tconst newTabsData = {...tabsData, tabList: newTabList,selectedTabId: newSelectedTabId, closeIdList: newCloseIdList};\n\n\t\n\treturn {newTabsData, tabClosed};\n}\n\nfunction closeOtherTabsById(oneTab, tab_id) { // tab_id is the leaf selectedTabId\n\tconst {tabList, selectedTabId} = oneTab;\n\tif (selectedTabId === tab_id) {\n\t\tconst tabsToKeep = oneTab.tabList.filter(t => {\n\t\t\tif(t.tab_id === tab_id || tabUtils.isDetailTab(t, oneTab)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\ttabCache.clearCache(t);\n\t\t\treturn false;\n\t\t});\n\n\t\tconst isDirty = tabsToKeep.some( t => t.isDirty );\n\t\treturn {...oneTab, tabList: tabsToKeep, selectedTabId: tab_id, isDirty};\n\t}\n\n\tconst selectedIdx = tabUtils.getTabIndexById(tabList, selectedTabId);\n\tconst selectedTab = tabList[selectedIdx];\n\tconst newSelectedTab = closeOtherTabsById(selectedTab, tab_id);\n\tconst newTabList = tabList.slice();\n\tnewTabList.splice(selectedIdx, 1, newSelectedTab);\n\treturn {...oneTab, tabList: newTabList};\n}\n","module.exports = __TECTONIC__$servicenow_now_badge;","/* eslint-disable indent */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport react from '@servicenow/ui-renderer-react';\nimport {findDOMNode} from 'react-dom';\nimport customCreateElement from 'sn-custom-create-element';\n\nimport * as constants from '../../constants/constants';\nimport { isCustomRendererTable,\n\tWS_CUSTOM_TAB_RENDERER,\n\tWS_TYPED_RENDERER } from '../../constants/ws_renderer';\nimport find from 'lodash/find';\nimport get from 'lodash/get';\nimport head from 'lodash/head';\nimport updateElementProp from './updateElementProp';\nimport updateContentOptionState from \"./updateContentOptionState\";\nimport RecordChangeLogger from \"../../sn-workspace-tabs/snWorkspaceTabs.RecordChangeLogger\";\n\nclass ChromeTabPanels extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\n\t_renderOnePanel(p, isActive) {\n\t\tconst {tab_id, sys_id, table, type, additional_data, isSuspended, dehydrate, params = {}, renderer_type} = p;\n\n\t\tif (isSuspended)\n\t\t\treturn null;\n\n\t\tlet panel = null;\n\t\tconst {isPrimary = false} = this.props;\n\n\t\t// Don't render module drilldowns outside of primary area\n\t\tif(!isPrimary && get(additional_data, 'moduleDrilldown'))\n\t\t\treturn null;\n\n\t\tswitch (type) {\n\t\t\tcase constants.RECORD_ITEM_TYPE:\n\t\t\tcase constants.NEW_RECORD_ITEM_TYPE: {\n\t\t\t\t// building form's data\n\t\t\t\tconst {formViews: views} = this.props;\n\t\t\t\tlet formData = {\n\t\t\t\t\t\"component-id\": `tid_${tab_id}_tid`,\n\t\t\t\t\ttabId: tab_id,\n\t\t\t\t\tsysId: sys_id,\n\t\t\t\t\ttable,\n\t\t\t\t\tquery: get(additional_data, 'query', ''),\n\t\t\t\t\tviews,\n\t\t\t\t\tactive: isActive,\n\t\t\t\t\tdehydrate,\n\t\t\t\t\tparams,\n\t\t\t\t\t...params\n\t\t\t\t};\n\n\t\t\t\tif (isCustomRendererTable(table)) {\n\t\t\t\t\tpanel = customCreateElement(WS_CUSTOM_TAB_RENDERER[table], { ...formData }, null);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tlet recordChangeLogger = RecordChangeLogger.getInstance();\n\t\t\t\t\tlet sendRecordLog = isActive && !(type && type === constants.MODULE_TAB_ID) && recordChangeLogger.isParent(table, sys_id);\n\t\t\t\t\tlet detailsContext = [];\n\t\t\t\t\tif (sendRecordLog) {\n\t\t\t\t\t\tdetailsContext = recordChangeLogger.getRecordsByParent(table, sys_id) || [];\n\t\t\t\t\t}\n\t\t\t\t\t//adding detailsContext to fromData\n\t\t\t\t\tformData = {...formData, detailsContext};\n\n\t\t\t\t\tpanel = customCreateElement('now-record-form-connected', formData);\n\n\t\t\t\t\tif (sendRecordLog)\n\t\t\t\t\t\trecordChangeLogger.markToBeClearedParent(table, sys_id);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase constants.NON_RECORD_ITEM_TYPE: {\n\t\t\t\t// checking both additional_data and renderer_type to be on the safe side\n\t\t\t\tlet rendererType = (additional_data && additional_data.rendererType) || renderer_type;\n\t\t\t\tif (rendererType && WS_TYPED_RENDERER[rendererType]) {\n\t\t\t\t\tpanel = customCreateElement(WS_TYPED_RENDERER[rendererType]['custom_renderer'], {\n\t\t\t\t\t\t\"component-id\": `tid_${tab_id}_tid`,\n\t\t\t\t\t\tactive: isActive,\n\t\t\t\t\t\tdehydrate,\n\t\t\t\t\t\t...params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase constants.CHAT_ITEM_TYPE: {\n\t\t\t\tconst { chat } = additional_data;\n\t\t\t\tif (chat)\n\t\t\t\t\tpanel = <sn-chat interaction={chat.sys_id} active={isActive}/>;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase constants.FULL_SEARCH_ITEM_TYPE: {\n\t\t\t\tlet { term } = additional_data;\n\n\t\t\t\t//escape any search terms beginning with @ because seismic reserves this symbol for props\n\t\t\t\tif (term && term.startsWith('@'))\n\t\t\t\t\tterm = '\\\\' + term;\n\n\t\t\t\tpanel = <sn-component-workspace-global-search-tab term={term} />;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase constants.MODULE_ITEM_TYPE: {\n\t\t\t\tconst {module = {}, params={}} = p;\n\t\t\t\tconst {children} = this.props;\n\n\t\t\t\t//const moduleId = `tid_${tab_id}_tid`;\n\t\t\t\tconst moduleId = module.id || null;\n\t\t\t\tconst slot = isPrimary ? constants.MASTER_SLOT : constants.DETAIL_SLOT;\n\t\t\t\tpanel = react.createSlot(children, slot);\n\t\t\t\tupdateElementProp(this.node, moduleId, slot, params);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn panel;\n\t}\n\n\trender() {\n\t\tconst {panels, selectedPanelId} = this.props.panelsData;\n\t\tconst activeModulePanel = head(panels.filter(p => p.panelId === selectedPanelId && p.type === constants.MODULE_ITEM_TYPE));\n\n\t\tif (panels.length === 0)\n\t\t\treturn null;\n\n\t\tconst activeModuleId = activeModulePanel ? activeModulePanel.panelId : 'disabled';\n\n\t\treturn (\n\t\t\t<div className=\"chrome-tab-panel-list\">\n\t\t\t\t{panels.filter(p => p.type !== constants.MODULE_ITEM_TYPE).map((p) => {\n\t\t\t\t\tconst {panelId} = p;\n\t\t\t\t\tconst isActive = (panelId === selectedPanelId);\n\t\t\t\t\tlet style = \"chrome-tab-panel\" + (isActive ? ' is-active' : '');\n\n\t\t\t\t\treturn (<div role=\"tabpanel\"\n\t\t\t\t\t\tid={'chrome-tab-panel-' + panelId}\n\t\t\t\t\t\tkey={panelId}\n\t\t\t\t\t\tclassName={style}\n\t\t\t\t\t\thidden={!isActive}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this._renderOnePanel(p, isActive)}\n\t\t\t\t\t</div>);\n\t\t\t\t})}\n\n\t\t\t\t<div\n\t\t\t\t\trole=\"tabpanel\"\n\t\t\t\t\tid={'chrome-tab-panel-' + activeModuleId}\n\t\t\t\t\tkey={'chrome-tab-panel-module'}\n\t\t\t\t\tclassName={'chrome-tab-panel' + (!!activeModulePanel ? ' is-active' : '')}\n\t\t\t\t\thidden={!!activeModulePanel}\n\t\t\t\t>\n\t\t\t\t\t{this._renderOnePanel(activeModulePanel || {\n\t\t\t\t\t\t\ttype: constants.MODULE_ITEM_TYPE\n\t\t\t\t\t\t}, !!activeModulePanel)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_updateContentPickerState() {\n\t\tconst {panels, selectedPanelId} = this.props.panelsData;\n\n\t\tconst slot = this.props.isPrimary ? constants.MASTER_SLOT : constants.DETAIL_SLOT;\n\t\tlet moduleId = null;\n\n\t\tif(this.props.active) {\n\t\t\tconst activePanel = find(panels, panel => selectedPanelId === panel.panelId);\n\t\t\tif (activePanel && activePanel.type === constants.MODULE_ITEM_TYPE)\n\t\t\t\t({module: {id: moduleId}} = activePanel);\n\t\t}\n\n\t\tupdateContentOptionState(this.node, slot, {moduleId});\n\t}\n\n\t_updateChildrenWithProps() {\n\t\tconst {panels, selectedPanelId} = this.props.panelsData;\n\t\tconst activePanel = find(panels, panel => selectedPanelId === panel.panelId);\n\n\t\tif (activePanel && activePanel.type === constants.MODULE_ITEM_TYPE) {\n\t\t\tconst {module: {id}, params = {}} = activePanel;\n\n\t\t\tconst {isPrimary} = this.props;\n\t\t\tconst slot = isPrimary ? constants.MASTER_SLOT : constants.DETAIL_SLOT;\n\t\t\tconst props = isPrimary ? {...params} : params;\n\t\t\tupdateElementProp(this.node, id, slot, props);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.node = findDOMNode(this);\n\t\tthis._updateContentPickerState();\n\n\t\t// On the first load from a refresh, we may need to manually inject props into the slotted modules.\n\t\tthis._updateChildrenWithProps();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis._updateContentPickerState();\n\t}\n}\n\nChromeTabPanels.propTypes = {\n\tpanelsData: PropTypes.object.isRequired,\n\tisPrimary: PropTypes.bool,\n\tactive: PropTypes.bool\n};\n\nexport default ChromeTabPanels;\n","import * as tabCache from \"./snWorkspaceTabs.cache\";\nimport {getContentId} from \"./snWorkspaceTabs.util\";\nimport {CHAT_ITEM_TYPE} from \"../constants/constants\";\n\nexport function getPanelsData(tabsData, panelsData = {panels: [], selectedTabId: tabsData.selectedTabId, selectedPanelId: null}) {\n\n\tconst {panels} = panelsData;\n\tlet {selectedTabId, selectedPanelId} = panelsData;\n\tconst {tabList = []} = tabsData;\n\tif (tabList.length === 0) {\n\t\tif(tabsData.isSuspended )\n\t\t\treturn {panels, selectedTabId, selectedPanelId};\n\n\t\tconst panelId = getContentId(tabsData);\n\t\tif(tabsData.tab_id == selectedTabId)\n\t\t\tselectedPanelId = panelId;\n\n\t\tconst panel = {...tabsData, dehydrate: !tabCache.shouldLoadTab(tabsData), panelId};\n\t\tlet newPanels = _binaryInsert(panel, panels);\n\t\treturn {panels: newPanels, selectedTabId, selectedPanelId};\n\t}\n\n\tif(tabsData.tab_id === selectedTabId)\n\t\tselectedTabId = tabsData.selectedTabId;\n\n\treturn tabList.reduce((result, t) => {\n\t\treturn getPanelsData(t, result);\n\t}, {panels, selectedTabId, selectedPanelId});\n\n}\n\nexport function getChatPanelsData(tabsData){\n\tconst {tabList, selectedTabId} = tabsData;\n\treturn tabList.reduce((result, t) => {\n\t\tif(t.type != CHAT_ITEM_TYPE)\n\t\t\treturn result;\n\n\t\tif(t.isSuspended)\n\t\t\treturn result;\n\n\t\tconst panelId = getContentId(t);\n\t\tif(t.tab_id === selectedTabId)\n\t\t\tresult = {...result, selectedPanelId: panelId};\n\n\t\treturn {...result, panels: result.panels.concat({...t, panelId})};\n\n\t},{panels: [], selectedTabId, selectedPanelId: null});\n}\n\n\n/**\n * Utilize a binary search to insert panel into a array ordered by content IDs to exclude duplicate content.  When\n * duplicate content is fine, ensure hydrated panel takes precedence over a dehydrated one.\n * @param panel\n * @param array\n * @param start\n * @param end\n */\nfunction _binaryInsert(panel, array, start = 0, end = array.length - 1){\n\t// Determine middle of array for binary search\n\tconst length = array.length;\n\tconst m = start + Math.floor((end - start)/2);\n\tlet newArray = array.slice(0);\n\n\t// Array is empty, just push it to the end\n\tif(length == 0)\n\t\tnewArray.push(panel);\n\n\n\t// Content ID is greater than the last element in recursive search range. Splice it into the right of that range.\n\t// NOTE: end is not necessary the end of the original array, which is why we don't use push.\n\telse if(panel.panelId > array[end].panelId)\n\t\tnewArray.splice(end + 1, 0, panel);\n\n\t// Content ID is a duplicate of the last element in recursive search range. Handle it and exit search.\n\telse if(panel.panelId === array[end].panelId)\n\t\tnewArray[end] = handleDuplicate(panel, array[end]);\n\n\t// Content ID is less than the first element in recursive search range. Splice it into the left of that range.\n\telse if(panel.panelId < array[start].panelId)\n\t\tnewArray.splice(start, 0, panel);\n\n\t// Content ID is a duplicate of the last element in recursive search range. Handle it and exit search.\n\telse if(panel.panelId === array[start].panelId)\n\t\tnewArray[start] = handleDuplicate(panel, array[start]);\n\n\t// Our search ranges have crossed each other. Exit the search. I don't think this should ever happen...\n\telse if(start >= end)\n\t\treturn newArray;\n\n\t// Content ID is less than the middle of recursive search range. Recurse to the left.\n\telse if(panel.panelId < array[m].panelId)\n\t\treturn _binaryInsert(panel, array, start, m - 1);\n\n\t// Content ID is greater than the middle of recursive search range. Recurse to the right.\n\telse if(panel.panelId > array[m].panelId)\n\t\treturn _binaryInsert(panel, array, m + 1, end);\n\n\n\t// Content ID is a duplicate of the middle of our recursive search range. Handle it and exit search.\n\telse if(panel.panelId === array[m].panelId)\n\t\tnewArray[m] = handleDuplicate(panel, array[m]);\n\n\n\treturn newArray;\n}\n\n/**\n * Handle duplicate content within binary search. If existing panel is dehydrated and new panel is not, hydrate the\n * original.\n * @param panel\n * @param existingTab\n */\nfunction handleDuplicate(panel, existingTab){\n\tif(!panel.dehydrate && existingTab.dehydrate)\n\t\treturn {...existingTab, dehydrate: false};\n\n\treturn existingTab;\n}\n","module.exports = __TECTONIC__sn_seismic_addons;","import get from 'lodash/get';\n\nimport {t} from 'sn-translate';\nimport {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\n\nimport makeCustomHandler from '../../utils/effects/makeCustomHandler';\nimport {chromeOneTabTitle_read, chromeOneTabDisplayColumn_read, chromeOneTabTableInfo_read} from './chromeOneTabQuery.read';\nimport {queryTitle, updateNewRecordTabTitle} from './chromeOneTab.util';\nimport {getTableDisplayColumn} from '../../sn-workspace-tabs/snWorkspaceTabs.util';\n\nimport {\n\tINVALID_TITLE, UNKNOWN_RECORD_TITLE, UPDATE_ONE_TAB, UPDATE_ONE_TAB_TITLE, UPDATE_TABLE_COL_MAP\n} from '../../constants/constants';\n\nexport let TABLE_LABEL_MAP = {};\n\nexport const CHROME_ONE_TAB_ACTIONS = {\n\tFETCH_TITLE: 'FETCH_TITLE',\n\tFETCH_TITLE_STARTED: 'FETCH_TITLE_STARTED',\n\tFETCH_TITLE_SUCCEEDED: 'FETCH_TITLE_SUCCEEDED',\n\tFETCH_TITLE_FAILED: 'FETCH_TITLE_FAILED',\n\tFETCH_DISPLAY_COLUMN: 'FETCH_DISPLAY_COLUMN',\n\tFETCH_DISPLAY_COLUMN_STARTED: 'FETCH_DISPLAY_COLUMN_STARTED',\n\tFETCH_DISPLAY_COLUMN_SUCCEEDED: 'FETCH_DISPLAY_COLUMN_SUCCEEDED',\n\tFETCH_DISPLAY_COLUMN_FAILED: 'FETCH_DISPLAY_COLUMN_FAILED',\n\tFETCH_TABLE_INFO: 'FETCH_TABLE_INFO',\n\tFETCH_TABLE_INFO_STARTED: 'FETCH_TABLE_INFO_STARTED',\n\tFETCH_TABLE_INFO_SUCCEEDED: 'FETCH_TABLE_INFO_SUCCEEDED',\n\tFETCH_TABLE_INFO_FAILED: 'FETCH_TABLE_INFO_FAILED'\n};\n\n// function generateActions(initialName) {\n// \tconst obj = {};\n// \tconst started = initialName + '_STARTED';\n// \tconst succeeded = initialName + '_SUCCEEDED';\n// \tconst failed = initialName + '_FAILED';\n//\n// \tobj[initialName] = initialName;\n// \tobj[started] = started;\n// \tobj[succeeded] = succeeded;\n// \tobj[failed] = failed;\n//\n// \treturn obj;\n// }\n\nexport const fetchTitleEffect = createGraphQLEffect(chromeOneTabTitle_read, {\n\tvariableList: ['sys_id'],\n\ttemplateVarList: ['table', 'field'],\n\tstartActionType: CHROME_ONE_TAB_ACTIONS.FETCH_TITLE_STARTED,\n\tsuccessActionType: CHROME_ONE_TAB_ACTIONS.FETCH_TITLE_SUCCEEDED,\n\terrorActionType: CHROME_ONE_TAB_ACTIONS.FETCH_TITLE_FAILED\n});\n\nexport const fetchDisplayColumnEffect = createGraphQLEffect(chromeOneTabDisplayColumn_read, {\n\tvariableList: ['table'],\n\tstartActionType: CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN_STARTED,\n\tsuccessActionType: CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN_SUCCEEDED,\n\terrorActionType: CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN_FAILED\n});\n\nexport const fetchTableInfoEffect = createGraphQLEffect(chromeOneTabTableInfo_read, {\n\tvariableList: ['table'],\n\tstartActionType: CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO_STARTED,\n\tsuccessActionType: CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO_SUCCEEDED,\n\terrorActionType: CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO_FAILED\n});\n\nconst handleStarted = createUpdateStateEffect(state => {\n\treturn {\n\t\t...state\n\t}\n});\n\nconst handleTitleFetchSucceeded = makeCustomHandler( (coeffects) => {\n\tconst {state, action, dispatch} = coeffects;\n\tconst {table, tab_id} = state.properties.tab;\n\tconst tableLabel = get(action.payload.data, `GlideRecord_Query[${table}]._table_metadata.label`, UNKNOWN_RECORD_TITLE);\n\tconst results = get(action.payload.data, `GlideRecord_Query[${table}]._results`, []);\n\n\tTABLE_LABEL_MAP[table] = tableLabel;\n\tconst columnName = getTableDisplayColumn(table);\n\n\tlet title = '';\n\tif (columnName === 'sys_id' || !results || results.length === 0)\n\t\ttitle = tableLabel;\n\telse {\n\t\tconst result = results[0][columnName];\n\t\tlet value = '', displayValue = '';\n\t\tif (result)\n\t\t\t({value, displayValue} = result);\n\t\ttitle = displayValue || value || tableLabel ||  UNKNOWN_RECORD_TITLE;\n\t}\n\n\tdispatch(UPDATE_ONE_TAB, {type: UPDATE_ONE_TAB_TITLE, tab_id, title});\n});\n\nconst handleFailure = createUpdateStateEffect((state) => {\n\treturn {\n\t\t...state\n\t}\n});\n\nconst handleDisplayColumnFetchSucceeded = makeCustomHandler( (coeffects) => {\n\tconst {state, action, dispatch} = coeffects;\n\tconst displayColumn = get(action.payload.data, 'GlideDomain_Query.tableDescription.displayColumnName', false);\n\tif (displayColumn === false)\n\t\tdispatch(UPDATE_ONE_TAB, {type: UPDATE_ONE_TAB_TITLE, tab_id: state.tab.tab_id, title: UNKNOWN_RECORD_TITLE});\n\telse {\n\t\tconst { table, sys_id } = state.properties.tab;\n\t\tdispatch(UPDATE_TABLE_COL_MAP, {table, displayColumn});\n\t\tdispatch(CHROME_ONE_TAB_ACTIONS.FETCH_TITLE, {sys_id, table, field:displayColumn});\n\t}\n});\n\nconst handleTableInfoFetchSucceeded = makeCustomHandler( (coeffects) => {\n\tconst {state, action, dispatch} = coeffects;\n\tconst tableLabel = get(action.payload.data, 'GlideDomain_Query.tableDescription.label', INVALID_TITLE);\n\tconst {table, tab_id} = state.properties.tab;\n\tTABLE_LABEL_MAP[table] = tableLabel;\n\n\tupdateNewRecordTabTitle(dispatch, tableLabel, tab_id);\n});\n\nexport const handlerMap = {\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TITLE]: {\n\t\thandlers: [fetchTitleEffect]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TITLE_STARTED]: {\n\t\thandlers: [handleStarted]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TITLE_SUCCEEDED]: handleTitleFetchSucceeded,\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TITLE_FAILED]: {\n\t\thandlers: [handleFailure]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN]: {\n\t\thandlers: [fetchDisplayColumnEffect]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN_STARTED]: {\n\t\thandlers: [handleStarted]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN_SUCCEEDED]: handleDisplayColumnFetchSucceeded,\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN_FAILED]: {\n\t\thandlers: [handleFailure]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO]: {\n\t\thandlers: [fetchTableInfoEffect]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO_STARTED]: {\n\t\thandlers: [handleStarted]\n\t},\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO_SUCCEEDED]: handleTableInfoFetchSucceeded,\n\t[CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO_FAILED]: {\n\t\thandlers: [handleFailure]\n\t}\n};\n","import {isEqual, get} from 'lodash';\nimport {t} from 'sn-translate';\nimport {TABLE_LABEL_MAP, CHROME_ONE_TAB_ACTIONS} from './chromeOneTab.effects';\nimport {INVALID_TITLE, UPDATE_ONE_TAB, UPDATE_ONE_TAB_TITLE} from '../../constants/constants';\nimport {getTableDisplayColumn} from '../../sn-workspace-tabs/snWorkspaceTabs.util';\n\nexport function initDisplayColumnOrTitle(props) {\n\tconst {properties: {tab}, dispatch} = props;\n\tconst { table, sys_id, tab_id } = tab;\n\tconst displayColumn = getTableDisplayColumn(table);\n\tconst tableLabel = TABLE_LABEL_MAP[table];\n\n\tif (sys_id === '-1') {\n\t\tif (tableLabel)\n\t\t\tupdateNewRecordTabTitle(dispatch, tableLabel, tab_id);\n\t\telse\n\t\t\tdispatch(CHROME_ONE_TAB_ACTIONS.FETCH_TABLE_INFO, {table});\n\t}\n\telse if (!displayColumn)\n\t\tdispatch(CHROME_ONE_TAB_ACTIONS.FETCH_DISPLAY_COLUMN, {table});\n\telse\n\t\tdispatch(CHROME_ONE_TAB_ACTIONS.FETCH_TITLE, {sys_id, table, field:displayColumn});\n\n}\n\n\nexport function updateNewRecordTabTitle(dispatch, tableLabel, tab_id) {\n\tconst title = (tableLabel === INVALID_TITLE) ? t('Invalid Table') : t('New {0}', tableLabel);\n\tdispatch(UPDATE_ONE_TAB, {type: UPDATE_ONE_TAB_TITLE, tab_id, title});\n}\n","import {isEmpty} from 'lodash';\nimport {getSelectedTab} from '../sn-workspace-tabs/snWorkspaceTabs.util';\nimport * as tabStorage from '../sn-workspace-tabs/snWorkspaceTabs.storage';\nimport {getModuleTab} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {preUserData, getBehaviorProp} from '../constants/presource.behaviors';\n\nlet _tableColumnMap = {};\n\nexport const setTableColumnMap = (table, displayColumnName) => _tableColumnMap = {..._tableColumnMap, [table]: displayColumnName };\n\nexport const getTableDisplayColumnName = (table) => _tableColumnMap[table];\n\nexport const findRecordDisplayValue = (table, record) => {\n\tlet titleField = _tableColumnMap[table];\n\treturn (record && titleField && record[titleField]) ? record[titleField].displayValue : '';\n};\n\nexport const getActiveModule = (tabData) => {\n\tif(!tabData || isEmpty(tabData))\n\t\treturn {};\n\tconst moduleTabData  = getModuleTab(tabData);\n\treturn getSelectedTab(moduleTabData);\n};\n\nexport const getModulebyId = (tabData, moduleId) => {\n\tif(!tabData || isEmpty(tabData))\n\t\treturn {};\n\tlet moduleData;\n\tgetModuleTab(tabData).tabList.forEach(_moduleData => {\n\t\tif(_moduleData.module && _moduleData.module.id === moduleId){\n\t\t\tmoduleData = _moduleData;\n\t\t\treturn;\n\t\t}\n\t});\n\treturn moduleData;\n};\n\nexport const getStringParams = (params) => {\n\tlet cleanParams = {};\n\tfor (const name in params) {\n\t\tif (params.hasOwnProperty(name))\n\t\t\tif (typeof params[name] === 'string' ||\n\t\t\t\ttypeof params[name] === 'number' ||\n\t\t\t\ttypeof params[name] === 'boolean')\n\t\t\t\tcleanParams[name] = params[name];\n\t}\n\treturn cleanParams;\n};\n\nexport const getBreadCrumbData = (tabData, activeModuleData) => {\n\tconst activeModule = activeModuleData ? getModulebyId(tabData, activeModuleData.id) : getActiveModule(tabData);\n\tconst {breadcrumbData} = activeModule || {};\n\treturn breadcrumbData ? [...breadcrumbData] : null;\n};\n\n// session constants\nlet userId = null;\nfunction _getUserId(state) {\n\treturn userId ? userId : getBehaviorProp(state, preUserData.name).sys_id;\n}\n\nexport const saveTabsInSessionStorage = (tabData, state) => tabStorage.saveTabs(tabData, _getUserId(state));\n\nexport const getTabsFromSessionStorage = (state) => tabStorage.loadTabs(_getUserId(state));\n","\nimport * as constants from '../constants/constants';\nimport {getModules} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {getParametersFromPath, redirectUrl, getParamsFromUri} from './snWorkspaceRouter.util';\nimport {getUrlFromSelectedContent} from './snWorkspaceRouter.contentParser';\nimport * as contentGenerators from './snWorkspaceRouter.contentGenerator';\n\nexport function getSelectedContentFromUrl(prevSelectedContent) {\n\tconst _hasDrillDown = options => Array.isArray(options) && options.length > 2 && (options[0] === constants.SUB_URL || (options[0] === constants.PARAMS_DIVIDER && options.indexOf(constants.SUB_URL) > 0));\n    \n\tlet {params: {path: {type, options}}} = getParametersFromPath('/:type/:options*');\n    \n\toptions = options ? options.split('/') : [];\n    \n\tif(!type) {\n\t\tredirectInvalidUrl(prevSelectedContent);\n\t\treturn null;\n\t}\n    \n\t// Special case for search\n\tif(type === constants.FULL_SEARCH_ITEM_TYPE) {\n\t\tif(!options[0]){\n\t\t\tredirectInvalidUrl(prevSelectedContent);\n\t\t\treturn null;\n\t\t}\n\t\treturn contentGenerators.getSelectedContent(type, decodeURIComponent(options[0]));\n\t}\n\n\t// Modules\n\tconst modules = getModules();\n\tif(modules[type]) {\n\t\tconst drilldown = _hasDrillDown(options) ? getSubPortion(options) : null;\n\t\treturn contentGenerators.getModuleContent(type, getParamsFromUri(options), drilldown);\n\t}\n\n\t// All other tabs\n\tconst args = contentGenerators.getSelectedContent(type, options);\n\tif(!args) {\n\t\tredirectInvalidUrl(prevSelectedContent);\n\t\treturn null;\n\t}\n\tconst subPortionArgs = getSubPortion(options);\n\tif(!subPortionArgs)\n\t\treturn args;\n    \n\treturn {...subPortionArgs, parent: {...args}};\n    \n}\n/**\n * Given selectedContent, return a tab payload for an invalid URL\n * @param selectedContent\n * @returns {*}\n * @private\n */\nfunction redirectInvalidUrl(selectedContent){\n\t// Redirect to selected tab\n\tconst url = getUrlFromSelectedContent(selectedContent);\n\tredirectUrl(url);\n}\n\n/**\n * For a given array of URL slugs, extract args that can be used to create a sub tab or drilldown\n * @param options\n * @returns {*}\n */\nfunction getSubPortion(options){\n\tconst subUrlIdx = options.findIndex(t => t === constants.SUB_URL);\n\tif(subUrlIdx < 0)\n\t\treturn false;\n\n\treturn contentGenerators.getSelectedContent(options[subUrlIdx + 1], options.slice(subUrlIdx + 2));\n}\n","// agent workspace app\nconst AW_APP_NAME = \"Agent Workspace\";\n\nlet _userId = null;\n\nexport function trackPage(userId) {\n\tif (_userId == null && /^[0-9a-f]{32}$/gi.test(userId)) {\n\t\tif (window.GlideWebAnalytics) {\n\t\t\t_userId = userId;\n\t\t\twindow.GlideWebAnalytics.trackPage({userId});\n\t\t}\n\t}\n}\n\nexport function trackEvent(key, value, additionalValue) {\n\tif (window.GlideWebAnalytics && _userId) {\n\t\twindow.GlideWebAnalytics.trackEvent(AW_APP_NAME, key, value, additionalValue);\n\t}\n}","import {getBasePath} from '../sn-workspace-router/snWorkspaceRouter.util'\n\nconst _isIE11 = !!window && !!window.MSInputMethodContext && !!document.documentMode;\nconst _isMobile = window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i);\nlet _wsSessionStorageKey = null;\n\nexport function isIE11() {\n\treturn _isIE11;\n}\n\nexport function isBrowserSupported() {\n\tlet supported = true;\n\n\tlet IEVer = -1;\n\n\tlet ua = window.navigator.userAgent;\n\n\tlet msie = ua.indexOf('MSIE ');\n\tif (msie > 0) {\n\t\tIEVer = parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n\t}\n\n\tlet trident = ua.indexOf('Trident/');\n\tif (trident > 0) { // IE 11 => return version number\n\t\tlet rv = ua.indexOf('rv:');\n\t\tIEVer = parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n\t}\n\n\tlet edge = ua.indexOf('Edge/');\n\tif (edge > 0) {\n\t\t// Edge (IE 12+) => return version number\n\t\tIEVer = parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n\t}\n\n\t//since we are not supporting any version of IE or Edge we can just check just > 0, once we support any versions then we have to change this\n\tif (IEVer > 0)\n\t\tsupported = false;\n\telse\n\t\tsupported = !_isMobile;\n\n\treturn supported;\n}\n\n\nexport function getWSSessionStorageKey() {\n\tif (!_wsSessionStorageKey) {\n\t\t_wsSessionStorageKey = \"workspaceTabsData\" + getBasePath().replace(/[\\W]+/g, \"_\");\n\t}\n\treturn _wsSessionStorageKey;\n}","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_popoverContainer.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","module.exports = __TECTONIC__lodash_4_17_4[\"find\"];","import {PICKER_CONDITION_PROP} from \"../../constants/constants\";\nimport {getAssignedElements, getElements} from \"./slotUtils\";\n\nlet componentIdModuleMap = {};\n\nexport function getModuleIdFromComponentId(componentId){\n\treturn componentIdModuleMap[componentId];\n}\n\nexport default function updateElementProp(node, moduleId, slot, payload) {\n\tif (!node)\n\t\treturn;\n\n\tconst slottedElements = getAssignedElements(node, slot);\n\n\tif (!slottedElements || !slottedElements.length > 0)\n\t\treturn;\n\n\tconst element = _getElementByModuleId(slottedElements, moduleId);\n\n\tif (element) {\n\t\tconst customElem = _getCustomElement(element);\n\n\t\tif (!customElem)\n\t\t\treturn;\n\n\t\t_buildComponentIdModuleMap(customElem, moduleId);\n\t\t_updateProps(customElem, payload);\n\t}\n}\n\nfunction _updateProps(element, payload) {\n\tconst props = Object.keys(payload);\n\tprops.forEach(prop => element[prop] = payload[prop]);\n}\n\nfunction _buildComponentIdModuleMap(element, moduleId) {\n\tconst componentId = element.getAttribute(['component-id']);\n\tif(!componentIdModuleMap[componentId])\n\t\tcomponentIdModuleMap[componentId] = moduleId;\n}\n\nfunction _getCustomElement(element) {\n\tconst slot = element.shadowRoot.querySelector('slot');\n\tif (slot)\n\t\treturn getElements(slot)[0];\n}\n\nfunction _getElementByModuleId(elements, moduleId) {\n\treturn elements.find(elem => {\n\t\tconst pickerCondition = elem.getAttribute(PICKER_CONDITION_PROP);\n\t\treturn pickerCondition && pickerCondition.indexOf(`module_id=${moduleId}`) > -1;\n\t});\n}\n","module.exports = __TECTONIC__$servicenow_now_modal;","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {default as ChromeTabs} from './chromeTabs';\nimport styles from './_chromeTabs.scss';\n\nexport default createCustomElement('sn-workspace-tab-bar', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: ChromeTabs\n\t},\n\n\tstyles,\n\n\tproperties: {\n\t\tselectedTabId: {},\n\t\tparentTabId: {},\n\t\ttabList: {},\n\t\ttype: {},\n\t\tnewMenu: {},\n\t\tcloseMenu: {},\n\t\tonNewTab: {},\n\t\tonClickTab: {},\n\t\tonCloseTab: {},\n\t\tonMenuClose: {},\n\t\ttabsMaxWidth: {}\n\t}\n});\n","export const chromeOneTabTitle_read = `query($sys_id: String) {\n\tGlideRecord_Query {\n\t\t{{table}} (sys_id: $sys_id) {\n\t\t\t_table_metadata {\n\t\t\t\tlabel\n\t\t\t}\n\t\t\t_results {\n\t\t\t\tsys_id {\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t\t{{field}} {\n\t\t\t\t\tvalue\n\t\t\t\t\tdisplayValue\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}`;\n\nexport const chromeOneTabDisplayColumn_read = `query($table: String!) {\n\tGlideDomain_Query {\n\t\ttableDescription(tableName: $table) {\n\t\t\tdisplayColumnName\n\t\t}\n\t}\n}`;\n\nexport const chromeOneTabTableInfo_read = `query($table: String!) {\n\tGlideDomain_Query {\n\t\ttableDescription(tableName: $table) {\n\t\t\tlabel\n\t\t}\n\t}\n}`;","import React, {Component, PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport OptionItem from '../chrome-popover/optionItem';\nimport { withKeyCmd } from '../chrome-menu-with-key-event/chromeMenuWithKeyEvent';\n\nclass ControlMenu extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t}\n\n\tgetMenuRef = (ref) => {\n\t\tif (ref)\n\t\t\tref.focus();\n\t};\n\n\trender() {\n\t\tconst {id, optionItems, highlightIdx, onItemClick} = this.props;\n\n\t\treturn (\n\t\t\t<ul id={id} className=\"sn-chrome-popover-list\" role=\"menu\" ref={this.getMenuRef} tabIndex=\"-1\">\n\t\t\t\t{optionItems.map( (m, i) => {\n\t\t\t\t\tlet key = (m.itemType === 'tab') ? m.tab_id : ( m.name || m.title) ;\n\t\t\t\t\tconst isHighlighted = highlightIdx === i;\n\t\t\t\t\treturn <OptionItem key={key} item={m} index={i} isHighlighted={isHighlighted} onItemClick={onItemClick}/>;\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nControlMenu.propTypes = {\n\toptionItems: PropTypes.array,\n\tonItemClick: PropTypes.func,\n};\n\nexport default withKeyCmd(ControlMenu);\n","import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {EXECUTE, MOVE_DOWN, MOVE_UP, TAB} from \"../../constants/constants\";\n\nexport const withKeyCmd = (WrappedComponent) => {\n\tclass withKeyCmdWrapper extends PureComponent {\n\t\tconstructor(props, context) {\n\t\t\tsuper(props, context);\n\n\t\t\tthis.state = {highlightIdx: -1, nodeIdx: -1};\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tconst { keyCmd, hidePopover, optionItems, onItemClick, onItemClose } = nextProps;\n\t\t\tconst { keyCmd: prevKeyCmd } = this.props;\n\t\t\tconst { highlightIdx, nodeIdx } = this.state;\n\t\t\tif (keyCmd) {\n\t\t\t\tconst { type, timeStamp, event } = keyCmd;\n\t\t\t\tif (!prevKeyCmd || timeStamp !== prevKeyCmd.timeStamp) {\n\t\t\t\t\tlet idx = -1;\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase MOVE_UP:\n\t\t\t\t\t\tcase MOVE_DOWN: {\n\t\t\t\t\t\t\tconst next = type === MOVE_UP ? this._moveUp : this._moveDown;\n\t\t\t\t\t\t\tlet startIdx = nodeIdx > -1 ? nodeIdx : highlightIdx;\n\t\t\t\t\t\t\tidx = this._findNextActiveIdx(startIdx, optionItems, next, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase EXECUTE: {\n\t\t\t\t\t\t\tif (nodeIdx > -1 || highlightIdx > -1) {\n\t\t\t\t\t\t\t\tif (nodeIdx > -1)\n\t\t\t\t\t\t\t\t\tonItemClose(optionItems[nodeIdx]);\n\t\t\t\t\t\t\t\telse //if (highlightIdx > -1)\n\t\t\t\t\t\t\t\t\tonItemClick(optionItems[highlightIdx], highlightIdx);\n\t\t\t\t\t\t\t\thidePopover();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase TAB: {\n\t\t\t\t\t\t\tlet tabs = optionItems.filter(it => it.itemType === 'tab');\n\t\t\t\t\t\t\tconst { shiftKey } = event;\n\t\t\t\t\t\t\tlet tabUpOut = shiftKey && nodeIdx < 1;\n\t\t\t\t\t\t\tlet tabDownOut = !shiftKey && nodeIdx === tabs.length - 1;\n\t\t\t\t\t\t\tif (tabs.length === 0 || tabUpOut || tabDownOut) {\n\t\t\t\t\t\t\t\thidePopover();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (idx > -1)\n\t\t\t\t\t\tthis.setState({highlightIdx: idx, nodeIdx: -1});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_findNextActiveIdx(i, optionItems, next, count) {\n\t\t\tif (count > optionItems.length)\n\t\t\t\treturn -1;\n\n\t\t\tcount++;\n\t\t\tlet idx = next(i);\n\t\t\tif (!optionItems[idx].disabled)\n\t\t\t\treturn idx;\n\n\t\t\treturn this._findNextActiveIdx(idx, optionItems, next, count);\n\t\t}\n\n\t\t_moveUp = (i) => {\n\t\t\treturn i - 1 > -1 ? i - 1 : this.props.optionItems.length - 1;\n\t\t};\n\n\t\t_moveDown = (i) => {\n\t\t\treturn i + 1 < this.props.optionItems.length ? i + 1 : 0;\n\t\t};\n\n\t\t_getFocusIdx = (i) => {\n\t\t\tthis.setState({nodeIdx: i, highlightIdx: -1});\n\t\t};\n\n\n\t\trender() {\n\t\t\treturn <WrappedComponent highlightIdx={this.state.highlightIdx} onNodeFocus={this._getFocusIdx} {...this.props} />;\n\t\t}\n\t}\n\n\twithKeyCmdWrapper.propTypes = {\n\t\tkeyCmd: PropTypes.object,\n\t\toptionItems: PropTypes.array,\n\t\tonItemClick: PropTypes.func\n\t};\n\n\treturn withKeyCmdWrapper;\n};","import {get} from 'lodash';\nimport {createPreSourceBehavior} from 'sn-uxpage-presource';\n\nimport {hasRole, isAdmin} from '../constants/ws_config';\nimport {getProperty} from '../constants/presource.behaviors';\n\n\n//label, icon, tooltip, and tooltipDirection come from the view layer.\n//tooltip and tooltipDirection are optional, we will use the label and 'right' respectively.\n/*\n// Status type options provided in sass-commons.\n/// % sn-presence-dot\n///   * is-available\n///   * is-busy\n///   * is-error\n///   * is-changes\n///   * is-informative\n///   * is-unsaved\n///   * is-hidden\n\nBadge type options provided in sass-commons. Badge can set a color and a type. See below for options.\n/// % sn-badge\n///   * is-last-child\n///   * has-badge-color-*\n///   @ sn-badge__account\n///   @ sn-badge__dark\n///   @ sn-badge__indicator\n///   @ sn-badge__danger\n///   @ sn-badge__primary\n///   @ sn-badge__success\n///   @ sn-badge__warning\n///\n*/\n\nconst _STATUS_2_CLASS_MAP = {\n\t'away': 'is-away',\n\t'offline': 'is-offline',\n\t'partially available': 'is-available-partial',\n\t'available': 'is-available',\n\t'busy': 'is-busy'\n};\n\nexport function getStatusClassName(status) {\n\tlet className = _STATUS_2_CLASS_MAP[status];\n\tif (!className)\n\t\tclassName = '';\n\n\treturn className;\n}\n\nfunction isButtonAvailable(bvData, agentRoles) {\n\tlet available = true;\n\tconst {roles, sys_props} = bvData;\n\n\tif (sys_props) {\n\t\tsys_props.forEach(reqProp => {\n\t\t\tif (!getProperty(reqProp, false))\n\t\t\t\tavailable = false;\n\t\t});\n\t}\n\n\tif (roles && available) {\n\t\tif (!isAdmin(agentRoles)) {\n\t\t\troles.forEach(reqRole => {\n\t\t\t\tif (!hasRole(agentRoles, reqRole))\n\t\t\t\t\tavailable = false;\n\t\t\t});\n\t\t}\n\t}\n\n\tif (available && bvData.id === 'ongoing') { //band-aid for DEF0103742. needs to remove later\n\t\tavailable = createPreSourceBehavior('sn-ongoing', { name: 'showOngoing',\n\t\t\ttransform: data => get(data, 'data.GlideMessagingAWA_Query.ongoing_presource.showOngoing', false)\n\t\t}).initialState;\n\t}\n\n\treturn available;\n}\n\nexport function initConfigData(moduleConfig, agentRoles) {\n\treturn moduleConfig\n\t\t.filter(b => isButtonAvailable(b, agentRoles))\n\t\t.map(b => {return {...b, id: b.id.trim()}});\n}\n","import isEqual from 'lodash/isEqual';\n\nimport { getModuleId } from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {findButtonById, isWindowType, mapSelectedToState, dispatchWSNavSelected, updateButton, updatePropertiesHelper} from './snWorkspaceToolbar.util';\n\nexport function setSelected(state, id, select) {\n\tconst {optionItems, selected, previousSelected} = state;\n\tlet button = findButtonById(optionItems, id);\n\n\tif (!button)\n\t\treturn;\n\n\tconst isWindow = isWindowType(button);\n\n\tif (!isWindow) {\n\t\tif (!select && selected !== id)\n\t\t\treturn state;\n\n\t\tif (!select && selected === id) {\n\t\t\tid = previousSelected;\n\t\t\tbutton = findButtonById(optionItems, id);\n\t\t}\n\t}\n\n\treturn mapSelectedToState(state, button, select);\n}\n\nexport const propertyChangedReducer = {\n\t['tabsData']: (coeffects) => {\n\t\tconst {\n\t\t\tproperties: prevProperties,\n\t\t\tupdateProperties,\n\t\t\taction: { payload },\n\t\t} = coeffects;\n\t\tconst { selected: prevSelected } = prevProperties;\n\t\tif (!payload.value) {\n\t\t\treturn false;\n\t\t}\n\t\tconst moduleId = getModuleId(payload.value);\n\n\t\t// If module has changed, we update selected in properties to reflect the new module.\n\t\tconst newProperties =\n\t\t\tprevSelected === moduleId\n\t\t\t\t? prevProperties\n\t\t\t\t: setSelected(prevProperties, moduleId, true);\n\n\t\tconst { optionItems } = newProperties;\n\n\t\tif (!optionItems) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Update properties, only if prevProperties and newProperties are different\n\t\tif (!isEqual(prevProperties, newProperties)) {\n\t\t\tupdatePropertiesHelper(updateProperties, newProperties);\n\t\t}\n\t},\n\t['updateModule']: ({ action, properties, updateProperties }) => {\n\t\tconst { value } = action.payload;\n\t\tconst newProps = updateButton(properties, value);\n\t\tconst index = properties.optionItems.findIndex(\n\t\t\t(item) => item.id === value.id\n\t\t);\n\t\tupdateProperties(() => {\n\t\t\treturn {\n\t\t\t\tpath: `optionItems[${index}]`,\n\t\t\t\tvalue: newProps.optionItems[index],\n\t\t\t\toperation: 'set',\n\t\t\t};\n\t\t});\n\t},\n\t['selected']: (coeffects) => dispatchWSNavSelected(coeffects),\n\t['windowSelected']: (coeffects) => dispatchWSNavSelected(coeffects),\n};\n\n// Return a no-op if the reducer doesn't exist\nexport const getPropertyChangedReducer = (name) =>\n\tpropertyChangedReducer.hasOwnProperty(name)\n\t\t? propertyChangedReducer[name]\n\t\t: () => {};\n\n","import {getElements} from \"../internal-components/chrome-tab-panels/slotUtils\";\n\nexport function updateToolbarProps(node, props) {\n\tif (!node)\n\t\treturn;\n\n\tconst rootNode = node.getRootNode();\n\tif (!rootNode)\n\t\treturn;\n\n\tconst activeSlotted = getAllElements(rootNode, 'sn-workspace-toolbar-button');\n\n\tif (activeSlotted && activeSlotted.length > 0) {\n\t\tactiveSlotted.forEach((element) => {\n\t\t\tconst moduleId = element.getAttribute('module-id');\n\t\t\tconst payload = props[moduleId];\n\n\t\t\tif (!payload)\n\t\t\t\treturn;\n\n\t\t\tconst items = Object.keys(payload);\n\t\t\titems.forEach(item => element[item] = payload[item]);\n\t\t})\n\t}\n}\n\nexport function getAllElements(rootNode, selector = 'slot') {\n\tconst slots = [...rootNode.querySelectorAll(selector)];\n\tif (selector !== 'slot') {\n\t\treturn slots;\n\t}\n\tlet assignedNodes = null;\n\tif (slots.length > 0) {\n\t\tassignedNodes = [];\n\t\tslots.forEach(slot => {\n\t\t\tassignedNodes = assignedNodes.concat([...getElements(slot)]);\n\t\t});\n\t}\n\n\treturn assignedNodes;\n}\n","module.exports = __TECTONIC__sn_component_error_handler;","import { createCustomElement } from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport { default as ChromeAlert } from './chromeAlert';\nimport styles from './_chromeAlert.scss';\n\nexport default createCustomElement('sn-workspace-notification-item', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: ChromeAlert\n\t},\n\n\tstyles,\n\n\tproperties: {\n\t\tmode: {},\n\t\talertSysId: {},\n\t\ttable: {},\n\t\tsysId: {},\n\t\theader: {},\n\t\tmessage: {},\n\t\tinfoIcon: {},\n\t\ttimeStamp: {},\n\t\tisRead: {},\n\t\tonClick: {}\n\t}\n});\n","import {t} from 'sn-translate';\nimport isNumber from 'lodash/isNumber';\nimport {getUserData} from '../ws-notification-tray/wsNotificationTray.util';\n\nconst MINUTES = 60 * 1000;\nconst DAY = 24 * 60 * 60 * 1000;\nconst WORD_LITERALS = {\n\tjustNow: t('just now'),\n\tminute: 'm',\n\thour: 'h',\n\tday: 'd'\n};\n\nexport function parseSystemTime(timestamp) {\n\tlet dateParsed = new Date(timestamp);\n\n\t// Safari and IE doesn't recognize the date format yyyy-mm-dd hh:mm:ss\n\tif (isNaN(dateParsed)) {\n\t\tlet time_arr = timestamp.replace(/-|:/g, ' ').split(' ');\n\t\ttime_arr[1] = time_arr[1]- '0' - 1;\n\t\tdateParsed = new Date(...time_arr);\n\t}\n\n\tconst currentOffset = -dateParsed.getTimezoneOffset() * MINUTES;\n\tlet offset = 0;\n\tconst {timeZoneOffset} = getUserData();\n\tif (isNumber(timeZoneOffset)) {\n\t\toffset += currentOffset - timeZoneOffset;\n\t}\n\n\t// timestamp is system time\n\toffset += currentOffset;\n\n\treturn dateParsed.getTime() + offset;\n}\n\nexport function getWords(date, daysDiff) {\n\tconst baseDate = new Date(Date.now());\n\tconst diffMills = baseDate - date;\n\n\tconst seconds = diffMills / 1000;\n\tconst minutes = seconds / 60;\n\tconst hours = minutes / 60;\n\t// const days = hours / 24;\n\n\tlet words = '';\n\tif (daysDiff === 0) {\n\t\tif (seconds < 60)\n\t\t\twords = WORD_LITERALS.justNow;\n\t\telse if (minutes < 60)\n\t\t\twords = t('{0}m ago', Math.floor(minutes));\n\t\telse if (hours < 24)\n\t\t\twords = t('{0}h ago', Math.floor(hours));\n\t}\n\telse if (daysDiff === 1) {\n\t\twords = getTime(date);\n\t}\n\telse if (daysDiff > 1 && daysDiff <= 7) {\n\t\twords = t('{0}d ago', daysDiff);\n\t}\n\telse {\n\t\twords = 'Older than 7 days'; // Shouldn't see this\n\t}\n\n\treturn words;\n}\n\nfunction getTime(date) {\n\tlet hh = date.getHours(), mm = date.getMinutes();\n\tlet suffix = 'AM';\n\tif (hh > 12) {\n\t\thh -= 12;\n\t\tsuffix = 'PM';\n\t}\n\tif (mm < 10) {\n\t\tmm = `0${mm}`;\n\t}\n\treturn `${hh}:${mm} ${suffix}`;\n}\n\nexport function daysBetween(baseDate, actualDate) {\n\tconst normalizedBaseDate = new Date(baseDate.getTime());\n\tnormalizedBaseDate.setHours(0, 0, 0);\n\tconst normalizedActualDate = new Date(actualDate.getTime());\n\tnormalizedActualDate.setHours(0, 0, 0);\n\n\tconst diff = normalizedBaseDate.getTime() - normalizedActualDate.getTime();\n\treturn (diff >= 0 || -1) * Math.round(Math.abs(diff / DAY));\n}\n\n\n","'use strict';\n\nimport {t} from 'sn-translate';\nimport {getUserData} from '../ws-notification-tray/wsNotificationTray.util';\n\nconst truncateMsg = (prefix, content) => {\n\tconst msg = prefix + content;\n\tlet msgContent = content;\n\tif (msg.length > 70) // suppose 70 is the max length\n\t\tmsgContent = content.slice(0, 70 - prefix.length - 4) + ' ...';\n\treturn msgContent;\n};\n\nconst buildMessage = (short_description, msgPrefix, priority) => {\n\tlet prefix = (msgPrefix && priority) ? `${msgPrefix} (${priority})` : (msgPrefix || priority || '');\n\tif (prefix)\n\t\tprefix += ':';\n\tconst content = short_description || t('Short Description field is empty');\n\tconst message = {\n\t\tprefix,\n\t\tcontent//: truncateMsg(prefix, content)\n\t};\n\treturn JSON.stringify(message);\n};\n\nfunction buildNewAssignedToastItem(payload) {\n\tconst { record_display_value, short_description, priority, table_label } = payload;\n\tconst title = {\n\t\tprefix: record_display_value || table_label,\n\t\tverb: t('is Assigned to'),\n\t\tsuffix: t('You')\n\t};\n\treturn {\n\t\ttitle: JSON.stringify(title),\n\t\tmessage: buildMessage(short_description, '', priority),\n\t\tinfoIcon: 'plus-fill'\n\t};\n}\n\nfunction buildUpdatedToastItem(payload) {\n\tconst { record_display_value, short_description, priority, table_label, updated_by, fields } = payload;\n\n\tlet title, msgPrefix = '';\n\tif (!updated_by) {\n\t\tlet prefix = '';\n\t\tif (fields.length === 1) {\n\t\t\tprefix = fields[0].field_label;\n\t\t\tmsgPrefix = record_display_value || table_label;\n\t\t}\n\t\telse {\n\t\t\tprefix = record_display_value || table_label;\n\t\t}\n\t\ttitle = {\n\t\t\tprefix,\n\t\t\tverb: t('has been updated')\n\t\t};\n\t}\n\telse {\n\t\tif (fields.length === 1) { // Single Field\n\t\t\ttitle = {\n\t\t\t\tprefix: fields[0].field_label,\n\t\t\t\tverb: t('updated by'),\n\t\t\t\tsuffix: updated_by\n\t\t\t};\n\t\t\tmsgPrefix = record_display_value || table_label;\n\t\t}\n\t\telse { // multiple fields or updated_by is empty\n\t\t\ttitle = {\n\t\t\t\tprefix: updated_by,\n\t\t\t\tverb: t('updated'),\n\t\t\t\tsuffix: record_display_value || table_label\n\t\t\t};\n\t\t}\n\t}\n\n\treturn {\n\t\ttitle: JSON.stringify(title),\n\t\tmessage: buildMessage(short_description, msgPrefix, priority),\n\t\tinfoIcon: 'exclamation-triangle-fill'\n\t};\n}\n\nexport function buildAlertItem(payload) {\n\tconst { table, sys_id, fields, time_stamp, alert_sys_id, is_read, raw_time_stamp } = payload;\n\n\tlet toastItem = {\n\t\titem_type: 'notification',\n\t\ttable,\n\t\tsys_id,\n\t\talert_sys_id,\n\t\ttime_stamp,\n\t\traw_time_stamp,\n\t\tis_read\n\t};\n\n\tconst assignedToMe = fields.find( f => f.field_name === 'assigned_to' && f.field_value === getUserData().sys_id);\n\tif (assignedToMe)\n\t\ttoastItem = {...toastItem, ...buildNewAssignedToastItem(payload)};\n\telse\n\t\ttoastItem = {...toastItem, ...buildUpdatedToastItem(payload)};\n\n\treturn toastItem;\n}\n","import {\n\tNOTIFICATIONS_ROOT_BEHAVIOR, NOTIFICATIONS_TOAST_BEHAVIOR, NOTIFICATIONS_TOAST_PROP, TOGGLE_NOTIFICATION_TRAY\n} from '../constants/constants';\nimport {getProviderPropSelector} from './snWorkspaceNotification.provider';\nimport {actionHandlers} from './snWorkspaceNotification.root.effects';\n\nexport const notificationsRootBehavior = {\n\tname: NOTIFICATIONS_ROOT_BEHAVIOR,\n\tactionHandlers\n};\n\nexport const notificationsToastBehavior = {\n\tname: NOTIFICATIONS_TOAST_BEHAVIOR,\n\tproperties: {\n\t\t[NOTIFICATIONS_TOAST_PROP]: {\n\t\t\tget default(){\n\t\t\t\treturn getProviderPropSelector(NOTIFICATIONS_TOAST_PROP);\n\t\t\t}\n\t\t}\n\t}\n};\n","/*\n* TODO: Move the provider functionality out of sn-workspace-notification-tray and into its own component\n*\n*/\n\nimport {\n\tNOTIFICATIONS_PROVIDER_TAG,\n} from '../constants/constants';\n\nlet notificationProvider;\nlet notificationProviderComponentId;\n\nfunction getNotificationProvider(){\n\tif(notificationProvider)\n\t\treturn notificationProvider;\n\n\tnotificationProvider = document.getElementsByTagName(NOTIFICATIONS_PROVIDER_TAG)[0];\n\n\treturn notificationProvider;\n}\n\nfunction setNotificationProviderProp(prop, value){\n\tlet provider = getNotificationProvider();\n\tprovider[prop] = value;\n}\nexport function toggleNotificationTray(show){\n\tsetNotificationProviderProp('show', show);\n}\n\nexport function selectNotification(notification){\n\tsetNotificationProviderProp('notificationSelected', notification);\n}\n\nexport function getProviderComponentId(){\n\tif(notificationProviderComponentId)\n\t\treturn notificationProviderComponentId;\n\n\tconst provider = getNotificationProvider();\n\tnotificationProviderComponentId = provider.getAttribute('component-id');\n\n\treturn notificationProviderComponentId;\n}\n\nexport function getProviderPropSelector(prop){\n\tconst componentId = getProviderComponentId();\n\treturn `@${componentId}/${prop}`;\n}\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport styles from './_snWorkspaceBreadcrumb.scss';\nimport {default as WsBreadCrumb} from './snWorkspaceBreadcrumb';\nimport {handlerMap} from './snWorkspaceBreadcrumb.effects';\nimport {preUserData} from '../constants/presource.behaviors';\nimport {BREADCRUMB_TABS_DATA_CHANGED} from '../constants/constants';\n\nexport default createCustomElement('sn-workspace-breadcrumb', {\n\trenderer: {\n\t\tview: WsBreadCrumb,\n\t\ttype: react\n\t},\n\tstyles,\n\tactionHandlers: handlerMap,\n\tbehaviors: [preUserData],\n\tproperties: {\n\t\ttabsData: {\n\t\t\tselectable: true,\n\t\t\tonChange(value, valuePrev, dispatch){\n\t\t\t\tdispatch(BREADCRUMB_TABS_DATA_CHANGED, value);\n\t\t\t}\n\t\t}\n\t}\n});\n","import {get} from 'lodash';\nimport {getModuleTab} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {updateTabById} from '../sn-workspace-tabs/snWorkspaceTabs.util';\nimport {getBreadCrumbData} from './snWorkspaceBreadcrumb.util';\n\nexport const mergeWithNewTabData = (tabData, state) => {\n\tlet newTabData = {...tabData};\n\tconst {setTabsProps : stateTabData} = state;\n\tconst {tabList} = getModuleTab(stateTabData);\n\n\ttabList.forEach(item=>{\n\t\tif(item.breadcrumbData)\n\t\t\tnewTabData = updateTabById(newTabData, item.tab_id, {breadcrumbData: [...item.breadcrumbData]});\n\t});\n\treturn newTabData;\n};\n\nexport const setBreadCrumbInModuleData = (tabData, hierarchyNodeData) => {\n\tconst {selectedTabId}= getModuleTab(tabData);\n\treturn updateTabById(tabData, selectedTabId, {breadcrumbData: hierarchyNodeData.map(node => ({...node, resolvedHierarchy: true }))});\n};\n\nexport const setSelectedItemInBreadCrumbData = (tabData, selectedItem) => {\n\t\n\tlet breadcrumbData = getBreadCrumbData(tabData) || [];\n\tconst {selectedTabId} = selectedItem.moduleData ? {selectedTabId: get(selectedItem,'moduleData.tab_id', '')} : getModuleTab(tabData);\n\n\tif(breadcrumbData.length === 0) \n\t\tbreadcrumbData.push(selectedItem);\n\telse{\n\t\tlet lastEle = breadcrumbData[breadcrumbData.length-1];\n\t\tif(lastEle.resolvedHierarchy)\n\t\t\tbreadcrumbData.push(selectedItem);\n\t\telse\n\t\t\tbreadcrumbData[breadcrumbData.length-1] = selectedItem;\n\t}\n\treturn updateTabById(tabData, selectedTabId, {breadcrumbData: [...breadcrumbData]});\n};\n\nexport const truncateBreadCrumbData = (tabData, index) => {\n\tconst {selectedTabId} = getModuleTab(tabData);\n\tlet breadcrumbData = getBreadCrumbData(tabData).splice(0);\n\tbreadcrumbData.splice(index+1);\n\treturn updateTabById(tabData, selectedTabId, {breadcrumbData: [...breadcrumbData]});\n};\n\nexport const removeBreadCrumbInModuleData = (tabData) => {\n\tconst {selectedTabId} = getModuleTab(tabData);\n\treturn updateTabById(tabData, selectedTabId, {breadcrumbData: []});\n};\n","import * as constants from '../constants/constants';\nimport {kebabCase} from 'lodash';\n\n/**\n * Given a selected content object, returns a URL for root and leaf content definitions\n * @param selectedContent\n * @returns {*}\n */\nexport function getUrlFromSelectedContent(selectedContent){\n\tif(!selectedContent)\n\t\treturn null;\n\n\tconst leafUrl = getUrlFromContentDefinition(selectedContent);\n\n\tlet rootContent = selectedContent.parent;\n\twhile(rootContent && rootContent.parent){\n\t\trootContent = rootContent.parent;\n\t}\n\n\tif(!rootContent)\n\t\treturn leafUrl;\n\n\tconst rootUrl = getUrlFromContentDefinition(rootContent)\n\n\tif(!rootUrl)\n\t\treturn leafUrl;\n\n\treturn `${rootUrl}/${constants.SUB_URL}${leafUrl}`;\n}\n\nfunction getUrlFromContentDefinition(contentDef){\n\tif(!contentDef)\n\t\treturn '';\n\n\tlet url = `/${contentDef.type}`;\n\tswitch(contentDef.type){\n\t\tcase constants.MODULE_ITEM_TYPE:\n\t\t\turl = `/${contentDef.module_id}`;\n\t\t\tbreak;\n\t\tcase constants.RECORD_ITEM_TYPE:\n\t\t\turl += `/${contentDef.table}/${contentDef.sys_id}`;\n\t\t\tbreak;\n\t\tcase constants.NEW_RECORD_ITEM_TYPE:\n\t\t\turl += `/${contentDef.table}/${contentDef.tab_id}`;\n\t\t\tbreak;\n\t\tcase constants.FULL_SEARCH_ITEM_TYPE:\n\t\t\turl += `/${encodeURIComponent(contentDef.searchTerm)}`; // TODO: switch search to custom renderer using params\n\t\t\tbreak;\n\t\tcase constants.CHAT_ITEM_TYPE:\n\t\t\turl += `/${contentDef.chatId}`; // TODO: switch chat to custom renderer using params\n\t\t\tbreak;\n\t\tcase constants.NON_RECORD_ITEM_TYPE:\n\t\t\turl += `/${contentDef.rendererType}`;\n\t\t\tif (contentDef.sys_id)\n\t\t\t\turl += `/${contentDef.sys_id}`;\n\t\t\tbreak;\n\t}\n\treturn url + getUriFromParams(contentDef.params);\n}\n\n/**\n * Construct a URL from a params object\n * @param tab\n * @returns {string}\n */\nfunction getUriFromParams(params){\n\tif(!params || params === {})\n\t\treturn '';\n\n\treturn '/params' + Object.keys(params).reduce((result, key)=>{\n\t\treturn `${result}/${encodeURIComponent(kebabCase(key))}/${encodeURIComponent(params[key])}`;\n\t}, '');\n}\n","import get from 'lodash/get';\n\nimport {t} from 'sn-translate';\nimport {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\n\nimport {HOME_PAGE_HINTS_TOGGLED} from '../constants/constants';\nimport {isValidSysId} from '../sn-workspace-tabs/snWorkspaceTabs.util';\nimport {loadShowHintsForUser, saveShowHintsForUser} from './snWorkspaceHome.util';\n\nexport const USER_INFO_ACTIONS = {\n\tUSER_INFO_INIT: 'USER_INFO_INIT',\n\tUSER_INFO_FETCH_STARTED: 'USER_INFO_FETCH_STARTED',\n\tUSER_INFO_FETCH_SUCCEEDED: 'USER_INFO_FETCH_SUCCEEDED',\n\tUSER_INFO_FETCH_FAILED: 'USER_INFO_FETCH_FAILED'\n};\n\nconst userInfoQuery = `\n\tquery($sys_id: String!) {\n\t\tGlideRecord_Query {\n\t\t\tsys_user (sys_id: $sys_id) {\n\t\t\t\t_results {\n\t\t\t\t\tlast_login_time {\n\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\n\n/**\n * Initialize the state\n */\nconst initStateEffect = createUpdateStateEffect((state, action) => {\n\tconst {firstName, sys_id: userSysId} = action.payload;\n\tconst greetings = t('Hello, {0}', firstName);\n\n\tconst showHints = loadShowHintsForUser(userSysId, true);\n\n\treturn {...state, greetings, userSysId, showHints};\n\n});\n\n/**\n * GraphQL Effect for fetching additional user data from server\n */\nconst userInfoFetchEffect = createGraphQLEffect(userInfoQuery, {\n\tvariableList: ['sys_id'],\n\tstartActionType: USER_INFO_ACTIONS.USER_INFO_FETCH_STARTED,\n\tsuccessActionType: USER_INFO_ACTIONS.USER_INFO_FETCH_SUCCEEDED,\n\terrorActionType: USER_INFO_ACTIONS.USER_INFO_FETCH_FAILED\n});\n\n/**\n * Helper function for adding GraphQL effect via an interceptor\n * @param effects\n * @param coeffects\n * @returns {*}\n */\nfunction addUserInfoFetchInterceptor({effects, coeffects}){\n\n\tconst {action: {payload: {sys_id}}} = coeffects;\n\n\tif(!isValidSysId(sys_id))\n\t\treturn {effects, coeffects};\n\n\t// Pass along the coeffects to the user InfoQueryEffect args\n\tconst {args} = userInfoFetchEffect;\n\tconst effectWithCoeffects = {...userInfoFetchEffect, args: [...args, coeffects]};\n\n \treturn {\n\t\tcoeffects,\n\t\teffects: [...effects, effectWithCoeffects]\n\t}\n}\n\n/**\n * Effect for storing user data in state and fetching additional data from server via an interceptor\n * @type {{interceptors: *[]}}\n */\nconst userInfoInitEffect = {\n\t...initStateEffect,\n\tinterceptors: [{\n\t\tafter: addUserInfoFetchInterceptor\n\t}]\n};\n\n\n/**\n * Effect for storing the result of the GraphQL request in state\n */\nconst userInfoFetchedEffect = createUpdateStateEffect((state, action) => {\n\tconst results = get(action.payload.data, 'GlideRecord_Query.sys_user._results', []);\n\n\tlet newState = state;\n\tif (results.length > 0 && results[0]) {\n\t\tlet lastLoginTime = results[0].last_login_time.displayValue;\n\t\tif (lastLoginTime) {\n\t\t\tconst login_time = t('Logged in at {0}', lastLoginTime);\n\t\t\tnewState = {...state, login_time};\n\t\t}\n\t}\n\n\treturn newState;\n});\n\n\n/**\n * Interceptor that adds the save hints effect to the effects pipeline\n * @param effects\n * @param coeffects\n * @returns {*}\n */\nfunction addShowHintsInterceptor({effects, coeffects}){\n\tconst {state: {showHints, userSysId}} = coeffects;\n\n\treturn {\n\t\tcoeffects,\n\t\teffects: [...effects, {effect: saveShowHintsForUser, args: [userSysId, !showHints]}]\n\t};\n}\n\n/**\n * Effect that toggle hints on or off\n * @type {{interceptors: *[]}}\n */\nconst toggleHintsEffect = {\n\t...createUpdateStateEffect((state)=>({...state, showHints: !state.showHints})),\n\tinterceptors: [addShowHintsInterceptor]\n};\n\nexport const actionHandlers = {\n\t[USER_INFO_ACTIONS.USER_INFO_INIT]: userInfoInitEffect,\n\t[USER_INFO_ACTIONS.USER_INFO_FETCH_SUCCEEDED]: userInfoFetchedEffect,\n\t[HOME_PAGE_HINTS_TOGGLED]: toggleHintsEffect\n};\n","import {camelCase, intersection, get} from 'lodash';\nimport {findDOMNode} from 'react-dom';\n\nexport function parsePickerCondition(condition) {\n\tconst parts = condition.split('^');\n\tconst conditions = {};\n\n\tparts.forEach(part => {\n\t\tconst isRoles = part.startsWith('roles');\n\t\tlet token = isRoles ? 'IN' : '=';\n\t\tconst pieces = part.split(token);\n\t\tconst result = isRoles ? pieces[1].split(',') : pieces[1];\n\n\t\tconditions[camelCase(pieces[0])] = result;\n\t});\n\n\treturn conditions;\n}\n\nexport function validateConditions(props, pickerState, conditions) {\n\tlet shouldRender = true;\n\n\tconst keys = Object.keys(conditions);\n\tif (keys.length > 0) {\n\t\tkeys.forEach(key => {\n\t\t\tif (key === \"roles\") {\n\t\t\t\tconst currentRoles = get(props, 'behaviors.agentRoles', null);\n\t\t\t\tconst result = intersection(currentRoles, conditions[key]);\n\t\t\t\tif (!result || result.length <= 0)\n\t\t\t\t\tshouldRender = false;\n\t\t\t} else {\n\t\t\t\tif (conditions[key] !== pickerState[key])\n\t\t\t\t\tshouldRender = false;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn shouldRender;\n}\n\nexport function activateDeferredElement(node) {\n\tif (!node)\n\t\treturn;\n\n\tconst rootNode = node.getRootNode();\n\tif (!rootNode)\n\t\treturn;\n\n\tconst assignedElement = getAssignedElement(rootNode);\n\tif (assignedElement && assignedElement.hasAttribute('defer')) {\n\t\twindow.requestAnimationFrame(() => assignedElement.removeAttribute('defer'));\n\t}\n}\n\nexport function getAssignedElement(rootNode) {\n\tconst slots = [...rootNode.querySelectorAll('slot')];\n\tconst foundSlot = slots.length > 0 ? slots[0] : null;\n\n\tif (foundSlot)\n\t\treturn foundSlot.assignedNodes().filter(node => node.nodeType === 1)[0];\n}\n\nexport function setProp(node, propName, propValue){\n\tif(!node)\n\t\treturn;\n\n\tconst rootNode = node.getRootNode();\n\tif(!rootNode)\n\t\treturn;\n\n\tconst assignedElement = getAssignedElement(rootNode);\n\tif(!assignedElement)\n\t\treturn;\n\n\tassignedElement[propName] = propValue;\n}\n","export {default as wsHeaderElement} from './sn-workspace-header/snWorkspaceHeaderElement';\nexport {default as wsNavElement} from './sn-workspace-nav/snWorkspaceNavElement';\nexport {default as wsContentElement} from './sn-workspace-content/snWorkspaceContentElement';\nexport {default as wsTabsElement} from './sn-workspace-tabs/snWorkspaceTabsElement';\nexport {default as snWorkspaceSubTabElement} from './sn-workspace-sub-tabs/snWorkspaceSubTabsElement';\nexport {default as layoutModeButtonsElement} from './sn-workspace-toolbar/snWorkspaceToolbarElement';\nexport {default as snWorkspaceLayoutElement} from './sn-workspace-layout/snWorkspaceLayoutElement';\nexport {default as snWorkspaceMainElement} from './sn-workspace-main/snWorkspaceMainElement';\nexport {default as wsPrimaryContent} from './sn-workspace-primary-content/snWorkspacePrimaryContentElement';\nexport {default as snWorkspaceHomeElement} from './sn-workspace-home/snWorkspaceHomeElement';\nexport {default as snWorkspaceBreadcrumbElement} from './sn-workspace-breadcrumb/snWorkspaceBreadcrumbElement';\nexport {default as snWorkspaceToolbarButton} from './sn-workspace-toolbar-button/snWorkspaceToolbarButtonElement';\nexport {default as snUXContentOption} from './sn-ux-content-option/snUxContentOptionElement';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {default as WsHeader} from './snWorkspaceHeader';\nimport {actionHandlers} from './snWorkspaceHeader.effects';\nimport {preUserData, preUserRoles, preWsConfigSysId, wsNotificationEnabled} from '../constants/presource.behaviors';\nimport {userPreferencesBehavior} from 'sn-user-preferences';\nimport styles from './_snWorkspaceHeader.scss';\nimport {notificationBadgeCountInitPropBehavior, notificationShowTrayInitPropBehavior, configItemsLinksInitPropBehavior, selectedPanelIdInitPropBehavior} from '../utils/behaviors/selectableProps.behaviors';\n\nexport default createCustomElement('sn-workspace-header', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsHeader\n\t},\n\n\tstyles,\n\n\tbehaviors: [\n\t\tpreUserData,\n\t\tpreWsConfigSysId,\n\t\tpreUserRoles,\n\t\tuserPreferencesBehavior,\n\t\twsNotificationEnabled,\n\t\tnotificationBadgeCountInitPropBehavior,\n\t\tnotificationShowTrayInitPropBehavior,\n\t\tconfigItemsLinksInitPropBehavior,\n\t\tselectedPanelIdInitPropBehavior,\n\t],\n\n\tproperties: {\n\t\tbrandLogo: { default: 'now-logo'},\n\t\tshowUserMenu: {default: false},\n\t\t//notificationBadgeCount: {default: 0},\n\t\t//notificationShowTray: {default: false},\n\t\t/* FixMe: check for configItemsLinks as an array, will fail for string*/\n\t\tconfigItemsLinks : {},\n\t\t//selectedPanelId : { default : '' }\n\t},\n\n\tinitialState: {\n\t\tmenuUserPrefs: [],\n\t\tshowAlertBadgeCount: false,\n\t\tconfigLinks : {isPrimaryContent : false, items : []}\n\t},\n\n\tactionHandlers\n});\n","import React from 'react';\nimport {debounce, get} from 'lodash';\nimport react from '@servicenow/ui-renderer-react';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport '@servicenow/now-button';\n\nimport {preUserData, preUserRoles, preWsConfigSysId, wsNotificationEnabled, getBehaviorProp} from '../constants/presource.behaviors';\n\nimport {wsBrandTheme, isAdmin, isWSAdmin, wsLogo} from \"../constants/ws_config\";\n\nimport {\n\tSHOW_BADGE_COUNT,\n\tUSER_MENU_TEXT, USER_MENU_CLICKED\n} from \"../constants/constants\";\nimport * as WSConf from '../constants/ws_config';\nimport {USER_PREF_UPDATE} from 'sn-user-preferences';\n\nimport PopoverContainer from '../internal-components/chrome-popover/popoverContainer';\n\nimport UserDropdown from './userDropdown/userDropdown';\nimport {trackPage} from '../utils/tracking';\n\nimport '../sn-workspace-notification/ws-notification-icon/wsNotificationIconElement';\n\nimport {getPreferenceMenu} from './userDropdown/userDropdown.util';\n\nconst {createSlot} = react;\n\nclass WsHeader extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmenuUserPrefs: [],\n\t\t\tshowAlertBadgeCount: false,\n\t\t\tconfigLinks : [],\n\t\t\tshowTooltip: false\n\t\t};\n\n\t\tthis.notificationEnabled = getBehaviorProp(props, wsNotificationEnabled.name, false);\n\t\tthis.user = getBehaviorProp(props, preUserData.name);\n\t\tconst userRoles = getBehaviorProp(props, preUserRoles.name);\n\t\tthis.showConfigurations = isWSAdmin(userRoles) || isAdmin(userRoles);\n\t\tthis.wsConfigSysId = getBehaviorProp(props, preWsConfigSysId.name);\n\t}\n\n\tcomponentDidMount() {\n\t\ttrackPage(this.user.sys_id);\n\t\tthis.setUserPrefs(this.props.properties.userPreferences);\n\t\tthis.setConfigLinks(this.props.properties.configItemsLinks, this.props.properties.selectedPanelId);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst {properties: {userPreferences, configItemsLinks, selectedPanelId}} = this.props;\n\t\tconst {properties: {userPreferences: userPrefsNext, configItemsLinks : configItemsLinksNext, selectedPanelId : selectedPanelIdNext}} = nextProps;\n\n\t\tif (userPreferences !== userPrefsNext)\n\t\t\tthis.setUserPrefs(userPrefsNext);\n\n\t\tif (configItemsLinks !== configItemsLinksNext)\n\t\t\tthis.setConfigLinks(configItemsLinksNext, selectedPanelIdNext);\n\n\t\tif (selectedPanelId !== selectedPanelIdNext)\n\t\t\tthis.setConfigLinks(configItemsLinksNext, selectedPanelIdNext);\n\t}\n\n\tsetConfigLinks(configItemsLinks, selectedPanelId) {\n\t\t/*ToDo: check for configItemsLinks as an array, will fail for string*/\n\t\tif(configItemsLinks && selectedPanelId) {\n\t\t\tconst panelLinks = configItemsLinks.find(item => item.panelId === selectedPanelId) || {};\n\t\t\tconst {isPrimaryContent=false, items=[]} = panelLinks;\n\t\t\tthis.setState({configLinks : { isPrimaryContent, items }});\n\t\t}\n\t}\n\n\tsetUserPrefs(userPreferences){\n\t\tif(!userPreferences)\n\t\t\treturn;\n\n\t\tconst showAlertBadgeCount = get(userPreferences.find(pref => pref.name === SHOW_BADGE_COUNT), 'value') === 'true';\n\t\tconst menuUserPrefs = WSConf.getPagePropUserPref() ? getPreferenceMenu(this.notificationEnabled, userPreferences) : null;\n\t\tthis.setState({showAlertBadgeCount, menuUserPrefs});\n\t}\n\n\thandleClick = (pref, e, callback) => {\n\t\tif (e)\n\t\t\te.preventDefault();\n\n\t\tconst {name, value} = pref;\n\t\tlet newValue = value === 'true' ? 'false' : 'true';\n\n\t\tthis.props.dispatch(USER_PREF_UPDATE, {name, value: newValue});\n\n\t\tif (callback)\n\t\t\tcallback(e);\n\t};\n\n\tonUserMenuClick = (e, force)=>{\n\t\te && e.stopPropagation();\n\t\tconst {properties: {showUserMenu}} = this.props;\n\t\tconst result = typeof force === 'undefined' ? !showUserMenu : force;\n\t\tthis.props.dispatch(USER_MENU_CLICKED, {showUserMenu: result});\n\t};\n\n\t_showTooltip = () => {\n\t\tthis.setState({showTooltip: true});\n\t};\n\n\t_hideTooltip = () => {\n\t\tthis.setState({showTooltip: false});\n\t};\n\n\t_renderAvatar(showUserMenu) {\n\n\t\tconst tooltipText = USER_MENU_TEXT;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<button id=\"avatar-trigger\"\n\t\t\t\t\tref={button => this.avatarTriggerEl = button}\n\t\t\t\t\tclassName=\"sn-workspace-header-button\"\n\t\t\t\t\taria-label=\"User Settings\"\n\t\t\t\t\taria-expanded={showUserMenu}\n\t\t\t\t\taria-controls={showUserMenu ? 'user-dropdown-menu' : null}\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\tonClick={this.onUserMenuClick}\n\t\t\t\t\tonFocus={this._showTooltip}\n\t\t\t\t\tonBlur={this._hideTooltip}\n\t\t\t\t>\n\t\t\t\t\t<now-avatar size=\"sm\" user-name={`${this.user.firstName} ${this.user.lastName}`} image-src={`/${this.user.avatar}`}/>\n\t\t\t\t\t<div id=\"now-icon-id\" ref={div => this.targetRef = div} onMouseOver={this._showTooltip} onMouseOut={this._hideTooltip}>\n\t\t\t\t\t\t<now-icon className=\"dropdown\" icon=\"caret-down-outline\" size=\"sm\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\n\t\t\t\t<now-tooltip target-ref={this.targetRef} manage-opened opened={this.state.showTooltip} content={tooltipText} position={['bottom-start top-center']}/>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\t_renderBrandLogo() {\n\n\t\t// second check is needed to workaround a db bug where when the logo is deleted,\n\t\t// the reference in sys_aw_master_config never gets updated back to null.\n\t\tconst src = (wsBrandTheme.logo && (wsBrandTheme.logo === wsLogo )) ?\n\t\t\t`${wsBrandTheme.logo}.iix` : `/styles/images/now-logo.svg`;\n\n\n\t\treturn (\n\t\t\t<div className=\"sn-workspace-header-content\">\n\t\t\t\t<div className=\"sn-workspace-header-branding\">\n\t\t\t\t<img src={src} alt=\"Custom Logo\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_renderSearch() {\n\t\treturn WSConf.getPagePropSearch() ? (\n\t\t\t<div className=\"sn-workspace-header-global-search\">\n\t\t\t\t{createSlot(null, 'global-search')}\n\t\t\t</div>\n\t\t) : null;\n\t}\n\n\trender() {\n\t\tif (!this.user || !this.props.properties)\n\t\t\treturn null;\n\n\t\tconst { properties: {showUserMenu}} = this.props;\n\n\t\treturn (\n\t\t\t<header className=\"sn-workspace-header\">\n\t\t\t\t{this._renderBrandLogo()}\n\t\t\t\t<div className=\"sn-workspace-header-content\">\n\t\t\t\t\t{this._renderSearch()}\n\t\t\t\t\t<sn-workspace-notification-icon show-badge-count={this.state.showAlertBadgeCount}\n\t\t\t\t\t\tbadge-count={this.props.properties.notificationBadgeCount}\n\t\t\t\t\t\tshow-tray={this.props.properties.notificationShowTray}\n\t\t\t\t\t/>\n\t\t\t\t\t{this._renderAvatar(showUserMenu)}\n\t\t\t\t\t<PopoverContainer\n\t\t\t\t\t\ttriggerEl={this.avatarTriggerEl}\n\t\t\t\t\t\tshow={showUserMenu}\n\t\t\t\t\t\tonToggle={this.onUserMenuClick}\n\t\t\t\t\t\tclassNames={'user-menu'}\n\t\t\t\t\t\tpersistOnClick={true} >\n\t\t\t\t\t\t<UserDropdown prefs={this.state.menuUserPrefs} configLinks={this.state.configLinks} showConfigurations={this.showConfigurations} user={this.user} wsConfigSysId={this.wsConfigSysId} onClick={this.handleClick} />\n\t\t\t\t\t</PopoverContainer>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\nexport default WsHeader;\n","module.exports = __TECTONIC__$servicenow_now_avatar;","module.exports = __TECTONIC__lodash_4_17_4[\"clamp\"];","import {findDOMNode} from 'react-dom';\n\nexport default function renderDeferredSlot(component, slotName) {\n\tconst node = findDOMNode(component);\n\tif (!node)\n\t\treturn;\n\t\n\tconst rootNode = node.getRootNode();\n\tif (!rootNode)\n\t\treturn;\n\t\n\tconst activeSlotted = rootNode.host.querySelector(`[slot='${slotName}']`);\n\tif (activeSlotted && activeSlotted.hasAttribute('defer')) {\n\t\twindow.requestAnimationFrame(() => activeSlotted.removeAttribute('defer'));\n\t}\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = __TECTONIC__path_to_regexp_3_1_0;","module.exports = __TECTONIC__qs_6_9_0;","/**\n * Provides a filter that can be applied over GQL query\n * _results collection.  Filters by unique table names.\n * Assumes item data structure like:\n *\n *    {\n *        \"table\": {\n *            \"value\": \"...\",\n *        }\n *    }\n *\n * Side effect: filters out objects with null/undefined table names\n *\n * @returns {function(*)} the filter\n */\nexport const uniqueTablesFilter = () => {\n\tlet uniqueNames = {};\n\treturn t => {\n\t\tlet tableName = t.table && t.table.value || null;\n\t\tif (tableName === null || uniqueNames.hasOwnProperty(tableName))\n\t\t\treturn false;\n\t\tuniqueNames[t.table.value] = true;\n\t\treturn true;\n\t};\n};\n\n/**\n * Provides a filter that can be applied over GQL query\n * _results collection.  Filters out tables that either\n * have canCreate == false, or do not have that property\n * specified.  The absence of that property implies that\n * canRead == false, which itself implies canCreate == false\n *\n * Assumes item data structure like:\n *\n *     {\n *         tableDetailsSubQuery: {\n *             GlideDomain_Query: {\n *                 tableDescription: {\n *                     canCreate: true/false\n *                 }\n *             }\n *         }\n *     }\n *\n * @returns {function(*)} the filter\n */\nexport const canCreateFilter = () => c => {\n\treturn c.tableDetailsSubQuery &&\n\t\tc.tableDetailsSubQuery.GlideDomain_Query &&\n\t\tc.tableDetailsSubQuery.GlideDomain_Query.tableDescription &&\n\t\tc.tableDetailsSubQuery.GlideDomain_Query.tableDescription.canCreate;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}\", \"\"]);\n\n// exports\n","import find from 'lodash/find';\n\nexport default (node, path) => find(path, n => n === node);\n","const LEFT = 'left',\n\tBOTTOM = 'bottom',\n\tTOP = 'top',\n\tRIGHT = 'right',\n\tVISIBLE = 'visible',\n\tAUTO = 'auto';\n\nexport function updateDropdownPosition(triggerEl, dropdownEl, hoverEnabled, align) {\n\tif (hoverEnabled)\n\t\treturn triggerEl ? getCenterPositioning(triggerEl, dropdownEl, 5, BOTTOM) : null;\n\telse {\n\t\tif (align) {\n\t\t\treturn getAlignedPositioning(align, triggerEl, dropdownEl);\n\t\t} else {\n\t\t\treturn getEdgePositioning();\n\t\t}\n\t}\n}\n\nfunction getCenterPositioning(target, tooltip, offset, placement) {\n\tif (!target || !tooltip)\n\t\treturn;\n\n\tconst targetRect = target.getBoundingClientRect();\n\tconst tooltipRect = tooltip.getBoundingClientRect();\n\n\tlet horizontalCenterOffset = (targetRect.width - tooltipRect.width) / 2;\n\tlet verticalCenterOffset = (targetRect.height - tooltipRect.height) / 2;\n\tlet targetLeft = targetRect.left;\n\tlet targetTop = targetRect.top;\n\tconst OFFSET = offset;\n\n\tlet tooltipLeft, tooltipTop;\n\n\tswitch(placement || TOP) {\n\t\tcase TOP:\n\t\t\ttooltipLeft = targetLeft + horizontalCenterOffset;\n\t\t\ttooltipTop = targetTop - tooltipRect.height - OFFSET;\n\t\t\tbreak;\n\t\tcase BOTTOM:\n\t\t\ttooltipTop = targetRect.bottom + OFFSET;\n\t\t\ttooltipLeft = targetLeft + horizontalCenterOffset;\n\t\t\tbreak;\n\t\tcase RIGHT:\n\t\t\ttooltipLeft = targetLeft + targetRect.width + OFFSET;\n\t\t\ttooltipTop = targetTop + verticalCenterOffset;\n\t\t\tbreak;\n\t\tcase LEFT:\n\t\t\ttooltipLeft = targetLeft - tooltipRect.width - OFFSET;\n\t\t\ttooltipTop = targetTop + verticalCenterOffset;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tlet top = tooltipTop;\n\tlet left = tooltipLeft;\n\tlet right = AUTO;\n\tlet bottom;\n\n\t//reposition tooltip if it doesn't fit in the viewport.\n\t//this reposition does not work for all cases right now. It will only check for the opposite case to be true.\n\tif (placement === TOP && targetRect.top <= tooltipRect.height + OFFSET) {\n\t\ttop = targetRect.bottom + OFFSET;\n\t\tbottom = AUTO;\n\t}\n\n\tif (placement === BOTTOM && ((window.innerHeight - targetRect.bottom) <= (tooltipRect.height + OFFSET))) {\n\t\ttop = targetTop - tooltipRect.height - OFFSET;\n\t\tbottom = AUTO;\n\t}\n\n\tif (placement === LEFT && targetRect.left <= (tooltipRect.width + OFFSET)) {\n\t\tleft = targetLeft + targetRect.width + OFFSET;\n\t\tright = AUTO;\n\t}\n\n\tif (placement === RIGHT && ((targetRect.right - window.innerWidth) <= (tooltipRect.width + OFFSET))) {\n\t\tleft = targetLeft - tooltipRect.width - OFFSET;\n\t\tright = AUTO;\n\t}\n\n\treturn {\n\t\ttop,\n\t\tleft,\n\t\tright,\n\t\tbottom\n\t};\n}\n\n//Calculate positioning in menu\nfunction getEdgePositioning() {\n\treturn {\n\t\tright: 0,\n\t\ttop: 10\n\t};\n}\n\nfunction getAlignedPositioning(align, triggerEl, dropdownEl) {\n\tif (align === LEFT) {\n\t\tconst windowWidth = window.innerWidth;\n\t\tconst {right, width} = dropdownEl.getBoundingClientRect();\n\t\tconst {width: triggerWidth} = triggerEl.getBoundingClientRect();\n\n\t\t//reposition if there is no space to the right\n\t\tif (windowWidth-right < 0)\n\t\t\treturn {right: 0, top: 10};\n\n\t\treturn {left: triggerWidth * -1, top: 10};\n\t}\n}\n","import React, {Component} from 'react';\nimport {isEqual, replace} from 'lodash';\nimport '@servicenow/now-icon';\nimport {t} from 'sn-translate';\nimport {MOVE_DOWN, MOVE_UP, TAB, WS_CONFIG_ADMIN_PATH} from \"../../constants/constants\";\nimport UserDropdownItem from './userDropdownItem';\nimport {clearTabs} from \"../../sn-workspace-tabs/snWorkspaceTabs.storage\";\nimport {getShadowRoot, resolveURL} from \"./userDropdown.util\";\nimport {getBasePath} from '../../sn-workspace-router/snWorkspaceRouter.util';\n\nclass UserDropdown extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis._initMenuItems();\n\n\t\tthis.lastFocused = null;\t\t\t// on blur the last focused element is stored\n\t\tthis.focused = null;\t\t\t\t// on focus the focused element is stored\n\n\t\tthis.state = {\n\t\t\tshowSettings: false,\t\t\t// whether or not the settings menu is open\n\t\t\tselectedIndex: 0,\t\t\t\t// index of a selected parent\n\t\t\tkeyCmd: null,\t\t\t\t\t// keyboard input that is received (MOVE_UP | MOVE_DOWN | EXECUTE)\n\t\t\tshowConfigLinks: false\n\t\t};\n\t}\n\n\t_initMenuItems() {\n\t\tthis.logoutItem = {\n\t\t\tonClick: this.logout,\n\t\t\thref: this._getLogoutUrl(),\n\t\t\ttabIndex: -1,\n\t\t\ttarget: \"_self\",\n\t\t\ttext: t('Logout')\n\t\t};\n\n\t\tthis.configWSItem = {\n\t\t\tonClick: this.navigatToWS,\n\t\t\thref: 'void',\n\t\t\ttabIndex: 1,\n\t\t\ttarget: 'Configure Workspace',\n\t\t\ttext: t('Configure Workspace')\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t// for accessibility, we assign the shadowRoot once so we can use the activeElement property to determine focused elements.\n\t\tthis.shadowRoot = getShadowRoot(this.elem);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst {keyCmd} = this.props;\n\t\tconst {keyCmd: nextKeyCmd} = nextProps;\n\n\n\t\t// if a next key command is received, we want to handle the command\n\t\tif (nextKeyCmd && !isEqual(keyCmd, nextKeyCmd)) {\n\t\t\t// Make sure we only handle key commands if they come from different times.\n\t\t\tthis._handleKeyCmd(nextKeyCmd);\n\t\t}\n\t}\n\n\t/**\n\t * Responsible for determining which index and/or child index is being selected by\n\t * the key commands received.\n\t *\n\t * @param keyCmd\n\t * @private\n\t */\n\t_handleKeyCmd(keyCmd) {\n\t\tconst {selectedIndex: originalSelectedIndex, showSettings, showConfigLinks} = this.state;\n\t\tlet selectedIndex = originalSelectedIndex;\n\t\tconst type = keyCmd.type;\n\t\tconst menuItems = this.menuItems;\n\t\tconst numTotalItems = menuItems.length;\n\n\t\tswitch(type) {\n\t\t\tcase MOVE_UP:\n\t\t\t\tif (selectedIndex === null)\n\t\t\t\t\tselectedIndex = 0;\n\t\t\t\telse\n\t\t\t\t\tselectedIndex -= 1;\n\n\t\t\t\tif (selectedIndex < 0)\n\t\t\t\t\tselectedIndex = numTotalItems - 1;\n\n\t\t\t\tbreak;\n\t\t\tcase MOVE_DOWN:\n\t\t\t\tif (selectedIndex === null)\n\t\t\t\t\tselectedIndex = 0;\n\t\t\t\telse\n\t\t\t\t\tselectedIndex += 1;\n\n\t\t\t\tif (selectedIndex > numTotalItems - 1)\n\t\t\t\t\tselectedIndex = selectedIndex - numTotalItems;\n\n\t\t\t\tbreak;\n\t\t\tcase TAB:\n\t\t\t\tconst event = keyCmd.event;\n\n\t\t\t\t// if we are on the first item, we need to close the dropdown once the focus is out of the menu.\n\t\t\t\tif ((!event.shiftKey || event.shiftKey) && !showSettings && !showConfigLinks && selectedIndex === 0)\n\t\t\t\t\tthis.hidePopover();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tlet newState = {keyCmd};\n\n\t\tif (originalSelectedIndex !== selectedIndex)\n\t\t\tnewState = {...newState, selectedIndex};\n\n\t\tif (!isEqual(newState, this.state))\n\t\t\tthis.setState(newState);\n\t}\n\n\thidePopover = () => {\n\t\tconst {hidePopover} = this.props;\n\n\t\tif (typeof hidePopover === 'function')\n\t\t\thidePopover();\n\t};\n\n\tresetSelection = (e) => {\n\t\tlet newState = this.state;\n\t\tnewState.selectedIndex = null;\n\t\tthis.setState(newState);\n\t};\n\n\thandleClick = (e, onClick) => {\n\t\tif (!e || e.detail === 0 || (e.clientX === 0 && e.clientY === 0))\n\t\t\tonClick(e);\n\t\telse\n\t\t\tonClick(e, this.resetSelection);\n\t};\n\n\ttoggleSettings = (e, callback) => {\n\t\tthis.setState({showSettings: !this.state.showSettings}, () => {\n\t\t\tif (callback)\n\t\t\t\tcallback(e);\n\t\t});\n\t};\n\n\ttoggleConfigPage = (e, callback) => {\n\t\tthis.setState({showConfigLinks: !this.state.showConfigLinks}, () => {\n\t\t\tif (callback)\n\t\t\t\tcallback(e);\n\t\t});\n\t};\n\n\tlogout = () => {\n\t\tthis.hidePopover();\n\t\tclearTabs();\n\t};\n\n\tnavigatToWS = () => {\n\t\tconst url = this._getConfigWSUrl();\n\t\tconst confgWS = 'Configure_Workspace';\n\t\twindow.open(url, confgWS).focus();\n\t}\n\n\t_getLogoutUrl() {\n\t\tconst basePath = getBasePath();\n\t\treturn '/logout.do?sysparm_goto_url=' + encodeURI(basePath);\n\t}\n\n\t_getConfigWSUrl() {\n\t\tconst {wsConfigSysId} = this.props;\n\t\treturn resolveURL(replace(WS_CONFIG_ADMIN_PATH, '${APPID}', `${wsConfigSysId}`));\n\t}\n\n\tisSelectedItem(elemIdx) {\n\t\treturn elemIdx === this.state.selectedIndex;\n\t}\n\n\tbuildMenuItems() {\n\t\t//TODO: move menuItems to state and update it in ComponentWillReceiveProps\n\t\tconst {prefs, showConfigurations, configLinks : {items, isPrimaryContent}} = this.props;\n\t\tlet menuItems = [this.logoutItem];\n\n\t\tif (prefs && prefs.length) {\n\t\t\tconst settingsIcon = this.state.showSettings ? 'chevron-up-outline' : 'chevron-down-outline';\n\t\t\tmenuItems.splice(0, 0, {\n\t\t\t\thref: 'void',\n\t\t\t\ttext: t('Settings'),\n\t\t\t\ttabIndex: 0,\n\t\t\t\tonClick: this.toggleSettings,\n\t\t\t\ticon: <now-icon component-id={'user-menu-popover-section-arrow'} icon={settingsIcon} />,\n\t\t\t\tonKeyUp: this.onInteractiveKeyUp,\n\t\t\t\taria: {\n\t\t\t\t\t'aria-haspopup': true,\n\t\t\t\t\t'aria-controls': 'chrome-user-pref-sub-menu'\n\t\t\t\t},\n\t\t\t\tprefs\n\t\t\t});\n\t\t}\n\n\t\t// only user with workspace admin role should see these links\n\t\tif(showConfigurations) {\n\t\t\tmenuItems.splice(1, 0, this.configWSItem);\n\n\t\t\tif(items && items.length) {\n\t\t\t\tif(isPrimaryContent) {\n\t\t\t\t\t//starting 2 after the configure workspace link (0=settings,1=configure workspace,2=this)\n\t\t\t\t\titems.map((item, idx)=>{\n\t\t\t\t\t\tconst {key, label, url} = item;\n\t\t\t\t\t\tlet linkURL = resolveURL(url);\n\t\t\t\t\t\tmenuItems.splice(2+idx, 0, {\n\t\t\t\t\t\t\tonClick: linkURL,\n\t\t\t\t\t\t\thref: 'void',\n\t\t\t\t\t\t\ttabIndex: 1,\n\t\t\t\t\t\t\ttarget: key,\n\t\t\t\t\t\t\ttext: t(label)\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst configIcon = this.state.showConfigLinks ? 'chevron-up-outline' : 'chevron-down-outline';\n\t\t\t\t\tmenuItems.splice(2, 0, {\n\t\t\t\t\t\thref: 'void',\n\t\t\t\t\t\ttext: t('Configure Page'),\n\t\t\t\t\t\ttabIndex: 0,\n\t\t\t\t\t\tonClick: this.toggleConfigPage,\n\t\t\t\t\t\ticon: <now-icon component-id={'config-menu-popover-section-arrow'} icon={configIcon} />,\n\t\t\t\t\t\tonKeyUp: this.onInteractiveKeyUp,\n\t\t\t\t\t\taria: {\n\t\t\t\t\t\t\t'aria-haspopup': true,\n\t\t\t\t\t\t\t'aria-controls': 'chrome-configure-links-menu'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfigLinks : items\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn menuItems;\n\t}\n\n\t_onBlur = (e) => {\n\t\tthis.lastFocused = e.target;\n\n\t\t// handle the closing of the dropdown if the tab focus is outside of the dropdown\n\t\twindow.requestAnimationFrame(() => {\n\t\t\tif (this.focused === this.lastFocused)\n\t\t\t\tthis.hidePopover();\n\t\t});\n\t};\n\n\t_onFocus = () => {\n\t\tthis.focused = this.shadowRoot ? this.shadowRoot.activeElement : null;\n\t};\n\n\t_setRef = (elem) => {\n\t\tthis.elem = elem;\n\t};\n\n\t_setFocused = (elem) => {\n\t\tthis.focused = elem;\n\t};\n\n\trender() {\n\t\tthis.menuItems = this.buildMenuItems();\n\t\tconst {keyCmd} = this.state;\n\n\t\treturn (\n\t\t\t<ul id=\"user-dropdown-menu\" className=\"sn-chrome-popover-list\" ref={this._setRef} onBlur={this._onBlur} onFocus={this._onFocus} role=\"menu\" tabIndex=\"-1\">\n\t\t\t\t{this.menuItems.map((item, idx) => {\n\t\t\t\t\tconst isSelectedItem = this.isSelectedItem(idx);\n\t\t\t\t\treturn <UserDropdownItem\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tidx={idx}\n\t\t\t\t\t\thandleClick={this.handleClick}\n\t\t\t\t\t\tkeyCmd={keyCmd}\n\t\t\t\t\t\tfocusedElem={this.focused}\n\t\t\t\t\t\tisSelected={isSelectedItem}\n\t\t\t\t\t\tshowSettings={this.state.showSettings}\n\t\t\t\t\t\tshowConfigLinks={this.state.showConfigLinks}\n\t\t\t\t\t\tsetFocused={this._setFocused}\n\t\t\t\t\t\t{...item}\n\t\t\t\t\t/>;\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nUserDropdown.propTypes = {};\nexport default UserDropdown;\n","import React, {Component} from 'react';\nimport {t} from 'sn-translate';\nimport {isEqual, find} from 'lodash';\nimport './userDropdownToggleElement';\nimport {EXECUTE} from \"../../constants/constants\";\nimport {resolveURL} from './userDropdown.util';\n\nclass UserDropdownItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.isSelected)\n\t\t\tthis._setFocus();\n\t}\n\n\t_setFocus() {\n\t\tconst {setFocused} = this.props;\n\n\t\tif (this.itemRef) {\n\t\t\tthis.itemRef.focus();\n\t\t\tsetFocused(this.itemRef);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst {isSelected, keyCmd} = this.props;\n\t\tconst {isSelected: nextIsSelected, keyCmd: nextKeyCmd, focusedElem, href} = nextProps;\n\n\t\t// If the current item gets selected, highlight it/focus it.\n\t\tif (isSelected !== nextIsSelected && nextIsSelected) {\n\t\t\tthis._setFocus();\n\t\t}\n\n\t\t// because we are now using focus, we need to handle the space key manually.\n\t\tif (focusedElem === this.itemRef && href === 'void' && !isEqual(keyCmd, nextKeyCmd) && nextKeyCmd.type === EXECUTE) {\n\t\t\tthis.onClick();\n\t\t}\n\t}\n\n\tsetItemRef = (el) => {\n\t\tthis.itemRef = el;\n\t};\n\n\tonClick = (e) => {\n\t\tconst {href, onClick, handleClick} = this.props;\n\n\t\tif (href === 'void' && e)\n\t\t\te.preventDefault();\n\n\t\thandleClick(e, onClick);\n\t};\n\n\tonConfigureItem = (e, link) => {\n\t\te.preventDefault();\n\t\twindow.open(resolveURL(link.url), link.key).focus();\n\t}\n\n\trenderPreferences(preferenceGroups){\n\t\treturn (\n\t\t\t<ul key={'children_settings'} id=\"chrome-user-pref-sub-menu\" className={\"sn-chrome-popover-list -nested\"} role=\"menu\" aria-label=\"submenu\">\n\t\t\t\t{preferenceGroups.map((group)=>\n\t\t\t\t\t<React.Fragment key={group.name}>\n\t\t\t\t\t\t<li className=\"sn-chrome-popover-header\" role=\"presentation\">\n\t\t\t\t\t\t\t<span className=\"sn-chrome-popover-text\">{group.label}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t{group.preferences.map((pref) => {\n\t\t\t\t\t\t\treturn <sn-workspace-user-dropdown-toggle pref={pref} key={pref.name}/>;\n\t\t\t\t\t\t})}\n\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t);\n\t}\n\n\trenderConfigLinks(links) {\n\t\treturn (\n\t\t\t<ul key={'children_links'} id=\"chrome-configure-links-menu\" className=\"sn-chrome-popover-list -nested\" role=\"menu\" aria-label=\"submenu\">\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<li key=\"configure-link-note\" className=\"sn-chrome-popover-header\" role=\"presentation\">\n\t\t\t\t\t\t<span className=\"sn-chrome-popover-text\">{t('Select item to configure')}</span>\n\t\t\t\t\t</li>\t\t\n\t\t\t\t\t{links.map((link, idx)=>\n\t\t\t\t\t\t<li key={`configure-${idx}`} className=\"sn-chrome-popover-list-item\" role=\"presentation\">\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" onClick={e => this.onConfigureItem(e, link)} className=\"sn-chrome-popover-list-item-config-link\"><span className=\"sn-chrome-popover-text\">{t(link.label)}</span></a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t</React.Fragment>\n\t\t\t</ul>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {isSelected, href, text, tabIndex, icon, aria, target, prefs, showSettings, showConfigLinks, childSelectedIndex, configLinks} = this.props;\n\t\tconst selectedClassName = isSelected && childSelectedIndex === null? 'is-hover' : '';\n\n\t\tlet newHref = href || null;\n\t\tlet newTarget = target || null;\n\n\t\tif (newHref === 'void')\n\t\t\tnewHref = '';\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<li className={`sn-chrome-popover-list-item`} role=\"presentation\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName={`sn-chrome-popover-list-item-link ${selectedClassName}`}\n\t\t\t\t\t\tid={text.toLowerCase()}\n\t\t\t\t\t\tref={this.setItemRef}\n\t\t\t\t\t\thref={newHref}\n\t\t\t\t\t\tonClick={this.onClick}\n\t\t\t\t\t\ttarget={newTarget}\n\t\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t\t\t{...aria}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"sn-chrome-popover-text\">{text}</span>\n\t\t\t\t\t\t{icon}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t{showSettings && prefs ?\n\t\t\t\t\tthis.renderPreferences(prefs) : null\n\t\t\t\t}\n\t\t\t\t{showConfigLinks && configLinks ?\n\t\t\t\t\tthis.renderConfigLinks(configLinks) : null\n\t\t\t\t}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default UserDropdownItem;\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {EDS_TOGGLE_CHECKED_SET} from \"../../constants/constants\";\nimport {default as userDropdownToggle} from \"./userDropdownToggle\";\nimport {userPreferencesBehavior, USER_PREF_UPDATE} from 'sn-user-preferences';\nimport styles from \"../../internal-components/chrome-popover/_popoverContainer.scss\";\n\n\nexport default createCustomElement('sn-workspace-user-dropdown-toggle', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: userDropdownToggle\n\t},\n\n\tstyles,\n\n\tbehaviors: [userPreferencesBehavior],\n\n\tproperties: {\n\t\tpref: {default: null},\n\t\tisSelected: {default: false}\n\t},\n\n\tactions: {\n\t\t[EDS_TOGGLE_CHECKED_SET]: {\n\t\t\thandlers: [{\n\t\t\t\tfn({action: {payload: {userPref, value}}, dispatch}){\n\t\t\t\t\tif(!userPref)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tconst newValue = value ? 'true' : 'false';\n\n\t\t\t\t\tdispatch(USER_PREF_UPDATE, {name: userPref, value: newValue});\n\n\t\t\t\t}\n\t\t}]\n\t}\n}\n});\n\n","import React, {Component} from 'react';\nimport '@servicenow/now-toggle';\nimport {EDS_TOGGLE_CHECKED_SET} from \"../../constants/constants\";\n\n\nclass userDropdownToggle extends Component {//({properties: {pref, isSelected}, dispatch}) {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tif(!this.props.properties.pref)\n\t\t\treturn null;\n\n\t\tconst {properties: {pref: {name, value, label}, isSelected}, dispatch} = this.props;\n\t\tconst prefId = `sn-input-${name}`;\n\t\tconst hoverClassName = (isSelected) ? 'is-hover' : '';\n\t\tconst isChecked = (value === 'true' || value === true);\n\n\t\treturn (\n\t\t\t<li key={prefId} className={'sn-chrome-popover-list-item'} role=\"presentation\">\n\t\t\t\t<div className={`sn-chrome-popover-list-item-link ${hoverClassName}`} role=\"presentation\">\n\t\t\t\t\t<label className={\"sn-chrome-popover-text\"}\n\t\t\t\t\t\t   htmlFor={prefId}\n\t\t\t\t\t\t   role=\"menuitem\"\n\t\t\t\t\t\t   id={name}\n\t\t\t\t\t\t   onClick={()=>{dispatch(EDS_TOGGLE_CHECKED_SET, {userPref: name, value: !isChecked}) }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</label>\n\t\t\t\t\t<now-toggle\n\t\t\t\t\t\tid={prefId}\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tchecked={isChecked ? true : null}\n\t\t\t\t\t\tconfig-aria={\n\t\t\t\t\t\t\t{\"aria-label\": label}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tappend-to-payload={{userPref: name}}\n\t\t\t\t\t/>\n\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nexport default userDropdownToggle;\n\n","module.exports = __TECTONIC__$servicenow_now_toggle;","module.exports = __TECTONIC__lodash_4_17_4[\"isEmpty\"];","module.exports = __TECTONIC__lodash_4_17_4[\"isString\"];","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport WsNotificationIcon from './wsNotificationIcon';\nimport {wsNotificationEnabled} from '../../constants/presource.behaviors';\nimport styles from './_wsNotificationIcon.scss';\n\nexport default createCustomElement('sn-workspace-notification-icon', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsNotificationIcon\n\t},\n\n\tstyles,\n\n\tbehaviors: [wsNotificationEnabled],\n\n\tproperties: {\n\t\tshowBadgeCount: {default: false},\n\t\tbadgeCount: {default: 0},\n\t\tshowTray: {default: false}\n\t}\n});\n\n\n","import React from 'react';\nimport {t} from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-badge';\nimport '@servicenow/now-tooltip';\n\nimport * as constants from '../../constants/constants';\nimport {wsNotificationEnabled, getBehaviorProp} from '../../constants/presource.behaviors';\n\nclass WsNotificationIcon extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.showIcon = getBehaviorProp(props, wsNotificationEnabled.name, false);\n\t}\n\n\tcomponentDidMount() {\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst {properties: {showTray}} = this.props;\n\t\tconst {showTray: prevShowTray} = prevProps;\n\t\tif (!prevShowTray && showTray) {\n\t\t\tdocument.body.addEventListener('keyup', this.onKeyUp);\n\t\t\tdocument.body.addEventListener('click', this.onClickOutSide);\n\t\t}\n\t\telse if (prevShowTray && !showTray) {\n\t\t\tdocument.body.removeEventListener('keyup', this.onKeyUp);\n\t\t\tdocument.body.removeEventListener('click', this.onClickOutSide);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tdocument.body.removeEventListener('keyup', this.onKeyUp);\n\t\tdocument.body.removeEventListener('click', this.onClickOutSide);\n\t}\n\n\tonKeyUp = (e) => {\n\t\tif (e.code === 'Escape') {\n\t\t\tthis.onClickOutSide();\n\t\t\tthis.iconRef.focus();\n\t\t}\n\t};\n\n\tonClickOutSide = () => {\n\t\tconst show = false;\n\t\tthis.props.dispatch(constants.PROPERTIES_SET, {showTray: show});\n\t\tthis.props.dispatch(constants.TOGGLE_NOTIFICATION_TRAY, {show});\n\t};\n\n\tonClickAlertBadge = (e) => {\n\t\te.stopPropagation();\n\t\tconst {properties: {showTray}} = this.props;\n\t\tconst newShowTray = !showTray;\n\t\tthis.props.dispatch(constants.PROPERTIES_SET, {showTray: newShowTray});\n\t\tthis.props.dispatch(constants.TOGGLE_NOTIFICATION_TRAY, {show: newShowTray});\n\t};\n\n\tgetRef = (ref) => {\n\t\tthis.iconRef = ref;\n\t};\n\n\trenderCounterBadge = () => {\n\t\tconst {properties: {badgeCount, showBadgeCount}} = this.props;\n\t\treturn badgeCount && showBadgeCount ?\n\t\t\t<now-badge round size=\"sm\" status=\"critical\" value={badgeCount} variant=\"primary\"></now-badge>\n\t\t\t: null;\n\t};\n\n\t_getAriaBadgeText = () => {\n\t\tconst {properties: {badgeCount}} = this.props;\n\n\t\tif (badgeCount === 0)\n\t\t\treturn 'Notification';\n\n\t\tif (badgeCount === 1)\n\t\t\treturn badgeCount + ' Notification';\n\n\t\treturn badgeCount + \" Notifications\";\n\t};\n\n\trender() {\n\t\tif (!this.showIcon)\n\t\t\treturn null;\n\t\tconst {properties: {showTray}} = this.props;\n\n\t\tconst badgeText = this._getAriaBadgeText();\n\t\tconst tooltipText = t('Notifications');\n\t\treturn (\n            <div>\n                <button className=\"sn-workspace-header-button\"\n                    aria-haspopup=\"true\"\n                    aria-label={t(\"{0}\", badgeText)}\n                    aria-expanded={showTray}\n                    onClick={this.onClickAlertBadge}\n                    ref={this.getRef}\n                >\n                    <now-icon icon=\"bell-outline\" size=\"lg\"/>\n                    {this.renderCounterBadge()}\n                </button>\n\t\t\t\t<now-tooltip target-ref={this.iconRef} content={tooltipText} />\n            </div>\n        );\n\t}\n}\n\nexport default WsNotificationIcon;\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_wsNotificationIcon.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-workspace-header-button{align-items:center;background:transparent;border:1px solid transparent;color:RGB(var(--now-color--neutral-4,191,197,198));cursor:pointer;display:inline-flex;height:2rem;font-family:inherit;font-size:1rem;justify-content:center;line-height:inherit;margin:0 0 0 .5rem;min-width:2rem;position:relative;white-space:nowrap;vertical-align:middle;overflow:visible;padding:0 3px}.sn-workspace-header-button::-moz-focus-inner{border-style:none}.sn-workspace-header-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-workspace-header-button.is-hover,.sn-workspace-header-button:hover{background:RGBA(var(--now-color--primary-1,30,133,109),.5)}.sn-workspace-header-button.is-selected{background:RGB(var(--now-color--primary-1,30,133,109));color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-workspace-header-button>now-badge{position:absolute;right:-.25rem;top:-.25rem}\", \"\"]);\n\n// exports\n","import {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {\n\tUSER_MENU_CLICKED,\n\tUSER_PREFERENCES_UPDATED\n} from '../constants/constants';\n\nexport const actionHandlers = {\n\t[USER_MENU_CLICKED]: createUpdateStateEffect((state, {payload: {showUserMenu = null}})=> {\n\t\tif(showUserMenu === null)\n\t\t\treturn state;\n\n\t\treturn {...state, properties: {...state.properties, showUserMenu}};\n\t}),\n\t[USER_PREFERENCES_UPDATED]: createUpdateStateEffect((state, {payload: {showAlertBadgeCount, menuUserPrefs}}) => { \n\t\treturn {...state, showAlertBadgeCount, menuUserPrefs};\n\t})\n}; \n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceHeader.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-avatar,.sn-avatar-container,:host(sn-avatar){align-items:center;display:inline-flex}.sn-avatar{background:#e9ede9;background-position:50%;background-size:cover;border-radius:50%;color:#165c53;flex:0 0 auto;justify-content:center;line-height:1;position:relative}.sn-avatar:focus{outline:none}.sn-avatar.has-error{background:#ffdadc}.sn-avatar.is-loading{background:#f1f1f1}.sn-avatar__square{border-radius:0}.sn-avatar__xs{width:16px;height:16px;font:10px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1}.sn-avatar__xs+.sn-avatar--user{font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 0 0 4px}.sn-avatar__sm{width:20px;height:20px;font:10px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1}.sn-avatar__sm+.sn-avatar--user{font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 0 0 8px}.sn-avatar__md{width:32px;height:32px;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1}.sn-avatar__md+.sn-avatar--user{padding:0 0 0 12px}.sn-avatar__lg,.sn-avatar__md+.sn-avatar--user{font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-avatar__lg{width:40px;height:40px;line-height:1}.sn-avatar__lg+.sn-avatar--user{font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 0 0 16px}.sn-avatar__xl{width:52px;height:52px;font:18px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1}.sn-avatar__xl+.sn-avatar--user{font:24px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 0 0 12px}.sn-avatar__xxl{width:64px;height:64px;font:20px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1}.sn-avatar__xxl+.sn-avatar--user{font:24px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 0 0 12px}.sn-avatar--user{color:#4a4a4a}.sn-agent-assist-section--header--container .sn-avatar-container,.sn-btn .sn-avatar-container,:host(sn-avatar.context-agent-assist-section--header--container),:host(sn-avatar.context-button){margin:0 8px 0 0}.sn-card table .sn-avatar-container .sn-avatar--user,:host(sn-avatar.context-card table) .sn-avatar--user{font-size:12px}.sn-card--content .sn-avatar-container,.sn-chat-queue--content .sn-avatar-container,:host(sn-avatar.context-card--content),:host(sn-avatar.context-chat-queue--content){margin:0 8px 0 0}.sn-cti .sn-avatar-container{flex:0 0 auto;flex-direction:column}.sn-cti .sn-avatar-container .sn-avatar{width:90px;height:90px}.sn-cti .sn-avatar-container .sn-avatar--user{padding:0}:host(sn-avatar.context-cti){flex:0 0 auto;flex-direction:column}:host(sn-avatar.context-cti) .sn-avatar{width:90px;height:90px}:host(sn-avatar.context-cti) .sn-avatar--user{padding:0}.sn-dropdown .sn-list-group--item .sn-avatar-container,:host(sn-avatar.context-dropdown.context-list-group--item){margin:0 8px 0 0}.sn-form-header--content .sn-avatar-container,:host(sn-avatar.context-form-header--content){margin:0 16px 0 0}.sn-pill .sn-avatar-container,.sn-select .sn-avatar-container,:host(sn-avatar.context-pill){flex:0 0 auto;margin-right:8px}.sn-select .sn-avatar-container+span{flex:1 1 auto}:host(sn-avatar.context-select){flex:0 0 auto;margin-right:8px}:host(sn-avatar.context-select)+span{flex:1 1 auto}*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}.sn-workspace-header{width:100%;height:auto;align-items:center;background:RGB(var(--now-color--brand-1,41,62,64));display:flex;flex:0 0 auto;justify-content:center;min-height:3rem;height:100%;overflow:visible;padding:0 1rem}.sn-workspace-header-content{align-items:center;display:inline-flex;flex:1 1 auto;position:relative}.sn-workspace-header-content:last-of-type{justify-content:flex-end}.sn-workspace-header-branding{align-items:center;color:#fff;display:flex;height:1.5rem;line-height:1}.sn-workspace-header-branding>img{max-height:1.5rem;max-width:25rem}.sn-workspace-header-global-search{max-width:60rem;width:100%}.sn-workspace-header-button{align-items:center;background:transparent;border:1px solid transparent;color:RGB(var(--now-color--neutral-4,191,197,198));cursor:pointer;display:inline-flex;height:2rem;font-family:inherit;font-size:1rem;justify-content:center;line-height:inherit;margin:0 0 0 .5rem;min-width:2rem;padding-bottom:0;padding-top:0;position:relative;white-space:nowrap;vertical-align:middle}.sn-workspace-header-button::-moz-focus-inner{border-style:none}.sn-workspace-header-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-workspace-header-button.is-hover,.sn-workspace-header-button:hover{background:RGBA(var(--now-color--primary-1,30,133,109),.5)}.sn-workspace-header-button.is-selected{background:RGB(var(--now-color--primary-1,30,133,109));color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-workspace-header-button>now-badge{position:absolute;right:-.25rem;top:-.25rem}.sn-workspace-header-button>now-icon.dropdown{flex:0 0 auto;margin-left:.25rem}.sn-workspace-header .user-menu{width:13.125rem}\", \"\"]);\n\n// exports\n","import {COMPONENT_ID, SN_WORKSPACE_LAYOUT, SN_WORKSPACE_NOTIFICATION_TRAY} from \"../constants/constants\";\n\nlet componentIds = {};\n\n/**\n * Get any selectable properties from sn-workspace-layout (root).\n * @param propName\n * @returns {{}}\n */\nexport function getSelectableRootProps(propName) {\n\treturn getSelectableProp(SN_WORKSPACE_LAYOUT, propName);\n}\n\nexport function getSelectableAlertProps(propName) {\n\treturn getSelectableProp(SN_WORKSPACE_NOTIFICATION_TRAY, propName);\n}\n\n/**\n * This utility function is being provided to work around the fact that we don't want to make any metadata\n * changes for defining selectable properties on components. As a result on the first component bootstrap, we will\n * manually get the component id from the component the implementor cares about and create the selectable property string\n * and apply it to the component.\n *\n * Usage:\n * getSelectableProp('sn-workspace-layout', 'tabsData');\n *\n * Returns:\n * '@[component-id of layout]/tabsData'\n *\n * @param componentName\n * @param propName\n * @returns {*}\n */\nexport function getSelectableProp(componentName, propName) {\n\tlet componentId = componentIds[componentName] || null;\n\tif (!componentId) {\n\t\tconst snWorkspaceLayout = document.getElementsByTagName(componentName);\n\t\tif (!snWorkspaceLayout.length)\n\t\t\treturn {};\n\t\tcomponentId = snWorkspaceLayout[0].getAttribute(COMPONENT_ID);\n\t\tcomponentIds[componentName] = componentId;\n\t}\n\n\treturn `@${componentId}/${propName}`;\n}\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {default as WsNav} from './snWorkspaceNav';\n\nexport default createCustomElement('sn-workspace-nav', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsNav,\n\t},\n\tactionTypesToProps: {\n\t\tWORKSPACE_NAV_SELECTED: 'toolbar'\n\t}\n});\n","import React from 'react';\nimport react from '@servicenow/ui-renderer-react';\nimport style from './_snWorkspaceNav.scss';\n\nimport {renderDeferredSlot} from '../utils'\nimport {FULL_PAGE_TARGET, MASTER_DETAIL_TARGET} from \"../constants/constants\";\n\nclass WsNav extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.deferred = {\n\t\t\tlist: true,\n\t\t\tchat: true\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps) {\n\t\tconst {toolbar: {type}} = nextProps;\n\t\treturn type === FULL_PAGE_TARGET || type === MASTER_DETAIL_TARGET;\n\t}\n\n\n\tcomponentDidUpdate(){\n\t\tconst {toolbar} = this.props;\n\t\tif (!toolbar)\n\t\t\treturn null;\n\n\t\tconst {select, content} = toolbar;\n\n\t\tif(!this.deferred[select])\n\t\t\treturn;\n\n\t\tif (content) //if list or chat\n\t\t\trenderDeferredSlot(this, content);\n\t\telse\n\t\t\treturn;\n\n\t\tthis.deferred[select] = false;\n\t}\n\n\trender() {\n\t\tconst {toolbar} = this.props;\n\t\tif (!toolbar)\n\t\t\treturn null;\n\n\t\tconst {action, content} = toolbar;\n\n\t\tif(!action)\n\t\t\treturn null;\n\n\t\treturn (\n\t\t\t<div id=\"ws-nav\" role=\"tabpanel\" tabIndex=\"0\" className=\"show\">\n\t\t\t\t{content ? react.createSlot(null, content) : ''}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nWsNav.style = style;\nexport default WsNav;\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceNav.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*{box-sizing:border-box}.snu-d-none{display:none!important}.snu-d-block{display:block!important}.snu-d-flex{display:flex!important}.snu-d-inline{display:inline!important}.snu-d-inline-block{display:inline-block!important}.snu-d-inline-flex{display:inline-flex!important}.snu-d-table{display:table!important}.snu-d-table-cell{display:table-cell!important}.snu-d-table-row{display:table-row!important}#ws-nav.show{height:100%}#ws-nav.hide{width:0}#ws-nav .ws-nav-contents{height:100%}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {default as WsContent} from './snWorkspaceContent';\nimport {preUserRoles} from '../constants/presource.behaviors';\nimport {actionHandlers} from './snWorkspaceContent.effects';\nimport {getPanelsData} from '../sn-workspace-tabs/snWorkspaceTabs.selectors';\nimport {isMasterDetail, isModuleTabSelected} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {tabsDataInitPropBehavior} from '../utils/behaviors/selectableProps.behaviors';\nimport styles from './_snWorkspaceContent.scss';\n\n\nexport default createCustomElement('sn-workspace-content', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsContent\n\t},\n\n\tstyles,\n\n\tbehaviors: [preUserRoles, tabsDataInitPropBehavior],\n\n\tproperties: {\n\t\tpanelsData: {\n\t\t\tcomputed({properties: {tabsData}}){\n\t\t\t\tif(!tabsData)\n\t\t\t\t\treturn {panels: [], selectedPanelId: null, selectedTabId: '-1'};\n\t\t\t\treturn getPanelsData(tabsData);\n\t\t\t}\n\t\t},\n\t\tactive: {\n\t\t\tcomputed({properties: {tabsData}}){\n\t\t\t\treturn !isModuleTabSelected(tabsData) || isMasterDetail(tabsData);\n\t\t\t}\n\t\t}\n\t},\n\n\tinitialState: {\n\t\tformViews: \"\"\n\t},\n\n\tactionHandlers\n});\n\n","import React from 'react';\nimport {preUserRoles, getBehaviorProp} from '../constants/presource.behaviors';\n\nimport {getWorkspaceViews} from \"../constants/ws_config\";\nimport ChromeTabPanels from '../internal-components/chrome-tab-panels/chromeTabPanels';\nimport {buildTabTitleCacheKey, RECORD_DISPLAY_VALUE_CACHE} from '../sn-workspace-tabs/snWorkspaceTabs.util';\nimport { FORM_VIEW_UPDATED, ACTIVE_PANEL_RENDERED } from '../constants/constants';\n\nclass WsContent extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentWillMount() {\n\t\tthis._propsToState(this.props, {});\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis._propsToState(nextProps, this.props);\n\t}\n\n\tcomponentDidUpdate(prevProps){\n\t\tconst {properties: {panelsData: {panels}}} = this.props;\n\n\t\tconst {properties: {panelsData: {panels:panelsPrev = []}}} = prevProps;\n\t\tif(panels.length < panelsPrev.length)\n\t\t\tthis._cleanTabTitleCache(panels);\n\t}\n\n\t_cleanTabTitleCache(panelList) {\n\t\tObject.keys(RECORD_DISPLAY_VALUE_CACHE).forEach( k => {\n\t\t\tlet found = panelList.find( p => {\n\t\t\t\tconst { table, sys_id } = p;\n\t\t\t\treturn k === buildTabTitleCacheKey(table, sys_id);\n\t\t\t});\n\t\t\tif (!found)\n\t\t\t\tdelete RECORD_DISPLAY_VALUE_CACHE[k];\n\t\t});\n\t}\n\n\n\t_setFormViews(props){\n\t\tconst agentRoles = getBehaviorProp(props, preUserRoles.name);\n\t\tif (!agentRoles || this.props.formViews.length )\n\t\t\treturn;\n\n\t\tconst formViews = getWorkspaceViews(agentRoles);\n\t\tif (formViews != this.props.formViews)\n\t\t\tthis.props.dispatch(FORM_VIEW_UPDATED,{formViews});\n\t}\n\n\t_propsToState(props, prevProps) {\n\t\tthis._setFormViews(props, prevProps);\n\t}\n\n\trender() {\n\t\tconst {formViews, dispatch} = this.props;\n\t\tconst {properties: {panelsData, active}} = this.props;\n\t\tconst {panels} = panelsData;\n\t\tif (panels.length < 1 || !formViews)\n\t\t\treturn null;\n\n\t\tif (active) {\n\t\t\tdispatch(ACTIVE_PANEL_RENDERED, {panelsData});\n\t\t}\n\n\t\treturn <ChromeTabPanels panelsData={panelsData} formViews={formViews} active={active}/>;\n\t}\n}\n\nexport default WsContent;\n","module.exports = __TECTONIC__lodash_4_17_4[\"head\"];","import {getAssignedElements, updateElementsWithProp} from './slotUtils';\nimport {PICKER_STATE_PROP} from \"../../constants/constants\";\n\nexport default function updateContentOptionState(node, slot, payload) {\n\tconst slottedElements = getAssignedElements(node, slot);\n\n\tif (slottedElements && slottedElements.length > 0) {\n\t\tupdateElementsWithProp(slottedElements, PICKER_STATE_PROP, payload);\n\t}\n}\n","import {FORM_VIEW_UPDATED} from \"../constants/constants\";\nimport {createUpdateStateEffect} from \"@servicenow/ui-effect-update-state\";\n\nexport const actionHandlers = {\n\t[FORM_VIEW_UPDATED]: createUpdateStateEffect((state, {payload: {formViews}}) =>{\n\t\treturn {...state, formViews};\n\t})\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceContent.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.chrome-tab-panel-list{height:100%;width:100%}.chrome-tab-panel{display:none}.chrome-tab-panel.is-active{display:block;height:100%;outline:none}.chrome-tab-panel.is-active.slide-in{animation:tab-panel-slide .5s forwards;transition-timing-function:ease-in-out;width:0}@keyframes tab-panel-slide{to{width:100%}}:host(sn-workspace-content){height:100%;width:100%;overflow:hidden}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {default as WsTabs} from './snWorkspaceTabs';\nimport {preUserData, wsTabMenuConf, wsModuleConf} from '../constants/presource.behaviors';\nimport {tabsDataInitPropBehavior, stopperPromptInitPropBehavior} from '../utils/behaviors/selectableProps.behaviors';\nimport styles from './_snWorkspaceTabs.scss';\nimport {\n\tEDS_MODAL_OPENED_SET, \n\tEDS_MODAL_FOOTER_ACTION_CLICKED, \n\tCLEAR_STOPPER_PROMPT, \n\tMAX_TABS_REACHED\n} from '../constants/constants';\n\n\nexport default createCustomElement('sn-workspace-tabs', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsTabs\n\t},\n\n\tstyles,\n\n\tbehaviors: [wsTabMenuConf, wsModuleConf, tabsDataInitPropBehavior, stopperPromptInitPropBehavior],\n\n\tproperties: {\n\t\t\n\t},\n\n\tactionHandlers: {\n\t\t[EDS_MODAL_FOOTER_ACTION_CLICKED]: ({action: {payload: {modal}}, dispatch}) => {\n\t\t\tif(modal === MAX_TABS_REACHED)\n\t\t\t\tdispatch(CLEAR_STOPPER_PROMPT, {});\n\t\t},\n\t\t[EDS_MODAL_OPENED_SET]: ({action: {payload: {modal}}, dispatch}) => {\n\t\t\tif(modal === MAX_TABS_REACHED)\n\t\t\t\tdispatch(CLEAR_STOPPER_PROMPT, {});\n\t\t},\n\t}\n});\n","/*\n\tThis component holds the top level tab state for both primary and secondary tabs.\n\tSets this through SET_TABS\n\n\tEvery time SET_TABS is fire, the sub tabs will listen for these changes and act accordingly.\n*/\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport '@servicenow/now-modal';\nimport {addResizeListener} from 'sn-seismic-addons';\n\nimport {getBehaviorProp} from '../constants/presource.behaviors';\nimport {initDataConfig} from './config';\nimport {setModules} from './snWorkspaceTabs.moduleTab';\nimport {t} from 'sn-translate';\nimport '../internal-components/chrome-tabs/chromeTabsElement';\nimport {checkActiveTab} from \"./snWorkspaceTabs.util\";\nimport {\n\tWORKSPACE_TAB_ACTIVATED,\n\tSET_TABS,\n\tMODULE_CONFIG_KEY,\n\tTAB_MENU_CONF_KEY,\n\tMAIN_TAB_CLICKED,\n\tMAIN_TAB_CLOSE_CLICKED,\n\tCLOSE_TAB_MENU_ITEM,\n\tITEM_SELECTED,\n\tEDS_MODAL_CONFIRM_BTN\n} from \"../constants/constants\";\n\n\nclass WsTabs extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmaxWidth: document.body.clientWidth\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst wsModuleConf = getBehaviorProp(this.props, MODULE_CONFIG_KEY, null);\n\t\tsetModules(wsModuleConf);\n\n\t\tconst wsMenuConf = getBehaviorProp(this.props, TAB_MENU_CONF_KEY, null);\n\t\tconst {menuConf} = initDataConfig(wsMenuConf);\n\t\tthis.menuConf = menuConf;\n\n\t\tconst leftWidth = 240; // nav-bar width\n\t\tthis.setState({maxWidth: document.body.clientWidth - leftWidth});\n\n\t\tthis.removeResizeListener = addResizeListener(this._resize);\n\t\twindow.addEventListener('beforeunload', this.onUnload);\n\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.properties.tabsData != prevProps.properties.tabsData) {\n\t\t\tconst value = this.props.properties.tabsData;\n\t\t\tconst previousValue = prevProps.properties.tabsData;\n\t\t\tconst activeTabInfo = checkActiveTab(value, previousValue);\n\t\t\tif (activeTabInfo)\n\t\t\t\tthis.props.dispatch(WORKSPACE_TAB_ACTIVATED, activeTabInfo);\n\n\t\t\tthis.props.dispatch(SET_TABS, value);\n\t\t\tsetTimeout(this._resize, 100);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.removeResizeListener();\n\t\twindow.removeEventListener('popstate', this.onPopState);\n\t\twindow.removeEventListener('beforeunload', this.onUnload);\n\t}\n\n\tonUnload = e => {\n\t\tconst {tabList} = this.props.properties.tabsData;\n\t\tif (!tabList.some(t => t.isDirty))\n\t\t\treturn;\n\n\t\t// The customized display text is for IE11. Chrome, FireFox, Safari don't support customized display text anymore\n\t\tconst retVal = t('Navigating away will lose unsaved data.');\n\t\t(e || window.event).returnValue = retVal;\n\t\treturn retVal;\n\n\t};\n\n\t_resize = () => {\n\t\tif (!this.tabsRef)\n\t\t\treturn;\n\n\t\tconst setMaxWidth = () => {\n\t\t\tconst maxWidth = this.tabsRef.clientWidth - 16; // 16: side padding of the container\n\t\t\tif (maxWidth !== this.state.maxWidth)\n\t\t\t\tthis.setState({maxWidth});\n\t\t}\n\n\t\tif(this.tabsRef.clientWidth)\n\t\t\tsetMaxWidth();\n\t\telse\n\t\t\tsetTimeout(() => setMaxWidth()); //sub tab's clientWidth may not be ready. e.g. creating new tab via plus menu in FF\n\n\t};\n\n\t_getTabsRef = tabs => {\n\t\tthis.tabsRef = tabs;\n\t};\n\n\t_onClickTab = tab_id => {\n\t\tthis.props.dispatch(MAIN_TAB_CLICKED, {tab_id});\n\t};\n\n\t_onCloseTab = tab_id => {\n\t\tthis.props.dispatch(MAIN_TAB_CLOSE_CLICKED, {operation: CLOSE_TAB_MENU_ITEM, tab_id});\n\t};\n\n\t_onClickCloseMenuItem = menuItem => {\n\t\tconst {selectedTabId} = this.props.properties.tabsData;\n\t\tthis.props.dispatch(MAIN_TAB_CLOSE_CLICKED, {operation: menuItem.name, tab_id: selectedTabId});\n\t};\n\n\t_onClickNewMenuItem = menuItem => {\n\t\tconst { table} = menuItem;\n\t\tthis.props.dispatch(ITEM_SELECTED, {\n\t\t\ttable,\n\t\t\tsys_id: '-1',\n\t\t\tparent_table:table,\n\t\t\tparent_sys_id: '-1'\n\t\t});\n\t};\n\n\t_renderStopperPrompt() {\n\t\tconst {properties: {stopperPrompt}, dispatch} = this.props;\n\t\tif (!stopperPrompt)\n\t\t\treturn;\n\n\t\t\treturn (\n\t\t\t\t<div className=\"sn-workspace-stopper-prompt-container\">\n\t\t\t\t    <now-modal\n\t\t\t\t\topened={true}\n\t\t\t\t\tappend-to-payload={{modal: stopperPrompt.name}}\n\t\t\t\t\tsize='sm'\n\t\t\t\t\theader-label={stopperPrompt.title}\n\t\t\t\t\tcontent={stopperPrompt.message}\n\t\t\t\t\tfooter-actions={[{\n\t\t\t\t\t\t...EDS_MODAL_CONFIRM_BTN\n\t\t\t\t\t}]}\n\t\t\t\t    />\n\t\t\t\t</div>\n\t\t\t);\n\t}\n\n\trender() {\n\t\tif (!this.props.properties.tabsData || !this.menuConf)\n\t\t\treturn null;\n\n\t\tconst tabsData = this.props.properties.tabsData;\n\t\tconst {closeMenu, mainPlus: newMenu} = this.menuConf;\n\t\tconst {selectedTabId, tabList} = tabsData;\n\n\t\treturn (\n\t\t\t<div className=\"sn-workspace-tabs-container\" aria-label={t('Workspace Tabs')} ref={this._getTabsRef}>\n\t\t\t\t<sn-workspace-tab-bar type=\"primary\"\n\t\t\t\t\ttabsMaxWidth={this.state.maxWidth}\n\t\t\t\t\tselectedTabId={selectedTabId}\n\t\t\t\t\ttabList={tabList}\n\t\t\t\t\tnewMenu={newMenu}\n\t\t\t\t\tcloseMenu={closeMenu}\n\t\t\t\t\tonClickTab={this._onClickTab}\n\t\t\t\t\tonCloseTab={this._onCloseTab}\n\t\t\t\t\tonNewTab={this._onClickNewMenuItem}\n\t\t\t\t\tonMenuClose={this._onClickCloseMenuItem}\n\t\t\t\t/>\n\t\t\t\t{this._renderStopperPrompt()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nWsTabs.propTypes = {\n\ttabsData: PropTypes.object\n};\n\nexport default WsTabs;\n","import React from 'react';\nimport {isEqual, debounce} from 'lodash';\nimport '../chrome-one-tab/chromeOneTabElement';\nimport PopoverContainer from '../chrome-popover/popoverContainer';\nimport ControlMenu from '../chrome-popover/controlMenu';\nimport MoreOptionMenu from './moreOptionMenu';\nimport * as chromeTabsUtils from './chromeTabs.util';\nimport {t} from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-badge';\nimport '@servicenow/now-tooltip';\n\nclass ChromeTabs extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttabWidth: 166,\n\t\t\tvisibleList: [],\n\t\t\toverflowDisabled: true,\n\t\t\tfocusedTabIdx: -1,\n\t\t\tshowOverflowMenu: false,\n\t\t\thasOverflowUpdate: false,\n\t\t\tshowAddNewMenu: false\n\t\t};\n\n\t\tthis.debouncedOverflowTriggerClick = debounce(this.onOverflowTriggerClick, 200);\n\t\tthis.debouncedAddNewTriggerClick = debounce(this.onAddNewTriggerClick, 200);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateTabsState(this.props);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.updateTabsState(nextProps);\n\t}\n\n\tupdateTabsState = (props) => {\n\t\tconst { state } = this;\n\n\t\tthis.tabListSpace = props.properties.tabsMaxWidth - 20; // 3.75rem: overflow menu width set by css using only 1/3 of it.\n\t\tlet totalWidth = this.tabListSpace - 60; // 3.75rem: new button width\n\t\tlet newState = chromeTabsUtils.updateState(props, state, this.tabListSpace);\n\n\t\tif (!isEqual(newState, state))\n\t\t\tthis.setState(newState);\n\t};\n\n\tonClickMenuItem = (menuItem, idx, e) => {\n\t\tconst {properties: {onMenuClose, onClickTab}} = this.props;\n\t\tif (menuItem.itemType === 'menu') {\n\t\t\tonMenuClose(menuItem, idx);\n\t\t}\n\t\telse {\n\t\t\tconst {tab_id} = menuItem;\n\t\t\tonClickTab(tab_id, e);\n\t\t}\n\t};\n\n\tonCloseMenuItem = (menuItem, e) => {\n\t\tconst {properties: {onCloseTab}} = this.props;\n\t\tconst {tab_id} = menuItem;\n\t\tonCloseTab(tab_id, e);\n\t};\n\n\tonClickTab = (tab_id, idx, e) => {\n\t\tthis.props.properties.onClickTab(tab_id, e);\n\t};\n\n\thandleKeyUp = (tab_id, i, e) => {\n\t\tlet idx = -1;\n\t\tswitch (e.keyCode) {\n\t\t\tcase 13: // enter\n\t\t\tcase 32: // space\n\t\t\t\tthis.props.properties.onClickTab(tab_id, e); break;\n\t\t\tcase 37: // left arrow\n\t\t\t\tidx = i - 1 > -1 ? i - 1 : this.tabList.childNodes.length - 1;break;\n\t\t\tcase 39: // right arrow\n\t\t\t\tidx = i + 1 < this.tabList.childNodes.length ? i + 1 : 0;break;\n\t\t\tdefault: break;\n\t\t}\n\n\t\tif (idx > -1) {\n\t\t\tthis.setState({focusedTabIdx: idx});\n\t\t}\n\t};\n\n\tsetPlusMenuRef = (menu) => {\n\t\tthis.plusMenuWidth = menu ? 60 : 0; // 3.75 rem = 60 from CSS\n\t};\n\n\tonOverflowTriggerClick = (e) => {\n\t\tconst {showOverflowMenu, overflowDisabled} = this.state;\n\n\t\tlet shouldShow = !showOverflowMenu;\n\n\t\tif (overflowDisabled)\n\t\t\tshouldShow = false;\n\n\t\tthis.setState({showOverflowMenu: shouldShow});\n\t};\n\n\tonAddNewTriggerClick = (e) => {\n\t\tthis.setState({showAddNewMenu: !this.state.showAddNewMenu});\n\t};\n\n\tsetAddNewTriggerEl = (el) => {\n\t\tif (!el)\n\t\t\treturn;\n\n\t\tthis.addNewTrigger = el;\n\t};\n\n\trenderNewMenu = (newMenu, onNewTab, type) => {\n\t\tif (!newMenu || newMenu.length === 0)\n\t\t\treturn null;\n\n\t\tconst { header, items } = newMenu;\n\n\t\tconst buttonId = \"chrome-add-new-button\";\n\t\tlet tooltipContent = t('Add');\n\t\tlet ariaLabel = tooltipContent;\n\t\tconst tooltipPosition = 'top-center bottom-center';\n\n\t\t//If there is only 1 menu item, we want the click to happen immediately.\n\t\t//Instead of overloading the popover with functionality that it shouldn't be aware of,\n\t\t//we should handle that here by just using a normal button.\n\t\tif (items.length < 2) {\n\t\t\tlet classname = 'sn-chrome-tabs-btn';\n\t\t\tlet disabled = false;\n\t\t\tif (items.length === 0) {\n\t\t\t\tclassname += ' is-disabled';\n\t\t\t\tdisabled = true;\n\t\t\t\ttooltipContent = null;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttooltipContent = t('Add {0}', items[0].displayValue);\n\t\t\t\tariaLabel = tooltipContent;\n\t\t\t}\n\t\t\treturn disabled ? null : (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<button\n\t\t\t\t\t\tref={this.setAddNewTriggerEl}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName={classname}\n\t\t\t\t\t\tonClick={(e) => onNewTab(items[0], 0, e)}\n\t\t\t\t\t\tid={buttonId}\n\t\t\t\t\t\taria-label={ariaLabel}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t<now-icon component-id={buttonId} icon=\"plus-outline\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t{tooltipContent && <now-tooltip target-ref={this.addNewTrigger} content={tooltipContent} />}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t} else {\n\t\t\tconst menuId = \"chrome-add-new-menu\";\n\t\t\tconst {showAddNewMenu} = this.state;\n\t\t\treturn (\n                <div className=\"sn-chrome-tabs-dropdown-container\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tref={this.setAddNewTriggerEl}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName='sn-chrome-tabs-btn'\n\t\t\t\t\t\tonClick={this.debouncedAddNewTriggerClick}\n\t\t\t\t\t\tid={buttonId}\n\t\t\t\t\t\taria-label={tooltipContent}\n\t\t\t\t\t\taria-haspopup={true}\n\t\t\t\t\t\taria-expanded={showAddNewMenu}\n\t\t\t\t\t\taria-controls={showAddNewMenu ? menuId : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t<now-icon component-id={buttonId} icon=\"plus-outline\"/>\n\t\t\t\t\t</button>\n\t\t\t\t\t<now-tooltip target-ref={this.addNewTrigger} content={tooltipContent} />\n\t\t\t\t\t<PopoverContainer\n\t\t\t\t\t\theader={header}\n\t\t\t\t\t\talign='left'\n\t\t\t\t\t\ttriggerEl={this.addNewTrigger}\n\t\t\t\t\t\tshow={showAddNewMenu}\n\t\t\t\t\t\tonToggle={this.debouncedAddNewTriggerClick}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ControlMenu id={menuId} optionItems={items} onItemClick={onNewTab} />\n\t\t\t\t\t</PopoverContainer>\n\t\t\t\t</div>\n            );\n\t\t}\n\t};\n\n\trenderCounterBadge() {\n\t\tlet counterBadge = null;\n\t\tlet overflowLength = this.state.badgeCount;\n\t\tif (overflowLength > 0)\n\t\t\tcounterBadge = (<now-badge round size=\"sm\" status=\"critical\" value={overflowLength} variant=\"primary\"></now-badge>);\n\t\treturn counterBadge;\n\t}\n\n\trender() {\n\t\tconst {properties: {parentTabId, type, newMenu, onNewTab, onCloseTab, selectedTabId}} = this.props;\n\t\tconst {visibleList, overflowDisabled, focusedTabIdx, showOverflowMenu, optionItems, badgeCount, hasOverflowUpdate} = this.state;\n\n\t\tconst overflowLabel = t('WS:More');\n\t\tconst overflowTooltipContent = overflowDisabled ? null : overflowLabel;\n\t\tconst overflowButtonId = `ellipsis-h ${type}`;\n\t\tconst overflowClassNames = chromeTabsUtils.buildOverflowStyle(type, overflowDisabled, badgeCount, hasOverflowUpdate);\n\n\t\treturn (\n            <div className={\"sn-chrome-tabs chromeTabs -\" + type}>\n\t\t\t\t<div className=\"sn-chrome-tabs-content tab-list\" style={{width: this.tabListSpace}}>\n\t\t\t\t\t{visibleList.length > 0 &&\n\t\t\t\t\t<ul role=\"tablist\" className=\"sn-chrome-tabs-group\" ref={list => this.tabList = list}>\n\t\t\t\t\t\t{visibleList.map((t, i) => {\n\t\t\t\t\t\t\tconst {tab_id} = t;\n\t\t\t\t\t\t\tconst key = parentTabId ? `${parentTabId}_${tab_id}` : tab_id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<sn-workspace-tab\n\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\tcomponent-id={tab_id}\n\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\ttab={t}\n\t\t\t\t\t\t\t\t\ttabType={type}\n\t\t\t\t\t\t\t\t\tisSelected={tab_id === selectedTabId}\n\t\t\t\t\t\t\t\t\tisHighlighted={focusedTabIdx === i}\n\t\t\t\t\t\t\t\t\tonCloseTab={onCloseTab}\n\t\t\t\t\t\t\t\t\tonClickTab={this.onClickTab}\n\t\t\t\t\t\t\t\t\tonKeyUp={this.handleKeyUp}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t\t}\n\t\t\t\t\t{this.renderNewMenu(newMenu, onNewTab, type)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-chrome-tabs-content close-option\">\n\t\t\t\t\t<button ref={el => this.overflowTriggerEl = el}\n\t\t\t\t\t\tdisabled={overflowDisabled}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName={overflowClassNames}\n\t\t\t\t\t\tonClick={this.debouncedOverflowTriggerClick}\n\t\t\t\t\t\tid={overflowButtonId}\n\t\t\t\t\t\taria-label={overflowLabel}\n\t\t\t\t\t\taria-haspopup={true}\n\t\t\t\t\t\taria-expanded={showOverflowMenu}\n\t\t\t\t\t\taria-controls={showOverflowMenu ? 'popover-body-2' : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t<now-icon component-id={overflowButtonId} icon={'ellipsis-h-fill'}/>\n\t\t\t\t\t\t{this.renderCounterBadge()}\n\t\t\t\t\t</button>\n\t\t\t\t\t<PopoverContainer\n\t\t\t\t\t\ttriggerEl={this.overflowTriggerEl}\n\t\t\t\t\t\tshow={showOverflowMenu}\n\t\t\t\t\t\tonToggle={this.debouncedOverflowTriggerClick}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MoreOptionMenu optionItems={optionItems} onItemClick={this.onClickMenuItem} onItemClose={this.onCloseMenuItem}/>\n\t\t\t\t\t</PopoverContainer>\n\t\t\t\t</div>\n\t\t\t\t{overflowTooltipContent && <now-tooltip target-ref={this.overflowTriggerEl} content={overflowTooltipContent} />}\n\t\t\t</div>\n        );\n\t}\n}\n\nexport default ChromeTabs;\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {handlerMap} from \"./chromeOneTab.effects\";\nimport {default as ChromeOneTab} from './chromeOneTab';\nimport styles from './_chromeOneTab.scss';\n\nexport default createCustomElement('sn-workspace-tab', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: ChromeOneTab\n\t},\n\n\tstyles,\n\n\tproperties: {\n\t\tindex: {},\n\t\ttab: {},\n\t\ttabType: {},\n\t\tisHighlighted: {},\n\t\tonClickTab: {},\n\t\tonCloseTab: {},\n\t\tonKeyUp: {},\n\t\tformHeaderInfo: {},\n\t\tdomEventManager: {},\n\t\tisSelected: {}\n\t},\n\n\tactions: handlerMap\n});\n","export default function makeCustomHandler(func) {\n\treturn {\n\t\thandlers: [{\n\t\t\tfn(coeffects) {\n\t\t\t\tfunc(coeffects);\n\t\t\t}\n\t\t}]\n\t};\n}","import React from 'react';\nimport {t} from 'sn-translate';\nimport {isEqual, pick} from 'lodash';\nimport PopoverContainer from '../chrome-popover/popoverContainer';\nimport FormPreview from '../../internal-components/form-preview/formPreview';\nimport * as oneTabUtil from './chromeOneTab.util';\nimport * as constants from '../../constants/constants';\nimport {isMasterDetail, isModuleTab} from \"../../sn-workspace-tabs/snWorkspaceTabs.moduleTab\";\nimport '@servicenow/now-icon';\nimport '@servicenow/now-tooltip';\n\nclass ChromeOneTab extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t/*\n\t\t\tshowTabTooltip is required in order to work around the fact that NDS tooltips will activate any tooltip within the hover'd container.\n\t\t\tIn the case of tabs, if the close button is hovered, the tab tooltip will also activate. This helps work around that fact by only activating\n\t\t\tthe tab tooltip when the tab content itself is hovered and not the close button.\n\t\t */\n\t\tthis.state = {\n\t\t\thaveTabElement: false,\n\t\t\tshowFormPreview: false,\n\t\t\tshowTabTooltip: false \t\t// read the above comment\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {title, table} = this.props.properties.tab;\n\t\tif (!title && table)\n\t\t\toneTabUtil.initDisplayColumnOrTitle(this.props);\n\n\t\tif (this.tab) {\n\t\t\tthis.setState({haveTabElement: true});\n\t\t\tif(this.props.properties.isHighlighted)\n\t\t\t\tthis.tab.focus();\n\t\t}\n\t}\n\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst oneTabData = pick(nextProps.properties, ['tab', 'tabType', 'isHighlighted']);\n\t\tconst prevOneTabData = pick(this.props.properties, ['tab', 'tabType', 'isHighlighted']);\n\n\t\treturn !isEqual(oneTabData, prevOneTabData) || !isEqual(this.state, nextState);\n\t}\n\n\t_renderStatusIndicator(hasError, hasUpdate, isDirty) {\n\t\tconst indicator = isDirty ? 'unsaved' : 'hidden';\n\t\t// if (hasError)\n\t\t// \tindicator = \"error\";\n\t\t// if (hasUpdate)\n\t\t// \tindicator = \"changes\";\n\t\t// else if (isDirty)\n\t\t// \tindicator = \"unsaved\";\n\n\t\treturn (\n\t\t\t<div className=\"sn-chrome-one-tab-content has-presence\">\n\t\t\t\t<span className={\"sn-presence-dot is-\" + indicator} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_renderIcon(tab_id, icon, activated) {\n\t\tif (!icon)\n\t\t\treturn;\n\n\t\tconst classname = activated ? 'is-positive' : '';\n\t\treturn (\n            <div className={\"sn-chrome-one-tab-content has-icon\"}>\n                <now-icon component-id={tab_id + \"__session-type\"} icon={icon} className={classname}/>\n            </div>\n        );\n\t}\n\n\t_renderCloseBtn(tab_id, title) {\n\t\tconst tooltip = t('Close Tab {0}', title);\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tref={elem => this.closeBtnRef = elem}\n\t\t\t\t\tclassName=\"sn-chrome-one-tab-close\"\n\t\t\t\t\taria-label={tooltip}\n\t\t\t\t\tonClick={this._onClose}\n\t\t\t\t\tonKeyUp={this._onKeyUp}\n\t\t\t\t>\n\t\t\t\t\t<now-icon component-id={'close-tab-'+tab_id} icon=\"circle-close-outline\" size=\"sm\"/>\n\t\t\t\t</button>\n\t\t\t\t<now-tooltip target-ref={this.closeBtnRef} content={tooltip} />\n\t\t\t</React.Fragment>\n        );\n\t}\n\n\t_buildClassName(isSelected, type, disabled, hasUpdate, isModule, isMasterDetail) {\n\t\ttype = type === 'primary' ? 'meta' : type;\n\t\tlet tmpClassList = [\"sn-chrome-one-tab\", `-${type}`];\n\t\tif (isSelected)\n\t\t\ttmpClassList.push(\"is-selected\");\n\t\tif (disabled)\n\t\t\ttmpClassList.push(\"is-disabled\");\n\t\tif (hasUpdate)\n\t\t\ttmpClassList.push(\"is-updated\");\n\t\tif(isMasterDetail)\n\t\t\ttmpClassList.push(\"is-master-detail\");\n\t\tif(isModule)\n\t\t\ttmpClassList.push(\"is-module\");\n\t\treturn tmpClassList.join(' ');\n\t}\n\n\t_onClick = (e) => {\n\t\tconst { index, tab } = this.props.properties;\n\n\t\tthis._hideFormPreview();\n\n\t\tif(isMasterDetail(tab))\n\t\t\tthis.props.dispatch(constants.MASTER_DETAIL_TOGGLED);\n\t\telse\n\t\t\tthis.props.properties.onClickTab(tab.tab_id, index, e);\n\t};\n\n\t_onClose = (e) => {\n\t\te.stopPropagation();\n\t\tconst {properties: {tab, onCloseTab}} = this.props;\n\t\tonCloseTab(tab.tab_id, e);\n\t};\n\n\t_onKeyUp = (e) => {\n\t\tconst {properties: {tab, onKeyUp}} = this.props;\n\t\tonKeyUp(tab.tab_id, tab.tabOrder, e);\n\t};\n\n\t_clearPopoverTimers = () => {\n\t\tif (this.showPreviewTimer)\n\t\t\tclearTimeout(this.showPreviewTimer);\n\t\tif (this.autoClosePreviewTimer)\n\t\t\tclearTimeout(this.autoClosePreviewTimer);\n\t};\n\n\n\tcomponentWillUnmount() {\n\t\tthis._hideFormPreview();\n\t}\n\n\tonTabHover = (e, forcedValue) => {\n\t\tconst shouldShow = forcedValue !== null ? forcedValue : !this.state.showFormPreview;\n\n\t\tif (shouldShow)\n\t\t\tthis._showFormPreview(e);\n\t\telse\n\t\t\tthis._hideFormPreview(e);\n\t};\n\n\t_showFormPreview = () => {\n\t\tthis._clearPopoverTimers();\n\t\tthis.showPreviewTimer = setTimeout(() => this.setState({showFormPreview: true}), 100);\n\t};\n\n\t_hideFormPreview = () => {\n\t\tthis._clearPopoverTimers();\n\t\tthis.setState({showFormPreview: false});\n\t};\n\n\t_renderFormPreview(formHeaderInfo) {\n\t\tconst {haveTabElement, showFormPreview} = this.state;\n\t\tif (!formHeaderInfo || !haveTabElement)\n\t\t\treturn;\n\n\t\treturn formHeaderInfo && this.tab ?\n\t\t\t<PopoverContainer\n\t\t\t\ttriggerEl={this.tab}\n\t\t\t\thoverEnabled={true}\n\t\t\t\tclassNames={'has-card'}\n\t\t\t\tonToggle={this.onTabHover}\n\t\t\t\tshow={showFormPreview}\n\t\t\t>\n\t\t\t\t<FormPreview content={formHeaderInfo} />\n\t\t\t</PopoverContainer>\n\t\t\t: null;\n\t}\n\n\tshowTabTooltip = (e) => {\n\t\tthis.setState({showTabTooltip: true});\n\t};\n\n\thideTabTooltip = (e) => {\n\t\tthis.setState({showTabTooltip: false})\n\t};\n\n\trender() {\n\t\tconst {properties: {tab, tabType, isSelected} } = this.props;\n\t\tconst {showTabTooltip} = this.state;\n\t\tconst { tab_id, style, type, tooltipContent, tooltipPosition, title, table, formHeaderInfo, canClose, isDirty, disabled, hasUpdate, hasError, activated, icon } = tab;\n\n\t\tconst aria_label = title + t(' Tab') || (table ? t('Loading Tab') : '');\n\n\t\tlet classname = this._buildClassName(isSelected, tabType, disabled, hasUpdate, isModuleTab(tab), isMasterDetail(tab));\n\t\t// const tabControls = subTabList.length ? `chrome-sub-tabs-${tab_id}` :`chrome-tab-panel-${tab_id}`;\n\n\t\treturn (\n\t\t\t<li\n\t\t\t\tref={elem => this.tabContainerElem = elem}\n\t\t\t\tclassName=\"sn-chrome-one-tab-container\"\n\t\t\t\tstyle={style}\n\t\t\t\taria-label={aria_label}\n\t\t\t\taria-live=\"polite\"\n\t\t\t>\n\t\t\t\t<a\n\t\t\t\t\tid={tab_id}\n\t\t\t\t\tref={(tab) => this.tab = tab}\n\t\t\t\t\trole=\"tab\"\n\t\t\t\t\tclassName={classname}\n\t\t\t\t\taria-selected={isSelected}\n\t\t\t\t\ttabIndex={isSelected ? '0' : '-1'}\n\t\t\t\t\tonClick={this._onClick}\n\t\t\t\t\tonKeyUp={this._onKeyUp}\n\t\t\t\t\tonMouseOver={this.showTabTooltip}\n\t\t\t\t\tonMouseOut={this.hideTabTooltip}\n\t\t\t\t\tonFocus={this.showTabTooltip}\n\t\t\t\t\tonBlur={this.hideTabTooltip}\n\t\t\t\t>\n\t\t\t\t\t{this._renderStatusIndicator(hasError, hasUpdate, isDirty)}\n\t\t\t\t\t{icon ? this._renderIcon(tab_id, icon, activated) : null}\n\t\t\t\t\t<div className=\"sn-chrome-one-tab-content\">\n\t\t\t\t\t\t<span>{title || (table ? constants.LOADING_TITLE : '')}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t{this._renderFormPreview(formHeaderInfo)}\n\t\t\t\t</a>\n\t\t\t\t{canClose && this._renderCloseBtn(tab_id, title)}\n\t\t\t\t{tooltipContent && <now-tooltip target-ref={this.tabContainerElem} opened={showTabTooltip} manage-opened content={tooltipContent} />}\n\t\t\t\t</li>\n\t\t);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst {properties: {tab, isHighlighted} } = this.props;\n\t\tconst {properties: {tab: prevTab, isHighlighted: prevIsHighlighted} } = prevProps;\n\t\tconst { showFormPreview } = this.state;\n\t\tconst { showFormPreview: prevShowFormPreview } = prevState;\n\n\t\t//If the form preview is shown, we need to auto close it after 10 seconds to match the instance\n\t\t//functionality.\n\t\tif (prevShowFormPreview !== showFormPreview && showFormPreview) {\n\t\t\tthis.autoClosePreviewTimer = setTimeout(() => this.setState({showFormPreview: false}), 10000);\n\t\t}\n\n\t\t// If the tab becomes inactive, force close the form preview. This prevents issues like\n\t\t// popovers sometimes sticking around.\n\t\tif (prevTab.isActive !== tab.isActive && !tab.isActive) {\n\t\t\tthis._hideFormPreview();\n\t\t}\n\n\t\tif (isHighlighted && !prevIsHighlighted) {\n\t\t\tthis.tab.focus();\n\t\t}\n\t}\n}\n\nexport default ChromeOneTab;\n","import React, {Component} from 'react';\nimport truncate from 'lodash/truncate';\nimport PropTypes from 'prop-types';\n\nclass FormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tlet {content} = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"sn-card\">\n\t\t\t\t<div className=\"sn-card--row\">\n\t\t\t\t\t <div className=\"sn-card--title\"> \n\t\t\t\t\t\t<div className=\"sn-card--title--name\"> \n\t\t\t\t\t\t\t\t<h5 className=\"sn-card--title--name--truncated\">\n\t\t\t\t\t\t\t\t\t{content && content.primaryItem && content.primaryItem.displayValue}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-card--row\">\n\t\t\t\t\t<table className=\"sn-card--table\">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{content && content.secondaryItems.map(value => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr key={value.fieldLabel} className=\"sn-card--table--row\">\n\t\t\t\t\t\t\t\t\t<td className=\"sn-card--table--cell\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"sn-card--table--content\"><span>{value.fieldLabel}</span></div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"sn-card--table--cell\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"sn-card--table--content\"><span>{value.displayValue}</span></div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nFormPreview.propTypes = {};\n\nexport default FormPreview;\n","module.exports = __TECTONIC__lodash_4_17_4[\"truncate\"];","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_chromeOneTab.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-card{background:#fff;border:1px solid #cbcbcb;border-radius:3px;color:#4a4a4a;cursor:pointer;display:flex;flex:0 0 auto;flex-wrap:wrap;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;max-width:360px;padding:12px 16px;position:relative;text-decoration:none}.sn-card:focus{outline:none}.sn-card.is-hover,.sn-card:hover{background:#edf7f5}.sn-card.is-focus,.sn-card:focus{background:#edf7f5;border-color:#1f8476}.sn-card__clear-hover.is-focus,.sn-card__clear-hover.is-hover,.sn-card__clear-hover:focus,.sn-card__clear-hover:hover{background:#fff;border:1px solid #cbcbcb;color:#4a4a4a;cursor:default}.sn-card__recommendation{background:#d5ecf0;border:1px solid #d5ecf0;cursor:default}.sn-card__recommendation.is-focus,.sn-card__recommendation.is-hover,.sn-card__recommendation:focus,.sn-card__recommendation:hover{background-color:#d5ecf0}.sn-card__note{box-shadow:0 5px 20px 0 rgba(0,0,0,.05);cursor:default;max-width:100%;padding:16px}.sn-card__note.is-focus,.sn-card__note.is-hover,.sn-card__note:focus,.sn-card__note:hover{background-color:#fff;border:1px solid #cbcbcb}.sn-card.mod-activity-stream{border-radius:0;border-width:0 0 1px;cursor:default;max-width:100%;padding:12px 8px;width:100%}.sn-card.mod-activity-stream.is-focus,.sn-card.mod-activity-stream.is-hover,.sn-card.mod-activity-stream:focus,.sn-card.mod-activity-stream:hover{background:transparent;border-color:#cbcbcb}.sn-card.mod-activity-stream.is-selected{background:#edf7f5}.sn-card.mod-article{border-radius:3px 3px 0 0;border-width:1px 1px 0;cursor:default;flex:1 0 auto;flex-direction:column;flex-wrap:nowrap;height:100%;margin:0 16px;max-width:100%}.sn-card.mod-article.is-focus,.sn-card.mod-article.is-hover,.sn-card.mod-article:focus,.sn-card.mod-article:hover{background:#fff;border-color:#cbcbcb}.sn-card.mod-article.has-bottom-border{border-radius:3px;border-width:1px}.sn-card.mod-article ul{color:#666}.sn-card.mod-response{background:#fafafa;border:none;cursor:default;max-width:100%}.sn-card.mod-response .sn-card.mod-response{border-top:1px solid #cbcbcb;padding:12px 0}.sn-card.mod-response .sn-card.mod-response.is-first-of-type,.sn-card.mod-response .sn-card.mod-response:first-of-type{border-top:none}.sn-card-list .sn-card{margin:0 0 8px}.sn-card-list .sn-card.is-last-child,.sn-card-list .sn-card:last-child{margin-bottom:0}.sn-chat--bubble .sn-card{background:transparent;border:none;max-width:100%;padding:0}.sn-panel.mod-filter .sn-card{cursor:default;flex-wrap:nowrap;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:4px 8px}.sn-panel.mod-filter .sn-card.is-focus,.sn-panel.mod-filter .sn-card.is-hover,.sn-panel.mod-filter .sn-card:focus,.sn-panel.mod-filter .sn-card:hover{background:#fff;border-color:#cbcbcb}.sn-popover.has-card .sn-card{border:none;max-width:100%}.sn-card--row{color:#4a4a4a;display:flex;flex-wrap:wrap;margin:8px 0 0;position:relative;width:100%}.sn-card.mod-article .sn-card--row{flex:0 0 auto}.sn-card--row.mod-nowrap{flex-wrap:nowrap}.sn-card--row.is-first-child,.sn-card--row:first-child{margin-top:0}.sn-card--content{display:inline-flex;flex:1 1 auto;flex-direction:column;justify-content:center;overflow:hidden;position:relative}.sn-card--content__static{flex:0 0 auto}.sn-panel.mod-filter .sn-card--content__static{justify-content:flex-start}.sn-card.mod-article .sn-card--content{margin-right:16px}.sn-card.mod-article .sn-card--content.is-last-child,.sn-card.mod-article .sn-card--content:last-child{margin-right:0}.sn-card--header{width:100%;height:auto;color:#666;display:flex;flex-wrap:wrap;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;margin:8px 0 0;position:relative}.sn-card--header.is-first-child,.sn-card--header:first-child{margin-top:0}.sn-card__note .sn-card--header{height:auto;margin:0 0 4px}.sn-chat--bubble .sn-card--header{border-bottom:1px solid #cbcbcb;color:#4a4a4a;padding-bottom:4px}.sn-card--header--content{align-items:center;display:inline-flex;flex:1 1 auto;margin:0;min-width:35%;position:relative}.sn-card--header--content.is-last-of-type,.sn-card--header--content:last-of-type{justify-content:flex-end;flex:0 0 auto;min-width:0}.sn-card--header--content.is-only-child,.sn-card--header--content:only-child{flex:1;justify-content:flex-start}.sn-card--header--content.mod-meta{color:#666;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.2}.sn-card__note .sn-card--header--content{align-items:flex-start}.sn-card--header--content>span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.2;padding-right:4px}.sn-card--header--content>span.is-first-of-type,.sn-card--header--content>span:first-of-type{flex:0 0 auto}.sn-card--header--content>span.is-only-of-type,.sn-card--header--content>span:only-of-type{flex:1 1 auto;padding-right:0}.sn-card--header--content>span strong{color:#4a4a4a;font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-card--footer{display:flex;margin:8px 0 0;padding:8px 0 0;position:relative;width:100%}.sn-card--footer.has-top-divider{border-top:1px solid #cbcbcb}.sn-card--footer__meta{color:#666}.sn-card--footer__meta ul li{display:flex;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-card.mod-activity-stream .sn-card--footer{justify-content:flex-end}.sn-card--footer--content{flex:1 1 auto;margin:0 16px 0 0;overflow:hidden}.sn-card--footer--content.is-last-of-type,.sn-card--footer--content:last-of-type{margin:0}.sn-card--footer--content>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.sn-card--title{display:inline-flex;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:18px;margin:8px 0 0;max-height:38px;overflow:hidden;position:relative;width:100%}.sn-card--title.is-first-child,.sn-card--title.is-only-child,.sn-card--title:first-child,.sn-card--title:only-child{margin:0}.sn-card.mod-article .sn-card--title{flex:0 0 auto}.sn-card--title span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-card.mod-article .sn-card--title span{white-space:normal}.sn-card--byline{color:#666;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;margin:4px 0 0;overflow:hidden;position:relative}.sn-card.mod-article .sn-card--byline{font-size:16px;flex:0 0 auto}.sn-card--content .sn-card--byline{margin:0}.sn-card--byline span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.sn-card--body{color:#4a4a4a;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:18px;margin:8px 0 0;max-height:38px;overflow:hidden;position:relative}.sn-card--body.mod-expanded{max-height:100%}.sn-agent-assist-section .sn-card--body ul{color:#4a4a4a;list-style-type:disc;padding-inline-start:40px}.sn-card.mod-activity-stream .sn-card--body{max-height:100%;width:100%}.sn-card.mod-activity-stream .sn-card--body:after{bottom:0;left:0;position:absolute;width:100%;height:0;background:linear-gradient(hsla(0,0%,100%,0),hsla(0,0%,100%,0) 20%,#fff);content:\\\"\\\";transition:height .3s cubic-bezier(.77,0,.175,1);z-index:1}.sn-card.mod-activity-stream .sn-card--body.is-collapsed{max-height:128px}.sn-card.mod-activity-stream .sn-card--body.is-collapsed:after{height:60px}.sn-card.mod-activity-stream>.sn-card--body{white-space:pre-line}.sn-card.mod-article .sn-card--body{border-top:1px solid #cbcbcb;flex:0 0 auto;margin:16px 0 0;max-height:100%;overflow:visible;padding:16px 0 0;width:100%}.sn-card.mod-article .sn-card--row>.sn-card--body{margin:8px 0 0}.sn-card.mod-response .sn-card--body{border-top:none;margin:8px 0 0;padding:0}.sn-card--body img{height:auto;max-width:100%}.sn-card--chat-msg{background:#b8e0d7;border-radius:2px;color:#293e40;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.sn-card--note{background:#fff;border-radius:0 0 3px 3px;border-top:1px solid #cbcbcb;display:flex;flex-wrap:wrap;font-size:12px;margin:16px -16px -12px;padding:12px 16px;width:calc(100% + 32px);position:relative;z-index:1}.sn-card--note.mod-close{background:#fffdec}.sn-card--note.mod-latest{background:#fafafa}.sn-card--note.mod-schedule{border-color:transparent}.sn-card--note.mod-schedule:before{top:0;left:16px;position:absolute;background:#cbcbcb;content:\\\"\\\";height:1px;width:calc(100% - 32px)}.sn-card--note--title{color:#666;width:100%}.sn-card--note p{font-size:12px;margin:4px 0 0}.sn-card--note ul{background:#f1f1f1;border-radius:4px;margin:8px 0 0;padding:0 8px}.sn-card--note ul.is-last-of-type,.sn-card--note ul:last-of-type{padding:0 8px}.sn-card .sn-card--note ul.is-last-of-type,.sn-card .sn-card--note ul:last-of-type{margin:8px 0 0}.sn-card--note ul li{border-bottom:1px solid #cbcbcb;display:flex;padding:8px 0!important}.sn-card--note ul li.is-last-child,.sn-card--note ul li:last-child{border:none}.sn-card--note ul span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 auto}.sn-card--note ul strong{flex:0 0 auto;margin-right:16px}.sn-card table{border-collapse:collapse;max-width:100%}.sn-card table tr.is-last-of-type td,.sn-card table tr.is-last-of-type td.is-first-of-type,.sn-card table tr.is-last-of-type td:first-of-type,.sn-card table tr:last-of-type td,.sn-card table tr:last-of-type td.is-first-of-type,.sn-card table tr:last-of-type td:first-of-type{padding-bottom:0}.sn-card table tr td{vertical-align:top}.sn-card table tr td.is-first-of-type,.sn-card table tr td:first-of-type{font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 8px 4px 0;white-space:nowrap}.sn-chat--bubble .sn-card table tr td.is-first-of-type,.sn-chat--bubble .sn-card table tr td:first-of-type{white-space:normal}.sn-card ul{list-style:none;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.2;margin:0 0 8px;padding:0;position:relative;width:100%}.sn-card ul.is-last-child,.sn-card ul:last-child{margin:0}.sn-card ul li{padding-bottom:2px}.sn-card ul li.is-last-of-type,.sn-card ul li:last-of-type{padding-bottom:0}.sn-card ul span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-card strong{font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-card p{font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;margin:0 0 4px}.sn-card p.is-last-child,.sn-card p.is-only-child,.sn-card p:last-child,.sn-card p:only-child{margin:0}.sn-card-list{list-style:none;margin:0;flex:1 1 auto;padding:16px;width:100%}.sn-panel--body .sn-card-list{padding-top:0}.sn-card .sn-card-list{padding:16px 0}.sn-card.mod-article .sn-card-list{padding:16px 0 0}.sn-card-list--header{align-items:center;color:#576667;display:flex;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;justify-content:center;overflow:hidden;padding:8px 0;width:100%}.sn-card-list--header:after,.sn-card-list--header:before{width:100%;height:1px;background:#576667;content:\\\"\\\"}.sn-card-list--header.is-first-child,.sn-card-list--header:first-child{padding-top:0}.sn-card-list--header span{display:inline-flex;flex:0 0 auto;padding:0 8px}.sn-card-list--separator{align-items:center;display:flex;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;justify-content:center;margin:0 0 8px;width:100%}.sn-card-list--separator:after,.sn-card-list--separator:before{height:1px;background:#cbcbcb;content:\\\"\\\";flex:1 1 auto;width:100%}.sn-card-list--separator.is-last-child,.sn-card-list--separator:last-child{margin-bottom:0}.sn-card-list--separator span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:0 0 auto;margin:0 8px}.sn-panel.mod-filter .sn-card-list{padding:0 8px 8px}.sn-panel.mod-inbox .sn-card-list{padding:0}.sn-panel.mod-stream .sn-card-list{padding:8px 0 0}.sn-section--body .sn-card-list{padding:box(\\\"sm\\\" 0 0)}.sn-presence-dot{width:8px;height:8px;background:#b1b1b1;border-radius:50%;display:inline-flex;flex:0 0 auto;position:relative}.sn-presence-dot.is-available{background:#48c891}.sn-presence-dot.is-available-partial{background:transparent;box-shadow:inset 0 0 0 2px #48c891}.sn-workspace-toolbar .sn-presence-dot.is-available-partial{align-items:center;background:#48c891;justify-content:center}.sn-workspace-toolbar .sn-presence-dot.is-available-partial:before{width:4px;height:4px;background:#293e40;border-radius:50%;content:\\\"\\\"}.sn-workspace-toolbar.is-selected .sn-presence-dot.is-available-partial:before{background:#fff}.sn-presence-dot.is-busy{background:#ff8c3e}.sn-presence-dot.is-changes,.sn-presence-dot.is-informative{background:#1f8476}.sn-presence-dot.is-error{background:#e65651}.sn-presence-dot.is-hidden{opacity:0}.sn-presence-dot.is-inactive{opacity:.4}.sn-presence-dot.is-unsaved{background:transparent;border:1px solid #a7b0b2}.sn-avatar .sn-presence-dot{right:-1px;bottom:-1px;position:absolute}.sn-avatar__xs .sn-presence-dot{width:6px;height:6px}.sn-avatar__sm .sn-presence-dot{width:8px;height:8px}.sn-avatar__md .sn-presence-dot{width:12px;height:12px}.sn-avatar__lg .sn-presence-dot,.sn-avatar__xl .sn-presence-dot,.sn-avatar__xxl .sn-presence-dot{width:16px;height:16px}.sn-popover--table .sn-presence-dot{margin:0 4px 0 0;top:-2px}.sn-popover--item .sn-presence-dot{margin:0 4px 0 0}.sn-status .sn-presence-dot{margin:0 8px 0 0}.sn-tab__meta.is-selected .sn-presence-dot.is-unsaved,.sn-tab__meta:focus .sn-presence-dot.is-unsaved,.sn-tab__meta:hover .sn-presence-dot.is-unsaved{border:1px solid #4a4a4a}.sn-workspace-toolbar .sn-presence-dot{top:8px;left:8px;position:absolute;width:12px;height:12px;border:2px solid #293e40;z-index:1}.sn-workspace-toolbar.is-selected .sn-presence-dot{border-color:#fff}*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}.sn-chrome-one-tab-container{position:relative}.sn-chrome-one-tab-container::-moz-focus-inner{border-style:none}.sn-chrome-one-tab-container:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-one-tab{align-items:center;background:RGB(var(--now-color--neutral-1,246,247,247));border-bottom:none;border-left:1px solid rgb(var(--now-color--neutral-7,135,147,148));border-right:1px solid rgb(var(--now-color--neutral-7,135,147,148));border-top:none;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;display:flex;flex:0 0 auto;font-size:1rem;justify-content:center;margin-left:-1px;position:relative;height:2.875rem;padding:0 1.75rem 0 1rem}.sn-chrome-one-tab::-moz-focus-inner{border-style:none}.sn-chrome-one-tab:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-one-tab.-default{border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-one-tab.is-hover,.sn-chrome-one-tab:hover{background:RGB(var(--now-color--neutral-2,228,230,231))}.sn-chrome-one-tab.is-selected{background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-one-tab.is-updated{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.sn-chrome-one-tab.is-updated:before{background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";height:.375rem;left:-1px;position:absolute;right:-1px;top:0}.sn-chrome-one-tab.is-updated.is-hover,.sn-chrome-one-tab.is-updated:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.sn-chrome-one-tab.is-disabled{cursor:default;opacity:.5;pointer-events:none}.sn-chrome-one-tab>now-badge{position:absolute;right:-1px;top:2px}.sn-chrome-one-tab.-default{height:2.5rem}.sn-chrome-one-tab.is-module{border-top:none}.sn-chrome-one-tab.is-module .has-presence{display:none}.sn-chrome-one-tab.is-selected:after{background:RGB(var(--now-color--neutral-0,255,255,255));bottom:-.0625rem;content:\\\"\\\";height:.0625rem;left:0;position:absolute;right:0}.sn-chrome-one-tab-content{align-items:center;display:inline-flex;flex:1 1 auto;overflow:hidden;position:relative}.sn-chrome-one-tab-content.has-icon,.sn-chrome-one-tab-content.has-presence{flex:0 0 auto}.sn-chrome-one-tab-content.has-icon{margin-right:.25rem}.sn-chrome-one-tab-content.has-presence{margin-left:-1rem;margin-right:.25rem;padding-left:.25rem}.sn-chrome-one-tab-content now-icon.is-positive{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-one-tab-content>span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-chrome-one-tab-close{display:flex;background:transparent;border:none;cursor:pointer;height:.8125rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-one-tab-close::-moz-focus-inner{border-style:none}.sn-chrome-one-tab-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-one-tab-close.is-hover,.sn-chrome-one-tab-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-one-tab.is-master-detail{background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-one-tab.is-master-detail[aria-selected=true]{border-bottom:1px solid rgb(var(--now-color--neutral-7,135,147,148))}\", \"\"]);\n\n// exports\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nclass OptionItem extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst { isHighlighted } = this.props;\n\t\tconst { isHighlighted: prevIsHighlighted } = prevProps;\n\t\tif (isHighlighted && !prevIsHighlighted && this.itemRef)\n\t\t\tthis.itemRef.focus();\n\t}\n\n\t_onItemClick = (e) => {\n\t\tconst {item, index, onItemClick} = this.props;\n\t\tonItemClick(item, index, e);\n\t};\n\n\t_renderDisabledItem = () => {\n\t\tconst {item, index} = this.props;\n\t\tconst { name, displayValue } = item;\n\t\treturn (\n\t\t\t<li key={`${name}_${index}`} className=\"sn-chrome-popover-list-item is-disabled\" role=\"presentation\">\n\t\t\t\t<div className=\"sn-chrome-popover-list-item-link\">\n\t\t\t\t\t<span className=\"sn-chrome-popover-text\">{displayValue}</span>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t};\n\n\t_getItemRef = (ref) => {\n\t\tthis.itemRef = ref;\n\t};\n\n\trender() {\n\t\tconst {item, isHighlighted} = this.props;\n\t\tconst { disabled, displayValue } = item;\n\t\tconst isHover = isHighlighted ? 'is-hover' : '';\n\n\t\treturn disabled ? this._renderDisabledItem() :\n\t\t\t(<li className=\"sn-chrome-popover-list-item\" role=\"presentation\">\n\t\t\t\t<a className={`sn-chrome-popover-list-item-link`} href=\"javascript:void(0)\" role=\"menuitem\" tabIndex=\"-1\"\n\t\t\t\t\tonClick={this._onItemClick} ref={this._getItemRef}>\n\t\t\t\t\t<span className=\"sn-chrome-popover-text\">{displayValue}</span>\n\t\t\t\t</a>\n\t\t\t</li>);\n\t}\n}\n\nOptionItem.propTypes = {\n\tindex: PropTypes.number,\n\titem: PropTypes.object,\n\tisHighlighted: PropTypes.bool,\n\tonItemClick: PropTypes.func\n};\n\nexport default OptionItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ChromeTabOverflow from '../chrome-tab-overflow/chromeTabOverflow';\nimport ControlMenu from '../chrome-popover/controlMenu';\nimport { withKeyCmd } from '../chrome-menu-with-key-event/chromeMenuWithKeyEvent';\n\nconst MoreOptionMenu = (props) => {\n\tconst { optionItems, highlightIdx, onItemClick, onItemClose, onNodeFocus } = props;\n\tlet tabs = optionItems.filter(it => it.itemType === 'tab');\n\tlet menuItems = optionItems.filter(it => it.itemType === 'menu');\n\n\treturn ([\n\t\t<div key=\"overflowTabs\" className=\"sn-chrome-popover-section\" id=\"popover-body-2\">\n\t\t\t<ChromeTabOverflow optionItems={tabs} highlightIdx={highlightIdx} onItemClick={onItemClick} onItemClose={onItemClose} onNodeFocus={onNodeFocus}/>\n\t\t</div>,\n\n\t\t<div key=\"closeOptions\" className=\"sn-chrome-popover-section\">\n\t\t\t<ControlMenu optionItems={menuItems} highlightIdx={highlightIdx - tabs.length} onItemClick={onItemClick} />\n\t\t</div>\n\t]);\n};\n\nMoreOptionMenu.propTypes = {\n\toptionItems: PropTypes.array,\n\tonItemClick: PropTypes.func,\n\tonItemClose: PropTypes.func\n\n};\nexport default withKeyCmd(MoreOptionMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport './overflowItemElement';\n\nconst ChromeTabOverflow = (props) => {\n\tconst { optionItems, highlightIdx, onItemClick, onItemClose, onNodeFocus } = props;\n\n\treturn (\n\t\t<ul className=\"sn-chrome-popover-list\" role=\"menu\">\n\t\t\t{optionItems.map((item, idx) => {\n\t\t\t\treturn <sn-workspace-overflow-item key={item.tab_id} tab={item} isHighlighted={highlightIdx === idx} index={idx}\n\t\t\t\t\t\t\tonItemClick={onItemClick} onItemClose={onItemClose} onNodeFocus={onNodeFocus} hasUpdate={item.hasUpdate}/>;\n\t\t\t})}\n\t\t</ul>);\n};\n\nChromeTabOverflow.propTypes = {\n\toptionItems: PropTypes.array,\n\tonItemClick: PropTypes.func,\n\tonItemClose: PropTypes.func,\n\tonNodeFocus: PropTypes.func\n};\n\nexport default ChromeTabOverflow;\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {handlerMap} from \"../chrome-one-tab/chromeOneTab.effects\";\nimport {default as OverflowItem} from './overflowItem';\nimport styles from './_overflowItem.scss';\n\nexport default createCustomElement('sn-workspace-overflow-item', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: OverflowItem\n\t},\n\n\tstyles,\n\n\tproperties: {\n\t\ttab: {},\n\t\tindex: {},\n\t\tisHighlighted: {},\n\t\tonItemClick: {},\n\t\tonItemClose: {},\n\t\tonNodeFocus: {},\n\t\thasUpdate: {}\n\t},\n\n\tactions: handlerMap\n});\n","import React, {Component} from 'react';\nimport {t} from 'sn-translate';\nimport isEqual from 'lodash/isEqual';\nimport pick from 'lodash/pick';\nimport * as oneTabUtil from '../chrome-one-tab/chromeOneTab.util';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-tooltip';\n\nclass OverflowItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\t//required for nds tooltips. initial ref isn't set when the tooltip tries to utilize it\n\t\tthis.forceUpdate();\n\n\t\tconst { title, tab_id, table} = this.props.properties.tab;\n\t\tif (!title) {\n\t\t\toneTabUtil.initDisplayColumnOrTitle(this.props);\n\t\t}\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst oneTabData = pick(nextProps.properties, ['tab', 'tabType', 'isHighlighted']);\n\t\tconst prevOneTabData = pick(this.props.properties, ['tab', 'tabType', 'isHighlighted']);\n\n\t\treturn !isEqual(oneTabData, prevOneTabData);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst {properties: {isHighlighted}} = this.props;\n\t\tconst {properties: {isHighlighted: prevIsHighlighted}} = prevProps;\n\t\tif (isHighlighted && !prevIsHighlighted && this.itemRef)\n\t\t\tthis.itemRef.focus();\n\t}\n\n\t_onItemClick = (e) => {\n\t\tconst {properties: {tab, onItemClick}} = this.props;\n\t\tonItemClick(tab, tab.tabOrder, e);\n\t};\n\n\t_onItemClose = (e) => {\n\t\te.stopPropagation();\n\t\tconst {properties: {tab, onItemClose}} = this.props;\n\t\tonItemClose(tab, e);\n\t};\n\n\t_onKeyUp = (e) => {\n\t\tif (e.keyCode === 9) {\n\t\t\tconst {properties: {index, onNodeFocus}} = this.props;\n\t\t\tonNodeFocus(index);\n\t\t}\n\t};\n\n\t_getItemRef = (ref) => {\n\t\tthis.itemRef = ref;\n\t};\n\n\trender() {\n\t\tconst {properties: {tab, hasUpdate}} = this.props;\n\t\tconst {tab_id, title} = tab;\n\t\tconst styleClass = 'sn-chrome-popover-list-item ' + (hasUpdate ? 'has-update' : '');\n\t\tconst closeBtn_tooltip = t('Close Tab');\n\n\t\treturn (\n            <li className={styleClass} role=\"presentation\" >\n\t\t\t\t<a className={`sn-chrome-popover-list-item-link`} onClick={this._onItemClick} href=\"javascript:void(0)\"\n\t\t\t\t\trole=\"menuitem\" tabIndex=\"-1\" ref={this._getItemRef}>\n\t\t\t\t\t<span className=\"sn-chrome-popover-text\">{title}</span>\n\t\t\t\t</a>\n\t\t\t\t<button ref={elem => this.overflowBtnElem = elem} type=\"button\" className=\"overflow-close-btn sn-chrome-popover-list-item-close\"\n\t\t\t\t\taria-label={closeBtn_tooltip} onClick={this._onItemClose} onKeyUp={this._onKeyUp} >\n\t\t\t\t\t<now-icon component-id={'overflow-close-tab-' + tab_id} icon=\"circle-close-outline\" size=\"sm\"/>\n\t\t\t\t</button>\n\t\t\t\t<now-tooltip target-ref={this.overflowBtnElem} content={closeBtn_tooltip} />\n\t\t\t</li>\n        );\n\t}\n}\n\nexport default OverflowItem;\n","module.exports = __TECTONIC__lodash_4_17_4[\"pick\"];","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_overflowItem.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}:host{width:100%;height:100%}\", \"\"]);\n\n// exports\n","'use strict';\nimport {getModuleTab, isMasterDetail, isModuleTab} from \"../../sn-workspace-tabs/snWorkspaceTabs.moduleTab\";\nimport * as constants from \"../../constants/constants\";\n\n\nexport function getOverflowDisabled(tabList) {\n\tconst { length } = tabList;\n\treturn length == 0 || (length === 1 && !tabList[0].canClose);\n}\n\nexport function transformCloseMenuItems(closeMenu, activeTab, tabList) {\n\tconst { length } = tabList;\n\tlet isPivotActive = !!(activeTab && !activeTab.canClose);\n\tlet isDetailsTabTheOnlyOtherTab = length === 2 && activeTab && activeTab.canClose && !tabList[0].canClose; // the only other tab is the details tab\n\treturn closeMenu.items.map( it => {\n\t\tlet disabled = false;\n\t\tswitch(it.name) {\n\t\t\tcase constants.CLOSE_TAB_MENU_ITEM: disabled = (length === 0 || !activeTab || isPivotActive); break;\n\t\t\tcase constants.CLOSE_OTHER_TABS_MENU_ITEM: disabled = (length <= 1 || !activeTab || isDetailsTabTheOnlyOtherTab); break;\n\t\t\tcase constants.CLOSE_ALL_TABS_MENU_ITEM: disabled = (length <= 1); break;\n\t\t}\n\t\treturn {...it, itemType: 'menu', disabled};\n\t});\n}\n\nfunction _getPopoverProps(t, isActive) {\n\tlet formHeaderInfo = t.formHeaderInfo || null;\n\tlet tooltipPosition = 'top-center bottom-center';\n\tlet tooltipContent;\n\n\tif (!formHeaderInfo)\n\t\ttooltipContent = t.tooltipInfo || t.title;\n\n\tif (isActive) {\n\t\ttooltipContent = null;\n\t\tformHeaderInfo = null;\n\t\ttooltipPosition = null;\n\t}\n\n\treturn {\n\t\ttooltipContent,\n\t\ttooltipPosition,\n\t\tformHeaderInfo\n\t};\n}\n\nexport function updateState(props, state, totalWidth) {\n\tconst {properties: {tabList = [], selectedTabId, closeMenu}} = props;\n\tif(tabList.length === 0)\n\t\treturn state;\n\n\tlet { length } = tabList;\n\n\tconst selectedTabIdx = tabList.findIndex(t=>t.tab_id == selectedTabId);\n\tconst selectedTab = tabList[selectedTabIdx];\n\n\tlet closeMenuItems = transformCloseMenuItems(closeMenu, selectedTab, tabList);\n\tconst gap = 4, // right margin space among tabs\n\t\tminTabWidth = 88,\n\t\tmaxTabWidth = 166,\n\t\tmaxTabWidthModule = 240,\n\t\tminTabWidthModule = 110;\n\n\tconst standardTabSpace = maxTabWidth + gap,\n\t\tmoduleTabSpace = maxTabWidthModule + gap ,\n\t\tminTabSpace = minTabWidth + gap,\n\t\tmustHaveSpace = moduleTabSpace + standardTabSpace,\n\t\tuncompressedTabSpace = standardTabSpace * (length - 1) + moduleTabSpace;\n\n\tlet tabWidth = maxTabWidth, hasOverflowUpdate = false,\n\t\tvisibleList = tabList,\n\t\toverflowList = [];\n\n\tif (totalWidth > mustHaveSpace) {\n\t\tlet count;\n\n\t\t// We don't have enough room and must compress tab width\n\t\tif (uncompressedTabSpace > totalWidth) {\n\t\t\t({ tabWidth } = state);\n\n\t\t\t// Without shrinking the module tab or the active tab (if present), figure out how much space for each of\n\t\t\t// the remaining tabs\n\t\t\tlet newTabSpace = isModuleTab(selectedTab) ?\n\t\t\t\t((totalWidth - moduleTabSpace) / (length - 1)) :\n\t\t\t\t((totalWidth - moduleTabSpace - standardTabSpace) / (length - 2));\n\n\t\t\t// Ensure this isn't lower than our minimum\n\t\t\tnewTabSpace = Math.max(minTabSpace, newTabSpace);\n\n\t\t\t// Figure out how many tabs we can fit in the available area using this width\n\t\t\tcount = isModuleTab(selectedTab) ?\n\t\t\t\t(Math.floor( (totalWidth - moduleTabSpace) / newTabSpace) + 1) :\n\t\t\t\t(Math.floor( (totalWidth - moduleTabSpace - standardTabSpace) / newTabSpace) + 2);\n\n\t\t\ttabWidth = newTabSpace - gap;\n\t\t}\n\n\t\t// Calculate the space required for all tabs at the current width\n\t\tconst spaceRequired = isModuleTab(selectedTab) ?\n\t\t\t(moduleTabSpace + (tabWidth + gap)*(length - 1)) :\n\t\t\t(moduleTabSpace + standardTabSpace + (tabWidth + gap)*(length - 2));\n\n\t\t// We don't have enough space for all of the tabs and need to collapse some\n\t\tif (spaceRequired > totalWidth) {\n\t\t\tlet newTabList = tabList.slice(0);\n\t\t\tconst lastVisibleIdx = count - 1;\n\n\t\t\t// If the selected tab is further to the right of the last tab we have room for, move it to the last visible position\n\t\t\tif (selectedTabIdx > lastVisibleIdx) {\n\t\t\t\tnewTabList.splice(selectedTabIdx, 1); // delete the activeTab from newTabList\n\t\t\t\tnewTabList.splice(lastVisibleIdx, 0, selectedTab); // insert activeTab at lastVisibleIdx\n\t\t\t}\n\n\t\t\tvisibleList = newTabList.slice(0, lastVisibleIdx + 1);\n\t\t\toverflowList = newTabList.slice(lastVisibleIdx + 1).map( (it, i) => ({...it, itemType: 'tab', itemOrder: i}));\n\t\t\thasOverflowUpdate = overflowList.some( t => t.hasUpdate );\n\t\t}\n\t}\n\n\tvisibleList = visibleList.map( (t, i) => {\n\t\tconst popoverProps = _getPopoverProps(t, selectedTabId === t.tab_id);\n\t\tconst style = getTabStyle(t);\n\t\treturn {...t, style, ...popoverProps, tabOrder: i};\n\t});\n\n\tfunction getTabStyle(t){\n\t\tif(isMasterDetail(t))\n\t\t\treturn { width: maxTabWidthModule};\n\n\t\tif(isModuleTab(t))\n\t\t\treturn {minWidth: minTabWidthModule, maxWidth: maxTabWidthModule};\n\n\t\tif(t.tab_id === selectedTabId)\n\t\t\treturn {width: maxTabWidth};\n\n\t\treturn {width: tabWidth};\n\t}\n\n\tlet optionItems = overflowList.concat(closeMenuItems);\n\n\treturn {...state, tabWidth, visibleList, focusedTabIdx: selectedTabIdx, optionItems, badgeCount: overflowList.length, overflowDisabled: getOverflowDisabled(tabList), hasOverflowUpdate};\n\n\n\n}\n\n\nexport function buildOverflowStyle(type, overflowDisabled, badgeCount, hasOverflowUpdate) {\n\tlet overflowClassNames = 'sn-chrome-tabs-btn';\n\n\tif (overflowDisabled)\n\t\toverflowClassNames += ' is-disabled';\n\telse {\n\t\toverflowClassNames += type === 'default' ? ' -default' : ' -close';\n\n\t\tif (badgeCount > 0)\n\t\t\toverflowClassNames += ' has-badge ' +  (hasOverflowUpdate ? 'is-updated' : 'is-activated');\n\t}\n\n\treturn overflowClassNames;\n}\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_chromeTabs.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}:host{display:flex;width:100%}.sn-chrome-tabs{background:RGB(var(--now-color--neutral-1,246,247,247));border-bottom:1px solid rgb(var(--now-color--neutral-7,135,147,148));display:inline-flex;min-width:12.5rem;position:relative;width:100%}.sn-chrome-tabs-dropdown-container .sn-chrome-popover-container{display:inline}.sn-chrome-tabs.-default{background:RGB(var(--now-color--neutral-0,255,255,255));border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181));padding-left:1.0625rem}.sn-chrome-tabs-content{align-items:center;display:inline-flex;flex:1 1 auto;position:relative}.sn-chrome-tabs-content:last-of-type{flex:0 0 auto}.sn-chrome-tabs-group{list-style:none;margin:0;padding:0;display:inline-flex;flex:0 0 auto;max-width:100%;position:relative}.sn-chrome-tabs-btn{align-items:center;background:RGB(var(--now-color--neutral-1,246,247,247));border-bottom:none;border-left:1px solid rgb(var(--now-color--neutral-7,135,147,148));border-right:1px solid rgb(var(--now-color--neutral-7,135,147,148));border-top:none;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;display:flex;flex:0 0 auto;font-size:1rem;justify-content:center;margin-left:-1px;position:relative;height:2.875rem;width:3.75rem}.sn-chrome-tabs-btn::-moz-focus-inner{border-style:none}.sn-chrome-tabs-btn:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-tabs-btn.-default{border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-tabs-btn.is-hover,.sn-chrome-tabs-btn:hover{background:RGB(var(--now-color--neutral-2,228,230,231))}.sn-chrome-tabs-btn.is-selected{background:RGB(var(--now-color--neutral-0,255,255,255))}.sn-chrome-tabs-btn.is-updated{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.sn-chrome-tabs-btn.is-updated:before{background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";height:.375rem;left:-1px;position:absolute;right:-1px;top:0}.sn-chrome-tabs-btn.is-updated.is-hover,.sn-chrome-tabs-btn.is-updated:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.sn-chrome-tabs-btn.is-disabled{cursor:default;opacity:.5;pointer-events:none}.sn-chrome-tabs-btn>now-badge{position:absolute;right:-1px;top:2px}.sn-chrome-tabs-btn.-close{margin-right:-1px}.sn-chrome-tabs-btn.-default,.sn-chrome-tabs.-default .sn-chrome-tabs-btn{height:2.5rem}.sn-chrome-tabs-btn.-default.is-disabled,.sn-chrome-tabs.-default .sn-chrome-tabs-btn.is-disabled{border-color:transparent}.sn-chrome-tabs-btn.-default::-moz-focus-inner{border-style:none}.sn-chrome-tabs-btn.-default:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-tabs-btn.-default:not(.is-updated){background:transparent;border-color:transparent}.sn-chrome-tabs-btn.-default:not(.is-updated).is-hover,.sn-chrome-tabs-btn.-default:not(.is-updated):hover{background:RGB(var(--now-color--neutral-2,228,230,231));border-color:RGB(var(--now-color--neutral-5,172,180,181))}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceTabs.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}.sn-workspace-tabs-container,:host(sn-workspace-tabs){display:flex;position:relative}.sn-workspace-tabs-container{width:100%}.sn-workspace-tabs-container .sn-workspace-stopper-prompt-container{position:fixed;top:0;left:0;z-index:4000;width:100%;height:100%}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {default as snWorkspaceSubTabs} from './snWorkspaceSubTabs';\nimport {CLOSE_DIRTY_TABS, EDS_MODAL_OPENED_SET, EDS_MODAL_FOOTER_ACTION_CLICKED} from '../constants/constants';\nimport {tabsDataInitPropBehavior} from '../utils/behaviors/selectableProps.behaviors';\nimport styles from './_snWorkspaceSubTabs.scss';\n\nexport default createCustomElement('sn-workspace-sub-tabs', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: snWorkspaceSubTabs\n\t},\n\n\tstyles,\n\n\tbehaviors: [tabsDataInitPropBehavior],\n\n\tproperties:{\n\t\tlevel: {default: 1}\n\t},\n\n\tactionHandlers: {\n\t\t[EDS_MODAL_FOOTER_ACTION_CLICKED]: ({action: {payload: {modal, action: {closeDirtyTabs}}}, dispatch}) => {\n\t\t\tif(modal === CLOSE_DIRTY_TABS)\n\t\t\t\tdispatch(CLOSE_DIRTY_TABS, {closeDirtyTabs});\n\t\t},\n\t\t[EDS_MODAL_OPENED_SET]: ({action: {payload: {modal, value}}, dispatch}) => {\n\t\t\tif(modal === CLOSE_DIRTY_TABS && value === false)\n\t\t\t\tdispatch(CLOSE_DIRTY_TABS, {closeDirtyTabs: false});\n\t\t},\n\t}\n});\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport * as constants from '../constants/constants';\nimport {t} from 'sn-translate';\n\nimport '@servicenow/now-modal';\nimport '../internal-components/chrome-tabs/chromeTabsElement';\nimport { addResizeListener } from 'sn-seismic-addons';\n\nimport { menuConfig } from '../constants/ws_config';\nimport * as tabUtils from '../sn-workspace-tabs/snWorkspaceTabs.util';\n\nimport {get, isEmpty} from 'lodash';\nimport {isModuleTab} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {CLOSE_DIRTY_TABS} from '../constants/constants';\n\nclass SnWorkspaceSubTabs extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.initialize();\n\t}\n\n\tinitialize(){\n\t\tthis.ancestors = [];\n\t\tconst initialState = {\n\t\t\tmaxWidth: 0,\n\t\t\ttabsData: {tabList: [], selectedTabId: '-1', parentTabId: null}\n\t\t};\n\n\t\t// Initial state can be set directly\n\t\tif(isEmpty(this.state))\n\t\t\tthis.state = initialState;\n\t\telse\n\t\t\tthis.setState(initialState);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setTabsData(this.props.properties.tabsData);\n\t\tthis.removeResizeListener = addResizeListener(this.resize);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst {properties: {tabsData}} = nextProps;\n\t\tthis.setTabsData(tabsData);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.resize();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.removeResizeListener();\n\t}\n\n\tresize = () => {\n\t\tif(!this.tabsRef)\n\t\t\treturn;\n\n\t\tconst setMaxWidth = () => {\n\t\t\tconst maxWidth = this.tabsRef.clientWidth - 8; // 8: left padding of the container\n\t\t\tif(maxWidth !== this.state.maxWidth)\n\t\t\t\tthis.setState({maxWidth});\n\t\t};\n\n\t\tif (this.tabsRef.clientWidth)\n\t\t\tsetMaxWidth();\n\t\telse\n\t\t\tsetTimeout(() => setMaxWidth()); //sub tab's clientWidth may not be ready. e.g. creating new tab via plus menu in FF\n\n\t};\n\n\tgetTabsRef = (tabs) => {\n\t\tthis.tabsRef = tabs;\n\t};\n\n\tsetTabsData(tabsData) {\n\t\tif (!tabsData)\n\t\t\treturn;\n\n\t\tconst level = this.props.properties.level || 1;\n\t\tlet parentTab = tabsData;\n\t\tthis.ancestors = [];\n\t\tfor(let i = 0; i < level; i++){\n\t\t\tparentTab = tabUtils.getSelectedTab(parentTab);\n\t\t\t// If a primary tab is found in the tab tree, reset tabs data to an empty state. No sub tabs should\n\t\t\t// be rendered.\n\t\t\tif(!parentTab || isModuleTab(parentTab)){\n\t\t\t\tthis.initialize();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.ancestors.push(parentTab.tab_id);\n\t\t}\n\n\t\tthis.setState({tabsData: parentTab});\n\t}\n\n\t_onClickSubTabs = (tab_id, e) => {\n\t\tthis.props.dispatch(constants.SELECT_TAB, {tab_ids: [...this.ancestors, tab_id]});\n\t};\n\n\t_onCloseSubTab = (tab_id, e) => {\n\t\tthis.props.dispatch(constants.SUB_TAB_CLOSE_CLICKED, {tab_id});\n\t};\n\n\t_onClickCloseMenuItem = (menuItem, itemIdx) => {\n\t\tconst {dispatch} = this.props;\n\t\tconst { selectedTabId } = this.state.tabsData;\n\t\tdispatch(constants.SUB_TAB_CLOSE_MENU_CLICKED, {menuItem, selectedTabId});\n\t};\n\n\t_renderDirtyTabModal() {\n\t\tconst {properties: {tabsData}} = this.props;\n\t\tconst { closeIdList = []} = tabsData;\n\n\t\tconst {\n\t\t\tCLOSE_DIRTY_TAB_MODAL_TITLE,\n\t\t\tCLOSE_DIRTY_TAB_MODAL_MESSAGE,\n\t\t\tEDS_MODAL_CANCEL_BTN,\n\t\t\tEDS_MODAL_CONFIRM_BTN,\n\t\t\tCLOSE_DIRTY_TABS,\n\t\t\tCLOSE_DIRTY_TAB_MODAL_CLOSE_BTN\n\t\t} = constants;\n\n\t\tlet closeMessage = CLOSE_DIRTY_TAB_MODAL_MESSAGE;\n\n\t\tif (closeIdList.length > 0){\n\t\t\tconst activeTab = tabUtils.getSelectedTab(tabsData);\n\t\t\tlet message = get(activeTab, 'message', null);\n\t\t\tif (message)\n\t\t\t\tcloseMessage = message;\n\t\t}\n\n\n\t\treturn closeIdList.length > 0 ? (\n\t\t\t<div className=\"sn-workspace-subtabs-prompt-container\">\n\t\t\t\t<now-modal\n\t\t\t\t\topened={closeIdList.length > 0}\n                \t\t\tappend-to-payload={{modal: CLOSE_DIRTY_TABS}}\n                \t\t\tsize='sm'\n                \t\t\theader-label={CLOSE_DIRTY_TAB_MODAL_TITLE}\n                \t\t\tcontent={closeMessage}\n\t\t\t\t\tfooter-actions={[{\n\t\t\t\t\t    ...EDS_MODAL_CONFIRM_BTN,\n\t\t\t\t\t    label:CLOSE_DIRTY_TAB_MODAL_CLOSE_BTN,\n\t\t\t\t\t    closeDirtyTabs: true\n\t\t\t\t\t},{\n\t\t\t\t\t    ...EDS_MODAL_CANCEL_BTN,\n\t\t\t\t\t    closeDirtyTabs: false\n\t\t\t\t\t}]}\n\t\t\t\t/>\n\t\t\t</div>\n\t    ) : null;\n\t}\n\n\trender() {\n\t\tconst { tabList, selectedTabId, parentTabId } = this.state.tabsData;\n\t\tif (!tabList || tabList.length === 0)\n\t\t\treturn null;\n\n\t\tconst type = \"default\";\n\t\tconst { closeMenu } = menuConfig;\n\n\t\treturn (\n\t\t\t<div ref={this.getTabsRef} aria-label={t('Workspace Sub Tabs')} className=\"sn-workspace-sub-tabs\" id={`chrome-sub-tabs-${parentTabId}`} role=\"tabpanel\">\n\t\t\t\t<sn-workspace-tab-bar\n\t\t\t\t\ttabsMaxWidth={this.state.maxWidth}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tselectedTabId={selectedTabId}\n\t\t\t\t\tparentTabId={parentTabId}\n\t\t\t\t\ttabList={tabList}\n\t\t\t\t\tcloseMenu={closeMenu}\n\t\t\t\t\tonClickTab={this._onClickSubTabs}\n\t\t\t\t\tonCloseTab={this._onCloseSubTab}\n\t\t\t\t\tonMenuClose={this._onClickCloseMenuItem}\n\t\t\t\t/>\n\t\t\t\t{this._renderDirtyTabModal()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSnWorkspaceSubTabs.propTypes = {\n\tdataMenu: PropTypes.string,\n\tlevel: PropTypes.number\n};\n\nexport default SnWorkspaceSubTabs;\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceSubTabs.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}:host(sn-workspace-sub-tabs){display:flex;width:100%}.sn-workspace-sub-tabs{padding-top:1rem;width:100%}.sn-workspace-sub-tabs .sn-workspace-subtabs-prompt-container{position:fixed;top:0;left:0;z-index:4000;width:100%;height:100%}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {default as WorkspaceToolbar} from './snWorkspaceToolbar';\nimport {WORKSPACE_NAV_SELECTED} from '../constants/constants';\nimport {preUserRoles, wsModuleConf} from '../constants/presource.behaviors';\nimport {tabsDataInitPropBehavior, updateModuleInitPropBehavior} from '../utils/behaviors/selectableProps.behaviors';\nimport styles from './_snWorkspaceToolbar.scss';\nimport {actionHandlers} from './snWorkspaceToolbar.effects';\nimport {handleKeyCmd} from './snWorkspaceToolbar.util';\n\nexport default createCustomElement('sn-workspace-toolbar', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WorkspaceToolbar\n\t},\n\tstyles,\n\tbehaviors: [preUserRoles, wsModuleConf, tabsDataInitPropBehavior, updateModuleInitPropBehavior],\n\tactionHandlers,\n\teventHandlers: [{\n\t\tevents: ['keyup'],\n\t\teffect(coeffect) {\n\t\t\tconst {action: {payload: {event}}} = coeffect;\n\t\t\thandleKeyCmd(coeffect, event);\n\t\t}\n\t}],\n\tactionTypes: [WORKSPACE_NAV_SELECTED],\n\tproperties: {\n\t\tselected: {\n\t\t\tdefault: null,\n\t\t},\n\t\tpreviousSelected: {\n\t\t\tdefault: null,\n\t\t},\n\t\twindowSelected: {\n\t\t\tdefault: null,\n\t\t},\n\t\thighlighted: {\n\t\t\tdefault: null,\n\t\t},\n\t\thighlightedIdx: {\n\t\t\tdefault: 0,\n\t\t},\n\t\toptionItems: {},\n\t},\n});\n","import { t } from 'sn-translate';\nimport react from '@servicenow/ui-renderer-react';\n\nconst WorkspaceToolbar = () => {\n\treturn (\n\t\t<div className=\"sn-workspace-toolbar\">\n\t\t\t<div\n\t\t\t\tclassName=\"sn-workspace-toolbar-container\"\n\t\t\t\trole=\"toolbar\"\n\t\t\t\taria-orientation=\"vertical\"\n\t\t\t\taria-label={t('Main Workspace Navigation')}\n\t\t\t>\n\t\t\t\t<div className=\"sn-workspace-toolbar-group\">{react.createSlot()}</div>\n\t\t\t\t<div className=\"sn-workspace-toolbar-group\">\n\t\t\t\t\t{react.createSlot(null, 'toolbar-bottom')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default WorkspaceToolbar;\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceToolbar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-workspace-toolbar{background:RGB(var(--now-color--neutral-15,44,53,55));justify-content:start;padding:0 0 1rem;z-index:3}.sn-workspace-toolbar,.sn-workspace-toolbar-container{align-items:flex-start;display:inline-flex;flex:0 0 auto;flex-direction:column;height:100%}.sn-workspace-toolbar-container{justify-content:space-between;overflow:hidden;position:relative}.sn-workspace-toolbar-group{list-style:none;margin:0;padding:0;display:inline-flex;flex:0 0 auto;flex-direction:column;position:relative}\", \"\"]);\n\n// exports\n","import {actionTypes} from '@servicenow/ui-core';\nimport isEqual from 'lodash/isEqual';\nimport {\n\tWORKSPACE_NAV_SELECTED,\n\tMODULE_CONFIG_KEY,\n\tMASTER_DETAIL_TARGET,\n\tMASTER_DETAIL_TOGGLED,\n\tWORKSPACE_TOOLBAR_BUTTON_CLICKED\n} from '../constants/constants';\n\nimport { preUserRoles, getBehaviorProp } from '../constants/presource.behaviors';\nimport { initConfigData } from './config';\n\nimport {\n\tbuildSelectedActionPayload,\n\tmapSelectedToState,\n\tupdateButtonProps,\n\tfindButtonById,\n\tmergeButtonDataFromSlot,\n\tupdatePropertiesHelper\n} from './snWorkspaceToolbar.util';\nimport {getPropertyChangedReducer} from './snWorkspaceToolbar.reducers';\nimport { getModuleId } from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\n\nconst {\n\tCOMPONENT_DOM_TREE_READY,\n\tCOMPONENT_PROPERTY_CHANGED,\n} = actionTypes;\n\n// Helper function to prevent property updates of read only selectable props.\n\nfunction toolbarDomTreeReady({ host, state, properties, updateProperties, dispatch }) {\n\tconst agentRoles = getBehaviorProp(state, preUserRoles.name);\n\tconst moduleConfig = getBehaviorProp(state, MODULE_CONFIG_KEY);\n\tconst initialOptionItems = initConfigData(moduleConfig, agentRoles);\n\tconst optionItems = mergeButtonDataFromSlot(host.shadowRoot, initialOptionItems);\n\n\tupdateButtonProps(host, {...properties, optionItems}, (btn, evt, elem) => {\n\t\tevt.preventDefault();\n\t\tdispatch(WORKSPACE_TOOLBAR_BUTTON_CLICKED, {btn, elem});\n\t});\n\n\tupdateProperties({ optionItems });\n}\n\nfunction toolbarPropChanged(coeffects) {\n\tconst { host, action, dispatch, properties } = coeffects;\n\tconst { name, previousValue, value } = action.payload;\n\tconst propertyReducer = getPropertyChangedReducer(name);\n\n\tupdateButtonProps(host, properties, (btn, evt, elem) => {\n\t\tevt.preventDefault();\n\t\tdispatch(WORKSPACE_TOOLBAR_BUTTON_CLICKED, {btn, elem});\n\t});\n\tif (!isEqual(value, previousValue)) {\n\t\tpropertyReducer(coeffects);\n\t}\n}\n\nfunction toolbarButtonClickEffect({action, dispatch, properties, updateProperties}) {\n\tconst {btn} = action.payload;\n\tconst {optionItems, previousSelected} = properties;\n\tif (btn.type === MASTER_DETAIL_TARGET && btn.id === getModuleId(properties.tabsData)) {\n\t\tdispatch(MASTER_DETAIL_TOGGLED, {moduleId: btn.id});\n\t}\n\n\tconst id = btn.id ? btn.id : previousSelected;\n\n\tconst button = findButtonById(optionItems, id);\n\n\tif (!button) {\n\t\treturn;\n\t}\n\n\t// handle state update\n\tlet newState = mapSelectedToState(properties, button);\n\n\t// handle action dispatch. We pass selected here to indicate what will be selected by the toolbar.\n\t// In the case of window or flyout modules, the selected will not change.\n\tupdatePropertiesHelper(updateProperties, newState);\n\tif(button.type !== MASTER_DETAIL_TARGET){\n\t\tconst {selected, windowSelected} = newState;\n\t\tlet value = selected !== null;\n\t\tif(windowSelected)\n\t\t\tvalue = windowSelected !== null;\n\t\tconst actionPayload = buildSelectedActionPayload(button, value);\n\t\tdispatch(WORKSPACE_NAV_SELECTED, actionPayload);\n\t}\n}\n\nexport const actionHandlers = {\n\t[COMPONENT_DOM_TREE_READY]: toolbarDomTreeReady,\n\t[COMPONENT_PROPERTY_CHANGED]: toolbarPropChanged,\n\t[WORKSPACE_TOOLBAR_BUTTON_CLICKED]: toolbarButtonClickEffect,\n};\n","import {getElements} from \"../internal-components/chrome-tab-panels/slotUtils\";\nimport {getAllElements} from \"../utils/updateSlotProps\";\n\nexport function getButtonsFromSlot(node) {\n\tif (!node)\n\t\treturn;\n\n\tconst rootNode = node.getRootNode();\n\tif (!rootNode)\n\t\treturn;\n\n\treturn getAllElements(rootNode);\n}\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {default as SnWorkspaceLayout} from './snWorkspaceLayout';\nimport {createErrorHandlerBehavior} from 'sn-component-error-handler';\nimport { openFramePropsBehavior } from '../utils/behaviors/selectableProps.behaviors';\nimport {tabRootBehaviors} from '../sn-workspace-tabs/snWorkspaceTabs.behaviors';\nimport {notificationsRootBehavior} from '../sn-workspace-notification/snWorkspaceNotification.behaviors';\nimport {toolbarRootBehavior} from \"../sn-workspace-toolbar/snWorkspaceToolbar.behaviors\";\nimport {actionHandlers} from './snWorkspaceLayout.effects';\nimport styles from './_snWorkspaceLayout.scss';\nimport {preWsConfigSysId} from '../constants/presource.behaviors';\n\nexport default createCustomElement('sn-workspace-layout', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: SnWorkspaceLayout\n\t},\n\n\tstyles,\n\n\tbehaviors: [\n\t\tcreateErrorHandlerBehavior(),\n\t\t...tabRootBehaviors,\n\t\tnotificationsRootBehavior,\n\t\ttoolbarRootBehavior,\n\t\tpreWsConfigSysId,\n\t\topenFramePropsBehavior\n\t],\n\n\tproperties: {\n\t\tworkspaceLoaded: {\n\t\t\tselectable: true\n\t\t},\n\t\tconfigItemsLinks : {\n\t\t\tselectable: true\n\t\t},\n\t\tselectedPanelId : {\n\t\t\tselectable: true\n\t\t},\n\t\tpanelsData : {},\n\t\tisPrimaryContent : false\n\t},\n\n\tactionHandlers\n});\n","import React from 'react';\n\nimport react from '@servicenow/ui-renderer-react';\nimport {t} from 'sn-translate';\nimport {BEHAVIOR_NAME} from 'sn-component-error-handler';\n\nimport '../sn-workspace-notification/ws-notification-toast/wsNotificationToastElement';\nimport '../sn-workspace-notification/ws-notification-tray/wsNotificationTrayElement';\nimport '../sn-workspace-breadcrumb/snWorkspaceBreadcrumbElement';\nimport '../sn-workspace-router/snWorkspaceRouterElement';\nimport {renderDeferredSlot, isBrowserSupported} from '../utils';\nimport * as consts from '../constants/constants';\nimport ChromeLayoutHandlerContainer from '../internal-components/chrome-layout-handler-container/chromeLayoutHandlerContainer';\nimport {wsBrandTheme, getPagePropNavMode, getTransactionSource} from '../constants/ws_config';\nimport {applyBrandingTheme} from '../utils/theme';\n\nclass SnWorkspaceLayout extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isBrowserSupported = isBrowserSupported();\n\t\tthis.navMode = getPagePropNavMode();\n\n\t\tthis._applyTheme(wsBrandTheme);\n\t}\n\n\t_applyTheme(brandTheme) {\n\t\tconst {brandColor, primaryColor} = brandTheme;\n\t\tif (brandColor || primaryColor)\n\t\t\tapplyBrandingTheme(brandColor, primaryColor);\n\t}\n\n\t_renderSlot(slotName) {\n\t\tconst {properties: {children}}= this.props;\n\t\treturn react.createSlot(children, slotName);\n\t}\n\n\t_setPageRef = (elem) => {\n\t\tthis.pageRef = elem;\n\t};\n\n\t_renderWorkspace() {\n\t\tconst {modalOpen, error} = this.props.behaviors[BEHAVIOR_NAME] || {};\n\t\treturn (\n\t\t\t<div id=\"ws-page\" ref={this._setPageRef} className=\"sn-workspace-layout\">\n\t\t\t\t{this._renderSlot('header')}\n\t\t\t\t<sn-workspace-router selected-content={this.props.properties.selectedContent}/>\n\t\t\t\t<sn-workspace-notification-toast/>\n\n\t\t\t\t<div className=\"sn-workspace-layout-body\">\n\t\t\t\t\t<nav aria-label={t('Toolbar')} className=\"sn-workspace-layout-toolbar\">\n\t\t\t\t\t\t{this._renderSlot('layout-mode-buttons')}\n\t\t\t\t\t</nav>\n\n\t\t\t\t\t<div className=\"sn-workspace-layout-content-area\" id=\"chrome-main-wrapper\">\n\t\t\t\t\t\t{this._renderNav()}\n\t\t\t\t\t\t<main className=\"sn-workspace-layout-main-content\">{this._renderSlot('main-content')}</main>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{this._renderSlot('notification-tray')}\n\n\t\t\t\t</div>\n\n\t\t\t\t{this._renderSlot('openframe-cti')}\n\t\t\t\t<sn-canvas-error-modal modalOpen={modalOpen} error={error} />\n\t\t\t\t<ChromeLayoutHandlerContainer tabsData={this.props.properties.tabsData}/>\n\t\t\t\t{this._renderHiddenListRefreshSlot()}\n\t\t\t</div>\n\t\t);\n\t}\n\t_renderNav(){\n\t\treturn this.navMode === consts.NAVIGATION_MODE_BREADCRUMB ?\n\t\t\t<sn-workspace-breadcrumb tabs-data={this.props.properties.tabsData}/>\n\t\t\t: <nav aria-label={t('Tabs')} className=\"sn-workspace-layout-primary-tabs\">{this._renderSlot('primary-tabs')}</nav>\n\t}\n\t_renderErrorStopper() {\n\t\treturn (\n\t\t\t<div className=\"sn-workspace-error-alert\">\n\t\t\t\t{t('Workspace does not support mobile devices or Internet Explorer or Microsoft Edge. Please use Microsoft Edge-Chromium or one of the other supported browsers on the desktop.')}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_renderHiddenListRefreshSlot() {\n\t\treturn this._renderSlot('hidden-list-refresher');\n\t}\n\n\trender() {\n\t\treturn this._isBrowserSupported ? this._renderWorkspace() : this._renderErrorStopper();\n\t}\n\n\tcomponentWillMount() {\n\t\tObject.defineProperty(window, consts.TRANSACTION_SOURCE, {\n\t\t\tvalue: getTransactionSource()\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\trenderDeferredSlot(this, 'main-content');\n\t\t/*if(this.navMode === consts.NAVIGATION_MODE_BREADCRUMB)\n\t\t\trenderDeferredSlot(this, 'breadcrumb');*/\n\n\t\tsetTimeout( () => this._onChromeLoaded(), 3000);\n\n\t\t//Fix IE11 issue where initial focus is the IE address bar after load\n\t\tif (this.pageRef)\n\t\t\tthis.pageRef.focus();\n\t}\n\n\t_onChromeLoaded() {\n\t\tthis.props.dispatch(consts.WORKSPACE_LOADED, {target: 'workspace-chrome-layout'});\n\t}\n}\n\nexport default SnWorkspaceLayout;\n","import { createCustomElement } from '@servicenow/ui-core';\nimport styles from './_wsNotificationToast.scss';\n\nimport react from '@servicenow/ui-renderer-react';\nimport { default as WsNotificationToast } from './wsNotificationToast';\n\nimport { SHOW_BANNERS } from '../../constants/constants';\nimport {userPreferencesBehavior, getUserPreference} from 'sn-user-preferences';\nimport {notificationsToastBehavior} from '../snWorkspaceNotification.behaviors';\n\n\nexport default createCustomElement('sn-workspace-notification-toast', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsNotificationToast\n\t},\n\n\tstyles,\n\n\tbehaviors: [userPreferencesBehavior, notificationsToastBehavior],\n\n\tproperties: {\n\t\tshowBanners: {\n\t\t\tcomputed: state =>  getUserPreference(SHOW_BANNERS, state) === 'true'\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_wsNotificationToast.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".snu-sr{width:1px;height:1px;border:0;clip:rect(0,0,0,0);-webkit-clip-path:inset(50%);clip-path:inset(50%);overflow:hidden;padding:0;position:absolute;white-space:nowrap}\", \"\"]);\n\n// exports\n","'use strict';\n\nimport React from 'react';\n\nimport {NOTIFICATION_TOAST, NOTIFICATIONS_TOAST_PROP} from '../../constants/constants';\nimport { initDataConfig } from './wsNotificationToast.config';\nimport {t} from 'sn-translate';\nimport '../chrome-alert/chromeAlertElement';\n\nclass WsNotificationToast extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tshow: false,\n\t\t\ttoastItem: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.toastConfig = initDataConfig();\n\t}\n\n\n\tcomponentWillReceiveProps(nextProps) {\n\n\t\tconst {properties: {[NOTIFICATIONS_TOAST_PROP]: alertToast, showBanners}} = nextProps;\n\t\tconst {properties: {[NOTIFICATIONS_TOAST_PROP]: prevAlertToast}} = this.props;\n\n\t\tif(!showBanners || alertToast === prevAlertToast)\n\t\t\treturn;\n\n\t\tthis.setState({show: true, toastItem: alertToast});\n\t\tthis.hideToastAtTimeout();\n\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst {show, toastItem} = nextState;\n\t\tconst {show: prevShow, toastItem: prevToastItem} = this.state;\n\n\t\treturn show !== prevShow || toastItem !== prevToastItem;\n\t}\n\n\thideToastAtTimeout = () => {\n\t\t// cancel previous timeout\n\t\tif (this.autoCloseTimeOutID) {\n\t\t\tclearTimeout(this.autoCloseTimeOutID);\n\t\t\tthis.autoCloseTimeOutID = undefined;\n\t\t}\n\n\t\t// set new timeout\n\t\tthis.autoCloseTimeOutID = setTimeout(()=>{\n\t\t\tthis.setState({show: false});\n\t\t\tthis.autoCloseTimeOutID = undefined;\n\t\t}, this.toastConfig.toast_max_show_time);\n\t};\n\n\tonClickAlert = (e) => {\n\t\tthis.setState({show: false});\n\t};\n\n\trender() {\n\t\tconst { show, toastItem } = this.state;\n\t\tlet content = null;\n\t\tlet ariaLabel = null;\n\t\tif (show && toastItem) {\n\t\t\tconst { title, message, infoIcon, alert_sys_id, table, sys_id } = toastItem;\n\t\t\tconst {prefix, verb, suffix} = JSON.parse(title);\n\t\t\tariaLabel = t('Notification {0} {1} {2}. This notification can be accessed in the notification tray.', prefix, verb, suffix);\n\t\t\tcontent = <sn-workspace-notification-item className=\"toast\" mode={NOTIFICATION_TOAST} header={title} message={message} info-icon={infoIcon} alert-sys-id={alert_sys_id} table={table} sys-id={sys_id} on-click={this.onClickAlert}/>;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div role=\"alert\" aria-live=\"assertive\" className=\"snu-sr\">\n\t\t\t\t\t{ariaLabel}\n\t\t\t\t</div>\n\t\t\t\t{content}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default WsNotificationToast;\n","import { alertConfig } from '../../constants/ws_config';\n\nexport function initDataConfig() {\n\treturn alertConfig.toast;\n}","'use strict';\n\nimport React from 'react';\nimport defer from 'lodash/defer';\n\nimport '@servicenow/now-icon';\nimport '@servicenow/now-tooltip';\nimport {t} from 'sn-translate';\nimport '../chrome-time-ago/chromeTimeAgoElement';\nimport {\n\tITEM_SELECTED,\n\tALERT_STATUS_READ,\n\tALERT_STATUS_DELETED,\n\tNOTIFICATION_TRAY,\n\tNOTIFICATIONS_ITEM_CLICKED\n} from '../../constants/constants';\n\nclass ChromeAlert extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tonClickAlert = (e) => {\n\t\tconst { properties: {mode, table, sysId, alertSysId, onClick}, dispatch} = this.props;\n\t\tdispatch(ITEM_SELECTED, {table, sys_id: sysId, parent_table: table, parent_sys_id: sysId} ); // Open record\n\t\tdispatch(NOTIFICATIONS_ITEM_CLICKED, {mode, sysId, alertSysId, status: ALERT_STATUS_READ});\n\n\t\tif (onClick)\n\t\t\tdefer(() => onClick(e)); // defer() is TEMP solution until seismic pass action to redux directly\n\t};\n\n\tonClickCloseBtn = (e) => {\n\t\te.stopPropagation();\n\t\tconst {properties: {mode, sysId, alertSysId, onClick}, dispatch} = this.props;\n\n\t\tif (mode === NOTIFICATION_TRAY)\n\t\t\tdispatch(NOTIFICATIONS_ITEM_CLICKED, {mode, sysId, alertSysId, status: ALERT_STATUS_DELETED});\n\n\t\tif (onClick)\n\t\t\tdefer(() => onClick(e)); // defer() is TEMP solution until seismic pass action to redux directly\n\t};\n\n\trenderTimeAgo = (mode, timeStamp) => {\n\t\tlet timeAgo = null;\n\t\tif (mode === NOTIFICATION_TRAY)\n\t\t\ttimeAgo = (\n\t\t\t\t<span className=\"sn-toast__meta\"><span><sn-workspace-time-ago time-stamp={timeStamp}/></span></span>\n\t\t\t);\n\n\t\treturn timeAgo;\n\t};\n\n\trender () {\n\t\tconst { properties: {mode, header, message, infoIcon, timeStamp, isRead }} = this.props;\n\t\tconst {prefix, verb, suffix} = JSON.parse(header);\n\t\tconst {prefix: msg_prefix, content} = JSON.parse(message);\n\t\tconst itemClass = `sn-toast ${!isRead ? 'is-unread' : ''}`;\n\t\tconst headerText = `${prefix} ${verb} ${suffix}`;\n\t\tconst contentText = `${msg_prefix} ${content}`;\n\t\tconst tooltipText = `${headerText} ${contentText}`;\n\t\tconst deleteBtn_tooltip = t('Delete Notification');\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<a className={itemClass} href=\"javascript:void(0)\" onClick={this.onClickAlert}>\n\t\t\t\t\t<span className=\"sn-toast__content\">\n\t\t\t\t\t\t<now-icon size=\"sm\" icon={infoIcon}/>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span ref={elem => this.toastBody = elem} className=\"sn-toast__content is-last-child\">\n\t\t\t\t\t\t<span className=\"sn-toast__header\">{headerText}</span>\n\t\t\t\t\t\t<span className=\"message\">{contentText}</span>\n\t\t\t\t\t\t{this.renderTimeAgo(mode, timeStamp)}\n\t\t\t\t\t</span>\n\t\t\t\t</a>\n\t\t\t\t<span className=\"sn-toast-close\">\n\t\t\t\t\t<button ref={elem => this.deleteBtn = elem} className=\"sn-btn sn-btn__sm sn-btn__primary-chrome sn-btn__icon\" aria-label={deleteBtn_tooltip}\n\t\t\t\t\t\t\tonClick={this.onClickCloseBtn}>\n\t\t\t\t\t\t<now-icon size=\"sm\" icon=\"close-outline\"/>\n\t\t\t\t\t</button>\n\t\t\t\t</span>\n\t\t\t\t<now-tooltip target-ref={this.toastBody} content={tooltipText} />\n\t\t\t\t<now-tooltip target-ref={this.deleteBtn} content={deleteBtn_tooltip} />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default ChromeAlert;\n","module.exports = __TECTONIC__lodash_4_17_4[\"defer\"];","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport ChromeTimeAgo from './chromeTimeAgo';\n\nexport default createCustomElement('sn-workspace-time-ago', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: ChromeTimeAgo\n\t},\n\n\tproperties: {\n\t\ttimeStamp: {},\n\t\tnoRefresh: {}\n\t}\n});\n","import {PureComponent} from 'react';\n\nimport * as timeAgoUtil from './chromeTimeAgo.util';\n\nclass ChromeTimeAgo extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {timeAgo: ''};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {properties: {timeStamp}} = this.props;\n\n\t\tconst _date = new Date(timeStamp);\n\t\tconst baseDate = new Date(Date.now());\n\t\tconst daysDiff = timeAgoUtil.daysBetween(baseDate, _date);\n\n\t\tthis._updateTime(_date, daysDiff);\n\t\tif (daysDiff === 0)\n\t\t\tthis.interval  = setInterval(this._updateTime.bind(this, _date, daysDiff), 60 * 1000);\n\t}\n\n\t_updateTime = (_date, daysDiff) => {\n\t\tconst timeAgo = timeAgoUtil.getWords(_date, daysDiff);\n\t\tthis.setState({timeAgo});\n\t};\n\n\tcomponentWillUnmount() {\n\t\tif (this.interval)\n\t\t\tclearInterval(this.interval);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<time>\n\t\t\t\t{this.state.timeAgo}\n\t\t\t</time>\n\t\t);\n\t}\n}\n\nexport default ChromeTimeAgo;","module.exports = __TECTONIC__lodash_4_17_4[\"isNumber\"];","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_chromeAlert.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-btn{width:auto;height:32px;align-items:center;background:transparent;border:1px solid transparent;border-radius:2px;cursor:pointer;display:inline-flex;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;justify-content:center;line-height:1.2;padding:0 16px;position:relative}.sn-btn:focus{outline:none}.sn-btn.has-icon{padding:0 8px}.sn-btn.has-avatar{padding:0 4px}.sn-select .sn-control--controls .sn-btn.is-last-child,.sn-select .sn-control--controls .sn-btn:last-child{margin:0 -4px 0 0}.sn-btn.is-disabled{cursor:default;opacity:.5}.sn-btn.is-next-to-tab-group{margin:0 0 0 8px}.sn-btn.is-updated{background:#b5dde5;color:#2e2e2e}.sn-btn.is-updated.is-hover,.sn-btn.is-updated:hover{background:#d5ecf0;border-color:#b5dde5}.sn-btn.is-updated.is-focus,.sn-btn.is-updated:focus{background:#d5ecf0;border-color:#6abecf}.sn-btn__fw{width:100%}.sn-btn__lg{font-size:16px;height:40px;padding:0 24px}.sn-btn__lg.sn-btn.has-avatar{padding:0 4px}.sn-btn__lg.sn-btn__icon{width:40px;height:40px}.sn-btn__sm{font-size:12px;height:24px;padding:0 8px}.sn-btn__sm.sn-btn__icon{width:24px;height:24px}.sn-btn__xs{border-radius:2px;font-size:10px;height:10px;padding:0 4px}.sn-btn__xs.sn-btn__icon{width:12px;height:12px}.sn-btn__icon{width:32px;height:32px;flex:0 0 auto;padding:0}.sn-btn__contrast-borderless{background:transparent;color:#4a4a4a}.sn-btn__contrast-borderless.is-hover,.sn-btn__contrast-borderless:hover{background:rgba(0,0,0,.1)}.sn-btn__contrast-borderless.is-focus,.sn-btn__contrast-borderless:focus{background:rgba(0,0,0,.1);border-color:#192628}.sn-btn__contrast-borderless.is-active,.sn-btn__contrast-borderless:active{background:rgba(0,0,0,.3)}.sn-btn__contrast-borderless.is-disabled{background:transparent}.sn-tab__meta .sn-btn__contrast-borderless{color:#fff}.sn-tab__meta .sn-btn__contrast-borderless.is-focus,.sn-tab__meta .sn-btn__contrast-borderless:focus{border-color:#1f8476}.sn-tab__meta.is-selected .sn-btn__contrast-borderless{color:#4a4a4a}.sn-btn__dark{background:#192628;border-bottom:1px solid #090e10;color:#fafafa}.sn-btn__dark.is-hover,.sn-btn__dark:hover{background:#090e10}.sn-btn__dark.is-focus,.sn-btn__dark:focus{background:#090e10;border:1px solid #4a4a4a}.sn-btn__dark.is-active,.sn-btn__dark:active{background:#213234;border-color:#090e10}.sn-btn__dark.is-disabled{background:#192628;border-bottom:1px solid #090e10}.sn-btn__dark-borderless{background:transparent;color:#fafafa}.sn-btn__dark-borderless.is-hover,.sn-btn__dark-borderless:hover{background:#090e10}.sn-btn__dark-borderless.is-focus,.sn-btn__dark-borderless:focus{background:#090e10;border:1px solid #4a4a4a}.sn-btn__dark-borderless.is-active,.sn-btn__dark-borderless:active{background:#213234}.sn-btn__dark-borderless.is-disabled{background:transparent}.sn-btn__default{background:#f1f1f1;border-bottom:1px solid #cbcbcb;color:#4a4a4a}.sn-btn__default.is-hover,.sn-btn__default:hover{background:#fafafa}.sn-btn__default.is-focus,.sn-btn__default:focus{background:#fafafa;border:1px solid #cbcbcb}.sn-btn__default.is-active,.sn-btn__default:active{background:#cbcbcb;border-color:#f1f1f1}.sn-btn__default.is-disabled{background:#f1f1f1;border-bottom:1px solid #cbcbcb}.sn-btn__default-borderless{background:transparent;color:#4a4a4a}.sn-btn__default-borderless.is-hover,.sn-btn__default-borderless:hover{background:#dbf0eb}.sn-btn__default-borderless.is-focus,.sn-btn__default-borderless:focus{background:rgba(184,224,215,.5);border:1px solid #1f8476}.sn-btn__default-borderless.is-active,.sn-btn__default-borderless:active{background:#b8e0d7}.sn-btn__default-borderless.is-disabled{background:transparent}.sn-agent-assist--filter--header .sn-btn__default-borderless{overflow:hidden}.sn-agent-assist--filter--header .sn-btn__default-borderless span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-btn__default-card{background:transparent;color:#4a4a4a}.sn-btn__default-card.is-hover,.sn-btn__default-card:hover{background:rgba(0,0,0,.1)}.sn-btn__default-card.is-focus,.sn-btn__default-card:focus{background:rgba(0,0,0,.1);border:1px solid #1f8476}.sn-btn__default-card.is-active,.sn-btn__default-card:active{background:rgba(0,0,0,.3)}.sn-btn__default-card.is-disabled{background:transparent}.sn-btn__default-control{width:20px;height:20px;background:transparent;color:#4a4a4a;padding:0}.sn-btn__default-control.is-hover,.sn-btn__default-control:hover{background:rgba(0,0,0,.1)}.sn-btn__default-control.is-focus,.sn-btn__default-control:focus{background:rgba(0,0,0,.1);border:1px solid #4a4a4a}.sn-btn__default-control.is-active,.sn-btn__default-control:active{background:rgba(0,0,0,.3)}.sn-btn__default-control.is-disabled{background:transparent}.sn-typeahead .sn-btn__default-control{color:#fff}.sn-typeahead .sn-btn__default-control.is-hover,.sn-typeahead .sn-btn__default-control:hover{background:rgba(0,0,0,.2)}.sn-typeahead .sn-btn__default-control.is-focus,.sn-typeahead .sn-btn__default-control:focus{color:#1f8476}.sn-btn__default-tab{background:#e6e9eb;border-radius:50%;color:#2e2e2e}.sn-btn__default-tab.is-hover,.sn-btn__default-tab:hover{background:#a7b0b2;border-color:#f1f1f1}.sn-btn__default-tab.is-focus,.sn-btn__default-tab:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__default-tab.is-disabled{background:#e6e9eb;color:#2e2e2e}.sn-btn__default-tab-borderless{color:#2e2e2e}.sn-btn__default-tab-borderless.is-activated{background:#e6e9eb}.sn-btn__default-tab-borderless.is-hover,.sn-btn__default-tab-borderless:hover{background:#a7b0b2;border-color:#f1f1f1}.sn-btn__default-tab-borderless.is-focus,.sn-btn__default-tab-borderless:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__default-tab-borderless.is-disabled{background:#e6e9eb;color:#2e2e2e}.sn-btn__destructive{background:#c83c36;border-bottom:1px solid #c83c36;color:#fff}.sn-btn__destructive.is-hover,.sn-btn__destructive:hover{background:#fc726d}.sn-btn__destructive.is-focus,.sn-btn__destructive:focus{background:#fc726d;border:1px solid #c83c36}.sn-btn__destructive.is-active,.sn-btn__destructive:active{background:#c83c36;border-color:#fc726d}.sn-btn__destructive.is-disabled{background:#c83c36;border-bottom:1px solid #c83c36}.sn-btn__meta-tab{background:rgba(167,176,178,.65);border-radius:50%;color:#090e10}.sn-btn__meta-tab.is-hover,.sn-btn__meta-tab:hover{background:#a7b0b2}.sn-btn__meta-tab.is-focus,.sn-btn__meta-tab:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__meta-tab.is-disabled{background:rgba(167,176,178,.65);color:#090e10}.sn-btn__meta-tab-borderless{color:#090e10}.sn-btn__meta-tab-borderless.is-activated{background:rgba(167,176,178,.65)}.sn-btn__meta-tab-borderless.is-hover,.sn-btn__meta-tab-borderless:hover{background:#a7b0b2}.sn-btn__meta-tab-borderless.is-focus,.sn-btn__meta-tab-borderless:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__meta-tab-borderless.is-disabled{background:rgba(167,176,178,.65);color:#090e10}.sn-btn__primary{background:#1f8476;border-bottom:1px solid #1f8476;color:#fff}.sn-btn__primary.is-hover,.sn-btn__primary:hover{background:#5fbaa4}.sn-btn__primary.is-focus,.sn-btn__primary:focus{background:#5fbaa4;border:1px solid #1f8476}.sn-btn__primary.is-active,.sn-btn__primary:active{background:#1f8476;border-color:#5fbaa4}.sn-btn__primary.is-disabled{background:#1f8476;border-bottom:1px solid #1f8476}.sn-btn__primary-chrome{background:transparent;border:1px solid transparent;color:#fff}.sn-btn__primary-chrome.is-hover,.sn-btn__primary-chrome:hover{background:#165c53}.sn-panel.mod-alert-tray .sn-btn__primary-chrome.is-hover,.sn-panel.mod-alert-tray .sn-btn__primary-chrome:hover{background:#213234}.sn-btn__primary-chrome.is-focus,.sn-btn__primary-chrome:focus{background:#10423b;border-color:#1f8476}.sn-btn__primary-chrome.is-active,.sn-btn__primary-chrome:active{background:#1f8476}.sn-btn__primary-chrome.is-disabled{background:transparent;color:#fff}.sn-chrome-aside .sn-btn__primary-chrome{color:#10423b;border-radius:50%}.sn-chrome-aside .sn-btn__primary-chrome.is-hover,.sn-chrome-aside .sn-btn__primary-chrome:hover{background:#1f8476;color:#fff}.sn-chrome-aside .sn-btn__primary-chrome.is-focus,.sn-chrome-aside .sn-btn__primary-chrome:focus{background:#10423b;color:#fff}.sn-typeahead .sn-btn__primary-chrome{margin-left:0}.sn-btn__primary-tab{background:#82c9b8;color:#165c53}.sn-btn__primary-tab.is-focus,.sn-btn__primary-tab.is-hover,.sn-btn__primary-tab:focus,.sn-btn__primary-tab:hover{background:#1f8476;color:#fff}.sn-btn__primary-tab-borderless,.sn-btn__primary-tab.is-disabled{background:transparent;color:#dbf0eb}.sn-btn__primary-tab-borderless.is-focus,.sn-btn__primary-tab-borderless.is-hover,.sn-btn__primary-tab-borderless:focus,.sn-btn__primary-tab-borderless:hover{background:#1f8476;color:#fff}.sn-btn__primary-tab-borderless.is-disabled{background:transparent;color:#dbf0eb}.sn-btn__success{background:#48c891;border-bottom:1px solid #38a074;color:#1e4335}.sn-btn__success.is-hover,.sn-btn__success:hover{background:#27c48a}.sn-btn__success.is-focus,.sn-btn__success:focus{background:#27c48a;border:1px solid #38a074}.sn-btn__success.is-active,.sn-btn__success:active{background:#326f57;border-color:#27c48a;color:#fff}.sn-btn__success.is-disabled{background:#48c891;border-bottom:1px solid #38a074}.sn-btn__url{color:#1f8476;height:28px;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 2px}.sn-btn__url.is-hover,.sn-btn__url:hover{color:#10423b;background:#dbf0eb}.sn-btn__url span{margin-top:-3px}.sn-as--form .sn-btn{float:right;margin:8px 0 0}.sn-as--tabs .sn-btn{margin:0 0 0 4px}.sn-alert .sn-btn{right:16px;position:absolute}.sn-alert .sn-btn.is-hover,.sn-alert .sn-btn:hover{background:rgba(0,0,0,.07)}.sn-alert .sn-btn.is-active,.sn-alert .sn-btn:active{background:rgba(0,0,0,.1)}.sn-alert__danger .sn-btn{color:#c83c36}.sn-alert__danger .sn-btn.is-focus,.sn-alert__danger .sn-btn:focus{border-color:#fc8d8a}.sn-alert__primary .sn-btn{color:#6abecf}.sn-alert__primary .sn-btn.is-focus,.sn-alert__primary .sn-btn:focus{border-color:#a7d4df}.sn-alert__success .sn-btn{color:#48c891}.sn-alert__success .sn-btn.is-focus,.sn-alert__success .sn-btn:focus{border-color:#84e3bc}.sn-alert__warning .sn-btn{color:#dfd139}.sn-alert__warning .sn-btn.is-focus,.sn-alert__warning .sn-btn:focus{border-color:#e8a679}.sn-attachments--content .sn-btn{margin-left:4px}.sn-breadcrumbs-container .sn-btn:first-child{margin:0 4px 0 0}.sn-btn-group .sn-btn{border-radius:0;border-width:0 0 1px}.sn-btn-group .sn-btn.is-focus,.sn-btn-group .sn-btn.is-hover,.sn-btn-group .sn-btn:focus,.sn-btn-group .sn-btn:hover{z-index:1}.sn-btn-group .sn-btn.is-first-of-type,.sn-btn-group .sn-btn:first-of-type{border-radius:2px 0 0 2px}.sn-btn-group .sn-btn.is-last-of-type,.sn-btn-group .sn-btn:last-of-type{border-radius:0 2px 2px 0}.sn-card--header .sn-btn{margin:0 0 0 8px}.sn-card--footer .sn-btn{flex:1 1 auto;max-width:100%;margin-right:8px}.sn-card--footer .sn-btn:last-of-type{margin-right:0}.sn-list-group.mod-chat-queue-transfer .sn-btn{flex:1 1 auto;margin:0 4px}.sn-chat-queue--overflow .sn-btn,sn-chat-overflow .sn-btn{border-radius:4px 4px 0 0}.sn-chrome-header--content .sn-btn{margin:0 0 0 4px}.sn-control--controls .sn-btn{margin:0 2px 0 0}.sn-control--controls .sn-btn.is-last-child,.sn-control--controls .sn-btn:last-child{margin:0 8px 0 0}.sn-control-group__combined .sn-control--controls .sn-btn{margin:0}.sn-datepicker--header--content .sn-btn.is-first-of-type,.sn-datepicker--header--content .sn-btn:first-of-type{margin:0 8px 0 0}.sn-form-header--content .sn-btn{margin-left:4px}.sn-form--row .sn-btn{margin-left:8px}.sn-list-header--content .sn-btn{margin:0 0 0 8px}.sn-list-group--actions .sn-btn{margin-left:2px}.sn-modal--content .sn-btn{margin:0 0 0 8px}.sn-modal--content .sn-btn.is-first-of-type,.sn-modal--content .sn-btn:first-of-type{margin:0}.sn-pagination .sn-btn{flex:0 0 auto;margin:0}.sn-pagination .sn-btn.is-nth-of-type-odd,.sn-pagination .sn-btn:nth-of-type(odd){margin:0 4px 0 0}.sn-panel--header .sn-btn{margin-left:8px}.sn-panel--header .sn-btn:first-child,.sn-panel--header .sn-search .sn-btn{margin-left:0}.sn-popover--footer .sn-btn{flex:1 1 100%;margin-left:8px}.sn-popover--footer .sn-btn:first-of-type{margin-left:0}.sn-popover--footer .sn-btn:only-child{max-width:240px}.sn-popover--header--content .sn-btn{background:transparent;color:#1f8476}.sn-popover--footer--content .sn-btn{flex:0 1 50%}.sn-section--footer .sn-btn{margin:0 0 0 8px}.sn-section--footer .sn-btn.is-last-child,.sn-section--footer .sn-btn:last-child{margin:0}.sn-slider .sn-btn{top:calc(40vh - 32px);left:0;position:absolute}.sn-slider .sn-btn:last-of-type{left:auto;right:0}.sn-widget .sn-slider .sn-btn:focus,.sn-widget:hover .sn-slider .sn-btn{opacity:1}.sn-templates--content .sn-btn{margin-left:4px}.sn-typeahead__open-left .sn-btn.is-focus,.sn-typeahead__open-left .sn-btn.is-selected,.sn-typeahead__open-left .sn-btn:focus{border-radius:0 2px 2px 0}.sn-typeahead__open-left .sn-btn.is-focus+.sn-control,.sn-typeahead__open-left .sn-btn.is-selected+.sn-control,.sn-typeahead__open-left .sn-btn:focus+.sn-control{padding:0 0 0 16px}.sn-typeahead__open-left .sn-btn:last-of-type{margin-left:0}.sn-widget .sn-slider .sn-btn{margin-top:-12px;opacity:0;top:50%}.sn-agent-assist--slider .sn-btn{top:50%;left:0;position:absolute;opacity:0;z-index:1}.sn-btn--icon{align-items:center;display:inline-flex;height:30px;justify-content:center;line-height:1;padding:0 4px 0 0}.sn-btn.has-segment .sn-btn--icon{border-left:1px solid transparent;margin:0 0 0 8px;padding:0 0 0 8px}.sn-btn.has-segment:active .sn-btn--icon,.sn-btn.has-segment:focus .sn-btn--icon,.sn-btn.has-segment:hover .sn-btn--icon{border-color:inherit}.sn-btn.has-segment.sn-btn__default .sn-btn--icon{border-color:#cbcbcb}.sn-btn__icon .sn-btn--icon{padding:0}.sn-btn__sm .sn-btn--icon{height:24px}.sn-btn__url .sn-btn--icon{height:28px;padding:0 0 0 4px}.sn-btn>span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-btn-group,.sn-btn-separator{display:inline-flex}.sn-btn-separator{width:17px;height:32px;align-items:center;justify-content:center}.sn-btn-separator:after{width:1px;height:16px;background-color:#cbcbcb;content:\\\"\\\"}*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-toast{cursor:pointer;display:flex;flex:0 0 auto;background:RGB(var(--now-color--neutral-15,44,53,55));border:1px solid transparent;border-radius:.5rem;color:RGB(var(--now-color--neutral-3,209,214,214));font-size:1rem;width:23.125rem;height:5.6875rem;padding:0;position:relative;margin:0;text-decoration:none;text-align:left;z-index:1070}.sn-toast::-moz-focus-inner{border-style:none}.sn-toast:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-toast.is-hover:before,.sn-toast:hover:before{background:RGB(var(--now-color--primary-1,30,133,109),.5)}.sn-toast:active{color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-toast:active:before{background:RGB(var(--now-color--primary-1,30,133,109))}.sn-toast:before{border-radius:.5rem;content:\\\"\\\";height:100%;left:0;position:absolute;width:100%;top:0}.sn-toast p{margin:0 0 4px;position:relative}.sn-toast p.is-last-child,.sn-toast p:last-child{margin:0}.sn-toast .message{margin:0;max-height:2.5rem;overflow:hidden;position:relative;text-align:left;padding-bottom:.5rem}.sn-toast strong{color:#d1d6d8;font-size:1rem;font-weight:600;position:relative}.sn-toast__content{display:inline-flex;flex:1 1 auto;flex-direction:column;overflow:hidden;padding:16px 4px 0 0;position:relative}.sn-toast__content.is-first-child,.sn-toast__content:first-child{flex:0 0 auto;padding:19px 8px 16px 16px}.sn-toast__content.is-last-child,.sn-toast__content:last-child{padding-right:48px}.sn-toast__header{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;margin:0 0 .125rem;position:relative;font-weight:600;text-align:left}.sn-toast__header,.sn-toast__meta{color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-toast__meta{align-items:flex-end;display:inline-flex;flex:1 1 auto;font-size:.75rem;padding-bottom:1rem}.sn-toast-list .sn-toast{margin:0 0 4px}.sn-panel.mod-alert-tray .sn-toast-list .sn-toast{position:relative;margin:0;width:23.125rem;height:5.6875rem}.sn-panel.mod-alert-tray .sn-toast,:host(.context-toast-panel) .sn-toast{border:none;border-bottom:1px solid rgb(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));border-radius:0;width:23.125rem;height:7.125rem;background-color:RGB(var(--now-color--neutral-15,44,53,55));font-weight:400}.sn-panel.mod-alert-tray .sn-toast::-moz-focus-inner,:host(.context-toast-panel) .sn-toast::-moz-focus-inner{border-style:none}.sn-panel.mod-alert-tray .sn-toast:focus,:host(.context-toast-panel) .sn-toast:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-panel.mod-alert-tray .sn-toast.is-unread,:host(.context-toast-panel) .sn-toast.is-unread{font-weight:600;background-color:RGBA(var(--now-color--primary-3,15,67,55),.5)}.sn-panel.mod-alert-tray .sn-toast:hover,:host(.context-toast-panel) .sn-toast:hover{background-color:RGBA(var(--now-color--primary-1,30,133,109),.5)}.sn-toast-close{z-index:1071;display:flex;width:inherit;cursor:pointer;align-items:center;background:transparent;border:0;color:RGB(var(--now-color--neutral-3,209,214,214));display:inline-flex;justify-content:center;padding:0;position:absolute;right:.5rem;top:.5rem;width:1.5rem;height:1.5rem}.sn-toast-close::-moz-focus-inner{border-style:none}.sn-toast-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-toast-close:active{color:currentColor}.sn-toast-close:hover{background:RGB(var(--now-color--primary-1,30,133,109),.5)}.sn-toast-close:active{background:RGB(var(--now-color--primary-1,30,133,109));color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-toast-list{list-style:none;margin:0;display:flex;flex-direction:column;padding:8px;z-index:1030}.sn-toast-list li{position:relative}.sn-panel.mod-alert-tray .sn-toast-list{padding:0;width:23.125rem}:host(chrome-alert){display:flex;position:relative}:host(.toast){position:absolute;right:8px;top:66px;z-index:1070;animation:toast_slide 6s forwards;transition-timing-function:cubic-bezier(.77,0,.175,1)}@keyframes toast_slide{to{right:32px}}:host(.toast) .message{padding-bottom:.75rem}.sn-toast-close .sn-btn__icon::-moz-focus-inner{border-style:none}.sn-toast-close .sn-btn__icon:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-toast-close .sn-btn__primary-chrome{border-radius:0}\", \"\"]);\n\n// exports\n","import {NOTIFICATIONS_ITEM_CLICKED, TOGGLE_NOTIFICATION_TRAY} from '../constants/constants';\nimport {selectNotification, toggleNotificationTray} from './snWorkspaceNotification.provider';\n\nexport const actionHandlers = {\n\t[TOGGLE_NOTIFICATION_TRAY]: ({action: {payload: {show}} }) => {toggleNotificationTray(show);},\n\t[NOTIFICATIONS_ITEM_CLICKED]: ({action: {payload: notification} }) => {selectNotification(notification);}\n};\n","import { createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {preUserData, wsNotificationEnabled} from '../../constants/presource.behaviors';\n\nimport {default as WsNotificationTray} from './wsNotificationTray';\nimport {actionHandlers} from './wsNotificationTray.effects';\nimport {\n\tNOTIFICATION_SELECTED,\n\tNOTIFICATIONS_BADGE_LIST_UPDATED, NOTIFICATIONS_INIT,\n\tNOTIFICATIONS_PROVIDER_TAG,\n\tNOTIFICATIONS_TOAST_PROP,\n\tNOTIFICATIONS_TRAY_TOGGLED\n} from '../../constants/constants';\nimport {workspaceLoadedInitPropBehavior, selectedContentInitPropBehavior} from '../../utils/behaviors/selectableProps.behaviors';\nimport styles from './_wsNotificationTray.scss';\n\nexport default createCustomElement(NOTIFICATIONS_PROVIDER_TAG, {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsNotificationTray\n\t},\n\n\tstyles,\n\n\tbehaviors: [preUserData, wsNotificationEnabled, workspaceLoadedInitPropBehavior, selectedContentInitPropBehavior, ],\n\n\tinitialState: {\n\t\talertQueue: [],\n\t\tdeleteQueue: [],\n\t\tactiveTabInfo: {},\n\t\tgroupIdToDelete: null,\n\t\toffset: 0,\n\t\ttotalRowCount: 0,\n\t\tselectedContentVal: null // temporary work around since selected props aren't available in action handlers\n\t},\n\n\tproperties: {\n\t\t[NOTIFICATIONS_TOAST_PROP]: {\n\t\t\tselectable: true\n\t\t},\n\t\tbadgeList: {\n\t\t\tdefault: [],\n\t\t\tonChange(value, valuePrevious, dispatch){\n\t\t\t\tdispatch(NOTIFICATIONS_BADGE_LIST_UPDATED, {badgeList: value});\n\t\t\t}\n\t\t},\n\t\tbadgeCount: {\n\t\t\tselectable: true,\n\t\t\tdefault: 0\n\t\t},\n\t\tshow: {\n\t\t\tselectable: true,\n\t\t\tdefault: false,\n\t\t\tonChange(value, valuePrevious, dispatch){\n\t\t\t\tdispatch(NOTIFICATIONS_TRAY_TOGGLED, {show: value});\n\t\t\t}\n\t\t},\n\t\tnotificationSelected: {\n\t\t\tonChange(value, valuePrevious, dispatch){\n\t\t\t\tdispatch(NOTIFICATION_SELECTED, value);\n\t\t\t}\n\t\t}\n\t},\n\n\tactionHandlers\n});\n","import React from 'react';\nimport {debounce} from 'lodash';\nimport {t} from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-button';\nimport '@servicenow/now-tooltip';\n\nimport {\n\tsetUserData,\n\thandleClearSection,\n\taskToQueryAlerts,\n\taskToUpdateNotifications,\n\tbuildBadgeQueryCondition,\n\tbuildAlertSubscriptionFilter\n} from './wsNotificationTray.util';\nimport {preUserData, wsNotificationEnabled, getBehaviorProp} from '../../constants/presource.behaviors';\nimport {\n\tNOTIFICATION_TRAY,\n\tALERT_STATUS_DELETED,\n\tQUERY_NOTIFICATION_COUNT,\n\tSUBSCRIBE_NOTIFICATIONS, NOTIFICATIONS_INIT, NOTIFICATIONS_SELECTED_CONTENT\n} from '../../constants/constants';\nimport {onScrollOrResize} from './wsNotificationTray.scroll';\n\nimport '../chrome-alert/chromeAlertElement';\n\nconst PASSIVE = {passive: true};\nconst NOOP = () => {};\n\nclass WsNotificationTray extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.debounceScroll = debounce(this._onScrollOrResize, 100);\n\t\tthis.notificationsEnabled = getBehaviorProp(props, wsNotificationEnabled.name, false);\n\t\tsetUserData(getBehaviorProp(props, preUserData.name));\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {properties: {offset, totalRowCount}, dispatch} = this.props;\n\t\taskToQueryAlerts(offset, totalRowCount, dispatch, true);\n\n\t\tconst condition = buildBadgeQueryCondition();\n\t\tthis.props.dispatch(QUERY_NOTIFICATION_COUNT, {condition});\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\n\t\tif (this.notificationsEnabled) {\n\t\t\tconst {properties: {show}, deleteQueue, dispatch} = nextProps;\n\t\t\tconst {properties: {show: prevShow}} = this.props;\n\n\t\t\tif (!show && prevShow)\n\t\t\t\tthis._removeListeners();\n\n\t\t\tif (deleteQueue.length > 10)\n\t\t\t\taskToUpdateNotifications(dispatch, [], ALERT_STATUS_DELETED, deleteQueue);\n\t\t}\n\n\t\tconst {properties: {workspaceLoaded, selectedContent}} = nextProps;\n\t\tconst {properties: {workspaceLoaded: loadedPrev, selectedContent: selectedContentPrev}} = this.props;\n\t\tif(workspaceLoaded && workspaceLoaded !== loadedPrev)\n\t\t\tthis.props.dispatch(NOTIFICATIONS_INIT);\n\n\t\tif(selectedContent && selectedContent !== selectedContentPrev)\n\t\t\tthis.props.dispatch(NOTIFICATIONS_SELECTED_CONTENT, selectedContent);\n\t}\n\n\tshouldComponentUpdate(nextProps) {\n\t\tconst {properties: {show}, alertQueue} = nextProps;\n\t\tconst {properties: {show: prevShow}, alertQueue: prevAlertQueue} = this.props;\n\n\t\treturn show !== prevShow || alertQueue !== prevAlertQueue;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst {properties: {show}} = this.props;\n\t\tconst {properties: {show: prevShow}} = prevProps;\n\n\t\tif (show) {\n\t\t\tif (!prevShow) {\n\t\t\t\tthis._addListeners();\n\t\t\t\tthis._setFocusToFirstElement();\n\t\t\t}\n\t\t\tsetTimeout(this._onScrollOrResize);\n\t\t}\n\n\n\t}\n\n\t_addListeners = () => {\n\t\tconst scrollParent = this._getScrollParent();\n\t\twindow.addEventListener('resize', this.debounceScroll);\n\t\tscrollParent.addEventListener('scroll', this.debounceScroll, PASSIVE);\n\t\t// You have to attach mousewheel listener to the scrollable element.\n\t\t// Just an empty listener. After that onscroll events will be fired synchronously.\n\t\tscrollParent.addEventListener('mousewheel', NOOP, PASSIVE);\n\t};\n\n\t_setFocusToFirstElement = () => {\n\t\tconst clearButton = this.trayRef.querySelector('.clear-button');\n\t\tif (clearButton)\n\t\t\tclearButton.focus();\n\t};\n\n\t_removeListeners = () => {\n\t\tconst scrollParent = this._getScrollParent();\n\t\twindow.removeEventListener('resize', this.debounceScroll);\n\t\tscrollParent.removeEventListener('scroll', this.debounceScroll, PASSIVE);\n\t\tscrollParent.removeEventListener('mousewheel', NOOP, PASSIVE);\n\t};\n\n\t_onScrollOrResize = () => {\n\t\tconst scrollParent = this._getScrollParent();\n\t\tif (scrollParent) {\n\t\t\tconst reachBottom = onScrollOrResize(scrollParent);\n\t\t\tif (reachBottom) {\n\t\t\t\tconst {offset, totalRowCount, dispatch} = this.props;\n\t\t\t\taskToQueryAlerts(offset, totalRowCount, dispatch);\n\t\t\t}\n\t\t}\n\t};\n\n\t_getScrollParent = () => {\n\t\tif (this.trayRef && this.trayRef.children)\n\t\t\treturn this.trayRef.children[0];\n\t};\n\n\tcomponentWillUnmount() {\n\t\tif (this.notificationsEnabled)\n\t\t\tthis.props.dispatch(SUBSCRIBE_NOTIFICATIONS, {\n\t\t\t\ttable: 'ui_notification_inbox',\n\t\t\t\tfilter: buildAlertSubscriptionFilter(),\n\t\t\t\tsubscribe: false\n\t\t\t});\n\n\t\tif (this.trayRef)\n\t\t\tthis._removeListeners();\n\t}\n\n\tonClearSection = (e, groupId) => {\n\t\te.stopPropagation();\n\t\thandleClearSection(this.props, groupId);\n\t};\n\n\tgetTrayRef = (ref) => { this.trayRef = ref; };\n\n\trenderNoAlerts = () => {\n\t\tconst {offset, totalRowCount, deleteQueue} = this.props;\n\t\tlet content = null;\n\t\tif (offset < totalRowCount - deleteQueue.length) {\n\t\t\tcontent = <p>{t('Loading...')}</p>;\n\t\t}\n\t\telse {\n\t\t\tcontent = [\n\t\t\t\t<p key=\"1\">{t('You have no updates.')}</p>,\n\t\t\t\t<p key=\"2\">{t('Notification updates display for 7 days.')}</p>\n\t\t\t];\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"no-alerts\" role=\"region\" aria-live='polite'>\n\t\t\t\t{content}\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderSection = (header, body, sectionId) => {\n\t\treturn (\n\t\t\t<li key={sectionId} id={`chrome-notification-section-${sectionId}`} className=\"sn-section\">\n\t\t\t\t{header}\n\t\t\t\t<div className=\"sn-section--body\">\n\t\t\t\t\t<ul className=\"sn-toast-list\">{body}</ul>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t};\n\n\trenderTrayItem = (item, i) => {\n\t\tconst { title, message, infoIcon, alert_sys_id, table, sys_id, time_stamp, is_read } = item;\n\t\treturn (\n\t\t\t<li key={`${i}_${alert_sys_id}`}>\n\t\t\t\t<sn-workspace-notification-item className=\"context-toast-panel\" mode={NOTIFICATION_TRAY} header={title} message={message} info-icon={infoIcon} alert-sys-id={alert_sys_id}\n\t\t\t\t\ttable={table} sys-id={sys_id} time-stamp={time_stamp} is-read={is_read}/>\n\t\t\t</li>\n\t\t);\n\t};\n\n\trenderSectionHeader = (headerItem) => {\n\t\tconst {name, label} = headerItem;\n\t\tconst clearToolTip = t('Clear {0}', label);\n\t\treturn (\n\t\t\t<div key={name} className=\"sn-section--header\">\n\t\t\t\t<div className=\"sn-section--content\">\n\t\t\t\t\t<span className=\"title\">{label}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-section--content sn-section--content__static\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tref={elem => this.clearBtn = elem}\n\t\t\t\t\t\taria-label={t('Clear notifications from {0}', name)}\n\t\t\t\t\t\tclassName=\"clear-button sn-btn sn-btn__sm\"\n\t\t\t\t\t\tonClick={(e) => this.onClearSection(e, name)}>\n\t\t\t\t\t\t<span>{t('Clear')}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<now-tooltip target-ref={this.clearBtn} content={clearToolTip} />\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderTrayContent = (alertQueue) => {\n\t\tif (!alertQueue || alertQueue.length <= 3)\n\t\t\treturn this.renderNoAlerts();\n\n\t\tlet content = [];\n\t\tconst { length } = alertQueue;\n\t\tlet i = 0;\n\t\twhile (i < length && alertQueue[i].item_type === 'group') {\n\t\t\tconst groupItem = alertQueue[i++];\n\t\t\tconst header = this.renderSectionHeader(groupItem);\n\n\t\t\tlet body = [];\n\t\t\twhile (i < length && alertQueue[i].item_type === 'notification') {\n\t\t\t\tconst item = alertQueue[i++];\n\t\t\t\tbody= body.concat(this.renderTrayItem(item, i));\n\t\t\t}\n\n\t\t\tif (body.length > 0)\n\t\t\t\tcontent = content.concat(this.renderSection(header, body, groupItem.name));\n\t\t}\n\n\t\treturn content;\n\t};\n\n\trender() {\n\t\tconst { properties: {show}, alertQueue } = this.props;\n\t\tif (!show)\n\t\t\treturn null;\n\t\treturn (\n\t\t\t<div id=\"chrome-notification-tray\" >\n\t\t\t\t<div className=\"sn-panel mod-alert-tray\" ref={this.getTrayRef}>\n\t\t\t\t\t<ul className=\"sn-panel--body\">\n\t\t\t\t\t\t{this.renderTrayContent(alertQueue)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WsNotificationTray;\n","export function onScrollOrResize(scrollParent) {\n\tconst {end} = getStartAndEnd(scrollParent);\n\tconst itemEls = scrollParent.children;\n\tlet elEnd = 0;\n\n\tif (itemEls.length) {\n\t\tconst firstItemEl = itemEls[0];\n\t\tconst lastItemEl = itemEls[itemEls.length - 1];\n\t\telEnd = getOffset(lastItemEl) + lastItemEl.offsetHeight - getOffset(firstItemEl);\n\t}\n\n\treturn elEnd <= end;\n}\n\nfunction getStartAndEnd(scrollParent, threshold = 0) { // get the start and end position of the viewport\n\tconst scroll = getScrollPosition(scrollParent);\n\tconst start = Math.max(0, scroll - threshold);\n\tconst end = scroll + scrollParent.clientHeight + threshold;\n\n\treturn {start, end};\n}\n\nfunction getScrollPosition(scrollParent) {\n\t// Cache scroll position as this causes a forced synchronous layout.\n\tconst actual = scrollParent.scrollTop;\n\tconst max = scrollParent.scrollHeight - scrollParent.clientHeight;\n\treturn Math.max(0, Math.min(actual, max));\n}\n\nfunction getOffset(el) {\n\tlet offset = el.clientTop || 0;\n\tdo offset += el.offsetTop || 0; while (el = el.offsetParent);\n\treturn offset;\n}","import {get, isEqual} from 'lodash';\n\nimport {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\nimport {createHttpEffect} from '@servicenow/ui-effect-http';\nimport {createAmbSubscriptionEffect} from '@servicenow/ui-effect-amb';\nimport * as utils from './wsNotificationTray.util';\nimport {buildAlertItem} from '../chrome-alert/chromeAlert.util';\nimport * as query from './wsNotificationTray.query';\nimport {wsNotificationEnabled, getBehaviorProp} from '../../constants/presource.behaviors';\nimport {\n\tUPDATE_NOTIFICATIONS,\n\tUPDATE_NOTIFICATIONS_SUCCEEDED,\n\tALERT_STATUS_NEW,\n\tSTORE_UPDATED,\n\tALERT_STATUS_READ,\n\tALERT_STATUS_DELETED,\n\tNOTIFICATION_TOAST,\n\tQUERY_NOTIFICATIONS,\n\tQUERY_NOTIFICATIONS_SUCCEEDED,\n\tQUERY_NOTIFICATION_COUNT,\n\tQUERY_NOTIFICATION_COUNT_SUCCEEDED,\n\tCLEAR_NOTIFICATION_SECTION,\n\tCLEAR_NOTIFICATION_SECTION_SUCCEEDED,\n\tCLEAR_NOTIFICATIONS_ENDPOINT,\n\tRECORD_STATUS_CHANGED,\n\tSHOW_NOTIFICATION_TOAST,\n\tSUBSCRIBE_NOTIFICATIONS,\n\tWS_NOTIFICATION_ITEM_CHANGED,\n\tPROPERTIES_SET,\n\tNOTIFICATIONS_TOAST_PROP,\n\tNOTIFICATIONS_BADGE_LIST_UPDATED,\n\tNOTIFICATIONS_TRAY_TOGGLED,\n\tUPDATE_NOTIFICATIONS_QUEUE,\n\tNOTIFICATION_SELECTED,\n\tNOTIFICATIONS_INIT, NOTIFICATIONS_SELECTED_CONTENT, INTERACTION_TABLE\n} from '../../constants/constants';\nimport {createUpdateStateSimpleEffect} from '../../utils/effects/makeReducerStateHandler';\n\n\n// Whenever the tray is opened, clear the badge list\nfunction trayToggledEffect({dispatch, action: {payload: {show}}}) {\n\tif (show)\n\t\tdispatch(PROPERTIES_SET, {badgeList: []});\n}\n\nfunction notificationSelectedEffect({state: {deleteQueue, properties: {show, badgeList}}, action: {payload}, dispatch}){\n\tconst {mode, sysId, alertSysId, status} = payload;\n\n\tif (mode === NOTIFICATION_TOAST && status === ALERT_STATUS_READ) { // decrease badgeCount when clicking toast content\n\t\tlet idx = badgeList.indexOf(sysId);\n\t\tlet newBadgeList = badgeList.slice();\n\t\tnewBadgeList.splice(idx, 1);\n\t\tdispatch(PROPERTIES_SET, {badgeList: newBadgeList, show: false});\n\t}\n\n\tdispatch(UPDATE_NOTIFICATIONS_QUEUE, {alertSysId});\n\tutils.askToUpdateNotifications(dispatch, [alertSysId], status, deleteQueue);\n}\n\nconst updateNotificationsQueueEffect = createUpdateStateEffect((state, coeffects)=>{\n\tconst {payload : { alertSysId } } = coeffects;\n\tconst {alertQueue} = state;\n\t// update status in memory\n\tconst newAlertQueue = alertQueue.map( it => {\n\t\tif (it.alert_sys_id === alertSysId) {\n\t\t\treturn {...it, is_read: true}; //TODO: if failed updating db\n\t\t}\n\t\treturn it;\n\t});\n\n\treturn {...state, alertQueue: newAlertQueue};\n});\n\nfunction notificationsInitEffect(coeffects) {\n\tconst {state, dispatch} = coeffects;\n\tconst notificationsEnabled = getBehaviorProp(state, wsNotificationEnabled.name, false);\n\n\tif (notificationsEnabled) {\n\t\tdispatch(SUBSCRIBE_NOTIFICATIONS, {\n\t\t\ttable: 'ui_notification_inbox',\n\t\t\tfilter: utils.buildAlertSubscriptionFilter(),\n\t\t\tsubscribe: true\n\t\t});\n\t}\n}\n\n// update alert query\nconst updateNotificationsEffect =\n\tcreateGraphQLEffect(\n\t\tquery.notificationUpdateQuery, {\n\t\t\ttemplateVarList: ['items'],\n\t\t\tsuccessActionType: UPDATE_NOTIFICATIONS_SUCCEEDED\n\t\t}\n\t);\n\nconst updateNotificationsSucceededEffect =\n\tcreateUpdateStateEffect( (state, action)=> {\n\t\tlet newState = state;\n\t\tconst result = get(action.payload, 'data.GlideRecord_Mutation', null);\n\n\t\tif (result) {\n\t\t\t// Only handles deleted alerts\n\t\t\tconst deletedItem = Object.keys(result).reduce( (acc, key) => {\n\t\t\t\tif (result[key].status.value === ALERT_STATUS_DELETED)\n\t\t\t\t\tacc = acc.concat(result[key]);\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\t\t\t\t// .filter( key => result[key].status.value === ALERT_STATUS_DELETED);\n\t\t\tconst deleteCount = deletedItem.length;\n\n\t\t\tif (deleteCount > 0) {\n\t\t\t\tconst newAlertQueue = newState.alertQueue.filter( item => !result[`update_${item.alert_sys_id}`]);\n\t\t\t\tconst newDeleteQueue = newState.deleteQueue.filter(sys_id => !result[`update_${sys_id}`]);\n\n\t\t\t\tconst {offset, totalRowCount} = newState;\n\t\t\t\tconst newOffset = offset - deleteCount, newTotalRowCount = totalRowCount - deleteCount;\n\n\t\t\t\tnewState = {\n\t\t\t\t\t...newState,\n\t\t\t\t\talertQueue: newAlertQueue,\n\t\t\t\t\tdeleteQueue: newDeleteQueue,\n\t\t\t\t\toffset: newOffset,\n\t\t\t\t\ttotalRowCount: newTotalRowCount\n\t\t\t\t}; // offset and totalRowCount should always update together\n\t\t\t}\n\t\t}\n\t\treturn newState;\n\t});\n\n\n// read alert query\nconst queryNotificationsEffect =\n\tcreateGraphQLEffect(query.notificationReadQuery, {\n\t\tvariableList: ['condition', 'limit', 'offset'],\n\t\tsuccessActionType: QUERY_NOTIFICATIONS_SUCCEEDED\n\t});\n\nconst queryNotificationsSucceededEffect =\n\tcreateUpdateStateEffect((state, action) => {\n\t\tlet newState = state;\n\t\tconst alertChunk = get(action.payload, 'data.GlideRecord_Query.ui_notification_inbox._results', null);\n\n\t\tif (alertChunk) {\n\n\t\t\tconst totalRowCount = get(action.payload, 'data.GlideRecord_Query.ui_notification_inbox._rowCount', 0);\n\t\t\tconst offset = newState.offset + alertChunk.length;\n\n\t\t\t// Get all current notifications\n\t\t\tconst {alertsToKeep, alertsToDelete} = utils.purgeOldAlerts2(newState.alertQueue, alertChunk, newState);\n\n\t\t\tconst newAlertQueue = utils.addDateGroupings(alertsToKeep);\n\n\t\t\tnewState = {...newState, offset, totalRowCount, alertQueue: newAlertQueue, deleteQueue: alertsToDelete}; // offset and totalRowCount should always update together\n\t\t}\n\n\t\treturn newState;\n\t});\n\n\n\n// read alert count query\nconst queryNotificationCountEffect =\n\tcreateGraphQLEffect(query.notificationCountQuery, {\n\t\tvariableList: ['condition'],\n\t\tsuccessActionType: QUERY_NOTIFICATION_COUNT_SUCCEEDED\n\t});\n\n\nfunction queryNotificationCountSucceededEffect({state: {properties: {badgeList}}, dispatch, action: {payload}}){\n\tconst badgeListNew = payload.data.GlideAggregate_Query.map(result => result.groupBy[0].value);\n\tif(!isEqual(badgeList, badgeListNew))\n\t\tdispatch(PROPERTIES_SET, {badgeList: badgeListNew});\n\n}\n\n// clear alerts by section\nconst clearSectionEffect = {\n\t...createUpdateStateEffect((state, action) => (\n\t\t\t{...state, groupIdToDelete: action.payload.groupId}\n\t\t)\n\t),\n\tinterceptors: [clearSectionInterceptor]\n}\n\nfunction clearSectionInterceptor({effects, coeffects}){\n\tconst httpEffect = createHttpEffect(CLEAR_NOTIFICATIONS_ENDPOINT, {\n\t\tmethod: 'PUT',\n\t\tdataParam: 'data',\n\t\tsuccessActionType: CLEAR_NOTIFICATION_SECTION_SUCCEEDED\n\t});\n\treturn {\n\t\tcoeffects,\n\t\teffects: [\n\t\t\t...effects, {\n\t\t\t\t...httpEffect,\n\t\t\t\targs: [...httpEffect.args, coeffects]\n\t\t\t}\n\t\t]\n\t};\n}\n\n\nconst clearSectionSucceededEffect = {\n\t...createUpdateStateEffect((state, action) => {\n\t\t// The section is partially loaded, reloading\n\t\tconst {groupIdToDelete, alertQueue, offset, totalRowCount} = state;\n\n\t\tconst newAlertQueue = alertQueue.filter(item => (item.group !== groupIdToDelete || item.item_type === 'group'));\n\t\tconst deleteCount = alertQueue.length - newAlertQueue.length;\n\t\tconst newOffset = offset - deleteCount, newTotalRowCount = totalRowCount - deleteCount;\n\n\t\treturn {...state, alertQueue: newAlertQueue, offset: newOffset, totalRowCount: newTotalRowCount};\n\t}),\n\tinterceptors: [clearSectionSucceededInterceptor]\n};\n\nfunction clearSectionSucceededInterceptor({effects, coeffects}){\n\treturn {\n\t\tcoeffects,\n\t\teffects: [...effects, {\n\t\t\teffect: reloadEffect,\n\t\t\targs: [coeffects]\n\t\t}]\n\t};\n}\n\nfunction reloadEffect (coeffects) {\n\tconst {state, dispatch} = coeffects;\n\tconst {alertQueue, groupIdToDelete, offset, totalRowCount} = state;\n\tconst groups = ['today', 'yesterday', 'older'];\n\tconst groupIdx = groups.indexOf(groupIdToDelete);\n\n\tlet needReLoading = true;\n\tif (groupIdx < groups.length - 1) {\n\t\tconst nextGroupId = groups[groupIdx+1];\n\t\tconst hasNextGroupItem = alertQueue.find( item => item.group === nextGroupId);\n\t\tif (hasNextGroupItem)\n\t\t\tneedReLoading = false;\n\t}\n\n\tif (needReLoading)\n\t\tutils.askToQueryAlerts(offset, totalRowCount, dispatch);\n}\n\n\n\n// AMB subscription\nconst subscribeNotificationsEffect =\n\tcreateAmbSubscriptionEffect('/rw/default/:table/:filter', {\n\t\t\tmessageReceivedActionType: 'WS_NOTIFICATION_ITEM_CHANGED',\n\t\t\tsubscribeStartedActionType: 'WS_NOTIFICATION_SUBSCRIBE_STARTED',\n\t\t\tsubscribeSucceededActionType: 'WS_NOTIFICATION_SUBSCRIBE_SUCCEEDED',\n\t\t\tsubscribeFailedActionType: 'WS_NOTIFICATION_SUBSCRIBE_FAILED',\n\t\t\tunsubscribeSucceededActionType: 'WS_NOTIFICATION_UNSUBSCRIBED'\n\t\t});\n\nfunction subscriptionUpdatedEffect(coeffects) {\n\tconst {state, action, dispatch} = coeffects;\n\tconst {record, sys_id: sys_id_val} = action.payload.data;\n\tif (record.status.value !== ALERT_STATUS_NEW)\n\t\treturn;\n\n\tconst rawAlert = {...record, sys_id: {value: sys_id_val}};\n\tconst transformedAlert = utils.getTransformedAlert(rawAlert);\n\tconst {alertPayload, updatePayload} = transformedAlert;\n\n\tconst {activeTabInfo = {}, alertQueue, selectedContentVal = {}, properties: {badgeList, show}, offset, totalRowCount} = state;\n\tconst {table: activeTable, sys_id: activeSysId} = selectedContentVal;\n\tconst {table, sys_id, alert_sys_id} = alertPayload;\n\n\tif (table === activeTable && sys_id === activeSysId && activeTable !== INTERACTION_TABLE) {\n\t\t// No toast and no tray item if alert is about current active tab\n\t\tutils.askToUpdateNotifications(dispatch, [alert_sys_id], ALERT_STATUS_DELETED, state.deleteQueue);\n\t}\n\telse {\n\t\t// build toast item and ask to show toast\n\t\tconst alertItem = buildAlertItem(alertPayload);\n\t\tdispatch(SHOW_NOTIFICATION_TOAST, {...alertItem});\n\n\t\t//Get all current alerts\n\t\tconst {alertsToKeep, alertsToDelete} = utils.purgeOldAlerts(alertQueue, alertItem, state, 'sys_id');\n\n\t\t//Group correctly\n\t\tconst newAlertQueue = utils.addDateGroupings(alertsToKeep);\n\n\t\t// Calculate badge count\n\t\tif (!show && badgeList.indexOf(sys_id) === -1)\n\t\t\tdispatch(PROPERTIES_SET, {badgeList: badgeList.concat(sys_id)});\n\n\t\tdispatch(STORE_UPDATED, {\n\t\t\t...state,\n\t\t\talertQueue: newAlertQueue,\n\t\t\tdeleteQueue: alertsToDelete,\n\t\t\toffset: offset + 1,\n\t\t\ttotalRowCount: totalRowCount + 1\n\t\t});\n\t}\n\n\tdispatch(RECORD_STATUS_CHANGED, updatePayload);\n}\n\nfunction showToastEffect({dispatch, action}){\n\tdispatch(PROPERTIES_SET, {[NOTIFICATIONS_TOAST_PROP]:  action.payload});\n}\n\n// Whenever the badge list is updated, set the count and, if the tray is open, reset the session storage counter\nfunction badgeListUpdated({state: {properties: {show}}, dispatch, action: {payload: {badgeList = []}}}){\n\tdispatch(PROPERTIES_SET, {badgeCount: badgeList.length});\n\tif(show)\n\t\tutils.storeBadgeCount();\n}\n\nexport const actionHandlers = {\n\t[NOTIFICATION_SELECTED]: notificationSelectedEffect,\n\t[NOTIFICATIONS_SELECTED_CONTENT]: createUpdateStateSimpleEffect('selectedContentVal'),\n\t[NOTIFICATIONS_INIT]: notificationsInitEffect,\n\t[UPDATE_NOTIFICATIONS]: updateNotificationsEffect,\n\t[UPDATE_NOTIFICATIONS_SUCCEEDED]: updateNotificationsSucceededEffect,\n\t[QUERY_NOTIFICATIONS]: queryNotificationsEffect,\n\t[QUERY_NOTIFICATIONS_SUCCEEDED]: queryNotificationsSucceededEffect,\n\t[QUERY_NOTIFICATION_COUNT]: queryNotificationCountEffect,\n\t[QUERY_NOTIFICATION_COUNT_SUCCEEDED]: queryNotificationCountSucceededEffect,\n\t[CLEAR_NOTIFICATION_SECTION]: clearSectionEffect,\n\t[CLEAR_NOTIFICATION_SECTION_SUCCEEDED]: clearSectionSucceededEffect,\n\t[SUBSCRIBE_NOTIFICATIONS]: subscribeNotificationsEffect,\n\t[WS_NOTIFICATION_ITEM_CHANGED]: subscriptionUpdatedEffect,\n\t[SHOW_NOTIFICATION_TOAST]: showToastEffect,\n\t[NOTIFICATIONS_BADGE_LIST_UPDATED]: badgeListUpdated,\n\t[NOTIFICATIONS_TRAY_TOGGLED]: trayToggledEffect,\n\t[UPDATE_NOTIFICATIONS_QUEUE]: updateNotificationsQueueEffect\n};\n","module.exports = __TECTONIC__$servicenow_ui_effect_http;","module.exports = __TECTONIC__$servicenow_ui_effect_amb;","export const notificationReadQuery = `\n\tquery($condition: String, $offset: Int, $limit: Int) {\n\t  GlideRecord_Query {\n\t\tui_notification_inbox(queryConditions: $condition, pagination: {limit: $limit, offset: $offset}) {\n\t\t  _rowCount\n\t\t  _results {\n\t\t\tsys_id {\n\t\t\t  value\n\t\t\t}\n\t\t\tsys_created_on {\n\t\t\t  value\n\t\t\t}\n\t\t\tpayload {\n\t\t\t  value\n\t\t\t}\n\t\t\ttarget_table{\n\t\t\t  value\n\t\t\t}\n\t\t\ttarget {\n\t\t\t  value\n\t\t\t}\n\t\t\ttriggered_by {\n\t\t\t  value\n\t\t\t  displayValue\n\t\t\t}\n\t\t\tstatus {\n\t\t\t\tvalue\n\t\t\t}\n\t\t  }\n\t\t}\n\t  }\n\t}\n`;\n\n/**\n * Batch update for alerts.\n *\n * Usage:\n * props.resources.alert.update({template_vars: {items: [{sys_id, status}]}});\n *\n * Each batched request must be aliased with a unique variable name currently. Hence the \"update_{{sys_id}}: \" portion\n * below.\n * @type {string}\n */\nexport const notificationUpdateQuery = `\n\tmutation {\n\t\tGlideRecord_Mutation {\n\t\t\t{{#items}}\n\t\t\t\tupdate_{{sys_id}}: update_ui_notification_inbox(sys_id: \"{{sys_id}}\", status: \"{{status}}\") {\n\t\t\t\t\tsys_id {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\tsys_created_on {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\tpayload {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\ttarget_table{\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\ttarget {\n\t\t\t\t\t  value\n\t\t\t\t\t}\n\t\t\t\t\ttriggered_by {\n\t\t\t\t\t  value\n\t\t\t\t\t  displayValue\n\t\t\t\t\t}\n\t\t\t\t\tstatus {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t{{/items}}\n\t\t}\n\t}\n`;\n\nexport const notificationCountQuery = `query($condition: String) {\n\tGlideAggregate_Query(tableName: \"ui_notification_inbox\", groupBy: \"target\", queryConditions: $condition) {\n\t\tcount\n\t\tgroupBy{\n\t\t\tvalue\n\t\t}\n\t}\n}\n`;","'use strict';\nimport {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\n\n\n/**\n * Make an update state effect (and an interceptor)\n * @param reducer\n * @returns {{handlers: [*]}}\n */\nexport default function makeReduceStateHandler(reducer) {\n\treturn {\n\t\thandlers: [createUpdateStateEffect(reducer)]\n\t};\n}\n\n/**\n * Make an update state effect, which only update state[propName]\n * @param propName\n * @returns {{handlers: [*]}}\n */\nexport function makeSimpleReduceStateHandler(propName) {\n\treturn makeReduceStateHandler((state, action) => ({...state, [propName]: action.payload}));\n}\n\nexport const createUpdateStateSimpleEffect = (propName) => createUpdateStateEffect((state, action) => ({...state, [propName]: action.payload}));\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_wsNotificationTray.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-section{display:flex;flex:0 0 auto;flex-direction:column;position:relative}.sn-panel__form .sn-section.is-first-of-type,.sn-panel__form .sn-section:first-of-type,.sn-section{padding:0 16px}.sn-section.is-last-of-type,.sn-section:last-of-type{padding-bottom:24px}.sn-section.is-collapsed .sn-section--body{max-height:0;overflow:hidden;padding:0}.sn-section.mod-column{flex-direction:row}.sn-section.mod-column .sn-section{flex:1 1 50%}.sn-section.mod-border{border-right:1px solid #cbcbcb}.sn-section__no-spacing{padding:0 16px}.sn-section__no-spacing.is-last-of-type,.sn-section__no-spacing:last-of-type{padding-bottom:0}.sn-chat .sn-section{flex:1 1 auto}.sn-chat .sn-section.is-last-of-type,.sn-chat .sn-section:last-of-type{padding-bottom:0}.sn-panel.mod-inbox .sn-section{padding:0}.sn-section--content{display:inline-flex;flex:1 1 auto;overflow:hidden}.sn-section--content__static{flex:0 0 auto;justify-content:flex-end;overflow:initial}.sn-panel.mod-alert-tray .sn-section--content{align-items:flex-end;height:32px;padding-bottom:8px}.sn-section--content>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;flex:1 1 auto;padding:0 16px 0 0}.sn-section--header{width:100%;height:auto;align-items:center;background:transparent;border:none;border-bottom:1px solid #cbcbcb;color:#4a4a4a;cursor:pointer;display:flex;flex:0 0 auto;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:16px 8px 8px;position:relative;text-align:left}.sn-section--header:focus{outline:none}.sn-section--header.is-focus,.sn-section--header.is-hover,.sn-section--header:focus,.sn-section--header:hover{color:#1f8476}.sn-section--header.is-focus span,.sn-section--header:focus span{text-decoration:underline}.sn-section--header__no-hover{color:#4a4a4a;cursor:auto}.sn-section--header__no-hover.is-focus,.sn-section--header__no-hover.is-hover,.sn-section--header__no-hover:focus,.sn-section--header__no-hover:hover{color:#4a4a4a}.sn-chat .sn-section--header{color:#4a4a4a;cursor:auto}.sn-panel.mod-alert-tray .sn-section--header{border-color:#576667;color:#fff;cursor:default;font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px 16px 0}.sn-panel.mod-alert-tray .sn-section--header:focus span{text-decoration:none}.sn-panel--body .sn-section.is-first-child .sn-section--header,.sn-panel--body .sn-section:first-child .sn-section--header{padding-top:0}.sn-section--body{list-style:none;margin:0;color:#293e40;display:flex;flex-direction:column;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 0 16px;position:relative;width:100%}.sn-section--body.is-collapsed{max-height:0;overflow:hidden;padding:0}.sn-section--body.mod-info{padding:16px 24px 0}.sn-section--body.mod-info p,.sn-section--body.mod-info ul{margin:0 0 8px}.sn-section--body.mod-info ul{list-style-type:disc;padding-left:28px;padding-right:28px}.sn-section--body.mod-info ul li{margin-bottom:4px}.sn-chat .sn-section--body{flex:1 1 auto;flex-direction:column-reverse;margin-left:-16px;overflow-y:auto;width:calc(100% + 32px)}.sn-section--footer{width:100%;height:auto;display:flex;flex:0 0 auto;padding:0;position:relative}.sn-chat .sn-section--footer{margin-left:-16px;width:calc(100% + 32px)}.sn-panel.mod-alert-tray .sn-section{padding:0 0 24px}.sn-panel{display:inline-flex;flex:1 1 auto;flex-direction:column;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;overflow:auto;position:relative;width:100%}.sn-panel.has-list-hack{width:1px}.sn-panel.mod-alert-tray{background:#192628;flex:0 0 auto;width:360px;z-index:1030}.sn-panel.mod-filter,.sn-panel.mod-list-edit{background:#fafafa;border-left:1px solid #cbcbcb;flex:0 0 auto;width:320px;z-index:1}.sn-panel.mod-inbox,.sn-panel.mod-list{box-shadow:0 0 11px 0 rgba(0,0,0,.31);flex:0 0 auto;width:240px;z-index:2}.sn-panel.mod-list-edit{min-width:320px;width:auto}.sn-panel.mod-spm-menu{border-right:1px solid #cbcbcb;flex:0 0 auto;width:300px}.sn-panel.mod-global-search,.sn-panel.sn-global-search--list{background:#fff;border-left:1px solid #cbcbcb;max-width:340px;min-width:300px;padding:0}.sn-panel__static{flex:0 0 auto;width:auto;z-index:1}.sn-panel__column{flex-direction:row}.sn-panel__context{background:#fafafa;max-width:320px;min-width:320px;z-index:1}.sn-panel__context+.sn-panel__context{border-left:1px solid #cbcbcb}.sn-panel__form{background:#f1f1f1;max-width:320px;min-width:280px}.sn-panel__lightest{background:#fff}.sn-panel__spacing{padding:16px 16px 0}.sn-panel--body{flex:1 1 auto;margin:0;padding:16px 8px;overflow-x:hidden;overflow-y:auto;position:relative}.sn-chat-queue .sn-panel--body,.sn-panel--body__no-spacing,.sn-panel__context .sn-panel--body,.sn-panel__darkest .sn-panel--body{padding:0}.sn-panel.mod-alert-tray .sn-panel--body{flex-direction:column;padding:16px 0 0}.sn-panel.mod-details .sn-panel--body{display:flex;flex-direction:column}.sn-panel.mod-inbox .sn-panel--body{padding:16px}.sn-panel.mod-list .sn-panel--body{padding:16px 0 0}.sn-panel.mod-filter .sn-panel--body,.sn-panel.mod-list-edit .sn-panel--body{padding-top:0}.context-spm-menu .sn-panel--body,.sn-panel.mod-spm-menu .sn-panel--body,:host(.context-spm) .sn-panel--body{display:flex;flex-direction:column;padding:16px 0}:host(.context-nested-related-tabs) .sn-panel--body{display:flex}.sn-panel--row{display:flex;flex:1 1 auto;min-height:1px}.sn-panel--row.has-bottom-divider{border-bottom:1px solid #cbcbcb}.sn-panel--row.has-top-divider{border-top:1px solid #cbcbcb}.sn-panel--row.mod-column{flex-direction:column}.sn-panel--row__spacing{margin:0 16px;padding:0 0 16px}.sn-panel--row__spacing.is-first-of-type,.sn-panel--row__spacing:first-of-type{padding:16px 0}.sn-panel--row__spacing-sm{margin:0 16px;padding:4px 0}.sn-panel--row__spacing-md{padding:4px 8px}.sn-panel--row__spacing-side{margin:0 16px;padding:0}.sn-panel--row__static{flex:0 0 auto}.sn-global-search .sn-panel--row{padding:32px 32px 0}.sn-global-search .sn-panel--row:first-of-type .sn-control{margin-left:-8px;max-width:300px}.sn-global-search .sn-panel--row:not(:first-of-type){padding:24px 32px 0}.sn-global-search .sn-panel--row:last-of-type{padding:16px 16px 0}.sn-panel--column{display:inline-block;padding:8px;width:100%}.sn-panel--header{align-items:center;color:#4a4a4a;display:flex;flex:0 0 auto;padding:16px}.context-spm-menu .sn-panel--header,.sn-panel.mod-spm-menu .sn-panel--header{align-items:flex-end;background:#f1f1f1;padding:4px 8px}.sn-panel--header+.sn-panel--header{margin-top:-16px;padding-bottom:8px}.sn-panel--footer{background:#fff;display:flex;flex:0 0 auto;padding:16px;position:relative;z-index:1}.sn-panel--footer:before{top:0;right:0;bottom:0;left:0;position:absolute;background:rgba(230,233,235,.1);content:\\\"\\\"}.sn-panel.mod-list .sn-panel--footer{background:#f1f1f1;border-top:none;padding:4px 8px}.sn-panel__context .sn-panel--footer{padding:0}.sn-panel--content{align-items:center;display:inline-flex;flex:1 1 auto;padding:0 8px 0 0;overflow:hidden}.sn-panel--content.is-last-of-type,.sn-panel--content:last-of-type{justify-content:flex-end;padding:0}.sn-agent-assist--filter--header .sn-panel--content,.sn-panel__context .sn-agent-assist--filter--header .sn-panel--content{color:#7d7d7d;padding:0;width:50%}.sn-agent-assist--filter--header .sn-panel--content.is-first-child span,.sn-agent-assist--filter--header .sn-panel--content:first-child span,.sn-panel__context .sn-agent-assist--filter--header .sn-panel--content.is-first-child span,.sn-panel__context .sn-agent-assist--filter--header .sn-panel--content:first-child span{padding:0 4px}.sn-agent-assist--subheader .sn-panel--content,.sn-panel__context .sn-agent-assist--subheader .sn-panel--content{padding:0}.context-spm-menu .sn-panel--header .sn-panel--content,.sn-panel.mod-spm-menu .sn-panel--header .sn-panel--content{display:block;padding:0}.sn-panel__context .sn-panel--content{padding:0 16px 16px}.sn-panel__context .sn-panel--content+.sn-panel--content__static{margin-left:-16px}.sn-panel__context .sn-panel--header .sn-panel--content{padding:0 8px 0 0}.sn-panel__context .sn-panel--header .sn-panel--content.is-last-of-type,.sn-panel__context .sn-panel--header .sn-panel--content:last-of-type{padding:0}.sn-panel__darkest .sn-panel--row .sn-panel--content{flex:1 1 50%}.sn-panel--content__static{flex:0 0 auto}.context-spm-menu .sn-panel--header .sn-panel--content__static,.sn-panel.mod-spm-menu .sn-panel--header .sn-panel--content__static{align-items:center;display:flex;justify-content:flex-end}.sn-panel--title{color:#4a4a4a;display:inline-flex;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.2;margin:0;overflow:hidden;padding:0;width:100%}.sn-panel--title__spacing{margin:8px 0}.sn-global-search .sn-panel--title{font:24px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.context-spm-menu .sn-panel--title,.sn-panel.mod-spm-menu .sn-panel--title{font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-panel.mod-alert-tray .sn-panel--title{color:#fff;font:18px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-panel--title span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-attachments-panel,.sn-templates-panel{height:100%}.sn-modal,:host(sn-modal){background:#fff;border:1px solid #cbcbcb;border-radius:2px;box-shadow:0 5px 10px 0 rgba(0,0,0,.07);color:#4a4a4a;display:flex;flex-direction:column;max-height:90%;min-width:320px;padding:0;z-index:1050}.sn-modal.sn-modal__xs,:host(sn-modal.mod-xs){max-width:10vw;min-width:280px}.sn-modal.sn-modal__sm,:host(sn-modal.mod-sm){max-width:20vw;min-width:300px}.sn-modal.sn-modal__md,:host(sn-modal.mod-md){max-width:40vw}.sn-modal.sn-modal__lg,:host(sn-modal.mod-lg){max-width:60vw}.sn-modal.sn-modal__xl,:host(sn-modal.mod-xl){max-width:80vw}.sn-modal.sn-modal__fw,:host(sn-modal.mod-fw){width:100vw}.sn-quick-lookup .sn-modal{color:#4a4a4a}.sn-modal--background{top:0;left:0;position:fixed;width:100%;height:100%;align-items:center;background:rgba(41,62,64,.24);display:none;justify-content:center;z-index:1050}.sn-modal--background.is-open{display:flex}.sn-modal--content{align-items:center;display:inline-flex;flex:1 1 auto}.sn-modal--content__static{flex:0 0 auto}.sn-modal--footer .sn-modal--content{justify-content:flex-end}.sn-modal--header{width:100%;height:56px;align-items:center;border-bottom:1px solid #cbcbcb;display:flex;flex:0 0 auto;padding:0 16px}.sn-modal--header--title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font:20px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;margin:-1px 0 0 8px}.sn-modal--header--title.is-only-child,.sn-modal--header--title:only-child{margin:-1px 0 0}.sn-modal--body{display:flex;flex:1 1 auto;flex-direction:column;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;max-height:340px;overflow-x:hidden;overflow-y:auto;padding:24px 24px 12px;width:100%}.sn-modal--body.is-last-child,.sn-modal--body:last-child{padding-bottom:24px}.sn-modal--body__no-spacing{padding:0}.sn-modal--body__no-spacing.is-last-child,.sn-modal--body__no-spacing:last-child{padding-bottom:0}.sn-quick-lookup .sn-modal--body{padding:0}.sn-modal--body>p{line-height:1.5;margin:0 0 16px}.sn-modal--body>p:only-child{margin:0}.sn-modal--footer{align-items:center;display:flex;flex:0 0 auto;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:12px 24px 24px;width:100%}.sn-modal--footer.has-top-divider{border-top:1px solid #cbcbcb}.sn-modal--footer__no-spacing{padding:0}.sn-url{align-items:center;color:#1f8476;cursor:pointer;display:inline-flex;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.2;text-decoration:none}.sn-url:focus{outline:none}.sn-url.is-focus span,.sn-url.is-hover span,.sn-url:focus span,.sn-url:hover span{text-decoration:underline}.sn-url.mod-strong{font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-url.mod-fw{justify-content:center;width:100%}.sn-url__dark{color:#4a4a4a}.sn-url__xs{font-size:12px}.sn-url__sm{font-size:14px}.sn-as-return .sn-url{background:#1f8476;border-radius:12px;color:#fff;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;margin:8px 0 0;padding:4px 8px;text-decoration:none}.sn-as--filter--content .sn-url{font-size:14px;margin:0 8px 0 0}.sn-agent-assist--filter--header .sn-url{font-size:14px;margin-right:8px}.sn-agent-assist--filter--header .sn-url.is-last-of-type,.sn-agent-assist--filter--header .sn-url:last-of-type{margin-right:0}.sn-breadcrumbs .sn-url{color:#4a4a4a;font-size:14px}.sn-breadcrumbs .sn-url:focus{color:#1f8476}.sn-breadcrumbs .sn-url.is-selected,.sn-card__recommendation .sn-url{font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-card__recommendation .sn-url{color:#488796}.sn-card--header .sn-url{margin:0 0 0 8px}.sn-control--field .sn-url{flex:1 1 auto;height:32px;margin:-4px 0 0;padding:0 8px}.sn-control--field .sn-url.has-multiline{height:auto;margin:0;padding-top:4px;word-break:break-all}.sn-control--field .sn-url span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-control--field .sn-url+.sn-input{display:none}.sn-card .sn-url{font-size:14px}.sn-cti--header--content .sn-url{color:#fff}.sn-hierarchy--tree .sn-url{color:#666;margin:0 8px 0 0}.sn-hierarchy--tree .sn-url.is-hover,.sn-hierarchy--tree .sn-url:hover{color:#2e2e2e}.sn-list .sn-url{color:#165c53}.sn-list-table--header .sn-url{color:#293e40;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-list-table--header .sn-url sn-icon{color:#54ac98}.sn-list-table--header .sn-url.is-hover sn-icon,.sn-list-table--header .sn-url:hover sn-icon{background:#f1f1f1}.sn-list-table--header .sn-url.is-focus sn-icon,.sn-list-table--header .sn-url:focus sn-icon{background-color:#f1f1f1;border:1px solid #cbcbcb}.sn-list-group--header .sn-url{font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-panel--header .sn-url{margin-left:8px}.context-spm-menu .sn-list-nav .sn-url,.sn-panel.mod-spm-menu .sn-list-nav .sn-url{padding:0 8px 0 4px}.context-spm-menu .sn-url,.sn-panel.mod-spm-menu .sn-url{color:#4a4a4a;margin-left:0;padding-right:8px;width:100%}.context-spm-menu .sn-url.is-focus,.context-spm-menu .sn-url:focus,.sn-panel.mod-spm-menu .sn-url.is-focus,.sn-panel.mod-spm-menu .sn-url:focus{color:#1f8476}.context-spm-menu .sn-url span,.sn-panel.mod-spm-menu .sn-url span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-panel.mod-alert-tray .sn-url{color:#b8e0d7}.sn-typeahead .sn-popover--footer .sn-url{justify-content:center;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:16px;width:100%}.sn-widget--table--content .sn-url{width:100%}.sn-widget--table--content .sn-url>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-widget--user-name .sn-url{margin-left:4px;flex:0 0 auto}.sn-widget .sn-list--condensed .sn-url{font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-toast{cursor:pointer;display:flex;flex:0 0 auto;background:RGB(var(--now-color--neutral-15,44,53,55));border:1px solid transparent;border-radius:.5rem;color:RGB(var(--now-color--neutral-3,209,214,214));font-size:1rem;width:23.125rem;height:5.6875rem;padding:0;position:relative;margin:0;text-decoration:none;text-align:left;z-index:1070}.sn-toast::-moz-focus-inner{border-style:none}.sn-toast:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-toast.is-hover:before,.sn-toast:hover:before{background:RGB(var(--now-color--primary-1,30,133,109),.5)}.sn-toast:active{color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-toast:active:before{background:RGB(var(--now-color--primary-1,30,133,109))}.sn-toast:before{border-radius:.5rem;content:\\\"\\\";height:100%;left:0;position:absolute;width:100%;top:0}.sn-toast p{margin:0 0 4px;position:relative}.sn-toast p.is-last-child,.sn-toast p:last-child{margin:0}.sn-toast .message{margin:0;max-height:2.5rem;overflow:hidden;position:relative;text-align:left;padding-bottom:.5rem}.sn-toast strong{color:#d1d6d8;font-size:1rem;font-weight:600;position:relative}.sn-toast__content{display:inline-flex;flex:1 1 auto;flex-direction:column;overflow:hidden;padding:16px 4px 0 0;position:relative}.sn-toast__content.is-first-child,.sn-toast__content:first-child{flex:0 0 auto;padding:19px 8px 16px 16px}.sn-toast__content.is-last-child,.sn-toast__content:last-child{padding-right:48px}.sn-toast__header{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;margin:0 0 .125rem;position:relative;font-weight:600;text-align:left}.sn-toast__header,.sn-toast__meta{color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-toast__meta{align-items:flex-end;display:inline-flex;flex:1 1 auto;font-size:.75rem;padding-bottom:1rem}.sn-toast-list .sn-toast{margin:0 0 4px}.sn-panel.mod-alert-tray .sn-toast-list .sn-toast{position:relative;margin:0;width:23.125rem;height:5.6875rem}.sn-panel.mod-alert-tray .sn-toast,:host(.context-toast-panel) .sn-toast{border:none;border-bottom:1px solid rgb(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));border-radius:0;width:23.125rem;height:7.125rem;background-color:RGB(var(--now-color--neutral-15,44,53,55));font-weight:400}.sn-panel.mod-alert-tray .sn-toast::-moz-focus-inner,:host(.context-toast-panel) .sn-toast::-moz-focus-inner{border-style:none}.sn-panel.mod-alert-tray .sn-toast:focus,:host(.context-toast-panel) .sn-toast:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-panel.mod-alert-tray .sn-toast.is-unread,:host(.context-toast-panel) .sn-toast.is-unread{font-weight:600;background-color:RGBA(var(--now-color--primary-3,15,67,55),.5)}.sn-panel.mod-alert-tray .sn-toast:hover,:host(.context-toast-panel) .sn-toast:hover{background-color:RGBA(var(--now-color--primary-1,30,133,109),.5)}.sn-toast-close{z-index:1071;display:flex;width:inherit;cursor:pointer;align-items:center;background:transparent;border:0;color:RGB(var(--now-color--neutral-3,209,214,214));display:inline-flex;justify-content:center;padding:0;position:absolute;right:.5rem;top:.5rem;width:1.5rem;height:1.5rem}.sn-toast-close::-moz-focus-inner{border-style:none}.sn-toast-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-toast-close:active{color:currentColor}.sn-toast-close:hover{background:RGB(var(--now-color--primary-1,30,133,109),.5)}.sn-toast-close:active{background:RGB(var(--now-color--primary-1,30,133,109));color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-toast-list{list-style:none;margin:0;display:flex;flex-direction:column;padding:8px;z-index:1030}.sn-toast-list li{position:relative}.sn-panel.mod-alert-tray .sn-toast-list{padding:0;width:23.125rem}.sn-panel.mod-alert-tray{position:absolute;right:0;top:48px;bottom:0;height:inherit;background:RGB(var(--now-color--neutral-15,44,53,55));width:23.125rem}.sn-panel.mod-alert-tray .title{font-size:1.25rem;color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-panel.mod-alert-tray .clear-button{min-height:calc(1.5rem*var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1));padding-block-start:.25rem;padding-block-end:.25rem;font-size:.75rem;line-height:1.33333;vertical-align:middle;margin:0;border-width:1px;border-style:solid}.sn-panel.mod-alert-tray .clear-button::-moz-focus-inner{border-style:none}.sn-panel.mod-alert-tray .clear-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-panel.mod-alert-tray .sn-section--header{padding:1rem .5rem 0 1rem;border-bottom-color:RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)))}.sn-panel.mod-alert-tray .sn-section,.sn-panel.mod-alert-tray .sn-section--body{padding:0}.sn-panel.mod-alert-tray .sn-panel--body{height:100%}.sn-panel.mod-alert-tray .sn-panel--body .no-alerts{color:#d1d6d8;height:100%;display:flex;justify-content:center;align-content:center;flex-direction:column;text-align:center;font-size:16px;margin:auto;width:23.125rem}.sn-modal--background{position:absolute}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceBreadcrumb.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-chrome-popover-container{position:relative;display:inline-block;margin:auto 0}.sn-chrome-popover-container.is-open .sn-chrome-popover{display:block;visibility:visible}.sn-chrome-popover{background:#fff;border:1px solid rgb(var(--now-color--primary-1,30,133,109));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);display:flex;flex-direction:column;height:auto;list-style:none;margin-top:.25rem;right:0;position:absolute;visibility:hidden;width:14.5rem;z-index:1060}.sn-chrome-popover.hoverEnabled{position:fixed;position:-ms-device-fixed}.sn-chrome-popover:focus{outline:none}.sn-chrome-popover-body{display:block}.sn-chrome-popover-body:focus{outline:none}.sn-chrome-popover-body .sn-card{background:transparent;border:none}.sn-chrome-popover-body .sn-card .sn-card--title{line-height:1rem;max-height:2rem;display:block}.sn-chrome-popover-body .sn-card .sn-card--title h5{margin-block-start:0;margin-block-end:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated{max-width:11.25rem;overflow:hidden;position:relative;word-break:break-word;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--title--name--truncated:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-body .sn-card .sn-card--table--content{overflow:hidden;position:relative;word-break:break-all;line-height:1rem;max-height:2rem;margin-right:-1em;padding-right:1em}.sn-chrome-popover-body .sn-card .sn-card--table--content:before{content:\\\"...\\\";position:absolute;right:0;bottom:0}.sn-chrome-popover-body .sn-card .sn-card--table--content:after{content:\\\"\\\";position:absolute;right:0;width:1em;height:1em;margin-top:.2em;background:#fff}.sn-chrome-popover-header{align-items:center;display:flex;color:RGB(var(--now-color--neutral-12,66,80,81));font-size:.75rem;margin:.5rem 0 .25rem;padding:0 .5rem 0 1rem;overflow:hidden;position:relative}.sn-chrome-popover-section{display:block;max-height:18.75rem;overflow-y:auto;width:100%}.sn-chrome-popover-section:first-of-type .sn-chrome-popover-list:not(:empty){border-bottom:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list{list-style:none;margin:0;padding:0;width:100%}.sn-chrome-popover-list:focus{outline:none}.sn-chrome-popover-list.-nested{background:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-5,172,180,181))}.sn-chrome-popover-list-item{align-items:center;display:flex;font-size:1rem;height:2rem;overflow:hidden;position:relative}.sn-chrome-popover-list-item.is-disabled{opacity:.5}.sn-chrome-popover-list-item.has-update:after{top:0;bottom:0;left:0;position:absolute;background:RGB(var(--now-color--alert-info-2,14,120,196));content:\\\"\\\";width:.25rem}.sn-chrome-popover-list-item-config-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.sn-chrome-popover-list-item-config-link.is-hover,.sn-chrome-popover-list-item-config-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-config-link.is-focus,.sn-chrome-popover-list-item-config-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-list-item-link{width:100%;height:100%;align-items:center;display:flex;color:RGB(var(--now-color--neutral-18,22,27,28));cursor:pointer;padding:0 .5rem 0 1rem;position:relative;text-decoration:none}.-nested .sn-chrome-popover-list-item-link.is-focus,.-nested .sn-chrome-popover-list-item-link.is-hover,.-nested .sn-chrome-popover-list-item-link:focus,.-nested .sn-chrome-popover-list-item-link:hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:focus,.sn-chrome-popover-list-item.is-disabled .sn-chrome-popover-list-item-link:hover{background:transparent;cursor:default}.sn-chrome-popover-list-item-link.is-hover,.sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--primary-0,221,237,233),.45)}.sn-chrome-popover-list-item-link.is-focus,.sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section .sn-chrome-popover-list-item-link{padding:0 .75rem}.sn-chrome-popover-section .sn-chrome-popover-list-item-link>now-icon{margin-right:.5rem}.has-update .sn-chrome-popover-list-item-link{background:RGBA(var(--now-color--alert-info-0,195,221,240),.5)}.has-update .sn-chrome-popover-list-item-link.is-hover,.has-update .sn-chrome-popover-list-item-link:hover{background:RGBA(var(--now-color--alert-info-1,104,171,218),.5)}.has-update .sn-chrome-popover-list-item-link.is-focus,.has-update .sn-chrome-popover-list-item-link:focus{background:RGBA(var(--now-color--primary-0,221,237,233))}.sn-chrome-popover-section.-indented .sn-chrome-popover-list-item-link{padding-left:3.25rem}.sn-chrome-popover-list-item-link>label{cursor:pointer}.sn-chrome-popover-list-item-link>now-icon{flex:0 0 auto;margin-left:.5rem}.sn-chrome-popover-list-item-close{background:transparent;border:none;cursor:pointer;height:.75rem;margin-top:-.3125rem;padding:0;position:absolute;right:.5rem;top:50%;width:.75rem;z-index:1}.sn-chrome-popover-list-item-close::-moz-focus-inner{border-style:none}.sn-chrome-popover-list-item-close:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-chrome-popover-list-item-close.is-hover,.sn-chrome-popover-list-item-close:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-chrome-popover-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;align-items:center;display:inline;flex:1 1 auto;position:relative}:host(sn-workspace-breadcrumb){background:RGB(var(--now-color--neutral-1,246,247,247));display:block;min-width:100%;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;border-bottom:1px solid;border-bottom-color:rgb(var(--now-color--divider-primary,var(--now-color--neutral-7,135,147,148)))}.sn-breadcrumb-row.sn-breadcrumb-row__meta{background:transparent;display:flex;padding:.75rem 1rem .75rem .75rem;font-size:1rem;height:48px}.sn-breadcrumb-row.sn-breadcrumb-row__meta.hidden{display:none}.sn-breadcrumb-row__related{z-index:3}.sn-breadcrumb-row{z-index:4}.sn-breadcrumb-row li,.sn-breadcrumb-row ol{display:flex;flex-shrink:0;list-style-type:none;padding:0;margin:0}.sn-breadcrumb-row span{display:flex;align-self:center;align-items:center;white-space:nowrap;flex-shrink:0}.sn-breadcrumb-row span.breadcrumb-element{margin:0 .25rem}.sn-breadcrumb-row span.breadcrumb-element a{max-width:300px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:RGB(var(--now-color--neutral-18,22,27,28))}.sn-breadcrumb-row span.breadcrumb-element a::-moz-focus-inner{border-style:none}.sn-breadcrumb-row span.breadcrumb-element a:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-breadcrumb-row span.breadcrumb-element:hover a,.sn-breadcrumb-row span.breadcrumb-element:hover now-icon{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-breadcrumb-row span.breadcrumb-element span{max-width:300px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inline-block}.sn-breadcrumb-row span.breadcrumb-element.selected,.sn-breadcrumb-row span.breadcrumb-element.selected:hover a,.sn-breadcrumb-row span.breadcrumb-element.selected:hover now-icon{color:RGB(var(--now-color--neutral-18,22,27,28))}.sn-breadcrumb-row span.arrow{margin:0 .25rem;color:RGB(var(--now-color--neutral-9,99,114,116))}.sn-breadcrumb-row now-icon{margin:0 .25rem;font-weight:400!important}.sn-breadcrumb-row .overflow-trigger-ele{background:none;padding:0;border:none;font:inherit;cursor:pointer;color:RGB(var(--now-color--neutral-18,22,27,28));display:flex}.sn-breadcrumb-row .overflow-trigger-ele:hover{color:RGB(var(--now-color--primary-1,30,133,109))}.sn-breadcrumb-row .breadcrumb-overflow-menu{max-height:350px;overflow-y:auto;width:400px}.sn-breadcrumb-row .breadcrumb-overflow-menu .sn-chrome-popover-body ul{padding:0;margin:0}.sn-breadcrumb-row .breadcrumb-overflow-menu .sn-chrome-popover-body li{display:block;color:RGB(var(--now-color--neutral-18,22,27,28))}.sn-breadcrumb-row .breadcrumb-overflow-menu .sn-chrome-popover-body li:focus-within,.sn-breadcrumb-row .breadcrumb-overflow-menu .sn-chrome-popover-body li:hover{background-color:RGB(var(--now-color--primary-0,221,237,233));cursor:pointer}.sn-breadcrumb-row .breadcrumb-overflow-menu .sn-chrome-popover-body li a{color:RGB(var(--now-color--neutral-18,22,27,28));max-width:368px}.sn-breadcrumb-row .breadcrumb-overflow-menu .sn-chrome-popover-body li a:hover{color:RGB(var(--now-color--neutral-18,22,27,28));text-decoration:none;outline:none}.sn-breadcrumb-row .breadcrumb-overflow-menu span{padding:.25rem 1rem}.sn-breadcrumb-row__meta{z-index:5}.sn-breadcrumb-row a:hover{cursor:pointer}\", \"\"]);\n\n// exports\n","\nimport React from 'react';\nimport {isEmpty, debounce} from 'lodash';\nimport {addResizeListener} from 'sn-seismic-addons';\nimport {t} from 'sn-translate';\nimport {getBreadCrumbData, saveTabsInSessionStorage, getActiveModule} from './snWorkspaceBreadcrumb.util';\nimport {truncateBreadCrumbData} from './snWorkspaceBreadcrumb.reducers';\nimport {CLOSE_MODULE_DRILLDOWN, BREADCRUMB_ITEM_SELECTED, STORE_UPDATED} from '../constants/constants';\nimport PopoverContainer from '../internal-components/chrome-popover/popoverContainer';\nimport OneBreadCrumb from './OneBreadCrumb';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-button';\n\nclass WsBreadCrumb extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmaxWidth: document.body.clientWidth,\n\t\t\toverflowArray: [],\n\t\t\tshowOverflow: false\n\t\t};\n\t\tthis.classNames = {\n\t\t\tselected: 'selected',\n\t\t\tbreadcrumbElement: 'breadcrumb-element',\n\t\t\tchevron: 'arrow'\n\t\t};\n\t\tthis.activeModuleId;\n\t\tthis.chevron = this._getChevron('chevron-right-outline');\n\t\tthis.overflowRefs = [];\n\t\tthis.focusedOverflowEleIndx = -1;\n\t\tthis.debounceOverflowPopoverClick =  debounce(this.toggleOverflowPopover, 200);\n\t\tthis.oneRefs = [];\n\t\tthis.oneRefWidths = [];\n\t\tthis.hasOneRefWidths = false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst leftWidth = 240; // nav-bar width\n\t\tthis.setState({maxWidth: document.body.clientWidth - leftWidth});\n\n\t\tthis.removeResizeListener = addResizeListener(this._resize);\n\n\t\twindow.addEventListener('popstate', this.onPopState, false);\n\t\twindow.addEventListener('beforeunload', this.onUnload);\n\t}\n    \n\t_setBreadcrumbRef = breadcrumb => this.breadcrumbRef = breadcrumb;\n\n\t_getChevron = icon => <span className={this.classNames.chevron}><now-icon size=\"md\" icon={icon}/></span>;\n\n\t_handleOverflowState = overflowArray => {\n\t\tthis.setState({overflowArray:[...overflowArray]});\n\t\tif(isEmpty(overflowArray))\n\t\t\tthis.setState({showOverflow: false});\n\t}\n\n\t_resize = () => {\n\t\tif (!this.breadcrumbRef || isEmpty(this.oneRefs))\n\t\t\treturn;\n\n\t\tconst setMaxWidth = () => {\n\t\t\tconst maxWidth = this.breadcrumbRef.clientWidth - 32; // 32: side padding of the container\n\t\t\tif (maxWidth !== this.state.maxWidth)\n\t\t\t\tthis.setState({maxWidth});\n\t\t};\n\t\tconst olEle = this.breadcrumbRef.childNodes[0];\n\t\tlet olEleWidth = olEle.clientWidth;\n\n\t\tconst {setTabsProps} = this.props;\n        const {module: moduleData} = getActiveModule(setTabsProps) || {};\n\t\tconst breadcrumbData = getBreadCrumbData(setTabsProps) || [];\n\t\tif(!moduleData || isEmpty(breadcrumbData))\n\t\t\treturn;\n\n\t\tif(!this.hasOneRefWidths){\n\t\t\tthis._setOneRefWidths();\n\t\t\tthis.hasOneRefWidths = true;\n\t\t}\n\n\t\tconst inSameModule = this.activeModuleId === moduleData.id;\n\t\tif(!inSameModule){\n\t\t\tthis._handleOverflowState([]);\n\t\t\tthis.activeModuleId = moduleData.id;\n\t\t\treturn;\n\t\t}\n\n\t\tlet clientWidth = this.breadcrumbRef.clientWidth;\n\t\tlet scrollWidth = this.breadcrumbRef.scrollWidth;\n\n\t\tlet overflowArray = this.state.overflowArray;\n\t\tlet overflowchanged = false;\n\t\tconst padding = 32;\n\t\tif( clientWidth < scrollWidth ){ //handle minimizing\n\t\t\twhile(overflowArray.length < breadcrumbData.length-1 && ((clientWidth-padding) < scrollWidth)){\n\t\t\t\tclientWidth = clientWidth+this.oneRefWidths[overflowArray.length];\n\t\t\t\toverflowArray.push(breadcrumbData[overflowArray.length]);\n\t\t\t\toverflowchanged = true;\n\t\t\t}\n\t\t\tif(overflowchanged){\n\t\t\t\tthis._handleOverflowState(overflowArray);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\telse { //check if elements in overflow fit in the remaining width\n\t\t\twhile(overflowArray.length > 0 && ((olEleWidth+padding) < clientWidth-this.oneRefWidths[overflowArray.length-1])){\n\t\t\t\tolEleWidth = olEleWidth+this.oneRefWidths[overflowArray.length-1];\n\t\t\t\toverflowArray.pop();\n\t\t\t\toverflowchanged = true;\n\t\t\t}\n\t\t\tif(overflowchanged)\n\t\t\t\tthis._handleOverflowState(overflowArray);\n\t\t}\n\n\t\tif(this.breadcrumbRef.clientWidth)\n\t\t\tsetMaxWidth();\n\t\telse\n\t\t\tsetTimeout(() => setMaxWidth()); //breadcrumb's clientWidth may not be ready. e.g. creating new tab via plus menu in FF\n\t}\n\n\t_handleModuleClick(){\n\t\tconst {dispatch, setTabsProps} = this.props;\n        const {module} = getActiveModule(setTabsProps);\n\t\tthis.setState({overflowArray : [], showOverflow : false});\n\t\tdispatch(CLOSE_MODULE_DRILLDOWN, module);\n\t}\n\n\t_transformBreadcrumbDataToPayload(breadcrumbData){\n\t\tbreadcrumbData.sys_id  = breadcrumbData.sys_id || breadcrumbData.sysId;\n\t\tbreadcrumbData.row = breadcrumbData.row || {sys_id: {value : breadcrumbData.sys_id}};\n\t\treturn breadcrumbData;\n\t}\n\n\t_handleBreadCrumbClick(index, container){\n\n\t\tconst {dispatch, setTabsProps: tabData} = this.props;\n\t\t\n        const breadcrumbData = getBreadCrumbData(tabData) || [];\n\t\t\n        const overflowArray = this.state.overflowArray;\n\t\tif(container !== 'overflowEle')\n\t\t\tindex = overflowArray.length + index;\n\n\t\tif(index >= breadcrumbData.length-1)\n\t\t\treturn;\n\t\tthis.setState({overflowArray : [], showOverflow : false});\n\n\t\tconst newTabData = truncateBreadCrumbData(tabData, index);\n\t\tdispatch(STORE_UPDATED, {...this.props, setTabsProps : newTabData});\n\n\t\tconst newBreadcrumbData = getBreadCrumbData(newTabData);\n\n\t\tdispatch(BREADCRUMB_ITEM_SELECTED, this._transformBreadcrumbDataToPayload(newBreadcrumbData[index]));\n\t}\n\n\t_setOverflowRefs = ref => this.overflowRefs.push(ref);\n\n\t_pushOneRef = ref => ref && isEmpty(this.state.overflowArray) ? this.oneRefs.push(ref) : null;\n\n\t_setOneRefWidths = () =>this.oneRefs.forEach(ref => this.oneRefWidths.push(ref.elmRef ? ref.elmRef.clientWidth : 300));\n\n\ttoggleOverflowPopover = trigger => {\n\t\tif(trigger === 'overflowTriggerEle' && !this.state.showOverflow)\n\t\t\tthis.setState({showOverflow : true });\n\t\telse\n\t\t\tthis.setState({showOverflow : false });\n\t}\n\n\tfocusPrevOrNextElement = (dir) => {\n\t\tif(dir === 1){\n\t\t\tif(this.focusedOverflowEleIndx === -1){\n\t\t\t\tthis.overflowRefs[0].focus();\n\t\t\t\tthis.focusedOverflowEleIndx = 0;\n\t\t\t}else{\n\t\t\t\tthis.overflowRefs[++this.focusedOverflowEleIndx].focus();\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.focusedOverflowEleIndx !== 0)\n\t\t\t\tthis.overflowRefs[--this.focusedOverflowEleIndx].focus();\n\t\t\telse{\n\t\t\t\tthis.focusedOverflowEleIndx = -1;\n\t\t\t\tthis.debounceOverflowPopoverClick();\n\t\t\t}\n\t\t}\n\t}\n\n\thandleClicks = e => {\n\t\tconst cls = e.target.className;\n\t\tif(cls === 'module'){\n\t\t\tthis._handleModuleClick();\n\t\t}\n\t\telse if(cls === 'breadcrumb' || cls === 'overflow-breadcrumb-ele'){\n\t\t\tlet indx = e.target.getAttribute('data-params-index');\n\t\t\tindx = indx ? parseInt(indx) : -1;\n\t\t\tif(indx > -1)\n\t\t\t\tthis._handleBreadCrumbClick(indx, cls === 'overflow-breadcrumb-ele'? 'overflowEle':null);\n\t\t}else if(cls === 'overflow-trigger-ele'){\n\t\t\tthis.debounceOverflowPopoverClick('overflowTriggerEle');\n\t\t}\n\t}\n\n\thandleKeys = e => {\n\t\tconst keyCode = e.charCode || e.keyCode || e.which;\n\t\tif(keyCode === 13 || keyCode === 32) //Handle Enter/Return key\n\t\t\te.target.click();\n\t\telse if(keyCode === 40){\n\t\t\tif(e.target.className === 'overflow-trigger-ele' || e.target.className === 'overflow-breadcrumb-ele' ){\n\t\t\t\tif(this.state.showOverflow)\n\t\t\t\t\tthis.focusPrevOrNextElement(1);\n\t\t\t}\n\t\t}\n\t\telse if(keyCode === 38){\n\t\t\tif(e.target.className === 'overflow-breadcrumb-ele' ){\n\t\t\t\tif(this.state.showOverflow)\n\t\t\t\t\tthis.focusPrevOrNextElement(-1);\n\t\t\t}\n\t\t}\n\t}\n\n\tonPopState = () => this.setState({overflowArray:[], showOverflow: false});\n\n\tonUnload = () => saveTabsInSessionStorage(this.props.setTabsProps, this.props);\n\n\tcomponentDidUpdate(){\n\t\tthis._resize();\n\t}\n\n\trender() {\n\t\tconst {setTabsProps = {}} = this.props;\n        const {module} = getActiveModule(setTabsProps);\n        if(!module)\n\t\t\treturn null;\n\t\tconst {overflowArray} =  this.state;\n\t\tlet breadcrumbData  = getBreadCrumbData(setTabsProps, module) || [];\n\t\tthis.overflowRefs = [];\n\t\tthis.focusedOverflowEleIndx = -1;\n\n\t\tif(overflowArray.length > 0 && breadcrumbData.length > 0)\n\t\t\tbreadcrumbData.splice(0, overflowArray.length);\n\t\tif(breadcrumbData.length === 0 && overflowArray.length > 0)\n\t\t\tbreadcrumbData.push(overflowArray.pop());\n\t\treturn (\n\t\t\t<nav aria-label={t('Breadcrumb')} className=\"chrome-breadcrumb sn-breadcrumb-row sn-breadcrumb-row__meta\" ref={this._setBreadcrumbRef} onKeyUp = {e => this.handleKeys(e)}>\n\t\t\t\t<ol onClick={e => this.handleClicks(e)}>\n\t\t\t\t{this._renderModule(module, isEmpty(breadcrumbData))}\n\t\t\t\t{this._renderOverflow(overflowArray)}\n\t\t\t\t{this._renderBreadCrumb(breadcrumbData)}\n\t\t\t\t</ol>\n\t\t\t</nav>\n\t\t);\n\t}\n\n\t_renderModule = (moduleData, isBreadCrumbsEmpty) => {\n\t\tif(isEmpty(moduleData))\n\t\t\treturn null;\n\t\tconst {icon, label} = moduleData;\n\t\treturn <OneBreadCrumb config={{icon:icon, label:t(label), eleClass: 'module', isSelected: isBreadCrumbsEmpty, chevron : this.chevron}} />;\n\t}\n\n\t_renderOverflow = overflowArray => {\n\t\tif(isEmpty(overflowArray))\n\t\t\treturn null;\n\t\treturn (\n            <span>\n                    <now-button \n                        icon-name=\"ellipsis-h-fill\"\n                        tooltip-content={t('More')}\n                        className='overflow-trigger-ele'\n                        variant=\"inherit\"\n                        size=\"sm\" \n                        ref={button => this.overflowTriggerEle = button}\n                        config-aria={{\n                            'aria-label': t('More'),\n                            'aria-hidden': 'false',\n                            'aria-haspopup': 'true',\n                            'aria-expanded': this.state.showOverflow\n                        }}\n                        bare\n                        />\n                    <PopoverContainer\n                        triggerEl={this.overflowTriggerEle}\n                        show={this.state.showOverflow}\n                        classNames={'breadcrumb-overflow-menu'}\n                        persistOnClick={true}\n                        onToggle = {this.debounceOverflowPopoverClick}\n                        align={'left'} >\n                        <ul role={'menu'}>\n                        {overflowArray.map((value, index) => {\n                            return <li key={'overflow_'+index}>\n                                    <span className={this.classNames.breadcrumbElement}>\n                                    <a role=\"menuitem\"\n                                        tabIndex=\"0\"\n                                        ref={this._setOverflowRefs}\n                                        className={'overflow-breadcrumb-ele'}\n                                        data-params-index = {index}\n                                        aria-label={t(value.displayValue)}\n                                        >\n                                        {t(value.displayValue)}\n                                    </a>\n                                    </span>\n                                    </li>\n                            })\n                        }\n                        </ul>\n                    </PopoverContainer>\n                    {this.chevron}</span>\n        );\n\t}\n\n\t_renderBreadCrumb = breadcrumbData => {\n\t\treturn breadcrumbData.map((value, index) => {\n\t\t\t\tconst lastEle = index === (breadcrumbData.length-1);\n\t\t\t\treturn <OneBreadCrumb ref={this._pushOneRef} key={index} config={{label: t(value.displayValue), index: index,eleClass: 'breadcrumb', isSelected: lastEle, chevron: this.chevron}} />;\n\t\t\t})\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.removeResizeListener();\n\t\twindow.removeEventListener('popstate', this.onPopState);\n\t\twindow.removeEventListener('beforeunload', this.onUnload);\n\t}\n}\n\nexport default WsBreadCrumb;\n","\nimport React from 'react';\nimport {isEmpty, get} from 'lodash';\nimport {t} from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-tooltip';\n\nclass OneBreadCrumb extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tshowTooltip: false\n\t\t};\n\n\t\tthis.classNames = {\n\t\t\tselected: \"selected\",\n\t\t\tbreadcrumbElement: 'breadcrumb-element'\n\t\t}\n\t}\n\n\t_getModuleIcon = icon => icon ? <now-icon size=\"lg\" icon={icon}/> : null;\n\n\t_showTooltip = () => {\n\t\tthis.setState({showTooltip: true});\n\t};\n\n\t_hideTooltip = () => {\n\t\tthis.setState({showTooltip: false});\n\t};\n\n\trender() {\n\t\tconst {icon, label, index, eleClass, isSelected, chevron} = this.props.config;\n\t\tconst {breadcrumbElement, selected} = this.classNames;\n\t\tconst {showTooltip} = this.state;\n\t\treturn (\n\t\t\t<li ref={elm => this.elmRef = elm} onMouseOver={this._showTooltip} onMouseOut={this._hideTooltip}>\n\t\t\t\t<span className={breadcrumbElement+(isSelected ? ' '+selected : '')}>\n\t\t\t\t{this._getModuleIcon(icon)}\n\t\t\t\t{isSelected ?\n\t\t\t\t\t<span className={eleClass} aria-current={\"page\"}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</span> :\n\t\t\t\t\t<a className={eleClass} data-params-index={index} aria-label={label}\n\t\t\t\t\t   tabIndex=\"0\" onFocus={this._showTooltip} onClick={this._hideTooltip} onBlur={this._hideTooltip}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</a>\n\t\t\t\t}\n\t\t\t\t</span>\n\t\t\t\t{!isSelected ? chevron : null}\n\t\t\t\t<now-tooltip target-ref={this.elmRef} opened={showTooltip} manage-opened position={['bottom-center top-center']} content={label} />\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nexport default OneBreadCrumb;\n","import {get, isEmpty} from 'lodash';\nimport {t} from 'sn-translate';\n\nimport * as bcUtil from './snWorkspaceBreadcrumb.util';\nimport * as bcReducers from './snWorkspaceBreadcrumb.reducers';\nimport {\n\tHIERARCHY_INFO_ACTIONS,\n\tITEM_DISPLAY_TITLE_ACTIONS,\n\tfetchHierarchyInfoEffect,\n\tfetchDisplayColumnEffect,\n\tfetchTitleEffect,\n\tfetchTableInfoEffect\n} from './snWorkspaceBreadcrumb.graphql';\n\nimport {reduceTabsData} from '../sn-workspace-tabs/snWorkspaceTabs.reducers';\nimport * as generators from '../sn-workspace-tabs/snWorkspaceTabs.generators';\nimport {getActiveTabInfo} from '../sn-workspace-tabs/snWorkspaceTabs.util';\nimport {getModules} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\n\nimport {getPagePropNavMode} from '../constants/ws_config';\nimport {\n\tSTORE_UPDATED,\n\tUNKNOWN_RECORD_TITLE,\n\tMODULE_TAB_ID,\n\tNAVIGATION_MODE_BREADCRUMB,\n\tINVALID_TITLE,\n\tCONTENT_UPDATED,\n\tCLOSE_MODULE_DRILLDOWN,\n\tBREADCRUMB_TABS_DATA_CHANGED\n} from '../constants/constants';\nimport {WS_MODULE_TAB_RENDERER, WS_TYPED_RENDERER} from '../constants/ws_renderer';\n\n\nconst _navMode = getPagePropNavMode();\nlet TABLE_LABEL_MAP = {};\nlet hierarchyCache = {};\nlet noHierarchyCache = {};\nlet selectedItem;\nlet breadcrumbCustomRecordCache = {};\n\nlet requestId;\n\n/**\n *\n * @param {Object} obj - the object you want to get a value out of\n * @param {Array | String} path - the path to the  value, can either be an array `['a', 'b', 'c']` of keys or\n * \t\t\t\t\t\t\t\t\tstring using dotnotation `a.b.c`\n * @param {*} [defaultValue=undefined] the value you want to return if the key is not found in the object\n */\nconst getObjValue = (obj, path, defaultValue) => {\n\tlet checkedPath = path;\n\tif (!Array.isArray(checkedPath)) {\n\t\tcheckedPath = checkedPath.split('.');\n\t}\n\treturn checkedPath.reduce(\n\t\t(acc, key) => (acc && acc[key] ? acc[key] : defaultValue),\n\t\tobj\n\t);\n};\n\nconst createEffect = breadCrumbEffect => {\n\treturn {\n\t\teffect: breadCrumbEffect,\n\t\targs: []\n\t};\n};\n\nconst updateNewRecordTitle = (state, dispatch, tableLabel) => {\n\tconst title = (tableLabel === INVALID_TITLE) ? t('Invalid Table') : t('New {0}', tableLabel);\n\tconst {setTabsProps:tabData}= state;\n\tselectedItem.displayValue = title;\n\tconst newTabData = bcReducers.setSelectedItemInBreadCrumbData(tabData, selectedItem);\n\tdispatch(STORE_UPDATED, {...state, setTabsProps: {...newTabData}});\n};\n\nconst resolveNewRecordTitle = (state, dispatch, table, requestId) =>{\n\tconst tableLabel = TABLE_LABEL_MAP[table];\n\tif (tableLabel)\n\t\tupdateNewRecordTitle(state, dispatch, tableLabel);\n\telse\n\t\tdispatch(ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TABLE_INFO, {table, requestId});\n};\n\nconst setSelectedItemDisplayValue = (displayValue, state,  dispatch) => {\n\tselectedItem.displayValue = displayValue;\n\tselectedItem.resolvedHierarchy = false;\n\tconst {setTabsProps : tabData} = state;\n\tconst newTabData = bcReducers.setSelectedItemInBreadCrumbData(tabData, selectedItem);\n\tdispatch(STORE_UPDATED, {...state, setTabsProps: {...newTabData}});\n};\n\nconst _breadCrumbModuleSelected = (state, dispatch) => dispatch(STORE_UPDATED, {...state, setTabsProps: bcReducers.removeBreadCrumbInModuleData(state.setTabsProps)});\n\nconst _breadCrumbItemSelected = (payload, state, dispatch, requestId) => {\n\tconst {table, row, renderer_type, additional_data = {}, params} = payload;\n\tlet {title} = payload;\n\t// check if the associated module is an enabled module\n\tif (table) {\n\t\tconst tableModule = WS_MODULE_TAB_RENDERER[table];\n\t\tif (tableModule) {\n\t\t\tconst modules = getModules();\n\t\t\tif (!modules[tableModule])\n\t\t\t\treturn;\n\t\t\tpayload.context = tableModule;\n\t\t}\n\t}\n\n\tconst {setTabsProps : tabData} = state;\n\n\tif ( renderer_type ){\n\t\tselectedItem = payload;\n\t\t// Check if there's a cached title value for the selected tab.\n\t\t// This fixes an issue when clicking back in the browser we lose table's title\n\t\tconst currentTab = getObjValue(tabData, 'tabList.0.tabList.0.tabList.0');\n\t\tif (currentTab.tab_id in breadcrumbCustomRecordCache) {\n\t\t\ttitle = breadcrumbCustomRecordCache[currentTab.tab_id];\n\t\t\ttabData.tabList[0].tabList[0].tabList[0].displayValue = currentTab.title;\n\t\t} else {\n\t\t\tbreadcrumbCustomRecordCache[currentTab.tab_id] = currentTab.title;\n\t\t}\n\t\tselectedItem.displayValue = title ? title : renderer_type;\n\t\tselectedItem.resolvedHierarchy = false;\n\t\tif ( !(renderer_type in WS_TYPED_RENDERER) )\n\t\t\treturn;\n\t\tconst moduleId = WS_TYPED_RENDERER[renderer_type]['workspace_module'];\n\t\tlet module = bcUtil.getModulebyId(tabData, moduleId);\n\t\tlet newTabData = tabData;\n\t\tif(!module){\n\t\t\tnewTabData = reduceTabsData(\n\t\t\t\ttabData,\n\t\t\t\tgenerators.getModuleTabPayload(moduleId,null,{additional_data,params},renderer_type));\n\t\t\tmodule = bcUtil.getModulebyId(newTabData, moduleId);\n\t\t}\n\t\tselectedItem.moduleData = module;\n\t\tnewTabData = bcReducers.setSelectedItemInBreadCrumbData(newTabData, selectedItem);\n\n\t\tdispatch(STORE_UPDATED, {...state, setTabsProps: {...newTabData}});\n\t\treturn;\n\t}\n\tconst moduleId = get(bcUtil.getActiveModule(tabData), 'module.id', '');\n\tconst sysId = payload.sys_id || payload.row.sys_id.value;\n\tpayload.sysId = sysId;\n\tpayload.sys_id = sysId;\n\tpayload.context = payload.context || moduleId;\n\tselectedItem= payload;\n\n\tif (sysId === '-1'){\n\t\tresolveNewRecordTitle(state, dispatch, payload.table, requestId);\n\t\treturn;\n\t}\n\tconst cacheKey = `${moduleId}#${table}#${sysId}${(params&&params.additionalIdentifier)?'#'+params.additionalIdentifier:''}`;\n\n\tif(noHierarchyCache[cacheKey]){ //no hierarchy found for this record in the request\n\t\tconst displayValue = bcUtil.findRecordDisplayValue(table, row);\n\t\tif(displayValue){\n\t\t\tsetSelectedItemDisplayValue(displayValue, state, dispatch);\n\t\t\treturn;\n\t\t}\n\t\tdispatch(ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_DISPLAY_COLUMN, {table, requestId});\n\t\treturn;\n\t}\n\tconst cachedHierarchy = hierarchyCache[cacheKey];\n\tif(cachedHierarchy){\n\t\tconst newTabData = bcReducers.setBreadCrumbInModuleData(tabData, [...cachedHierarchy]);\n\t\tdispatch(STORE_UPDATED, {...state, setTabsProps: {...newTabData}});\n\t\treturn;\n\t}else{\n\t\t//stringify params into graphql, using string instead of map.\n\t\tconst stringifiedParams = payload.params ? JSON.stringify(bcUtil.getStringParams(payload.params)) : \"\";\n\t\tdispatch(HIERARCHY_INFO_ACTIONS.HIERARCHY_INFO_FETCH, {...payload, params: stringifiedParams, requestId});\n\t}\n};\n\nconst breadCrumbModuleSelectedEffect = ({state, dispatch}) => _breadCrumbModuleSelected(state, dispatch);\n\nconst updateBreadCrumbsEffect = ({state, action, dispatch}) => {\n\tconst { setTabsProps: tabsDataState} = state;\n\tconst {payload: tabsData} = action;\n\n\trequestId = new Date().getTime();\n\n\tlet newTabsData = isEmpty(tabsDataState) ? tabsData : bcReducers.mergeWithNewTabData(tabsData, state);\n\tlet newState = {...state, setTabsProps: newTabsData};\n\tdispatch(STORE_UPDATED, newState);\n\n\tconst {selectedTabId} = newTabsData;\n\tif(selectedTabId === MODULE_TAB_ID){\n\t\tconst {tabList, selectedTabId: tabId} = bcUtil.getActiveModule(newTabsData) || {};\n\t\tif(tabList && tabList.length > 0){\n\t\t\tconst {table, sys_id, type, title, params, additional_data: {rendererType}} = tabList.filter(t => t.tab_id === tabId)[0];\n\t\t\t_breadCrumbItemSelected({table, sys_id, type, title, params, renderer_type:rendererType}, newState, dispatch, requestId);\n\t\t}\n\t\telse{\n\t\t\t_breadCrumbModuleSelected(newState, dispatch);\n\t\t}\n\t}else{\n\t\tconst {table, sys_id, title, type, params} = getActiveTabInfo(newTabsData);\n\t\t_breadCrumbItemSelected({table, sys_id, title, type, params}, newState, dispatch, requestId);\n\t}\n};\n\nconst hierarchyFetchSucceededEffect = ({state, action, dispatch}) => {\n\tconst {meta: {options:{variables}}} = action;\n\tif(variables && variables.requestId && variables.requestId != requestId)\n\t\treturn;\n\tlet _requestId = variables.requestId;\n\t\n\t//transform params\n\tlet results = get(action.payload.data, 'GlideRecordHierarchy_Query.Ordered_Hierarchy_Node_List.HierarchyNodes', []);\n\tconst {setTabsProps:tabData}= state;\n\tconst {context, sysId, table, row, params} = selectedItem;\n\tconst cacheKey = `${context}#${table}#${sysId}${(params&&params.additionalIdentifier)?'#'+params.additionalIdentifier:''}`;\n\tif(!isEmpty(results)){\n\t\tresults = results.map( r => ({...r, params: r.params!=null ? JSON.parse(r.params) : r.params}));\n\t\thierarchyCache[cacheKey] = results;\n\t\tconst newTabData = bcReducers.setBreadCrumbInModuleData(tabData, results);\n\t\tdispatch(STORE_UPDATED, {...state, setTabsProps: {...newTabData}});\n\t\tconst lastCrumb = results[results.length-1];\n\t\tif(lastCrumb.params)\n\t\t\tdispatch(CONTENT_UPDATED,{...lastCrumb, sys_id: lastCrumb.sysId, title: lastCrumb.displayValue, redirectEmptyState: true});\n\t\treturn;\n\t}\n\tnoHierarchyCache[cacheKey] = true;\n\tconst displayValue = bcUtil.findRecordDisplayValue(table, row);\n\tif(displayValue)\n\t\tsetSelectedItemDisplayValue(displayValue, state, dispatch);\n\telse\n\t\tdispatch(ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_DISPLAY_COLUMN, {table, ...(_requestId &&{requestId:_requestId})});\n};\n\n//Resolve Item display value starts\nconst updateItemDisplayValueEffect = ({state, action : {payload, meta}, dispatch}) => {\n\tconst {options: {variables}} = meta;\n\tif(variables && variables.requestId && variables.requestId != requestId)\n\t\treturn;\n\tlet _requestId = variables.requestId;\n\n\tconst {table, row} = selectedItem;\n\tconst displayColumnName = get(payload.data, 'GlideDomain_Query.tableDescription.displayColumnName', false);\n\tif(displayColumnName!== false){\n\t\tbcUtil.setTableColumnMap(table, displayColumnName);\n\t\tconst displayValue = bcUtil.findRecordDisplayValue(table, row);\n\t\tif(displayValue)\n\t\t\tsetSelectedItemDisplayValue(displayValue, state, dispatch);\n\t\telse{\n\t\t\tconst sys_id = selectedItem.sys_id || get(row, 'sys_id.value', '');\n\t\t\tdispatch(ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TITLE, {sys_id, table, field:displayColumnName, ...(_requestId &&{requestId:_requestId})});\n\t\t}\n\t}\n};\n\nconst titleFetchSucceededEffect = ({state, action, dispatch}) => {\n\tconst {meta: {options: {variables}}} = action;\n\tif(variables && variables.requestId && variables.requestId != requestId)\n\t\treturn;\n\n\tconst {table} = selectedItem;\n\tconst tableLabel = get(action.payload.data, `GlideRecord_Query[${table}]._table_metadata.label`, UNKNOWN_RECORD_TITLE);\n\tconst results = get(action.payload.data, `GlideRecord_Query[${table}]._results`, []);\n\n\tTABLE_LABEL_MAP[table] = tableLabel;\n\tconst columnName = bcUtil.getTableDisplayColumnName(table);\n\n\tlet title = '';\n\tif (columnName === 'sys_id')\n\t\ttitle = tableLabel;\n\telse if(!results || results.length === 0)\n\t\ttitle = t('{0} not found', tableLabel);\n\telse {\n\t\tconst result = results[0][columnName];\n\t\tlet value = '', displayValue = '';\n\t\tif (result)\n\t\t\t({value, displayValue} = result);\n\t\ttitle = displayValue || value || tableLabel ||  UNKNOWN_RECORD_TITLE;\n\t}\n\n\tsetSelectedItemDisplayValue(title, state, dispatch);\n};\n\n\n\nconst tableInfoFetchSucceededEffect = ({state, action, dispatch}) => {\n\tconst {meta: {options:{variables}}} = action;\n\tif(variables && variables.requestId && variables.requestId != requestId)\n\t\treturn;\n\tconst tableLabel = get(action.payload.data, 'GlideDomain_Query.tableDescription.label', INVALID_TITLE);\n\tconst {table} = selectedItem;\n\tTABLE_LABEL_MAP[table] = tableLabel;\n\n\tupdateNewRecordTitle(state, dispatch, tableLabel);\n};\n\n\n\n////Resolve Item display value ends\n\nconst breadCrumbEffectsMap = {\n\t[BREADCRUMB_TABS_DATA_CHANGED] : updateBreadCrumbsEffect,\n\t[CLOSE_MODULE_DRILLDOWN] : breadCrumbModuleSelectedEffect,\n\n\t[HIERARCHY_INFO_ACTIONS.HIERARCHY_INFO_FETCH_SUCCEEDED]: hierarchyFetchSucceededEffect,\n\t[ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_DISPLAY_COLUMN_SUCCEEDED]: updateItemDisplayValueEffect,\n\t[ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TITLE_SUCCEEDED]: titleFetchSucceededEffect,\n\t[ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TABLE_INFO_SUCCEEDED]: tableInfoFetchSucceededEffect,\n};\n\nconst bcGqlEffectsMap = {\n\t[HIERARCHY_INFO_ACTIONS.HIERARCHY_INFO_FETCH]: fetchHierarchyInfoEffect,\n\t[ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_DISPLAY_COLUMN]: fetchDisplayColumnEffect,\n\t[ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TITLE]: fetchTitleEffect,\n\t[ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TABLE_INFO]: fetchTableInfoEffect,\n};\n\nconst _handlerMap = {...Object.keys(breadCrumbEffectsMap).reduce((result, key)=>{\n\treturn {\n\t\t...result,\n\t\t[key]: createEffect(breadCrumbEffectsMap[key])\n\t};\n}, {}), ...bcGqlEffectsMap};\n\n\n\nexport const handlerMap = _navMode !== NAVIGATION_MODE_BREADCRUMB ? {} : _handlerMap;\n","import {createGraphQLEffect} from '@servicenow/ui-effect-graphql';\n\nimport {\n\tchromeOneTabDisplayColumn_read,\n\tchromeOneTabTitle_read,\n\tchromeOneTabTableInfo_read\n} from '../internal-components/chrome-one-tab/chromeOneTabQuery.read';\n\nexport const HIERARCHY_INFO_ACTIONS = {\n\tHIERARCHY_INFO_FETCH: 'HIERARCHY_INFO_FETCH',\n\tHIERARCHY_INFO_FETCH_STARTED: 'HIERARCHY_INFO_FETCH_STARTED',\n\tHIERARCHY_INFO_FETCH_SUCCEEDED: 'HIERARCHY_INFO_FETCH_SUCCEEDED',\n\tHIERARCHY_INFO_FETCH_FAILED: 'HIERARCHY_INFO_FETCH_FAILED'\n};\n\nexport const ITEM_DISPLAY_TITLE_ACTIONS = {\n\tFETCH_ITEM_TITLE: 'FETCH_ITEM_TITLE',\n\tFETCH_ITEM_TITLE_STARTED: 'FETCH_ITEM_TITLE_STARTED',\n\tFETCH_ITEM_TITLE_SUCCEEDED: 'FETCH_ITEM_TITLE_SUCCEEDED',\n\tFETCH_ITEM_TITLE_FAILED: 'FETCH_ITEM_TITLE_FAILED',\n    \n\tFETCH_ITEM_DISPLAY_COLUMN: 'FETCH_ITEM_DISPLAY_COLUMN',\n\tFETCH_ITEM_DISPLAY_COLUMN_STARTED: 'FETCH_ITEM_DISPLAY_COLUMN_STARTED',\n\tFETCH_ITEM_DISPLAY_COLUMN_SUCCEEDED: 'FETCH_ITEM_DISPLAY_COLUMN_SUCCEEDED',\n\tFETCH_ITEM_DISPLAY_COLUMN_FAILED: 'FETCH_ITEM_DISPLAY_COLUMN_FAILED',\n    \n\tFETCH_ITEM_TABLE_INFO: 'FETCH_ITEM_TABLE_INFO',\n\tFETCH_ITEM_TABLE_INFO_STARTED: 'FETCH_ITEM_TABLE_INFO_STARTED',\n\tFETCH_ITEM_TABLE_INFO_SUCCEEDED: 'FETCH_ITEM_TABLE_INFO_SUCCEEDED',\n\tFETCH_ITEM_TABLE_INFO_FAILED: 'FETCH_ITEM_TABLE_INFO_FAILED'\n\t\n};\n\nexport const hierarchyInfoQuery = `\n\tquery($context: String!, $table: String!, $sysId: String!, $params: String = \"{}\") {\n\t\tGlideRecordHierarchy_Query {\n\t\t\tOrdered_Hierarchy_Node_List(context: $context, table: $table, sysId: $sysId, params: $params){\n\t\t\t\tHierarchyNodes{\n\t\t\t\t\tdisplayValue\n\t\t\t\t\tsysId\n\t\t\t\t\ttable\n\t\t\t\t\tparams\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const fetchHierarchyInfoEffect = createGraphQLEffect(hierarchyInfoQuery, {\n\tvariableList: ['context', 'table', 'sysId', 'params', 'requestId'],\n\tstartActionType: HIERARCHY_INFO_ACTIONS.HIERARCHY_INFO_FETCH_STARTED,\n\tsuccessActionType: HIERARCHY_INFO_ACTIONS.HIERARCHY_INFO_FETCH_SUCCEEDED,\n\terrorActionType: HIERARCHY_INFO_ACTIONS.HIERARCHY_INFO_FETCH_FAILED\n});\n\nexport const fetchDisplayColumnEffect = createGraphQLEffect(chromeOneTabDisplayColumn_read, {\n\tvariableList: ['table', 'requestId'],\n\tstartActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_DISPLAY_COLUMN_STARTED,\n\tsuccessActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_DISPLAY_COLUMN_SUCCEEDED,\n\terrorActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_DISPLAY_COLUMN_FAILED\n});\n\t\n\nexport const fetchTitleEffect = createGraphQLEffect(chromeOneTabTitle_read, {\n\tvariableList: ['sys_id', 'requestId'],\n\ttemplateVarList: ['table', 'field'],\n\tstartActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TITLE_STARTED,\n\tsuccessActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TITLE_SUCCEEDED,\n\terrorActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TITLE_FAILED\n});\n\nexport const fetchTableInfoEffect = createGraphQLEffect(chromeOneTabTableInfo_read, {\n\tvariableList: ['table', 'requestId'],\n\tstartActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TABLE_INFO_STARTED,\n\tsuccessActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TABLE_INFO_SUCCEEDED,\n\terrorActionType: ITEM_DISPLAY_TITLE_ACTIONS.FETCH_ITEM_TABLE_INFO_FAILED\n});\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {SnWorkspaceRouter} from './snWorkspaceRouter';\nimport {actionHandlers} from './snWorkspaceRouter.effects';\n\ncreateCustomElement('sn-workspace-router', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: SnWorkspaceRouter\n\t},\n\n\tinitialState: {\n\t\tinitialUrlLoaded: false\n\t},\n\n\tproperties: {\n\t\tselectedContent: {\n\t\t\tdefault: null\n\t\t},\n\t\tinitialUrlLoaded: {\n\t\t\tdefault: false\n\t\t}\n\t},\n\n\tactionHandlers\n});\n","import {isEqual} from 'lodash';\nimport React from 'react';\nimport {SELECTED_CONTENT_CHANGED, WORKSPACE_URL_CHANGED} from '../constants/constants';\n\nexport class SnWorkspaceRouter extends React.Component {\n\tcomponentDidMount(){\n\t\twindow.addEventListener('popstate', this.onPopState, false);\n\t}\n\n\tonPopState = () => {\n\t\tthis.props.dispatch(WORKSPACE_URL_CHANGED, {selectedContent: this.props.properties.selectedContent});\n\t}\n\tcomponentDidUpdate(prevProps){\n\t\tconst {properties: {selectedContent: prevSelectedContent}} = prevProps;\n\t\tconst {properties: {selectedContent}} = this.props;\n\n\t\tif(!isEqual(selectedContent, prevSelectedContent))\n\t\t\tthis.props.dispatch(SELECTED_CONTENT_CHANGED, selectedContent);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('popstate', this.onPopState);\n\t}\n\n\trender(){\n\t\treturn null;\n\t}\n}\n\n","import {\n\tSELECTED_CONTENT_CHANGED,\n\tCLEAR_REDIRECT,\n\tWORKSPACE_URL_CHANGED,\n\tURL_CONTENT_LOADED, INITIAL_URL_LOADED\n} from '../constants/constants';\nimport {getUrlFromSelectedContent} from './snWorkspaceRouter.contentParser';\nimport {getParametersFromPath, navigateUrl, redirectUrl, setPageTitle} from './snWorkspaceRouter.util';\nimport {getSelectedContentFromUrl} from './snWorkspaceRouter.urlParser';\nimport {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\n\nfunction contentChangedEffect({action: {payload: selectedContent}, dispatch, state: {properties: {initialUrlLoaded}}}){\n\tconst url = getUrlFromSelectedContent(selectedContent);\n\tconst {tab_title} = selectedContent;\n\tif (url == null)\n\t\treturn;\n\n\t// Don't navigate if we're already at that URL. NOTE: getParamatersFromPath factors in base URL, and domain\n\tconst {params:{path: {type}}} = getParametersFromPath('/:type*');\n\tif (url == '/' + type)\n\t\tsetPageTitle(url, tab_title);\n\telse if(selectedContent.redirect) {\n\t\tredirectUrl(url, tab_title);\n\t\tdispatch(CLEAR_REDIRECT);\n\t}\n\telse\n\t\tnavigateUrl(url, tab_title);\n}\n\nfunction urlChangedEffect({action: {payload: {selectedContent : prevSelectedContent}}, dispatch}){\n\tconst selectedContent = getSelectedContentFromUrl(prevSelectedContent);\n\tif(selectedContent)\n\t\tdispatch(URL_CONTENT_LOADED, selectedContent);\n}\n\nfunction initialUrlLoadedInterceptor({effects, coeffects}){\n\treturn {\n\t\tcoeffects,\n\t\teffects: [...effects, {\n\t\t\teffect: urlChangedEffect,\n\t\t\targs: [coeffects]\n\t\t}]\n\t}\n}\n\nexport const actionHandlers = {\n\t[SELECTED_CONTENT_CHANGED]: {\n\t\teffect: contentChangedEffect,\n\t\tstopPropagation: true\n\t},\n\t[WORKSPACE_URL_CHANGED]: urlChangedEffect,\n\t[INITIAL_URL_LOADED]: {\n\t\t...createUpdateStateEffect((state)=>({...state, properties: {...state.properties, initialUrlLoaded: true}})),\n\t\tinterceptors: [initialUrlLoadedInterceptor]\n\t}\n};\n","import * as constants from '../constants/constants';\nimport {getParamsFromUri} from './snWorkspaceRouter.util';\n\n/**\n * For a given type and array of URL slugs, construct a set of arguments you can pass to getTabsPayload\n * @param type\n * @param options\n * @returns {*}\n */\nexport function getSelectedContent(type, options){\n\tconst params = getParamsFromUri(options);\n\n\tswitch(type){\n        case constants.FULL_SEARCH_ITEM_TYPE:\n            return getSearchContent(type, options);\n\t\tcase constants.RECORD_ITEM_TYPE:\n\t\t\treturn getRecordContent(type, options, params);\n\t\tcase constants.NEW_RECORD_ITEM_TYPE:\n\t\t\treturn getNewRecordContent(type, options, params);\n\t\tcase constants.NON_RECORD_ITEM_TYPE:\n\t\t\treturn getNonRecordContent(type, options, params);\n\t\tcase constants.CHAT_ITEM_TYPE:\n\t\t\treturn getChatContent(type, options, params)\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n}\n\nexport function getModuleContent(module_id, params, drilldown){\n    const moduleContent = {type: constants.MODULE_ITEM_TYPE, module_id, params}\n    if(drilldown)\n        return {...drilldown, parent: moduleContent};\n    return moduleContent;\n}\n\nfunction getRecordContent(type, options, params){\n    return {\n\t\t\t\ttype,\n\t\t\t\ttable: options[0],\n\t\t\t\tsys_id: options[1],\n\t\t\t\tparams\n\t\t\t};\n}\n\nfunction getNewRecordContent(type, options, params){\n    return {\n\t\t\t\ttype,\n\t\t\t\tsys_id: '-1',\n\t\t\t\ttable: options[0],\n\t\t\t\ttab_id: options[1],\n\t\t\t\tparams\n\t\t\t};\n}\nfunction getNonRecordContent(type, options, params){\n\t/* Note: The expected tab payload for supporting custom renderers is additional_data:{rendererType:xyz}\n\t\tHowever since renderer_type is being introduced here, which is being relied on at other places of\n\t\trefactored code in content/tab generators, router - leaving it as is, to not break other cases that are working with it.\n\t */\n    return {\n\t\t\t\ttype,\n\t\t\t\trenderer_type: options[0], // leave renderer_type in here to not break any cases that are working with this option.\n\t\t\t\tadditional_data: {moduleDrilldown:false, rendererType: options[0], title: options[0]},\n\t\t\t\tparams\n\t\t\t};\n}\n\nfunction getSearchContent(type, searchTerm){\n    return {type, searchTerm};\n}\n\nfunction getChatContent(type, options, params){\n\treturn {\n\t\ttype,\n\t\ttable: constants.INTERACTION_TABLE,\n\t\tsys_id: options[0],\n\t\tchatId: options[0],\n\t\tparams\n\t}\n}\n","import React from 'react';\nimport {getProperty} from '../../constants/presource.behaviors';\nimport RecordChangeLogger from '../../sn-workspace-tabs/snWorkspaceTabs.RecordChangeLogger';\n\nconst ChromeLayoutHandlerContainer = ({tabsData}) => {\n\tconst chatEnabled = getProperty('sn_agent_workspace.interaction_queues.enabled', true);\n    if(!chatEnabled)\n        return null;\n\tconst recordChangeLogger = RecordChangeLogger.getInstance();\n    const selectedTabRelatedRecords = recordChangeLogger.getSelectedMainTabRelatedRecords(tabsData);\n\trecordChangeLogger.clearMarkedParent();\n\t\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<sn-interaction-listener current-context={selectedTabRelatedRecords} />\n            {/* TODO: should have a generic way to dispatch and subscribe to this action*/}\n\t\t</React.Fragment>\n\t);\n};\n\nexport default ChromeLayoutHandlerContainer;\n\n","/**\n * @typedef {Object} ColorWrapper\n * @property {number} r - red channel for color (0-255)\n * @property {number} g - green channel for color (0-255)\n * @property {number} b - blue channel for color (0-255)\n */\n\nfunction isValidHexColor(hex) {\n\treturn /^#(?:[0-9a-fA-F]{3}){1,2}$/.test(hex);\n}\n\n/**\n * @param {string} hex - Valid hex color with pound sign, either 3 or 6 hex values (e.g. '#fff' or '#ffffff')\n * @returns {ColorWrapper}\n */\nfunction hexToRgb(hex) {\n\tif (!isValidHexColor(hex)) {\n\t\tconsole.error('Not a valid hex color: ' + hex);\n\t\treturn null;\n\t}\n\tconst values = hex.slice(1);\n\t// short hex (e.g. '#fff')\n\tif (values.length === 3) {\n\t\treturn {\n\t\t\tr: parseInt(values[0] + values[0], 16),\n\t\t\tg: parseInt(values[1] + values[1], 16),\n\t\t\tb: parseInt(values[2] + values[2], 16)\n\t\t};\n\t}\n\t// full hex (e.g. '#ffffff')\n\treturn {\n\t\tr: parseInt(values[0] + values[1], 16),\n\t\tg: parseInt(values[2] + values[3], 16),\n\t\tb: parseInt(values[4] + values[5], 16)\n\t};\n}\n\n/**\n * @param {ColorWrapper} start - Base color\n * @param {ColorWrapper} mix - Color to mix with base\n * @param {number} weight - How strong to weight the mix color, e.g. 0.2 for 20%\n * @returns {ColorWrapper}\n */\nfunction mixColor(base, mix, weight) {\n\tvar w = 2 * weight - 1;\n\tvar a = 0; // alpha channel, we don't allow it to be configurable yet so setting it to static 0\n\n\tvar w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\tvar w2 = 1 - w1;\n\n\treturn {\n\t\tr: Math.min(Math.round(w1 * mix.r + w2 * base.r), 255),\n\t\tg: Math.min(Math.round(w1 * mix.g + w2 * base.g), 255),\n\t\tb: Math.min(Math.round(w1 * mix.b + w2 * base.b), 255)\n\t};\n}\n\n/**\n * @param {ColorWrapper} base - Base color\n * @param {ColorWrapper} mix - Color to mix with base\n * @param {number} stops - Number of stops in the color range\n * @param {number} weight - How strongly to weight the mix color, e.g. 0.2 for 20%\n */\nfunction createColorRange(base, mix, stops, weight) {\n\tvar colors = [];\n\tfor (var i = 0; i < stops; i++) {\n\t\tvar w = (weight * (i + 1)) / stops;\n\t\tcolors.push(mixColor(base, mix, w));\n\t}\n\treturn colors;\n}\n\n/**\n * Creates a set of 4 derived colors from the base color.\n * - 0: Base color mixed with white by 85%\n * - 1: Base color\n * - 2: Base color mixed with black by 25%\n * - 3: Base color mixed with back by 50%\n *\n * @param {ColorWrapper} base\n * @returns {Array.<ColorWrapper>}\n */\nfunction createSmallDerivedSet(base) {\n\tvar white = hexToRgb('#fff');\n\tvar black = hexToRgb('#000');\n\treturn [].concat(\n\t\tcreateColorRange(base, white, 1, 0.85),\n\t\tbase,\n\t\tcreateColorRange(base, black, 2, 0.5)\n\t);\n}\n\n/**\n * Converts a color wrapper to an RGB triplate suitable for use as a value\n * for any design system CSS Custom Properties.\n * @param {ColorWrapper} color\n * @return {string} e.g. '255,255,255'\n */\nfunction toRgbTriplet(color) {\n\treturn color.r + ',' + color.g + ',' + color.b;\n}\n\n/**\n * @param {Object} [colors] - Object with theme colors defined\n * @param {string} [colors.brand] - Brand theme color as a valid hex string\n * @param {string} [colors.primary] - Primary theme color as a valid hex string\n * @return {ThemeObject}\n */\nfunction generateTheme(colors = {}) {\n\tvar theme = {};\n\tvar brand = colors.brand ? hexToRgb(colors.brand) : null;\n\tif (brand) {\n\t\ttheme['--now-color--brand-1'] = toRgbTriplet(brand);\n\t}\n\tvar primary = colors.primary ? hexToRgb(colors.primary) : null;\n\tif (primary) {\n\t\tvar primaryDerivedSet = createSmallDerivedSet(primary);\n\t\ttheme['--now-color--primary-0'] = toRgbTriplet(primaryDerivedSet[0]);\n\t\ttheme['--now-color--primary-1'] = toRgbTriplet(primaryDerivedSet[1]);\n\t\ttheme['--now-color--primary-2'] = toRgbTriplet(primaryDerivedSet[2]);\n\t\ttheme['--now-color--primary-3'] = toRgbTriplet(primaryDerivedSet[3]);\n\t}\n\treturn theme;\n}\n\n/**\n * @param {ThemeObject} theme - Object with keys of CSS Custom Properties and values of RGB triplets\n * @returns {string} - CSS Text suitable to be injected into a style tag\n */\nfunction printThemeCssText(theme) {\n\tvar cssText = 'sn-workspace-header, sn-workspace-toolbar { ';\n\tfor (var key in theme) {\n\t\tif (!theme.hasOwnProperty(key)) continue;\n\t\tcssText += key + ':' + theme[key] + '; ';\n\t}\n\tcssText += '}';\n\treturn cssText;\n}\n\nfunction applyBrandingTheme(brandColorHex, primaryColorHex) {\n\ttry {\n\t\tif (!isValidHexColor(brandColorHex) && !isValidHexColor(primaryColorHex))\n\t\t\treturn;\n\n\t\tconst theme = generateTheme({brand: brandColorHex, primary: primaryColorHex});\n\t\tconst themeCssText = printThemeCssText(theme);\n\n\t\tvar head = document.head || document.getElementsByTagName('head')[0];\n\t\tvar themeStyleEl = document.createElement('STYLE');\n\t\tthemeStyleEl.type = 'text/css';\n\t\tif (themeStyleEl.styleSheet) {\n\t\t\tthemeStyleEl.styleSheet.cssText = themeCssText;\n\t\t} else {\n\t\t\tthemeStyleEl.appendChild(document.createTextNode(themeCssText));\n\t\t}\n\t\thead.appendChild(themeStyleEl);\n\t}\n\tcatch (err) {\n\t\tconsole.log('Error in apply theme: ' + err);\n\t}\n}\n\nmodule.exports = {\n\tapplyBrandingTheme\n};","import {LOAD_TABS_DATA, TABS_DATA_UPDATED, TABS_INIT_PROPS_BEHAVIOR, TABS_ROOT_BEHAVIOR} from '../constants/constants';\nimport {rootActionHandlers} from './snWorkspaceTabs.effects';\nimport {preUserData} from '../constants/presource.behaviors';\n\nconst tabRootBehavior = {\n\tname: TABS_ROOT_BEHAVIOR,\n\tonConnect(hostElement, dispatch, options){\n\t\tdispatch(LOAD_TABS_DATA);\n\t},\n\tproperties: {\n\t\ttabsData: {\n\t\t\tdefault: null,\n\t\t\tselectable: true,\n\t\t\tonChange(value, valuePrev, dispatch){\n\t\t\t\tdispatch(TABS_DATA_UPDATED, {value, valuePrev});\n\t\t\t}\n\t\t},\n\t\ttabsStopperPrompt: {\n\t\t\tdefault: null,\n\t\t\tselectable: true\n\t\t},\n\t\tselectedContent: {\n\t\t\tdefault: null,\n\t\t\tselectable: true\n\t\t},\n\t\tcurrentActiveItem: {\n\t\t\tdefault: null,\n\t\t\tselectable: true\n\t\t}\n\t},\n\tactionHandlers: rootActionHandlers\n};\n\nexport const tabRootBehaviors = [tabRootBehavior, preUserData];\n","/* eslint-disable indent */\nimport {get, isEqual, isEmpty} from 'lodash';\nimport {t} from 'sn-translate';\n\nimport * as tabUtils from './snWorkspaceTabs.util.js';\nimport * as generators from './snWorkspaceTabs.generators';\nimport * as tabStorage from './snWorkspaceTabs.storage';\nimport * as closeTabs from './snWorkspaceTabs.closeTabs.js';\nimport {mediateChatStatusChange, mediateStatusChange, updateContent} from './snWorkspaceTabs.reducers.liveUpdate';\nimport {getSelectedModuleTab} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {preUserData, getBehaviorProp} from '../constants/presource.behaviors';\nimport {reduceTabsData, updateFormHeader, updateOneTab, toggleMasterTab} from \"./snWorkspaceTabs.reducers\";\nimport * as WSConf from \"../constants/ws_config\";\nimport {getSelectedContentFromUrl} from '../sn-workspace-router/snWorkspaceRouter.urlParser';\nimport {WS_TYPED_RENDERER} from \"../constants/ws_renderer\";\n\nimport {\n\tGLOBAL_SEARCH_ACTION,\n\tITEM_SELECTED,\n\tQUEUE_ITEM_ACCEPTED,\n\tSELECT_TAB,\n\tUPDATE_ONE_TAB,\n\tPREVIEW_RECORD,\n\tRECORD_STATUS_CHANGED,\n\tRECORD_NOTIFICATIONS_CHANGED,\n\tCHAT_STATUS_CHANGED,\n\tCLOSE_DIRTY_TABS,\n\tWORKSPACE_NAV_SELECTED,\n\tFORM_UPDATE_HEADER,\n\tCONTENT_UPDATED,\n\tMAIN_TAB_CLICKED,\n\tMAIN_TAB_CLOSE_CLICKED,\n\tCLEAR_STOPPER_PROMPT,\n\tCLOSE_TAB,\n\tWORKSPACE_TAB_CLOSED,\n\tCLOSE_TAB_MENU_ITEM,\n\tSUB_TAB_CLOSE_CLICKED,\n\tSUB_TAB_CLOSE_MENU_CLICKED,\n\tCLOSE_MODULE_DRILLDOWN,\n\tBREADCRUMB_ITEM_SELECTED,\n\tLOAD_TABS_DATA,\n\tPROPERTIES_SET,\n\tUPDATE_TABLE_COL_MAP,\n\tTABS_DATA_UPDATED,\n\tCLEAR_REDIRECT,\n\tURL_CONTENT_LOADED,\n\tMASTER_DETAIL_TOGGLED\n} from '../constants/constants';\nimport * as constants from \"../constants/constants\";\nimport {isCustomRendererTable, isModuleRendererTable, WS_MODULE_TAB_RENDERER} from \"../constants/ws_renderer\";\nimport {\n\tgetModules,\n\tgetModuleId,\n\tisModuleTab, isModuleTabSelected,\n} from \"./snWorkspaceTabs.moduleTab\";\nimport RecordChangeLogger from './snWorkspaceTabs.RecordChangeLogger';\n\nfunction createTabsDataEffect(tabEffect){\n\treturn {\n\t\teffect: tabsDataEffectWrapper,\n\t\targs: [tabEffect]\n\t};\n}\n\n/**\n * Wraps all tab data effects with before and after behavior\n * @param effect\n * @param coeffects\n */\nfunction tabsDataEffectWrapper(effect, coeffects){\n\tconst {action, dispatch, state} = coeffects;\n\tconst {properties: {tabsData, selectedContent, currentActiveItem}} = state;\n\tconst {payload} = action;\n\n\tlet tabsDataNew = effect(tabsData, payload, coeffects);\n\n\tconst stopper = tabUtils.shouldUpdateTabData(tabsData, tabsDataNew);\n\n\tif (stopper) {\n\t\tdispatch(PROPERTIES_SET, {tabsData: {...tabsData}, selectedContent, currentActiveItem, tabsStopperPrompt: stopper});\n\t\treturn;\n\t}\n\n\ttabsDataNew = tabUtils.updateSelectedTabs(tabsDataNew);\n\ttabStorage.saveTabs(tabsDataNew, _getUserId(state));\n\n\tlet selectedContentNew = tabUtils.getSelectedContent(tabsDataNew);\n\n\tlet {table = \"\", sys_id = \"\"} = selectedContentNew;\n\tlet currentModuleId = getSelectedModuleTab(tabsDataNew) ? getSelectedModuleTab(tabsDataNew).tab_id : \"\";\n\tlet currentActiveItemNew = {table, sysId: sys_id, moduleId: currentModuleId};\n\n\t// setTimeout to wait for components that listen for this data to be ready\n\t// dispatch(PROPERTIES_SET, {tabsData: tabsDataNew});\n\tdispatch(PROPERTIES_SET, {tabsData: tabsDataNew, selectedContent: selectedContentNew, currentActiveItem: currentActiveItemNew} );\n}\n\n// session constants\nlet userId = null;\nfunction _getUserId(state) {\n\treturn !!userId ? userId : getBehaviorProp(state, preUserData.name).sys_id;\n}\n\n// TabsData Effects\nfunction globalSearchEffect(tabsData, payload, coeffects) {\n\n\tconst { action, sys_id, table, item, term } = payload;\n\tconst {state} = coeffects;\n\n\tlet transType = '', type = '', title = '', eventData = {}, tabPayload;\n\tswitch (action) {\n\t\tcase constants.ITEM_SELECTED:\n\t\t\ttype = constants.RECORD_ITEM_TYPE;\n\t\t\ttitle = tabUtils.findRecordDisplayValue(table, item);\n\t\t\ttransType = constants.TWO_LAYER_TYPE;\n\t\t\ttabPayload = generators.getTabPayload( {transType, type, table, sys_id, title, additional_data: {term}, eventData} );\n\t\t\tbreak;\n\t\tcase constants.TERM_SEARCHED:\n\t\t\ttabPayload = generators.getSearchPayload(term);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn tabsData;\n\t}\n\n\treturn reduceTabsData(tabsData, tabPayload);\n}\n\nfunction itemSelectedEffect(tabsData, payload, coeffects) {\n\tconst {action, state} = coeffects;\n\tconst {meta} = action;\n\n\tconst {table, additional_data = {}, nativeEvent, params} = payload;\n\tconst sys_id = get(payload, 'row.sys_id.value', payload.sys_id);\n\n\tconst activeModuleId = getModuleId(tabsData);\n\n\tif (get(payload,'renderer_type',null) ) {\n\n\t\tif ( !(payload.renderer_type in WS_TYPED_RENDERER) )\n\t\t\treturn tabsData;\n\n\t\tconst module = WS_TYPED_RENDERER[payload.renderer_type]['workspace_module'];\n\n\t\t// In tabs mode, handle as session tab - 1) if the renderer type is not associated to a module\n\t\t// 2) if activeModuleId is not the same as renderer module (no deep-link for tabs mode)\n\t\tif ( WSConf.isNavModeTab() &&  (!module || (activeModuleId != module) ) ) {\n\t\t\tconst title = get(payload, 'title', null);\n\t\t\tconst sys_id = get(payload, 'sys_id', null);\n\t\t\treturn reduceTabsData(tabsData, generators.getTabPayload({transType: constants.MAIN_TAB_ONLY_TYPE,\n\t\t\t\tadditional_data: {moduleDrilldown: false,\n\t\t\t\t\trendererType: payload.renderer_type,\n\t\t\t\t\ttitle: title\n\n\t\t\t\t},\n\t\t\t\tparams, sys_id}));\n\n\t\t}\n\t\t// else handle as a module drilldown for non-record typed renderer\n\t\treturn reduceTabsData(tabsData,\n\t\t\tgenerators.getModuleTabPayload(module ? module : activeModuleId,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\tadditional_data,\n\t\t\t\t\tparams,\n\t\t\t\t\ttitle: get(payload, 'title', undefined)\n\t\t\t\t},\n\t\t\t\tpayload.renderer_type\n\t\t\t));\n\t}\n\n\tif(isModuleRendererTable(table) || WSConf.isNavModeBreadcrumb()) {\n\t\t// drill down if tab mode and module is the same\n\t\t// or in breadcrumbs mode to allow deep-link\n\t\tconst module = WS_MODULE_TAB_RENDERER[table];\n\t\tif ( (WSConf.isNavModeTab() && activeModuleId == module) || WSConf.isNavModeBreadcrumb() ) {\n\t\t\tconst moduleId = WS_MODULE_TAB_RENDERER[table] ? WS_MODULE_TAB_RENDERER[table] : activeModuleId;\n\t\t\treturn reduceTabsData(tabsData,\n\t\t\t\tgenerators.getModuleTabPayload(moduleId, null, {\n\t\t\t\t\ttable,\n\t\t\t\t\tsys_id,\n\t\t\t\t\tadditional_data,\n\t\t\t\t\tparams,\n\t\t\t\t\ttitle: get(payload, 'title', undefined)\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tif (meta.id.indexOf('form_related_list') > 0) { // related list: subtab of current tab\n\n\t\tlet transType = constants.CONTEXTUAL_RECORD_ITEM_TYPE;\n\n\t\tif (isModuleTab(tabUtils.getSelectedTab(tabsData)) && WSConf.isNavModeTab())\n\t\t\ttransType = constants.TWO_LAYER_TYPE;\n\n\t\treturn reduceTabsData(tabsData, generators.getTabPayload({\n\t\t\ttransType: transType,\n\t\t\ttable,\n\t\t\tsys_id,\n\t\t\trecordType: get(payload.row,'type', null) ? get(payload.row.type, 'value', null) : null,\n\t\t\tadditional_data,\n\t\t\tparams\n\t\t}));\n\t}\n\telse if ('row' in payload) // full list: two layer tab\n\t\treturn reduceTabsData(tabsData, generators.getTabPayload({\n\t\t\ttransType: constants.TWO_LAYER_TYPE,\n\t\t\ttable,\n\t\t\tsys_id,\n\t\t\trecordType: get(payload.row,'type', null) ? get(payload.row.type, 'value', null) : null,\n\t\t\ttitle: tabUtils.findRecordDisplayValue(table, payload.row),\n\t\t\teventData: {nativeEvent},\n\t\t\tadditional_data,\n\t\t\tparams\n\t\t}));\n\telse if (('sys_id' in payload) && ('table' in payload)) // generic call: depends on internals\n\t\treturn itemSelectedGenericEffect(tabsData, payload);\n\n\n\treturn tabsData;\n}\n\n\nfunction itemSelectedGenericEffect(tabsData, payload){\n\tconst {sys_id, table, parent_table, parent_sys_id, params} = payload;\n\n\t// Create a main tab if no parent table / sys_id\n\tif (!parent_table || !parent_sys_id)\n\t\treturn reduceTabsData(tabsData, generators.getTabPayload({transType: constants.MAIN_TAB_ONLY_TYPE, table, sys_id, params}));\n\n\tconst transType = constants.TWO_LAYER_TYPE;\n\tconst mainTabPayload = generators.getTabPayload({transType, table: parent_table, sys_id: parent_sys_id, params});\n\tif (parent_table == table && parent_sys_id == sys_id)\n\t\treturn reduceTabsData(tabsData, mainTabPayload);\n\n\tconst secondaryTabPayload = generators.getTabPayload({transType: constants.CONTEXTUAL_RECORD_ITEM_TYPE, table, sys_id, params});\n\n\treturn reduceTabsData(tabsData, generators.getChainedTabPayload([mainTabPayload, secondaryTabPayload]));\n}\n\nfunction queueItemAcceptedEffect(tabsData, payload) {\n\treturn reduceTabsData(tabsData, generators.getChatPayload(payload));\n}\n\nexport function selectTabEffect(tabsData, payload) {\n    let {tab_ids} = payload;\n    if(!isEmpty(tab_ids) && tab_ids.length == 2){\n        const parentTab = tabUtils.getTabById(tabsData.tabList, tab_ids[0]);\n        const subTab = tabUtils.getTabById(parentTab.tabList, tab_ids[1]);\n        const {table: parent_table, sys_id: parent_sys_id} = parentTab;\n        const {table, sys_id} = subTab;\n        if(parent_sys_id != sys_id && sys_id !== '-1')\n            RecordChangeLogger.getInstance().logRecordChange({parent_table, parent_sys_id, table, sys_id, status: constants.VIEWED});\n    }\n\treturn reduceTabsData(tabsData, generators.getSelectTabPayload(payload.tab_ids));\n}\n\nfunction updateOneTabEffect(tabsData, payload) {\n\treturn updateOneTab(tabsData, payload);\n}\n\nfunction previewRecordEffect(tabsData, payload) {\n\tconst { sys_id, table, title, query, params } = payload;\n\tconst additional_data = {query};\n\n\tconst activeModuleId = getModuleId(tabsData);\n\n    let {parent_table, parent_sys_id} = tabUtils.getActiveTabInfo(tabsData);\n\n    if(sys_id !== '-1')\n        RecordChangeLogger.getInstance().logRecordChange({parent_table, parent_sys_id, table, sys_id, status: constants.VIEWED});\n\n\t// Handle renderer types\n\tif (get(payload,'renderer_type',null)) {\n\n\t\tif ( !(payload.renderer_type in WS_TYPED_RENDERER) )\n\t\t\treturn tabsData;\n\n\t\tconst module = WS_TYPED_RENDERER[payload.renderer_type]['workspace_module'];\n\t\t// if the renderer type is not associated to a module, handle as session tab\n\t\tif ( WSConf.isNavModeTab() &&  (!module || (activeModuleId != module) ) ) {\n\t\t\tconst title = get(payload, 'title', null);\n\t\t\tconst sys_id = get(payload, 'sys_id', null);\n\t\t\treturn reduceTabsData(tabsData, generators.getTabPayload({\n\t\t\t\ttransType: constants.MAIN_TAB_ONLY_TYPE,\n\t\t\t\tadditional_data: {\n\t\t\t\t\tmoduleDrilldown: false,\n\t\t\t\t\trendererType: payload.renderer_type,\n\t\t\t\t\ttitle: title\n\t\t\t\t},\n\t\t\t\tparams, sys_id\n\t\t\t}));\n\n\t\t}\n\n\n\t\t// else handle as a module drilldown for non-record typed renderer\n\t\treturn reduceTabsData(tabsData,\n\t\t\tgenerators.getModuleTabPayload(module ? module: activeModuleId,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\tadditional_data,\n\t\t\t\t\tparams\n\t\t\t\t},\n\t\t\t\tpayload.renderer_type\n\t\t\t));\n\t}\n\n\tif(isModuleRendererTable(table) || WSConf.isNavModeBreadcrumb()) {\n\t\t// drill down if tab mode and module is the same\n\t\t// or in breadcrumbs mode to allow deep-link\n\t\tconst module = WS_MODULE_TAB_RENDERER[table];\n\t\tif ( (WSConf.isNavModeTab() && activeModuleId == module) || WSConf.isNavModeBreadcrumb() ) {\n\t\t\tconst moduleId = WS_MODULE_TAB_RENDERER[table] ? WS_MODULE_TAB_RENDERER[table] : activeModuleId;\n\t\t\treturn reduceTabsData(tabsData,\n\t\t\t\tgenerators.getModuleTabPayload(moduleId, null, {\n\t\t\t\t\ttable,\n\t\t\t\t\tsys_id,\n\t\t\t\t\tadditional_data,\n\t\t\t\t\tparams\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tconst transType = isModuleTab(tabUtils.getSelectedTab(tabsData)) ? constants.TWO_LAYER_TYPE : constants.CONTEXTUAL_RECORD_ITEM_TYPE;\n\treturn reduceTabsData(tabsData, generators.getTabPayload({transType, table, title, sys_id, additional_data, params}));\n}\n\nfunction recordStatusChangedEffect(tabsData, payload, coeffects) {\n\n\tconst {table, sys_id, status} = payload;\n\tif(status== constants.INSERTED || status== constants.UPDATED || status == constants.DELETED || status == constants.CLOSED){\n\tconst {parent_table, parent_sys_id} = tabUtils.getActiveTabInfo(tabsData);\n\n\tif(parent_sys_id != sys_id)\n\t\tRecordChangeLogger.getInstance().logRecordChange({parent_table, parent_sys_id, table, sys_id, status});\n\t}\n\treturn mediateStatusChange(tabsData, payload, coeffects);\n}\n\nfunction chatStatusChangedEffect(tabsData, payload) {\n\treturn mediateChatStatusChange(tabsData, payload);\n}\n\nfunction notificationChangedEffect(tabsData, payload, coeffects) {\n\treturn mediateStatusChange(tabsData, {...payload, status: payload.type}, coeffects);\n}\n\nfunction workspaceNavSelectedEffect(tabsData, payload) {\n\tconst {type} = payload;\n\tif (type !== constants.FULL_PAGE_TARGET && type !== constants.MASTER_DETAIL_TARGET)\n\t\treturn tabsData;\n\n\tconst {id, params} = payload;\n\tconst modules = getModules();\n\tconst module = modules[id];\n\tif(!module)\n\t\treturn tabsData;\n\n\treturn reduceTabsData(tabsData, generators.getModuleTabPayload(module, params));\n}\n\nfunction closeModuleDrilldownEffect(tabsData, payload){\n\tconst {module} = payload;\n\treturn reduceTabsData(tabsData, generators.getCloseModuleDrilldownPayload(module));\n}\n\nfunction contentUpdatedEffect(tabsData, payload, coeffects) {\n\treturn updateContent(tabsData, payload, coeffects);\n}\n\nfunction closeDirtyTabsEffect(tabsData, payload, coeffects) {\n\tconst {closeDirtyTabs} = payload;\n\tif(closeDirtyTabs) {\n\t\tconst {newTabsData, tabClosed} = closeTabs.closeFromCloseIdList(tabsData);\n\n\t\tconst {table, sys_id} = tabClosed;\n\t\tconst {dispatch} = coeffects;\n\t\tdispatch(WORKSPACE_TAB_CLOSED, {table, sys_id});\n\t\treturn newTabsData;\n\t}\n\n\tconst {closeIdList, ...tabsDataNew} = tabsData;\n\treturn tabsDataNew;\n}\n\nfunction closeTabsEffect(tabsData, payload, coeffects){\n\treturn closeTabs.closeTabById(tabsData, payload.tab_id);\n}\n\nfunction formHeaderUpdateEffect(tabsData, payload) {\n\treturn updateFormHeader(tabsData, payload);\n}\n\nfunction urlContentLoadedEffect(tabsData, payload) {\n    const tabPayload = generators.getTabPayloadFromSelectedContent(payload);\n\treturn reduceTabsData(tabsData, tabPayload);\n}\n\nfunction mainTabClickedEffect(tabsData, payload) {\n\n\tconst {tab_id} = payload;\n\n\tconst tabPayload = (tabsData.selectedTabId === tab_id && isModuleTabSelected(tabsData)) ?\n\t\tgenerators.getCloseModuleDrilldownPayload() :\n\t\tgenerators.getSelectTabPayload([tab_id]);\n\n\treturn reduceTabsData(tabsData, tabPayload);\n}\n\nfunction subTabCloseClickedEffect(tabsData, payload){\n\tconst {tab_id} = payload;\n\treturn closeTabs.askToCloseSub(tabsData, CLOSE_TAB_MENU_ITEM, tab_id);\n}\n\nfunction subTabCloseMenuClickedEffect(tabsData, payload){\n\tconst {menuItem: {name} = {}, selectedTabId} = payload;\n\tif(!name)\n\t\treturn tabsData;\n\treturn closeTabs.askToCloseSub(tabsData, name, selectedTabId);\n}\n\nfunction mainTabCloseClickedEffect(tabsData, payload) {\n\tconst {operation, tab_id} = payload;\n\treturn closeTabs.askToCloseMain(tabsData, operation, tab_id);\n}\n\nfunction clearRedirectEffect(tabsData){\n\tconst {redirect, ...tabsDataNew} = tabsData;\n\treturn tabsDataNew;\n}\n\nfunction loadTabsDataEffect(tabsData, payload, {state, dispatch}){\n\tconst userId = _getUserId(state);\n\tconst storedTabs = tabStorage.loadTabs(userId);\n\tconst selectedContent = getSelectedContentFromUrl();\n\n\tif(selectedContent) {\n\t\t   if(WSConf.isNavModeBreadcrumb()){ //workaround to set stored title in breadcrumbs\n\t\t   \t\tconst moduleTab = getSelectedModuleTab(storedTabs);\n\t\t   \t\tif(moduleTab && moduleTab.tabList && moduleTab.tabList.length > 0){\n\t\t   \t\t\tconst tab = moduleTab.tabList[0];\n\t\t   \t\t\tif(tab && tab.title){\n\t\t   \t\t\t\tselectedContent.title = tab.title;\n\t\t  \t\t\t}\n\t\t  \t\t}\n\t\t  \t}\n\t\tconst tabPayload = generators.getTabPayloadFromSelectedContent(selectedContent);\n\t\tconst tabsDataWithUrl = reduceTabsData(storedTabs, tabPayload);\n\n\t\tconst stopper = tabUtils.shouldUpdateTabData(storedTabs, tabsDataWithUrl);\n\n\t\tlet tabsDataNew = stopper ? storedTabs : tabsDataWithUrl;\n\t\ttabsDataNew  = tabUtils.updateSelectedTabs(tabsDataNew);\n\t\ttabStorage.saveTabs(tabsDataNew, _getUserId(state));\n\n\t\tdispatch(PROPERTIES_SET, {tabsData: tabsDataNew, tabsStopperPrompt: stopper} );\n\n\t\treturn tabsDataNew;\n\t} else {\n\t\treturn storedTabs;\n\t}\n}\n\n\n// Standard action handlers\nfunction loadTabsDataEffectOld({dispatch, state}){\n\tconst userId = _getUserId(state);\n\n\tconst tabsDataFromStorage = tabStorage.loadTabs(userId);\n\tconst tabsDataWithUrl = urlContentLoadedEffect(tabsDataFromStorage);\n\n\tconst stopper = tabUtils.shouldUpdateTabData(tabsDataFromStorage, tabsDataWithUrl);\n\n\tlet tabsDataNew = stopper ? tabsDataFromStorage : tabsDataWithUrl;\n\n\ttabsDataNew  = tabUtils.updateSelectedTabs(tabsDataNew );\n\ttabStorage.saveTabs(tabsDataNew, _getUserId(state));\n\tdispatch(PROPERTIES_SET, {tabsData: tabsDataNew, tabsStopperPrompt: stopper} );\n}\n\nfunction clearStopperPromptEffect({dispatch}) {\n\tdispatch(PROPERTIES_SET, {tabsStopperPrompt: null});\n}\n\nfunction updateTableColMapEffect({action:{payload: {table, displayColumn}}}){\n\tif(table)\n\t\ttabUtils.setTableDisplayColumn(table, displayColumn);\n}\n\nfunction setSelectedContentEffect({state: {properties: {selectedContent}}, action: {payload: {value: tabsData}}, dispatch}){\n\tconst selectedContentNew = tabUtils.getSelectedContent(tabsData);\n\tif(!isEqual(selectedContent, selectedContentNew ))\n\t\tdispatch(PROPERTIES_SET, {selectedContent: selectedContentNew});\n}\n\nfunction masterDetailTabToggledEffect(tabsData){\n\treturn toggleMasterTab(tabsData);\n}\n\n// Map of actions to effects that are wrapped by a function which mutates tabs data\nconst actionTabsDataEffectMap = {\n\t[LOAD_TABS_DATA]: loadTabsDataEffect,\n\t[GLOBAL_SEARCH_ACTION]: globalSearchEffect,\n\t[ITEM_SELECTED]: itemSelectedEffect,\n\t[QUEUE_ITEM_ACCEPTED]: queueItemAcceptedEffect,\n\t[SELECT_TAB]: selectTabEffect,\n\t[UPDATE_ONE_TAB]: updateOneTabEffect,\n\t[PREVIEW_RECORD]: previewRecordEffect,\n\t[RECORD_STATUS_CHANGED]: recordStatusChangedEffect,\n\t[CHAT_STATUS_CHANGED]: chatStatusChangedEffect,\n\t[RECORD_NOTIFICATIONS_CHANGED]: notificationChangedEffect,\n\t[WORKSPACE_NAV_SELECTED]: workspaceNavSelectedEffect,\n\t[CONTENT_UPDATED]: contentUpdatedEffect,\n\t[CLOSE_DIRTY_TABS]: closeDirtyTabsEffect,\n\t[FORM_UPDATE_HEADER]: formHeaderUpdateEffect,\n\t[URL_CONTENT_LOADED]: urlContentLoadedEffect,\n\t[MAIN_TAB_CLICKED]: mainTabClickedEffect,\n\t[SUB_TAB_CLOSE_CLICKED]: subTabCloseClickedEffect,\n\t[SUB_TAB_CLOSE_MENU_CLICKED]: subTabCloseMenuClickedEffect,\n\t[MAIN_TAB_CLOSE_CLICKED]: mainTabCloseClickedEffect,\n\t[CLOSE_TAB]: closeTabsEffect,\n\t[CLOSE_MODULE_DRILLDOWN]: closeModuleDrilldownEffect,\n\t[BREADCRUMB_ITEM_SELECTED]: itemSelectedEffect,\n\t[CLEAR_REDIRECT]: clearRedirectEffect,\n\t[MASTER_DETAIL_TOGGLED]: masterDetailTabToggledEffect\n};\n\nconst tabsDataActionHandlers = Object.keys(actionTabsDataEffectMap).reduce((result, key)=>{\n\treturn {\n\t\t...result,\n\t\t[key]: createTabsDataEffect(actionTabsDataEffectMap[key])\n\t};\n}, {});\n\nexport const rootActionHandlers = {\n\t[CLEAR_STOPPER_PROMPT]: clearStopperPromptEffect,\n\t[UPDATE_TABLE_COL_MAP]: updateTableColMapEffect,\n\t//[TABS_DATA_UPDATED]: setSelectedContentEffect,\n\t...tabsDataActionHandlers\n};\n","import * as constants from '../constants/constants';\nimport {\n\tupdateTabs,\n\tconvertTabToChat,\n\tconverChatTabToRecord,\n\tisSubTab,\n\tisDetailTab,\n\tgetActiveTabInfo,\n\tgetParentTabInfoByTableAndSysId,\n\tupdateTabById\n} from './snWorkspaceTabs.util';\nimport {get, isEmpty} from 'lodash';\nimport {closeTabById} from \"./snWorkspaceTabs.closeTabs\";\nimport {getModuleIdFromComponentId} from '../internal-components/chrome-tab-panels/updateElementProp';\n\nimport {iconConfig,getIconFromConfig} from '../constants/ws_config';\n\nexport function mediateStatusChange(tabsData, payload, coeffects) { // modified|unmodified|inserted|error|clear\n\tconst {status} = payload;\n\n\tlet newTabsData = tabsData;\n\n\tswitch(status) {\n\t\tcase 'inserted': {\n\t\t\tconst {indicator} = payload;\n\t\t\tif(indicator)\n\t\t\t\tnewTabsData = updateIndicatorContent(newTabsData, payload);\n\t\t\treturn {..._onInsert(newTabsData, payload, coeffects), redirect: true};\n\t\t}\n\t\t\t\n\t\tcase 'deleted':\n\t\t\treturn _onDeleted(newTabsData, payload, coeffects);\n\t\tcase 'modified':\n\t\t\treturn _setFlag(newTabsData, payload, coeffects, 'isDirty');\n\t\tcase 'unmodified':\n\t\tcase 'updated':\n\t\tcase 'saved':\n\t\t\treturn _clearFlag(newTabsData, payload, coeffects, 'isDirty');\n\t\tcase 'closed': {\n\t\t\t// first clear the flag\n\t\t\tconst clearedTabsData = _clearFlag(tabsData, payload, coeffects, 'isDirty');\n\t\t\t\n\t\t\tconst {tab_id} = getActiveTabInfo(tabsData);\n\t\t\tif(!tab_id) {\n\t\t\t\treturn clearedTabsData;\n\t\t\t}\n\t\t\t// then close the tab\n\t\t\treturn closeTabById(clearedTabsData, tab_id);\n\t\t}\n\t\tcase 'liveUpdated':\n\t\t\treturn _setFlag(newTabsData, payload, coeffects, 'hasUpdate');\n\t\tcase 'error':\n\t\t\treturn _setFlag(newTabsData, payload, coeffects, 'hasError');\n\t\tcase 'clear':\n\t\t\treturn _clearFlag(newTabsData, payload, coeffects, 'hasError');\n\t\tdefault:\n\t\t\treturn newTabsData;\n\t}\n}\n\nexport function updateIndicatorContent(tabsData, payload){\n\tconst {sys_id, table, indicator} = payload;\n\tconst tabInfo = getParentTabInfoByTableAndSysId(tabsData, table, sys_id);\n\tif( tabInfo ) {\n\t\tlet {type, status, message} = indicator;\n\t\tlet icon = get(iconConfig, [type, status]);\n\t\t\n\t\tconst tab_id = get(tabInfo,'tab_id',null);\n\t\tif(tab_id) {\n\t\t\tif(icon && message)\n\t\t\t\treturn updateTabById(tabsData, tab_id, {icon, message});\n\t\t\telse if(message && !icon)\n\t\t\t\treturn updateTabById(tabsData, tab_id, {message : message, icon : ''});\n\t\t\telse if(!message && icon)\n\t\t\t\treturn updateTabById(tabsData, tab_id, {message : '', icon : icon});\n\t\t\telse if(!message && !icon)\n\t\t\t\treturn updateTabById(tabsData, tab_id, {message : '', icon : ''});\n\t\t}\n\t}\n\treturn tabsData;\n}\n\nexport function updateContent(tabsData, payload, coeffects){\n\tconst {sys_id, title, params = {}, redirectEmptyState = false} = payload;\n\n\t// Match by sys ID if passed in\n\tlet filter = t=>t.sys_id === sys_id;\n\n\t// If no sys_id provided, match by tab ID inferred from coeffects\n\tif(!sys_id || sys_id === '-1') {\n\t\tconst tab_id = _getTabIdFromCoeffects(coeffects);\n\t\tif (!tab_id)\n\t\t\treturn tabsData;\n\t\tfilter = t => t.tab_id === tab_id;\n\t}\n\n\tlet redirect = false;\n\tlet updatedTab;\n\tconst newTabsData = updateTabs(tabsData, filter, t=> {\n\t\t// If a component is providing params for the first time while also using the redirectEmptyState flag, let\n\t\t// the router know to perform a URL redirect rather than a navigate to avoid a back-button-loop\n\t\tconst {params: currentParams = {}} = t;\n\t\tif(redirectEmptyState && !isEmpty(params) && isEmpty(currentParams))\n\t\t\tredirect = true;\n\t\tupdatedTab = t;\n\t\t// Expand on params and update title, if provided (unless original title was \"Details\")\n\t\treturn {...t, params: {...t.params, ...params}, ...((title && t.title != constants.TAB_DETAILS_TITLE) && {title})};\n\t}, parentTab =>{\n\t\t// Run the same update on the parent of detail tabs\n\t\tif(!isDetailTab(updatedTab, parentTab))\n\t\t\treturn parentTab;\n\n\t\treturn {...parentTab, params: {...parentTab.params, ...params}, ...((title && parentTab.title != constants.TAB_DETAILS_TITLE) && {title})};\n\t});\n\n\treturn {...newTabsData, redirect};\n\n}\n\nexport function mediateChatStatusChange(tabsData, payload) {\n\tconst {sys_id, is_chat = null, status} = payload;\n\n\tif(['active', 'inactive', 'new activity'].indexOf(status) < 0 && is_chat !== false)\n\t\treturn tabsData;\n\n\treturn updateTabs(tabsData, t=> (t.sys_id === sys_id && !isSubTab(t)), t=>{\n\t\tlet tab = t;\n\t\t\n\t\tlet type = (tab.type === constants.CHAT_ITEM_TYPE && is_chat === false ) ? constants.PHONE_ITEM_TYPE : constants.CHAT_ITEM_TYPE;\n\n\t\t//_onInsert function already figures out icon if the indicatior is in the payload\n\t\tlet icon = tab.icon || getIconFromConfig(type, status);\n\n\t\tif (status === 'active' && !tab.activated)\n\t\t\ttab = {...tab, activated: true, icon: icon ? icon : constants.ICON_CHAT_FILL};\n\t\telse if (status  === 'inactive' && tab.activated)\n\t\t\ttab = {...tab, activated: false, icon: icon ? icon: constants.ICON_CHAT_OUTLINE};\n\t\telse if (status === 'new activity' && !tab.hasUpdate)\n\t\t\ttab = {...tab, hasUpdate: true};\n\n\t\tif (is_chat === false && tab.type === constants.CHAT_ITEM_TYPE)\n\t\t\treturn converChatTabToRecord(tab);\n\n\t\treturn tab;\n\t});\n}\n\nfunction _getTabIdFromCoeffects(coeffects){\n\tconst {action: {meta: {path}}} = coeffects;\n\n\t// Loop through component IDs until you find a moduleID or tab ID match\n\tlet moduleId, tabId;\n\tpath.some(componentId => {\n\t\t\tmoduleId = getModuleIdFromComponentId(componentId);\n\t\t\ttabId = get(componentId.match(/tid_(.*)_tid/i), '[1]', false);\n\t\t\treturn moduleId || tabId;\n\t\t});\n\n\tif (moduleId)\n\t\treturn `module_${moduleId}`;\n\n\treturn tabId;\n}\n\n\nfunction _onInsert(tabsData, payload, coeffects) {\n\t/**\n\t * DEF0086085: reset query from the returning object from additional_data and params\n\t *       using the query from the payload,\n\t *       defaulting to empty string when found in payload\n\t **/\n\tconst {sys_id, table, query = ''} = payload;\n\n\tlet tab_id = _getTabIdFromCoeffects(coeffects);\n\t\n\tif(!tab_id)\n\t\treturn tabsData;\n\n\tlet parent_table = null, parent_sys_id = null, parent_tab_id = null;\n\n\tlet newTabs = updateTabs(tabsData, t=> t.tab_id === tab_id,\n\t\tt => {\n\t\t\t// Run on inserted tab\n\t\t\tparent_tab_id = t.parentTabId;\n\t\t\treturn {\n\t\t\t\t...t,\n\t\t\t\tsys_id,\n\t\t\t\tadditional_data: {...t.additional_data, query},\n\t\t\t\tparams: {...t.params, query},\n\t\t\t\ttype: constants.RECORD_ITEM_TYPE,\n\t\t\t\ttitle: t.canClose ? '' : t.title,\n\t\t\t\tisDirty: false\n\t\t\t};\n\t\t},\n\t\tt=>{\n\t\t\t// Runs on ancestors\n\t\t\tif(t.tab_id === parent_tab_id){\n\t\t\t\tparent_table = t.table;\n\t\t\t\tparent_sys_id = t.sys_id;\n\t\t\t}\n\n\t\t\t// if not new record (most likely a parent tab), clear the dirty flag\n\t\t\tif(t.type !== constants.NEW_RECORD_ITEM_TYPE || t.table != table)\n\t\t\t\treturn { ...t,\n\t\t\t\t\t\tisDirty: t.tabList.some(childTab => childTab.isDirty)\n\t\t\t\t};\n\n\t\t\tconst parentTab = {\n\t\t\t\t...t,\n\t\t\t\tsys_id,\n\t\t\t\ttype: constants.RECORD_ITEM_TYPE,\n\t\t\t\ttitle: t.canClose ? '' : t.title,\n\t\t\t\tisDirty: t.tabList.some(childTab => childTab.isDirty)\n\t\t\t};\n\n\t\t\tif(t.table != constants.INTERACTION_TABLE)\n\t\t\t\treturn parentTab;\n\n\t\t\treturn convertTabToChat(parentTab);\n\t\t});\n\n\t/**\n\t * STRY5193031 - Dispatch an action when a record is inserted within the context of a main\n\t * \"interaction\" tab, so that omnichannel can insert a record for interaction_related_record.\n\t */\n\tif (parent_table === constants.INTERACTION_TABLE) {\n\t\tconst {dispatch} = coeffects;\n\t\tdispatch(constants.RECORD_INSERTED_FOR_INTERACTION, {\n\t\t\tparent_sys_id,\n\t\t\tparent_table,\n\t\t\tsys_id,\n\t\t\ttable\n\t\t});\n\t}\n\n\treturn newTabs;\n}\n\nfunction _onDeleted(tabsData, payload, coeffects) {\n\tconst tab_id = _getTabIdFromCoeffects(coeffects);\n\tif(!tab_id)\n\t\treturn tabsData;\n\n\treturn closeTabById(tabsData, tab_id);\n}\n\nfunction _setFlag(tabsData, payload, coeffects, flag){\n\tconst {sys_id} = payload;\n\n\tconst tab_id = !sys_id || sys_id === '-1' ? _getTabIdFromCoeffects(coeffects) : null;\n\n\treturn updateTabs(tabsData, t=>\n\t\t(tab_id && t.tab_id === tab_id) || (sys_id != '-1' && t.sys_id === sys_id),\n\t\tt=> ({...t, [flag]: true}), // run on tab\n\t\tt=>({...t, [flag]: true}) // run on ancestors\n\t);\n}\nfunction _clearFlag(tabsData, payload, coeffects, flag){\n\tconst {sys_id} = payload;\n\n\tconst tab_id = !sys_id || sys_id === '-1' ? _getTabIdFromCoeffects(coeffects) : null;\n\n\treturn updateTabs(tabsData, t=>\n\t\t(tab_id && t.tab_id === tab_id) || (sys_id != '-1' && t.sys_id === sys_id),\n\t\tt=> ({...t, [flag]: false}),\n\t\tt=>({...t, [flag]: t.tabList.some(childTab => childTab[flag])})\n\t);\n}\n","import {TOOLBAR_ROOT_BEHAVIOR} from '../constants/constants';\nimport {actionHandlers} from './snWorkspaceToolbar.root.effects';\n\nexport const toolbarRootBehavior = {\n\tname: TOOLBAR_ROOT_BEHAVIOR,\n\tproperties: {\n\t\tupdateModule: {\n\t\t\tselectable: true\n\t\t}\n\t},\n\tactionHandlers\n};\n","import {UPDATE_MODULE_STATUS, UPDATE_TOOLBAR_BUTTON, PROPERTIES_SET} from '../constants/constants';\n\nexport const actionHandlers = {\n\t[UPDATE_MODULE_STATUS]: dispatchPayload,\n\t[UPDATE_TOOLBAR_BUTTON]: dispatchPayload\n};\n\nfunction dispatchPayload({action: {payload}, state, dispatch}) {\n\tdispatch(PROPERTIES_SET, {updateModule: payload});\n}\n","import {replace, get, isEmpty} from 'lodash';\n\nimport {\n\tPROPERTIES_SET,\n\tWORKSPACE_LOADED,\n\tACTIVE_PANEL_RENDERED,\n\tCONTENT_ITEMS_SELECTED,\n\tWS_CONFIG_SYS_ID,\n\tMODULE_ITEM_TYPE\n} from '../constants/constants';\nimport {getBasePath} from '../sn-workspace-router/snWorkspaceRouter.util';\n\nimport {getSelectedContentFromUrl} from '../sn-workspace-router/snWorkspaceRouter.urlParser';\nimport * as tabStorage from '../sn-workspace-tabs/snWorkspaceTabs.storage';\nimport {preUserData, getBehaviorProp} from '../constants/presource.behaviors';\n\nimport {actionTypes} from '@servicenow/ui-core';\n\nconst {COMPONENT_BOOTSTRAPPED} = actionTypes;\n\nexport function configItemsLoadEffect(coeffects) {\n\tconst {action : { payload : { items, table, sysId } }, properties : { configItemsLinks, selectedPanelId, isPrimaryContent, panelsData : {panels} }, state, dispatch} = coeffects;\n\n\tif(items) {\n\t\tlet configItems = items.slice(0);\n\t\t//add a unique key to each link, will be used for window name\n\t\tconfigItems.forEach(item => {\n\t\t\titem.key = `${selectedPanelId}_${item.label.replace(/[\\W]+/g, '_')}`;\n\n\t\t\t//replace appId tokens if there are any\n\t\t\tlet wsConfigSysId = getBehaviorProp(state, WS_CONFIG_SYS_ID, null);\n\t\t\tif(wsConfigSysId)\n\t\t\t\titem.url = replace(item.url, '${APPID}', `${wsConfigSysId}`);\n\n\n\t\t\t// replace app tokens if there any\n\t\t\tlet basePath = getBasePath();\n\t\t\tif(basePath && basePath !== ''){\n\t\t\t\tlet appName = basePath.split('/')[2];\n\t\t\t\tif(appName)\n\t\t\t\t\titem.url = replace(item.url, '${APP}', `${appName}`);\n\t\t\t}\n\n\t\t});\n\n\t\tlet newConfigLinks = [];\n\n\t\t// primary content panels data do not have all panels so cleanup should not happen for that case\n\t\t// DEF0088807: fix to improvise the condition to populate the newConfigLinks\n\t\tif(isPrimaryContent && !table){\n\t\t\t//PRB1368309 && PRB1368314 : this is to not show the links in the quick edit form view of the list.\n\t\t\tnewConfigLinks  =  configItemsLinks ? configItemsLinks.splice(0) : [];\n\t\t\tlet linkIdx = newConfigLinks.findIndex(link => link.panelId == selectedPanelId);\n\t\t\tif(linkIdx >= 0 )\n\t\t\t\tnewConfigLinks.splice(linkIdx, 1, { panelId : selectedPanelId, isPrimaryContent, items});\n\t\t\telse\n\t\t\t\tnewConfigLinks.push({ panelId : selectedPanelId, isPrimaryContent, items});\n\t\t} else {\n\t\t\t// use this opportunity to remove the links for destroyed panels and also the current panelId so we can replace with new\n\t\t\tif(configItemsLinks){\n\t\t\t\tconfigItemsLinks.forEach(link => {\n\t\t\t\t\tif(panels && panels.find(p => p.panelId === link.panelId && p.panelId !== selectedPanelId ))\n\t\t\t\t\t\tnewConfigLinks.push(link);\n\t\t\t\t});\n\t\t\t}\n\t\t\tnewConfigLinks.push({ panelId : selectedPanelId, items});\n\t\t}\n\n\t\tdispatch(PROPERTIES_SET, {configItemsLinks: newConfigLinks, selectedPanelId});\n\t}\n}\n\nfunction _getModuleParamsMap(tabsData){\n\tconst moduleParamsMap = {};\n\tconst modules = get(tabsData, 'tabList[0].tabList', []);\n\tmodules.forEach(\n\t\tmodule => {\n\t\t\tif(module.type == MODULE_ITEM_TYPE){\n\t\t\t\tmoduleParamsMap[module.module.id] = module.params || {};\n\t\t\t}\n\t});\n\treturn moduleParamsMap;\n}\n\nfunction layoutBootStrappedEffect({action, state, dispatch}){\n\tconst userId = getBehaviorProp(state, preUserData.name).sys_id;\n\tconst tabsDataCached  = tabStorage.loadTabs(userId);\n\tconst moduleParamsMap = _getModuleParamsMap(tabsDataCached);\n\n\tconst selectedContent = getSelectedContentFromUrl();\n\tif(selectedContent && selectedContent.type == 'module'){\n\t\tconst {module_id: moduleId, params = {}} = selectedContent;\n\t\tif(!isEmpty(params))\n\t\t\tmoduleParamsMap[moduleId] = params;\n\t}\n\n\tObject.keys(moduleParamsMap).forEach(moduleId => {\n\t\tconst moduleElement = document.querySelector('sn-ux-content-option[picker-condition=\"module_id='+moduleId+'\"] :first-child');\n\t\tif(moduleElement){\n\t\t\tconst params = moduleParamsMap[moduleId];\n\t\t\tObject.keys(params).forEach(key => moduleElement[key] = params[key]);\n\t\t}\n\t});\n}\n\nexport const actionHandlers = {\n\t[WORKSPACE_LOADED]: ({action: {payload}, dispatch})=> {\n\t\tdispatch(PROPERTIES_SET, {workspaceLoaded: payload});\n\t},\n\t[ACTIVE_PANEL_RENDERED]: ({action: {payload : {panelsData, isPrimaryContent=false}}, properties : {selectedPanelId:currentPaenlId}, dispatch})=> {\n\t\tconst {selectedPanelId} = panelsData;\n\t\tif(currentPaenlId !== selectedPanelId) {\n\t\t\tdispatch(PROPERTIES_SET, {selectedPanelId, panelsData, isPrimaryContent});\n\t\t}\n\t},\n\t[CONTENT_ITEMS_SELECTED] : configItemsLoadEffect,\n\t[COMPONENT_BOOTSTRAPPED] : layoutBootStrappedEffect\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceLayout.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host(sn-workspace-layout){display:block;height:100%;min-width:34.375rem}.sn-workspace-layout{flex-direction:column}.sn-workspace-layout,.sn-workspace-layout-body{display:flex;height:100%;overflow:hidden;width:100%}.sn-workspace-layout-body{background:RGB(var(--now-color--neutral-0,255,255,255));flex:1 1 auto;min-height:18.75rem}.sn-workspace-layout-toolbar{display:flex;flex:0 0 auto}.sn-workspace-layout-content-area{display:flex;flex:1 1 auto;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.sn-workspace-layout-primary-tabs{flex:0 0 auto}.sn-workspace-layout-main-content{flex:1 1 auto;height:calc(100% - 2.9375rem)}.sn-workspace-error-alert{padding:10px;margin-bottom:18px;border-radius:3px;background-color:#fae6e6;border-color:#f7d8d8;color:#9d0010}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {default as WsMain} from './snWorkspaceMain';\nimport {tabsDataInitPropBehavior} from '../utils/behaviors/selectableProps.behaviors';\n\nimport styles from './_snWorkspaceMain.scss';\n\n\nexport default createCustomElement('sn-workspace-main', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsMain\n\t},\n\n\tbehaviors: [tabsDataInitPropBehavior],\n\n\tstyles\n});\n","import React from 'react';\nimport react from '@servicenow/ui-renderer-react';\n\nimport * as constants from '../constants/constants';\nimport {t} from 'sn-translate';\n\nimport ChromeTabPanels from '../internal-components/chrome-tab-panels/chromeTabPanels';\n\nimport * as tabUtils from '../sn-workspace-tabs/snWorkspaceTabs.util.js';\nimport {renderDeferredSlot} from '../utils';\nimport {getChatPanelsData} from \"../sn-workspace-tabs/snWorkspaceTabs.selectors\";\nimport {getModuleTab} from \"../sn-workspace-tabs/snWorkspaceTabs.moduleTab\";\nimport {getSelectedTab} from \"../sn-workspace-tabs/snWorkspaceTabs.util\";\nimport {getPagePropNavMode} from '../constants/ws_config';\n\nclass WsMain extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.chatPanelData = null;\n\t\tthis.hasSubTabs = false;\n\t\tthis.showPrimary = false;\n\t\tthis.showSession = false;\n\n\t\tthis.deferred = {\n\t\t\tsubTabs: true,\n\t\t\tcontent: true\n\t\t};\n\n\t\tthis._navMode = getPagePropNavMode();\n\t}\n\n\tcomponentWillMount() {\n\t\tthis._propsToState(this.props);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis._propsToState(nextProps);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._updateSlots();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis._updateSlots();\n\t}\n\n\trender() {\n\t\t// Wait for tabs to load\n\t\tif (!this.props.properties.tabsData){\n\t\t\treturn t(\"Loading...\");\n\t\t}\n\n\t\treturn (\n\t\t\t<div id=\"main-pane\" className=\"sn-workspace-main-container\">\n\t\t\t\t{this._renderPrimaryPanels()}\n\t\t\t\t{this._renderSessionPanels()}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_renderPrimaryPanels(){\n\t\tif(!this.showPrimary)\n\t\t\treturn;\n\n\t\treturn (\n\t\t\t<div className={!this.showSession ? 'sn-workspace-main' : ''}>\n\t\t\t\t{this._renderSlot('primary-content')}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_renderSessionPanels() {\n\t\tif(!this.showSession)\n\t\t\treturn;\n\n\t\treturn (\n\t\t\t<div className=\"sn-workspace-main\">\n\t\t\t\t<ChromeTabPanels panelsData={this.chatPanelData} active={true}/>\n\t\t\t\t<div className=\"sn-workspace-main-sub-tabs\">\n\t\t\t\t\t{this._navMode === constants.NAVIGATION_MODE_TAB && this.hasSubTabs ? this._renderSubTabs() : null}\n\t\t\t\t\t<div className=\"sn-workspace-main-sub-tabs-panel\">\n\t\t\t\t\t\t{this._renderSlot('content')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_renderSubTabs(){\n\t\treturn (\n\t\t\t<div className=\"sn-workspace-main-sub-tabs-tab-container\">\n\t\t\t\t{this._renderSlot('secondary-tabs')}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_propsToState(props) {\n\t\tconst {properties: {tabsData}} = props;\n\n\t\tif(!tabsData)\n\t\t\treturn;\n\n\t\tconst selectedTab = tabUtils.getSelectedTab(tabsData);\n\t\tconst primaryTab = getModuleTab(tabsData);\n\n\t\tconst primarySubTab = getSelectedTab(primaryTab);\n\t\tconst module = primarySubTab.module;\n\n\t\tif(module.type === constants.MASTER_DETAIL_TARGET){\n\t\t\tthis.showPrimary = primaryTab.collapsed ? false : true;\n\t\t\tthis.showSession = true;\n\t\t} else if(primaryTab.tab_id === selectedTab.tab_id){\n\t\t\tthis.showPrimary = true;\n\t\t\tthis.showSession = false;\n\t\t} else {\n\t\t\tthis.showPrimary = false;\n\t\t\tthis.showSession = true;\n\t\t}\n\n\t\tconst {tabList = []} = selectedTab;\n\t\tthis.hasSubTabs = primaryTab.tab_id !== selectedTab.tab_id && tabList.length > 0;\n\t\tthis.chatPanelData = getChatPanelsData(tabsData);\n\t}\n\n\n\n\t_renderSlot(slotName) {\n\t\tconst {properties: {children}} = this.props;\n\t\treturn react.createSlot(children, slotName);\n\t}\n\n\t_updateSlots() {\n\t\tif (this._navMode === constants.NAVIGATION_MODE_TAB && this.hasSubTabs && this.deferred.subTabs) {\n\t\t\trenderDeferredSlot(this, 'secondary-tabs');\n\t\t\tthis.deferred.subTabs = false;\n\t\t}\n\n\t\tif(this.deferred.content) {\n\t\t\trenderDeferredSlot(this, 'content');\n\t\t\tthis.deferred.content = false;\n\t\t}\n\n\t}\n}\n\nexport default WsMain;\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceMain.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host(sn-workspace-main){height:100%}.sn-workspace-main,.sn-workspace-main-container{display:flex;height:100%;width:100%}.sn-workspace-main{flex:1 1 auto;min-width:0}.sn-workspace-main-sub-tabs{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.sn-workspace-main-sub-tabs-tab-container{display:flex;flex:0 0 auto;position:relative}.sn-workspace-main-sub-tabs-panel{background:RGB(var(--now-color--neutral-0,255,255,255));display:flex;flex:1 1 auto;height:100%;overflow:hidden;position:relative}.sn-workspace-main .chrome-tab-panel{display:none}.sn-workspace-main .chrome-tab-panel.is-active{display:block;height:100%;outline:none}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {preUserRoles} from '../constants/presource.behaviors';\nimport {default as WsPrimaryContent} from './snWorkspacePrimaryContent';\nimport {actionHandlers} from './snWorkspacePrimaryContent.effects';\nimport {getPanelsData} from '../sn-workspace-tabs/snWorkspaceTabs.selectors';\nimport {\n\tgetModuleTab,\n\tgetModuleId,\n\tisModuleTabSelected,\n\tisMasterDetail\n} from '../sn-workspace-tabs/snWorkspaceTabs.moduleTab';\nimport {getSelectedTab} from '../sn-workspace-tabs/snWorkspaceTabs.util';\nimport {tabsDataInitPropBehavior} from '../utils/behaviors/selectableProps.behaviors';\nimport styles from './_snWorkspacePrimaryContent.scss';\n\nexport default createCustomElement('sn-workspace-primary-content', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: WsPrimaryContent\n\t},\n\n\tstyles,\n\n\tbehaviors: [preUserRoles, tabsDataInitPropBehavior],\n\n\tproperties: {\n\t\tmoduleTab: {\n\t\t\tcomputed({properties: {tabsData}}){\n\t\t\t\tif(!tabsData)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn getModuleTab(tabsData);\n\t\t\t}\n\t\t},\n\t\tpanelsData: {\n\t\t\tcomputed({properties: {moduleTab}}){\n\t\t\t\tif(!moduleTab)\n\t\t\t\t\treturn {panels: [], selectedPanelId: null, selectedTabId: '-1'};\n\t\t\t\treturn getPanelsData(moduleTab);\n\t\t\t}\n\t\t},\n\t\tdrilldownContent: {\n\t\t\tcomputed({properties: {moduleTab}}){\n\t\t\t\tif(!moduleTab)\n\t\t\t\t\treturn null;\n\t\t\t\tconst module = getSelectedTab(moduleTab);\n\t\t\t\treturn getSelectedTab(module);\n\t\t\t}\n\t\t},\n\t\tmoduleId: {\n\t\t\tcomputed({properties: {moduleTab}}){\n\t\t\t\tif(!moduleTab)\n\t\t\t\t\treturn null;\n\n\t\t\t\treturn getModuleId(moduleTab)\n\t\t\t},\n\t\t\tselectable: true\n\t\t},\n\t\tactive: {\n\t\t\tcomputed({properties: {tabsData, moduleTab}}){\n\t\t\t\treturn isModuleTabSelected(tabsData) || isMasterDetail(moduleTab);\n\t\t\t}\n\t\t}\n\t},\n\n\tinitialState: {\n\t\tformViews: \"\"\n\t},\n\n\tactionHandlers\n});\n","import React from 'react';\n\nimport ChromeTabPanels from '../internal-components/chrome-tab-panels/chromeTabPanels';\n\nimport {getWorkspaceViews,isNavModeTab} from '../constants/ws_config';\nimport {preUserRoles, getBehaviorProp} from '../constants/presource.behaviors';\nimport {FORM_VIEW_UPDATED, ACTIVE_PANEL_RENDERED} from '../constants/constants';\n\nimport {t} from 'sn-translate';\n\nimport '@servicenow/now-button';\n\nclass WsPrimaryContent extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentWillMount() {\n\t\tthis._setFormViews(this.props);\n\t}\n\n\t_setFormViews(props){\n\t\tconst agentRoles = getBehaviorProp(props, preUserRoles.name);\n\t\tif (!agentRoles || this.props.formViews.length )\n\t\t\treturn;\n\n\t\tconst formViews = getWorkspaceViews(agentRoles);\n\t\tif (formViews != this.props.formViews)\n\t\t\tthis.props.dispatch(FORM_VIEW_UPDATED, {formViews});\n\t}\n\n\trenderBackButton = drilldownContent =>\n\t\t(drilldownContent && isNavModeTab()) ?\n\t\t\t(<now-button className=\"sn-primary-back-button\" bare icon-name=\"arrow-left-outline\" label={t('Back')} size=\"md\" variant=\"tertiary\" append-to-payload={{drilldownContent}}></now-button>) :\n\t\t\tnull;\n\n\trender() {\n\t\tconst {formViews, dispatch} = this.props;\n\t\tconst {properties: {panelsData, drilldownContent, active}} = this.props;\n\t\tconst {panels} = panelsData;\n\t\tif (panels.length < 1)\n\t\t\treturn null;\n\t\tif (active) {\n\t\t\tdispatch(ACTIVE_PANEL_RENDERED, {panelsData, isPrimaryContent : true});\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.renderBackButton(drilldownContent)}\n\t\t\t\t<div className={'primary-content-tab-panels'}>\n\t\t\t\t\t<ChromeTabPanels panelsData={panelsData} isPrimary={true} formViews={formViews} active={active}/>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default WsPrimaryContent;\n","import {CLOSE_TAB,\n\tEDS_BUTTON_CLICKED,\n\tFORM_VIEW_UPDATED} from \"../constants/constants\";\nimport { createUpdateStateEffect } from \"@servicenow/ui-effect-update-state\";\n\n\nexport function onContentDrillUpEffect(coeffects) {\n\tconst {action, dispatch} = coeffects;\n\tconst {drilldownContent} = action.payload;\n\n\tif (!drilldownContent)\n\t\treturn;\n\n\tdispatch(CLOSE_TAB, {tab_id:drilldownContent.tab_id});\n}\n\nexport const actionHandlers = {\n\t[EDS_BUTTON_CLICKED]: onContentDrillUpEffect,\n\n\t[FORM_VIEW_UPDATED]: createUpdateStateEffect((state, {payload: {formViews}}) => {\n\t\treturn {...state, formViews};\n\t})\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspacePrimaryContent.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.chrome-tab-panel-list{height:100%;width:100%}.chrome-tab-panel{display:none}.chrome-tab-panel.is-active{display:block;height:100%;outline:none}.chrome-tab-panel.is-active.slide-in{animation:tab-panel-slide .5s forwards;transition-timing-function:ease-in-out;width:0}@keyframes tab-panel-slide{to{width:100%}}:host(sn-workspace-primary-content){height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column}.sn-primary-back-button{padding:.25rem}.primary-content-tab-panels{display:flex;flex:1 1 100%;overflow:auto}\", \"\"]);\n\n// exports\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport {preUserData} from '../constants/presource.behaviors';\nimport styles from './_snWorkspaceHome.scss';\n\nimport { default as snWorkspaceHome} from './snWorkspaceHome';\nimport {actionHandlers, getHintTitle} from './snWorkspaceHome.actions.js';\nimport {t} from 'sn-translate';\n\nexport default createCustomElement('sn-workspace-home', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: snWorkspaceHome\n\t},\n\n\tstyles,\n\n\tbehaviors: [preUserData],\n\n\tactionHandlers,\n\n\tinitialState: {\n\t\tlogin_time: '',\n\t\tgreetings: '',\n\t\tshowHints: false\n\t},\n\n\tproperties: {\n\t\ttoggleHintTitle: {\n\t\t\tcomputed: ({showHints}) => showHints ? t('Hide Hints') : t('Show Hints')\n\t\t}\n\t}\n});\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceHome.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-btn{width:auto;height:32px;align-items:center;background:transparent;border:1px solid transparent;border-radius:2px;cursor:pointer;display:inline-flex;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;justify-content:center;line-height:1.2;padding:0 16px;position:relative}.sn-btn:focus{outline:none}.sn-btn.has-icon{padding:0 8px}.sn-btn.has-avatar{padding:0 4px}.sn-select .sn-control--controls .sn-btn.is-last-child,.sn-select .sn-control--controls .sn-btn:last-child{margin:0 -4px 0 0}.sn-btn.is-disabled{cursor:default;opacity:.5}.sn-btn.is-next-to-tab-group{margin:0 0 0 8px}.sn-btn.is-updated{background:#b5dde5;color:#2e2e2e}.sn-btn.is-updated.is-hover,.sn-btn.is-updated:hover{background:#d5ecf0;border-color:#b5dde5}.sn-btn.is-updated.is-focus,.sn-btn.is-updated:focus{background:#d5ecf0;border-color:#6abecf}.sn-btn__fw{width:100%}.sn-btn__lg{font-size:16px;height:40px;padding:0 24px}.sn-btn__lg.sn-btn.has-avatar{padding:0 4px}.sn-btn__lg.sn-btn__icon{width:40px;height:40px}.sn-btn__sm{font-size:12px;height:24px;padding:0 8px}.sn-btn__sm.sn-btn__icon{width:24px;height:24px}.sn-btn__xs{border-radius:2px;font-size:10px;height:10px;padding:0 4px}.sn-btn__xs.sn-btn__icon{width:12px;height:12px}.sn-btn__icon{width:32px;height:32px;flex:0 0 auto;padding:0}.sn-btn__contrast-borderless{background:transparent;color:#4a4a4a}.sn-btn__contrast-borderless.is-hover,.sn-btn__contrast-borderless:hover{background:rgba(0,0,0,.1)}.sn-btn__contrast-borderless.is-focus,.sn-btn__contrast-borderless:focus{background:rgba(0,0,0,.1);border-color:#192628}.sn-btn__contrast-borderless.is-active,.sn-btn__contrast-borderless:active{background:rgba(0,0,0,.3)}.sn-btn__contrast-borderless.is-disabled{background:transparent}.sn-tab__meta .sn-btn__contrast-borderless{color:#fff}.sn-tab__meta .sn-btn__contrast-borderless.is-focus,.sn-tab__meta .sn-btn__contrast-borderless:focus{border-color:#1f8476}.sn-tab__meta.is-selected .sn-btn__contrast-borderless{color:#4a4a4a}.sn-btn__dark{background:#192628;border-bottom:1px solid #090e10;color:#fafafa}.sn-btn__dark.is-hover,.sn-btn__dark:hover{background:#090e10}.sn-btn__dark.is-focus,.sn-btn__dark:focus{background:#090e10;border:1px solid #4a4a4a}.sn-btn__dark.is-active,.sn-btn__dark:active{background:#213234;border-color:#090e10}.sn-btn__dark.is-disabled{background:#192628;border-bottom:1px solid #090e10}.sn-btn__dark-borderless{background:transparent;color:#fafafa}.sn-btn__dark-borderless.is-hover,.sn-btn__dark-borderless:hover{background:#090e10}.sn-btn__dark-borderless.is-focus,.sn-btn__dark-borderless:focus{background:#090e10;border:1px solid #4a4a4a}.sn-btn__dark-borderless.is-active,.sn-btn__dark-borderless:active{background:#213234}.sn-btn__dark-borderless.is-disabled{background:transparent}.sn-btn__default{background:#f1f1f1;border-bottom:1px solid #cbcbcb;color:#4a4a4a}.sn-btn__default.is-hover,.sn-btn__default:hover{background:#fafafa}.sn-btn__default.is-focus,.sn-btn__default:focus{background:#fafafa;border:1px solid #cbcbcb}.sn-btn__default.is-active,.sn-btn__default:active{background:#cbcbcb;border-color:#f1f1f1}.sn-btn__default.is-disabled{background:#f1f1f1;border-bottom:1px solid #cbcbcb}.sn-btn__default-borderless{background:transparent;color:#4a4a4a}.sn-btn__default-borderless.is-hover,.sn-btn__default-borderless:hover{background:#dbf0eb}.sn-btn__default-borderless.is-focus,.sn-btn__default-borderless:focus{background:rgba(184,224,215,.5);border:1px solid #1f8476}.sn-btn__default-borderless.is-active,.sn-btn__default-borderless:active{background:#b8e0d7}.sn-btn__default-borderless.is-disabled{background:transparent}.sn-agent-assist--filter--header .sn-btn__default-borderless{overflow:hidden}.sn-agent-assist--filter--header .sn-btn__default-borderless span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-btn__default-card{background:transparent;color:#4a4a4a}.sn-btn__default-card.is-hover,.sn-btn__default-card:hover{background:rgba(0,0,0,.1)}.sn-btn__default-card.is-focus,.sn-btn__default-card:focus{background:rgba(0,0,0,.1);border:1px solid #1f8476}.sn-btn__default-card.is-active,.sn-btn__default-card:active{background:rgba(0,0,0,.3)}.sn-btn__default-card.is-disabled{background:transparent}.sn-btn__default-control{width:20px;height:20px;background:transparent;color:#4a4a4a;padding:0}.sn-btn__default-control.is-hover,.sn-btn__default-control:hover{background:rgba(0,0,0,.1)}.sn-btn__default-control.is-focus,.sn-btn__default-control:focus{background:rgba(0,0,0,.1);border:1px solid #4a4a4a}.sn-btn__default-control.is-active,.sn-btn__default-control:active{background:rgba(0,0,0,.3)}.sn-btn__default-control.is-disabled{background:transparent}.sn-typeahead .sn-btn__default-control{color:#fff}.sn-typeahead .sn-btn__default-control.is-hover,.sn-typeahead .sn-btn__default-control:hover{background:rgba(0,0,0,.2)}.sn-typeahead .sn-btn__default-control.is-focus,.sn-typeahead .sn-btn__default-control:focus{color:#1f8476}.sn-btn__default-tab{background:#e6e9eb;border-radius:50%;color:#2e2e2e}.sn-btn__default-tab.is-hover,.sn-btn__default-tab:hover{background:#a7b0b2;border-color:#f1f1f1}.sn-btn__default-tab.is-focus,.sn-btn__default-tab:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__default-tab.is-disabled{background:#e6e9eb;color:#2e2e2e}.sn-btn__default-tab-borderless{color:#2e2e2e}.sn-btn__default-tab-borderless.is-activated{background:#e6e9eb}.sn-btn__default-tab-borderless.is-hover,.sn-btn__default-tab-borderless:hover{background:#a7b0b2;border-color:#f1f1f1}.sn-btn__default-tab-borderless.is-focus,.sn-btn__default-tab-borderless:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__default-tab-borderless.is-disabled{background:#e6e9eb;color:#2e2e2e}.sn-btn__destructive{background:#c83c36;border-bottom:1px solid #c83c36;color:#fff}.sn-btn__destructive.is-hover,.sn-btn__destructive:hover{background:#fc726d}.sn-btn__destructive.is-focus,.sn-btn__destructive:focus{background:#fc726d;border:1px solid #c83c36}.sn-btn__destructive.is-active,.sn-btn__destructive:active{background:#c83c36;border-color:#fc726d}.sn-btn__destructive.is-disabled{background:#c83c36;border-bottom:1px solid #c83c36}.sn-btn__meta-tab{background:rgba(167,176,178,.65);border-radius:50%;color:#090e10}.sn-btn__meta-tab.is-hover,.sn-btn__meta-tab:hover{background:#a7b0b2}.sn-btn__meta-tab.is-focus,.sn-btn__meta-tab:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__meta-tab.is-disabled{background:rgba(167,176,178,.65);color:#090e10}.sn-btn__meta-tab-borderless{color:#090e10}.sn-btn__meta-tab-borderless.is-activated{background:rgba(167,176,178,.65)}.sn-btn__meta-tab-borderless.is-hover,.sn-btn__meta-tab-borderless:hover{background:#a7b0b2}.sn-btn__meta-tab-borderless.is-focus,.sn-btn__meta-tab-borderless:focus{background:#a7b0b2;border-color:#54ac98}.sn-btn__meta-tab-borderless.is-disabled{background:rgba(167,176,178,.65);color:#090e10}.sn-btn__primary{background:#1f8476;border-bottom:1px solid #1f8476;color:#fff}.sn-btn__primary.is-hover,.sn-btn__primary:hover{background:#5fbaa4}.sn-btn__primary.is-focus,.sn-btn__primary:focus{background:#5fbaa4;border:1px solid #1f8476}.sn-btn__primary.is-active,.sn-btn__primary:active{background:#1f8476;border-color:#5fbaa4}.sn-btn__primary.is-disabled{background:#1f8476;border-bottom:1px solid #1f8476}.sn-btn__primary-chrome{background:transparent;border:1px solid transparent;color:#fff}.sn-btn__primary-chrome.is-hover,.sn-btn__primary-chrome:hover{background:#165c53}.sn-panel.mod-alert-tray .sn-btn__primary-chrome.is-hover,.sn-panel.mod-alert-tray .sn-btn__primary-chrome:hover{background:#213234}.sn-btn__primary-chrome.is-focus,.sn-btn__primary-chrome:focus{background:#10423b;border-color:#1f8476}.sn-btn__primary-chrome.is-active,.sn-btn__primary-chrome:active{background:#1f8476}.sn-btn__primary-chrome.is-disabled{background:transparent;color:#fff}.sn-chrome-aside .sn-btn__primary-chrome{color:#10423b;border-radius:50%}.sn-chrome-aside .sn-btn__primary-chrome.is-hover,.sn-chrome-aside .sn-btn__primary-chrome:hover{background:#1f8476;color:#fff}.sn-chrome-aside .sn-btn__primary-chrome.is-focus,.sn-chrome-aside .sn-btn__primary-chrome:focus{background:#10423b;color:#fff}.sn-typeahead .sn-btn__primary-chrome{margin-left:0}.sn-btn__primary-tab{background:#82c9b8;color:#165c53}.sn-btn__primary-tab.is-focus,.sn-btn__primary-tab.is-hover,.sn-btn__primary-tab:focus,.sn-btn__primary-tab:hover{background:#1f8476;color:#fff}.sn-btn__primary-tab-borderless,.sn-btn__primary-tab.is-disabled{background:transparent;color:#dbf0eb}.sn-btn__primary-tab-borderless.is-focus,.sn-btn__primary-tab-borderless.is-hover,.sn-btn__primary-tab-borderless:focus,.sn-btn__primary-tab-borderless:hover{background:#1f8476;color:#fff}.sn-btn__primary-tab-borderless.is-disabled{background:transparent;color:#dbf0eb}.sn-btn__success{background:#48c891;border-bottom:1px solid #38a074;color:#1e4335}.sn-btn__success.is-hover,.sn-btn__success:hover{background:#27c48a}.sn-btn__success.is-focus,.sn-btn__success:focus{background:#27c48a;border:1px solid #38a074}.sn-btn__success.is-active,.sn-btn__success:active{background:#326f57;border-color:#27c48a;color:#fff}.sn-btn__success.is-disabled{background:#48c891;border-bottom:1px solid #38a074}.sn-btn__url{color:#1f8476;height:28px;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:0 2px}.sn-btn__url.is-hover,.sn-btn__url:hover{color:#10423b;background:#dbf0eb}.sn-btn__url span{margin-top:-3px}.sn-as--form .sn-btn{float:right;margin:8px 0 0}.sn-as--tabs .sn-btn{margin:0 0 0 4px}.sn-alert .sn-btn{right:16px;position:absolute}.sn-alert .sn-btn.is-hover,.sn-alert .sn-btn:hover{background:rgba(0,0,0,.07)}.sn-alert .sn-btn.is-active,.sn-alert .sn-btn:active{background:rgba(0,0,0,.1)}.sn-alert__danger .sn-btn{color:#c83c36}.sn-alert__danger .sn-btn.is-focus,.sn-alert__danger .sn-btn:focus{border-color:#fc8d8a}.sn-alert__primary .sn-btn{color:#6abecf}.sn-alert__primary .sn-btn.is-focus,.sn-alert__primary .sn-btn:focus{border-color:#a7d4df}.sn-alert__success .sn-btn{color:#48c891}.sn-alert__success .sn-btn.is-focus,.sn-alert__success .sn-btn:focus{border-color:#84e3bc}.sn-alert__warning .sn-btn{color:#dfd139}.sn-alert__warning .sn-btn.is-focus,.sn-alert__warning .sn-btn:focus{border-color:#e8a679}.sn-attachments--content .sn-btn{margin-left:4px}.sn-breadcrumbs-container .sn-btn:first-child{margin:0 4px 0 0}.sn-btn-group .sn-btn{border-radius:0;border-width:0 0 1px}.sn-btn-group .sn-btn.is-focus,.sn-btn-group .sn-btn.is-hover,.sn-btn-group .sn-btn:focus,.sn-btn-group .sn-btn:hover{z-index:1}.sn-btn-group .sn-btn.is-first-of-type,.sn-btn-group .sn-btn:first-of-type{border-radius:2px 0 0 2px}.sn-btn-group .sn-btn.is-last-of-type,.sn-btn-group .sn-btn:last-of-type{border-radius:0 2px 2px 0}.sn-card--header .sn-btn{margin:0 0 0 8px}.sn-card--footer .sn-btn{flex:1 1 auto;max-width:100%;margin-right:8px}.sn-card--footer .sn-btn:last-of-type{margin-right:0}.sn-list-group.mod-chat-queue-transfer .sn-btn{flex:1 1 auto;margin:0 4px}.sn-chat-queue--overflow .sn-btn,sn-chat-overflow .sn-btn{border-radius:4px 4px 0 0}.sn-chrome-header--content .sn-btn{margin:0 0 0 4px}.sn-control--controls .sn-btn{margin:0 2px 0 0}.sn-control--controls .sn-btn.is-last-child,.sn-control--controls .sn-btn:last-child{margin:0 8px 0 0}.sn-control-group__combined .sn-control--controls .sn-btn{margin:0}.sn-datepicker--header--content .sn-btn.is-first-of-type,.sn-datepicker--header--content .sn-btn:first-of-type{margin:0 8px 0 0}.sn-form-header--content .sn-btn{margin-left:4px}.sn-form--row .sn-btn{margin-left:8px}.sn-list-header--content .sn-btn{margin:0 0 0 8px}.sn-list-group--actions .sn-btn{margin-left:2px}.sn-modal--content .sn-btn{margin:0 0 0 8px}.sn-modal--content .sn-btn.is-first-of-type,.sn-modal--content .sn-btn:first-of-type{margin:0}.sn-pagination .sn-btn{flex:0 0 auto;margin:0}.sn-pagination .sn-btn.is-nth-of-type-odd,.sn-pagination .sn-btn:nth-of-type(odd){margin:0 4px 0 0}.sn-panel--header .sn-btn{margin-left:8px}.sn-panel--header .sn-btn:first-child,.sn-panel--header .sn-search .sn-btn{margin-left:0}.sn-popover--footer .sn-btn{flex:1 1 100%;margin-left:8px}.sn-popover--footer .sn-btn:first-of-type{margin-left:0}.sn-popover--footer .sn-btn:only-child{max-width:240px}.sn-popover--header--content .sn-btn{background:transparent;color:#1f8476}.sn-popover--footer--content .sn-btn{flex:0 1 50%}.sn-section--footer .sn-btn{margin:0 0 0 8px}.sn-section--footer .sn-btn.is-last-child,.sn-section--footer .sn-btn:last-child{margin:0}.sn-slider .sn-btn{top:calc(40vh - 32px);left:0;position:absolute}.sn-slider .sn-btn:last-of-type{left:auto;right:0}.sn-widget .sn-slider .sn-btn:focus,.sn-widget:hover .sn-slider .sn-btn{opacity:1}.sn-templates--content .sn-btn{margin-left:4px}.sn-typeahead__open-left .sn-btn.is-focus,.sn-typeahead__open-left .sn-btn.is-selected,.sn-typeahead__open-left .sn-btn:focus{border-radius:0 2px 2px 0}.sn-typeahead__open-left .sn-btn.is-focus+.sn-control,.sn-typeahead__open-left .sn-btn.is-selected+.sn-control,.sn-typeahead__open-left .sn-btn:focus+.sn-control{padding:0 0 0 16px}.sn-typeahead__open-left .sn-btn:last-of-type{margin-left:0}.sn-widget .sn-slider .sn-btn{margin-top:-12px;opacity:0;top:50%}.sn-agent-assist--slider .sn-btn{top:50%;left:0;position:absolute;opacity:0;z-index:1}.sn-btn--icon{align-items:center;display:inline-flex;height:30px;justify-content:center;line-height:1;padding:0 4px 0 0}.sn-btn.has-segment .sn-btn--icon{border-left:1px solid transparent;margin:0 0 0 8px;padding:0 0 0 8px}.sn-btn.has-segment:active .sn-btn--icon,.sn-btn.has-segment:focus .sn-btn--icon,.sn-btn.has-segment:hover .sn-btn--icon{border-color:inherit}.sn-btn.has-segment.sn-btn__default .sn-btn--icon{border-color:#cbcbcb}.sn-btn__icon .sn-btn--icon{padding:0}.sn-btn__sm .sn-btn--icon{height:24px}.sn-btn__url .sn-btn--icon{height:28px;padding:0 0 0 4px}.sn-btn>span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-btn-group,.sn-btn-separator{display:inline-flex}.sn-btn-separator{width:17px;height:32px;align-items:center;justify-content:center}.sn-btn-separator:after{width:1px;height:16px;background-color:#cbcbcb;content:\\\"\\\"}.sn-url{align-items:center;color:#1f8476;cursor:pointer;display:inline-flex;font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;line-height:1.2;text-decoration:none}.sn-url:focus{outline:none}.sn-url.is-focus span,.sn-url.is-hover span,.sn-url:focus span,.sn-url:hover span{text-decoration:underline}.sn-url.mod-strong{font:16px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-url.mod-fw{justify-content:center;width:100%}.sn-url__dark{color:#4a4a4a}.sn-url__xs{font-size:12px}.sn-url__sm{font-size:14px}.sn-as-return .sn-url{background:#1f8476;border-radius:12px;color:#fff;font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;margin:8px 0 0;padding:4px 8px;text-decoration:none}.sn-as--filter--content .sn-url{font-size:14px;margin:0 8px 0 0}.sn-agent-assist--filter--header .sn-url{font-size:14px;margin-right:8px}.sn-agent-assist--filter--header .sn-url.is-last-of-type,.sn-agent-assist--filter--header .sn-url:last-of-type{margin-right:0}.sn-breadcrumbs .sn-url{color:#4a4a4a;font-size:14px}.sn-breadcrumbs .sn-url:focus{color:#1f8476}.sn-breadcrumbs .sn-url.is-selected,.sn-card__recommendation .sn-url{font-family:Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-card__recommendation .sn-url{color:#488796}.sn-card--header .sn-url{margin:0 0 0 8px}.sn-control--field .sn-url{flex:1 1 auto;height:32px;margin:-4px 0 0;padding:0 8px}.sn-control--field .sn-url.has-multiline{height:auto;margin:0;padding-top:4px;word-break:break-all}.sn-control--field .sn-url span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-control--field .sn-url+.sn-input{display:none}.sn-card .sn-url{font-size:14px}.sn-cti--header--content .sn-url{color:#fff}.sn-hierarchy--tree .sn-url{color:#666;margin:0 8px 0 0}.sn-hierarchy--tree .sn-url.is-hover,.sn-hierarchy--tree .sn-url:hover{color:#2e2e2e}.sn-list .sn-url{color:#165c53}.sn-list-table--header .sn-url{color:#293e40;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-list-table--header .sn-url sn-icon{color:#54ac98}.sn-list-table--header .sn-url.is-hover sn-icon,.sn-list-table--header .sn-url:hover sn-icon{background:#f1f1f1}.sn-list-table--header .sn-url.is-focus sn-icon,.sn-list-table--header .sn-url:focus sn-icon{background-color:#f1f1f1;border:1px solid #cbcbcb}.sn-list-group--header .sn-url{font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}.sn-panel--header .sn-url{margin-left:8px}.context-spm-menu .sn-list-nav .sn-url,.sn-panel.mod-spm-menu .sn-list-nav .sn-url{padding:0 8px 0 4px}.context-spm-menu .sn-url,.sn-panel.mod-spm-menu .sn-url{color:#4a4a4a;margin-left:0;padding-right:8px;width:100%}.context-spm-menu .sn-url.is-focus,.context-spm-menu .sn-url:focus,.sn-panel.mod-spm-menu .sn-url.is-focus,.sn-panel.mod-spm-menu .sn-url:focus{color:#1f8476}.context-spm-menu .sn-url span,.sn-panel.mod-spm-menu .sn-url span{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-panel.mod-alert-tray .sn-url{color:#b8e0d7}.sn-typeahead .sn-popover--footer .sn-url{justify-content:center;font:14px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif;padding:16px;width:100%}.sn-widget--table--content .sn-url{width:100%}.sn-widget--table--content .sn-url>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sn-widget--user-name .sn-url{margin-left:4px;flex:0 0 auto}.sn-widget .sn-list--condensed .sn-url{font:12px Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif}*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-homepage{width:100%;height:100%;background:#293e40;display:flex;justify-content:center;min-height:574px;overflow:hidden;position:relative}.sn-homepage--background{top:-10px;right:-10px;bottom:-10px;left:-10px;position:absolute;background-position:50%;background-repeat:no-repeat;background-size:cover}.sn-homepage--background:after{top:0;right:0;bottom:0;left:0;position:absolute;background:rgba(0,0,0,.73);content:\\\"\\\"}.sn-homepage--body{align-items:center;color:#fff;display:flex;flex-direction:column;font-weight:400;font-size:1.5rem;justify-content:flex-end;text-align:center;z-index:1}.sn-homepage--callout-bottom-left{bottom:28px;left:8px;position:absolute;z-index:1}.sn-homepage--callout-bottom-right{right:8px;bottom:8px;position:absolute;z-index:1}.sn-homepage--callout-top-left{top:16px;left:16px;position:absolute;z-index:1}.sn-homepage--callout-top-right{top:8px;right:8px;position:absolute;z-index:1}.sn-homepage--callout-middle-right{top:calc(50% - 187px);right:16px;position:absolute}.sn-homepage--feedback a{text-decoration:none;color:#4a4a4a}.sn-homepage--feedback a::-moz-focus-inner{border-style:none}.sn-homepage--feedback a:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-homepage--feedback span{display:block;margin-bottom:8px}.sn-homepage--feedback .sn-btn{margin-bottom:16px}.sn-homepage--feedback .sn-url{color:#b8e0d7;display:block}.sn-homepage--headline{align-items:center;display:flex;flex:1 1 15%;flex-direction:column}.sn-homepage--headline--version{margin-bottom:16px}.sn-homepage--time{flex:0 0 10%;opacity:.5}.sn-homepage--username{flex:0 0 40%;font-size:64px}:host{height:100%;width:100%;overflow:hidden}.sn-homepage{min-width:0}.sn-homepage--background{background-image:url(/styles/images/aws-chrome-homepage-bg.jpg)}.sn-homepage--body{padding:220px 60px 44px 44px}.sn-homepage--toggle_hints a{color:#ffdb85}.sn-homepage .hints_hide{visibility:hidden}.sn-homepage .activitylog ul li{list-style:none;font-size:10px;text-align:left}\", \"\"]);\n\n// exports\n","import React from 'react';\nimport {t} from 'sn-translate';\n\nimport {preUserData, getBehaviorProp} from '../constants/presource.behaviors';\n\n\nimport {USER_INFO_ACTIONS} from './snWorkspaceHome.actions';\nimport {HOME_PAGE_HINTS_TOGGLED} from '../constants/constants';\n\nclass SnWorkspaceHome extends React.PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst wsUserData = getBehaviorProp(this.props, preUserData.name);\n\t\tthis.props.dispatch(USER_INFO_ACTIONS.USER_INFO_INIT, wsUserData);\n\t}\n\n\trenderHints = (showHints) => {\n\t\tlet hide = showHints ? '' : '_hide';\n\t\treturn (\n\t\t\t<div className={'hints' + hide}>\n\t\t\t\t<div className=\"sn-homepage--callout-top-left\">\n\t\t\t\t\t<img src=\"/styles/images/aws-chrome-homepage-callout-top-left.svg\" alt={t('Hint: Click the plus button to create a record.')} />\n\t\t\t\t</div>,\n\t\t\t\t<div className=\"sn-homepage--callout-middle-right\">\n\t\t\t\t\t<img src=\"/styles/images/aws-chrome-homepage-callout-top-right.svg\" alt={t('Hint: Use the Sidebar for contextual info from Agent Assist, Attachments, and Templates.')} />\n\t\t\t\t</div>,\n\t\t\t\t<div className=\"sn-homepage--callout-bottom-right\"></div>\n\t\t\t\t<div className=\"sn-homepage--callout-bottom-left\"></div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tonToggleHints = (e) => {\n\t\te.preventDefault();\n\t\tthis.props.dispatch(HOME_PAGE_HINTS_TOGGLED);\n\t};\n\n\trenderTesters(isDebug) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<button onClick={() => {this.props.dispatch('ITEM_SELECTED', {renderer_type:'layout', title:'My List', params:{listId: \"9628a6ebac9bb34efc4b063b330300a2\"}} );}}> View List </button>\n\t\t\t\t<button onClick={() => {this.props.dispatch('ITEM_SELECTED', {table: 'incident', parent_table: 'incident', sys_id: '57af7aec73d423002728660c4cf6a71c', parent_sys_id: '57af7aec73d423002728660c4cf6a71c'} );}}> Open Incident </button>\n\t\t\t\t<button onClick={() => {this.props.dispatch('ITEM_SELECTED', {table: 'kb_knowledge', sys_id: '0b48fd75474321009db4b5b08b9a71c2'});}}> View KB Article </button>\n\t\t\t\t<button onClick={() => {this.props.dispatch('ITEM_SELECTED', {renderer_type:'search', title: 'Search Results', params:{term:'iphone'}});}}> Search </button>\n\t\t\t\t<button onClick={() => {this.props.dispatch('PREVIEW_RECORD', {table: 'kb_knowledge', sys_id: '0b48fd75474321009db4b5b08b9a71c2'} );}}> Preview Open </button>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { properties: {toggleHintTitle}} = this.props;\n\t\tconst { login_time, greetings, showHints } = this.props;\n\t\treturn (\n\t\t\t<div className=\"sn-homepage\">\n\t\t\t\t<div className=\"sn-homepage--background\"></div>\n\t\t\t\t<div className=\"sn-homepage--body\">\n\t\t\t\t\t<div className=\"sn-homepage--time\">\n\t\t\t\t\t\t<span>{login_time}<br/></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sn-homepage--username\">\n\t\t\t\t\t\t<span>{greetings}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sn-homepage--headline\">\n\t\t\t\t\t\t<div className=\"sn-homepage--headline--version\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"sn-homepage--feedback\">\n\t\t\t\t\t\t<a href=\"#\" className=\"sn-url\" onClick={this.onToggleHints} >\n\t\t\t\t\t\t\t<span>{toggleHintTitle}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{this.renderTesters(false)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{this.renderHints(showHints)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSnWorkspaceHome.propTypes = {\n};\n\nexport default SnWorkspaceHome;\n","const SHOW_HINTS_KEY = 'showHints';\n\nfunction loadShowHintsMap(){\n\ttry {\n\t\tconst showHintsJson = window.localStorage.getItem(SHOW_HINTS_KEY);\n\t\tif(!showHintsJson)\n\t\t\treturn null;\n\n\t\treturn JSON.parse(showHintsJson);\n\t} catch(e){\n\t\treturn null;\n\t}\n}\n\nexport function loadShowHintsForUser(userSysId, defValue = true){\n\ttry{\n\t\tconst showHintsMap = loadShowHintsMap();\n\t\tif(!showHintsMap || typeof showHintsMap !== 'object' || !showHintsMap.hasOwnProperty(userSysId))\n\t\t\treturn defValue;\n\n\t\treturn showHintsMap[userSysId]\n\t} catch(e){\n\t\treturn defValue;\n\t}\n}\n\nexport function saveShowHintsForUser(userSysId, showHints){\n\ttry {\n\t\tconst showHintsMap = loadShowHintsMap() || {};\n\t\tconst showHintsJson = JSON.stringify({...showHintsMap, [userSysId]: showHints});\n\t\twindow.localStorage.setItem(SHOW_HINTS_KEY, showHintsJson);\n\t}catch(e){\n\t\treturn;\n\t}\n}\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport styles from './_snWorkspaceToolbarButton.scss';\n\nimport {default as SnWorkspaceToolbarButton} from './snWorkspaceToolbarButton';\n\nexport default createCustomElement('sn-workspace-toolbar-button', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: SnWorkspaceToolbarButton\n\t},\n\n\tstyles,\n\n\tproperties: {\n\t\tid: {\n\t\t\tdefault: null,\n\t\t\treflect: true\n\t\t},\n\t\tmoduleId: {\n\t\t\tdefault: null,\n\t\t\treflect: true\n\t\t},\n\t\tonClickBtn: {\n\t\t\tdefault: null\n\t\t},\n\t\ticon: {\n\t\t\tdefault: null,\n\t\t\treflect: true\n\t\t},\n\t\tlabel: {\n\t\t\tdefault: null,\n\t\t\treflect: true\n\t\t},\n\t\tisSelected: {\n\t\t\tdefault: false\n\t\t},\n\t\tisHighlighted: {\n\t\t\tdefault: false\n\t\t},\n\t\tbtn: {\n\t\t\tdefault: null\n\t\t}\n\t},\n});\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_snWorkspaceToolbarButton.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*,:host{box-sizing:border-box}:host{line-height:1.25;font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}.sn-workspace-toolbar-button{align-items:center;background:transparent;border:none;color:RGB(var(--now-color--neutral-4,191,197,198));cursor:pointer;display:flex;flex:0 0 auto;flex-direction:column;font-size:1rem;height:3rem;padding:0;position:relative;width:3rem;z-index:1}.sn-workspace-toolbar-button::-moz-focus-inner{border-style:none}.sn-workspace-toolbar-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.sn-workspace-toolbar-button.is-hover,.sn-workspace-toolbar-button:hover{background:RGBA(var(--now-color--primary-1,30,133,109),.5)}.sn-workspace-toolbar-button.is-selected{background:RGB(var(--now-color--primary-1,30,133,109));color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-workspace-toolbar-button-content{align-items:center;display:inline-flex;flex:1 1 auto;justify-content:center;overflow:hidden;position:relative;width:100%}.sn-workspace-toolbar-button>.sn-presence-dot{position:absolute;left:.25rem;top:.5rem}.sn-workspace-toolbar-button>now-badge{min-width:auto;position:absolute;right:.125rem;top:0}.sn-presence-dot{border-radius:50%;border:1px solid rgb(var(--now-color--neutral-0,255,255,255));display:inline-flex;flex:0 0 auto;height:.625rem;position:relative;width:.625rem}.sn-presence-dot.is-available-partial{background-color:RGB(var(--now-color--neutral-0,255,255,255))}.sn-presence-dot.is-available{background-color:RGB(var(--now-color--presence-available,75,166,107))}.sn-presence-dot.is-away{background-color:RGB(var(--now-color--presence-away,226,121,24))}.sn-presence-dot.is-busy{background-color:RGB(var(--now-color--presence-busy,234,60,16))}.sn-presence-dot.is-offline{background-color:RGB(var(--now-color--presence-offline,135,147,148))}.sn-presence-dot.is-available-partial{box-shadow:RGB(var(--now-color--presence-available,75,166,107)) 0 0 0 2px inset}.sn-presence-dot.is-changes,.sn-presence-dot.is-informative{background:#1f8476}.sn-presence-dot.is-error{background:#e65651}.sn-presence-dot.is-hidden{opacity:0}.sn-presence-dot.is-inactive{opacity:.4}.sn-presence-dot.is-unsaved{background:transparent;border:1px solid #a7b0b2}now-tooltip{display:block}\", \"\"]);\n\n// exports\n","import  React, {Component} from 'react';\nimport {t} from 'sn-translate';\nimport {getStatusClassName} from \"../sn-workspace-toolbar/config\";\nimport {positionMap} from \"../sn-workspace-toolbar/snWorkspaceToolbar.util\";\nimport {validateSysProps} from \"./snWorkspaceToolbarButton.util\";\nimport {WIN_TARGET} from \"../constants/constants\";\nimport '@servicenow/now-icon';\nimport '@servicenow/now-badge';\nimport '@servicenow/now-tooltip';\nimport isEqual from 'lodash/isEqual';\n\n\nclass ToolbarButton extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst {properties: {isSelected, isHighlighted, btn}} = props;\n\n\t\tthis.state = {\n\t\t\tisSelected,\n\t\t\tisHighlighted,\n\t\t\tshow: btn ? btn.show : false,\n\t\t\tbtn,\n\t\t\telem:''\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst {properties: {btn}} = this.props;\n\n\t\tif (!btn)\n\t\t\treturn;\n\n\t\tconst {id, type} = btn;\n\t\tconst {elem} = this;\n\t\tif (elem && type === WIN_TARGET)\n\t\t\tpositionMap.set(id, this.elem.getBoundingClientRect());\n\t}\n\n\thandleClick = e => this.props.properties.onClickBtn(this.props.properties.btn, e, this.elem);\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t// set focus on keyboard navigation of the menu through the isHighlighted prop\n\t\tconst {properties: {isSelected, isHighlighted, btn}} = nextProps;\n\t\tconst {properties: {isSelected: prevIsSelected, isHighlighted: prevIsHighlighted, btn: prevBtn}} = this.props;\n\n\t\tif (!isEqual(btn, prevBtn)) {\n\t\t\tconst shouldShow = validateSysProps(btn) && btn.show;\n\t\t\tlet newState = {btn};\n\n\t\t\tif (this.state.show !== shouldShow)\n\t\t\t\tnewState['show'] = shouldShow;\n\n\t\t\tthis.setState({...newState});\n\t\t}\n\n\t\tif (this.elem && isHighlighted !== prevIsHighlighted) {\n\t\t\tif (isHighlighted)\n\t\t\t\tthis.elem.focus();\n\n\t\t\tthis.setState({isHighlighted});\n\t\t}\n\n\t\tif (this.elem && isSelected !== prevIsSelected) {\n\t\t\tif (isSelected)\n\t\t\t\tthis.elem.focus();\n\n\t\t\tthis.setState({isSelected});\n\t\t}\n\t}\n\n\t_setRef = (elem) => {\n\t\tthis.elem = elem;\n\n\t\tif (this.state.elem != elem)\n\t\t\tthis.setState({elem})\n\t};\n\n\t_getClassName() {\n\t\tconst {properties: {isHighlighted, isSelected}} = this.props;\n\n\t\tif (isSelected)\n\t\t\treturn 'is-selected';\n\n\t\tif (isHighlighted)\n\t\t\treturn 'is-hover';\n\n\t\treturn '';\n\t};\n\n\trender() {\n\t\tconst {properties: {btn}} = this.props;\n\t\t// console.log('button props', this.props);\n\t\t// console.log('Button Render', btn);\n\t\tif (!btn)\n\t\t\treturn null;\n\n\t\tconst {isSelected, show} = this.state;\n\n\t\tif (!show)\n\t\t\treturn null;\n\n\t\tconst {id, status, badge, label, icon} = btn;\n\t\tconst selectedClass = this._getClassName();\n\t\tconst tabIndex = isSelected ? \"0\" : \"-1\";\n\t\tconst statusClass = getStatusClassName(status);\n\t\tconst hasLabel = label && label.length > 0;\n\n\t\treturn (\n            <React.Fragment>\n\t\t\t\t<button ref={this._setRef}\n\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\taria-label={label}\n\t\t\t\t\t\taria-expanded={isSelected}\n\t\t\t\t\t\tclassName={`sn-workspace-toolbar-button ${selectedClass}`}\n\t\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"sn-workspace-toolbar-button-content\">\n\t\t\t\t\t\t<now-icon component-id={`${id}_${icon}_btn`} icon={icon} size=\"lg\" />\n\t\t\t\t\t</span>\n\t\t\t\t\t{badge && <now-badge round size=\"sm\" status=\"critical\" value={badge.count} aria-label={t(badge.count + ' inbox badge counter')} variant=\"primary\"></now-badge>}\n\t\t\t\t\t{status && <div className={'sn-presence-dot ' + statusClass} />}\n\t\t\t\t</button>\n\t\t\t\t{hasLabel && <now-tooltip target-ref={this.elem} content={label} offset={[0,0,-12,-12,-12,-12]}/>}\n\t\t\t</React.Fragment>\n        );\n\t}\n}\n\nexport default ToolbarButton;\n","import {getProperty} from 'sn-uxpage-presource';\n\nexport function validateSysProps(btn) {\n\tconst {sys_props} = btn;\n\n\tif (sys_props) {\n\t\tsys_props.forEach(reqProp => {\n\t\t\tif (!getProperty(reqProp, false))\n\t\t\t\treturn false;\n\t\t});\n\t}\n\n\treturn true;\n}\n","import {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\n\nimport {default as SnUxContentOption} from './snUxContentOption';\nimport {parsePickerCondition, validateConditions} from './snUXContentOption.util';\n\nexport default createCustomElement('sn-ux-content-option', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: SnUxContentOption\n\t},\n\tproperties: {\n\t\tpickerState: {\n\t\t\tdefault: { default: 'home'},\n\t\t\treflect: true,\n\t\t},\n\t\tpickerCondition: {\n\t\t\treflect: true\n\t\t},\n\t\tshow: {\n\t\t\tcomputed({properties}){\n\t\t\t\tconst {pickerState, pickerCondition} = properties;\n\t\t\t\tif(!pickerCondition)\n\t\t\t\t\treturn false;\n\n\t\t\t\tconst conditions = parsePickerCondition(pickerCondition);\n\t\t\t\treturn validateConditions(properties, pickerState, conditions);\n\t\t\t}\n\t\t}\n\t}\n});\n","import React, {Component} from 'react';\nimport react from '@servicenow/ui-renderer-react';\nimport {activateDeferredElement, setProp} from \"./snUXContentOption.util\";\n\nclass SnUxContentOption extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.deferred = true;\n\t}\n\n\t_renderSlot() { \n\t\tconst {properties: {show}} = this.props;\n\t\tif (!show) this._updateActive();\n\t\treturn <div ref={elem => this.node = elem} style={{height: '100%', display: show ? 'block' : 'none'}}>{show ? react.createSlot() : null}</div>;\n\t}\n\n\trender() {\n\t\treturn this._renderSlot();\n\t}\n\n\tcomponentDidMount(){\n\t\tthis._updateDeferred();\n\t\tthis._updateActive();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis._updateDeferred();\n\t\tthis._updateActive();\n\t}\n\n\t_updateDeferred(){\n\t\tconst {properties: {show}} = this.props;\n\n\t\tif (show && this.deferred) {\n\t\t\tactivateDeferredElement(this.node);\n\t\t\tthis.deferred = false;\n\t\t}\n\t}\n\n\t_updateActive(){\n\t\tconst {properties: {show}} = this.props;\n\t\tsetProp(this.node, 'active', show);\n\t}\n\n}\n\nexport default SnUxContentOption;\n"],"sourceRoot":""}