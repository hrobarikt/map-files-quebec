{"version":3,"sources":["webpack://__TECTONIC__sn_component_chat_window/webpack/bootstrap","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__react\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__$servicenow_ui_renderer_react\"","webpack://__TECTONIC__sn_component_chat_window/./node_modules/sn-custom-create-element/lib/index.js","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__react_transition_group_2_9_0\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__sn_component_timeago\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__sn_component_chat_window/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__sn_component_chat_window/./src/SNChatWindow/_snChatWindow.scss","webpack://__TECTONIC__sn_component_chat_window/./src/SNChatWindow/_snChatWindow.scss?5800","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__lodash_4_17_4[\\\"throttle\\\"]\"","webpack://__TECTONIC__sn_component_chat_window/./src/SNChatWindow/SNChatMessageWindow.js","webpack://__TECTONIC__sn_component_chat_window/./src/SNChatWindow/SNChatTimestamp.js","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__sn_component_chat_window/./src/SNChatWindow/SNChatMessage.js","webpack://__TECTONIC__sn_component_chat_window/./node_modules/sn-custom-create-element/lib/constants.js","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__lodash_4_17_4[\\\"startsWith\\\"]\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__lodash_4_17_4[\\\"reduce\\\"]\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__lodash_4_17_4[\\\"isString\\\"]\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__lodash_4_17_4[\\\"isEmpty\\\"]\"","webpack://__TECTONIC__sn_component_chat_window/external \"__TECTONIC__lodash_4_17_4[\\\"camelCase\\\"]\"","webpack://__TECTONIC__sn_component_chat_window/./src/SNChatWindow/SNChatWindow.js","webpack://__TECTONIC__sn_component_chat_window/./src/SNChatWindow/snChatWindowElement.js","webpack://__TECTONIC__sn_component_chat_window/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__react","__TECTONIC__$servicenow_ui_renderer_react","default","props","arguments","length","undefined","_len","children","Array","_key","_isEmpty2","_isString2","indexOf","isSeismicComponent","existingRef","ref","_reduce","_reduce3","acc","_constants","ATTRIBUTES","_startsWith2","isAttribute","_camelCase2","MAPPED_TO_PROPS","isMappedToProps","attributes","properties","_react2","createElement","apply","assign","node","concat","_interopRequireDefault","require","obj","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__sn_translate","__TECTONIC__react_transition_group_2_9_0","__TECTONIC__sn_component_timeago","__TECTONIC__$servicenow_ui_core","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","toComment","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","push","result","__TECTONIC__lodash_4_17_4","_snTranslate","ACCESSIBLE_KEY_PRESSES","SCROLL_THROTTLE_MS","SNChatMessageWindow","_classCallCheck","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","state","newMessagesBelowFold","newAboveMessages","messageWindow","lastPrintedTimestamp","scrollToNewMessage","scrolledToBottom","previousScrollAnimationHeight","scrollAnimationFrame","checkScrollPosition","checkIfUserScrollFromKey","handleMessagesIndicatorClick","scrollToBottom","newMessagesBelow","setMessageWindow","defaultScrollUp","userCreatedScroll","oldTopMessage","onScrollUp","_throttle2","React","Component","removeEventListener","nextProps","newLastMessage","findLatestMessage","chatMessages","oldLastMessage","newLastMessageKey","_get2","oldLastMessageKey","scrollHeight","clientHeight","scrollTop","setState","findTopMessageKey","messageRefs","messageNode","connected","messages","message","child","type","addEventListener","window","requestAnimationFrame","scrollIntoView","block","inline","behavior","e","foundScrollKey","which","ctrlKey","event","_messageWindow","previousScrollTop","includes","checkIfAccessibleKeyPress","isClickOrAccessibleKeyPress","_snCustomCreateElement2","tabIndex","onKeyPress","onClick","className","onKeyDown","_reactTransitionGroup","_snComponentTimeago","SNChatTimestamp","_timeAgo","SnTimeAgo","timestamp","timeAgo","setUpdateFn","_updateTick","getTickTime","tickTime","_extends","update","remove","_state","time","alternate","CSSTransition","unmountOnExit","in","timeout","appear","classNames","title","style","color","__TECTONIC__$servicenow_now_tooltip","__TECTONIC__$servicenow_now_icon","SNChatMessage","showReplaceAnimation","animatingContainer","isAnimating","setMessageDeliveredIconNode","setNode","createAvatar","renderMessage","_this2","loading","forceUpdate","setTimeout","messageDeliveredIconNode","aria-label","avatar","showMessageDelivedIcon","Fragment","size","icon","aria-describedby","target-ref","skipAnimation","orientation","addMessageClass","renderMessageDeliveredIcon","addBubbleClass","backgroundColor","borderColor","SNChatWindow","clientRef","currentMessageIndex","addMessageRef","setChatWindowRef","previousOrientation","skipTimeStamp","newTimestamp","renderTimeStamps","newMessageClass","_SNChatMessage2","messageType","message_type","Transition","test","navigator","userAgent","css","document","styleSheet","cssText","appendChild","createTextNode","alert","currTime","timeDiff","batchTimestampWindowSeconds","lastPrintedTimestampWindow","renderedTimeStamp","_SNChatTimestamp2","behaviors","el","_props$properties$onS","defaultOnScrollUp","textDirection","TransitionGroup","component","renderChatMessages","defaultProps","chatStyles","_uiCore","importedStyle","styles","timeAgoBehaviors","getBehaviors","createCustomElement","renderer","react","view","snChatWindowElement"],"mappings":"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","file":"sn-component-chat-window.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n","module.exports = __TECTONIC__react;","module.exports = __TECTONIC__$servicenow_ui_renderer_react;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = createElement;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _camelCase = require('lodash/camelCase');\n\nvar _camelCase2 = _interopRequireDefault(_camelCase);\n\nvar _isEmpty = require('lodash/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _reduce2 = require('lodash/reduce');\n\nvar _reduce3 = _interopRequireDefault(_reduce2);\n\nvar _startsWith = require('lodash/startsWith');\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createElement(name) {\n\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tfunction isSeismicComponent(name) {\n\t\treturn (0, _isString2.default)(name) && name.indexOf('-') !== -1;\n\t}\n\n\tfunction isAttribute(name) {\n\t\treturn _constants.ATTRIBUTES.indexOf(name) !== -1 || (0, _startsWith2.default)(name, 'aria-') || (0, _startsWith2.default)(name, 'data-');\n\t}\n\n\tfunction isMappedToProps(name) {\n\t\treturn _constants.MAPPED_TO_PROPS.indexOf(name) !== -1;\n\t}\n\n\tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t\tchildren[_key - 2] = arguments[_key];\n\t}\n\n\tif (!(0, _isEmpty2.default)(props) && isSeismicComponent(name)) {\n\t\tvar existingRef = props.ref && typeof props.ref === 'function' && props.ref;\n\n\t\tvar _reduce = (0, _reduce3.default)(props, function (acc, value, name) {\n\t\t\tif (isAttribute(name)) acc['attributes'][name] = value;else acc['properties'][(0, _camelCase2.default)(name)] = value;\n\n\t\t\tif (isMappedToProps(name)) acc['properties'][name] = value;\n\n\t\t\treturn acc;\n\t\t}, {\n\t\t\tattributes: {},\n\t\t\tproperties: {}\n\t\t}),\n\t\t    attributes = _reduce.attributes,\n\t\t    properties = _reduce.properties;\n\n\t\tif (!(0, _isEmpty2.default)(properties)) {\n\t\t\treturn _react2.default.createElement.apply(_react2.default, [name, Object.assign({}, attributes, { ref: function ref(node) {\n\t\t\t\t\tif (!node) return;\n\t\t\t\t\texistingRef && existingRef(node);\n\t\t\t\t\tObject.assign(node, properties);\n\t\t\t\t} })].concat(children));\n\t\t}\n\t}\n\treturn _react2.default.createElement.apply(_react2.default, [name, props].concat(children));\n}","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__react_transition_group_2_9_0;","module.exports = __TECTONIC__sn_component_timeago;","module.exports = __TECTONIC__$servicenow_ui_core;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{font-family:SourceSansPro,HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-weight:300;box-sizing:border-box;height:100%;position:absolute;top:0;left:0;right:0;bottom:0}*,:after,:before{box-sizing:inherit}.text-direction-rtl .sn-message-inner-container{text-align:right}.sn-chat-message{display:flex;flex:0 0 auto;align-items:flex-end;margin-top:1.25rem;max-width:99%}.sn-chat-message.same-orientation{margin-top:1rem}.sn-chat-message.hidden{margin:0;height:0;visibility:hidden}.sn-chat-message.hidden .sn-chat-message-bubble{min-height:0}.sn-chat-message.message-animation-enter .sn-chat-message-container{transform:scale(.01);transition:transform 0s}.sn-chat-message.left{align-self:flex-start;margin-right:1.5625rem;margin-left:.5rem}.sn-chat-message.left,.sn-chat-message.left .sn-chat-message-container,.sn-chat-message.left .sn-chat-message-container .sn-chat-message-bubble{transform-origin:bottom left}.sn-chat-message.left .sn-avatar-container{padding:0 .3125rem 0 0}.sn-chat-message.right{align-self:flex-end;flex-direction:row-reverse;margin-left:1.5625rem;margin-right:.5rem}.sn-chat-message.right,.sn-chat-message.right .sn-chat-message-container{transform-origin:bottom right}.sn-chat-message.right .sn-avatar-container{padding:0 0 0 .3125rem}.sn-chat-message.center{align-self:center;text-align:center}.sn-chat-message.center,.sn-chat-message.center .sn-chat-message-container,.sn-chat-message.center .sn-chat-message-container .sn-chat-message-bubble{transform-origin:bottom center}.sn-chat-message.center .sn-avatar-container{padding:0 .3125rem 0 0}.sn-chat-message .sn-chat-avatar{height:25px;height:1.5625rem;width:25px;width:1.5625rem;border-radius:50%;background-size:cover;display:inline-block;bottom:0;position:relative;z-index:10}.sn-chat-message .sn-avatar-container{z-index:2}.sn-chat-message .sn-chat-message-container{transition-property:transform;transition-duration:.5s;transition-timing-function:ease-in-out;display:inline-block;position:relative;top:-3px;top:-.1875rem;max-width:100%}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble{padding:.625rem;background-color:#c3ddef;border-color:#c3ddef;border-radius:8px;border-radius:.5rem;position:relative;display:inline-block;min-width:20px;min-width:1.25rem;min-height:20px;min-height:1.25rem;transition:transform .5s;max-width:100%}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.no-padding{padding:0}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.system-message{background:transparent;border:none;border-radius:none;font-weight:400}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.system-message:after,.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.system-message:before{content:none;height:0}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.seperator{min-height:1px;min-height:.0625rem;max-width:100%;width:200vh;margin:0;position:relative;top:-5px;top:-.3125rem;padding:0;background-color:transparent;background-image:linear-gradient(90deg,#c5c5c5 60%,hsla(0,0%,100%,0) 0);background-position:bottom;background-size:15px 1px;background-size:.9375rem .0625rem;background-repeat:repeat-x}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.seperator:after,.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.seperator:before{content:none;height:0}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble .sn-message-inner-container{opacity:1;font-size:14px;font-size:.875rem;white-space:pre-wrap;transition:opacity 3s;word-break:break-word;overflow-wrap:break-word;max-width:100%}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble:before{content:\\\"\\\";width:0;height:0;display:block;position:absolute;border-color:inherit;border-bottom-width:1.375rem;border-bottom-style:solid;background-color:transparent;z-index:-2}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.left:before{bottom:0;left:-12px;left:-.75rem;border-left:1.625rem solid transparent}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.right:before{bottom:0;right:-1.2rem;right:-12px;right:-.75rem;border-right:1.625rem solid transparent}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble:after{content:\\\"\\\";width:92px;width:5.75rem;height:67px;height:4.1875rem;display:block;position:absolute;background-color:#fff;border-radius:50%;z-index:-1}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.center:after,.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.left:after{bottom:-12px;bottom:-.75rem;left:-88px;left:-5.5rem;clip:rect(29px,141px,220px,47px)}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble.right:after{bottom:-12px;bottom:-.75rem;right:-88px;right:-5.5rem;clip:rect(29px,41px,220px,0)}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble .sn-chat-message-loading-dots{display:flex;padding-top:.3125rem;text-align:center}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble .sn-chat-message-loading-dots .loading-dot{height:7px;height:.4375rem;width:7px;width:.4375rem;margin-right:.375rem;border-radius:50%;background-color:#000;display:inline-block;animation-name:bounce-dot;animation-duration:.8s;animation-iteration-count:infinite}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble .sn-chat-message-loading-dots :first-child{margin-left:.375rem}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble .sn-chat-message-loading-dots :nth-child(2){animation-delay:.2s}.sn-chat-message .sn-chat-message-container .sn-chat-message-bubble .sn-chat-message-loading-dots :nth-child(3){animation-delay:.4s}@keyframes bounce-dot{0%{transform:translateY(0)}20%{transform:translateY(-2px);opacity:.5}50%{transform:translateY(0)}to{transform:translateY(0)}}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble{padding:0;bottom:-3px;bottom:-.1875rem}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble.left{margin-left:-.625rem;left:4px;left:.25rem;border-bottom-left-radius:0}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble.right{margin-right:-.625rem;right:4px;right:.25rem;border-bottom-right-radius:0}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble.left:before{border-top-left-radius:10px;border-top-left-radius:.625rem;border-bottom-right-radius:20px;border-bottom-right-radius:1.25rem;border-top-right-radius:0;left:-16px;left:-1rem}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble.right:before{border-top-right-radius:10px;border-top-right-radius:.625rem;border-bottom-left-radius:20px;border-bottom-left-radius:1.25rem;border-top-left-radius:0;right:-16px;right:-1rem}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble:before{bottom:-3px;bottom:-.1875rem;background-color:#fff;border-color:#fff;z-index:0;border-width:0;width:26px;width:1.625rem;height:100%;transition:0s}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble.left:after{left:10px;left:.625rem;border-top-right-radius:0;border-top-left-radius:8px;border-top-left-radius:.5rem;border-bottom-left-radius:0;border-bottom-right-radius:0;box-shadow:-11px -5px #fff}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble.right:after{right:10px;right:.625rem;border-top-left-radius:0;border-top-right-radius:8px;border-top-right-radius:.5rem;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:11px -5px #fff}.sn-chat-message .sn-chat-message-container .image-bubble.sn-chat-message-bubble:after{background-color:transparent;clip:auto;height:50px;height:3.125rem;width:42px;width:2.625rem;top:0;z-index:1;transition:0s}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.message-window{padding:20px!important}.sn-cs-image-message img{width:100%!important}}@supports (-webkit-overflow-scrolling:touch){.sn-chat-message{-webkit-transform:translateZ(0)}}.sn-chat-timestamp{align-self:center;font-size:13px;font-size:.8125rem;margin-top:.625rem;color:#9c9c9c;font-weight:300}:host(sn-component-chat-window){width:100%}.sn-chat-window{position:relative;height:100%;width:100%;z-index:0}.message-window{display:flex;position:absolute;flex:1;flex-direction:column;align-items:flex-end;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch;height:100%;width:100%;padding:.3125rem}.new-messages-indicator{position:absolute;left:0;right:0;bottom:20px;bottom:1.25rem;margin-left:auto;margin-right:auto;border-radius:15px;border-radius:.9375rem;height:25px;height:1.5625rem;background-color:#ababab;opacity:.8;color:#fff;font-size:13px;font-size:.8125rem;padding-top:.1875rem;text-align:center;width:150px;width:9.375rem;cursor:pointer}.chat-loading-animation{margin:auto;color:#92a4b4;font-size:20px;font-size:1.25rem;text-align:center}.chat-loading-animation .loading-dots :first-child{margin-left:.625rem}.chat-loading-animation .loading-dots :nth-child(2){animation-delay:.25s}.chat-loading-animation .loading-dots :nth-child(3){animation-delay:.5s}.chat-loading-animation .loading-dots .loading-dot{border-radius:50%;height:10px;height:.625rem;width:10px;width:.625rem;margin-right:.625rem;background:#92a4b4;display:inline-block;animation-name:grow-dot;animation-duration:1s;animation-iteration-count:infinite}@keyframes grow-dot{0%{transform:scale(1)}50%{transform:scale(1.4)}to{transform:scale(1)}}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/lib/loader.js??ref--6-3!./_snChatWindow.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","module.exports = __TECTONIC__lodash_4_17_4[\"throttle\"];","import react from '@servicenow/ui-renderer-react';\nimport React from 'react';\nimport throttle from 'lodash/throttle';\nimport get from 'lodash/get';\nimport { t } from 'sn-translate';\n\n\nconst ACCESSIBLE_KEY_PRESSES = ['Enter', ' '];\nconst SCROLL_THROTTLE_MS = 200;\nconst BOTTOM_SCROLL_BUFFER = 3;\n\n\nclass SNChatMessageWindow extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tnewMessagesBelowFold: false,\n\t\t\tnewAboveMessages: false,\n\t\t};\n\n\t\t// TODO: Add additional initialization/bindings here\n\t\tthis.messageWindow = null;\n\t\tthis.lastPrintedTimestamp = null;\n\t\tthis.scrollToNewMessage = false;\n\t\tthis.scrolledToBottom = true;\n\t\tthis.previousScrollAnimationHeight = false;\n\n\t\tthis.scrollAnimationFrame = this.scrollAnimationFrame.bind(this);\n\t\tthis.checkScrollPosition = this.checkScrollPosition.bind(this);\n\t\tthis.checkIfUserScrollFromKey = this.checkIfUserScrollFromKey.bind(this);\n\t\tthis.handleMessagesIndicatorClick = this.handleMessagesIndicatorClick.bind(this);\n\t\tthis.scrollToBottom = this.scrollToBottom.bind(this);\n\t\tthis.newMessagesBelow = this.newMessagesBelow.bind(this);\n\t\tthis.setMessageWindow = this.setMessageWindow.bind(this);\n\t\tthis.defaultScrollUp = this.defaultScrollUp.bind(this);\n\t\tthis.userCreatedScroll = false;\n\n\n\t\t//this.newElementAdded = this.newElementAdded.bind(this);\n\n\t\tthis.oldTopMessage = null;\n\t\tif (props.onScrollUp) {\n\t\t\tthis.onScrollUp = throttle(props.onScrollUp, SCROLL_THROTTLE_MS);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.messageWindow.removeEventListener('DOMMouseScroll', this.checkScrollPosition);\n\t\tthis.messageWindow.removeEventListener('touchmove', this.checkScrollPosition);\n\t\tthis.messageWindow.removeEventListener('mousewheel', this.checkScrollPosition);\n\n\t\tthis.messageWindow.removeEventListener('scroll', this.checkScrollPosition);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t// check if we got a new message\n\t\tthis.userCreatedScroll = true;\n\t\tlet newLastMessage = this.findLatestMessage(nextProps.chatMessages);\n\t\tlet oldLastMessage = this.findLatestMessage(this.props.chatMessages);\n\t\tlet newLastMessageKey = get(newLastMessage, 'id');\n\t\tlet oldLastMessageKey = get(oldLastMessage, 'id');\n\t\t/* istanbul ignore else */\n\t\tif (oldLastMessage && newLastMessageKey !== oldLastMessageKey) {\n\t\t\t// we have a new message\n\t\t\tlet scrolledUpHeight = this.messageWindow.scrollHeight - (this.messageWindow.clientHeight + this.messageWindow.scrollTop);\n\t\t\t/* istanbul ignore next */\n\t\t\tif (scrolledUpHeight < this.messageWindow.clientHeight / 3) {\n\t\t\t\tthis.setState({newMessagesBelowFold: false});\n\t\t\t\tthis.scrollToBottom();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({newMessagesBelowFold: true});\n\t\t\t}\n\t\t}\n\n\t\tif (this.props.children.length < nextProps.children.length || !this.oldTopMessage) {\n\t\t\t// if user is scrolled up toggle that we have new messages\n\t\t\tif (!this.scrolledToBottom || !this.oldTopMessage) {\n\t\t\t\tlet oldTopMessageKey = this.findTopMessageKey(this.props.children);\n\t\t\t\tlet newTopMessageKey = this.findTopMessageKey(nextProps.children);\n\t\t\t\tif (oldTopMessageKey != newTopMessageKey) {\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (this.props.messageRefs && this.props.messageRefs[0] && this.props.messageRefs[0].messageNode) {\n\t\t\t\t\t\tthis.oldTopMessage = this.props.messageRefs[0].messageNode;\n\t\t\t\t\t\tthis.setState({ newAboveMessages: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tif (this.props.onScrollUp !== nextProps.onScrollUp) {\n\t\t\t/* istanbul ignore next */\n\t\t\tif (nextProps.onScrollUp) {\n\t\t\t\tthis.onScrollUp = throttle(nextProps.onScrollUp, SCROLL_THROTTLE_MS);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthis.onScrollUp = this.defaultScrollUp;\n\t\t\t}\n\t\t}\n\t\tif (this.props.connected === false & nextProps.connected === true) {\n\t\t\t// start scrolled at the bottom after connecting.\n\t\t\tthis.scrollToBottom();\n\t\t}\n\t}\n\n\t/* istanbul ignore next */\n\tdefaultScrollUp() {\n\t\t// to be overloaded\n\t}\n\tfindLatestMessage(messages) {\n\t\tif (messages && messages.length > 0) {\n\t\t\tfor (let i = messages.length - 1; i >= 0; i--) {\n\t\t\t\tlet message = messages[i];\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (message) {\n\t\t\t\t\treturn message;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tfindTopMessageKey(children) {\n\t\tlet child = children[0];\n\t\t/* istanbul ignore next */\n\t\tif (child && child.type && child.key) {\n\t\t\treturn child.key;\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\t// handle user scroll events for touch and browser\n\t\tthis.messageWindow.addEventListener('DOMMouseScroll', this.checkScrollPosition);\n\t\tthis.messageWindow.addEventListener('touchmove', this.checkScrollPosition);\n\t\tthis.messageWindow.addEventListener('mousewheel', this.checkScrollPosition);\n\t\tthis.messageWindow.addEventListener('scroll', this.checkScrollPosition);\n\n\n\t\twindow.requestAnimationFrame(this.scrollAnimationFrame);\n\n\t}\n\n\t/* istanbul ignore next */\n\tscrollAnimationFrame() {\n\t\tif (this.messageWindow) {\n\t\t\tif (this.scrolledToBottom) {\n\t\t\t\tif (this.previousScrollAnimationHeight != this.messageWindow.scrollHeight) {\n\t\t\t\t\tthis.messageWindow.scrollTop = this.messageWindow.scrollHeight;\n\t\t\t\t\tthis.previousScrollAnimationHeight = this.messageWindow.scrollHeight;\n\t\t\t\t\tthis.userCreatedScroll = true;\n\t\t\t\t}\n\t\t\t\tif (this.state.newMessagesBelowFold) {\n\t\t\t\t\tthis.setState({newMessagesBelowFold: false});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.requestAnimationFrame(this.scrollAnimationFrame);\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.newAboveMessages) {\n\t\t\tthis.setState({newAboveMessages: false});\n\t\t\tthis.oldTopMessage.scrollIntoView({block: 'start', inline: 'nearest', behavior: 'smooth'});\n\n\t\t\tthis.userCreatedScroll = true;\n\t\t}\n\t}\n\n\tcheckIfUserScrollFromKey(e) {\n\n\t\tlet foundScrollKey = false;\n\t\tswitch(e.which) {\n\t\tcase 33: // page up\n\t\tcase 34: // page down\n\t\tcase 32: // spacebar\n\t\tcase 38: // up\n\t\tcase 40: //down\n\t\t\tfoundScrollKey = true;\n\t\t\tbreak;\n\t\t}\n\t\t// handle ctrl+home and ctrl+end\n\t\tif (e.ctrlKey && (e.which === 36 || e.which === 35)) {\n\t\t\tfoundScrollKey = true;\n\t\t}\n\t\tif (foundScrollKey) {\n\t\t\tthis.checkScrollPosition();\n\t\t}\n\t}\n\n\tcheckScrollPosition(event) {\n\t\t/* istanbul ignore else */\n\t\tif (!this.userCreatedScroll) {\n\t\t\tconst { scrollHeight, scrollTop, clientHeight } = this.messageWindow;\n\t\t\twindow.messageWindow = this.messageWindow;\n\t\t\t// chat window is scrolled to bottom\n\n\t\t\t/* istanbul ignore next */\n\t\t\tif (scrollHeight - scrollTop < clientHeight + BOTTOM_SCROLL_BUFFER) {\n\t\t\t\tthis.scrolledToBottom = true;\n\t\t\t\tthis.setState({newMessagesBelowFold: false});\n\t\t\t}\n\t\t\t// chat window not at bottom\n\t\t\telse {\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tthis.scrolledToBottom = false;\n\t\t\t}\n\n\t\t\t/* istanbul ignore next */\n\t\t\tif (this.previousScrollTop > scrollTop) {\n\t\t\t\tthis.onScrollUp(scrollTop);\n\t\t\t}\n\t\t\tthis.previousScrollTop = scrollTop;\n\t\t}\n\t\tthis.userCreatedScroll = false;\n\t}\n\n\tcheckIfAccessibleKeyPress(key) {\n\t\tif (ACCESSIBLE_KEY_PRESSES.includes(key)) {\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tisClickOrAccessibleKeyPress(event) {\n\t\tif (event.type === 'click') {\n\t\t\treturn true;\n\t\t}\n\t\telse if(event.type === 'keypress' && this.checkIfAccessibleKeyPress(event.key)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\thandleMessagesIndicatorClick(e) {\n\t\tif (this.isClickOrAccessibleKeyPress(e)) {\n\t\t\tthis.setState({newMessagesBelowFold: false});\n\t\t\tthis.scrollToBottom();\n\t\t}\n\t}\n\n\tscrollToBottom() {\n\t\tthis.messageWindow.scrollTop = this.messageWindow.scrollHeight;\n\t\tthis.scrolledToBottom = true;\n\t\tthis.userCreatedScroll = true;\n\t}\n\n\tnewMessagesBelow() {\n\t\tif ( this.state.newMessagesBelowFold ) {\n\t\t\treturn <div tabIndex=\"0\" onKeyPress = {this.handleMessagesIndicatorClick} onClick = {this.handleMessagesIndicatorClick} className = \"new-messages-indicator\">\n\t\t\t\t{t(\"New Messages Below\")}\n\t\t\t</div>;\n\t\t}\n\t}\n\n\tsetMessageWindow(messageWindow) {\n\t\tthis.messageWindow = messageWindow;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className = \"message-window-parent\">\n\t\t\t\t<div className = \"message-window\" onKeyDown = {this.checkIfUserScrollFromKey} ref = {this.setMessageWindow}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</div>\n\t\t\t\t{this.newMessagesBelow()}\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\nexport default SNChatMessageWindow;\n","import react from '@servicenow/ui-renderer-react';\nimport React from 'react';\nimport {CSSTransition} from 'react-transition-group';\nimport {SnTimeAgo} from 'sn-component-timeago';\n\n//import {} from 'lodash';\t\t// TODO: Use lodash as a utility library for your js code. Import what you need here.\n\nclass SNChatTimestamp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t// TODO: Add additional initialization/bindings here\n\n\t\tconst options = {\n\t\t\ttimeAgo: true\n\t\t};\n\t\tthis._timeAgo = new SnTimeAgo(props, props.timestamp, options);\n\t\tthis._timeAgo.setUpdateFn(this._updateTick.bind(this));\n\t\tthis.state = this._timeAgo.getTickTime();\n\t}\n\n\t/* istanbul ignore next */\n\t_updateTick(tickTime) {\n\t\tthis.setState({...tickTime});\n\t}\n\n\tcomponentWillMount() {\n\t\t// TODO: implement\n\t}\n\n\tcomponentWillReceiveProps(props) {\n\t\tthis._timeAgo.update(props);\n\t}\n\n\tcomponentDidMount() {\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._timeAgo.remove();\n\t}\n\n\trender() {\n\t\tconst {time, alternate} = this.state;\n\t\tconst blah =  (\n\t\t\t<CSSTransition unmountOnExit = {true} in = {this.props.in} timeout = {10} appear = {true} classNames = \"message-animation\">\n\t\t\t\t<h2 className = 'sn-chat-timestamp'>\n\t\t\t\t\t<time title = {time} style = {{color: 'var(--timestamp-color)'}}>\n\t\t\t\t\t\t{time}\n\t\t\t\t\t</time>\n\t\t\t\t</h2>\n\t\t\t</CSSTransition>\n\t\t);\n\n\t\treturn blah;\n\t}\n}\n\nexport default SNChatTimestamp;\n","module.exports = __TECTONIC__$servicenow_now_tooltip;","module.exports = __TECTONIC__$servicenow_now_icon;","import react from '@servicenow/ui-renderer-react';\nimport React from 'react';\nimport { t } from 'sn-translate';\nimport { CSSTransition } from 'react-transition-group';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-tooltip';\n\n//import {} from 'lodash';\t\t// TODO: Use lodash as a utility library for your js code. Import what you need here.\n\nclass SNChatMessage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowReplaceAnimation: false\n\t\t};\n\t\tthis.animatingContainer = null;\n\t\tthis.messageNode = null;\n\t\tthis.isAnimating = false;\n\n\t\tthis.setMessageDeliveredIconNode = this.setMessageDeliveredIconNode.bind(this);\n\n\t\tthis.setNode = this.setNode.bind(this);\n\t\tthis.createAvatar = this.createAvatar.bind(this);\n\n\n\t\t// TODO: Add additional initialization/bindings here\n\t\tthis.renderMessage = this.renderMessage.bind(this);\n\t}\n\n\tcomponentWillMount() {\n\t\t// TODO: implement\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (this.props.message !== nextProps.message ||\n\t\t\t(this.props.loading === true && !nextProps.loading )) {\n\t\t\t// message has been replaced, run the replace animation\n\t\t\tthis.setState({showReplaceAnimation: true}, this.forceUpdate);\n\n\t\t\t// remove the animation class and let it animate back out\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({showReplaceAnimation: false}, this.forceUpdate);\n\t\t\t}, 10);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t}\n\n\tsetMessageDeliveredIconNode(node) {\n\t\tthis.messageDeliveredIconNode = node;\n\t}\n\n\trenderMessage() {\n\t\tif (this.props.loading) {\n\t\t\treturn (\n\t\t\t\t<div key = {'inner-message-loader'} className = \"sn-message-inner-container\">\n\t\t\t\t\t<div aria-label={t(\"Chat Message Loading\")} className=\"sn-chat-message-loading-dots\">\n\t\t\t\t\t\t<div className=\"loading-dot\" />\n\t\t\t\t\t\t<div className=\"loading-dot\"/>\n\t\t\t\t\t\t<div className= \"loading-dot\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\n\t\t}\n\t\telse {\n\t\t\treturn \t<div key = {'inner-message-message'} className = \"sn-message-inner-container\">\n\t\t\t\t{this.props.message}\n\t\t\t</div>;\n\t\t}\n\t}\n\n\tsetNode(node) {\n\t\tthis.messageNode = node;\n\t}\n\n\tcreateAvatar() {\n\t\tif (this.props.avatar) {\n\t\t\treturn <div className = 'sn-avatar-container'>\n\t\t\t\t{this.props.avatar}\n\t\t\t</div>;\n\t\t}\n\t}\n\n\trenderMessageDeliveredIcon() {\n\t\treturn this.props.showMessageDelivedIcon ?\n\t\t\t<React.Fragment>\n\t\t\t\t<now-icon size='sm' icon='check-fill' ref={this.setMessageDeliveredIconNode} aria-describedby={\"messageDeliveredTooltip\"}></now-icon>\n\t\t\t\t<now-tooltip\n\t\t\t\t\ttarget-ref={this.messageDeliveredIconNode}\n\t\t\t\t\tcontent={t(\"Server received message\")}\n\t\t\t\t\tid={\"messageDeliveredTooltip\"}\n\t\t\t\t/>\n\t\t\t</React.Fragment>\n\t\t\t\t : null;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<CSSTransition unmountOnExit = {true} in = {this.props.in} timeout = {10} appear = {true} classNames = {`${!this.props.skipAnimation ? 'message-animation':''}`}>\n\t\t\t\t<div className = {`sn-chat-message ${this.props.orientation}${(this.state.showReplaceAnimation && !this.props.skipAnimation)? ' message-animation-enter':''}${(this.props.addMessageClass)?` ${this.props.addMessageClass}`:''}`}>\n\t\t\t\t\t{this.renderMessageDeliveredIcon()}\n\t\t\t\t\t{this.createAvatar()}\n\t\t\t\t\t<div className = \"sn-chat-message-container\">\n\t\t\t\t\t\t<div ref = {this.setNode}\n\t\t\t\t\t\t\tclassName = {`sn-chat-message-bubble ${this.props.orientation}${(this.props.loading)? ' loading':''}${(this.props.addBubbleClass)?` ${this.props.addBubbleClass}`:''}${(this.state.showReplaceAnimation)? ' replace-animation':''}`}\n\t\t\t\t\t\t\tstyle ={{backgroundColor: this.props.color, borderColor: this.props.color}} >\n\t\t\t\t\t\t\t{this.renderMessage()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</CSSTransition>\n\t\t);\n\t}\n}\n\nexport default SNChatMessage;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar ATTRIBUTES = exports.ATTRIBUTES = ['component-id', 'listen-to', 'path', 'context', 'context-modifier', 'key', 'dangerouslySetInnerHTML', 'suppressContentEditableWarning', 'suppressHydrationWarning', 'alt', 'async', 'autocomplete', 'autofocus', 'autoplay', 'capture', 'checked', 'default', 'defer', 'disabled', 'draggable', 'dropzone', 'hidden', 'href', 'hreflang', 'http-equiv', 'icon', 'id', 'is', 'maxlength', 'minlength', 'media', 'method', 'multiple', 'name', 'placeholder', 'readonly', 'rel', 'required', 'reversed', 'role', 'rows', 'rowspan', 'selected', 'slot', 'src', 'tabindex', 'target', 'title', 'type', 'value'];\n\nvar MAPPED_TO_PROPS = exports.MAPPED_TO_PROPS = ['value'];","module.exports = __TECTONIC__lodash_4_17_4[\"startsWith\"];","module.exports = __TECTONIC__lodash_4_17_4[\"reduce\"];","module.exports = __TECTONIC__lodash_4_17_4[\"isString\"];","module.exports = __TECTONIC__lodash_4_17_4[\"isEmpty\"];","module.exports = __TECTONIC__lodash_4_17_4[\"camelCase\"];","import react from '@servicenow/ui-renderer-react';\nimport React from 'react';\nimport {Transition, TransitionGroup} from 'react-transition-group';\nimport SNChatMessage from './SNChatMessage';\nimport SNChatTimestamp from './SNChatTimestamp';\nimport SNChatMessageWindow from './SNChatMessageWindow';\n\nimport {t} from 'sn-translate';\n\n//import {} from 'lodash';\t\t// TODO: Use lodash as a utility library for your js code. Import what you need here.\nclass SNChatWindow extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.messageRefs = [];\n\t\tthis.clientRef = null;\n\t\tthis.currentMessageIndex = null;\n\t\tthis.addMessageRef = this.addMessageRef.bind(this);\n\t\tthis.setChatWindowRef = this.setChatWindowRef.bind(this);\n\t}\n\n\taddMessageRef(message) {\n\t\tif (message) {\n\t\t\tthis.messageRefs[this.currentMessageIndex] = message;\n\t\t}\n\t}\n\n\trenderChatMessages() {\n\t\tlet messages = [];\n\t\tif (this.props.properties.connected) {\n\t\t\tif (this.props.properties.chatMessages && this.props.properties.chatMessages.length > 0) {\n\t\t\t\tlet previousOrientation = null;\n\t\t\t\tfor (let i = 0; i < this.props.properties.chatMessages.length; i++) {\n\t\t\t\t\tthis.currentMessageIndex = i;\n\t\t\t\t\tconst message = this.props.properties.chatMessages[i];\n\t\t\t\t\tif (!message.skipTimeStamp) {\n\t\t\t\t\t\tconst newTimestamp = this.renderTimeStamps(messages, message.timestamp);\n\t\t\t\t\t\tif (newTimestamp) {\n\t\t\t\t\t\t\tmessages.push(newTimestamp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst key = `chat-message-${message.hasOwnProperty('id') ? message.id : i}`;\n\n\t\t\t\t\tlet newMessageClass;\n\t\t\t\t\tif (previousOrientation === message.orientation) {\n\t\t\t\t\t\tif (message.addMessageClass) {\n\t\t\t\t\t\t\tnewMessageClass = message.addMessageClass + \" same-orientation\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tnewMessageClass = \"same-orientation\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tpreviousOrientation = message.orientation;\n\t\t\t\t\t\tnewMessageClass = message.addMessageClass;\n\t\t\t\t\t}\n\t\t\t\t\tmessages.push(<SNChatMessage ref = { this.addMessageRef } messageType = {message.message_type} message = {message.content} key = {key} orientation = {message.orientation} avatar = {message.avatar} color = {message.color} loading = {message.loading} skipAnimation={message.skipAnimation} addBubbleClass = {message.addBubbleClass} addMessageClass = {newMessageClass} showMessageDelivedIcon = {message.showMessageDelivedIcon} /> );\n\t\t\t\t}\n\n\t\t\t\t// reset last printed timestamp after printing messages\n\t\t\t\tthis.lastPrintedTimestamp = null;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmessages = [''];\n\t\t\t}\n\t\t\treturn messages;\n\t\t}\n\t\telse {\n\t\t\treturn <Transition timeout = {10}>\n\t\t\t\t<div className = 'chat-loading-animation'>\n\t\t\t\t\t<div className = 'loading-text'> {t('Connecting')} </div>\n\t\t\t\t\t<div className = 'loading-dots'>\n\t\t\t\t\t\t<div className = 'loading-dot' />\n\t\t\t\t\t\t<div className = 'loading-dot' />\n\t\t\t\t\t\t<div className = 'loading-dot' />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Transition>;\n\t\t}\n\n\t}\n\n\tcomponentDidMount() {\n\t\t/****** fix for ios safari pinch to zoom ****/\n\t\t/* istanbul ignore next */\n\t\tif ((/iPad|iPhone|iPod/.test(navigator.userAgent))) {\n\t\t\tlet css = '*{cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action: manipulation;}';\n\t\t\tlet style = document.createElement('style');\n\n\t\t\tstyle.type = 'text/css';\n\t\t\tif (style.styleSheet){\n\t\t\t\tstyle.styleSheet.cssText = css;\n\t\t\t} else {\n\t\t\t\tstyle.appendChild(document.createTextNode(css));\n\t\t\t}\n\n\t\t\tthis.clientRef.appendChild(style);\n\t\t}\n\n\n\t\t// if (window.ShadyCSS && window.ShadyCSS.CustomStyleInterface) {\n\t\t// \twindow.ShadyCSS.CustomStyleInterface.addCustomStyle(this.styleRef);\n\t\t// }\n\t}\n\n\tcomponentDidUpdate() {\n\t\t// if (window.ShadyCSS && window.ShadyCSS.CustomStyleInterface) {\n\t\t// \twindow.ShadyCSS.CustomStyleInterface.addCustomStyle(this.styleRef);\n\t\t// }\n\t}\n\n\trenderTimeStamps(messages, timestamp, alert) {\n\t\tif (timestamp) {\n\t\t\tconst currTime = timestamp;\n\t\t\t// show a timestamp if: 1) we don't have a previous printed timestamp or 2) it has gone past the set batch window between timestamps, or 3) the timetamps are out of order\n\t\t\tlet timeDiff;\n\t\t\tif (currTime > this.lastPrintedTimestamp) {\n\t\t\t\ttimeDiff = (currTime - this.lastPrintedTimestamp) / 1000;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttimeDiff = (this.lastPrintedTimestamp - currTime) / 1000;\n\t\t\t}\n\t\t\tif (!this.lastPrintedTimestamp || (timeDiff > this.props.properties.batchTimestampWindowSeconds ) || this.lastPrintedTimestampWindow > currTime) {\n\t\t\t\tconst renderedTimeStamp = <SNChatTimestamp alert = {alert} timestamp = {timestamp} key = {`chat-timestamp-${currTime}`} behaviors = {this.props.properties.behaviors} />;\n\t\t\t\tthis.lastPrintedTimestamp = currTime;\n\t\t\t\treturn renderedTimeStamp;\n\t\t\t}\n\t\t}\n\n\n\t\treturn false;\n\t}\n\n\tsetChatWindowRef(el) {\n\t\tthis.clientRef = el;\n\t}\n\n\t/* istanbul ignore next */\n\tdefaultOnScrollUp() {\n\t\t// no op for default to be overridden\n\t}\n\n\trender() {\n\t\t/* istanbul ignore next */\n\t\tconst { onScrollUp = this.defaultOnScrollUp } = this.props.properties;\n\n\t\treturn (\n\t\t\t<div className = {`sn-chat-window text-direction-${this.props.properties.textDirection?this.props.properties.textDirection:'ltr'}`} ref = {this.setChatWindowRef} >\n\t\t\t\t<TransitionGroup component = {SNChatMessageWindow} chatMessages = {this.props.properties.chatMessages} connected = {this.props.properties.connected} messageRefs = {this.messageRefs} onScrollUp = {onScrollUp} >\n\t\t\t\t\t{this.renderChatMessages()}\n\t\t\t\t</TransitionGroup>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSNChatWindow.defaultProps = {\n\tproperties: {\n\t\tconnected: true,\n\t\tbatchTimestampWindowSeconds: 10,\n\t\tchatMessages: [],\n\t\tchatStyles: '',\n\t\tonScrollUp: ()=>{},\n\t\ttextDirection: 'ltr',\n\t},\n}\n\nexport default SNChatWindow;\n\n\n","import SNChatWindow from './SNChatWindow';\nimport style from './_snChatWindow.scss';\n\nimport {createCustomElement} from '@servicenow/ui-core';\nimport react from '@servicenow/ui-renderer-react';\nimport React from 'react';\nimport {SnTimeAgo} from 'sn-component-timeago';\n\n\nexport default (importedStyle = '') => {\n    const styles = style + importedStyle;\n\n    const timeAgoBehaviors = SnTimeAgo.getBehaviors();\n\n    createCustomElement('sn-component-chat-window', {\n        renderer: {\n            type: react,\n            view: SNChatWindow\n        },\n        styles,\n        properties: {\n            connected: {\n                default: false,\n            },\n            batchTimestampWindowSeconds: {\n                default: 10\n            },\n            chatMessages: {},\n            chatStyles: {\n                default: ''\n            },\n            onScrollUp: {\n                default: () => {}\n            },\n            textDirection: {\n                default: 'ltr'\n            },\n        },\n        behaviors: [...timeAgoBehaviors]\n    });\n};\n\n","import snChatWindowElement from './SNChatWindow/snChatWindowElement';\nexport default snChatWindowElement;\n\n"],"sourceRoot":""}