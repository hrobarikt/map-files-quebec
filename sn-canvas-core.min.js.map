{"version":3,"sources":["webpack://__TECTONIC__sn_canvas_core/webpack/bootstrap","webpack://__TECTONIC__sn_canvas_core/./src/constants/constants.js","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/sn-canvas-router.config.js","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__sn_canvas_core/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__sn_canvas_core/./src/behaviors/sn-canvas-screens/sn-canvas-screens.util.js","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__$servicenow_ui_metrics\"","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/sn-canvas-router.util.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/utils/browser.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/constants/constants.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/sn-canvas-router.contentParser.js","webpack://__TECTONIC__sn_canvas_core/./node_modules/qs/lib/utils.js","webpack://__TECTONIC__sn_canvas_core/./node_modules/qs/lib/formats.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-metrics/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-metrics/persistMetrics.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-metrics/constants.js","webpack://__TECTONIC__sn_canvas_core/./src/utils/activity-logger/index.js","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__$devsnc_library_uxf\"","webpack://__TECTONIC__sn_canvas_core/./src/behaviors/sn-canvas-screens/sn-canvas-screens.resolver.js","webpack://__TECTONIC__sn_canvas_core/./src/behaviors/sn-canvas-screens/sn-canvas-screens.config.js","webpack://__TECTONIC__sn_canvas_core/./src/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/sn-canvas-router.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/sn-canvas-router.effects.js","webpack://__TECTONIC__sn_canvas_core/(webpack)/buildin/global.js","webpack://__TECTONIC__sn_canvas_core/./node_modules/path-to-regexp/index.js","webpack://__TECTONIC__sn_canvas_core/./node_modules/qs/lib/index.js","webpack://__TECTONIC__sn_canvas_core/./node_modules/qs/lib/stringify.js","webpack://__TECTONIC__sn_canvas_core/./node_modules/qs/lib/parse.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/sn-canvas-router.urlParser.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-metrics/persistAtInterval.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-metrics/requestIdleCallback.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-router/sn-canvas-router.storage.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-client/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-client/sn-canvas-client.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-client/utils/client.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-client/utils/greeting.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/sn-canvas-layout.js","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__lodash_4_17_4[\\\"isFunction\\\"]\"","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/_sn-canvas-layout.scss?c09b","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/_sn-canvas-layout.scss","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/canvasLayoutErrorBehavior.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/canvasLayoutEffect.js","webpack://__TECTONIC__sn_canvas_core/./src/amb/index.js","webpack://__TECTONIC__sn_canvas_core/./src/amb/ambStatusBehavior.js","webpack://__TECTONIC__sn_canvas_core/./src/amb/ambStatusEffect.js","webpack://__TECTONIC__sn_canvas_core/./src/amb/getAuthToken.js","webpack://__TECTONIC__sn_canvas_core/./src/amb/ambClientProxy.js","webpack://__TECTONIC__sn_canvas_core/./src/amb/glide-amb-client-bundle.min.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/sn-canvas-layout.effects.screen-status.js","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__sn_canvas_core/./src/utils/activity-logger/activity-logger.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/sn-canvas-layout.effects.activity-log.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-layout/sn-canvas-layout.effects.navigation.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/global-unload-listener.js","webpack://__TECTONIC__sn_canvas_core/external \"__TECTONIC__lodash_4_17_4[\\\"isEmpty\\\"]\"","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/sn-canvas-main.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/view.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/sn-canvas-main.util.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/sn-canvas-main.effects.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/_sn-canvas-main.scss?c9e9","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-main/_sn-canvas-main.scss","webpack://__TECTONIC__sn_canvas_core/./src/behaviors/sn-canvas-screens/sn-canvas-screens.behaviors.js","webpack://__TECTONIC__sn_canvas_core/./src/behaviors/sn-canvas-screens/sn-canvas-screens.effects.js","webpack://__TECTONIC__sn_canvas_core/./src/utils/behaviors/selectableProps.behaviors.js","webpack://__TECTONIC__sn_canvas_core/./src/utils/selectablePropUtils.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-screen/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-screen/sn-canvas-screen.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-screen/sn-canvas-screen.effects.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-screen/sn-canvas-screen.util.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-screen/_sn-canvas-screen.scss?c8bd","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-screen/_sn-canvas-screen.scss","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-modal-hoist/index.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-modal-hoist/sn-canvas-modal-hoist.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-modal-hoist/sn-canvas-modal-hoist.actions.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-modal-hoist/sn-canvas-modal-hoist.util.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-modal-hoist/view.js","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-modal-hoist/_sn-canvas-modal-hoist.scss?b158","webpack://__TECTONIC__sn_canvas_core/./src/sn-canvas-modal-hoist/_sn-canvas-modal-hoist.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","SUB_URL","PARAMS_DIVIDER","QUERY_PARAMS_DIVIDER","URL_CONTENT_LOADED","CURRENT_ROUTE","COMPONENT_ID","SN_CANVAS_CLIENT","SN_CANVAS_ROUTER","SN_CANVAS_LAYOUT","SN_CANVAS_MAIN","SN_CANVAS_SCREEN","SN_CANVAS_MODAL_HOIST","USER_PREF_UPDATE_STARTED","USER_PREF_UPDATE_SUCCEEDED","USER_PREF_UPDATE_FAILED","USER_PREF_UPDATE_ERROR","USER_PREF_UPDATE","SCREEN_DATA_CHANGED","MAIN_SELECTED_CONTENT_CHANGED","MODAL_SELECTED","MODAL_CLOSED_INTERNAL","MODAL_OPENED_INTERNAL","MODAL_CLOSED","MODAL_OPENED","ACTIVE_SCREEN_RENDERED","CONTENT_SCREENS_DISCARDED","CONTENT_ITEMS_SELECTED","SCREEN_STATUS_CHANGED","SESSION_LOGGED_OUT","NAV_ITEM_SELECTED","CONTENT_UPDATED","CANVAS_SCREEN_LOADED","NOW_MODAL_OPENED_SET","NOW_UXF_BARE_MODAL_DISMISSED","PROPERTIES_SET","USER_PREF_PROPERTY","ROOT_SELECTED_NAV_ITEM","ROOT_CONTENT_UPDATED","SCREEN_DATA","CHANGED_USER_PREF_PROP_BEHAVIOR","ROUTER_CONFIG_PROP_BEHAVIOR","SELECTED_CONTENT_PROP_BEHAVIOR","ROOT_SELECTED_PROP_BEHAVIOR","SCREENS_DATA_BEHAVIOR","ROOT_MODAL_PROP_BEHAVIOR","MESSAGE_404","NOW_LOGIN_SUCCESS","UNDEFINED_FIELD_VALUE","__TECTONIC__lodash_4_17_4","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__$servicenow_ui_core","routerConfig","routeTypeFieldGroupsMap","defaultConfig","errorPages","siteName","landingPath","routes","record","macroponentSysId","optionalParameters","macroponentConfiguration","fields","home","list","page","initConfig","config","routerConfigData","isEmpty","queryParams","entries","forEach","routeObj","macroponents","rest","deepRouteCopy","cloneDeep","Array","isArray","length","params","Set","getLandingPath","queryParamsEnabled","getRouterConfig","getUXGlobalRouterConfiguration","window","__TECTONIC__sn_translate","useSourceMap","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","push","generateScreenKey","route","keys","sort","reduce","hash","recoverContentFromKey","parts","split","j","getScreenKey","selectedContent","_selectedContent","uid","multiInstField","getSuspendableDiscardableScreens","screensData","properties","mainConfig","maxCachedPageCount","maxActivePageCount","MAX_CACHED_SCREEN_COUNT","MAX_ACTIVE_SCREEN_COUNT","suspendableScreens","discardableScreens","sorted","a","b","lastActiveTimeStamp","filter","isDirty","isActive","endIdx","slice","unSuspendScreens","newScreensData","screenData","suspended","areFieldsValid","invalidValues","undefined","val","__TECTONIC__$servicenow_ui_metrics","getLocation","replace","navigateUrl","url","title","shouldReload","noTitleUpdateUsingUrl","reloadUrl","href","resolveHref","getGlobal","history","pushState","setPageTitle","initBaseUrl","pathname","rawPathname","_pathname","path","base","getBasePath","_path","trimSlashes","BASE_TITLE","indexOf","redirectUrl","getParametersFromPath","regex","end","queryIdx","match","exec","stripBase","substring","search","keysToParams","query","getParamsInCamelCase","qs","parse","getParamsFromUri","options","paramFound","paramName","constants","camelCase","decodeURIComponent","BASE_ATTR","document","self","global","Error","location","removeTrailingSlash","last","removeFirstSlash","index","k","hrefParts","up","acc","part","removeRelativePathParts","replaceState","tabTitle","pageTitle","charAt","toUpperCase","substr","e","basePath","querySelector","parsed","createElement","getPathname","getAttribute","paramsInKababCase","paramsInCamelCase","getFilteredParams","configuredParams","size","filteredParams","param","getRoute","fieldsLength","getTypeFieldGroupsMap","isRouteMultiInstEnabled","field","doesRouteExist","typeFieldGroupsMap","has","getSessionStorageKey","_sessionStorageKey","IS_LOGGED_IN","gLoggedIn","toLowerCase","DESTINATION_URL","destinationUrl","appRouteConfiguration","SN_CANVAS_TABS_DATA","NOW_DROPDOWN_ITEM_CLICKED","NOW_NAVIGATION_ITEM_CLICKED","NOW_BUTTON_CLICKED","NOW_POPOVER_OPENED_SET","NOW_BUTTON_BARE_CLICKED","NOW_CONFIRM_MODAL_CLEAR","NOW_CONFIRM_MODAL_POSITIVE_BUTTON_CLICKED","NOW_CONFIRM_MODAL_NEGATIVE_BUTTON_CLICKED","EMAIL_LINK_TYPE","PHONE_LINK_TYPE","ROUTE_LINK_TYPE","MODAL_LINK_TYPE","EXTERNAL_LINK_TYPE","ACTION_LINK_TYPE","USER_MENU_TOGGLE_SET","PUBLIC_ACTION_BUTTON_CLICKED","DEFAULT_LOGOUT_ROUTE","ENTER_KEY_CODE","HOME_KEY","ARROW_RIGHT_KEY","ARROW_DOWN_KEY","ARROW_LEFT_KEY","END_KEY","ESCAPE_KEY","LOAD_TABS_DATA","TABS_DATA_UPDATED","TABS_INIT_PROPS_BEHAVIOR","TABS_ROOT_BEHAVIOR","CLOSE_TAB_MENU_ITEM","CLOSE_OTHER_TABS_MENU_ITEM","CLOSE_ALL_TABS_MENU_ITEM","CHAT_ITEM_TYPE","TOGGLE_TAB_PREVIEW","EDS_MODAL_CANCEL_BTN","variant","label","EDS_MODAL_CONFIRM_BTN","WORKSPACE_TAB_ACTIVATED","MAIN_TAB_CLICKED","MASTER_DETAIL_TOGGLED","MAIN_TAB_CLOSE_CLICKED","MAIN_TAB_NEW_CLICKED","MAIN_TAB_NEW_ALERT_CLEARED","MAIN_TAB_NEW_ALERT_CLEARED_OK","SUB_TAB_CLOSE_CLICKED","TABS_SCREEN_CONTENT_CHANGED","TABS_CLOSE_REQUESTED","TABS_CLOSE_CONFIRMED","TABS_CLOSE_CANCELLED","TABS_SELECTED_CONTENT_CHANGED","DRILLDOWN_BACK_CLICKED","SCREEN_CLOSED_CONFIRMED","SCREEN_CLOSED_CANCELLED","PRIMARY_TAB_PROP_CHANGED","NAVIGATION_CLOSED","VIEWPORT_SELECTED","ITEM_SELECTED","SELECT_TAB","CONTEXTUAL_RECORD_ITEM_TYPE","TWO_LAYER_TYPE","MAIN_TAB_ONLY_TYPE","MOVE_UP","TAB","MOVE_DOWN","EXECUTE","CLICK","RECORD_ITEM_TYPE","FULL_SEARCH_ITEM_TYPE","KNOWLEDGE_ITEM_TYPE","NON_RECORD_ITEM_TYPE","FULL_LIST_ITEM_TYPE","NEW_RECORD_ITEM_TYPE","FULL_SEARCH_TAB_TITLE","KNOWLEDGE_TAB_TITLE","ACTIVITY_LOG_UPDATED","OPEN_OR_FOCUS_TAB_REDUCER","UPDATE_TABS_REDUCER","LIVE_UPDATE_TABS_REDUCER","INIT_TABS_REDUCER","CHAINED_REDUCER","CLOSE_ONE_DRILLDOWN_REDUCER","UPDATE_PRIMARY_TAB_REDUCER","ICON_CHAT_FILL","ICON_CHAT_OUTLINE","ICON_PHONE_FILL","ICON_PHONE_OUTLINE","ICON_GROUP_FILL","ICON_GROUP_OUTLINE","ICON_LIST_OUTLINE","INTERACTION_TABLE","TAB_DETAILS_TITLE","DEFAULT_MULTI_INST_FIELD","SCREEN_STATUS_ACTION_CLOSED","getUrlFromContentDefinition","contentDef","contentRoute","contentFields","hasMatchedRoute","urlType","getUriFromParams","result","kebabCase","getUrlFromSelectedContent","leafUrl","rootContent","parent","rootUrl","hexTable","array","arrayToObject","obj","plainObjects","merge","target","allowPrototypes","mergeTarget","assign","decode","str","encode","string","String","out","charCodeAt","compact","queue","prop","refs","pop","compacted","compactQueue","isRegExp","isBuffer","constructor","percentTwenties","formatters","RFC1738","RFC3986","setIsPageLoad","bool","isPageLoad","getIsPageLoad","getInteractionStack","interactionStack","pushInteractionStack","shiftInteractionStack","shift","setInteractionId","shouldPersistMetrics","SYS_PROP_PERF_ENABLED","intervalDuration","SYS_PROP_PERF_INTERVAL","DEFAULT_INTERVAL","interactionId","createInteractionId","nowUiFramework","uxrInteractionId","initCustomMetrics","addEventListener","defineMetric","persitenceUrl","interactions","idx","marks","getMarks","event","HERO_INTERACTIVE","NAVIGATE","results","mark","navigation","lastNotableIdx","startIdx","metrics","type","PAGE_LOAD","NAVIGATION","getInteractions","fetch","keepalive","credentials","method","headers","transaction_source","g_ck","body","createQueryFromInteractions","getPageLoadTimes","interaction","pageLoadTime","networkTime","load","performance","getEntries","loadEventEnd","loadEventStart","responseEnd","requestStart","getReferrer","referrer","variables","application","ux_globals","pageSettings","displayValue","componentName","uiPolicyTime","clientScriptsTime","timeToInteraction","markTime","libuxf","sysprops","activityLogger","__TECTONIC__$devsnc_library_uxf","EVALUATION_CACHE","AUTH_ROUTES","ROUTES","EVALUATORS","AND","op","symbol","evaluator","OR","EQUALS","NOTEQUALS","STARTSWITH","startsWith","evaluateCondition","parsedCondition","logical_op","_result","preParseConditions","_macroponents","conditionStr","conditionArr","conditionObj","logical_operator","Math","min","parseCondition","getScreen","screenKey","routeToScreenMap","getRouteToScreenMap","screenType","custom404PropRoute","fieldsLen","defaultMacroponent","condition","console","error","ROUTE_TO_SCREEN_MAP","createCustomElement","snabbdom","view","default","selectable","routerInitiated","nowMetricTypes","actionHandlers","lifeCycleHandlers","COMPONENT_BOOTSTRAPPED","COMPONENT_DISCONNECTED","COMPONENT_PROPERTY_CHANGED","actionTypes","ignoreContentUpdatedChange","_onPopState","updateProperties","getSelectedContentFromUrl","updateUrl","coeffects","host","action","getInteractionId","meta","reload","redirect","state","removeEventListener","payload","rootSelectedNavItem","targetRoute","_targetContent","restContent","_newRecordId","retrieveRecordId","saveRecordId","onRootSelectedNavItemChange","rootContentUpdated","onRootContentUpdatedChange","g","Function","pathToRegexp","compile","tokensToFunction","tokensToRegExp","PATH_REGEXP","RegExp","res","tokens","defaultDelimiter","delimiter","delimiters","pathEscaped","escaped","offset","prev","next","capture","group","modifier","partial","repeat","optional","pattern","prefix","escapeGroup","escapeString","matches","data","token","segment","TypeError","test","flags","sensitive","strict","start","endsWith","isEndDelimited","groups","regexpToRegexp","arrayToRegexp","stringToRegexp","formats","utils","arrayPrefixGenerators","brackets","indices","toISO","Date","toISOString","defaults","encoder","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","generateArrayPrefix","allowDots","formatter","objKeys","values","opts","format","arrayFormat","joined","addQueryPrefix","arrayLimit","decoder","depth","parameterLimit","parseKeys","givenKey","child","chain","leaf","root","cleanRoot","parseInt","isNaN","parseArrays","parseObject","ignoreQueryPrefix","tempObj","cleanStr","limit","Infinity","bracketEqualsPos","pos","parseValues","newObj","redirectInvalidUrl","getContent","multiInstFieldIndex","_type","_options","urlFields","prevSelectedContent","subContent","subUrlIdx","findIndex","getSubPortion","interval","clearInterval","setInterval","requestIdleCallback","requestIdleCallbackPolyfill","callback","setTimeout","now","didTimeout","timeRemaining","max","recordId","serializedInstanceId","lastRecordId","sessionStorage","setItem","_recordId","getItem","storedRecordInfo","warn","COMPONENT_DOM_READY","clientInfo","schema","renderer","greeting","Client","OS","WINDOWS","MACINTOSH","IOS","ANDROID","_getOS","userAgent","navigator","regExpPlatform","regExpAppleDevices","version","_getMobileOS","platform","regExpVersion","uaResult","_getDesktopOS","_setOS","os","parseFloat","BROWSER","INTERNET_EXPLORER","EDGE","FIREFOX","CHROME","SAFARI","_calcBrowser","ua","browserMatch","browser","_setBrowser","regExpMobile","mozilla","$1","mobile","webkit","webkitVersion","regExpWebkitVersion","chromeMatch","firefoxMatch","androidMatch","isMobile","exp","isStandalone","standalone","fullscreen","webview","phantomJS","msie","trident","edge","_getBrowser","_setSupport","support","touch","maxTouchPoints","DocumentTouch","supportTouch","SYSTEMTYPE","TABLET","PHONE","DESKTOP","COMBI","_getSystem","isTabletDetected","windows","chrome","android","densityFactor","devicePixelRatio","screen","width","height","isAndroidPhone","_isTablet","isWin8Upwards","system","tablet","phone","windows_phone","desktop","combi","_setSystem","getTimeZoneName","timeZoneName","toLocaleString","getLanguage","lang","_htmlEle","getElementsByTagName","language","_setLanguage","getDir","dir","_setDir","freeze","currentHour","getHours","styles","activeScreenId","linkToCurrentScreenConfiguration","screenStatus","dirtyModalId","icon","hasError","hasUpdate","message","tooltipPreview","tooltipPreviewSchema","activityLogs","Map","closedNavigationIds","screenCloseConfirmation","screenStatusActionHandlers","activityLogActionHandlers","navigationActionHandlers","nowId","GlobalUnloadistener","add","remove","clear","behaviors","canvasLayoutErrorBehavior","ambStatusBehavior","HTTP_ERROR_OCCURRED","canvasLayoutEffect","ACTION_TYPES","onConnect","onDisconnect","onHttpErrorOccurred","effectHandlers","COMPONENT_CONNECTED","BROWSER_STATUS","CANVAS_GLOBAL_ERROR","CANVAS_HIDE_ERROR_MODAL","onlineHandler","dispatch","evt","offlineHandler","status","AMB_STATUS_SET","AMB_EVENT_SESSION_LOGGED_IN","AMB_EVENT_SESSION_LOGGED_OUT","AMB_EVENT_SESSION_INVALIDATED","ambStatusEffect","handleSessionLoggedIn","handleSessionLoggedOut","handleSessionInvalidated","setAMBStatus","initialState","isSessionLoggedIn","isAuthTokenActive","sessionTimeLeft","isLoggedIn","sessionLoggedIn","forgetMe","actions","private","behaviorState","resetAuthToken","ambClientProxy","unsubscribeFromAction","showError","errorConfig","updateState","operation","dispatchOnEvent","isGckValid","client","getChannel","subscribe","ext","sessionTimeLeftInSeconds","unsubscribeFromActions","new_g_ck","handlerIdMap","amb","getClient","actionType","eventKey","eventName","getEvents","subscribeToEvent","handlerId","unsubscribeFromEvent","configurable","log","debug","logLevel","addInfoMessage","addErrorMessage","servletPath","loginWindow","wsConnectTimeout","overlayStyle","getCallback","getSubscriptionCallback","getID","setNewChannel","unsubscribe","resubscribe","getName","publish","splice","_getSubscriptions","apply","u","CONNECTION_INITIALIZED","CONNECTION_OPENED","CONNECTION_CLOSED","CONNECTION_BROKEN","SESSION_LOGGED_IN","SESSION_INVALIDATED","addListener","T","I","E","f","h","UNKNOWN_CLIENT","v","w","y","C","_","successful","O","x","disconnect","setLogLevel","S","resubscribeToCometD","L","unsubscribeFromCometD","U","loginShow","D","N","getLastError","getErrorMessages","setLastError","M","initialize","R","XMLHttpRequest","open","setRequestHeader","getClientId","onload","send","loginHide","connect","servletURI","configure","getURL","connectTimeout","handshake","abort","getTransport","protocol","unsubscribeAll","resubscribeAll","removeChannel","getConnectionState","getChannelRedirect","getChannels","getState","getLoginWindowOverlayStyle","GlideModal","renderWithContent","template","setBody","render","destroy","loginComplete","isLoginWindowEnabled","setLoginWindowEnabled","isLoginWindowOverride","_metaConnect","_metaHandshake","_sendSessionSetupRequest","_onChannelRedirectSubscriptionComplete","_getChannel","_removeChannel","_connectionInitialized","_connectionOpened","clientId","fromChannel","toChannel","getChannelListeners","subscribeToCometD","_onAdvice","_handleResponse","getStatus","subscriptionCallback","getListenerCallbackQueue","setSubscriptionCallbackResponse","CometD","registerTransport","WebSocketTransport","LongPollingTransport","unregisterTransport","registerExtension","getServerConnection","isConnected","getConnectionEvents","serializedGraphQLSubscription","isGraphQLChannel","addGraphQLChannel","removeGraphQLChannel","unregisterExtension","batch","Logger","EventManager","ServerConnection","ChannelRedirect","ChannelListener","Channel","MessageClient","isString","inArray","_debug","clearTimeout","registered","unregistered","arguments","_mixin","getConfiguration","getAdvice","convertToMessages","accept","getType","setURL","reset","derive","transportSend","expired","sync","maxNetworkDelay","metaConnect","timeout","reason","xhr","httpCode","xhrStatus","abortXHR","complete","onFailure","messages","envelope","maxConnections","autoBatch","transportSuccess","onSuccess","transportFailure","readyState","UNSENT","newXMLHttpRequest","xhrSend","context","withCredentials","responseText","onError","statusText","onerror","transport","requestHeaders","exception","jsonpSend","removeChild","src","async","appendChild","encodeURI","maxURILength","webSocketClose","code","onClose","envelopes","webSocket","timeouts","WebSocket","stickyReconnect","connectTimer","onopen","onOpen","_warn","onclose","onmessage","onMessage","_notifySuccess","_notifyFailure","channel","websocketCode","websocketEnabled","close","getTransportTypes","findTransportTypes","negotiateTransport","find","backoffIncrement","maxBackoff","appendMessageTypeToURL","urls","advice","reconnect","maxInterval","A","pow","F","getMinutes","getSeconds","getMilliseconds","P","q","listener","B","G","W","H","Q","onExtensionException","_info","z","extension","outgoing","X","scope","onListenerException","J","V","K","Z","connectionType","$","Y","ee","ne","te","ie","re","onTransportException","oe","minimumVersion","supportedConnectionTypes","_putCallback","se","onCallbackException","ae","_getCallback","ue","ce","delay","le","onTransportFailure","de","cause","fe","ge","he","pe","be","subscription","ve","me","we","ye","Ce","_e","incoming","_isCrossDomain","reestablish","Te","xe","ke","getTransportRegistry","getBackoffPeriod","failure","increaseBackoffPeriod","getTime","resetBackoffPeriod","receive","unregisterTransports","findTransport","init","startBatch","endBatch","removeListener","clearListeners","clearSubscriptions","publishBinary","ArrayBuffer","binary","remoteCall","remoteCallBinary","isDisconnected","setBackoffIncrement","getBackoffIncrement","getExtension","Transport","RequestTransport","CallbackPollingTransport","Utils","Z85","buffer","Uint8Array","byteLength","DataView","getUint8","floor","setUint8","getGraphQLSubscriptions","MSInputMethodContext","documentMode","getClientWindow","g_ambClient","subscriptions","onUnload","unloading","getChannel0","frameElement","isKeyUpdateRequired","screenParams","keyArray","every","getScreenConfigurationLink","screenId","screenTypeId","updateActivityLogs","activeKey","_activityLogs","getAll","_key","_value","screenMetaData","callbackFn","isRelatedRecord","keyInfo","incomingContent","logInfo","navInfo","sys_id","shouldSkip","saveOrUpdateLog","screenTitle","changePayload","componentId","isScreenKeyUpdated","convertToHash","stack","getKeyInfo","recoverContextFromKey","mapToAggregation","aggregationMap","set","_activityMap","_logInfo","timestamp","_hash","existingRecord","newActivities","existingActivities","activities","activityKey","existingActivity","_keyInfo","activitykey","existingLogInfo","pick","getSingle","clearAll","clearSingle","delete","clearMultiple","keyInfoArray","closedIdsInfo","activityKeys","annotation","parentKey","_globalUnloadFunctions","runFuncs","functionList","retVal","returnValue","preventDefault","defaultOnUnload","fn","screenKeyMap","screensDataBehaviors","screenStatusChangeBehavior","activityLogBehavior","userPreferenceBehavior","_screensData","_fields","newKey","getOwnPropertyDescriptor","_newScreenKeyMap","omit","derivedState","userPrefs","isEqual","screensArr","_timestamp","aria-label","className","buildScreenKey","screen-id","screen-data","activity-logs","user-prefs","now-mode","style","display","createScreens","EventScheduler","eventQueue","scheduler","actionObj","dequeueEvent","schedule","addEvent","parentEle","eventScheduler","mainActionInterceptor","parentElement","getParentComponent","stopPropagation","screensDataBehavior","initScreenLoaded","selectedContentPropBehavior","passiveNavigation","restSelectedContent","hasScreen","activeScreen","screenContent","eventMappings","viewportConfigurationId","getParentScreen","macroponentSet","routeList","uxfRouteMacroponentMap","prefetchLimits","routeLimit","screenLimit","obj1","obj2","order","scheme","requestAnimationFrame","cancelScheme","cancelIdleCallback","cancelAnimationFrame","requestId","getTemplates","prefetchTemplates","getSelectableRouterProps","propName","getSelectableProp","componentIds","snCanvasPortal","setTargetRef","ref","targetRef","loadScreen","fragment","hook-insert","elm","hook-destroy","level","navigationInterceptor","previousValue","children","prevParams","prevFields","oldNode","flattenedParams","propObj","isSuspended","setPropsOnDom","handleScreenDataChange","node","firstElementChild","handleActivityLogsChange","handleUserPrefsChange","actionTransformerTag","registerScreenActionTransformer","newNode","childNodes","replaceChild","flattenParams","getAppliedTemplate","newUserPrefs","appendToPayload","__uxfCompositionElId","actionTransformerElement","domObj","modalContent","modalStack","elemRef","removeSuspendedMode","rootEl","_queue","unsuspend","el","nowMode","_el","_onPopStateModalAction","isOpen","closeAll","mutationCallback","mutationsList","observer","mutation","addedNodes","hoistedSource","modalId","bare","displayOptions","headerLabel","footerActions","extractModalTitle","hoistFooter","disableDismiss","detachMutationObserver","handleOpenModal","preserveState","saveInitComponentState","hoistElement","hasAttribute","removeAttribute","getHoistedSource","MutationObserver","observe","attributes","childList","subtree","attachMutationObserver","shadowRoot","elmRef","tobeHidden","prevModalId","unHoistFooter","modalContentChanged","count","makePrevModalActive","nextModalId","nextHoistedSource","nextfooterActions","nextSource","nextBare","_index","modalCount","_bare","resetComponents","unHoistElement","removedModalContents","lastModalInfo","handleCloseModal","hostMap","internalToExternalActionMap","retargetAndDispatch","externalAction","modalInstanceId","seismicHoistEle","sourceElement","showModal","deepSearchElement","selector","top","ele","topShadow","allSearched","querySelectorAll","deepSearchAllElement","sourceRef","getAllComponents","getFooters","nowModalFooter","hoistedEle","modalFooter","hideSourceTitle","titleSource","hideSource","footerSource","classList","contains","allComponents","propsMap","isFunction","getProperties","componentsInitState","initProps","modalData","opened","header-label","footer-actions","manage-opened"],"mappings":"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","file":"sn-canvas-core.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n","import { t } from 'sn-translate';\n\n//constants for router\nexport const SUB_URL = 'sub';\nexport const PARAMS_DIVIDER = 'params';\nexport const QUERY_PARAMS_DIVIDER = '?';\nexport const URL_CONTENT_LOADED = 'URL_CONTENT_LOADED';\nexport const CURRENT_ROUTE = 'current';\n\nexport const COMPONENT_ID = 'component-id';\n\n//Component Names\nexport const SN_CANVAS_CLIENT = 'sn-canvas-client';\nexport const SN_CANVAS_ROUTER = 'sn-canvas-router';\nexport const SN_CANVAS_LAYOUT = 'sn-canvas-layout';\nexport const SN_CANVAS_MAIN = 'sn-canvas-main';\nexport const SN_CANVAS_SCREEN = 'sn-canvas-screen';\nexport const SN_CANVAS_MODAL_HOIST = 'sn-canvas-modal-hoist';\n\n// Actions\nexport const USER_PREF_UPDATE_STARTED = 'USER_PREF_UPDATE_STARTED';\nexport const USER_PREF_UPDATE_SUCCEEDED = 'USER_PREF_UPDATE_SUCCEEDED';\nexport const USER_PREF_UPDATE_FAILED = 'USER_PREF_UPDATE_FAILED';\nexport const USER_PREF_UPDATE_ERROR = 'USER_PREF_UPDATE_ERROR';\nexport const USER_PREF_UPDATE = 'USER_PREF_UPDATE';\n\nexport const SCREEN_DATA_CHANGED = 'SCREEN_DATA_CHANGED';\nexport const MAIN_SELECTED_CONTENT_CHANGED = 'MAIN_SELECTED_CONTENT_CHANGED';\n\nexport const MODAL_SELECTED = 'MODAL_SELECTED';\nexport const MODAL_CLOSED_INTERNAL = 'UXR_INTERNAL#MODAL_CLOSED';\nexport const MODAL_OPENED_INTERNAL = 'UXR_INTERNAL#MODAL_OPENED';\nexport const MODAL_CLOSED = 'CANVAS_MODAL#CLOSED';\nexport const MODAL_OPENED = 'CANVAS_MODAL#OPENED';\n\nexport const ACTIVE_SCREEN_RENDERED = 'ACTIVE_SCREEN_RENDERED';\nexport const CONTENT_SCREENS_DISCARDED = 'CONTENT_SCREENS_DISCARDED';\nexport const CONTENT_ITEMS_SELECTED = 'CONTENT_ITEMS_SELECTED';\nexport const SCREEN_STATUS_CHANGED = 'SCREEN_STATUS_CHANGED';\n\nexport const SESSION_LOGGED_OUT = 'SESSION_LOGGED_OUT';\n\nexport const NAV_ITEM_SELECTED = 'NAV_ITEM_SELECTED';\nexport const CONTENT_UPDATED = 'CONTENT_UPDATED';\nexport const CANVAS_SCREEN_LOADED = 'CANVAS_SCREEN_LOADED';\n\n// NOW Actions\nexport const NOW_MODAL_OPENED_SET = 'NOW_MODAL#OPENED_SET';\nexport const NOW_UXF_BARE_MODAL_DISMISSED = 'NOW_UXF_BARE_MODAL#DISMISSED';\n\n// Seismic\nexport const PROPERTIES_SET = 'PROPERTIES_SET';\n\n//properties\nexport const USER_PREF_PROPERTY = 'userPrefs';\nexport const ROOT_SELECTED_NAV_ITEM = 'rootSelectedNavItem';\nexport const ROOT_CONTENT_UPDATED = 'rootContentUpdated';\nexport const SCREEN_DATA = 'screenData';\n\n//Selectable Properties\nexport const CHANGED_USER_PREF_PROP_BEHAVIOR =\n\t'CHANGED_USER_PREF_PROP_BEHAVIOR';\nexport const ROUTER_CONFIG_PROP_BEHAVIOR = 'ROUTER_CONFIG_PROP_BEHAVIOR';\nexport const SELECTED_CONTENT_PROP_BEHAVIOR = 'SELECTED_CONTENT_PROP_BEHAVIOR';\nexport const ROOT_SELECTED_PROP_BEHAVIOR = 'ROOT_SELECTED_PROP_BEHAVIOR';\nexport const SCREENS_DATA_BEHAVIOR = 'SCREENS_DATA_BEHAVIOR';\nexport const ROOT_MODAL_PROP_BEHAVIOR = 'ROOT_MODAL_PROP_BEHAVIOR';\n\nexport const MESSAGE_404 = t('The page you are looking for could not be found');\n\n//'NOW_LOGIN#SUCCEEDED'\nexport const NOW_LOGIN_SUCCESS = 'NOW_LOGIN#SUCCEEDED';\n\nexport const UNDEFINED_FIELD_VALUE = '~~undefined~~';\n","module.exports = __TECTONIC__lodash_4_17_4;","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__$servicenow_ui_core;","import { isEmpty, get, cloneDeep } from 'lodash';\n\nlet routerConfig;\nlet routeTypeFieldGroupsMap;\n\nconst defaultConfig = {\n\terrorPages: {},\n\tsiteName: 'now/uxf/demo',\n\tlandingPath: 'home',\n\troutes: {\n\t\trecord: [\n\t\t\t{\n\t\t\t\tmacroponentSysId: '0b89c7515b310010b913cbd59b81c75a',\n\t\t\t\toptionalParameters: ['selectedTabIndex', 'tabId', 'chatId'],\n\t\t\t\tmacroponentConfiguration: {},\n\t\t\t\tfields: ['table', 'sys_id']\n\t\t\t}\n\t\t],\n\t\thome: [\n\t\t\t{\n\t\t\t\tmacroponentSysId: '23210f8e230500100e4bc50947bf6551',\n\t\t\t\toptionalParameters: [],\n\t\t\t\tmacroponentConfiguration: {},\n\t\t\t\tfields: []\n\t\t\t}\n\t\t],\n\t\tlist: [\n\t\t\t{\n\t\t\t\tmacroponentSysId: '23210f8e230500100e4bc50947bf6551',\n\t\t\t\toptionalParameters: ['listId'],\n\t\t\t\tmacroponentConfiguration: {},\n\t\t\t\tfields: []\n\t\t\t}\n\t\t],\n\t\tpage: [\n\t\t\t{\n\t\t\t\tmacroponentSysId: '23210f8e230500100e4bc50947bf6551',\n\t\t\t\toptionalParameters: ['listId'],\n\t\t\t\tmacroponentConfiguration: {},\n\t\t\t\tfields: ['page_id']\n\t\t\t}\n\t\t]\n\t}\n};\n\nconst _transformRouterConfigProp = routerConfigData => ({\n\tlandingPath: get(routerConfigData, 'landingPath', ''),\n\tqueryParams: get(routerConfigData, 'encodeQueryString', false),\n\troutes: get(routerConfigData, 'routes', {})\n});\n\nexport const initConfig = config => {\n\tif (!routerConfig)\n\t\trouterConfig =\n\t\t\t!config || isEmpty(config)\n\t\t\t\t? defaultConfig\n\t\t\t\t: _transformRouterConfigProp(config);\n};\n\nexport const getTypeFieldGroupsMap = () => {\n\tif (routeTypeFieldGroupsMap) return routeTypeFieldGroupsMap;\n\trouteTypeFieldGroupsMap = {};\n\tfor (let [key, value] of Object.entries(routerConfig.routes)) {\n\t\tvalue.forEach(routeObj => {\n\t\t\tconst {\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\tmacroponents,\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\tmacroponentSysId,\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\tmacroponentConfiguration,\n\t\t\t\t...rest\n\t\t\t} = routeObj; //remove screen info from router info\n\t\t\tconst deepRouteCopy = cloneDeep(rest);\n\t\t\tconst { fields } = deepRouteCopy;\n\t\t\tconst n = Array.isArray(fields) ? fields.length : 0;\n\t\t\trouteTypeFieldGroupsMap[key] = {\n\t\t\t\t...routeTypeFieldGroupsMap[key],\n\t\t\t\t[n]: {\n\t\t\t\t\t...deepRouteCopy,\n\t\t\t\t\tparams: new Set(deepRouteCopy.optionalParameters)\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\treturn routeTypeFieldGroupsMap;\n};\nexport const getLandingPath = () => routerConfig.landingPath;\nexport const queryParamsEnabled = () => routerConfig.queryParams;\nexport const getRouterConfig = () => routerConfig;\nexport const getUXGlobalRouterConfiguration = () =>\n\tget(window, 'ux_globals.routeConfiguration', {});\n","module.exports = __TECTONIC__sn_translate;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","import { cloneDeep } from 'lodash';\n\nconst DEFAULT_MAX_CACHED_SCREEN_COUNT = 30;\nconst DEFAULT_MAX_ACTIVE_SCREEN_COUNT = 10; // remaining screens will be suspended\n\nexport const generateScreenKey = (fields, route) => {\n\treturn Object.keys(fields)\n\t\t.sort()\n\t\t.reduce((hash, key) => `${hash}~${key}~${fields[key]}`, route);\n};\n\nexport const recoverContentFromKey = key => {\n\tif (!key) return;\n\tconst parts = key.split('~');\n\tconst route = parts[0];\n\tlet fields = {};\n\tfor (let i = 1; i < parts.length - 1; i = i + 2) {\n\t\tlet j = i + 1;\n\t\tfields[parts[i]] = parts[j];\n\t}\n\treturn { route, fields };\n};\n\nconst getScreenKey = selectedContent => {\n\tconst _selectedContent = cloneDeep(selectedContent);\n\tlet { route, fields, uid, multiInstField } = _selectedContent;\n\tif (!fields) fields = {};\n\n\tif (multiInstField && fields[multiInstField]) {\n\t\tconst parts = fields[multiInstField].split('_uid_');\n\t\tfields[multiInstField] = parts[0];\n\t\tif (parts.length > 1) uid = parts[1];\n\t}\n\n\tlet key = generateScreenKey(fields, route);\n\tif (uid) {\n\t\tkey = `${key}${uid}`;\n\t}\n\treturn key;\n};\n\nconst getSuspendableDiscardableScreens = (screensData, properties) => {\n\tconst { mainConfig } = properties;\n\n\tconst { maxCachedPageCount, maxActivePageCount } = mainConfig || {};\n\tconst MAX_CACHED_SCREEN_COUNT =\n\t\tmaxCachedPageCount || DEFAULT_MAX_CACHED_SCREEN_COUNT;\n\tlet MAX_ACTIVE_SCREEN_COUNT =\n\t\tmaxActivePageCount || DEFAULT_MAX_ACTIVE_SCREEN_COUNT;\n\n\tif (MAX_ACTIVE_SCREEN_COUNT > MAX_CACHED_SCREEN_COUNT)\n\t\tMAX_ACTIVE_SCREEN_COUNT = MAX_CACHED_SCREEN_COUNT;\n\n\tlet suspendableScreens = [];\n\tlet discardableScreens = [];\n\tconst sorted = [...Object.keys(screensData)]\n\t\t.sort(\n\t\t\t(a, b) =>\n\t\t\t\tscreensData[b].lastActiveTimeStamp - screensData[a].lastActiveTimeStamp\n\t\t)\n\t\t.filter(a => screensData[a].isDirty === false)\n\t\t.filter(a => screensData[a].isActive === false);\n\n\t//MAX_ACTIVE_SCREEN_COUNT must always be less than MAX_CACHED_SCREEN_COUNT\n\tif (sorted.length > MAX_ACTIVE_SCREEN_COUNT) {\n\t\tconst endIdx =\n\t\t\tsorted.length > MAX_CACHED_SCREEN_COUNT\n\t\t\t\t? MAX_CACHED_SCREEN_COUNT\n\t\t\t\t: sorted.length;\n\t\tsuspendableScreens = sorted.slice(MAX_ACTIVE_SCREEN_COUNT, endIdx);\n\t\tdiscardableScreens = sorted.slice(endIdx);\n\t}\n\treturn { suspendableScreens, discardableScreens };\n};\n\nconst unSuspendScreens = screensData => {\n\tconst newScreensData = {};\n\tfor (let [key, value] of Object.entries(screensData)) {\n\t\tconst screenData = { ...value };\n\t\tnewScreensData[key] = { ...screenData, suspended: false };\n\t}\n\treturn newScreensData;\n};\n\nconst areFieldsValid = fields => {\n\tconst invalidValues = [\"\", undefined, null];\n\tfor (const [key, value] of Object.entries(fields)) {\n\t\tfor (const val of invalidValues) {\n\t\t\tif(value === val )\n\t\t\treturn false;\n\t\t}\n\t\t\n\t}\n\treturn true;\n}\n\nexport { getScreenKey, getSuspendableDiscardableScreens, unSuspendScreens, areFieldsValid };\n","module.exports = __TECTONIC__$servicenow_ui_metrics;","import pathToRegexp from 'path-to-regexp';\nimport qs from 'qs';\nimport { get, isEmpty, camelCase, has } from 'lodash';\nimport * as constants from '../constants/constants';\nimport {\n\tqueryParamsEnabled,\n\tgetLandingPath,\n\tgetTypeFieldGroupsMap\n} from './sn-canvas-router.config';\n\nexport const BASE_ATTR = 'data-sn-href';\nconst BASE_TITLE = window.document.title;\n\nfunction getGlobal() {\n\tif (typeof self !== 'undefined') {\n\t\treturn self;\n\t}\n\n\tif (typeof window !== 'undefined') {\n\t\treturn window;\n\t}\n\n\tif (typeof global !== 'undefined') {\n\t\treturn global; // eslint-disable-line no-undef\n\t}\n\n\tthrow new Error('Unable to locate global object');\n}\n\nexport function getLocation() {\n\treturn getGlobal().location;\n}\n\n// removes all more than 1 slashes from the path\nfunction sanitizePath(path) {\n\tconst sanitized = path.replace(/\\/+/g, '/');\n\treturn sanitized;\n}\n\nfunction removeTrailingSlash(pathname) {\n\tconst last = pathname.length - 1;\n\treturn pathname.substring(last) === '/'\n\t\t? pathname.substring(0, last)\n\t\t: pathname;\n}\n\nfunction removeFirstSlash(pathname) {\n\treturn pathname.substring(0, 1) === '/' ? pathname.substring(1) : pathname;\n}\n\nfunction trimSlashes(pathname) {\n\treturn removeTrailingSlash(removeFirstSlash(pathname));\n}\n\nfunction removeRelativePathParts(href) {\n\treturn href\n\t\t.split('/')\n\t\t.filter(part => {\n\t\t\treturn part !== '..';\n\t\t})\n\t\t.join('/');\n}\n\nfunction stripBase(pathname) {\n\tconst base = getBasePath();\n\treturn pathname.replace(base, '');\n}\n\nfunction getPathname(url) {\n\tconst parsed = document.createElement('a');\n\tparsed.href = url;\n\treturn (parsed.pathname || url).replace(/(^\\/?)/, '/');\n}\n\nfunction keysToParams(match, keys) {\n\tconst params = {};\n\tlet index = 1;\n\tfor (let k in keys) {\n\t\tparams[keys[k].name] = match[index];\n\t\tindex++;\n\t}\n\n\treturn params;\n}\n\nfunction resolveHref(href) {\n\tconst base = getBasePath();\n\tif (!href.indexOf('/'))\n\t\t// absolute\n\t\treturn `${base}${href}`;\n\n\tconst hrefParts = href.split('/');\n\tconst pathname = trimSlashes(getLocation().pathname);\n\n\tif (hrefParts[0] === '.')\n\t\t// relative, cwd\n\t\treturn `/${pathname}/${hrefParts.slice(1).join('/')}`;\n\tif (hrefParts[0] === '..') {\n\t\t// relative, up\n\t\tconst up = hrefParts.reduce((acc, part) => {\n\t\t\tif (part === '..') acc++;\n\n\t\t\treturn acc;\n\t\t}, 0);\n\n\t\tif (base && trimSlashes(base).split('/').length >= up) {\n\t\t\treturn `${base}/${trimSlashes(removeRelativePathParts(href))}`;\n\t\t}\n\n\t\treturn up >= pathname.split('/').length\n\t\t\t? '/'\n\t\t\t: `/${pathname\n\t\t\t\t\t.split('/')\n\t\t\t\t\t.slice(0, up - 1)\n\t\t\t\t\t.join('/')}/${hrefParts.slice(up).join('/')}`;\n\t}\n\n\treturn `/${pathname}/${hrefParts.join('/')}`; // relative, cwd, without a prefix ('.')\n}\n\nfunction push(href) {\n\tgetGlobal().history.pushState({}, null, href);\n}\n\nfunction reloadUrl(url) {\n\tgetLocation().href = resolveHref(url);\n}\n\nexport function replace(href) {\n\tgetGlobal().history.replaceState({}, null, href);\n}\n\nexport function navigateUrl(\n\turl,\n\ttitle,\n\tshouldReload,\n\tnoTitleUpdateUsingUrl = false\n) {\n\tif (shouldReload) {\n\t\treloadUrl(url);\n\t\treturn;\n\t}\n\tpush(resolveHref(url));\n\t//trackEvent('navigate', url);\n\tif (noTitleUpdateUsingUrl === false) setPageTitle(url, title);\n}\n\nexport function setPageTitle(url, tabTitle = null) {\n\ttry {\n\t\tif (tabTitle) {\n\t\t\twindow.document.title = `${tabTitle} | ${BASE_TITLE}`;\n\t\t} else {\n\t\t\tconst title = url.split('/')[1];\n\t\t\tif (title && title.length > 3) {\n\t\t\t\tconst pageTitle = title.charAt(0).toUpperCase() + title.substr(1);\n\t\t\t\twindow.document.title = `${pageTitle} | ${BASE_TITLE}`;\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\t() => {};\n\t}\n}\n\nexport function initBaseUrl() {\n\tconst { pathname: rawPathname = '' } = getLocation();\n\tconst _pathname = sanitizePath(rawPathname);\n\tif (rawPathname !== _pathname) replace(_pathname);\n\tconst base = getBasePath();\n\tconst ERROR_NOTFOUND_PATH = '/error/NotFound';\n\n\tif (\n\t\t_pathname === '' ||\n\t\t_pathname === '/' ||\n\t\t_pathname === base ||\n\t\t_pathname === base + '/'\n\t) {\n\t\tconst _path = getLandingPath() ? '/' + trimSlashes(getLandingPath()) : '';\n\t\treplace(base + _path);\n\t\tsetPageTitle(BASE_TITLE);\n\t} else if (_pathname.indexOf(base) === -1) {\n\t\tredirectUrl(ERROR_NOTFOUND_PATH);\n\t\tsetPageTitle(ERROR_NOTFOUND_PATH);\n\t}\n}\n\nexport function redirectUrl(url, title, shouldReload) {\n\tif (!url || typeof url != 'string') return;\n\treplace(resolveHref(url));\n\tif (shouldReload) {\n\t\treloadUrl(url);\n\t\treturn;\n\t}\n\t//trackEvent('redirect', url);\n\tsetPageTitle(url, title);\n}\n\nexport function getParametersFromPath(path, url) {\n\tconst keys = [];\n\tconst regex = pathToRegexp(path, keys, { end: false });\n\tif (url) {\n\t\tconst queryIdx = url.indexOf('?');\n\t\tconst match =\n\t\t\tqueryIdx > -1\n\t\t\t\t? regex.exec(stripBase(url.substring(0, queryIdx)))\n\t\t\t\t: regex.exec(stripBase(url));\n\t\tconst search = queryIdx > -1 ? url.substring(queryIdx) : null;\n\n\t\treturn {\n\t\t\tparams: {\n\t\t\t\tpath: match ? keysToParams(match, keys) : {},\n\t\t\t\tsearch\n\t\t\t}\n\t\t};\n\t}\n\tconst { pathname, hash, search } = getLocation();\n\tconst match = regex.exec(stripBase(pathname));\n\n\treturn {\n\t\tpathname,\n\t\thash,\n\t\tparams: {\n\t\t\tquery: getParamsInCamelCase(qs.parse(search.substring(1))),\n\t\t\tsearch,\n\t\t\tpath: match ? keysToParams(match, keys) : {}\n\t\t}\n\t};\n}\n\nlet basePath = null;\nexport function getBasePath() {\n\tif (!basePath) {\n\t\tconst base = document.querySelector('base');\n\t\tif (base) {\n\t\t\t// data-sn-href is a custom base path tag used by UX Framework. Use it if it exists, or the native href attribute otherwise\n\t\t\tconst pathname = getPathname(base.getAttribute(BASE_ATTR) || base.href);\n\t\t\tbasePath = pathname ? removeTrailingSlash(pathname) : '';\n\t\t} else basePath = '';\n\t}\n\n\treturn basePath;\n}\n\n/**\n * Construct a params object from an array of URL slugs\n * @param options\n */\nexport function getParamsFromUri(options) {\n\tlet params = {};\n\tlet paramFound = false;\n\tlet paramName = null;\n\tif (queryParamsEnabled()) {\n\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\t// Stop parsing if we land on a SUB keyword\n\t\t\tif (options[i] === constants.SUB_URL) break;\n\n\t\t\tif (options[i].indexOf(constants.QUERY_PARAMS_DIVIDER) > -1) {\n\t\t\t\tparams = getParamsInCamelCase(\n\t\t\t\t\tqs.parse(\n\t\t\t\t\t\toptions[i].substring(\n\t\t\t\t\t\t\toptions[i].indexOf(constants.QUERY_PARAMS_DIVIDER) + 1\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\t// Stop parsing if we land on a SUB keyword\n\t\t\tif (options[i] === constants.SUB_URL) break;\n\n\t\t\tif (options[i] === constants.PARAMS_DIVIDER) {\n\t\t\t\t// Stop parsing if we encounter a second PARAMS keyword\n\t\t\t\tif (paramFound) break;\n\n\t\t\t\tparamFound = true;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// No params found yet\n\t\t\tif (!paramFound) continue;\n\n\t\t\tif (paramName === null)\n\t\t\t\tparamName = camelCase(decodeURIComponent(options[i]));\n\t\t\telse {\n\t\t\t\tparams[paramName] = decodeURIComponent(options[i]);\n\t\t\t\tparamName = null;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (isEmpty(params)) return;\n\n\treturn params;\n}\n\nfunction getParamsInCamelCase(paramsInKababCase) {\n\tconst paramsInCamelCase = {};\n\tfor (let [key, value] of Object.entries(paramsInKababCase)) {\n\t\tparamsInCamelCase[camelCase(key)] = value;\n\t}\n\treturn paramsInCamelCase;\n}\n\nexport const getFilteredParams = (params, configuredParams) => {\n\tif (isEmpty(params) || !configuredParams || configuredParams.size === 0)\n\t\treturn;\n\tconst filteredParams = {};\n\tconfiguredParams.forEach(param => {\n\t\tif (params[param]) filteredParams[param] = params[param];\n\t});\n\treturn isEmpty(filteredParams) ? null : filteredParams;\n};\n\nexport const getRoute = (route, fieldsLength) =>\n\tget(getTypeFieldGroupsMap(), `${route}[${fieldsLength}]`, {});\n\nexport const isRouteMultiInstEnabled = (field, value, multiInstField, uid) => {\n\tif (field !== multiInstField) return false;\n\n\tif (uid <= 0) return false;\n\n\tif (value.indexOf('_uid_') > -1) return false;\n\treturn true;\n};\n\nexport const doesRouteExist = route => {\n\tconst typeFieldGroupsMap = getTypeFieldGroupsMap();\n\treturn has(typeFieldGroupsMap, route);\n};\n","import { get } from 'lodash';\n\nlet _sessionStorageKey = null;\n\nexport function getSessionStorageKey() {\n\tif (!_sessionStorageKey) {\n\t\t_sessionStorageKey = 'chromeSessionData';\n\t}\n\treturn _sessionStorageKey;\n}\n\nexport const IS_LOGGED_IN = (() => {\n\tconst gLoggedIn = get(window, 'ux_globals.isLoggedIn', false);\n\treturn (\n\t\tgLoggedIn === true ||\n\t\t(typeof gLoggedIn === 'string' && gLoggedIn.toLowerCase() === 'true')\n\t);\n})();\n\nexport const DESTINATION_URL = (() => {\n\tlet destinationUrl = get(window, 'ux_globals.loginRedirectUrl', null);\n\n\tif (!destinationUrl) {\n\t\tconst appRouteConfiguration = get(\n\t\t\twindow,\n\t\t\t'ux_globals.routeConfiguration',\n\t\t\tnull\n\t\t);\n\t\tdestinationUrl = appRouteConfiguration\n\t\t\t? `/${appRouteConfiguration.siteName}/${\n\t\t\t\t\tappRouteConfiguration.landingPath\n\t\t\t  }`\n\t\t\t: '';\n\t}\n\treturn destinationUrl;\n})();\n","import { t } from 'sn-translate';\n\n//components\nexport const SN_CANVAS_TABS_DATA = 'sn-canvas-tabs-data';\n\n// Actions dispatched from NDS\nexport const NOW_DROPDOWN_ITEM_CLICKED = 'NOW_DROPDOWN#ITEM_CLICKED';\nexport const NOW_NAVIGATION_ITEM_CLICKED = 'NOW_NAVIGATION_ITEM#CLICKED';\nexport const NOW_BUTTON_CLICKED = 'NOW_BUTTON#CLICKED';\nexport const NOW_POPOVER_OPENED_SET = 'NOW_POPOVER#OPENED_SET';\nexport const NOW_BUTTON_BARE_CLICKED = 'NOW_BUTTON_BARE#CLICKED';\nexport const NOW_CONFIRM_MODAL_CLEAR = 'NOW_CONFIRM_MODAL#CLEAR';\nexport const NOW_CONFIRM_MODAL_POSITIVE_BUTTON_CLICKED =\n\t'NOW_CONFIRM_MODAL#POSITIVE_BUTTON_CLICKED';\nexport const NOW_CONFIRM_MODAL_NEGATIVE_BUTTON_CLICKED =\n\t'NOW_CONFIRM_MODAL#NEGATIVE_BUTTON_CLICKED';\n\n// Global actions\nexport const NAV_ITEM_SELECTED = 'NAV_ITEM_SELECTED';\nexport const MODAL_SELECTED = 'MODAL_SELECTED';\n\n// Link types\nexport const EMAIL_LINK_TYPE = 'email';\nexport const PHONE_LINK_TYPE = 'phone';\nexport const ROUTE_LINK_TYPE = 'route';\nexport const MODAL_LINK_TYPE = 'modal';\nexport const EXTERNAL_LINK_TYPE = 'external';\nexport const ACTION_LINK_TYPE = 'action';\n\n// Component actions\nexport const USER_MENU_TOGGLE_SET = 'USER_MENU_TOGGLE_SET';\nexport const PUBLIC_ACTION_BUTTON_CLICKED =\n\t'CANVAS_PUBLIC_ACTION_BUTTON#CLICKED';\n\n// Defaults\nexport const DEFAULT_LOGOUT_ROUTE = 'logout.do';\n// Keyboard constants\nexport const ENTER_KEY_CODE = 13;\n\nexport const HOME_KEY = 'Home';\nexport const ARROW_RIGHT_KEY = 'ArrowRight';\nexport const ARROW_DOWN_KEY = 'ArrowDown';\nexport const ARROW_LEFT_KEY = 'ArrowLeft';\nexport const END_KEY = 'End';\nexport const ESCAPE_KEY = 'Escape';\n\n//Tab Constants\nexport const LOAD_TABS_DATA = 'LOAD_TABS_DATA';\nexport const TABS_DATA_UPDATED = 'TABS_DATA_UPDATED';\nexport const TABS_INIT_PROPS_BEHAVIOR = 'TABS_INIT_PROPS_BEHAVIOR';\nexport const TABS_ROOT_BEHAVIOR = 'TABS_ROOT_BEHAVIOR';\nexport const CLOSE_TAB_MENU_ITEM = 'CLOSE_TAB_MENU_ITEM';\nexport const CLOSE_OTHER_TABS_MENU_ITEM = 'CLOSE_OTHER_TABS_MENU_ITEM';\nexport const CLOSE_ALL_TABS_MENU_ITEM = 'CLOSE_ALL_TABS_MENU_ITEM';\nexport const CHAT_ITEM_TYPE = 'CHAT_ITEM_TYPE';\nexport const TOGGLE_TAB_PREVIEW = 'CANVAS_TAB#TOGGLE_PREVIEW';\n\n// Modal Buttons\nexport const EDS_MODAL_CANCEL_BTN = {\n\tvariant: 'secondary',\n\tlabel: t('Cancel')\n};\n\nexport const EDS_MODAL_CONFIRM_BTN = {\n\tvariant: 'primary',\n\tlabel: t('OK')\n};\n\n// Tab actions\nexport const WORKSPACE_TAB_ACTIVATED = 'WORKSPACE_TAB_ACTIVATED';\nexport const CONTENT_UPDATED = 'CONTENT_UPDATED';\nexport const MAIN_TAB_CLICKED = 'MAIN_TAB_CLICKED';\nexport const MASTER_DETAIL_TOGGLED = 'MASTER_DETAIL_TOGGLED';\nexport const MAIN_TAB_CLOSE_CLICKED = 'MAIN_TAB_CLOSE_CLICKED';\nexport const MAIN_TAB_NEW_CLICKED = 'MAIN_TAB_NEW_CLICKED';\nexport const MAIN_TAB_NEW_ALERT_CLEARED = 'MAIN_TAB_NEW_ALERT_CLEARED';\nexport const MAIN_TAB_NEW_ALERT_CLEARED_OK = 'NOW_MODAL#FOOTER_ACTION_CLICKED';\nexport const SUB_TAB_CLOSE_CLICKED = 'SUB_TAB_CLOSE_CLICKED';\nexport const TABS_SCREEN_CONTENT_CHANGED = 'TABS_SCREEN_CONTENT_CHANGED';\nexport const TABS_CLOSE_REQUESTED = 'TABS_CLOSE_REQUESTED';\nexport const TABS_CLOSE_CONFIRMED = 'TABS_CLOSE_CONFIRMED';\nexport const TABS_CLOSE_CANCELLED = 'TABS_CLOSE_CANCELLED';\nexport const TABS_SELECTED_CONTENT_CHANGED = 'TABS_SELECTED_CONTENT_CHANGED';\nexport const DRILLDOWN_BACK_CLICKED = 'DRILLDOWN_BACK_CLICKED';\nexport const SCREEN_CLOSED_CONFIRMED = 'SCREEN_CLOSED_CONFIRMED';\nexport const SCREEN_CLOSED_CANCELLED = 'SCREEN_CLOSED_CANCELLED';\nexport const PRIMARY_TAB_PROP_CHANGED = 'PRIMARY_TAB_PROP_CHANGED';\nexport const NAVIGATION_CLOSED = 'NAVIGATION_CLOSED';\nexport const VIEWPORT_SELECTED = 'VIEWPORT_SELECTED';\n\n// Mediated action types\nexport const ITEM_SELECTED = 'ITEM_SELECTED';\nexport const SELECT_TAB = 'SELECT_TAB';\nexport const CONTEXTUAL_RECORD_ITEM_TYPE = 'contextual_record';\nexport const TWO_LAYER_TYPE = 'TWO_LAYER_TYPE'; //[RECORD_ITEM_TYPE, NEW_RECORD_ITEM_TYPE, CHAT_ITEM_TYPE]// Error mediated action types\nexport const MAIN_TAB_ONLY_TYPE = 'MAIN_TAB_ONLY_TYPE';\n\n//KEY COMMANDS\nexport const MOVE_UP = 'MOVE_UP';\nexport const TAB = 'TAB';\nexport const MOVE_DOWN = 'MOVE_DOWN';\nexport const EXECUTE = 'EXECUTE';\nexport const CLICK = 'CLICK';\n\n// Tab Item Types\nexport const RECORD_ITEM_TYPE = 'record';\nexport const FULL_SEARCH_ITEM_TYPE = 'full-search';\nexport const KNOWLEDGE_ITEM_TYPE = 'knowledge';\nexport const NON_RECORD_ITEM_TYPE = 'non_record';\nexport const FULL_LIST_ITEM_TYPE = 'list';\nexport const NEW_RECORD_ITEM_TYPE = 'new_record';\n\nexport const FULL_SEARCH_TAB_TITLE = t('WS:Search Results');\nexport const KNOWLEDGE_TAB_TITLE = t('Knowledge Articles');\n\nexport const PROPERTIES_SET = 'PROPERTIES_SET';\nexport const ACTIVITY_LOG_UPDATED = 'ACTIVITY_LOG_UPDATED';\n\n// Tab Reducers\nexport const OPEN_OR_FOCUS_TAB_REDUCER = 'OPEN_OR_FOCUS_TAB_REDUCER';\nexport const UPDATE_TABS_REDUCER = 'UPDATE_TABS_REDUCER';\nexport const LIVE_UPDATE_TABS_REDUCER = 'LIVE_UPDATE_TABS_REDUCER';\nexport const INIT_TABS_REDUCER = 'INIT_TABS_REDUCER';\nexport const CHAINED_REDUCER = 'CHAINED_REDUCER';\nexport const CLOSE_ONE_DRILLDOWN_REDUCER = 'CLOSE_ONE_DRILLDOWN_REDUCER';\nexport const UPDATE_PRIMARY_TAB_REDUCER = 'UPDATE_PRIMARY_TAB_REDUCER';\n\n//ICONS\nexport const ICON_CHAT_FILL = 'chat-fill';\nexport const ICON_CHAT_OUTLINE = 'chat-outline';\nexport const ICON_PHONE_FILL = 'phone-fill';\nexport const ICON_PHONE_OUTLINE = 'phone-outline';\nexport const ICON_GROUP_FILL = 'group-fill';\nexport const ICON_GROUP_OUTLINE = 'group-outline';\nexport const ICON_LIST_OUTLINE = 'list-outline';\n\n// Special table handling\nexport const INTERACTION_TABLE = 'interaction';\n\n// Messages\nexport const TAB_DETAILS_TITLE = t('Details');\n\n// Other constants\nexport const DEFAULT_MULTI_INST_FIELD = 'sys_id';\n\nexport const SCREEN_STATUS_ACTION_CLOSED = 'closed';\n","import { kebabCase, isEmpty } from 'lodash';\nimport { queryParamsEnabled } from './sn-canvas-router.config';\nimport {\n\tgetFilteredParams,\n\tgetRoute,\n\tisRouteMultiInstEnabled,\n\tdoesRouteExist\n} from './sn-canvas-router.util';\nimport { SUB_URL, UNDEFINED_FIELD_VALUE } from '../constants/constants';\nimport { IS_LOGGED_IN } from '../sn-canvas-layout/utils/browser';\n\nconst getUrlFromContentDefinition = contentDef => {\n\tif (!contentDef) return '';\n\n\tconst {\n\t\troute: contentRoute,\n\t\tfields: contentFields,\n\t\tparams,\n\t\tmultiInstField\n\t} = contentDef;\n\n\tconst hasMatchedRoute = doesRouteExist(contentRoute);\n\n\t// returning empty url when logged in and no route match found\n\tif (IS_LOGGED_IN && !hasMatchedRoute) return '';\n\n\tconst urlType = contentRoute;\n\n\tlet url = `/${urlType}`;\n\n\tconst fieldsLength =\n\t\tcontentFields && Array.isArray(Object.keys(contentFields))\n\t\t\t? Object.keys(contentFields).length\n\t\t\t: 0;\n\n\tconst { fields, params: configuredParams } = getRoute(urlType, fieldsLength);\n\n\tfor (let i = 0; i < fieldsLength; i++) {\n\t\tlet val = contentFields[fields[i]];\n\t\tif(val === \"\" || val === undefined || val === null)\n\t\t\tval = UNDEFINED_FIELD_VALUE;\n\t\tif (\n\t\t\tisRouteMultiInstEnabled(\n\t\t\t\tfields[i],\n\t\t\t\tcontentFields[fields[i]],\n\t\t\t\tmultiInstField,\n\t\t\t\tcontentDef.uid\n\t\t\t)\n\t\t)\n\t\t\turl += `/${encodeURIComponent(\n\t\t\t\tcontentFields[fields[i]] + '_uid_' + contentDef.uid\n\t\t\t)}`;\n\t\telse url += `/${encodeURIComponent(val)}`;\n\t}\n\n\tconst filteredParams = getFilteredParams(params, configuredParams);\n\tif (!filteredParams) return url;\n\n\treturn url + getUriFromParams(filteredParams);\n};\n\n/**\n * Construct a URL from a params object\n * @param tab\n * @returns {string}\n */\nconst getUriFromParams = params => {\n\tif (isEmpty(params)) return '';\n\n\tif (queryParamsEnabled()) {\n\t\treturn (\n\t\t\t'?' +\n\t\t\tObject.keys(params).reduce((result, key, i) => {\n\t\t\t\tconst amp = i === 0 ? '' : '&';\n\t\t\t\treturn `${result}${amp}${encodeURIComponent(\n\t\t\t\t\tkebabCase(key)\n\t\t\t\t)}=${encodeURIComponent(params[key])}`;\n\t\t\t}, '')\n\t\t);\n\t}\n\n\treturn (\n\t\t'/params' +\n\t\tObject.keys(params).reduce((result, key) => {\n\t\t\treturn `${result}/${encodeURIComponent(\n\t\t\t\tkebabCase(key)\n\t\t\t)}/${encodeURIComponent(params[key])}`;\n\t\t}, '')\n\t);\n};\n\n/**\n * Given a selected content object, returns a URL for root and leaf content definitions\n * @param selectedContent\n * @returns {*}\n */\nconst getUrlFromSelectedContent = selectedContent => {\n\tif (!selectedContent) return null;\n\n\tconst leafUrl = getUrlFromContentDefinition(selectedContent);\n\n\tlet rootContent = selectedContent.parent;\n\twhile (rootContent && rootContent.parent) {\n\t\trootContent = rootContent.parent;\n\t}\n\n\tif (!rootContent) return leafUrl;\n\n\tconst rootUrl = getUrlFromContentDefinition(rootContent);\n\n\tif (!rootUrl) return leafUrl;\n\n\treturn `${rootUrl}/${SUB_URL}${leafUrl}`;\n};\n\nexport { getUrlFromSelectedContent };\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nexports.arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nexports.compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nexports.isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","import { createInteractionId, defineMetric } from '@servicenow/ui-metrics';\nimport { default as persistAtInterval } from './persistAtInterval';\nimport { default as persistMetrics } from './persistMetrics';\nimport {\n\tDEFAULT_INTERVAL,\n\tSYS_PROP_PERF_ENABLED,\n\tSYS_PROP_PERF_INTERVAL\n} from './constants';\n\nlet interactionStack = [];\nlet isPageLoad = true;\nconst shouldPersistMetrics = SYS_PROP_PERF_ENABLED === 'true';\nconst intervalDuration = SYS_PROP_PERF_INTERVAL\n\t? SYS_PROP_PERF_INTERVAL\n\t: DEFAULT_INTERVAL;\n\nexport function setIsPageLoad(bool) {\n\tisPageLoad = bool;\n}\n\nexport function getIsPageLoad() {\n\treturn isPageLoad;\n}\n\nexport function getInteractionStack() {\n\treturn interactionStack;\n}\n\nexport function pushInteractionStack(value) {\n\tinteractionStack.push(value);\n}\n\nexport function shiftInteractionStack() {\n\treturn interactionStack.shift();\n}\n\nexport function setInteractionId() {\n\tconst interactionId = createInteractionId();\n\tinteractionStack.push(interactionId);\n\n\tif (!window.nowUiFramework) {\n\t\twindow.nowUiFramework = {};\n\t}\n\n\twindow.nowUiFramework.uxrInteractionId = interactionId;\n}\n\nexport const initCustomMetrics = () => {\n\tif (shouldPersistMetrics) {\n\t\tsetInteractionId();\n\t\twindow.addEventListener('unload', () => {\n\t\t\tpersistMetrics();\n\t\t});\n\n\t\tdefineMetric('NAVIGATE', 4);\n\t\tpersistAtInterval(intervalDuration);\n\t}\n};\n","import { getMarks, types as metrics } from '@servicenow/ui-metrics';\nimport { getIsPageLoad, setIsPageLoad, shiftInteractionStack } from './index';\nimport { HERO_INTERACTIVE, NAVIGATION, NAVIGATE, PAGE_LOAD } from './constants';\n\nconst mutation =\n\t'mutation ($interaction: global_metrics_ClientInteraction) {global {metrics {interaction(interaction: $interaction)}}}';\n\nlet startIdx = 0;\n\nconst getInteractions = idx => {\n\tconst marks = getMarks().filter(\n\t\titem => item.event === HERO_INTERACTIVE || item.event === NAVIGATE\n\t);\n\tconst results = [];\n\tlet mark = marks[idx];\n\tlet navigation = false;\n\tlet lastNotableIdx = startIdx;\n\n\twhile (mark) {\n\t\tif (mark.event === metrics.HERO_INTERACTIVE) {\n\t\t\tif (getIsPageLoad()) {\n\t\t\t\tresults.push({\n\t\t\t\t\tmark,\n\t\t\t\t\ttype: PAGE_LOAD,\n\t\t\t\t\tinteractionId: shiftInteractionStack()\n\t\t\t\t});\n\t\t\t\tsetIsPageLoad(false);\n\t\t\t\tlastNotableIdx = ++idx;\n\t\t\t} else if (navigation) {\n\t\t\t\tresults.push({\n\t\t\t\t\tmark,\n\t\t\t\t\ttype: NAVIGATION,\n\t\t\t\t\tnavigation: marks[lastNotableIdx],\n\t\t\t\t\tinteractionId: shiftInteractionStack()\n\t\t\t\t});\n\t\t\t\tlastNotableIdx = ++idx;\n\t\t\t}\n\t\t}\n\n\t\tif (mark.event === NAVIGATE) {\n\t\t\tnavigation = true;\n\t\t\tlastNotableIdx = idx;\n\t\t}\n\n\t\tmark = marks[++idx];\n\t}\n\n\tif (lastNotableIdx !== startIdx) startIdx = lastNotableIdx;\n\n\treturn results;\n};\n\nconst getPageLoadTimes = interaction => {\n\t/**\n\t * TODO: Calculate the diff from previous\n\t */\n\tif (interaction.navigation)\n\t\treturn {\n\t\t\tpageLoadTime: 0,\n\t\t\tnetworkTime: 0\n\t\t};\n\n\tconst load = performance.getEntries()[0];\n\n\treturn {\n\t\tpageLoadTime: load.loadEventEnd - load.loadEventStart,\n\t\tnetworkTime: load.responseEnd - load.requestStart\n\t};\n};\n\nconst getReferrer = interaction => {\n\treturn interaction.referrer ? interaction.referrer : window.location.href;\n};\n\nconst createQueryFromInteractions = interactions => {\n\treturn interactions.map(interaction => ({\n\t\tquery: mutation,\n\t\tvariables: {\n\t\t\tinteraction: {\n\t\t\t\tinteractionId: interaction.interactionId,\n\t\t\t\tapplication: window.ux_globals.pageSettings.name.displayValue\n\t\t\t\t\t? window.ux_globals.pageSettings.name.displayValue\n\t\t\t\t\t: 'UXF',\n\t\t\t\tname: interaction.mark.componentName,\n\t\t\t\ttype: interaction.type,\n\t\t\t\treferrer: getReferrer(interaction),\n\t\t\t\tuiPolicyTime: 0,\n\t\t\t\tclientScriptsTime: 0,\n\t\t\t\ttimeToInteraction:\n\t\t\t\t\tinteraction.mark.markTime -\n\t\t\t\t\t((interaction.navigation && interaction.navigation.markTime) || 0),\n\t\t\t\t...getPageLoadTimes(interaction)\n\t\t\t}\n\t\t}\n\t}));\n};\n\nexport default function persistMetrics(persitenceUrl = '/api/now/graphql') {\n\tconst interactions = getInteractions(startIdx);\n\n\tif (!interactions.length) return;\n\n\tfetch(persitenceUrl, {\n\t\tkeepalive: true,\n\t\tcredentials: 'same-origin',\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'X-Transaction-Source': window.transaction_source,\n\t\t\t'X-UserToken': window.g_ck\n\t\t},\n\t\tbody: JSON.stringify(createQueryFromInteractions(interactions))\n\t});\n}\n","// Interval Duration\nexport const DEFAULT_INTERVAL = 15000;\n\n// Sys Props\nexport const SYS_PROP_PERF_INTERVAL =\n\twindow.ux_globals.libuxf.sysprops[\n\t\t'glide.uxf.lib.performance.monitoring.interval'\n\t];\nexport const SYS_PROP_PERF_ENABLED =\n\twindow.ux_globals.libuxf.sysprops[\n\t\t'glide.uxf.lib.performance.monitoring.enabled'\n\t];\n\n// Marks\nexport const HERO_INTERACTIVE = 'HERO_INTERACTIVE';\nexport const NAVIGATION = 'NAVIGATION';\nexport const NAVIGATE = 'NAVIGATE';\nexport const PAGE_LOAD = 'PAGE_LOAD';\n","export { activityLogger } from './activity-logger';\n","module.exports = __TECTONIC__$devsnc_library_uxf;","import { get, isEmpty } from 'lodash';\nimport { getRouteToScreenMap } from './sn-canvas-screens.config';\nimport { getScreenKey, areFieldsValid } from './sn-canvas-screens.util';\n\nconst EVALUATION_CACHE = {};\n\nconst AUTH_ROUTES = get(window, 'ux_globals.routeConfiguration.authRoutes', {});\nconst ROUTES = get(window, 'ux_globals.routeConfiguration.routes', {});\n\nconst EVALUATORS = {\n\t//logical\n\tAND: {\n\t\top: 'AND',\n\t\tsymbol: '^',\n\t\tevaluator: (a, b) => a && b\n\t},\n\tOR: {\n\t\top: 'OR',\n\t\tsymbol: '^OR',\n\t\tevaluator: (a, b) => a || b\n\t},\n\t//comparision\n\tEQUALS: {\n\t\top: 'EQUALS',\n\t\tsymbol: '=',\n\t\tevaluator: (a, b) => a == b\n\t},\n\tNOTEQUALS: {\n\t\top: 'NOTEQUALS',\n\t\tsymbol: '!=',\n\t\tevaluator: (a, b) => a != b\n\t},\n\tSTARTSWITH: {\n\t\top: 'STARTSWITH',\n\t\tsymbol: 'STARTSWITH',\n\t\tevaluator: (a, b) => a.startsWith(b)\n\t}\n};\n\nconst parseCondition = conditionStr => {\n\tif (!conditionStr) return [];\n\n\tlet i = 0;\n\tlet r = '';\n\n\tconst conditionArr = [];\n\n\tlet conditionObj = {};\n\twhile (i < conditionStr.length) {\n\t\tconst c = conditionStr[i];\n\t\tif (c == '^' || i == conditionStr.length - 1) {\n\t\t\tconditionObj['r'] = i == conditionStr.length - 1 ? r + c : r;\n\t\t\tlet logical_operator =\n\t\t\t\ti + 3 < conditionStr.length && conditionStr.substring(i, i + 3) == '^OR'\n\t\t\t\t\t? 'OR'\n\t\t\t\t\t: 'AND';\n\t\t\tconditionObj['logical_op'] =\n\t\t\t\ti == conditionStr.length - 1 ? '' : logical_operator;\n\t\t\tif (logical_operator == 'OR') i = i + 2;\n\t\t\tconditionArr.push({ ...conditionObj });\n\t\t\tconditionObj = {};\n\t\t\tr = '';\n\t\t} else if (c == '=') {\n\t\t\tconditionObj['l'] = r;\n\t\t\tconditionObj['op'] = 'EQUALS';\n\t\t\tr = '';\n\t\t} else if (\n\t\t\tc == '!' &&\n\t\t\ti + 1 < conditionStr.length &&\n\t\t\tconditionStr[i + 1] == '='\n\t\t) {\n\t\t\tconditionObj['l'] = r;\n\t\t\tconditionObj['op'] = 'NOTEQUALS';\n\t\t\ti++;\n\t\t\tr = '';\n\t\t} else if (\n\t\t\tc == 'S' &&\n\t\t\tconditionStr.substring(\n\t\t\t\ti,\n\t\t\t\ti + Math.min('STARTSWITH'.length, conditionStr.length - i)\n\t\t\t) == 'STARTSWITH'\n\t\t) {\n\t\t\tconditionObj['l'] = r;\n\t\t\tconditionObj['op'] = 'STARTSWITH';\n\t\t\ti += 'STARTSWITH'.length - 1;\n\t\t\tr = '';\n\t\t} else {\n\t\t\tr = r + c;\n\t\t}\n\n\t\ti++;\n\t}\n\treturn conditionArr;\n};\n\nconst evaluateCondition = (parsedCondition, selectedContent) => {\n\tif (isEmpty(selectedContent) || isEmpty(parsedCondition)) return false;\n\tlet result = false;\n\tlet logical_op;\n\tconst { fields = {} } = selectedContent;\n\tfor (let i = 0; i < parsedCondition.length; i++) {\n\t\tconst obj = parsedCondition[i];\n\t\tlet _result = EVALUATORS[obj['op']].evaluator(fields[obj['l']], obj['r']);\n\n\t\tif (logical_op == null) result = _result;\n\t\telse result = EVALUATORS[logical_op].evaluator(result, _result);\n\n\t\tlogical_op = obj['logical_op'];\n\n\t\tif (logical_op == '') return result;\n\t}\n\treturn result;\n};\n\nexport const preParseConditions = macroponents => {\n\tif (!Array.isArray(macroponents)) return;\n\tconst _macroponents = macroponents.slice();\n\t_macroponents.forEach((obj, i) => {\n\t\t_macroponents[i]['parsedCondition'] = parseCondition(\n\t\t\t_macroponents[i]['condition']\n\t\t);\n\t});\n\treturn _macroponents;\n};\n\nexport const getScreen = (selectedContent = {}) => {\n\tif (isEmpty(selectedContent)) return;\n\tlet { route, fields = {} } = selectedContent;\n\tif (!fields) fields = {};\n\tconst screenKey = getScreenKey(selectedContent);\n\tif (EVALUATION_CACHE[screenKey]) return EVALUATION_CACHE[screenKey];\n\tconst routeToScreenMap = getRouteToScreenMap();\n\n\tif (isEmpty(routeToScreenMap)) return;\n\n\tlet { macroponents, screenType } = get(\n\t\trouteToScreenMap,\n\t\t`${route}[${Object.keys(fields).length}]`,\n\t\t{}\n\t);\n\tif (isEmpty(macroponents) || !areFieldsValid(fields)) {\n\t\tlet custom404PropRoute = get(AUTH_ROUTES, 'custom404', null);\n\t\tif (custom404PropRoute && routeToScreenMap[custom404PropRoute]) {\n\t\t\tlet custom404RouteFields = get(ROUTES, custom404PropRoute)[0].fields\n\t\t\tlet fieldsLen = custom404RouteFields.length;\n\t\t\tconst routeObj = get(routeToScreenMap, `${custom404PropRoute}[${fieldsLen}]`, {});\n\t\t\tmacroponents = get(routeObj, 'macroponents', {});\n\t\t} else return;\n\t}\n\tlet defaultMacroponent = null;\n\tif (Array.isArray(macroponents)) {\n\t\tfor (let i = 0; i < macroponents.length; i++) {\n\t\t\tconst obj = macroponents[i];\n\t\t\tif (evaluateCondition(obj.parsedCondition, selectedContent) === true) {\n\t\t\t\tEVALUATION_CACHE[screenKey] = obj;\n\t\t\t\treturn {\n\t\t\t\t\t...obj,\n\t\t\t\t\tscreenType\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (!obj.condition) defaultMacroponent = { ...obj, screenType };\n\t\t}\n\n\t\tif (defaultMacroponent) {\n\t\t\tEVALUATION_CACHE[screenKey] = defaultMacroponent;\n\t\t\treturn defaultMacroponent;\n\t\t}\n\t}\n\t// eslint-disable-next-line no-console\n\tconsole.error('Error, route macroponents should be an array');\n};\n","import { get, cloneDeep } from 'lodash';\nimport {\n\tgetRouterConfig,\n\tgetUXGlobalRouterConfiguration\n} from '../../sn-canvas-router/sn-canvas-router.config';\n\nimport { preParseConditions } from './sn-canvas-screens.resolver';\n\nlet ROUTE_TO_SCREEN_MAP;\n\nexport const getRouteToScreenMap = () => {\n\tif (ROUTE_TO_SCREEN_MAP) return ROUTE_TO_SCREEN_MAP;\n\tconst routerConfig = getRouterConfig();\n\tif (!routerConfig) return;\n\tROUTE_TO_SCREEN_MAP = {};\n\tfor (let [key, value] of Object.entries(routerConfig.routes)) {\n\t\tvalue.forEach(routeObj => {\n\t\t\tconst { optionalParameters, ...rest } = routeObj;\n\t\t\tconst deepRouteCopy = cloneDeep(rest);\n\t\t\tconst { fields } = deepRouteCopy;\n\t\t\tconst n = Array.isArray(fields) ? fields.length : 0;\n\t\t\tROUTE_TO_SCREEN_MAP[key] = {\n\t\t\t\t...ROUTE_TO_SCREEN_MAP[key],\n\t\t\t\t[n]: {\n\t\t\t\t\t...deepRouteCopy,\n\t\t\t\t\tmacroponents: preParseConditions(deepRouteCopy.macroponents)\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n\treturn ROUTE_TO_SCREEN_MAP;\n};\n","export * from './sn-canvas-router';\nexport * from './sn-canvas-client';\nexport * from './sn-canvas-layout';\nexport * from './sn-canvas-main';\nexport * from './sn-canvas-screen';\nexport * from './sn-canvas-modal-hoist';\n","import './sn-canvas-router';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { snabbdom } from '@servicenow/ui-renderer-snabbdom';\n\nimport { lifeCycleHandlers } from './sn-canvas-router.effects';\nimport { getUXGlobalRouterConfiguration } from './sn-canvas-router.config';\n\nimport {\n\tROOT_SELECTED_NAV_ITEM,\n\tROOT_CONTENT_UPDATED,\n\tSN_CANVAS_ROUTER\n} from '../constants/constants';\n\nexport default createCustomElement(SN_CANVAS_ROUTER, {\n\ttype: snabbdom,\n\tview: () => {},\n\tproperties: {\n\t\t[ROOT_SELECTED_NAV_ITEM]: {\n\t\t\tdefault: null\n\t\t},\n\t\t[ROOT_CONTENT_UPDATED]: {\n\t\t\tdefault: null\n\t\t},\n\t\tselectedContent: {\n\t\t\tdefault: null,\n\t\t\tselectable: true\n\t\t},\n\t\trouterConfig: {\n\t\t\tselectable: true,\n\t\t\tdefault: getUXGlobalRouterConfiguration()\n\t\t},\n\t\trouterInitiated: {\n\t\t\tdefault: false\n\t\t},\n\t\tnowMetricTypes: {\n\t\t\tdefault: ['NAVIGATE']\n\t\t}\n\t},\n\tactionHandlers: { ...lifeCycleHandlers }\n});\n","import { actionTypes } from '@servicenow/ui-core';\nimport { mark, getInteractionId } from '@servicenow/ui-metrics';\nimport { getUrlFromSelectedContent } from './sn-canvas-router.contentParser';\nimport { getSelectedContentFromUrl } from './sn-canvas-router.urlParser';\nimport {\n\tinitConfig,\n\tqueryParamsEnabled} from './sn-canvas-router.config';\nimport { initCustomMetrics, setInteractionId } from '../sn-canvas-metrics';\nimport { saveRecordId, retrieveRecordId } from './sn-canvas-router.storage';\nimport {\n\tROOT_SELECTED_NAV_ITEM,\n\tROOT_CONTENT_UPDATED,\n\tCURRENT_ROUTE\n} from '../constants/constants';\nimport { doesRouteExist } from './sn-canvas-router.util';\n\nimport {\n\tgetParametersFromPath,\n\tinitBaseUrl,\n\tnavigateUrl,\n\tredirectUrl,\n\tsetPageTitle\n} from './sn-canvas-router.util';\nimport { IS_LOGGED_IN } from '../sn-canvas-layout/utils/browser';\n\nconst {\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_DISCONNECTED,\n\tCOMPONENT_PROPERTY_CHANGED\n} = actionTypes;\n\nlet ignoreContentUpdatedChange = false;\n\nconst _onPopState = ({ updateProperties }) => {\n\tconst selectedContent = getSelectedContentFromUrl();\n\tif (selectedContent)\n\t\tupdateProperties({\n\t\t\tselectedContent: { ...selectedContent, updateUrl: false }\n\t\t});\n};\n\nconst updateUrl = (\n\tselectedContent,\n\tcoeffects,\n\tnoTitleUpdateUsingUrl = false\n) => {\n\tconst url = getUrlFromSelectedContent(selectedContent);\n\tconst title = selectedContent.title;\n\tconst { host, action } = coeffects;\n\tif (url == null || url === '') return;\n\n\tconst hasMatchedRoute = doesRouteExist(selectedContent.route);\n\n\t// if not logged in and no matched route, reload in order to redirect to login\n\tif (!IS_LOGGED_IN && !hasMatchedRoute)\n\t\tnavigateUrl(url, title, true, noTitleUpdateUsingUrl);\n\n\tsetInteractionId();\n\tmark(host, getInteractionId(action.meta), 'NAVIGATE', { referrer: url });\n\n\tconst { reload } = selectedContent;\n\tconst {\n\t\tparams: {\n\t\t\tpath: { type },\n\t\t\tsearch\n\t\t}\n\t} = getParametersFromPath('/:type*');\n\tif (url == '/' + type + (queryParamsEnabled() ? search : '')) {\n\t\tif (noTitleUpdateUsingUrl) title && setPageTitle(url, title);\n\t\telse setPageTitle(url, title);\n\t} else if (selectedContent.redirect) {\n\t\tredirectUrl(url, title, reload);\n\t} else {\n\t\tnavigateUrl(url, title, reload, noTitleUpdateUsingUrl);\n\t}\n};\n\n/**\n * Updates the url and the selectedContent property based off the new value.\n * @param {Object} rootSelectedNavItem\n * @param {Function} updateProperties\n */\nconst onRootSelectedNavItemChange = (rootSelectedNavItem, coeffects) => {\n\tconst { properties, updateProperties } = coeffects;\n\tif (rootSelectedNavItem) {\n\t\tlet { selectedContent } = properties;\n\t\tlet { targetRoute, ..._selectedContent } = rootSelectedNavItem;\n\n\t\tif (selectedContent && targetRoute) {\n\t\t\tlet _targetContent =\n\t\t\t\ttargetRoute === CURRENT_ROUTE ? selectedContent : { ...targetRoute };\n\n\t\t\tlet { updateUrl, reload, ...restContent } = _targetContent;\n\t\t\twhile (\n\t\t\t\ttargetRoute === CURRENT_ROUTE &&\n\t\t\t\trestContent &&\n\t\t\t\trestContent.parent\n\t\t\t) {\n\t\t\t\trestContent = restContent.parent;\n\t\t\t}\n\t\t\t_selectedContent.parent = restContent;\n\t\t}\n\n\t\tif (\n\t\t\t_selectedContent.multiInstField &&\n\t\t\t_selectedContent.fields &&\n\t\t\t_selectedContent.fields.hasOwnProperty(_selectedContent.multiInstField) &&\n\t\t\t!_selectedContent.uid\n\t\t) {\n\t\t\tconst _newRecordId = retrieveRecordId() + 1;\n\t\t\t_selectedContent.uid = _newRecordId;\n\t\t\tsaveRecordId(_newRecordId);\n\t\t}\n\n\t\tif (_selectedContent.updateUrl !== false) {\n\t\t\tupdateUrl(_selectedContent, coeffects);\n\t\t\tif (_selectedContent.reload) return;\n\t\t}\n\n\t\tupdateProperties({\n\t\t\tselectedContent: _selectedContent\n\t\t});\n\t\tignoreContentUpdatedChange = true;\n\t}\n};\n\n/**\n * Updates the url parameters based off the current selectedContent and new contentUpdated.\n * @param {Object} rootContentUpdated\n * @param {Object} selectedContent\n */\nconst onRootContentUpdatedChange = (rootContentUpdated, coeffects) => {\n\tconst { properties, updateProperties } = coeffects;\n\tif (ignoreContentUpdatedChange) {\n\t\tignoreContentUpdatedChange = false;\n\t\treturn;\n\t}\n\n\tconst { selectedContent } = properties;\n\tif (selectedContent && rootContentUpdated) {\n\t\tupdateUrl({ ...selectedContent, ...rootContentUpdated }, coeffects, true);\n\t\tupdateProperties({\n\t\t\tselectedContent: { ...selectedContent, ...rootContentUpdated }\n\t\t});\n\t}\n};\n\n// Router Life cycle effects\nconst routerBootStrappedEffect = ({ state, action, updateProperties }) => {\n\twindow.addEventListener(\n\t\t'popstate',\n\t\t_onPopState.bind(window, { state, action, updateProperties }),\n\t\tfalse\n\t);\n\tconst { routerConfig } = state.properties;\n\tinitConfig(routerConfig);\n\tinitBaseUrl();\n\tinitCustomMetrics();\n\tconst selectedContent = getSelectedContentFromUrl();\n\tupdateProperties({\n\t\tselectedContent: { ...selectedContent, updateUrl: false },\n\t\trouterInitiated: true\n\t});\n};\n\nconst routerDisconnectedEffect = () =>\n\twindow.removeEventListener('popstate', _onPopState, false);\n\nconst routerPropertyChangedEffect = coeffects => {\n\tconst {\n\t\taction: {\n\t\t\tpayload: { name, value }\n\t\t},\n\t\tproperties: { routerInitiated }\n\t} = coeffects;\n\n\tif (!routerInitiated) return null;\n\n\tswitch (name) {\n\t\tcase ROOT_SELECTED_NAV_ITEM:\n\t\t\tonRootSelectedNavItemChange(value, coeffects);\n\t\t\tbreak;\n\n\t\tcase ROOT_CONTENT_UPDATED:\n\t\t\tonRootContentUpdatedChange(value, coeffects);\n\t\t\tbreak;\n\t}\n};\n\nconst lifeCycleHandlers = {\n\t[COMPONENT_BOOTSTRAPPED]: routerBootStrappedEffect,\n\t[COMPONENT_DISCONNECTED]: routerDisconnectedEffect,\n\t[COMPONENT_PROPERTY_CHANGED]: routerPropertyChangedEffect\n};\n\nexport { lifeCycleHandlers };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\nvar DEFAULT_DELIMITERS = './'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var next = str[index]\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k]\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = prev || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER)\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n  var isEndDelimited = tokens.length === 0\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","import { isEmpty, has } from 'lodash';\n\nimport { getUrlFromSelectedContent } from './sn-canvas-router.contentParser';\nimport {\n\tgetTypeFieldGroupsMap,\n\tqueryParamsEnabled\n} from './sn-canvas-router.config';\nimport {\n\tgetParametersFromPath,\n\tredirectUrl,\n\tgetParamsFromUri,\n\tgetFilteredParams,\n\tgetRoute\n} from './sn-canvas-router.util';\n\nimport {\n\tSUB_URL,\n\tPARAMS_DIVIDER,\n\tQUERY_PARAMS_DIVIDER,\n\tUNDEFINED_FIELD_VALUE\n} from '../constants/constants';\n\n/**\n * Given selectedContent, return a tab payload for an invalid URL\n * @param selectedContent\n * @returns {*}\n * @private\n */\nconst redirectInvalidUrl = selectedContent => {\n\t// Redirect to selected tab\n\tconst url = getUrlFromSelectedContent(selectedContent);\n\tredirectUrl(url);\n};\n\n/**\n * For a given type, generates content using options and configured url fields\n * @param type\n * @param options\n * @returns {*}\n * @private\n */\nconst getContent = (type, options) => {\n\tlet content = {},\n\t\tmultiInstFieldIndex = -1;\n\tconst typeFieldGroupsMap = getTypeFieldGroupsMap();\n\tlet _type = type,\n\t\t_options = options;\n\n\tif (!has(typeFieldGroupsMap, type)) {\n\t\t_options = [type, ...options];\n\t}\n\n\tcontent.route = _type;\n\tcontent.fields = {};\n\n\t//count fields in url\n\tconst urlFields = [];\n\tfor (let i = 0; i < _options.length; i++) {\n\t\tif (_options[i] === SUB_URL) break;\n\t\tif (!queryParamsEnabled() && _options[i] === PARAMS_DIVIDER) break;\n\t\tif (\n\t\t\tqueryParamsEnabled() &&\n\t\t\t_options[i].indexOf(QUERY_PARAMS_DIVIDER) > -1\n\t\t) {\n\t\t\tconst parts = _options[i].split(QUERY_PARAMS_DIVIDER);\n\t\t\tif (!isEmpty(parts[0])) urlFields[i] = decodeURIComponent(parts[0]);\n\t\t\tbreak;\n\t\t}\n\n\t\tif (_options[i].indexOf('_uid_') > -1) {\n\t\t\tmultiInstFieldIndex = i;\n\t\t}\n\n\t\turlFields[i] = decodeURIComponent(_options[i]);\n\t\tif(urlFields[i]===UNDEFINED_FIELD_VALUE)\n\t\t\turlFields[i] = undefined;\n\t}\n\n\tconst { fields = [], params: configuredParams } = getRoute(\n\t\t_type,\n\t\turlFields.length\n\t);\n\tfor (let i = 0; fields && i < fields.length; i++) {\n\t\tcontent.fields[fields[i]] = urlFields[i];\n\t}\n\n\tif (multiInstFieldIndex >= 0) {\n\t\tcontent.multiInstField = fields[multiInstFieldIndex];\n\t}\n\n\tconst params = getParamsFromUri(_options);\n\n\tconst filteredParams = getFilteredParams(params, configuredParams);\n\n\treturn { ...content, ...(filteredParams && { params: filteredParams }) };\n};\n\n/**\n * For a given array of URL slugs, extract args that can be used to create a sub tab or drilldown\n * @param options\n * @returns {*}\n */\nconst getSubPortion = options => {\n\tconst subUrlIdx = options.findIndex(t => t === SUB_URL);\n\tif (subUrlIdx < 0) return false;\n\n\treturn getContent(options[subUrlIdx + 1], options.slice(subUrlIdx + 2));\n};\n\nconst getSelectedContentFromUrl = (prevSelectedContent, path) => {\n\tlet {\n\t\tparams: {\n\t\t\tpath: { type, options },\n\t\t\tsearch\n\t\t}\n\t} = getParametersFromPath('/:type/:options*', path);\n\n\tif (!type) {\n\t\tredirectInvalidUrl(prevSelectedContent);\n\t\treturn null;\n\t}\n\n\toptions = options ? options.split('/') : [];\n\tsearch = search ? search.split('/') : [];\n\n\tif (queryParamsEnabled()) options = [...options, ...search];\n\tconst content = getContent(type, options);\n\tif (!content) {\n\t\tredirectInvalidUrl(prevSelectedContent);\n\t\treturn null;\n\t}\n\n\tconst subContent = getSubPortion(options);\n\n\tif (!subContent) return content;\n\n\treturn { ...subContent, parent: { ...content } };\n};\n\nexport { getSelectedContentFromUrl };\n","import persistMetrics from './persistMetrics';\nimport requestIdleCallbackPolyfill from './requestIdleCallback';\n\nconst requestIdleCallback =\n\twindow.requestIdleCallback || requestIdleCallbackPolyfill;\n\nexport default function persistAtInterval(interval) {\n\tif (interval) clearInterval(interval);\n\n\tsetInterval(() => requestIdleCallback(() => persistMetrics()), interval);\n}\n","export default function requestIdleCallback(callback) {\n\tsetTimeout(function requestIdleCallbackPollyfillTimeout() {\n\t\tconst start = Date.now();\n\t\tconst maxBusy = 100;\n\t\tcallback({\n\t\t\tdidTimeout: false,\n\t\t\ttimeRemaining() {\n\t\t\t\treturn Math.max(0, maxBusy - (Date.now() - start));\n\t\t\t}\n\t\t});\n\t});\n}\n","const getSessionStorageKey = () => 'canvasRecordInfo';\nlet _recordId = 0;\nexport function saveRecordId(recordId) {\n\ttry {\n\t\tconst serializedInstanceId = JSON.stringify({ lastRecordId: recordId });\n\t\twindow.sessionStorage.setItem(getSessionStorageKey(), serializedInstanceId);\n\t} catch (e) {\n\t\treturn;\n\t}\n}\n\nexport function retrieveRecordId() {\n\tlet recordId = 0;\n\tif (_recordId > 0) {\n\t\treturn _recordId++;\n\t}\n\ttry {\n\t\tconst serializedInstanceId = window.sessionStorage.getItem(\n\t\t\tgetSessionStorageKey()\n\t\t);\n\t\tif (serializedInstanceId) {\n\t\t\tconst storedRecordInfo = JSON.parse(serializedInstanceId);\n\t\t\trecordId = storedRecordInfo.lastRecordId || 0;\n\t\t\t_recordId = recordId + 1;\n\t\t}\n\t} catch (e) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn(\n\t\t\t'Error reading stored session data for router record instance Id'\n\t\t);\n\t}\n\n\treturn recordId;\n}\n","import './sn-canvas-client';\n","import { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport clientInfo from './utils/client';\nimport greeting from './utils/greeting';\nimport { SN_CANVAS_CLIENT } from '../constants/constants';\n\nconst { COMPONENT_DOM_READY } = actionTypes;\n\ncreateCustomElement(SN_CANVAS_CLIENT, {\n\tproperties: {\n\t\tclientInfo: { default: {}, schema: { type: 'object' }, selectable: true }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\t// eslint-disable-next-line react/display-name\n\t\tview: () => <slot />\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: ({ updateProperties }) => {\n\t\t\tupdateProperties({ clientInfo: { ...clientInfo, greeting } });\n\t\t}\n\t}\n});\n","/* eslint-disable no-useless-escape */\n/**\n * Client Information Detection API: Provides information about the used browser / device and cross platform support\n * for certain events like media queries, orientation change or resizing.\n *\n * This API is independent of any library and dynamically depending on the capabilities of the browser or device.\n *\n * @namespace\n * @name Client\n */\nconst Client = {};\n\n/**------------------------- OS Detection ---------------------------**/\n/**\n * Contains information about the operating system of the Client system.\n * @name Client.os\n */\n\n/**\n * Enumeration containing the names of known operating systems.\n * @name Client.os.OS\n */\n\n/**\n * The name of the operating system.\n * @name Client.os.name\n * @type String\n */\n\n/**\n * The version of the operating system as <code>float</code>. Might be <code>-1</code> if no version can be determined.\n * @name Client.os.version\n * @type float\n */\n\n/**\n * If this flag is set to <code>true</code>, a Windows operating system is used.\n * @name Client.os.windows\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, a Mac operating system is used.\n * @name Client.os.macintosh\n * @type boolean\n */\n\n/*\n * If this flag is set to <code>true</code>, an iOS operating system is used.\n * @name Client.os.ios\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, an Android operating system is used.\n * @name Client.os.android\n * @type boolean\n */\n\n/*\n * Windows operating system name.\n * @see Client.os.name\n * @name Client.os.OS.WINDOWS\n */\n\n/**\n * MAC operating system name.\n * @see Client.os.name\n * @name Client.os.OS.MACINTOSH\n */\n\n/**\n * iOS operating system name.\n * @see Client.os.name\n * @name Client.os.OS.IOS\n */\n\n/**\n * Android operating system name.\n * @see Client.os.name\n * @name Client.os.OS.ANDROID\n */\n\nconst OS = {\n\tWINDOWS: 'win',\n\tMACINTOSH: 'mac',\n\tIOS: 'iOS',\n\tANDROID: 'Android'\n};\n\nconst _getMobileOS = () => {\n\tconst userAgent = navigator.userAgent;\n\n\tlet regExpPlatform, // regular expression for platform\n\t\tmatches;\n\n\t// iOS, Android\n\tregExpPlatform = /\\(([a-zA-Z ]+);\\s(?:[U]?[;]?)([\\D]+)((?:[\\d._]*))(?:.*[\\)][^\\d]*)([\\d.]*)\\s/;\n\tmatches = userAgent.match(regExpPlatform);\n\n\tif (matches) {\n\t\tlet regExpAppleDevices = /iPhone|iPad|iPod/;\n\n\t\tif (matches[0].match(regExpAppleDevices)) {\n\t\t\tmatches[3] = matches[3].replace(/_/g, '.');\n\n\t\t\treturn {\n\t\t\t\tname: OS.IOS,\n\t\t\t\tversion: matches[3]\n\t\t\t};\n\t\t}\n\n\t\tif (matches[2].match(/Android/)) {\n\t\t\tmatches[2] = matches[2].replace(/\\s/g, '');\n\t\t\treturn {\n\t\t\t\tname: OS.ANDROID,\n\t\t\t\tversion: matches[3]\n\t\t\t};\n\t\t}\n\t}\n\n\t// Firefox on Android\n\tregExpPlatform = /\\((Android)[\\s]?([\\d][.\\d]*)?;.*Firefox\\/[\\d][.\\d]*/;\n\tmatches = userAgent.match(regExpPlatform);\n\tif (matches) {\n\t\treturn {\n\t\t\tname: OS.ANDROID,\n\t\t\tversion: matches.length === 3 ? matches[2] : ''\n\t\t};\n\t}\n};\n\nconst _getDesktopOS = () => {\n\tconst platform = navigator.platform;\n\tif (platform.indexOf('Win') !== -1) {\n\t\tconst regExpVersion = /Windows NT (\\d+).(\\d)/i; // userAgent since windows 10: Windows NT 10[...]\n\t\tconst uaResult = navigator.userAgent.match(regExpVersion);\n\n\t\treturn {\n\t\t\tname: OS.WINDOWS,\n\t\t\tversion: uaResult[1]\n\t\t};\n\t}\n\n\tif (platform.indexOf('Mac') !== -1) {\n\t\treturn {\n\t\t\tname: OS.MACINTOSH,\n\t\t\tversion: ''\n\t\t};\n\t}\n\n\treturn null;\n};\n\nconst _getOS = () => {\n\treturn _getMobileOS() || _getDesktopOS();\n};\n\nconst _setOS = () => {\n\tif (Client.os) {\n\t\treturn;\n\t}\n\n\tClient.os = _getOS() || {};\n\tClient.os.OS = OS;\n\tClient.os.version = Client.os.version ? parseFloat(Client.os.version) : -1;\n\n\tif (Client.os.name) {\n\t\tfor (let name in OS) {\n\t\t\tif (OS[name] === Client.os.name) {\n\t\t\t\tClient.os[name.toLowerCase()] = true;\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst getOS = () => {\n\tif (!Client.os) {\n\t\t_setOS();\n\t}\n\n\treturn Client.os;\n};\n\nconst isAndroid = () => {\n\tif (!Client.os) {\n\t\t_setOS();\n\t}\n\n\treturn !!Client.os.android;\n};\n\n/**------------------------- Browser Detection ---------------------------**/\n/**\n * Contains information about the used browser.\n * @name Client.browser\n */\n\n/**\n * Enumeration containing the names of known browsers.\n * @name Client.browser.BROWSER\n *\n * The name of the browser.\n * @name Client.browser.name\n * @type String\n */\n\n/**\n * The version of the browser as <code>float</code>. Might be <code>-1</code> if no version can be determined.\n * @name Client.browser.version\n * @type float\n */\n\n/**\n * If this flag is set to <code>true</code>, the mobile variant of the browser is used or\n * a tablet or phone device is detected. This information might not be available for all browsers.\n * @name Client.browser.mobile\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, the Microsoft Edge browser is used.\n * @name Client.browser.edge\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, the Mozilla Firefox browser is used.\n * @name Client.browser.firefox\n */\n\n/**\n * If this flag is set to <code>true</code>, the Google Chrome browser is used.\n * @name Client.browser.chrome\n * @type boolean\n *\n * If this flag is set to <code>true</code>, the Apple Safari browser is used.\n *\n * <b>Note:</b>\n * This flag is also <code>true</code> when the standalone (fullscreen) mode or webview is used on iOS devices.\n * Please also note the flags {@link Client.browser.fullscreen} and {@link Client.browser.webview}.\n *\n * @name Client.browser.safari\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, a browser featuring a Webkit engine is used.\n *\n * <b>Note:</b>\n * This flag is also <code>true</code> when the used browser was based on the Webkit engine, but\n * uses another rendering engine in the meantime. For example the Chrome browser started from version 28 and above\n * uses the Blink rendering engine.\n *\n * @name Client.browser.webkit\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, the Safari browser runs in standalone fullscreen mode on iOS.\n *\n * <b>Note:</b> This flag is only available if the Safari browser was detected. Furthermore, if this mode is detected,\n * technically not a standard Safari is used. There might be slight differences in behavior and detection, e.g.\n * the availability of {@link Client.browser.version}.\n *\n * @name Client.browser.fullscreen\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, the Safari browser runs in webview mode on iOS.\n *\n * <b>Note:</b> This flag is only available if the Safari browser was detected. Furthermore, if this mode is detected,\n * technically not a standard Safari is used. There might be slight differences in behavior and detection, e.g.\n * the availability of {@link Client.browser.version}.\n *\n * @name Client.browser.webview\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, the Phantom JS browser is used.\n * @name Client.browser.phantomJS\n * @type boolean\n */\n\n/**\n * The version of the used Webkit engine, if available.\n * @name Client.browser.webkitVersion\n * @type String\n */\n\n/**\n * If this flag is set to <code>true</code>, a browser featuring a Mozilla engine is used.\n * @name Client.browser.mozilla\n * @type boolean\n */\n\n/**\n * Internet Explorer browser name.\n * @name Client.browser.BROWSER.INTERNET_EXPLORER\n */\n\n/**\n * Edge browser name.\n * @name Client.browser.BROWSER.EDGE\n */\n\n/**\n * Firefox browser name.\n * @name Client.browser.BROWSER.FIREFOX\n */\n\n/**\n * Chrome browser name.\n * @name Client.browser.BROWSER.CHROME\n */\n\n/**\n * Safari browser name.\n * @name Client.browser.BROWSER.SAFARI\n */\n\n/**\n * Android stock browser name.\n * @name Client.browser.BROWSER.ANDROID\n */\nconst BROWSER = {\n\tINTERNET_EXPLORER: 'IE',\n\tEDGE: 'EDGE',\n\tFIREFOX: 'FIREFOX',\n\tCHROME: 'CHROME',\n\tSAFARI: 'SAFARI',\n\tANDROID: 'ANDROID'\n};\n\n/*!\n * Taken from jQuery JavaScript Library v1.7.1\n * http://jquery.com/\n *\n * Copyright 2011, John Resig\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n */\nconst _calcBrowser = () => {\n\tconst ua = navigator.userAgent.toLowerCase();\n\n\tconst regExpWebkit = /(webkit)[ \\/]([\\w.]+)/;\n\tconst regExpMSIE = /(msie) ([\\w.]+)/;\n\tconst regExpMSIE11 = /(trident)\\/[\\w.]+;.*rv:([\\w.]+)/;\n\tconst regExpEdge = /(edge)[ \\/]([\\w.]+)/;\n\tconst regExpMozilla = /(mozilla)(?:.*? rv:([\\w.]+))?/;\n\n\t// WinPhone IE11 and MS Edge userAgents contain \"WebKit\" and \"Mozilla\" and therefore must be checked first\n\tconst browserMatch =\n\t\tregExpEdge.exec(ua) ||\n\t\tregExpMSIE11.exec(ua) ||\n\t\tregExpWebkit.exec(ua) ||\n\t\tregExpMSIE.exec(ua) ||\n\t\t(ua.indexOf('compatible') < 0 && regExpMozilla.exec(ua)) ||\n\t\t[];\n\n\tconst result = {\n\t\tbrowser: browserMatch[1] || '',\n\t\tversion: browserMatch[2] || '0'\n\t};\n\tresult[result.browser] = true;\n\treturn result;\n};\n\nconst _getBrowser = () => {\n\tconst browser = _calcBrowser();\n\tconst navigator = window.navigator;\n\tconst ua = navigator.userAgent;\n\n\t// jQuery checks for user agent strings. We differentiate between browsers\n\tlet regExpMobile;\n\tlet result;\n\n\t// Mozilla\n\tif (browser.mozilla) {\n\t\tregExpMobile = /Mobile/;\n\t\tif (ua.match(/Firefox\\/(\\d+\\.\\d+)/)) {\n\t\t\tlet version = parseFloat(RegExp.$1);\n\t\t\tresult = {\n\t\t\t\tname: BROWSER.FIREFOX,\n\t\t\t\tversion: version,\n\t\t\t\tmozilla: true,\n\t\t\t\tmobile: regExpMobile.test(ua)\n\t\t\t};\n\t\t} else {\n\t\t\t// unknown mozilla browser\n\t\t\tresult = {\n\t\t\t\tmobile: regExpMobile.test(ua),\n\t\t\t\tmozilla: true,\n\t\t\t\tversion: -1\n\t\t\t};\n\t\t}\n\t} else if (browser.webkit) {\n\t\t// webkit version is needed for calculation if the mobile android device is a tablet (calculation of other mobile devices work without)\n\t\tlet regExpWebkitVersion = ua.toLowerCase().match(/webkit[\\/]([\\d.]+)/);\n\t\tlet webkitVersion;\n\t\tif (regExpWebkitVersion) {\n\t\t\twebkitVersion = regExpWebkitVersion[1];\n\t\t}\n\t\tregExpMobile = /Mobile/;\n\t\tlet chromeMatch = ua.match(/(Chrome|CriOS)\\/(\\d+\\.\\d+).\\d+/);\n\t\tlet firefoxMatch = ua.match(/FxiOS\\/(\\d+\\.\\d+)/);\n\t\tlet androidMatch = ua.match(/Android .+ Version\\/(\\d+\\.\\d+)/);\n\n\t\tif (chromeMatch || firefoxMatch || androidMatch) {\n\t\t\tlet name, version, isMobile;\n\n\t\t\tif (chromeMatch) {\n\t\t\t\tname = BROWSER.CHROME;\n\t\t\t\tisMobile = regExpMobile.test(ua);\n\t\t\t\tversion = parseFloat(chromeMatch[2]);\n\t\t\t} else if (firefoxMatch) {\n\t\t\t\tname = BROWSER.FIREFOX;\n\t\t\t\tisMobile = true;\n\t\t\t\tversion = parseFloat(firefoxMatch[1]);\n\t\t\t} else if (androidMatch) {\n\t\t\t\tname = BROWSER.ANDROID;\n\t\t\t\tisMobile = regExpMobile.test(ua);\n\t\t\t\tversion = parseFloat(androidMatch[1]);\n\t\t\t}\n\n\t\t\tresult = {\n\t\t\t\tname: name,\n\t\t\t\tmobile: isMobile,\n\t\t\t\tversion: version,\n\t\t\t\twebkit: true,\n\t\t\t\twebkitVersion: webkitVersion\n\t\t\t};\n\t\t} else {\n\t\t\t// Safari might have an issue with ua.match(...); thus changing\n\t\t\tlet exp = /(Version|PhantomJS)\\/(\\d+\\.\\d+).*Safari/;\n\t\t\tlet isStandalone = navigator.standalone;\n\t\t\tif (exp.test(ua)) {\n\t\t\t\tlet parts = exp.exec(ua);\n\t\t\t\tlet version = parseFloat(parts[2]);\n\t\t\t\tresult = {\n\t\t\t\t\tname: BROWSER.SAFARI,\n\t\t\t\t\tfullscreen: false,\n\t\t\t\t\twebview: false,\n\t\t\t\t\tversion: version,\n\t\t\t\t\tmobile: regExpMobile.test(ua),\n\t\t\t\t\twebkit: true,\n\t\t\t\t\twebkitVersion: webkitVersion,\n\t\t\t\t\tphantomJS: parts[1] === 'PhantomJS'\n\t\t\t\t};\n\t\t\t} else if (\n\t\t\t\t/iPhone|iPad|iPod/.test(ua) &&\n\t\t\t\t!/CriOS/.test(ua) &&\n\t\t\t\t!/FxiOS/.test(ua) &&\n\t\t\t\t(isStandalone === true || isStandalone === false)\n\t\t\t) {\n\t\t\t\t//WebView or Standalone mode on iOS\n\t\t\t\tresult = {\n\t\t\t\t\tname: BROWSER.SAFARI,\n\t\t\t\t\tversion: -1,\n\t\t\t\t\tfullscreen: isStandalone,\n\t\t\t\t\twebview: !isStandalone,\n\t\t\t\t\tmobile: regExpMobile.test(ua),\n\t\t\t\t\twebkit: true,\n\t\t\t\t\twebkitVersion: webkitVersion\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// other webkit based browser\n\t\t\t\tresult = {\n\t\t\t\t\tmobile: regExpMobile.test(ua),\n\t\t\t\t\twebkit: true,\n\t\t\t\t\twebkitVersion: webkitVersion,\n\t\t\t\t\tversion: -1\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t} else if (browser.msie || browser.trident) {\n\t\tlet version = parseFloat(browser.version);\n\n\t\tresult = {\n\t\t\tname: BROWSER.INTERNET_EXPLORER,\n\t\t\tversion: version,\n\t\t\tmsie: true,\n\t\t\tmobile: false\n\t\t};\n\t} else if (browser.edge) {\n\t\tlet version = parseFloat(browser.version);\n\t\tresult = {\n\t\t\tname: BROWSER.EDGE,\n\t\t\tversion: version,\n\t\t\tedge: true\n\t\t};\n\t} else {\n\t\tresult = {\n\t\t\tname: '',\n\t\t\tversion: '',\n\t\t\tmobile: false\n\t\t};\n\t}\n\n\treturn result;\n};\n\nconst _setBrowser = () => {\n\tClient.browser = _getBrowser();\n\tClient.browser.BROWSER = BROWSER;\n\n\tif (Client.browser.name) {\n\t\tfor (let b in BROWSER) {\n\t\t\tif (BROWSER[b] === Client.browser.name) {\n\t\t\t\tClient.browser[b.toLowerCase()] = true;\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst getBrowser = () => {\n\tif (!Client.browser) {\n\t\t_setBrowser();\n\t}\n\treturn Client.browser;\n};\n\nconst isIE = () => {\n\tif (!Client.browser) {\n\t\t_setBrowser();\n\t}\n\treturn !!Client.browser.msie;\n};\n\nconst isEdge = () => {\n\tif (!Client.browser) {\n\t\t_setBrowser();\n\t}\n\treturn !!Client.browser.edge;\n};\n\nconst isChrome = () => {\n\tif (!Client.browser) {\n\t\t_setBrowser();\n\t}\n\treturn !!Client.browser.chrome;\n};\n\nconst isFF = () => {\n\tif (!Client.browser) {\n\t\t_setBrowser();\n\t}\n\treturn !!Client.browser.firefox;\n};\n\nconst isSafari = () => {\n\tif (!Client.browser) {\n\t\t_setBrowser();\n\t}\n\treturn !!Client.browser.safari;\n};\n\n/**------------------------- Touch Support Detection ---------------------------**/\n\nconst _setSupport = () => {\n\tif (Client.support) {\n\t\treturn;\n\t}\n\n\tif (!Client.browser) {\n\t\t_setBrowser();\n\t}\n\n\tClient.support = {};\n\tClient.support.touch = !!(\n\t\t'ontouchstart' in window ||\n\t\tnavigator.maxTouchPoints > 0 ||\n\t\t(window.DocumentTouch && document instanceof window.DocumentTouch)\n\t);\n};\n\nconst supportTouch = () => {\n\tif (!Client.support) {\n\t\t_setSupport();\n\t}\n\n\treturn !!Client.support.touch;\n};\n\n/**------------------------- System Detection ---------------------------**/\n/**\n * Provides a basic categorization of the used device based on various indicators.\n *\n * <b>Note:</b> Depending on the capabilities of the device it is also possible that multiple flags\n * are set to <code>true</code>.\n *\n * @namespace\n * @name Client.system\n */\n\n/**\n * If this flag is set to <code>true</code>, the device is recognized as a tablet.\n *\n * <b>Note:</b> This flag is also true for some browsers on desktop devices running on Windows 8 or higher.\n * Also see the documentation for {@link Client.system.combi} devices.\n * You can use the following logic to ensure that the current device is a tablet device:\n *\n * <pre>\n * if(Client.system.tablet && !Client.system.desktop){\n *\t...tablet related commands...\n * }\n * </pre>\n *\n * @name Client.system.tablet\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, the device is recognized as a phone.\n *\n * @name Client.system.phone\n * @type boolean\n */\n\n/**\n * If this flag is set to <code>true</code>, the device is recognized as a desktop system.\n *\n * @name Client.system.desktop\n * @type boolean\n */\n\n/**\n * Indicates if the device is recognized as a combination of a desktop system and tablet.\n *\n * <b>Note:</b> This property is mainly for Microsoft Windows 8 (and following) devices where the\n * mouse and touch event may be supported natively by the browser being used. This property is\n * set to <code>true</code> only when both mouse and touch event are natively supported.\n *\n * @name Client.system.combi\n * @type boolean\n */\n\n/**\n * @name Client.system.SYSTEMTYPE\n * Enumeration containing the names of known types of the devices.\n */\nconst SYSTEMTYPE = {\n\tTABLET: 'tablet',\n\tPHONE: 'phone',\n\tDESKTOP: 'desktop',\n\tCOMBI: 'combi' //devices where the mouse and touch event may be supported natively by the browser\n};\n\nconst _isTablet = () => {\n\tconst ua = navigator.userAgent;\n\tif (Client.os.name === Client.os.OS.IOS) {\n\t\treturn /ipad/i.test(ua);\n\t} else {\n\t\t//in real mobile device\n\t\tif (supportTouch()) {\n\t\t\tif (Client.os.windows && Client.os.version >= 8) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tClient.browser.chrome &&\n\t\t\t\tClient.os.android &&\n\t\t\t\tClient.os.version >= 4.4\n\t\t\t) {\n\t\t\t\treturn !/Mobile Safari\\/[.0-9]+/.test(ua);\n\t\t\t} else {\n\t\t\t\tlet densityFactor = window.devicePixelRatio\n\t\t\t\t\t? window.devicePixelRatio\n\t\t\t\t\t: 1;\n\t\t\t\tif (\n\t\t\t\t\tClient.os.android &&\n\t\t\t\t\tClient.browser.webkit &&\n\t\t\t\t\tparseFloat(Client.browser.webkitVersion) > 537.1\n\t\t\t\t) {\n\t\t\t\t\tdensityFactor = 1;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\tMath.min(\n\t\t\t\t\t\twindow.screen.width / densityFactor,\n\t\t\t\t\t\twindow.screen.height / densityFactor\n\t\t\t\t\t) >= 600\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\t// This simple android phone detection can be used here because this is the mobile emulation mode in desktop browser\n\t\t\tconst isAndroidPhone = /(?=android)(?=.*mobile)/i.test(ua);\n\t\t\t// in desktop browser, it's detected as tablet when\n\t\t\t// 1. Windows 8 device with a touch screen where \"Touch\" is contained in the userAgent\n\t\t\t// 2. Android emulation and it's not an Android phone\n\t\t\treturn (\n\t\t\t\t(Client.browser.msie && ua.indexOf('Touch') !== -1) ||\n\t\t\t\t(Client.os.android && !isAndroidPhone)\n\t\t\t);\n\t\t}\n\t}\n};\n\nconst _getSystem = () => {\n\tconst isTabletDetected = _isTablet();\n\tconst isWin8Upwards = Client.os.windows && Client.os.version >= 8;\n\n\tconst system = {};\n\tsystem.tablet = !!(\n\t\t(Client.support.touch || isWin8Upwards) &&\n\t\tisTabletDetected\n\t);\n\tsystem.phone = !!(\n\t\tClient.os.windows_phone ||\n\t\t(Client.support.touch && !isTabletDetected)\n\t);\n\tsystem.desktop = !!((!system.tablet && !system.phone) || isWin8Upwards);\n\tsystem.combi = system.desktop && system.tablet;\n\tsystem.SYSTEMTYPE = SYSTEMTYPE;\n\n\treturn system;\n};\n\nconst _setSystem = () => {\n\t_setSupport();\n\t_setOS();\n\n\tClient.system = {};\n\tClient.system = _getSystem();\n\tif (Client.system.tablet || Client.system.phone) {\n\t\tClient.browser.mobile = true;\n\t}\n};\n\nconst getSystem = () => {\n\tif (!Client.system) {\n\t\t_setSystem();\n\t}\n\n\treturn Client.system;\n};\n\nconst isDesktop = () => {\n\tif (!Client.system) {\n\t\t_setSystem();\n\t}\n\n\treturn Client.system.desktop;\n};\n\nconst isTablet = () => {\n\tif (!Client.system) {\n\t\t_setSystem();\n\t}\n\n\treturn Client.system.tablet;\n};\n\nconst isPhone = () => {\n\tif (!Client.system) {\n\t\t_setSystem();\n\t}\n\n\treturn Client.system.phone;\n};\n\nconst isMobile = () => {\n\tif (!Client.system) {\n\t\t_setSystem();\n\t}\n\n\treturn Client.browser.mobile;\n};\n\nconst _setTimeZoneName = () => {\n\tif (Client.timeZoneName) {\n\t\treturn;\n\t}\n\n\tClient.timeZoneName = new Date()\n\t\t.toLocaleString('en', { timeZoneName: 'short' })\n\t\t.split(' ')\n\t\t.pop();\n};\n\nconst getTimeZoneName = () => {\n\tif (!Client.timeZoneName) {\n\t\t_setTimeZoneName();\n\t}\n\n\treturn Client.timeZoneName;\n};\n\nconst _setLanguage = () => {\n\tif (Client.lang) {\n\t\treturn;\n\t}\n\n\tconst _htmlEle = document.getElementsByTagName('html')[0];\n\tClient.lang = _htmlEle.getAttribute('lang') || window.navigator.language;\n};\n\nconst getLanguage = () => {\n\tif (!Client.lang) {\n\t\t_setLanguage();\n\t}\n\n\treturn Client.lang;\n};\n\nconst _setDir = () => {\n\tif (Client.dir) {\n\t\treturn;\n\t}\n\n\tconst _htmlEle = document.getElementsByTagName('html')[0];\n\tClient.dir = _htmlEle.getAttribute('dir');\n};\n\nconst getDir = () => {\n\tif (!Client.dir) {\n\t\t_setDir();\n\t}\n\n\treturn Client.dir;\n};\n\n(() => {\n\tgetOS();\n\tgetSystem();\n\tgetBrowser();\n\tsupportTouch();\n\tgetDir();\n\tgetLanguage();\n\tgetTimeZoneName();\n})();\n\nObject.freeze(Client);\nexport default Client;\n","const currentHour = new Date().getHours();\n\nconst greeting =\n\tcurrentHour >= 4 && currentHour < 12 // after 4:00AM and before 12:00PM\n\t\t? 'Good morning,'\n\t\t: currentHour >= 12 && currentHour <= 17 // after 12:00PM and before 6:00pm\n\t\t? 'Good afternoon,'\n\t\t: currentHour > 17 || currentHour < 4 // after 5:59pm or before 4:00AM (to accommodate night owls)\n\t\t? 'Good evening,' // if for some reason the calculation didn't work\n\t\t: 'Welcome,';\n\nexport default greeting;\n","import './sn-canvas-layout';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport isFunction from 'lodash/isFunction';\nimport styles from './_sn-canvas-layout.scss';\nimport { SN_CANVAS_LAYOUT } from '../constants/constants';\nimport canvasLayoutErrorBehavior from './canvasLayoutErrorBehavior';\nimport { ambStatusBehavior } from '../amb';\nimport screenStatusActionHandlers from './sn-canvas-layout.effects.screen-status';\nimport activityLogActionHandlers from './sn-canvas-layout.effects.activity-log';\nimport navigationActionHandlers from './sn-canvas-layout.effects.navigation';\nimport { tooltipPreviewSchema } from './schemas';\nimport GlobalUnloadistener from '../sn-canvas-main/global-unload-listener';\nimport {\n\tNOW_CONFIRM_MODAL_CLEAR,\n\tNOW_CONFIRM_MODAL_POSITIVE_BUTTON_CLICKED,\n\tNOW_CONFIRM_MODAL_NEGATIVE_BUTTON_CLICKED\n} from './constants/constants';\nimport { DESTINATION_URL } from './utils/browser';\nimport { SESSION_LOGGED_OUT, NOW_LOGIN_SUCCESS } from '../constants/constants';\n\nconst { COMPONENT_DOM_READY, COMPONENT_DISCONNECTED } = actionTypes;\n\ncreateCustomElement(SN_CANVAS_LAYOUT, {\n\ttype: snabbdom,\n\t// eslint-disable-next-line react/display-name\n\tview: () => <slot />,\n\tstyles,\n\tproperties: {\n\t\t//ActivityLog requires selectedContent\n\t\tselectedContent: {\n\t\t\tdefault: null\n\t\t},\n\t\t// The id of the currently selected screen\n\t\tactiveScreenId: {\n\t\t\tdefault: '',\n\t\t\tselectable: true\n\t\t},\n\t\tlinkToCurrentScreenConfiguration: {\n\t\t\tdefault: {},\n\t\t\tselectable: true\n\t\t},\n\t\t// Holds the most recent screen status update\n\t\tscreenStatus: {\n\t\t\tdefault: {},\n\t\t\tselectable: true,\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\t// Current Screen ID\n\t\t\t\t\tscreenKey: { type: 'string' },\n\t\t\t\t\tdirtyModalId: { type: 'string' },\n\t\t\t\t\t// Icon to display on the tab\n\t\t\t\t\ticon: { type: 'string' },\n\t\t\t\t\t// Current tab status\n\t\t\t\t\tisDirty: { type: 'boolean' },\n\t\t\t\t\thasError: { type: 'boolean' },\n\t\t\t\t\thasUpdate: { type: 'boolean' },\n\t\t\t\t\t// Display value of the tab\n\t\t\t\t\ttitle: { type: 'string' },\n\t\t\t\t\t// Close message to appear when closing a dirty tab\n\t\t\t\t\tmessage: { type: 'string' },\n\t\t\t\t\t// Items to display in a single tab popover\n\t\t\t\t\ttooltipPreview: { type: tooltipPreviewSchema }\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tactivityLogs: {\n\t\t\tdefault: new Map(),\n\t\t\tselectable: true\n\t\t},\n\t\tclosedNavigationIds: {\n\t\t\tdefault: [],\n\t\t\tselectable: true\n\t\t},\n\t\tscreenCloseConfirmation: {\n\t\t\tdefault: '',\n\t\t\tselectable: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t...screenStatusActionHandlers,\n\t\t...activityLogActionHandlers,\n\t\t...navigationActionHandlers,\n\t\t[COMPONENT_DOM_READY]: ({ host }) => {\n\t\t\tconst nowId = host.getAttribute('now-id');\n\t\t\tGlobalUnloadistener.add(nowId, () => {\n\t\t\t\tif (!host.screenStatus) return false;\n\t\t\t\treturn host.screenStatus.isDirty ? true : false;\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({ host }) => {\n\t\t\tconst nowId = host.getAttribute('now-id');\n\t\t\tGlobalUnloadistener.remove(nowId);\n\t\t},\n\t\t[NOW_CONFIRM_MODAL_POSITIVE_BUTTON_CLICKED]: ({ updateProperties }) => {\n\t\t\tupdateProperties({ screenCloseConfirmation: 'true' });\n\t\t},\n\t\t[NOW_CONFIRM_MODAL_NEGATIVE_BUTTON_CLICKED]: ({ updateProperties }) => {\n\t\t\tupdateProperties({ screenCloseConfirmation: 'false' });\n\t\t},\n\t\t[NOW_CONFIRM_MODAL_CLEAR]: ({ updateProperties }) => {\n\t\t\tupdateProperties({ screenCloseConfirmation: '' });\n\t\t},\n\t\t[SESSION_LOGGED_OUT]: ({ action }) => {\n\t\t\tconst { callback } = action.payload;\n\t\t\t// for security, ensure that any sessionStorage is erased upon logout\n\t\t\t// child components can do their own logout cleanup by hooking into session isLoggedIn property\n\t\t\tif (window.sessionStorage) window.sessionStorage.clear();\n\n\t\t\tif (isFunction(callback)) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t},\n\t\t[NOW_LOGIN_SUCCESS]: () => {\n\t\t\tif (DESTINATION_URL) window.location.href = DESTINATION_URL;\n\t\t\t// there is no default login landing page, just reload the page we're on\n\t\t\telse window.location.reload();\n\t\t}\n\t},\n\tbehaviors: [canvasLayoutErrorBehavior, ambStatusBehavior]\n});\n","module.exports = __TECTONIC__lodash_4_17_4[\"isFunction\"];","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/@tectonic/utils/node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-layout.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-canvas-layout{height:100%}\", \"\"]);\n\n// exports\n","import { actionTypes } from '@servicenow/ui-core';\nimport canvasLayoutEffect from './canvasLayoutEffect';\n\nconst { HTTP_ERROR_OCCURRED } = canvasLayoutEffect.ACTION_TYPES;\n\nconst {\n\tonConnect,\n\tonDisconnect,\n\tonHttpErrorOccurred\n} = canvasLayoutEffect.effectHandlers;\n\nconst { COMPONENT_CONNECTED, COMPONENT_DISCONNECTED } = actionTypes;\n\nconst canvasLayoutErrorBehavior = {\n\tname: 'CANVAS_LAYOUT_ERROR',\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]: onConnect,\n\t\t[COMPONENT_DISCONNECTED]: onDisconnect,\n\n\t\t/* http errors */\n\t\t[HTTP_ERROR_OCCURRED]: onHttpErrorOccurred\n\t}\n};\n\nexport default canvasLayoutErrorBehavior;\n","const BROWSER_STATUS = { ONLINE: 'ONLINE', OFFLINE: 'OFFLINE' };\n\nconst ACTION_TYPES = {\n\tHTTP_ERROR_OCCURRED: 'HTTP_ERROR_OCCURRED',\n\tCANVAS_GLOBAL_ERROR: 'CANVAS_GLOBAL_ERROR',\n\tCANVAS_HIDE_ERROR_MODAL: 'CANVAS_HIDE_ERROR_MODAL'\n};\n\n/**\n * onHttpErrorOccurred\n * @param action\n * @param dispatch\n */\nconst onHttpErrorOccurred = ({ action, dispatch }) => {\n\tconst { payload } = action;\n\tdispatch(ACTION_TYPES.CANVAS_GLOBAL_ERROR, {\n\t\t...payload,\n\t\ttype: payload.status\n\t});\n};\n\n/**\n * onlineHandler\n * @param e\n * @param dispatch\n */\nconst onlineHandler = (e, dispatch) => {\n\tconst payload = { type: BROWSER_STATUS.ONLINE, evt: e };\n\tdispatch(ACTION_TYPES.CANVAS_GLOBAL_ERROR, payload);\n};\n\n/**\n * offlineHandler\n * @param e\n * @param dispatch\n */\nconst offlineHandler = (e, dispatch) => {\n\tconst payload = { type: BROWSER_STATUS.OFFLINE, evt: e };\n\tdispatch(ACTION_TYPES.CANVAS_GLOBAL_ERROR, payload);\n};\n\n/**\n * onConnect\n * @param dispatch\n */\nconst onConnect = ({ dispatch }) => {\n\twindow.addEventListener('online', e => {\n\t\tonlineHandler(e, dispatch);\n\t});\n\twindow.addEventListener('offline', e => {\n\t\tofflineHandler(e, dispatch);\n\t});\n};\n\n/**\n * onDisconnect\n * @param dispatch\n */\nconst onDisconnect = ({ dispatch }) => {\n\twindow.removeEventListener('online', e => {\n\t\tonlineHandler(e, dispatch);\n\t});\n\twindow.removeEventListener('offline', e => {\n\t\tofflineHandler(e, dispatch);\n\t});\n};\n\nconst effectHandlers = {\n\tonHttpErrorOccurred: onHttpErrorOccurred,\n\tonConnect: onConnect,\n\tonDisconnect: onDisconnect\n};\n\nexport default {\n\teffectHandlers,\n\tACTION_TYPES\n};\n","export { default as ambStatusBehavior } from './ambStatusBehavior';\n","import { actionTypes } from '@servicenow/ui-core';\nimport ambStatusEffect from './ambStatusEffect';\n\nconst { COMPONENT_CONNECTED, COMPONENT_DISCONNECTED } = actionTypes;\n\nconst {\n\tAMB_STATUS_SET,\n\tAMB_EVENT_SESSION_LOGGED_IN,\n\tAMB_EVENT_SESSION_LOGGED_OUT,\n\tAMB_EVENT_SESSION_INVALIDATED\n} = ambStatusEffect.ACTION_TYPES;\n\nconst {\n\thandleSessionLoggedIn,\n\thandleSessionLoggedOut,\n\thandleSessionInvalidated,\n\tsetAMBStatus,\n\tonConnect,\n\tonDisconnect\n} = ambStatusEffect.effectHandlers;\n\n/**\n * ambStatusBehavior encapsulates functionality described by the effect-amb documentation:\n * https://code.devsnc.com/dev/sn-seismic/blob/master/packages/effects/effect-amb/api.md#createambeventeffect\n */\nconst ambStatusBehavior = {\n\tname: 'ambStatusBehavior',\n\n\tinitialState: {\n\t\tisSessionLoggedIn: false,\n\t\tisAuthTokenActive: false\n\t},\n\n\tproperties: {\n\t\tsessionTimeLeft: {\n\t\t\tdefault: 0\n\t\t},\n\t\tisLoggedIn: {\n\t\t\tdefault: false\n\t\t},\n\t\tsessionLoggedIn: {\n\t\t\tdefault: false,\n\t\t\tselectable: true\n\t\t},\n\t\tforgetMe: {\n\t\t\tdefault: \"true\"\n\t\t}\n\t},\n\n\tactions: {\n\t\t[AMB_STATUS_SET]: { private: true }\n\t},\n\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]: onConnect,\n\t\t[COMPONENT_DISCONNECTED]: onDisconnect,\n\t\t[AMB_EVENT_SESSION_LOGGED_IN]: handleSessionLoggedIn,\n\t\t[AMB_EVENT_SESSION_LOGGED_OUT]: handleSessionLoggedOut,\n\t\t[AMB_EVENT_SESSION_INVALIDATED]: handleSessionInvalidated,\n\t\t[AMB_STATUS_SET]: setAMBStatus\n\t}\n};\n\nexport default ambStatusBehavior;\n","import { resetAuthToken } from './getAuthToken';\nimport ambClientProxy from './ambClientProxy';\nimport { SESSION_LOGGED_OUT } from '../constants/constants';\nimport { isEmpty as _isEmpty } from 'lodash';\n\n/**\n * amb, canvas error & canvas error modal effect action types\n *\n * @type {{\n * \tAMB_EVENT_SESSION_LOGGED_OUT: string,\n * \tAMB_STATUS_SET: string,\n * \tCANVAS_GLOBAL_ERROR: string,\n * \tAMB_EVENT_SESSION_LOGGED_IN: string,\n * \tAMB_EVENT_SESSION_INVALIDATED: string,\n * \tCANVAS_HIDE_ERROR_MODAL: string\n * \t}}\n */\nconst ACTION_TYPES = {\n\t/*-- amb actions --*/\n\tAMB_STATUS_SET: 'AMB_STATUS_BEHAVIOR#SET_STATUS',\n\tAMB_EVENT_SESSION_LOGGED_IN: 'AMB_EVENT_SESSION_LOGGED_IN',\n\tAMB_EVENT_SESSION_LOGGED_OUT: 'AMB_EVENT_SESSION_LOGGED_OUT',\n\tAMB_EVENT_SESSION_INVALIDATED: 'AMB_EVENT_SESSION_INVALIDATED',\n\n\t/*-- canvas global error actions --*/\n\tCANVAS_GLOBAL_ERROR: 'CANVAS_GLOBAL_ERROR',\n\n\t/*-- canvas error modal actions --*/\n\tCANVAS_HIDE_ERROR_MODAL: 'CANVAS_HIDE_ERROR_MODAL'\n};\n\n/**\n * Handler for Session Logged In\n *\n * @method handleSessionLoggedIn\n * @param state\n * @param action\n * @param dispatch\n */\nconst handleSessionLoggedIn = ({ state, action, dispatch, properties }) => {\n\t// Intended to be called after being logged in via the login modal\n\tconst behaviorState = state.behaviors.ambStatusBehavior;\n\tconst payload = {\n\t\tisAuthTokenActive: behaviorState.isAuthTokenActive,\n\t\tisSessionLoggedIn: true\n\t};\n\tconst { token } = action.payload || {};\n\n\t// Making this check ensures that the canvas error modal stays open long enough to retrieve the new g_ck.\n\tif (!behaviorState.isAuthTokenActive && typeof token === 'string') {\n\t\tresetAuthToken(token);\n\t\tpayload.isAuthTokenActive = true;\n\n\t\t// Doing this because we can't seem to re-establish a valid connection once it's lost.\n\t\t// So, we'll just ignore invalidated messages after the first one fires\n\t\tambClientProxy.unsubscribeFromAction(\n\t\t\tACTION_TYPES.AMB_EVENT_SESSION_INVALIDATED\n\t\t);\n\t}\n\tdispatch(ACTION_TYPES.AMB_STATUS_SET, payload);\n\tdispatch(ACTION_TYPES.CANVAS_HIDE_ERROR_MODAL, {\n\t\tshowError: false,\n\t\terrorConfig: {}\n\t});\n};\n\n/**\n * Handler for Session Logged Out\n *\n * @method handleSessionLoggedOut\n * @param coeffects\n */\nconst handleSessionLoggedOut = coeffects => {\n\tconst {\n\t\taction: { payload },\n\t\tdispatch,\n\t\tproperties: { sessionLoggedIn, isLoggedIn }\n\t} = coeffects;\n\n\tif (sessionLoggedIn && isLoggedIn) {\n\t\tdispatch(SESSION_LOGGED_OUT, {});\n\n\t\tdispatch(ACTION_TYPES.AMB_STATUS_SET, {\n\t\t\tisAuthTokenActive: false,\n\t\t\tisSessionLoggedIn: false\n\t\t});\n\n\t\tdispatch(ACTION_TYPES.CANVAS_GLOBAL_ERROR, {\n\t\t\t...payload,\n\t\t\ttype: ACTION_TYPES.AMB_EVENT_SESSION_LOGGED_OUT,\n\t\t\tisAuthTokenActive: false,\n\t\t\tisSessionLoggedIn: false\n\t\t});\n\t}\n};\n\n/**\n * Handler for Session Invalidated\n *\n * @method handleSessionInvalidated\n * @param action\n * @param dispatch\n */\nconst handleSessionInvalidated = coeffects => {\n\tconst {\n\t\taction: { payload },\n\t\tdispatch,\n\t\tproperties: { sessionLoggedIn, isLoggedIn, forgetMe }\n\t} = coeffects;\n\n\tif (sessionLoggedIn && isLoggedIn && forgetMe !== \"false\") {\n\t\tdispatch(SESSION_LOGGED_OUT, {});\n\n\t\tdispatch(ACTION_TYPES.AMB_STATUS_SET, {\n\t\t\tisAuthTokenActive: false,\n\t\t\tisSessionLoggedIn: false\n\t\t});\n\t\tdispatch(ACTION_TYPES.CANVAS_GLOBAL_ERROR, {\n\t\t\t...payload,\n\t\t\ttype: ACTION_TYPES.AMB_EVENT_SESSION_INVALIDATED,\n\t\t\tisAuthTokenActive: false,\n\t\t\tisSessionLoggedIn: false\n\t\t});\n\t}\n};\n\nconst setAMBStatus = ({\n\tstate,\n\tproperties,\n\taction,\n\tupdateState,\n\tupdateProperties\n}) => {\n\tconst { isAuthTokenActive, isSessionLoggedIn } = action.payload || {};\n\tconst sessionLoggedIn = isAuthTokenActive && isSessionLoggedIn;\n\n\tif (properties.sessionLoggedIn !== sessionLoggedIn) {\n\t\tupdateProperties({ sessionLoggedIn, isLoggedIn: sessionLoggedIn });\n\t}\n\n\tupdateState({\n\t\toperation: 'set',\n\t\tpath: 'behaviors.ambStatusBehavior',\n\t\tvalue: {\n\t\t\t...state.behaviors.ambStatusBehavior,\n\t\t\tisAuthTokenActive,\n\t\t\tisSessionLoggedIn\n\t\t}\n\t});\n};\n\n/**\n * @method onConnect\n * @param coeffects\n */\nconst onConnect = coeffects => {\n\tconst {\n\t\tstate,\n\t\tdispatch,\n\t\tproperties: { sessionTimeLeft, isLoggedIn, forgetMe },\n\t\tupdateState,\n\t\tupdateProperties\n\t} = coeffects;\n\n\tupdateState({\n\t\toperation: 'set',\n\t\tpath: 'behaviors.ambStatusBehavior',\n\t\tvalue: {\n\t\t\t...state.behaviors.ambStatusBehavior,\n\t\t\tisSessionLoggedIn: isLoggedIn\n\t\t}\n\t});\n\n\tupdateProperties({ sessionLoggedIn: isLoggedIn });\n\n\tif (ambClientProxy) {\n\t\tambClientProxy.dispatchOnEvent(\n\t\t\tACTION_TYPES.AMB_EVENT_SESSION_LOGGED_IN,\n\t\t\tdispatch\n\t\t);\n\t\tambClientProxy.dispatchOnEvent(\n\t\t\tACTION_TYPES.AMB_EVENT_SESSION_LOGGED_OUT,\n\t\t\tdispatch\n\t\t);\n\t\tambClientProxy.dispatchOnEvent(\n\t\t\tACTION_TYPES.AMB_EVENT_SESSION_INVALIDATED,\n\t\t\tdispatch\n\t\t);\n\n\t\tconst isGckValid = typeof window.g_ck === 'string';\n\t\tdispatch(ACTION_TYPES.AMB_STATUS_SET, {\n\t\t\tisAuthTokenActive: isGckValid,\n\t\t\tisSessionLoggedIn: isLoggedIn\n\t\t});\n\n\t\tif (sessionTimeLeft && forgetMe !== \"false\") {\n\t\t\tambClientProxy.client.getChannel('/meta/connect').subscribe(message => {\n\t\t\t\tconst { ext } = message;\n\t\t\t\tif (\n\t\t\t\t\t!_isEmpty(ext) &&\n\t\t\t\t\text['glide.session.status'] === 'session.logged.in'\n\t\t\t\t) {\n\t\t\t\t\tconst sessionTimeLeftInSeconds =\n\t\t\t\t\t\text['glide.session.time.remaining.in.seconds'];\n\t\t\t\t\tif (\n\t\t\t\t\t\tparseInt(sessionTimeLeftInSeconds, 10) <=\n\t\t\t\t\t\tparseInt(sessionTimeLeft, 10) * 60\n\t\t\t\t\t) {\n\t\t\t\t\t\t//On 2 minutes left, display the session extension\n\t\t\t\t\t\tdispatch(ACTION_TYPES.CANVAS_GLOBAL_ERROR, {\n\t\t\t\t\t\t\ttype: 'SESSION_EXTENDED',\n\t\t\t\t\t\t\tsessionTimeLeftInSeconds\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatch(ACTION_TYPES.CANVAS_HIDE_ERROR_MODAL, {\n\t\t\t\t\t\t\tshowError: false,\n\t\t\t\t\t\t\terrorConfig: {}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n\n/**\n * @method onDisconnect\n */\nconst onDisconnect = () => {\n\tif (ambClientProxy) {\n\t\tambClientProxy.unsubscribeFromActions();\n\t}\n};\n\nconst effectHandlers = {\n\thandleSessionLoggedIn,\n\thandleSessionLoggedOut,\n\thandleSessionInvalidated,\n\tsetAMBStatus,\n\tonConnect,\n\tonDisconnect\n};\n\nexport default {\n\teffectHandlers,\n\tACTION_TYPES\n};\n","const token = {};\n\nexport default token;\n\n/**\n * Updates the user auth token header and  window.g_ck global. This will enable support for logging back in\n * after getting logged out\n *\n * @method resetAuthToken\n * @param new_g_ck\n */\nexport const resetAuthToken = new_g_ck => {\n\twindow.g_ck = token['X-UserToken'] = new_g_ck;\n};\n\n// Initially set the token to window.g_ck.\nresetAuthToken(window.g_ck);\n","import { amb } from './glide-amb-client-bundle.min';\n\n/**\n * A context-specific alias to mimic ambEventEffect until this issue is resolved:\n * https://code.devsnc.com/dev/sn-seismic/issues/446\n */\nclass AmbClientProxy {\n\thandlerIdMap = {};\n\tclient = amb.getClient();\n\n\tdispatchOnEvent(actionType, dispatch) {\n\t\tconst { client, handlerIdMap } = this;\n\n\t\tconst eventKey = actionType.replace(/^AMB_EVENT_/, '');\n\t\tconst { [eventKey]: eventName } = client.getEvents();\n\n\t\tif (!eventName) {\n\t\t\tthrow new Error(\n\t\t\t\t`[ambClientProxy] No amb event found for '${actionType}'`\n\t\t\t);\n\t\t}\n\n\t\tif (handlerIdMap.hasOwnProperty(actionType)) {\n\t\t\treturn;\n\t\t}\n\n\t\thandlerIdMap[actionType] = client.subscribeToEvent(eventName, () => {\n\t\t\tdispatch(actionType);\n\t\t});\n\t}\n\n\tunsubscribeFromAction(actionType) {\n\t\tconst {\n\t\t\tclient,\n\t\t\thandlerIdMap,\n\t\t\thandlerIdMap: { [actionType]: handlerId }\n\t\t} = this;\n\n\t\tclient.unsubscribeFromEvent(handlerId);\n\t\tdelete handlerIdMap[actionType];\n\t}\n\n\tunsubscribeFromActions() {\n\t\tconst actionTypes = Object.keys(this.handlerIdMap);\n\n\t\tfor (const actionType of actionTypes) {\n\t\t\tthis.unsubscribeFromAction(actionType);\n\t\t}\n\t}\n}\n\n// eslint-disable-next-line\nconst ambClientProxy =\n\tprocess.env.NODE_ENV !== 'development' && new AmbClientProxy();\n\nexport default Object.freeze(ambClientProxy);\n","!function(e,n){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=n();else if(\"function\"==typeof define&&define.amd)define([],n);else{var t=n();for(var i in t)(\"object\"==typeof exports?exports:e)[i]=t[i]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=\"\",t(t.s=8)}([function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i,r=t(1),o=(i=r)&&i.__esModule?i:{default:i};n.default=function(e){function n(n){window.console&&console.log(e+\" \"+n)}return{debug:function(e){\"debug\"===o.default.logLevel&&n(\"[DEBUG] \"+e)},addInfoMessage:function(e){n(\"[INFO] \"+e)},addErrorMessage:function(e){n(\"[ERROR] \"+e)}}}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});n.default={servletPath:\"amb\",logLevel:\"info\",loginWindow:\"true\",wsConnectTimeout:1e4,overlayStyle:\"\"}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i,r=t(0),o=(i=r)&&i.__esModule?i:{default:i};n.default=function(e,n,t){var i=void 0,r=void 0,s=new o.default(\"amb.ChannelListener\"),a=e;return{getCallback:function(){return r},getSubscriptionCallback:function(){return t},getID:function(){return i},setNewChannel:function(e){a.unsubscribe(this),a=e,this.subscribe(r)},subscribe:function(e){return r=e,i=a.subscribe(this),this},resubscribe:function(){return this.subscribe(r)},unsubscribe:function(){return a.unsubscribe(this),s.debug(\"Unsubscribed from channel: \"+a.getName()),this},publish:function(e){a.publish(e)},getName:function(){return a.getName()}}}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});n.default=function(e){var n=[],t=0;return{subscribe:function(e,i){var r=t++;return n.push({event:e,callback:i,id:r}),r},unsubscribe:function(e){for(var t=0;t<n.length;t++)e===n[t].id&&n.splice(t,1)},publish:function(e,n){for(var t=this._getSubscriptions(e),i=0;i<t.length;i++)t[i].callback.apply(null,n)},getEvents:function(){return e},_getSubscriptions:function(e){for(var t=[],i=0;i<n.length;i++)n[i].event===e&&t.push(n[i]);return t}}}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=u(t(3)),r=u(t(0)),o=u(t(1)),s=u(t(5)),a=u(t(6));function u(e){return e&&e.__esModule?e:{default:e}}n.default=function(e){var n=!1,t=!1,u=new i.default({CONNECTION_INITIALIZED:\"connection.initialized\",CONNECTION_OPENED:\"connection.opened\",CONNECTION_CLOSED:\"connection.closed\",CONNECTION_BROKEN:\"connection.broken\",SESSION_LOGGED_IN:\"session.logged.in\",SESSION_LOGGED_OUT:\"session.logged.out\",SESSION_INVALIDATED:\"session.invalidated\"}),c=\"closed\",l={},d=new r.default(\"amb.ServerConnection\");!function(){e.addListener(\"/meta/handshake\",this,T),e.addListener(\"/meta/connect\",this,I),e.addListener(\"/meta/subscribe\",this,E),e.addListener(\"/meta/unsubscribe\",this,E)}();var f=!0,g=null,h=\"true\"===o.default.loginWindow,p=null,b={UNKNOWN_CLIENT:\"402::Unknown client\"},v=!1,m={},w=!1,y=new s.default(e,m),C=!1,_=\"glide.amb.session.logout.overlay.style\";function T(e){void 0!==e.ext&&null!==e.ext[_]&&void 0!==e.ext[_]&&(o.default.overlayStyle=e.ext[_]),setTimeout(function(){e.successful&&O()},0)}function x(n){if(n in l)return l[n];var t=new a.default(e,n,C);return l[n]=t,t}function k(e){delete l[e]}function E(n){n.ext&&(!1===n.ext[\"glide.amb.active\"]&&m.disconnect(),void 0!==n.ext[\"glide.amb.client.log.level\"]&&\"\"!==n.ext[\"glide.amb.client.log.level\"]&&(o.default.logLevel=n.ext[\"glide.amb.client.log.level\"],e.setLogLevel(o.default.logLevel)))}function S(){for(var e in d.debug(\"Resubscribing to all!\"),l){var n=l[e];n&&n.resubscribeToCometD()}}function L(){for(var e in d.debug(\"Unsubscribing from all!\"),l){var n=l[e];n&&n.unsubscribeFromCometD()}}function I(e){if(E(e),t)setTimeout(function(){n=!1,d.debug(\"Connection closed\"),c=\"closed\",U(u.getEvents().CONNECTION_CLOSED)},0);else{var i=e.error;i&&(p=i),function(e){var n=e.ext;if(n){var t=n[\"glide.session.status\"];switch(v=!0===n[\"glide.amb.login.window.override\"],d.debug(\"session.status - \"+t),t){case\"session.logged.out\":f&&(f=!1,d.debug(\"LOGGED_OUT event fire!\"),L(),U(u.getEvents().SESSION_LOGGED_OUT),h&&!v&&m.loginShow());break;case\"session.logged.in\":f||D();break;case\"session.invalidated\":case null:f&&(f=!1,d.debug(\"INVALIDATED event fire!\"),L(),U(u.getEvents().SESSION_INVALIDATED));break;default:d.debug(\"unknown session status - \"+t)}}}(e);var r=n;n=!0===e.successful,!r&&n?N():r&&!n&&(d.addErrorMessage(\"Connection broken\"),c=\"broken\",w=!0,U(u.getEvents().CONNECTION_BROKEN))}}function O(){d.debug(\"Connection initialized\"),C=!0,c=\"initialized\",U(u.getEvents().CONNECTION_INITIALIZED)}function N(){d.debug(\"Connection opened\"),w?m.getLastError()===m.getErrorMessages().UNKNOWN_CLIENT&&(m.setLastError(null),M()):y.initialize(R)}function R(){S(),c=\"opened\",U(u.getEvents().CONNECTION_OPENED)}function M(){var n=function(){d.debug(\"sending /amb_session_setup.do!\");var n=new XMLHttpRequest;return n.open(\"GET\",\"/amb_session_setup.do\",!0),n.setRequestHeader(\"Content-type\",\"application/json;charset=UTF-8\"),n.setRequestHeader(\"X-UserToken\",window.g_ck),n.setRequestHeader(\"X-CometD_SessionID\",e.getClientId()),n}();n.onload=function(){200===this.status&&(w=!1,y.initialize(R))},n.send()}function D(){f=!0,d.debug(\"LOGGED_IN event fire!\"),S(),U(u.getEvents().SESSION_LOGGED_IN),m.loginHide()}function U(e){try{u.publish(e)}catch(n){d.addErrorMessage(\"error publishing '\"+e+\"' - \"+n)}}return m.connect=function(){n?console.log(\">>> connection exists, request satisfied\"):(d.debug(\"Connecting to glide amb server -> \"+o.default.servletURI),e.configure({url:m.getURL(o.default.servletPath),logLevel:o.default.logLevel,connectTimeout:o.default.wsConnectTimeout}),e.handshake())},m.reload=function(){e.reload()},m.abort=function(){e.getTransport().abort()},m.disconnect=function(){d.debug(\"Disconnecting from glide amb server..\"),t=!0,e.disconnect()},m.getURL=function(e){return window.location.protocol+\"//\"+window.location.host+\"/\"+e},m.unsubscribeAll=function(){L()},m.resubscribeAll=function(){S()},m.removeChannel=function(e){k(e)},m.getEvents=function(){return u.getEvents()},m.getConnectionState=function(){return c},m.getLastError=function(){return p},m.setLastError=function(e){p=e},m.getErrorMessages=function(){return b},m.isLoggedIn=function(){return f},m.getChannelRedirect=function(){return y},m.getChannel=function(e){return x(e)},m.getChannels=function(){return l},m.getState=function(){return c},m.getLoginWindowOverlayStyle=function(){return o.default.overlayStyle},m.loginShow=function(){d.debug(\"Show login window\");var e='<iframe src=\"/amb_login.do\" frameborder=\"0\" height=\"400px\" width=\"405px\" scrolling=\"no\"></iframe>',n='<div id=\"amb_disconnect_modal\" tabindex=\"-1\" aria-hidden=\"true\" class=\"modal\" role=\"dialog\" style=\"'+o.default.overlayStyle+'\">\\n\\t\\t\\t\\t<div class=\"modal-dialog small-modal\" style=\"width:450px\">\\n\\t\\t\\t\\t   <div class=\"modal-content\">\\n\\t\\t\\t\\t\\t  <header class=\"modal-header\">\\n\\t\\t\\t\\t\\t\\t <h4 id=\"small_modal1_title\" class=\"modal-title\">Login</h4>\\n\\t\\t\\t\\t\\t  </header>\\n\\t\\t\\t\\t\\t  <div class=\"modal-body\">\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t   </div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>';try{var t=new GlideModal(\"amb_disconnect_modal\");t.renderWithContent?(t.template=n,t.renderWithContent(e)):(t.setBody(e),t.render()),g=t}catch(e){d.debug(e)}},m.loginHide=function(){g&&(g.destroy(),g=null)},m.loginComplete=function(){D()},m.subscribeToEvent=function(e,t){return u.getEvents().CONNECTION_OPENED===e&&n&&t(),u.subscribe(e,t)},m.unsubscribeFromEvent=function(e){u.unsubscribe(e)},m.isLoginWindowEnabled=function(){return h},m.setLoginWindowEnabled=function(e){h=e},m.isLoginWindowOverride=function(){return v},m._metaConnect=I,m._metaHandshake=T,m._sendSessionSetupRequest=M,m._onChannelRedirectSubscriptionComplete=R,m._getChannel=x,m._removeChannel=k,m._connectionInitialized=O,m._connectionOpened=N,m}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=o(t(0)),r=o(t(2));function o(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,n){var t=void 0,o=e,s=new i.default(\"amb.ChannelRedirect\");function a(e){s.debug(\"_onAdvice:\"+e.data.clientId);var t=n.getChannel(e.data.fromChannel),i=n.getChannel(e.data.toChannel);t&&i?(function(e,n){for(var t=e.getChannelListeners(),i=0;i<t.length;i++)t[i].setNewChannel(n)}(t,i),s.debug(\"published channel switch event, fromChannel:\"+t.getName()+\", toChannel:\"+i.getName())):s.debug(\"Could not redirect from \"+e.data.fromChannel+\" to \"+e.data.toChannel)}return{initialize:function(e){var i=\"/sn/meta/channel_redirect/\"+o.getClientId(),u=n.getChannel(i);t&&u===t?t.subscribeToCometD():(t&&n.removeChannel(t.getName()),t=u,new r.default(t,n,e).subscribe(a)),s.debug(\"ChannelRedirect initialized: \"+i)},_onAdvice:a}}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i,r=t(0),o=(i=r)&&i.__esModule?i:{default:i};n.default=function(e,n,t){var i=null,r=null,s=[],a=[],u=new o.default(\"amb.Channel\"),c=0,l=t;return{subscribe:function(e){if(e.getCallback()){for(var t=0;t<s.length;t++)if(s[t]===e)return u.debug(\"Channel listener already in the list\"),e.getID();s.push(e);var o=e.getSubscriptionCallback();if(o&&(r?o(r):a.push(o)),!i&&l)try{this.subscribeToCometD()}catch(e){return void u.addErrorMessage(e)}return++c}u.addErrorMessage(\"Cannot subscribe to channel: \"+n+\", callback not provided\")},resubscribe:function(){i=null;for(var e=0;e<s.length;e++)s[e].resubscribe()},_handleResponse:function(e){for(var n=0;n<s.length;n++)s[n].getCallback()(e)},unsubscribe:function(t){if(t){for(var r=0;r<s.length;r++)if(s[r].getID()===t.getID()){s.splice(r,1);break}var o;s.length<1&&i&&\"disconnecting\"!==(o=e.getStatus())&&\"disconnected\"!==o&&this.unsubscribeFromCometD()}else u.addErrorMessage(\"Cannot unsubscribe from channel: \"+n+\", listener argument does not exist\")},publish:function(t){e.publish(n,t)},subscribeToCometD:function(){i=e.subscribe(n,this._handleResponse.bind(this),this.subscriptionCallback),u.debug(\"Successfully subscribed to channel: \"+n)},subscriptionCallback:function(e){u.debug(\"Cometd subscription callback completed for channel: \"+n),u.debug(\"Listener callback queue size: \"+a.length),r=e,a.map(function(e){e(r)}),a=[]},unsubscribeFromCometD:function(){null!==i&&(e.unsubscribe(i),i=null,r=null,u.debug(\"Successfully unsubscribed from channel: \"+n))},resubscribeToCometD:function(){u.debug(\"Resubscribe to \"+n),this.subscribeToCometD()},getName:function(){return n},getChannelListeners:function(){return s},getListenerCallbackQueue:function(){return a},setSubscriptionCallbackResponse:function(e){r=e}}}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=u(t(10)),r=u(t(4)),o=u(t(0)),s=u(t(2)),a=u(t(11));function u(e){return e&&e.__esModule?e:{default:e}}n.default=function(){var e=new i.default.CometD;e.registerTransport(\"websocket\",new i.default.WebSocketTransport,0),e.registerTransport(\"long-polling\",new i.default.LongPollingTransport,1),e.unregisterTransport(\"callback-polling\");var n=new a.default;e.registerExtension(\"graphQLSubscription\",n);var t=new r.default(e),u=new o.default(\"amb.MessageClient\"),c=!1;return{getServerConnection:function(){return t},isLoggedIn:function(){return t.isLoggedIn()},loginComplete:function(){t.loginComplete()},connect:function(){c?u.addInfoMessage(\">>> connection exists, request satisfied\"):(c=!0,t.connect())},reload:function(){c=!1,t.reload()},abort:function(){c=!1,t.abort()},disconnect:function(){c=!1,t.disconnect()},isConnected:function(){return c},getConnectionEvents:function(){return t.getEvents()},subscribeToEvent:function(e,n){return t.subscribeToEvent(e,n)},unsubscribeFromEvent:function(e){t.unsubscribeFromEvent(e)},getConnectionState:function(){return t.getConnectionState()},getClientId:function(){return e.getClientId()},getChannel:function(e,i){var r=i||{},o=r.subscriptionCallback,a=r.serializedGraphQLSubscription,c=t.getChannel(e);return n.isGraphQLChannel(e)&&(a?n.addGraphQLChannel(e,a):u.addErrorMessage(\"Serialized subscription not present for GraphQL channel \"+e)),new s.default(c,t,o)},removeChannel:function(e){t.removeChannel(e),n.isGraphQLChannel(e)&&n.removeGraphQLChannel(e)},getChannels:function(){return t.getChannels()},registerExtension:function(n,t){e.registerExtension(n,t)},unregisterExtension:function(n){e.unregisterExtension(n)},batch:function(n){e.batch(n)}}}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0}),n.amb=void 0;var i,r=t(9),o=(i=r)&&i.__esModule?i:{default:i};n.amb=o.default},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=f(t(1)),r=f(t(0)),o=f(t(3)),s=f(t(4)),a=f(t(5)),u=f(t(2)),c=f(t(6)),l=f(t(7)),d=f(t(12));function f(e){return e&&e.__esModule?e:{default:e}}var g={properties:i.default,Logger:r.default,EventManager:o.default,ServerConnection:s.default,ChannelRedirect:a.default,ChannelListener:u.default,Channel:c.default,MessageClient:l.default,getClient:d.default};n.default=g},function(e,n,t){var i;i=function(){var e={isString:function(e){return void 0!==e&&null!==e&&(\"string\"==typeof e||e instanceof String)},isArray:function(e){return void 0!==e&&null!==e&&e instanceof Array},inArray:function(e,n){for(var t=0;t<n.length;++t)if(e===n[t])return t;return-1},setTimeout:function(e,n,t){return window.setTimeout(function(){try{e._debug(\"Invoking timed function\",n),n()}catch(t){e._debug(\"Exception invoking timed function\",n,t)}},t)},clearTimeout:function(e){window.clearTimeout(e)}},n=function(){var n,t,i;this.registered=function(e,i){n=e,t=i},this.unregistered=function(){n=null,t=null},this._debug=function(){t._debug.apply(t,arguments)},this._mixin=function(){return t._mixin.apply(t,arguments)},this.getConfiguration=function(){return t.getConfiguration()},this.getAdvice=function(){return t.getAdvice()},this.setTimeout=function(n,i){return e.setTimeout(t,n,i)},this.clearTimeout=function(n){e.clearTimeout(n)},this.convertToMessages=function(n){if(e.isString(n))try{return JSON.parse(n)}catch(e){throw this._debug(\"Could not convert to JSON the following string\",'\"'+n+'\"'),e}if(e.isArray(n))return n;if(void 0===n||null===n)return[];if(n instanceof Object)return[n];throw\"Conversion Error \"+n+\", typeof \"+typeof n},this.accept=function(e,n,t){throw\"Abstract\"},this.getType=function(){return n},this.getURL=function(){return i},this.setURL=function(e){i=e},this.send=function(e,n){throw\"Abstract\"},this.reset=function(e){this._debug(\"Transport\",n,\"reset\",e?\"initial\":\"retry\")},this.abort=function(){this._debug(\"Transport\",n,\"aborted\")},this.toString=function(){return this.getType()}};n.derive=function(e){function n(){}return n.prototype=e,new n};var t=function(){var t=new n,i=n.derive(t),r=0,o=null,s=[],a=[];function u(e,n){if(this.transportSend(e,n),n.expired=!1,!e.sync){var t=this.getConfiguration().maxNetworkDelay,i=t;!0===n.metaConnect&&(i+=this.getAdvice().timeout),this._debug(\"Transport\",this.getType(),\"waiting at most\",i,\"ms for the response, maxNetworkDelay\",t);var r=this;n.timeout=this.setTimeout(function(){n.expired=!0;var t=\"Request \"+n.id+\" of transport \"+r.getType()+\" exceeded \"+i+\" ms max network delay\",o={reason:t},s=n.xhr;o.httpCode=r.xhrStatus(s),r.abortXHR(s),r._debug(t),r.complete(n,!1,n.metaConnect),e.onFailure(s,e.messages,o)},i)}}function c(e){var n=++r,t={id:n,metaConnect:!1,envelope:e};s.length<this.getConfiguration().maxConnections-1?(s.push(t),u.call(this,e,t)):(this._debug(\"Transport\",this.getType(),\"queueing request\",n,\"envelope\",e),a.push([e,t]))}function l(n,t){var i=e.inArray(n,s);if(i>=0&&s.splice(i,1),a.length>0){var r=a.shift(),o=r[0],u=r[1];if(this._debug(\"Transport dequeued request\",u.id),t)this.getConfiguration().autoBatch&&function(e){for(;a.length>0;){var n=a[0],t=n[0],i=n[1];if(t.url!==e.url||t.sync!==e.sync)break;a.shift(),e.messages=e.messages.concat(t.messages),this._debug(\"Coalesced\",t.messages.length,\"messages from request\",i.id)}}.call(this,o),c.call(this,o),this._debug(\"Transport completed request\",n.id,o);else{var l=this;this.setTimeout(function(){l.complete(u,!1,u.metaConnect);var e={reason:\"Previous request failed\"},n=u.xhr;e.httpCode=l.xhrStatus(n),o.onFailure(n,o.messages,e)},0)}}}return i.complete=function(e,n,t){t?function(e){var n=e.id;if(this._debug(\"Transport\",this.getType(),\"metaConnect complete, request\",n),null!==o&&o.id!==n)throw\"Longpoll request mismatch, completing request \"+n;o=null}.call(this,e):l.call(this,e,n)},i.transportSend=function(e,n){throw\"Abstract\"},i.transportSuccess=function(e,n,t){n.expired||(this.clearTimeout(n.timeout),this.complete(n,!0,n.metaConnect),t&&t.length>0?e.onSuccess(t):e.onFailure(n.xhr,e.messages,{httpCode:204}))},i.transportFailure=function(e,n,t){n.expired||(this.clearTimeout(n.timeout),this.complete(n,!1,n.metaConnect),e.onFailure(n.xhr,e.messages,t))},i.send=function(e,n){n?function(e){if(null!==o)throw\"Concurrent metaConnect requests not allowed, request id=\"+o.id+\" not yet completed\";var n=++r;this._debug(\"Transport\",this.getType(),\"metaConnect send, request\",n,\"envelope\",e);var t={id:n,metaConnect:!0,envelope:e};u.call(this,e,t),o=t}.call(this,e):c.call(this,e)},i.abort=function(){t.abort();for(var e=0;e<s.length;++e){var n=s[e];n&&(this._debug(\"Aborting request\",n),this.abortXHR(n.xhr)||this.transportFailure(n.envelope,n,{reason:\"abort\"}))}var i=o;i&&(this._debug(\"Aborting metaConnect request\",i),this.abortXHR(i.xhr)||this.transportFailure(i.envelope,i,{reason:\"abort\"})),this.reset(!0)},i.reset=function(e){t.reset(e),o=null,s=[],a=[]},i.abortXHR=function(e){if(e)try{var n=e.readyState;return e.abort(),n!==window.XMLHttpRequest.UNSENT}catch(e){this._debug(e)}return!1},i.xhrStatus=function(e){if(e)try{return e.status}catch(e){this._debug(e)}return-1},i},i=function(){var e=new t,i=n.derive(e),r=!0;return i.accept=function(e,n,t){return r||!n},i.newXMLHttpRequest=function(){return new window.XMLHttpRequest},i.xhrSend=function(e){var n=i.newXMLHttpRequest();n.context=i.context,n.withCredentials=!0,n.open(\"POST\",e.url,!0!==e.sync);var t=e.headers;if(t)for(var r in t)t.hasOwnProperty(r)&&n.setRequestHeader(r,t[r]);return n.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\"),n.onload=function(){200===n.status?e.onSuccess(n.responseText):e.onError(n.statusText)},n.onerror=function(){e.onError(n.statusText)},n.send(e.body),n},i.transportSend=function(e,n){this._debug(\"Transport\",this.getType(),\"sending request\",n.id,\"envelope\",e);var t=this;try{var i=!0;n.xhr=this.xhrSend({transport:this,url:e.url,sync:e.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(e.messages),onSuccess:function(i){t._debug(\"Transport\",t.getType(),\"received response\",i);var o=!1;try{var s=t.convertToMessages(i);0===s.length?(r=!1,t.transportFailure(e,n,{httpCode:204})):(o=!0,t.transportSuccess(e,n,s))}catch(i){if(t._debug(i),!o){r=!1;var a={exception:i};a.httpCode=t.xhrStatus(n.xhr),t.transportFailure(e,n,a)}}},onError:function(o,s){t._debug(\"Transport\",t.getType(),\"received error\",o,s),r=!1;var a={reason:o,exception:s};a.httpCode=t.xhrStatus(n.xhr),i?t.setTimeout(function(){t.transportFailure(e,n,a)},0):t.transportFailure(e,n,a)}}),i=!1}catch(i){r=!1,this.setTimeout(function(){t.transportFailure(e,n,{exception:i})},0)}},i.reset=function(n){e.reset(n),r=!0},i},r=function(){var e=new t,i=n.derive(e),r=0;function o(e,n,t){var i=this;return function(){i.transportFailure(e,n,\"error\",t)}}return i.accept=function(e,n,t){return!0},i.jsonpSend=function(e){var n=document.getElementsByTagName(\"head\")[0],t=document.createElement(\"script\"),i=\"_cometd_jsonp_\"+r++;window[i]=function(r){n.removeChild(t),delete window[i],e.onSuccess(r)};var o=e.url;o+=o.indexOf(\"?\")<0?\"?\":\"&\",o+=\"jsonp=\"+i,o+=\"&message=\"+encodeURIComponent(e.body),t.src=o,t.async=!0!==e.sync,t.type=\"application/javascript\",t.onerror=function(n){e.onError(\"jsonp \"+n.type)},n.appendChild(t)},i.transportSend=function(e,n){for(var t=this,i=0,r=e.messages.length,s=[];r>0;){var a=JSON.stringify(e.messages.slice(i,i+r)),u=e.url.length+encodeURI(a).length,c=this.getConfiguration().maxURILength;if(u>c){if(1===r){var l=\"Bayeux message too big (\"+u+\" bytes, max is \"+c+\") for transport \"+this.getType();return void this.setTimeout(o.call(this,e,n,l),0)}--r}else s.push(r),i+=r,r=e.messages.length-i}var d=e;if(s.length>1){var f=0,g=s[0];this._debug(\"Transport\",this.getType(),\"split\",e.messages.length,\"messages into\",s.join(\" + \")),(d=this._mixin(!1,{},e)).messages=e.messages.slice(f,g),d.onSuccess=e.onSuccess,d.onFailure=e.onFailure;for(var h=1;h<s.length;++h){var p=this._mixin(!1,{},e);f=g,g+=s[h],p.messages=e.messages.slice(f,g),p.onSuccess=e.onSuccess,p.onFailure=e.onFailure,this.send(p,n.metaConnect)}}this._debug(\"Transport\",this.getType(),\"sending request\",n.id,\"envelope\",d);try{var b=!0;this.jsonpSend({transport:this,url:d.url,sync:d.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(d.messages),onSuccess:function(e){var i=!1;try{var r=t.convertToMessages(e);0===r.length?t.transportFailure(d,n,{httpCode:204}):(i=!0,t.transportSuccess(d,n,r))}catch(e){t._debug(e),i||t.transportFailure(d,n,{exception:e})}},onError:function(e,i){var r={reason:e,exception:i};b?t.setTimeout(function(){t.transportFailure(d,n,r)},0):t.transportFailure(d,n,r)}}),b=!1}catch(e){this.setTimeout(function(){t.transportFailure(d,n,{exception:e})},0)}},i},o=function(){var t,i=new n,r=n.derive(i),o=!0,s=!1,a=!0,u=null,c=null,l=!1,d=null;function f(e,n){e&&(this.webSocketClose(e,n.code,n.reason),this.onClose(e,n))}function g(e){return e===c||e===u}function h(e,n,t){for(var i=[],r=0;r<n.messages.length;++r){var o=n.messages[r];o.id&&i.push(o.id)}e.envelopes[i.join(\",\")]=[n,t],this._debug(\"Transport\",this.getType(),\"stored envelope, envelopes\",e.envelopes)}function p(e,n,i){var r=JSON.stringify(n.messages);e.webSocket.send(r),this._debug(\"Transport\",this.getType(),\"sent\",n,\"metaConnect =\",i);var o=this.getConfiguration().maxNetworkDelay,s=o;i&&(s+=this.getAdvice().timeout,l=!0);for(var a=this,u=[],c=0;c<n.messages.length;++c)!function(){var i=n.messages[c];i.id&&(u.push(i.id),e.timeouts[i.id]=a.setTimeout(function(){t._debug(\"Transport\",a.getType(),\"timing out message\",i.id,\"after\",s,\"on\",e),f.call(a,e,{code:1e3,reason:\"Message Timeout\"})},s))}();this._debug(\"Transport\",this.getType(),\"waiting at most\",s,\"ms for messages\",u,\"maxNetworkDelay\",o,\", timeouts:\",e.timeouts)}function b(e,n,i){try{null===e?(e=c||{envelopes:{},timeouts:{}},h.call(this,e,n,i),function(e){if(!c){var n=t.getURL().replace(/^http/,\"ws\");this._debug(\"Transport\",this.getType(),\"connecting to URL\",n);try{var i=t.getConfiguration().protocol;e.webSocket=i?new window.WebSocket(n,i):new window.WebSocket(n),c=e}catch(e){throw o=!1,this._debug(\"Exception while creating WebSocket object\",e),e}a=!1!==t.getConfiguration().stickyReconnect;var r=this,l=t.getConfiguration().connectTimeout;l>0&&(e.connectTimer=this.setTimeout(function(){t._debug(\"Transport\",r.getType(),\"timed out while connecting to URL\",n,\":\",l,\"ms\"),f.call(r,e,{code:1e3,reason:\"Connect Timeout\"})},l));var d=function(n){n=n||{code:1e3},t._debug(\"WebSocket onclose\",e,n,\"connecting\",c,\"current\",u),e.connectTimer&&r.clearTimeout(e.connectTimer),r.onClose(e,n)};e.webSocket.onopen=function(){t._debug(\"WebSocket onopen\",e),e.connectTimer&&r.clearTimeout(e.connectTimer),g(e)?(c=null,u=e,s=!0,r.onOpen(e)):(t._warn(\"Closing extra WebSocket connection\",this,\"active connection\",u),f.call(r,e,{code:1e3,reason:\"Extra Connection\"}))},e.webSocket.onclose=d,e.webSocket.onerror=function(){d({code:1e3,reason:\"Error\"})},e.webSocket.onmessage=function(n){t._debug(\"WebSocket onmessage\",n,e),r.onMessage(e,n)},this._debug(\"Transport\",this.getType(),\"configured callbacks on\",e)}}.call(this,e)):(h.call(this,e,n,i),p.call(this,e,n,i))}catch(n){var r=this;this.setTimeout(function(){f.call(r,e,{code:1e3,reason:\"Exception\",exception:n})},0)}}return r.reset=function(e){i.reset(e),o=!0,e&&(s=!1),a=!0,u=null,c=null,l=!1},r._notifySuccess=function(e,n){e.call(this,n)},r._notifyFailure=function(e,n,t,i){e.call(this,n,t,i)},r.onOpen=function(e){var n=e.envelopes;for(var t in this._debug(\"Transport\",this.getType(),\"opened\",e,\"pending messages\",n),n)if(n.hasOwnProperty(t)){var i=n[t],r=i[0],o=i[1];d=r.onSuccess,p.call(this,e,r,o)}},r.onMessage=function(n,t){this._debug(\"Transport\",this.getType(),\"received websocket message\",t,n);for(var i=!1,r=this.convertToMessages(t.data),o=[],s=0;s<r.length;++s){var a=r[s];if((/^\\/meta\\//.test(a.channel)||void 0===a.data)&&a.id){o.push(a.id);var u=n.timeouts[a.id];u&&(this.clearTimeout(u),delete n.timeouts[a.id],this._debug(\"Transport\",this.getType(),\"removed timeout for message\",a.id,\", timeouts\",n.timeouts))}\"/meta/connect\"===a.channel&&(l=!1),\"/meta/disconnect\"!==a.channel||l||(i=!0)}for(var c=!1,f=n.envelopes,g=0;g<o.length;++g){var h=o[g];for(var p in f)if(f.hasOwnProperty(p)){var b=p.split(\",\"),v=e.inArray(h,b);if(v>=0){c=!0,b.splice(v,1);var m=f[p][0],w=f[p][1];delete f[p],b.length>0&&(f[b.join(\",\")]=[m,w]);break}}}c&&this._debug(\"Transport\",this.getType(),\"removed envelope, envelopes\",f),this._notifySuccess(d,r),i&&this.webSocketClose(n,1e3,\"Disconnect\")},r.onClose=function(e,n){this._debug(\"Transport\",this.getType(),\"closed\",e,n),g(e)&&(o=a&&s,c=null,u=null);var t=e.timeouts;for(var i in e.timeouts={},t)t.hasOwnProperty(i)&&this.clearTimeout(t[i]);var r=e.envelopes;for(var d in e.envelopes={},r)if(r.hasOwnProperty(d)){var f=r[d][0];r[d][1]&&(l=!1);var h={websocketCode:n.code,reason:n.reason};n.exception&&(h.exception=n.exception),this._notifyFailure(f.onFailure,e,f.messages,h)}},r.registered=function(e,n){i.registered(e,n),t=n},r.accept=function(e,n,i){return this._debug(\"Transport\",this.getType(),\"accept, supported:\",o),o&&!!window.WebSocket&&!1!==t.websocketEnabled},r.send=function(e,n){this._debug(\"Transport\",this.getType(),\"sending\",e,\"metaConnect =\",n),b.call(this,u,e,n)},r.webSocketClose=function(e,n,t){try{e.webSocket&&e.webSocket.close(n,t)}catch(e){this._debug(e)}},r.abort=function(){i.abort(),f.call(this,u,{code:1e3,reason:\"Abort\"}),this.reset(!0)},r},s=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\".\",\"-\",\":\",\"+\",\"=\",\"^\",\"!\",\"/\",\"*\",\"?\",\"&\",\"<\",\">\",\"(\",\")\",\"[\",\"]\",\"{\",\"}\",\"@\",\"%\",\"$\",\"#\"],a=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0];return{CometD:function(n){var t,s,a,u,c,l=this,d=n||\"default\",f=!1,g=new function(){var e=[],n={};this.getTransportTypes=function(){return e.slice(0)},this.findTransportTypes=function(t,i,r){for(var o=[],s=0;s<e.length;++s){var a=e[s];!0===n[a].accept(t,i,r)&&o.push(a)}return o},this.negotiateTransport=function(t,i,r,o){for(var s=0;s<e.length;++s)for(var a=e[s],u=0;u<t.length;++u)if(a===t[u]){var c=n[a];if(!0===c.accept(i,r,o))return c}return null},this.add=function(t,i,r){for(var o=!1,s=0;s<e.length;++s)if(e[s]===t){o=!0;break}return o||(\"number\"!=typeof r?e.push(t):e.splice(r,0,t),n[t]=i),!o},this.find=function(t){for(var i=0;i<e.length;++i)if(e[i]===t)return n[t];return null},this.remove=function(t){for(var i=0;i<e.length;++i)if(e[i]===t){e.splice(i,1);var r=n[t];return delete n[t],r}return null},this.clear=function(){e=[],n={}},this.reset=function(t){for(var i=0;i<e.length;++i)n[e[i]].reset(t)}},h=\"disconnected\",p=0,b=null,v=0,m=[],w=!1,y=0,C={},_=0,T=null,x=[],k={},E={},S={},L=!1,I=!1,O=0,N=0,R={protocol:null,stickyReconnect:!0,connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:\"info\",maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,urls:{},maxURILength:2e3,advice:{timeout:6e4,interval:0,reconnect:void 0,maxInterval:0}};function M(e,n){try{return e[n]}catch(e){return}}function D(n){return e.isString(n)}function U(e){return void 0!==e&&null!==e&&\"function\"==typeof e}function A(e,n){for(var t=\"\";--n>0&&!(e>=Math.pow(10,n));)t+=\"0\";return t+=e}function F(e,n){if(window.console){var t=window.console[e];if(U(t)){var i=new Date;[].splice.call(n,0,0,A(i.getHours(),2)+\":\"+A(i.getMinutes(),2)+\":\"+A(i.getSeconds(),2)+\".\"+A(i.getMilliseconds(),3)),t.apply(window.console,n)}}}function P(e){return/(^https?:\\/\\/)?(((\\[[^\\]]+\\])|([^:\\/\\?#]+))(:(\\d+))?)?([^\\?#]*)(.*)?/.exec(e)}function q(e){if(e){var n=C[e.channel];n&&n[e.id]&&(delete n[e.id],l._debug(\"Removed\",e.listener?\"listener\":\"subscription\",e))}}function B(e){e&&!e.listener&&q(e)}function j(){for(var e in C)if(C.hasOwnProperty(e)){var n=C[e];if(n)for(var t in n)n.hasOwnProperty(t)&&B(n[t])}}function G(e){h!==e&&(l._debug(\"Status\",h,\"->\",e),h=e)}function W(){return\"disconnecting\"===h||\"disconnected\"===h}function H(){return\"\"+ ++p}function Q(e,n,t,i,r){try{return n.call(e,i)}catch(e){var o=l.onExtensionException;if(U(o)){l._debug(\"Invoking extension exception handler\",t,e);try{o.call(l,e,t,r,i)}catch(e){l._info(\"Exception during execution of extension exception handler\",t,e)}}else l._info(\"Exception during execution of extension\",t,e);return i}}function z(e){for(var n=x.length-1;n>=0&&void 0!==e&&null!==e;--n){var t=x[n],i=t.extension.outgoing;if(U(i)){var r=Q(t.extension,i,t.name,e,!0);e=void 0===r?e:r}}return e}function X(e,n){var t=C[e];if(t)for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r)try{r.callback.call(r.scope,n)}catch(e){var o=l.onListenerException;if(U(o)){l._debug(\"Invoking listener exception handler\",r,e);try{o.call(l,e,r,r.listener,n)}catch(e){l._info(\"Exception during execution of listener exception handler\",r,e)}}else l._info(\"Exception during execution of listener\",r,n,e)}}}function J(e,n){X(e,n);for(var t=e.split(\"/\"),i=t.length-1,r=i;r>0;--r){var o=t.slice(0,r).join(\"/\")+\"/*\";r===i&&X(o,n),X(o+=\"*\",n)}}function V(){null!==T&&e.clearTimeout(T),T=null}function K(n,t){V();var i=k.interval+t;l._debug(\"Function scheduled in\",i,\"ms, interval =\",k.interval,\"backoff =\",_,n),T=e.setTimeout(l,n,i)}function Z(e,n,i,r){for(var o=0;o<n.length;++o){var s=n[o],a=s.id;b&&(s.clientId=b),void 0!==(s=z(s))&&null!==s?(s.id=a,n[o]=s):(delete E[a],n.splice(o--,1))}if(0!==n.length){var d=l.getURL();R.appendMessageTypeToURL&&(d.match(/\\/$/)||(d+=\"/\"),r&&(d+=r));var f={url:d,sync:e,messages:n,onSuccess:function(e){try{u.call(l,e)}catch(e){l._info(\"Exception during handling of messages\",e)}},onFailure:function(e,n,t){try{var i=l.getTransport();t.connectionType=i?i.getType():\"unknown\",c.call(l,e,n,t)}catch(e){l._info(\"Exception during handling of failure\",e)}}};l._debug(\"Send\",f),t.send(f,i)}}function $(e){v>0||!0===w?m.push(e):Z(!1,[e],!1)}function Y(){_=0}function ee(){var e=m;m=[],e.length>0&&Z(!1,e,!1)}function ne(e){G(\"connecting\"),K(function(){!function(){if(!W()){var e={id:H(),channel:\"/meta/connect\",connectionType:t.getType()};I||(e.advice={timeout:0}),G(\"connecting\"),l._debug(\"Connect sent\",e),Z(!1,[e],!0,\"connect\"),G(\"connected\")}}()},e)}function te(e){e&&(k=l._mixin(!1,{},R.advice,e),l._debug(\"New advice\",k))}function ie(e){if(V(),e&&t&&t.abort(),b=null,G(\"disconnected\"),v=0,Y(),t=null,L=!1,I=!1,m.length>0){var n=m;m=[],c.call(l,void 0,n,{reason:\"Disconnected\"})}}function re(e,n,t){var i=l.onTransportException;if(U(i)){l._debug(\"Invoking transport exception handler\",e,n,t);try{i.call(l,t,e,n)}catch(e){l._info(\"Exception during execution of transport exception handler\",e)}}}function oe(e,n){U(e)&&(n=e,e=void 0),b=null,j(),W()&&g.reset(!0),te({}),v=0,w=!0,s=e,a=n;var i=l.getURL(),r=g.findTransportTypes(\"1.0\",f,i),o={id:H(),version:\"1.0\",minimumVersion:\"1.0\",channel:\"/meta/handshake\",supportedConnectionTypes:r,advice:{timeout:k.timeout,interval:k.interval}},u=l._mixin(!1,{},s,o);if(l._putCallback(u.id,n),!t&&!(t=g.negotiateTransport(r,\"1.0\",f,i))){var c=\"Could not find initial transport among: \"+g.getTransportTypes();throw l._warn(c),c}l._debug(\"Initial transport is\",t.getType()),G(\"handshaking\"),l._debug(\"Handshake sent\",u),Z(!1,[u],!1,\"handshake\")}function se(e,n){try{e.call(l,n)}catch(e){var t=l.onCallbackException;if(U(t)){l._debug(\"Invoking callback exception handler\",e);try{t.call(l,e,n)}catch(e){l._info(\"Exception during execution of callback exception handler\",e)}}else l._info(\"Exception during execution of message callback\",e)}}function ae(e){var n=l._getCallback([e.id]);U(n)&&(delete E[e.id],se(n,e))}function ue(n){var t=S[n.id];if(delete S[n.id],t){l._debug(\"Handling remote call response for\",n,\"with context\",t);var i=t.timeout;i&&e.clearTimeout(i);var r=t.callback;if(U(r))return se(r,n),!0}return!1}function ce(e){l._debug(\"Transport failure handling\",e),e.transport&&(t=e.transport),e.url&&t.setURL(e.url);var n=e.action,i=e.delay||0;switch(n){case\"handshake\":!function(e){G(\"handshaking\"),w=!0,K(function(){oe(s,a)},e)}(i);break;case\"retry\":ne(i);break;case\"none\":ie(!0);break;default:throw\"Unknown action \"+n}}function le(e,n){ae(e),J(\"/meta/handshake\",e),J(\"/meta/unsuccessful\",e),W()&&(n.action=\"none\"),l.onTransportFailure.call(l,e,n,ce)}function de(e){le(e,{cause:\"failure\",action:\"handshake\",transport:null})}function fe(e,n){J(\"/meta/connect\",e),J(\"/meta/unsuccessful\",e),W()&&(n.action=\"none\"),l.onTransportFailure.call(l,e,n,ce)}function ge(e){I=!1,fe(e,{cause:\"failure\",action:\"retry\",transport:null})}function he(e){ie(!0),ae(e),J(\"/meta/disconnect\",e),J(\"/meta/unsuccessful\",e)}function pe(e){he(e)}function be(e){var n=C[e.subscription];if(n)for(var t in n)if(n.hasOwnProperty(t)){var i=n[t];i&&!i.listener&&(delete n[t],l._debug(\"Removed failed subscription\",i))}ae(e),J(\"/meta/subscribe\",e),J(\"/meta/unsuccessful\",e)}function ve(e){be(e)}function me(e){ae(e),J(\"/meta/unsubscribe\",e),J(\"/meta/unsuccessful\",e)}function we(e){me(e)}function ye(e){ue(e)||(ae(e),J(\"/meta/publish\",e),J(\"/meta/unsuccessful\",e))}function Ce(e){ye(e)}function _e(e){if(O=0,void 0!==(e=function(e){for(var n=0;n<x.length&&void 0!==e&&null!==e;++n){var t=x[n],i=t.extension.incoming;if(U(i)){var r=Q(t.extension,i,t.name,e,!1);e=void 0===r?e:r}}return e}(e))&&null!==e)switch(te(e.advice),e.channel){case\"/meta/handshake\":!function(e){var n=l.getURL();if(e.successful){var i=l._isCrossDomain(P(n)[2]),r=g.negotiateTransport(e.supportedConnectionTypes,e.version,i,n);if(null===r)return e.successful=!1,void le(e,{cause:\"negotiation\",action:\"none\",transport:null});t!==r&&(l._debug(\"Transport\",t.getType(),\"->\",r.getType()),t=r),b=e.clientId,w=!1,ee(),e.reestablish=L,L=!0,ae(e),J(\"/meta/handshake\",e),N=e[\"x-messages\"]||0;var o=W()?\"none\":k.reconnect||\"retry\";switch(o){case\"retry\":Y(),0===N?ne(0):l._debug(\"Processing\",N,\"handshake-delivered messages\");break;case\"none\":ie(!0);break;default:throw\"Unrecognized advice action \"+o}}else le(e,{cause:\"unsuccessful\",action:k.reconnect||\"handshake\",transport:t})}(e);break;case\"/meta/connect\":!function(e){if(I=e.successful){J(\"/meta/connect\",e);var n=W()?\"none\":k.reconnect||\"retry\";switch(n){case\"retry\":Y(),ne(_);break;case\"none\":ie(!1);break;default:throw\"Unrecognized advice action \"+n}}else fe(e,{cause:\"unsuccessful\",action:k.reconnect||\"retry\",transport:t})}(e);break;case\"/meta/disconnect\":!function(e){e.successful?(ie(!1),ae(e),J(\"/meta/disconnect\",e)):he(e)}(e);break;case\"/meta/subscribe\":!function(e){e.successful?(ae(e),J(\"/meta/subscribe\",e)):be(e)}(e);break;case\"/meta/unsubscribe\":!function(e){e.successful?(ae(e),J(\"/meta/unsubscribe\",e)):me(e)}(e);break;default:!function(e){void 0!==e.data?ue(e)||(J(e.channel,e),N>0&&0==--N&&(l._debug(\"Processed last handshake-delivered message\"),ne(0))):void 0===e.successful?l._warn(\"Unknown Bayeux Message\",e):e.successful?(ae(e),J(\"/meta/publish\",e)):ye(e)}(e)}}function Te(e){var n=C[e];if(n)for(var t in n)if(n.hasOwnProperty(t)&&n[t])return!0;return!1}function xe(e,n){var t={scope:e,method:n};if(U(e))t.scope=void 0,t.method=e;else if(D(n)){if(!e)throw\"Invalid scope \"+e;if(t.method=e[n],!U(t.method))throw\"Invalid callback \"+n+\" for scope \"+e}else if(!U(n))throw\"Invalid callback \"+n;return t}function ke(e,n,t,i){var r=xe(n,t);l._debug(\"Adding\",i?\"listener\":\"subscription\",\"on\",e,\"with scope\",r.scope,\"and callback\",r.method);var o=++y,s={id:o,channel:e,scope:r.scope,callback:r.method,listener:i},a=C[e];return a||(a={},C[e]=a),a[o]=s,l._debug(\"Added\",i?\"listener\":\"subscription\",s),s}this._mixin=function(e,n,t){for(var i=n||{},r=2;r<arguments.length;++r){var o=arguments[r];if(void 0!==o&&null!==o)for(var s in o)if(o.hasOwnProperty(s)){var a=M(o,s),u=M(i,s);if(a===n)continue;if(void 0===a)continue;if(e&&\"object\"==typeof a&&null!==a)if(a instanceof Array)i[s]=this._mixin(e,u instanceof Array?u:[],a);else{var c=\"object\"!=typeof u||u instanceof Array?{}:u;i[s]=this._mixin(e,c,a)}else i[s]=a}}return i},this._warn=function(){F(\"warn\",arguments)},this._info=function(){\"warn\"!==R.logLevel&&F(\"info\",arguments)},this._debug=function(){\"debug\"===R.logLevel&&F(\"debug\",arguments)},this._isCrossDomain=function(e){return!!(window.location&&window.location.host&&e)&&e!==window.location.host},this.send=$,this._getCallback=function(e){return E[e]},this._putCallback=function(e,n){var t=this._getCallback(e);return U(n)&&(E[e]=n),t},this.onTransportFailure=function(e,n,i){this._debug(\"Transport failure\",n,\"for\",e);var r=this.getTransportRegistry(),o=this.getURL(),s=this._isCrossDomain(P(o)[2]),a=r.findTransportTypes(\"1.0\",s,o);if(\"none\"===n.action){if(\"/meta/handshake\"===e.channel&&!n.transport){var u=\"Could not negotiate transport, client=[\"+a+\"], server=[\"+e.supportedConnectionTypes+\"]\";this._warn(u),re(t.getType(),null,{reason:u,connectionType:t.getType(),transport:t})}}else if(n.delay=this.getBackoffPeriod(),\"/meta/handshake\"===e.channel){if(!n.transport){var c=r.negotiateTransport(a,\"1.0\",s,o);c?(this._debug(\"Transport\",t.getType(),\"->\",c.getType()),re(t.getType(),c.getType(),e.failure),n.action=\"handshake\",n.transport=c):(this._warn(\"Could not negotiate transport, client=[\"+a+\"]\"),re(t.getType(),null,e.failure),n.action=\"none\")}\"none\"!==n.action&&this.increaseBackoffPeriod()}else{var d=(new Date).getTime();if(0===O&&(O=d),\"retry\"===n.action){n.delay=this.increaseBackoffPeriod();var f=k.maxInterval;if(f>0){var g=k.timeout+k.interval+f;d-O+_>g&&(n.action=\"handshake\")}}\"handshake\"===n.action&&(n.delay=0,r.reset(!1),this.resetBackoffPeriod())}i.call(l,n)},this.receive=_e,u=function(e){l._debug(\"Received\",e);for(var n=0;n<e.length;++n)_e(e[n])},c=function(e,n,t){l._debug(\"handleFailure\",e,n,t),t.transport=e;for(var i=0;i<n.length;++i){var r=n[i],o={id:r.id,successful:!1,channel:r.channel,failure:t};switch(t.message=r,r.channel){case\"/meta/handshake\":de(o);break;case\"/meta/connect\":ge(o);break;case\"/meta/disconnect\":pe(o);break;case\"/meta/subscribe\":o.subscription=r.subscription,ve(o);break;case\"/meta/unsubscribe\":o.subscription=r.subscription,we(o);break;default:Ce(o)}}},this.registerTransport=function(e,n,t){var i=g.add(e,n,t);return i&&(this._debug(\"Registered transport\",e),U(n.registered)&&n.registered(e,this)),i},this.unregisterTransport=function(e){var n=g.remove(e);return null!==n&&(this._debug(\"Unregistered transport\",e),U(n.unregistered)&&n.unregistered()),n},this.unregisterTransports=function(){g.clear()},this.getTransportTypes=function(){return g.getTransportTypes()},this.findTransport=function(e){return g.find(e)},this.getTransportRegistry=function(){return g},this.configure=function(e){(function(e){l._debug(\"Configuring cometd object with\",e),D(e)&&(e={url:e}),e||(e={}),R=l._mixin(!1,R,e);var n=l.getURL();if(!n)throw\"Missing required configuration parameter 'url' specifying the Bayeux server URL\";var t=P(n),i=t[2],r=t[8],o=t[9];if(f=l._isCrossDomain(i),R.appendMessageTypeToURL)if(void 0!==o&&o.length>0)l._info(\"Appending message type to URI \"+r+o+\" is not supported, disabling 'appendMessageTypeToURL' configuration\"),R.appendMessageTypeToURL=!1;else{var s=r.split(\"/\"),a=s.length-1;r.match(/\\/$/)&&(a-=1),s[a].indexOf(\".\")>=0&&(l._info(\"Appending message type to URI \"+r+\" is not supported, disabling 'appendMessageTypeToURL' configuration\"),R.appendMessageTypeToURL=!1)}}).call(this,e)},this.init=function(e,n){this.configure(e),this.handshake(n)},this.handshake=function(e,n){if(\"disconnected\"!==h)throw\"Illegal state: handshaken\";oe(e,n)},this.disconnect=function(e,n,t){if(!W()){\"boolean\"!=typeof e&&(t=n,n=e,e=!1),U(n)&&(t=n,n=void 0);var i={id:H(),channel:\"/meta/disconnect\"},r=this._mixin(!1,{},n,i);l._putCallback(r.id,t),G(\"disconnecting\"),Z(!0===e,[r],!1,\"disconnect\")}},this.startBatch=function(){++v,l._debug(\"Starting batch, depth\",v)},this.endBatch=function(){!function(){if(--v,l._debug(\"Ending batch, depth\",v),v<0)throw\"Calls to startBatch() and endBatch() are not paired\";0!==v||W()||w||ee()}()},this.batch=function(e,n){var t=xe(e,n);this.startBatch();try{t.method.call(t.scope),this.endBatch()}catch(e){throw this._info(\"Exception during execution of batch\",e),this.endBatch(),e}},this.addListener=function(e,n,t){if(arguments.length<2)throw\"Illegal arguments number: required 2, got \"+arguments.length;if(!D(e))throw\"Illegal argument type: channel must be a string\";return ke(e,n,t,!0)},this.removeListener=function(e){if(!(e&&e.channel&&\"id\"in e))throw\"Invalid argument: expected subscription, not \"+e;q(e)},this.clearListeners=function(){C={}},this.subscribe=function(e,n,t,i,r){if(arguments.length<2)throw\"Illegal arguments number: required 2, got \"+arguments.length;if(!D(e))throw\"Illegal argument type: channel must be a string\";if(W())throw\"Illegal state: disconnected\";U(n)&&(r=i,i=t,t=n,n=void 0),U(i)&&(r=i,i=void 0);var o=!Te(e),s=ke(e,n,t,!1);if(o){var a={id:H(),channel:\"/meta/subscribe\",subscription:e},u=this._mixin(!1,{},i,a);l._putCallback(u.id,r),$(u)}return s},this.unsubscribe=function(e,n,t){if(arguments.length<1)throw\"Illegal arguments number: required 1, got \"+arguments.length;if(W())throw\"Illegal state: disconnected\";U(n)&&(t=n,n=void 0),this.removeListener(e);var i=e.channel;if(!Te(i)){var r={id:H(),channel:\"/meta/unsubscribe\",subscription:i},o=this._mixin(!1,{},n,r);l._putCallback(o.id,t),$(o)}},this.resubscribe=function(e,n){if(B(e),e)return this.subscribe(e.channel,e.scope,e.callback,n)},this.clearSubscriptions=function(){j()},this.publish=function(e,n,t,i){if(arguments.length<1)throw\"Illegal arguments number: required 1, got \"+arguments.length;if(!D(e))throw\"Illegal argument type: channel must be a string\";if(/^\\/meta\\//.test(e))throw\"Illegal argument: cannot publish to meta channels\";if(W())throw\"Illegal state: disconnected\";U(n)?(i=n,n={},t=void 0):U(t)&&(i=t,t=void 0);var r={id:H(),channel:e,data:n},o=this._mixin(!1,{},t,r);l._putCallback(o.id,i),$(o)},this.publishBinary=function(e,n,t,i,r){U(n)?(r=n,n=new ArrayBuffer(0),t=!0,i=void 0):U(t)?(r=t,t=!0,i=void 0):U(i)&&(r=i,i=void 0);var o={meta:i,data:n,last:t};this.publish(e,o,{ext:{binary:{}}},r)},this.remoteCall=function(n,t,i,r,o){if(arguments.length<1)throw\"Illegal arguments number: required 1, got \"+arguments.length;if(!D(n))throw\"Illegal argument type: target must be a string\";if(W())throw\"Illegal state: disconnected\";if(U(t)?(o=t,t={},i=R.maxNetworkDelay,r=void 0):U(i)?(o=i,i=R.maxNetworkDelay,r=void 0):U(r)&&(o=r,r=void 0),\"number\"!=typeof i)throw\"Illegal argument type: timeout must be a number\";n.match(/^\\//)||(n=\"/\"+n);var s=\"/service\"+n,a={id:H(),channel:s,data:t},u=this._mixin(!1,{},r,a),c={callback:o};i>0&&(c.timeout=e.setTimeout(l,function(){l._debug(\"Timing out remote call\",u,\"after\",i,\"ms\"),ye({id:u.id,error:\"406::timeout\",successful:!1,failure:{message:u,reason:\"Remote Call Timeout\"}})},i),l._debug(\"Scheduled remote call timeout\",u,\"in\",i,\"ms\")),S[u.id]=c,$(u)},this.remoteCallBinary=function(e,n,t,i,r,o){U(n)?(o=n,n=new ArrayBuffer(0),t=!0,i=void 0,r=R.maxNetworkDelay):U(t)?(o=t,t=!0,i=void 0,r=R.maxNetworkDelay):U(i)?(o=i,i=void 0,r=R.maxNetworkDelay):U(r)&&(o=r,r=R.maxNetworkDelay);var s={meta:i,data:n,last:t};this.remoteCall(e,s,r,{ext:{binary:{}}},o)},this.getStatus=function(){return h},this.isDisconnected=W,this.setBackoffIncrement=function(e){R.backoffIncrement=e},this.getBackoffIncrement=function(){return R.backoffIncrement},this.getBackoffPeriod=function(){return _},this.increaseBackoffPeriod=function(){return _<R.maxBackoff&&(_+=R.backoffIncrement),_},this.resetBackoffPeriod=function(){Y()},this.setLogLevel=function(e){R.logLevel=e},this.registerExtension=function(e,n){if(arguments.length<2)throw\"Illegal arguments number: required 2, got \"+arguments.length;if(!D(e))throw\"Illegal argument type: extension name must be a string\";for(var t=!1,i=0;i<x.length;++i)if(x[i].name===e){t=!0;break}return t?(this._info(\"Could not register extension with name\",e,\"since another extension with the same name already exists\"),!1):(x.push({name:e,extension:n}),this._debug(\"Registered extension\",e),U(n.registered)&&n.registered(e,this),!0)},this.unregisterExtension=function(e){if(!D(e))throw\"Illegal argument type: extension name must be a string\";for(var n=!1,t=0;t<x.length;++t){var i=x[t];if(i.name===e){x.splice(t,1),n=!0,this._debug(\"Unregistered extension\",e);var r=i.extension;U(r.unregistered)&&r.unregistered();break}}return n},this.getExtension=function(e){for(var n=0;n<x.length;++n){var t=x[n];if(t.name===e)return t.extension}return null},this.getName=function(){return d},this.getClientId=function(){return b},this.getURL=function(){if(t){var e=t.getURL();if(e)return e;if(e=R.urls[t.getType()])return e}return R.url},this.getTransport=function(){return t},this.getConfiguration=function(){return this._mixin(!0,{},R)},this.getAdvice=function(){return this._mixin(!0,{},k)},window.WebSocket&&this.registerTransport(\"websocket\",new o),this.registerTransport(\"long-polling\",new i),this.registerTransport(\"callback-polling\",new r)},Transport:n,RequestTransport:t,LongPollingTransport:i,CallbackPollingTransport:r,WebSocketTransport:o,Utils:e,Z85:{encode:function(e){var n=null;if(e instanceof ArrayBuffer?n=e:e.buffer instanceof ArrayBuffer?n=e.buffer:Array.isArray(e)&&(n=new Uint8Array(e).buffer),null==n)throw\"Cannot Z85 encode \"+e;for(var t=n.byteLength,i=t%4,r=4-(0===i?4:i),o=new DataView(n),a=\"\",u=0,c=0;c<t+r;++c){var l=c>=t;if(u=256*u+(l?0:o.getUint8(c)),(c+1)%4==0){for(var d=52200625,f=5;f>0;--f){if(!l||f>r){var g=Math.floor(u/d)%85;a+=s[g]}d/=85}u=0}}return a},decode:function(e){for(var n=e.length%5,t=5-(0===n?5:n),i=0;i<t;++i)e+=s[s.length-1];for(var r=e.length,o=new ArrayBuffer(4*r/5-t),u=new DataView(o),c=0,l=0,d=0,f=0;f<r;++f){var g=e.charCodeAt(l++)-32;if(c=85*c+a[g],l%5==0){for(var h=16777216;h>=1;)d<u.byteLength&&u.setUint8(d++,Math.floor(c/h)%256),h/=256;c=0}}return o}}}},e.exports=i()},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i,r=t(0),o=(i=r)&&i.__esModule?i:{default:i};n.default=function(){var e=new o.default(\"amb.GraphQLSubscriptionExtension\"),n={};this.isGraphQLChannel=function(e){return e&&e.startsWith(\"/rw/graphql\")},this.addGraphQLChannel=function(e,t){n[e]=t},this.removeGraphQLChannel=function(e){delete n[e]},this.getGraphQLSubscriptions=function(){return n},this.outgoing=function(t){return\"/meta/subscribe\"===t.channel&&this.isGraphQLChannel(t.subscription)&&(t.ext||(t.ext={}),n[t.subscription]&&(e.debug(\"Subscribing with GraphQL subscription:\"+n[t.subscription]),t.ext.serializedGraphQLSubscription=n[t.subscription])),t}}},function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i,r=t(7),o=(i=r)&&i.__esModule?i:{default:i};function s(e){return e.MSInputMethodContext&&e.document.documentMode}function a(e,n){if(void 0!==e.getClientWindow&&e.getClientWindow()===n)return e;var t=function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}({},e);return t.getChannel=function(t,i,r){return e.getChannel(t,i,r||n)},t.subscribeToEvent=function(t,i,r){return e.subscribeToEvent(t,i,r||n)},t.unsubscribeFromEvent=function(t,i){return e.unsubscribeFromEvent(t,i||n)},t.getClientWindow=function(){return n},t}n.default=function(){var e=function(e){try{if(!s(e))for(;e!==e.parent&&!e.g_ambClient;)e=e.parent;if(e.g_ambClient)return e.g_ambClient}catch(e){console.log(\"AMB getClient() tried to access parent from an iFrame. Caught error: \"+e)}return null}(window);e||function(e){var n=window.self;n.g_ambClient=e,n.addEventListener(\"unload\",function(){n.g_ambClient.disconnect()}),\"complete\"===(n.document?n.document.readyState:null)?i():n.addEventListener(\"load\",i),setTimeout(i,1e4);var t=!1;function i(){t||(t=!0,n.g_ambClient.connect())}}(e=a(function(e){return n=new o.default,t=function(){var e=[];function n(e,n,i){if(e&&i){var r=t(e);if(r)for(var o=r.subscriptions,s=o.length-1;s>=0;s--)o[s].id===n&&o[s].callback===i&&o.splice(s,1)}}function t(n){for(var t=0,i=e.length;t<i;t++)if(e[t].window===n)return e[t];return null}function i(n){var t={window:n,onUnload:function(){t.unloading=!0;for(var n=t.subscriptions,i=void 0;i=n.pop();)i.unsubscribe();!function(n){for(var t=0,i=e.length;t<i;t++)if(e[t].window===n.window){e.splice(t,1);break}n.subscriptions=[],n.window.removeEventListener(\"unload\",n.onUnload),n.onUnload=null,n.window=null}(t)},unloading:!1,subscriptions:[]};return n.addEventListener(\"unload\",t.onUnload),e.push(t),t}return{add:function(e,r,o,s){if(e&&o&&s){n(e,r,o);var a=t(e);a||(a=i(e)),a.unloading||a.subscriptions.push({id:r,callback:o,unsubscribe:s})}},remove:n}}(),i=n.getServerConnection(),e&&i.setLoginWindowEnabled(!1),{getServerConnection:function(){return i},connect:function(){n.connect()},abort:function(){n.abort()},disconnect:function(){n.disconnect()},getConnectionState:function(){return n.getConnectionState()},getState:function(){return n.getConnectionState()},getClientId:function(){return n.getClientId()},getChannel:function(e,i,r){var o=n.getChannel(e,i),s=o.subscribe,a=o.unsubscribe;return r=r||window,o.subscribe=function(i){return t.add(r,o,i,function(){o.unsubscribe(i)}),r.addEventListener(\"unload\",function(){n.removeChannel(e)}),s.call(o,i),o},o.unsubscribe=function(e){return t.remove(r,o,e),a.call(o,e)},o},getChannel0:function(e,t){return n.getChannel(e,t)},registerExtension:function(e,t){n.registerExtension(e,t)},unregisterExtension:function(e){n.unregisterExtension(e)},batch:function(e){n.batch(e)},subscribeToEvent:function(e,i,r){r=r||window;var o=n.subscribeToEvent(e,i);return t.add(r,o,!0,function(){n.unsubscribeFromEvent(o)}),o},unsubscribeFromEvent:function(e,i){i=i||window,t.remove(i,e,!0),n.unsubscribeFromEvent(e)},isLoggedIn:function(){return n.isLoggedIn()},getConnectionEvents:function(){return n.getConnectionEvents()},getEvents:function(){return n.getConnectionEvents()},loginComplete:function(){n.loginComplete()},getChannels:function(){return n.getChannels()}};var n,t,i}(s(window)&&null!==window.frameElement),window));return a(e,window)}}])});\n//# sourceMappingURL=glide-amb-client-bundle.min.js.map","import get from 'lodash/get';\nimport { t } from 'sn-translate';\nimport {\n\tSCREEN_STATUS_CHANGED,\n\tACTIVE_SCREEN_RENDERED\n} from '../constants/constants';\nimport { activityLogger } from '../utils/activity-logger';\nimport {\n\trecoverContentFromKey,\n\tgenerateScreenKey\n} from '../behaviors/sn-canvas-screens/sn-canvas-screens.util';\n\nconst BASE_TITLE = window.document.title;\nconst _getAppConfigID = () =>\n\tget(window, 'ux_globals.pageSettings.sys_id.value', '');\n\nconst isKeyUpdateRequired = screenParams => {\n\tif (!screenParams) return false;\n\tconst keyArray = Object.keys(screenParams);\n\tif (keyArray.length === 0) return false;\n\n\treturn keyArray.every(key => !!screenParams[key]);\n};\n\nconst getScreenConfigurationLink = (screenId, screenTypeId) => {\n\treturn `/now/build/ui/apps/${_getAppConfigID()}/pages/${screenTypeId}/variants/${screenId}`;\n};\n\nconst updateActivityLogs = (activeKey, updateProperties, _activityLogs) => {\n\tif (!activeKey) return;\n\n\tif (!_activityLogs) _activityLogs = activityLogger.getAll();\n\n\t//updateActiveLogContext\n\tfor (let [_key, _value] of _activityLogs.entries()) {\n\t\t_value.context = { ..._value.context, isActive: _key === activeKey };\n\t}\n\tupdateProperties({\n\t\tactivityLogs: _activityLogs\n\t});\n};\n\nconst saveOrUpdateLog = (\n\t_key,\n\tscreenParams = {},\n\tstatus,\n\tselectedContent,\n\tcallbackFn\n) => {\n\tconst isRelatedRecord = selectedContent => {\n\t\treturn (\n\t\t\tselectedContent &&\n\t\t\tselectedContent.parent &&\n\t\t\tselectedContent.fields &&\n\t\t\tselectedContent.fields['sys_id'] != '-1'\n\t\t);\n\t};\n\tconst isSubNav = navInfo => navInfo && navInfo.parent;\n\tconst shouldSkip = logInfo => logInfo.sys_id == '-1';\n\n\tif (!status && isRelatedRecord(selectedContent)) status = 'opened';\n\n\tif (!status || status.length === 0) return;\n\n\tlet keyInfo = { key: _key };\n\tconst incomingContent = recoverContentFromKey(_key);\n\tlet logInfo = { operation: status, ...incomingContent.fields };\n\n\tif (screenParams && status === 'inserted' && incomingContent.route) {\n\t\tkeyInfo = {\n\t\t\t...keyInfo,\n\t\t\tkey: generateScreenKey(\n\t\t\t\t{ ...incomingContent.fields, ...screenParams },\n\t\t\t\tincomingContent.route\n\t\t\t)\n\t\t};\n\t\tlogInfo = { operation: status, ...screenParams };\n\t}\n\n\tif (isSubNav(selectedContent))\n\t\tkeyInfo = {\n\t\t\t...keyInfo,\n\t\t\tkey: generateScreenKey(\n\t\t\t\tselectedContent.parent.fields,\n\t\t\t\tselectedContent.parent.route\n\t\t\t)\n\t\t};\n\n\tif (shouldSkip(logInfo)) return;\n\n\tactivityLogger.log({ keyInfo, logInfo });\n\tcallbackFn(activityLogger.getAll());\n};\n\nconst activeScreenRenderedEffect = ({ action, updateProperties }) => {\n\tconst { activeScreenId, screenMetaData } = action.payload;\n\tconst { screenType, screenId } = screenMetaData;\n\n\tconst linkToCurrentScreenConfiguration =\n\t\tscreenType && screenId\n\t\t\t? {\n\t\t\t\t\tlabel: t('Edit page'),\n\t\t\t\t\thref: getScreenConfigurationLink(screenId, screenType)\n\t\t\t  }\n\t\t\t: {};\n\tupdateActivityLogs(activeScreenId, updateProperties);\n\tupdateProperties({\n\t\tlinkToCurrentScreenConfiguration,\n\t\tactiveScreenId: activeScreenId\n\t});\n};\n\nconst screenStatusChangedEffect = ({\n\taction,\n\tproperties,\n\tupdateProperties\n}) => {\n\tconst { meta, payload } = action;\n\n\tsaveOrUpdateLog(\n\t\tpayload.screenKey,\n\t\tpayload.screenParams,\n\t\tpayload.status,\n\t\tproperties.selectedContent,\n\t\t_activityLogs => {\n\t\t\tupdateActivityLogs(\n\t\t\t\tproperties.activeScreenId,\n\t\t\t\tupdateProperties,\n\t\t\t\t_activityLogs\n\t\t\t);\n\t\t\tif (!properties.activeScreenId)\n\t\t\t\tupdateProperties({\n\t\t\t\t\tactivityLogs: _activityLogs\n\t\t\t\t});\n\t\t}\n\t);\n\n\tconst screenTitle = payload.title;\n\n\tif (screenTitle) window.document.title = `${screenTitle} | ${BASE_TITLE}`;\n\n\tconst changePayload = {\n\t\t...payload,\n\t\tcomponentId: meta.id,\n\t\tisScreenKeyUpdated: isKeyUpdateRequired(payload.screenParams)\n\t};\n\tif (changePayload.isScreenKeyUpdated !== true) {\n\t\tdelete changePayload.screenParams;\n\t}\n\tupdateProperties({\n\t\tscreenStatus: {\n\t\t\t...changePayload\n\t\t}\n\t});\n};\n\nconst actionHandlers = {\n\t[ACTIVE_SCREEN_RENDERED]: activeScreenRenderedEffect,\n\t[SCREEN_STATUS_CHANGED]: screenStatusChangedEffect\n};\n\nexport default actionHandlers;\n","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","import { pick } from 'lodash';\nfunction convertToHash(keyInfo = {}) {\n\tlet hash = '',\n\t\tstack = [];\n\tif (keyInfo.hasOwnProperty('key')) return keyInfo.key;\n\tObject.keys(keyInfo).forEach(key => {\n\t\tif (typeof keyInfo[key] === 'object' && keyInfo[key] !== null) {\n\t\t\tstack.push(keyInfo[key]);\n\t\t} else {\n\t\t\thash = hash ? `${hash}~${key}~${keyInfo[key]}` : `${key}~${keyInfo[key]}`;\n\t\t}\n\t\twhile (stack.length) {\n\t\t\tconst obj = stack.pop();\n\t\t\tObject.keys(obj).forEach(k => {\n\t\t\t\tif (typeof obj[k] === 'object' && obj[k] !== null) stack.push(obj[k]);\n\t\t\t\telse hash = hash ? `${hash}~${k}~${obj[k]}` : `${k}~${obj[k]}`;\n\t\t\t});\n\t\t}\n\t});\n\treturn hash;\n}\n\nfunction getKeyInfo(keyInfo) {\n\tif (keyInfo.hasOwnProperty('key')) return keyInfo.key;\n\treturn keyInfo;\n}\n\nfunction recoverContextFromKey(keyInfo) {\n\tif (!keyInfo) return null;\n\tif (!keyInfo.hasOwnProperty('key')) return { ...keyInfo.fields };\n\n\tconst key = keyInfo.key;\n\tconst parts = key.split('~');\n\tlet fields = {};\n\tfor (let i = 1; i < parts.length - 1; i = i + 2) {\n\t\tlet j = i + 1;\n\t\tfields[parts[i]] = parts[j];\n\t}\n\treturn { ...fields };\n}\n\nconst mapToAggregation = (function() {\n\tconst aggregationMap = new Map();\n\taggregationMap.set('inserted', 'crud');\n\taggregationMap.set('created', 'crud');\n\taggregationMap.set('updated', 'crud');\n\taggregationMap.set('modified', 'crud');\n\taggregationMap.set('deleted', 'crud');\n\taggregationMap.set('removed', 'crud');\n\taggregationMap.set('opened', 'crud');\n\taggregationMap.set('viewed', 'crud');\n\taggregationMap.set('closed', 'crud');\n\n\treturn function(status) {\n\t\tconst hasStatus = aggregationMap.has(status);\n\t\tif (hasStatus) return aggregationMap.get(status);\n\t\treturn 'info';\n\t};\n})();\n\n/**\n * ActivityLogger\n * A singleton class to log activity aggrgated by key. Key is usually a route plus fields but can be anything.\n */\nclass ActivityLogger {\n\tconstructor() {\n\t\tthis._activityMap = new Map();\n\t}\n\n\t/**\n\t * Add log to the internal data store\n\t * @param {*} data object describing the parent and child with actual action taken\n\t * @param data.keyInfo object\n\t * @param data.logInfo object with arbitary key/value pairs and operation e.g {'myThing': 'Awesome', operation: 'updated'}\n\t */\n\tlog(data) {\n\t\tconst { keyInfo, logInfo = {} } = data;\n\t\tconst _logInfo = { ...logInfo, timestamp: Date.now() };\n\t\tconst _hash = convertToHash(keyInfo);\n\t\tconst existingRecord = this._activityMap.get(_hash);\n\t\tif (existingRecord) {\n\t\t\tlet newActivities;\n\t\t\tconst existingActivities = existingRecord.activities;\n\t\t\tconst activityKey = mapToAggregation(_logInfo.operation);\n\t\t\tconst hasAggregationKey = existingActivities.has(activityKey);\n\t\t\tif (hasAggregationKey) {\n\t\t\t\tconst existingActivity = existingActivities.get(activityKey);\n\t\t\t\tnewActivities = new Map(existingActivities);\n\t\t\t\tnewActivities.set(activityKey, [...existingActivity, { ..._logInfo }]);\n\t\t\t} else {\n\t\t\t\tnewActivities = new Map(existingActivities);\n\t\t\t\tnewActivities.set(activityKey, [{ ..._logInfo }]);\n\t\t\t}\n\n\t\t\tthis._activityMap.set(_hash, {\n\t\t\t\tactivities: newActivities,\n\t\t\t\t_keyInfo: getKeyInfo(keyInfo),\n\t\t\t\tcontext: recoverContextFromKey(keyInfo)\n\t\t\t});\n\t\t} else {\n\t\t\tlet activities = new Map(this._activityMap.activities || []);\n\t\t\tconst activitykey = mapToAggregation(_logInfo.operation);\n\t\t\tconst hasAggregationKey =\n\t\t\t\tthis._activityMap.activities instanceof Map &&\n\t\t\t\tthis._activityMap.activities.has(activitykey);\n\t\t\tif (hasAggregationKey) {\n\t\t\t\tconst existingLogInfo = this._activityMap.activities.get(activitykey);\n\t\t\t\tactivities = new Map([...existingLogInfo, { ..._logInfo }]);\n\t\t\t} else {\n\t\t\t\tactivities.set(mapToAggregation(_logInfo.operation), [{ ..._logInfo }]);\n\t\t\t}\n\t\t\tthis._activityMap.set(_hash, {\n\t\t\t\tactivities: activities,\n\t\t\t\t_keyInfo: getKeyInfo(keyInfo),\n\t\t\t\tcontext: recoverContextFromKey(keyInfo)\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Retrieve all logs\n\t */\n\tgetAll() {\n\t\tconst result = new Map();\n\t\tthis._activityMap.forEach(value => {\n\t\t\tresult.set(value._keyInfo, pick(value, ['activities', 'context']));\n\t\t});\n\t\treturn result;\n\t}\n\n\t/**\n\t * Retrieve a single record represented by keyInfo\n\t * @param {(*)} keyInfo\n\t */\n\tgetSingle(keyInfo) {\n\t\tconst key = convertToHash(keyInfo);\n\t\treturn pick(this._activityMap.get(key), ['activities', 'context']);\n\t}\n\n\t/**\n\t * Clear all the record logs\n\t */\n\tclearAll() {\n\t\tthis._activityMap.clear();\n\t}\n\n\t/**\n\t * Clear a single record represented by keyInfo\n\t * @param {*} keyInfo\n\t */\n\tclearSingle(keyInfo) {\n\t\tconst key = convertToHash(keyInfo);\n\t\tif (this._activityMap.has(key)) this._activityMap.delete(key);\n\t}\n\n\t/**\n\t * Clear multiple record represented by keyInfoArray\n\t * @param {[*]} keyInfoArray\n\t */\n\tclearMultiple(keyInfoArray = []) {\n\t\tkeyInfoArray.forEach(key => this.clearSingle(key));\n\t}\n}\n\nconst activityLogger = new ActivityLogger();\nObject.freeze(activityLogger);\n\nexport { activityLogger };\n","import { ACTIVITY_LOG_UPDATED } from './constants/constants';\n\nconst actionHandlers = {\n\t[ACTIVITY_LOG_UPDATED]: ({ action: { payload }, updateProperties }) => {\n\t\tupdateProperties({\n\t\t\tactivityLogs: payload.activityLogs\n\t\t});\n\t}\n};\nexport default actionHandlers;\n","import { activityLogger } from '../utils/activity-logger';\nimport { ACTIVITY_LOG_UPDATED } from './constants/constants';\n\nconst handleClosedIds = data => {\n\tdata\n\t\t.filter(item => {\n\t\t\tconst keys = Object.keys(item);\n\t\t\tif (keys.length === 0) return false;\n\t\t\treturn item[keys[0]].hasOwnProperty('annotation');\n\t\t})\n\t\t.map(item => {\n\t\t\tconst keys = Object.keys(item);\n\t\t\treturn item[keys[0]];\n\t\t})\n\t\t.forEach(item => {\n\t\t\tactivityLogger.log({\n\t\t\t\tkeyInfo: { key: item.annotation.parentKey },\n\t\t\t\tlogInfo: {\n\t\t\t\t\t...item.selectedContent.fields,\n\t\t\t\t\toperation: item.annotation.operation\n\t\t\t\t}\n\t\t\t});\n\t\t});\n};\n\nconst actionHandlers = {\n\tNAVIGATION_CLOSED: ({ action: { payload }, updateProperties, dispatch }) => {\n\t\tconst { closedNavigationIds, closedIdsInfo = [] } = payload;\n\t\tif (\n\t\t\tclosedNavigationIds &&\n\t\t\tArray.isArray(closedNavigationIds) &&\n\t\t\tclosedNavigationIds.length > 0\n\t\t) {\n\t\t\tupdateProperties({ closedNavigationIds: [...closedNavigationIds] });\n\t\t\tconst activityKeys = closedNavigationIds.map(k => ({ key: k }));\n\t\t\tactivityLogger.clearMultiple(activityKeys);\n\t\t\thandleClosedIds(closedIdsInfo);\n\t\t\tdispatch(ACTIVITY_LOG_UPDATED, { activityLogs: activityLogger.getAll() });\n\t\t}\n\t}\n};\nexport default actionHandlers;\n","import isEmpty from 'lodash/isEmpty';\nimport { t } from 'sn-translate';\n\n/** GlobalUnloadistener generically handles browser \"beforeunload\" events by deferring to callbacks registered by other objects.\n * GlobalUnloadListener allows any number of components to register a callback function that is executed when the browser posts \"beforeUnload\".\n * The callback function is expected to return true if the component wants the user to be prompted before navigating away from the page.\n * All registered functions will be called, regardless of the return value of any other registered callback.\n * If any callback returns true, then the handler returns true to the browser and requests confirmation.\n * A given id can only have a single callback, not a list of callbacks.\n **/\n\nlet _globalUnloadFunctions = {};\n\nfunction runFuncs(e) {\n\tconst functionList = Object.values(_globalUnloadFunctions);\n\tlet isDirty = false;\n\tlet i;\n\tfor (i = 0; i < functionList.length; i++) {\n\t\t// call each function, but isDirty will be true if any of the functions return true\n\t\tisDirty = functionList[i](e) || isDirty;\n\t}\n\treturn defaultOnUnload(e, isDirty);\n}\n\nfunction defaultOnUnload(e, isDirty) {\n\tif (!isDirty) return null;\n\n\t// The customized display text is for IE11.\n\t// Currently, other major browsers (Chrome, FireFox, Safari) don't support customized display text on their latest versions.\n\tconst retVal = t('Navigating away will lose unsaved data.');\n\t(e || window.event).returnValue = retVal;\n\t(e || window.event).preventDefault(); // some older web browsers require this\n\treturn retVal;\n}\n\nconst GlobalUnloadistener = {\n\tadd(id, fn) {\n\t\tif (window && isEmpty(_globalUnloadFunctions)) {\n\t\t\twindow.addEventListener('beforeunload', runFuncs);\n\t\t}\n\t\t_globalUnloadFunctions[id] = fn;\n\t},\n\n\tremove(id) {\n\t\tif (_globalUnloadFunctions[id]) {\n\t\t\tdelete _globalUnloadFunctions[id];\n\t\t\tif (isEmpty(_globalUnloadFunctions)) {\n\t\t\t\twindow.removeEventListener('beforeunload', runFuncs);\n\t\t\t}\n\t\t}\n\t}\n};\n\nObject.freeze(GlobalUnloadistener);\nexport default GlobalUnloadistener;\n","module.exports = __TECTONIC__lodash_4_17_4[\"isEmpty\"];","import './sn-canvas-main';\n","import { omit } from 'lodash';\nimport { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport { actionHandlers } from './sn-canvas-main.effects';\nimport styles from './_sn-canvas-main.scss';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nimport {\n\tscreensDataBehaviors,\n\tscreenStatusChangeBehavior,\n\tactivityLogBehavior,\n\tuserPreferenceBehavior\n} from '../behaviors/sn-canvas-screens/sn-canvas-screens.behaviors';\n\nimport { SN_CANVAS_MAIN } from '../constants/constants';\nimport { generateScreenKey } from '../behaviors/sn-canvas-screens/sn-canvas-screens.util';\n\ncreateCustomElement(SN_CANVAS_MAIN, {\n\ttype: snabbdom,\n\tview,\n\tstyles,\n\tinitialState: {\n\t\tscreenKeyMap: new Map()\n\t},\n\tbehaviors: [\n\t\t...screensDataBehaviors,\n\t\tscreenStatusChangeBehavior,\n\t\tactivityLogBehavior,\n\t\tuserPreferenceBehavior\n\t],\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\tstate,\n\t\t\tupdateState,\n\t\t\taction: { payload },\n\t\t\tproperties: { screensData, selectedContent },\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst { name, value } = payload;\n\t\t\tif (!value) return;\n\t\t\tconst { screenKey, screenParams } = value;\n\t\t\tlet _screensData = {};\n\t\t\tif (name === 'screenStatus') {\n\t\t\t\tif (!screenKey || !screenParams) return;\n\n\t\t\t\tconst { route, fields, multiInstField } = { ...selectedContent };\n\t\t\t\tlet _fields = { ...fields };\n\t\t\t\tif (multiInstField && screenParams[multiInstField])\n\t\t\t\t\t_fields[multiInstField] = screenParams[multiInstField];\n\t\t\t\telse {\n\t\t\t\t\t_fields = { ..._fields, ...screenParams };\n\t\t\t\t}\n\t\t\t\tlet newKey = generateScreenKey(_fields, route);\n\t\t\t\t_screensData = { ...screensData };\n\t\t\t\tif (newKey !== screenKey) {\n\t\t\t\t\tObject.defineProperty(\n\t\t\t\t\t\t_screensData,\n\t\t\t\t\t\tnewKey,\n\t\t\t\t\t\tObject.getOwnPropertyDescriptor(_screensData, screenKey)\n\t\t\t\t\t);\n\t\t\t\t\t_screensData[newKey] = {\n\t\t\t\t\t\t..._screensData[newKey],\n\t\t\t\t\t\tfields: _fields,\n\t\t\t\t\t\tscreenKey: newKey\n\t\t\t\t\t};\n\t\t\t\t\tdelete _screensData[screenKey];\n\t\t\t\t\tconst _newScreenKeyMap = new Map(state.screenKeyMap);\n\t\t\t\t\t_newScreenKeyMap.set(newKey, screenKey);\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tscreenKeyMap: _newScreenKeyMap\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tupdateProperties({\n\t\t\t\t\tactiveScreenId: newKey,\n\t\t\t\t\tscreensData: _screensData\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (name === 'closedNavigationIds') {\n\t\t\t\tconst { value: closedNavigationIds } = payload;\n\t\t\t\tif (closedNavigationIds && closedNavigationIds.length > 0) {\n\t\t\t\t\tconst screensDataNew = omit(screensData, [...closedNavigationIds]);\n\t\t\t\t\tupdateProperties({ screensData: screensDataNew });\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t...actionHandlers\n\t}\n});\n","import { isEqual } from 'lodash';\nimport { t } from 'sn-translate';\n\nimport { MAIN_SELECTED_CONTENT_CHANGED } from '../constants/constants';\nimport { buildScreenKey } from './sn-canvas-main.util';\nlet prevSelectedContent;\n\nexport default (derivedState, { dispatch }) => {\n\tconst {\n\t\tselectedContent,\n\t\tscreensData,\n\t\tactivityLogs,\n\t\tuserPrefs\n\t} = derivedState.properties;\n\tif (!selectedContent || typeof selectedContent === 'string') return null;\n\tif (!userPrefs || typeof userPrefs === 'string') return null;\n\tif (!isEqual(selectedContent, prevSelectedContent))\n\t\tdispatch(MAIN_SELECTED_CONTENT_CHANGED, { selectedContent });\n\tprevSelectedContent = selectedContent;\n\tconst createScreens = screensData => {\n\t\tif (!screensData) return null;\n\t\tconst screensArr = [];\n\t\tObject.keys(screensData).forEach(screenId => {\n\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\tconst { _timestamp, lastActiveTimeStamp, ...screenData } = screensData[\n\t\t\t\tscreenId\n\t\t\t];\n\t\t\tscreensArr.push(screenData);\n\t\t});\n\n\t\treturn (\n\t\t\t<main aria-label={t('Screen content')} className=\"sn-canvas-main\">\n\t\t\t\t{screensArr.map(screenData => (\n\t\t\t\t\t<sn-canvas-screen\n\t\t\t\t\t\tkey={buildScreenKey(\n\t\t\t\t\t\t\tscreenData.screenKey,\n\t\t\t\t\t\t\tderivedState.screenKeyMap\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tscreen-id={screenData.screenKey}\n\t\t\t\t\t\tscreen-data={{ ...screenData }}\n\t\t\t\t\t\tactivity-logs={activityLogs}\n\t\t\t\t\t\tuser-prefs={userPrefs}\n\t\t\t\t\t\tnow-mode={screenData.suspended === true ? 'suspend' : 'active'}\n\t\t\t\t\t\tstyle={screenData.isActive ? {} : { display: 'none' }}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</main>\n\t\t);\n\t};\n\n\treturn createScreens(screensData);\n};\n","export function buildScreenKey(key, map) {\n\treturn map.get(key) ? map.get(key) : key;\n}\n","import { isEqual } from 'lodash';\nimport {\n\tSCREEN_STATUS_CHANGED,\n\tNAV_ITEM_SELECTED,\n\tCONTENT_UPDATED,\n\tMODAL_SELECTED\n} from '../constants/constants';\n\nclass EventScheduler {\n\tconstructor(parent) {\n\t\tthis.parent = parent;\n\t\tthis.eventQueue = [];\n\t\tthis.scheduler = null;\n\t}\n\tstart() {\n\t\tconst job = () => {\n\t\t\tif (this.eventQueue.length === 0) {\n\t\t\t\tif (this.scheduler) {\n\t\t\t\t\tclearInterval(this.scheduler);\n\t\t\t\t\tthis.scheduler = null;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst actionObj = this.dequeueEvent();\n\t\t\tconst { type, payload } = actionObj;\n\t\t\tthis.parent.dispatch(type, payload);\n\t\t};\n\n\t\tthis.scheduler = setInterval(job, 100);\n\t}\n\tschedule(action) {\n\t\tthis.addEvent(action);\n\t}\n\taddEvent(action) {\n\t\tthis.eventQueue.push({ ...action });\n\t}\n\tdequeueEvent() {\n\t\treturn this.eventQueue.shift();\n\t}\n}\n\nconst getParentComponent = host => {\n\tif (!host) return;\n\tlet parent = host.parentElement;\n\tlet componentId = parent.getAttribute('component-id');\n\twhile (parent && !componentId) {\n\t\tparent = parent.parentElement;\n\t\tcomponentId = parent.getAttribute('component-id');\n\t}\n\treturn parent;\n};\nlet parentEle;\nlet eventScheduler;\n\nconst mainActionInterceptor = ({ host, action }) => {\n\tif (!host || !action) return;\n\tif (!parentEle) parentEle = getParentComponent(host);\n\tif (!eventScheduler) eventScheduler = new EventScheduler(parentEle);\n\tif (eventScheduler.scheduler) {\n\t\taction && action.stopPropagation && action.stopPropagation();\n\t\teventScheduler.schedule(action);\n\t} else {\n\t\teventScheduler.start();\n\t}\n};\n\nconst actionHandlers = {\n\t[NAV_ITEM_SELECTED]: mainActionInterceptor,\n\t[CONTENT_UPDATED]: mainActionInterceptor,\n\t[SCREEN_STATUS_CHANGED]: ({host, action, properties: { screensData },updateProperties}) => {\n\t\tmainActionInterceptor({host, action});\n\t\tconst { payload: { screenKey , isDirty = false}} = action;\n\t\tconst newScreensData = {\n\t\t\t...screensData, \n\t\t\t[screenKey]: {\n\t\t\t\t...screensData[screenKey], \n\t\t\t\tisDirty\n\t\t\t}\n\t\t};\n\t\tif(!isEqual(screensData, newScreensData))\n\t\t\tupdateProperties({\n\t\t\t\tscreensData: newScreensData\n\t\t\t});\n\t},\n\t[MODAL_SELECTED]: mainActionInterceptor\n};\nexport { actionHandlers };\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/@tectonic/utils/node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-main.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-canvas-main{height:100%}\", \"\"]);\n\n// exports\n","import { actionHandlers } from './sn-canvas-screens.effects';\n\nimport { selectedContentPropBehavior } from '../../utils/behaviors/selectableProps.behaviors';\n\nimport { SCREENS_DATA_BEHAVIOR } from '../../constants/constants';\n\nconst screensDataBehavior = {\n\tname: SCREENS_DATA_BEHAVIOR,\n\tinitialState: {\n\t\tinitScreenLoaded: false\n\t},\n\tproperties: {\n\t\tmainConfig: {\n\t\t\tdefault: null\n\t\t},\n\t\tselectedContent: {\n\t\t\tdefault: null\n\t\t},\n\t\tactiveScreenId: {\n\t\t\tdefault: null\n\t\t},\n\t\tscreensData: {\n\t\t\tdefault: {}\n\t\t},\n\t\tclosedNavigationIds: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\tactionHandlers\n};\n\nexport const screenStatusChangeBehavior = {\n\tname: 'SCREEN_STATUS_CHANGE_BEHAVIOR',\n\tproperties: {\n\t\tscreenStatus: {\n\t\t\tdefault: {}\n\t\t}\n\t}\n};\n\nexport const activityLogBehavior = {\n\tname: 'ACTIVITY_LOGS',\n\tproperties: {\n\t\tactivityLogs: {\n\t\t\tdefault: null\n\t\t}\n\t}\n};\n\nexport const userPreferenceBehavior = {\n\tname: 'USER_PREFERENCES',\n\tproperties: {\n\t\tuserPrefs: {\n\t\t\tdefault: {}\n\t\t}\n\t}\n};\n\nexport const screensDataBehaviors = [\n\tscreensDataBehavior,\n\tselectedContentPropBehavior\n];\n","import { get, isEmpty } from 'lodash';\nimport { getTemplates } from '@devsnc/library-uxf';\n\nimport {\n\tgetScreenKey,\n\tgetSuspendableDiscardableScreens,\n\tunSuspendScreens\n} from './sn-canvas-screens.util';\nimport { getScreen } from './sn-canvas-screens.resolver';\nimport {\n\tMAIN_SELECTED_CONTENT_CHANGED,\n\tACTIVE_SCREEN_RENDERED,\n\tCONTENT_SCREENS_DISCARDED,\n\tCANVAS_SCREEN_LOADED\n} from '../../constants/constants';\n\nasync function prefetchTemplates() {\n\tconst macroponentSet = new Set();\n\tconst routeList = [];\n\tconst uxfRouteMacroponentMap = get(\n\t\twindow,\n\t\t'ux_globals.routeConfiguration.routes',\n\t\t{}\n\t);\n\tconst prefetchLimits = get(\n\t\twindow,\n\t\t'ux_globals.routeConfiguration.prefetchLimits',\n\t\t{}\n\t);\n\tconst routeLimit = get(prefetchLimits, 'routes', null);\n\tconst screenLimit = get(prefetchLimits, 'screens', null);\n\n\tif (!routeLimit || !screenLimit) return;\n\n\tObject.keys(uxfRouteMacroponentMap).forEach(route =>\n\t\trouteList.push(uxfRouteMacroponentMap[route][0])\n\t);\n\n\trouteList\n\t\t.sort((obj1, obj2) => (obj1.order > obj2.order ? 1 : -1))\n\t\t.forEach((obj, i) => {\n\t\t\tif (routeLimit && i >= routeLimit) return;\n\t\t\tif (Array.isArray(obj.macroponents)) {\n\t\t\t\tobj.macroponents.forEach((m, j) => {\n\t\t\t\t\tif (screenLimit && j >= screenLimit) return;\n\t\t\t\t\tif (m.macroponentSysId) macroponentSet.add(m.macroponentSysId);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t//get templates in when browser is free\n\tconst scheme = window.requestIdleCallback || window.requestAnimationFrame;\n\tconst cancelScheme = window.cancelIdleCallback || window.cancelAnimationFrame;\n\tif (!scheme || !cancelScheme) return;\n\n\tconst id = scheme(() => {\n\t\tfor (let macroponentSysId of macroponentSet) {\n\t\t\tconst requestId = scheme(() => {\n\t\t\t\tgetTemplates([macroponentSysId]);\n\t\t\t\tcancelScheme(requestId);\n\t\t\t});\n\t\t}\n\t\tcancelScheme(id);\n\t});\n}\n\nconst getParentScreen = (properties, updateProperties) => {\n\tlet { selectedContent, screensData, activityLogs } = properties;\n\tif (\n\t\t!selectedContent ||\n\t\ttypeof selectedContent === 'string' ||\n\t\t!selectedContent.route ||\n\t\t!selectedContent.parent\n\t)\n\t\treturn {};\n\n\tselectedContent = selectedContent.parent;\n\tif (isEmpty(selectedContent)) return;\n\n\tlet newScreensData = { ...screensData };\n\n\tlet screenKey = getScreenKey(selectedContent);\n\n\tconst screenData = newScreensData[screenKey];\n\n\tlet screenContent = {\n\t\t...selectedContent,\n\t\tactivityLogs,\n\t\tscreenKey,\n\t\tisActive: false,\n\t\tlastActiveTimeStamp: new Date().getTime()\n\t};\n\n\tif (!screenData) {\n\t\tconst {\n\t\t\tmacroponentSysId,\n\t\t\tmacroponentConfiguration,\n\t\t\teventMappings,\n\t\t\tviewportConfigurationId,\n\t\t\tscreenType\n\t\t} = getScreen(selectedContent) || {};\n\t\tscreenContent = {\n\t\t\t...screenContent,\n\t\t\tmacroponentSysId,\n\t\t\tmacroponentConfiguration,\n\t\t\teventMappings,\n\t\t\tviewportConfigurationId,\n\t\t\tactivityLogs,\n\t\t\tscreenType\n\t\t};\n\t}\n\tnewScreensData[screenKey] = {\n\t\t...(screenData && { ...newScreensData[screenKey] }),\n\t\t...screenContent\n\t};\n\n\tupdateProperties({ screensData: { ...newScreensData } });\n};\n\nconst mainSelectedContentChangedEffect = ({\n\taction,\n\tdispatch,\n\tproperties,\n\tupdateProperties\n}) => {\n\tlet { screensData, activeScreenId } = properties;\n\tlet { activityLogs } = properties;\n\tconst { selectedContent } = action.payload;\n\tif (\n\t\t!selectedContent ||\n\t\ttypeof selectedContent === 'string' ||\n\t\t!selectedContent.route\n\t)\n\t\treturn {};\n\n\tlet newScreensData = { ...screensData };\n\n\tnewScreensData = unSuspendScreens(newScreensData);\n\n\tconst {\n\t\tupdateUrl,\n\t\tpassiveNavigation = false,\n\t\t...restSelectedContent\n\t} = selectedContent;\n\n\tlet screenKey = getScreenKey(restSelectedContent);\n\n\tconst hasScreen = newScreensData[screenKey];\n\n\tif (\n\t\tactiveScreenId &&\n\t\tactiveScreenId !== screenKey &&\n\t\tnewScreensData[activeScreenId] &&\n\t\t!passiveNavigation\n\t) {\n\t\tconst activeScreen = { ...newScreensData[activeScreenId] };\n\t\tnewScreensData[activeScreenId] = {\n\t\t\t...activeScreen,\n\t\t\tisActive: false,\n\t\t\tlastActiveTimeStamp: new Date().getTime()\n\t\t};\n\t}\n\n\tlet screenContent = {\n\t\t...restSelectedContent,\n\t\tactivityLogs,\n\t\tscreenKey,\n\t\tisActive: !passiveNavigation,\n\t\tlastActiveTimeStamp: new Date().getTime()\n\t};\n\n\tif (!hasScreen) {\n\t\tconst {\n\t\t\tmacroponentSysId,\n\t\t\tmacroponentConfiguration,\n\t\t\teventMappings,\n\t\t\tviewportConfigurationId,\n\t\t\tscreenType\n\t\t} = getScreen(restSelectedContent) || {};\n\t\tscreenContent = {\n\t\t\t...screenContent,\n\t\t\tmacroponentSysId,\n\t\t\tmacroponentConfiguration,\n\t\t\teventMappings,\n\t\t\tviewportConfigurationId,\n\t\t\tactivityLogs,\n\t\t\tscreenType\n\t\t};\n\t}\n\tnewScreensData[screenKey] = {\n\t\t...(hasScreen && { ...newScreensData[screenKey] }),\n\t\t...screenContent\n\t};\n\n\tconst {\n\t\tsuspendableScreens,\n\t\tdiscardableScreens\n\t} = getSuspendableDiscardableScreens(newScreensData, properties);\n\n\tif (suspendableScreens && suspendableScreens.length > 0) {\n\t\tsuspendableScreens.forEach(\n\t\t\tkey => (newScreensData[key] = { ...newScreensData[key], suspended: true })\n\t\t);\n\t}\n\n\tif (discardableScreens && discardableScreens.length > 0) {\n\t\tdiscardableScreens.forEach(key => delete newScreensData[key]);\n\t\tdispatch(CONTENT_SCREENS_DISCARDED, { discardableScreens });\n\t}\n\n\tif (passiveNavigation === true) screenKey = activeScreenId;\n\n\tconst { screenType, viewportConfigurationId } = newScreensData[screenKey];\n\n\tdispatch(ACTIVE_SCREEN_RENDERED, {\n\t\tactiveScreenId: screenKey,\n\t\tscreenMetaData: {\n\t\t\tscreenType,\n\t\t\tscreenId: viewportConfigurationId\n\t\t}\n\t});\n\n\tupdateProperties({\n\t\tscreensData: { ...newScreensData },\n\t\tactiveScreenId: screenKey\n\t});\n\taction.stopPropagation();\n};\n\nconst canvasScreenLoadedEffect = async ({\n\tstate,\n\tupdateState,\n\tproperties,\n\tupdateProperties\n}) => {\n\t// Load the parent screen as well if child screen is being requested directly\n\tgetParentScreen(properties, updateProperties);  // parentScreen must be handled regardless of initScreenLoaded\n\n\tconst { initScreenLoaded } = state;\n\tif (initScreenLoaded) return;\n\n\tprefetchTemplates();\n\tupdateState({ initScreenLoaded: true });\n};\n\nconst actionHandlers = {\n\t[MAIN_SELECTED_CONTENT_CHANGED]: mainSelectedContentChangedEffect,\n\t[CANVAS_SCREEN_LOADED]: canvasScreenLoadedEffect\n};\nexport { actionHandlers };\n","import {\n\tSELECTED_CONTENT_PROP_BEHAVIOR} from '../../constants/constants';\n\nimport { getSelectableRouterProps } from '../selectablePropUtils';\n\nexport const selectedContentPropBehavior = {\n\tname: SELECTED_CONTENT_PROP_BEHAVIOR,\n\tproperties: {\n\t\tselectedContent: {\n\t\t\tget default() {\n\t\t\t\treturn getSelectableRouterProps('selectedContent');\n\t\t\t}\n\t\t}\n\t}\n};\n","import { COMPONENT_ID, SN_CANVAS_ROUTER } from '../constants/constants';\n\nlet componentIds = {};\n\n/**\n * Get any selectable properties from sn-workspace-layout (root).\n * @param propName\n * @returns {{}}\n */\n\nexport function getSelectableRouterProps(propName) {\n\treturn getSelectableProp(SN_CANVAS_ROUTER, propName);\n}\n\n/**\n * This utility function is being provided to work around the fact that we don't want to make any metadata\n * changes for defining selectable properties on components. As a result on the first component bootstrap, we will\n * manually get the component id from the component the implementor cares about and create the selectable property string\n * and apply it to the component.\n *\n * Usage:\n * getSelectableProp('sn-workspace-layout', 'tabsData');\n *\n * Returns:\n * '@[component-id of layout]/tabsData'\n *\n * @param componentName\n * @param propName\n * @returns {*}\n */\nexport function getSelectableProp(componentName, propName) {\n\tlet componentId = componentIds[componentName] || null;\n\tif (!componentId) {\n\t\tconst snCanvasPortal = document.getElementsByTagName(componentName);\n\t\tif (!snCanvasPortal.length) return {};\n\t\tcomponentId = snCanvasPortal[0].getAttribute(COMPONENT_ID);\n\t\tcomponentIds[componentName] = componentId;\n\t}\n\n\treturn `@${componentId}/${propName}`;\n}\n","import './sn-canvas-screen';\n","import { isEmpty } from 'lodash';\nimport { createCustomElement } from '@servicenow/ui-core';\nimport { snabbdom } from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\n\nimport { actionHandlers, loadScreen } from './sn-canvas-screen.effects';\n\nimport styles from './_sn-canvas-screen.scss';\n\nimport { SN_CANVAS_SCREEN, SCREEN_DATA } from '../constants/constants';\nconst canvasScreen = (derivedState, { updateState, dispatch }) => {\n\tconst setTargetRef = ref => {\n\t\tif (!ref) return;\n\n\t\tupdateState({ targetRef: ref });\n\n\t\tconst { screenData } = derivedState.properties;\n\t\tif (!isEmpty(screenData))\n\t\t\tloadScreen(ref, derivedState.properties, dispatch);\n\t};\n\tlet fragment = <span>{t('Loading...')}</span>;\n\n\treturn (\n\t\t<section\n\t\t\thook-insert={({ elm }) => setTargetRef(elm)}\n\t\t\thook-destroy={() => setTargetRef(null)}\n\t\t\tclassName=\"sn-canvas-screen\"\n\t\t\tstyle={{ height: '100%' }}\n\t\t>\n\t\t\t{fragment}\n\t\t</section>\n\t);\n};\n\nexport default createCustomElement(SN_CANVAS_SCREEN, {\n\ttype: snabbdom,\n\tview: canvasScreen,\n\tstyles,\n\tproperties: {\n\t\t[SCREEN_DATA]: {\n\t\t\tdefault: null\n\t\t},\n\t\tactivityLogs: {\n\t\t\tdefault: null\n\t\t},\n\t\tuserPrefs: {\n\t\t\tdefault: {}\n\t\t}\n\t},\n\tactionHandlers\n});\n","import { isEqual, set, get, isEmpty } from 'lodash';\nimport { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport { snabbdom } from '@servicenow/ui-renderer-snabbdom';\nimport {\n\tgetAppliedTemplate,\n\tregisterScreenActionTransformer\n} from '@devsnc/library-uxf';\nimport { setPropsOnDom } from './sn-canvas-screen.util';\nimport {getRouteToScreenMap} from '../behaviors/sn-canvas-screens/sn-canvas-screens.config';\n\nimport {\n\tSCREEN_DATA,\n\tMESSAGE_404,\n\tSCREEN_STATUS_CHANGED,\n\tNAV_ITEM_SELECTED,\n\tCONTENT_UPDATED\n} from '../constants/constants';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nexport default createCustomElement('sn-canvas-custom404', {\n\ttype: snabbdom,\n\t// eslint-disable-next-line react/display-name\n\tview: () => (\n\t\t<now-heading label={MESSAGE_404} level=\"1\" variant=\"title-primary\" />\n\t)\n});\n\nconst AUTH_ROUTES = get(window, 'ux_globals.routeConfiguration.authRoutes', {});\nconst ROUTES = get(window, 'ux_globals.routeConfiguration.routes', {});\n\nconst handleActivityLogsChange = ({\n\tvalue = {},\n\tpreviousValue = {},\n\tstate\n}) => {\n\tif (!isEqual(value, previousValue)) {\n\t\tconst { targetRef } = state;\n\t\tlet node = targetRef.firstElementChild;\n\t\tif (!node) return;\n\t\tnode = node.firstElementChild;\n\t\tif (node && value instanceof Map) {\n\t\t\tnode.activityLogs = value;\n\t\t}\n\t}\n};\n\nconst handleScreenDataChange = ({ value = {}, previousValue = {}, state }) => {\n\tconst { targetRef } = state;\n\tif (\n\t\t!targetRef ||\n\t\ttargetRef.children.length == 0 ||\n\t\ttargetRef.children[0].children.length == 0\n\t)\n\t\treturn;\n\tconst { params: prevParams = {}, fields: prevFields } = previousValue;\n\tconst {\n\t\tmacroponentConfiguration = {},\n\t\tfields = {},\n\t\tparams = {},\n\t\tmultiInstField,\n\t\tisActive,\n\t\tsuspended,\n\t\tlastActiveTimeStamp\n\t} = value;\n\tconst oldNode = targetRef.children[0].children[0];\n\tif (!isEqual(params, prevParams) && oldNode) {\n\t\tconst flattenedParams = {\n\t\t\t...macroponentConfiguration,\n\t\t\t...params,\n\t\t\t...fields\n\t\t};\n\t\tif (multiInstField && flattenedParams[multiInstField])\n\t\t\tflattenedParams[multiInstField] = fields[multiInstField].split(\n\t\t\t\t'_uid_'\n\t\t\t)[0];\n\t\tif (prevParams)\n\t\t\tObject.keys(prevParams).forEach(key => (oldNode[key] = undefined));\n\t\tif (flattenedParams)\n\t\t\tObject.keys(flattenedParams).forEach(\n\t\t\t\tkey => (oldNode[key] = flattenedParams[key])\n\t\t\t);\n\t}\n   // When a field value is updated, apply update to oldNode (or macroponent)\n\telse if(!isEqual(fields, prevFields) && oldNode) {\n\t\tObject.keys(fields).forEach(key => (oldNode[key] = fields[key]));\n\t}\n\n\tlet userPrefs = null;\n\tif (targetRef.userPrefs) userPrefs = targetRef.userPrefs;\n\n\tlet propObj = {\n\t\tscreen: {\n\t\t\tisActive,\n\t\t\tisSuspended: suspended,\n\t\t\t...(lastActiveTimeStamp && { lastActiveTimeStamp })\n\t\t}\n\t};\n\t// if userPrefs are available, include them in the new props\n\tif (userPrefs) propObj.userPrefs = userPrefs;\n\n\tsetPropsOnDom(oldNode, {...propObj});\n};\n\nconst handleUserPrefsChange = ({ value = {}, state }) => {\n\tconst { targetRef } = state;\n\tif (!targetRef) return;\n\tlet oldNode = null;\n\tif (\n\t\ttargetRef.children.length != 0 &&\n\t\ttargetRef.children[0].children.length != 0\n\t) {\n\t\toldNode = targetRef.children[0].children[0];\n\t}\n\n\tsetPropsOnDom(targetRef, { userPrefs: {...value} });\n\n\tif (oldNode) {\n\t\tsetPropsOnDom(oldNode, { userPrefs: {...value}});\n\t}\n};\n\nconst loadScreen = async (targetRef, properties, dispatch) => {\n\tif (!targetRef) return;\n\n\tconst { screenData, activityLogs, userPrefs } = properties;\n\tlet {\n\t\tmacroponentSysId,\n\t\tmacroponentConfiguration = {},\n\t\tviewportConfigurationId,\n\t\tmultiInstField,\n\t\tfields = {},\n\t\tparams = {},\n\t\teventMappings = [],\n\t\tisActive,\n\t\tsuspended,\n\t\tlastActiveTimeStamp\n\t} = screenData;\n\n\tconst actionTransformerTag = registerScreenActionTransformer(\n\t\tviewportConfigurationId,\n\t\teventMappings\n\t);\n\n\tif (!macroponentSysId) {\n\t\tconst routeToScreenMap = getRouteToScreenMap();\n\t\tlet custom404PropRoute = get(AUTH_ROUTES, 'custom404', null);\n\n\t\tif (custom404PropRoute && routeToScreenMap[custom404PropRoute]) {\n\t\t\tlet custom404RouteFields = get(ROUTES, custom404PropRoute)[0].fields\n\t\t\tlet fieldsLen = custom404RouteFields.length;\n\t\t\tconst routeObj = get(routeToScreenMap, `${custom404PropRoute}[${fieldsLen}]`, {});\n\t\t\tlet macroponents = get(routeObj, 'macroponents', {});\n\t\t\tfields = routeObj.fields;\n\t\t\tif (!isEmpty(macroponents)) {\n\t\t\t\tmacroponentSysId = macroponents[0].macroponentSysId;\n\t\t\t\tmacroponentConfiguration = macroponents[0].macroponentConfiguration;\n\t\t\t}\n\n\t\t}\n\n\t\tif (!macroponentSysId) {\n\t\t\tlet newNode = document.createElement('sn-canvas-custom404');\n\t\t\tnewNode.className = 'sn-canvas-default404';\n\t\t\tconst oldNode = targetRef.childNodes[0];\n\t\t\tif (oldNode) targetRef.replaceChild(newNode, oldNode);\n\t\t\treturn;\n\t\t}\n\n\t}\n\tconst flattenParams = { ...macroponentConfiguration, ...params, ...fields };\n\tif (multiInstField && flattenParams[multiInstField])\n\t\tflattenParams[multiInstField] = fields[multiInstField].split('_uid_')[0];\n\n\tconst fragment = await getAppliedTemplate(macroponentSysId, {\n\t\t...flattenParams\n\t});\n\n\t// if usePrefs are not yet available via properties, then pull them from the targetRef node\n\tlet newUserPrefs = userPrefs;\n\tif (Object.keys(userPrefs).length === 0 && targetRef.userPrefs)\n\t\tnewUserPrefs = targetRef.userPrefs;\n\n\t//add props to fragment\n\tconst propObj = {\n\t\tappendToPayload: { __uxfCompositionElId: viewportConfigurationId },\n\t\t...(activityLogs && activityLogs instanceof Map && { activityLogs }),\n\t\tscreen: {\n\t\t\tisActive,\n\t\t\tisSuspended: suspended,\n\t\t\t...(lastActiveTimeStamp && { lastActiveTimeStamp })\n\t\t},\n\t\tuserPrefs: newUserPrefs\n\t};\n\n\tif (fragment && fragment.children.length > 0) {\n\t\tsetPropsOnDom(fragment.children[0], {...propObj});\n\t}\n\n\tfragment.children[0].addEventListener('MACROPONENT_READY', () => {\n\t\tdispatch('CANVAS_SCREEN_LOADED', {});\n\t});\n\n\tconst actionTransformerElement = document.createElement(actionTransformerTag);\n\tactionTransformerElement.appendChild(fragment);\n\n\tconst oldNode = targetRef.childNodes[0];\n\tif (oldNode) {\n\t\ttargetRef.replaceChild(actionTransformerElement, oldNode);\n\t}\n};\n\nconst screenPropertyChangedEffect = ({ action, state }) => {\n\tconst { name, value, previousValue } = action.payload;\n\tswitch (name) {\n\t\tcase SCREEN_DATA:\n\t\t\thandleScreenDataChange({ value, previousValue, state });\n\t\t\tbreak;\n\t\tcase 'activityLogs':\n\t\t\thandleActivityLogsChange({ value, previousValue, state });\n\t\t\tbreak;\n\t\tcase 'userPrefs':\n\t\t\thandleUserPrefsChange({ value, previousValue, state });\n\t\t\tbreak;\n\t}\n};\n\nconst navigationInterceptor = ({ action, properties }) => {\n\tif (!action.stopPropagation) return;\n\tconst { screenData } = properties;\n\tif (!screenData || screenData.isActive !== true) {\n\t\taction.stopPropagation();\n\t}\n};\n\nconst actionHandlers = {\n\t[COMPONENT_PROPERTY_CHANGED]: screenPropertyChangedEffect,\n\t[SCREEN_STATUS_CHANGED]: ({ action, properties }) => {\n\t\tset(action, 'payload.screenKey', properties.screenData.screenKey);\n\t},\n\t[NAV_ITEM_SELECTED]: navigationInterceptor,\n\t[CONTENT_UPDATED]: navigationInterceptor\n};\nexport { actionHandlers, loadScreen };\n","export const setPropsOnDom = (domObj, propObj) => {\n\tif (!domObj || !propObj) return;\n\tfor (const prop in propObj) {\n\t\tdomObj[prop] = propObj[prop];\n\t}\n\treturn domObj;\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/@tectonic/utils/node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-screen.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-canvas-screen{height:100%}.sn-canvas-default404{height:100%;width:now-fn-px2rem(500px);margin:20px auto;display:flex;flex-direction:column;align-items:center;position:relative}\", \"\"]);\n\n// exports\n","import './sn-canvas-modal-hoist';\n","import { createCustomElement } from '@servicenow/ui-core';\n\nimport { actionHandlers } from './sn-canvas-modal-hoist.actions';\n\nimport { SN_CANVAS_MODAL_HOIST } from '../constants/constants';\n\nimport view from './view';\nimport styles from './_sn-canvas-modal-hoist.scss';\n\ncreateCustomElement(SN_CANVAS_MODAL_HOIST, {\n\tview,\n\tstyles,\n\tproperties: {\n\t\tmodalContent: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\tinitialState: {\n\t\tmodalStack: [],\n\t\telemRef: null\n\t},\n\tactionHandlers\n});\n","import { actionTypes } from '@servicenow/ui-core';\n\nimport {\n\thoistElement,\n\tunHoistElement,\n\tgetHoistedSource,\n\textractModalTitle,\n\thoistFooter,\n\tunHoistFooter,\n\tsaveInitComponentState,\n\tresetComponents\n} from './sn-canvas-modal-hoist.util';\n\nimport {\n\tNOW_MODAL_OPENED_SET,\n\tMODAL_SELECTED,\n\tNOW_UXF_BARE_MODAL_DISMISSED,\n\tMODAL_CLOSED,\n\tMODAL_OPENED,\n\tMODAL_OPENED_INTERNAL,\n\tMODAL_CLOSED_INTERNAL\n} from '../constants/constants';\nconst {\n\tCOMPONENT_CONNECTED,\n\tCOMPONENT_DOM_READY,\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_DISCONNECTED\n} = actionTypes;\n\nconst removeSuspendedMode = rootEl => {\n\tif (!rootEl) return;\n\tlet _queue = [rootEl];\n\n\tconst unsuspend = el => {\n\t\tel.nowMode = 'active';\n\t\tel.style.display = 'block';\n\t};\n\n\twhile (_queue.length !== 0) {\n\t\tlet el = _queue.shift();\n\t\tif (el.nowMode === 'suspend') {\n\t\t\tunsuspend(el);\n\t\t\tbreak;\n\t\t}\n\t\tif (el.children) {\n\t\t\tfor (let _el of el.children) _queue.push(_el);\n\t\t}\n\t}\n};\n\nconst _onPopStateModalAction = ({ updateProperties }) =>\n\tupdateProperties({ modalContent: { isOpen: false, closeAll: true } });\n\nconst detachMutationObserver = observer =>\n\tobserver && observer.disconnect ? observer.disconnect() : null;\n\nconst mutationCallback = (mutationsList, observer, data) => {\n\tfor (let mutation of mutationsList) {\n\t\tif (mutation.type === 'childList') {\n\t\t\tconst { addedNodes } = mutation;\n\t\t\tif (addedNodes && addedNodes.length > 0) {\n\t\t\t\tremoveSuspendedMode(addedNodes[0]); // seems fair assumption\n\t\t\t\tconst {\n\t\t\t\t\tsource,\n\t\t\t\t\thoistedSource,\n\t\t\t\t\tmodalContent,\n\t\t\t\t\tstate,\n\t\t\t\t\tupdateState\n\t\t\t\t} = data;\n\t\t\t\tconst { elemRef, modalStack } = state;\n\t\t\t\tlet {\n\t\t\t\t\tisOpen = false,\n\t\t\t\t\tmodalId,\n\t\t\t\t\tbare = false,\n\t\t\t\t\tdisplayOptions = {},\n\t\t\t\t\theaderLabel,\n\t\t\t\t\tfooterActions\n\t\t\t\t} = modalContent || {};\n\t\t\t\tif (!headerLabel && bare !== true)\n\t\t\t\t\theaderLabel = extractModalTitle(\n\t\t\t\t\t\telemRef,\n\t\t\t\t\t\t`[now-id=\"${modalId}\"]`,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\tif (!footerActions && bare !== true)\n\t\t\t\t\thoistFooter(elemRef, `[now-id=\"${modalId}\"]`, false);\n\n\t\t\t\t//Doing this to avoid a bad user experience in UIB\n\t\t\t\tlet size = source['size'] || 'md';\n\t\t\t\tlet disableDismiss = source['disableDismiss'] || false;\n\t\t\t\tdisplayOptions = {\n\t\t\t\t\tsize,\n\t\t\t\t\tdisableDismiss,\n\t\t\t\t\t...displayOptions\n\t\t\t\t};\n\t\t\t\tupdateState({\n\t\t\t\t\t...(source && {\n\t\t\t\t\t\tmodalStack: [\n\t\t\t\t\t\t\t...modalStack,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmodalId,\n\t\t\t\t\t\t\t\tisOpen,\n\t\t\t\t\t\t\t\tsource,\n\t\t\t\t\t\t\t\thoistedSource,\n\t\t\t\t\t\t\t\tdisplayOptions,\n\t\t\t\t\t\t\t\theaderLabel,\n\t\t\t\t\t\t\t\tfooterActions,\n\t\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tdetachMutationObserver(observer);\n};\n\nconst attachMutationObserver = (node, mutationCallback, data) => {\n\tconst config = { attributes: false, childList: true, subtree: false };\n\tconst observer = new MutationObserver((mutationsList, observer) =>\n\t\tmutationCallback(mutationsList, observer, data)\n\t);\n\tobserver.observe(node, config);\n\treturn observer;\n};\n\nconst handleOpenModal = ({ modalContent, state, updateState, dispatch }) => {\n\tconst { elemRef, modalStack } = state;\n\tlet { modalId, source, preserveState = false } = modalContent || {};\n\n\tif (\n\t\tmodalId &&\n\t\t(modalStack.length == 0 ||\n\t\t\tmodalStack[modalStack.length - 1].modalId != modalId)\n\t) {\n\t\tif (!preserveState) {\n\t\t\tsaveInitComponentState(source);\n\t\t}\n\t\thoistElement(elemRef, source);\n\n\t\tif (source && source.hasAttribute('defer') === true) {\n\t\t\tsource.removeAttribute('defer');\n\t\t}\n\t\tconst hoistedSource = getHoistedSource(elemRef, `[now-id=\"${modalId}\"]`);\n\t\tconst observedNode = hoistedSource.shadowRoot\n\t\t\t? hoistedSource.shadowRoot\n\t\t\t: hoistedSource;\n\t\tattachMutationObserver(observedNode, mutationCallback, {\n\t\t\tsource,\n\t\t\thoistedSource,\n\t\t\tmodalContent,\n\t\t\tstate,\n\t\t\tupdateState\n\t\t});\n\t\tdispatch(MODAL_OPENED_INTERNAL, { modalId, elmRef: source });\n\t\tif (modalStack.length > 0) {\n\t\t\t//clean prev modals content from now-modal\n\t\t\tconst tobeHidden = modalStack[modalStack.length - 1];\n\t\t\tconst { modalId: prevModalId, bare = false } = tobeHidden;\n\t\t\tif (bare !== true)\n\t\t\t\tunHoistFooter(elemRef, `[now-id=\"${prevModalId}\"]`);\n\t\t\ttobeHidden.hoistedSource.style.display = 'none';\n\t\t\tdispatch(MODAL_CLOSED_INTERNAL, { modalId: prevModalId, elmRef: tobeHidden.source });\n\t\t}\n\t}\n};\n\nconst handleCloseModal = ({ modalContent, state, updateState, dispatch }) => {\n\tlet { elemRef, modalStack } = state;\n\tconst { closeAll = false, modalId } = modalContent;\n\tconst count = closeAll === true ? modalStack.length : 1;\n\tconst makePrevModalActive = modalStack => {\n\t\tconst {\n\t\t\tmodalId: nextModalId,\n\t\t\thoistedSource: nextHoistedSource,\n\t\t\tfooterActions: nextfooterActions,\n\t\t\tsource: nextSource,\n\t\t\tbare: nextBare = false\n\t\t} = modalStack[modalStack.length - 1];\n\t\tif (!nextfooterActions && nextBare !== true)\n\t\t\thoistFooter(elemRef, `[now-id=\"${nextModalId}\"]`, false);\n\n\t\tupdateState({ modalStack: [...modalStack] });\n\n\t\tnextHoistedSource.style.display = 'block';\n\t\tdispatch(MODAL_OPENED_INTERNAL, { elmRef: nextSource, modalId: nextModalId });\n\t};\n\n\tif (modalId) {\n\t\tif (Array.isArray(modalStack) && modalStack.length > 0) {\n\t\t\tconst _index = modalStack.findIndex(\n\t\t\t\tcontent => content.modalId === modalId\n\t\t\t);\n\t\t\tif (_index === -1) return;\n\t\t\tconst modalCount = modalStack.length;\n\t\t\tconst { source, hoistedSource, bare: _bare = false } = modalStack[_index];\n\n\t\t\tif (hoistedSource) hoistedSource.style.display = 'none';\n\t\t\tif (source) {\n\t\t\t\t//clean up closed modal's hoisted content\n\t\t\t\tif (_bare !== true)\n\t\t\t\t\tunHoistFooter(elemRef, `[now-id=\"${modalId}\"]`);\n\t\t\t\tresetComponents(hoistedSource, source);\n\t\t\t\tunHoistElement(source);\n\t\t\t}\n\t\t\tconst removedModalContents = modalStack.splice(_index, 1);\n\t\t\tif (removedModalContents[0])\n\t\t\t\tdispatch(MODAL_CLOSED_INTERNAL, {\n\t\t\t\t\tmodalId: removedModalContents[0].modalId,\n\t\t\t\t\telmRef: removedModalContents[0].source\n\t\t\t\t});\n\t\t\t//if removed from top\n\t\t\tif (_index === modalCount - 1 && modalStack.length > 0) {\n\t\t\t\tmakePrevModalActive(modalStack);\n\t\t\t} else if (modalStack.length === 0)\n\t\t\t\tupdateState({ modalStack: [] });\n\t\t\treturn;\n\t\t}\n\t}\n\tlet lastModalInfo = '';\n\tfor (let i = 0; i < count; i++) {\n\t\tconst { modalId, source, hoistedSource, bare: _bare = false } =\n\t\t\tArray.isArray(modalStack) && modalStack.length > 0\n\t\t\t\t? modalStack[modalStack.length - 1]\n\t\t\t\t: {};\n\n\t\tif (hoistedSource) hoistedSource.style.display = 'none';\n\t\tif (source && modalId) {\n\t\t\t//clean up closed modal's hoisted content\n\t\t\tif (_bare !== true)\n\t\t\t\tunHoistFooter(elemRef, `[now-id=\"${modalId}\"]`);\n\t\t\tresetComponents(hoistedSource, source);\n\t\t\tunHoistElement(source);\n\t\t}\n\t\tlastModalInfo = modalStack.pop();\n\t\tdispatch(MODAL_CLOSED_INTERNAL, {\n\t\t\tmodalId: lastModalInfo.modalId,\n\t\t\telmRef: lastModalInfo.source\n\t\t});\n\t}\n\n\tif (modalStack.length > 0) {\n\t\tmakePrevModalActive(modalStack);\n\t} else {\n\t\tupdateState({ modalStack: [] });\n\t}\n};\n\nconst modalContentChanged = ({ modalContent, state, updateState, dispatch }) => {\n\tlet { isOpen = false } = modalContent || {};\n\tif (isOpen === true) handleOpenModal({ modalContent, state, updateState, dispatch });\n\telse handleCloseModal({ modalContent, state, updateState, dispatch });\n};\n\nconst modalHoisterConnectedEffect = ({ updateProperties }) => {\n\twindow.addEventListener(\n\t\t'popstate',\n\t\t_onPopStateModalAction.bind(window, { updateProperties }),\n\t\tfalse\n\t);\n};\n\nconst componentPropertyChangedEffect = ({ action, state, updateState, dispatch }) => {\n\tconst { name, value } = action.payload;\n\n\tswitch (name) {\n\t\tcase 'modalContent':\n\t\t\tmodalContentChanged({ modalContent: value, state, updateState, dispatch });\n\t\t\tbreak;\n\t}\n};\n\nconst modalHoisterDiconnectedEffect = ({ updateState }) => {\n\twindow.removeEventListener('popstate', _onPopStateModalAction, false);\n\tupdateState({ elemRef: null, modalStack: [] });\n};\nconst hostMap = new Map();\nconst internalToExternalActionMap = {\n\t[MODAL_OPENED_INTERNAL]: MODAL_OPENED,\n\t[MODAL_CLOSED_INTERNAL]: MODAL_CLOSED\n};\n\nconst retargetAndDispatch = ({ action }) => {\n\taction.stopPropagation && action.stopPropagation();\n\tlet { elmRef } = action.payload;\n\tif(!elmRef) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn(`Error! The action ${action.type} payload is invalid, can't proceed further.`);\n\t\treturn;\n\t}\n\t//Viewport modal has dynamic child and way to detect that is presence of slot\n\tif (elmRef.getAttribute && elmRef.getAttribute('slot') !== null) {\n\t\tconst componentId = elmRef.getAttribute('component-id');\n\t\telmRef = elmRef.parentElement;\n\t\tif (!elmRef && componentId) {\n\t\t\t// the dynamic child has been removed so parent is gone. Retrieve it's parent from cache\n\t\t\telmRef = hostMap.get(componentId);\n\t\t\thostMap.delete(componentId)\n\t\t}\n\t}\n\tif (elmRef && elmRef.dispatch) {\n\t\tconst externalAction = internalToExternalActionMap[action.type];\n\t\tif(externalAction)\n\t\t\telmRef.dispatch(externalAction, {\n\t\t\t\t\tmodalInstanceId: (action.payload && action.payload.modalId)\n\t\t\t\t}\n\t\t\t);\n\t}\n};\n\nexport const actionHandlers = {\n\t[COMPONENT_CONNECTED]: modalHoisterConnectedEffect,\n\t[COMPONENT_DOM_READY]: ({ host, updateState }) =>\n\t\tupdateState({ elemRef: host }),\n\t[COMPONENT_PROPERTY_CHANGED]: componentPropertyChangedEffect,\n\t[COMPONENT_DISCONNECTED]: modalHoisterDiconnectedEffect,\n\t[NOW_MODAL_OPENED_SET]: ({ action, dispatch, state }) => {\n\t\taction.stopPropagation && action.stopPropagation();\n\t\tconst { elemRef } = state;\n\t\tif (elemRef) {\n\t\t\tconst seismicHoistEle = elemRef.querySelector('seismic-hoist');\n\t\t\tif (\n\t\t\t\tseismicHoistEle &&\n\t\t\t\tseismicHoistEle.sourceElement &&\n\t\t\t\tseismicHoistEle.sourceElement.dispatch\n\t\t\t) {\n\t\t\t\tseismicHoistEle.sourceElement.dispatch(action.type, action.payload);\n\t\t\t}\n\t\t}\n\t\tdispatch(MODAL_SELECTED, { showModal: action.payload.value });\n\t},\n\t[NOW_UXF_BARE_MODAL_DISMISSED]: ({ action, dispatch, state }) => {\n\t\tconst { elemRef } = state;\n\t\tif (elemRef) {\n\t\t\tconst seismicHoistEle = elemRef.querySelector('seismic-hoist');\n\t\t\t//preserve parent of dynamic content as content is removed later, \n\t\t\t// used when re-targeting the modal_closed action\n\t\t\tif (seismicHoistEle && seismicHoistEle.sourceElement) {\n\t\t\t\tconst componentId = seismicHoistEle.sourceElement.getAttribute('component-id');\n\t\t\t\tif (!hostMap.has(componentId) && seismicHoistEle.sourceElement.parentElement)\n\t\t\t\t\thostMap.set(componentId, seismicHoistEle.sourceElement.parentElement);\n\t\t\t}\n\t\t}\n\t\tdispatch(MODAL_SELECTED, { showModal: false });\n\t\taction.preventDefault();\n\t},\n\t[MODAL_CLOSED_INTERNAL]: retargetAndDispatch,\n\t[MODAL_OPENED_INTERNAL]: retargetAndDispatch,\n};\n","import { isFunction } from 'lodash';\n//DOM Utils\nconst deepSearchElement = (selector, root = document.body) => {\n\tlet queue = [root];\n\twhile (queue.length > 0) {\n\t\tconst top = queue.shift();\n\t\tconst ele = top.querySelector(selector);\n\t\tif (ele) return ele;\n\n\t\tconst topShadow = top.shadowRoot;\n\t\tif (topShadow) queue.push(topShadow);\n\t\tconst allSearched = top.querySelectorAll('*');\n\t\tfor (let i = 0; i < allSearched.length; i++) {\n\t\t\tif (allSearched[i].shadowRoot) queue.push(allSearched[i].shadowRoot);\n\t\t}\n\t}\n};\n\nconst deepSearchAllElement = (selector, root = document.body) => {\n\tlet queue = [root];\n\tlet result = [];\n\twhile (queue.length > 0) {\n\t\tconst top = queue.shift();\n\t\tconst ele = top.querySelectorAll(selector);\n\t\tif (ele && ele.length > 0) result.push(...ele);\n\n\t\tconst topShadow = top.shadowRoot;\n\t\tif (topShadow) queue.push(topShadow);\n\t\tconst allSearched = top.querySelectorAll('*');\n\t\tfor (let i = 0; i < allSearched.length; i++) {\n\t\t\tif (allSearched[i].shadowRoot) queue.push(allSearched[i].shadowRoot);\n\t\t}\n\t}\n\treturn result;\n};\n\n//Hoist Utils\nconst hoistElement = (targetRef, sourceRef) => {\n\tif (!targetRef || !sourceRef) return;\n\n\tif (sourceRef.nowMode === 'suspend') {\n\t\tsourceRef.nowMode = 'active';\n\t\tsourceRef.style.display = 'block';\n\t}\n\n\tsourceRef['nowHoistAppendTo'] = targetRef;\n\tsourceRef['nowHoist'] = true;\n};\n\nconst unHoistElement = sourceRef => {\n\tif (!sourceRef) return;\n\tsourceRef.removeAttribute('now-hoist');\n\tsourceRef.removeAttribute('now-hoist-append-to');\n};\n\nconst getAllComponents = source =>\n\tdeepSearchAllElement('[component-id]', source);\n\nconst resetComponents = (hoistedSource, source) => {\n\tif (!source.componentsInitState) return;\n\tconst propsMap = source.componentsInitState;\n\tconst components = getAllComponents(hoistedSource) || [];\n\tcomponents.forEach(c => {\n\t\tconst initProps = propsMap.get(c.componentId) || [];\n\t\tObject.keys(initProps).forEach(p => {\n\t\t\tif (p && p.toLowerCase() !== 'defer') c[p] = initProps[p];\n\t\t});\n\t});\n};\n\nconst saveInitComponentState = source => {\n\tconst allComponents = getAllComponents(source) || [];\n\tconst propsMap = new Map();\n\tallComponents.forEach(c => {\n\t\tif (c && c.componentId && isFunction(c.getProperties)) {\n\t\t\tpropsMap.set(c.componentId, c.getProperties());\n\t\t}\n\t});\n\tsource.componentsInitState = propsMap;\n\treturn source;\n};\n\nconst getHoistedSource = (targetRef, selector) => {\n\tif (!targetRef && !selector) return;\n\treturn targetRef.querySelector(selector);\n};\n\n//Title & Footer Utils\nconst extractModalTitle = (targetRef, selector, hideSourceTitle = false) => {\n\tconst hoistedEle = targetRef.querySelector(selector);\n\tlet titleSource = deepSearchElement('[slot=\"sn-modal-title\"]', hoistedEle);\n\tif (titleSource) {\n\t\tif (hideSourceTitle) titleSource.style.display = 'none';\n\t\treturn titleSource['label'];\n\t}\n};\n\nconst getFooters = (targetRef, selector) => {\n\tlet nowModalFooter = deepSearchElement(\n\t\t'[class=\"now-modal-footer\"]',\n\t\ttargetRef\n\t);\n\tconst hoistedEle = targetRef.querySelector(selector);\n\tlet modalFooter = deepSearchAllElement(\n\t\t'[slot=\"sn-modal-footer\"]',\n\t\thoistedEle\n\t);\n\treturn { modalFooter, nowModalFooter };\n};\n\nconst hoistFooter = (targetRef, selector, hideSource = false) => {\n\tconst { modalFooter: footerSource, nowModalFooter } = getFooters(\n\t\ttargetRef,\n\t\tselector\n\t);\n\tif (footerSource) {\n\t\tfooterSource.forEach(source => {\n\t\t\thoistElement(nowModalFooter, source);\n\t\t\tif (!source.classList.contains('now-modal-footer-button'));\n\t\t\tsource.classList.add('now-modal-footer-button');\n\t\t});\n\n\t\t//This ensures if on the first pass, we fail to add right footer class to buttons(or seismic-host wrapping the buttons),\n\t\t// those classes are added here.\n\t\tsetTimeout(() => {\n\t\t\tconst hoistedFooterSources = deepSearchAllElement(\n\t\t\t\t'seismic-hoist',\n\t\t\t\tnowModalFooter\n\t\t\t);\n\t\t\thoistedFooterSources.forEach(\n\t\t\t\tsource =>\n\t\t\t\t\t!source.classList.contains('now-modal-footer-button') &&\n\t\t\t\t\tsource.classList.add('now-modal-footer-button')\n\t\t\t);\n\t\t}, 50);\n\n\t\tif (hideSource)\n\t\t\tfooterSource.forEach(source => (source.style.display = 'none'));\n\t}\n};\n\nconst unHoistFooter = (targetRef, selector) => {\n\tconst { modalFooter: footerSource } = getFooters(targetRef, selector);\n\tif (footerSource) {\n\t\tfooterSource.forEach(source => {\n\t\t\tunHoistElement(source);\n\t\t\tsource.style.display = '';\n\t\t});\n\t}\n};\n\nexport {\n\thoistElement,\n\tunHoistElement,\n\tgetHoistedSource,\n\textractModalTitle,\n\thoistFooter,\n\tunHoistFooter,\n\tsaveInitComponentState,\n\tresetComponents\n};\n","export default derivedState => {\n\tconst { modalStack } = derivedState;\n\tlet modalData;\n\tif (modalStack.length > 0) {\n\t\tmodalData = modalStack[modalStack.length - 1];\n\t}\n\tconst {\n\t\tisOpen = false,\n\t\theaderLabel = '',\n\t\tfooterActions = [],\n\t\tbare = false,\n\t\tdisplayOptions = {}\n\t} = modalData || {};\n\n\tif (bare) {\n\t\treturn (\n\t\t\t<now-uxf-bare-modal {...displayOptions} opened={isOpen === true}>\n\t\t\t\t<slot />\n\t\t\t</now-uxf-bare-modal>\n\t\t);\n\t}\n\n\treturn (\n\t\t<now-modal\n\t\t\t{...displayOptions}\n\t\t\theader-label={headerLabel}\n\t\t\tfooter-actions={footerActions}\n\t\t\topened={isOpen === true}\n\t\t\tmanage-opened\n\t\t>\n\t\t\t<slot />\n\t\t</now-modal>\n\t);\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/@tectonic/utils/node_modules/sass-loader/dist/cjs.js??ref--6-3!./_sn-canvas-modal-hoist.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sn-canvas-modal-hoist{height:100%}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}