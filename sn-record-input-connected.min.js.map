{"version":3,"sources":["webpack://__TECTONIC__$devsnc_sn_record_input_connected/webpack/bootstrap","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__react\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/sn-custom-create-element/lib/index.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$devsnc_sn_controls_common_19_0_31\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/prop-types/index.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/withState.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_ui_renderer_react\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/mentionsActionHandlers.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/index.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__lodash_4_17_4[\\\"camelCase\\\"]\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__lodash_4_17_4[\\\"isEmpty\\\"]\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__lodash_4_17_4[\\\"isString\\\"]\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__lodash_4_17_4[\\\"reduce\\\"]\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__lodash_4_17_4[\\\"startsWith\\\"]\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/sn-custom-create-element/lib/constants.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/merge.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$devsnc_library_register_components_19_0_31\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/ConnectedInput.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/prop-types/factoryWithThrowingShims.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$devsnc_sn_record_input\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/inputActionHandlers.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/withAutocomplete.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$devsnc_sn_options_list\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/password.scss?f299","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/password.scss","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$devsnc_sn_declarative_actions\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/index.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/Input.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/react-attr-converter/index.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/Textarea.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/TextareaResizer.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__lodash_4_17_4[\\\"debounce\\\"]\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/TextareaResizer.scss?1dd6","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/TextareaResizer.scss","webpack://__TECTONIC__$devsnc_sn_record_input_connected//mnt/jenkins/workspace/ce_controls-monorepo_quebec-KITNYALKAJ7G5JKMIW7RVRJM4I5KIS6ZGOQJMDZXWF5NWHM7KVLQ/target/checkout/node_modules/autosize/dist/autosize.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/autosize.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$devsnc_sn_field_and_dropdown_wrapper\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/withMentions.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/matchList/MatchList.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/matchList/MatchListItem.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__classnames_2_2_5\"","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/mentionsUtils.js","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/journal-input.scss?0a86","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/journal-input.scss","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/mentions.scss?a3f5","webpack://__TECTONIC__$devsnc_sn_record_input_connected/./src/mentions/mentions.scss","webpack://__TECTONIC__$devsnc_sn_record_input_connected/external \"__TECTONIC__$servicenow_now_input\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__lodash_4_17_4","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__react","default","props","arguments","length","undefined","isSeismicComponent","_isString2","indexOf","isAttribute","_constants","ATTRIBUTES","_startsWith2","isMappedToProps","MAPPED_TO_PROPS","_len","children","Array","_key","_isEmpty2","existingRef","ref","_reduce","_reduce3","acc","_camelCase2","attributes","properties","_react2","createElement","apply","assign","node","concat","_interopRequireDefault","obj","__TECTONIC__$devsnc_sn_controls_common_19_0_31","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","push","__TECTONIC__$servicenow_ui_core","passthrough","Component","parse","format","stopBubbling","parseAndFormat","additionalInfo","parsedValue","error","formattedValue","withValueChangeCallbacks","initialValueProp","React","PureComponent","constructor","super","initialValue","state","hasFocus","displayValue","componentWillReceiveProps","nextProps","nextInitialValue","mergedAdditionalInfo","setState","render","attrs","flow","omit","extend","onValueChange","onChange","onBlur","onFocus","newAdditionalInfo","onStagedValueChange","event","target","__TECTONIC__$servicenow_ui_renderer_react","__TECTONIC__sn_translate","FETCH_MENTIONS","BUILT_IN_MENTIONS","users","mapResults","data","user","sys_id","initials","avatar","secondary","email","image","displayItem","prefix","getItemsFromInitialValue","re","RegExp","escapeRegExp","items","match","exec","replace","selectedItems","reduce","result","actionHandlers","createHttpEffect","method","queryParams","pathParams","startActionType","successActionType","errorActionType","updateProperties","mentionsLoading","action","payload","mentionsResults","createCustomElement","component","defaultConnectedInput","ConnectedInput","oldObj","newObj","isEmpty","__TECTONIC__$devsnc_library_register_components_19_0_31","isJournal","mentions","inputElement","isFunction","innerRef","renderJournal","debounceAutosize","toNumber","getProperty","searchDebounce","debounce","declarativeActionsProps","getDeclarativeActionsProps","placeholder","readonly","isAttrTrue","type","label","onchange","required","invalid","manageInvalid","manageValue","messages","transformMessages","disabled","Input","componentName","slot","model","actions","declarativeUiActions","dispatch","formData","fetchDeclarativeActions","defaultProps","identity","Base","flowRight","withAutocomplete","inputActionHandlers","style","SNInput","passwordStyle","propTypes","PropTypes","string","number","bool","func","showCounter","oneOfType","resizable","autocomplete","autocompleteOptions","arrayOf","autocompleteMatchAnywhere","referringTable","referringRecordId","fieldName","any","recordSysId","fallbackDropdownBehavior","array","dispatches","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","location","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","symbol","element","elementType","instanceOf","objectOf","oneOf","shape","exact","checkPropTypes","__TECTONIC__$devsnc_sn_record_input","passwordChangeEffect","adaptCallbackForLegacyAPI","textareaChangeEffect","effect","stopPropagation","fieldValue","merge","toValueObject","str","isActive","options","selectedSearchResult","getAttributes","noop","supportsDropdown","isEditable","filterStaticOptions","matcher","lowerCaseInput","toLowerCase","filter","opt","closeDropdown","onKeyDown","preventDefault","getSelectedItems","size","onKeyUp","selectOption","newState","isArray","onHoverOption","optionIndex","focus","newProps","dropdown","getDropdown","ids","generateSubComponentIds","componentId","activeDescendant","Dropdown","OptionsList","parentId","selectedSearchResults","onClick","onHover","__TECTONIC__$devsnc_sn_options_list","__TECTONIC__$devsnc_sn_declarative_actions","JournalInput","renderer","react","view","ForwardProperties","schema","description","variant","anyOf","styles","inputStyles","mentionsStyles","transformState","createSlot","REMOVED_PROPS","keys","seismicComponentPropTypes","hasHover","dropdownVisible","setInnerRef","setSelectionRange","onMouseOver","onMouseOut","changeFromInput","componentDidMount","checkAutofocus","autofocus","transform","castIfBoolean","dir","reversed","handleOutsideScroll","handleOutsideScrollFocus","FocusWatcher","setFocusTarget","Fragment","showDropdownWithoutFocus","dropdownRef","ShadyDOMEventFixer","accessibilityAttributes","maxLength","maxlength","role","className","CharacterCounter","controlledFieldPropTypes","rows","cols","wrap","align","for","class","accept","acceptcharset","accesskey","allowfullscreen","allowtransparency","alt","async","autoplay","capture","cellpadding","cellspacing","challenge","charset","checked","cite","classid","classname","colspan","contenteditable","contextmenu","controls","coords","crossorigin","datetime","defer","download","draggable","enctype","form","formaction","formenctype","formmethod","formnovalidate","formtarget","frameborder","headers","height","hidden","high","href","hreflang","htmlfor","httpequiv","icon","inputmode","integrity","is","keyparams","keytype","kind","lang","loop","low","manifest","marginheight","marginwidth","max","media","mediagroup","min","minlength","multiple","muted","novalidate","nonce","open","optimum","pattern","poster","preload","profile","radiogroup","rel","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","sizes","span","spellcheck","src","srcdoc","srclang","srcset","start","step","summary","tabindex","title","usemap","width","wmode","accentheight","accumulate","additive","alignmentbaseline","allowreorder","alphabetic","amplitude","arabicform","ascent","attributename","attributetype","autoreverse","azimuth","basefrequency","baseprofile","baselineshift","bbox","begin","bias","by","calcmode","capheight","clip","clippath","clippathunits","cliprule","colorinterpolation","colorinterpolationfilters","colorprofile","colorrendering","contentscripttype","contentstyletype","cursor","cx","cy","decelerate","descent","diffuseconstant","direction","display","divisor","dominantbaseline","dur","dx","dy","edgemode","elevation","enablebackground","end","exponent","externalresourcesrequired","fill","fillopacity","fillrule","filterres","filterunits","floodcolor","floodopacity","focusable","fontfamily","fontsize","fontsizeadjust","fontstretch","fontstyle","fontvariant","fontweight","from","fx","fy","g1","g2","glyphname","glyphorientationhorizontal","glyphorientationvertical","glyphref","gradienttransform","gradientunits","hanging","horizadvx","horizoriginx","ideographic","imagerendering","in","in2","intercept","k","k1","k2","k3","k4","kernelmatrix","kernelunitlength","kerning","keypoints","keysplines","keytimes","lengthadjust","letterspacing","lightingcolor","limitingconeangle","local","markerend","markerheight","markermid","markerstart","markerunits","markerwidth","mask","maskcontentunits","maskunits","mathematical","numoctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlineposition","overlinethickness","paintorder","panose1","pathlength","patterncontentunits","patterntransform","patternunits","pointerevents","points","pointsatx","pointsaty","pointsatz","preservealpha","preserveaspectratio","primitiveunits","radius","refx","refy","renderingintent","repeatcount","repeatdur","requiredextensions","requiredfeatures","restart","rotate","rx","ry","scale","seed","shaperendering","slope","spacing","specularconstant","specularexponent","speed","spreadmethod","startoffset","stddeviation","stemh","stemv","stitchtiles","stopcolor","stopopacity","strikethroughposition","strikethroughthickness","stroke","strokedasharray","strokedashoffset","strokelinecap","strokelinejoin","strokemiterlimit","strokeopacity","strokewidth","surfacescale","systemlanguage","tablevalues","targetx","targety","textanchor","textdecoration","textlength","textrendering","to","u1","u2","underlineposition","underlinethickness","unicode","unicodebidi","unicoderange","unitsperem","valphabetic","vhanging","videographic","vmathematical","values","vectoreffect","version","vertadvy","vertoriginx","vertoriginy","viewbox","viewtarget","visibility","widths","wordspacing","writingmode","x","x1","x2","xchannelselector","xheight","xlinkactuate","xlinkarcrole","xlinkhref","xlinkrole","xlinkshow","xlinktitle","xlinktype","xmlns","xmlnsxlink","xmlbase","xmllang","xmlspace","y","y1","y2","ychannelselector","z","zoomandpan","onabort","onanimationend","onanimationiteration","onanimationstart","onblur","oncanplay","oncanplaythrough","onclick","oncompositionend","oncompositionstart","oncompositionupdate","oncontextmenu","oncopy","oncut","ondoubleclick","ondrag","ondragend","ondragenter","ondragexit","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onencrypted","onended","onerror","onfocus","oninput","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onscroll","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitionend","onvolumechange","onwaiting","onwheel","extraCharRegex","convert","attr","test","Textarea","e","setRef","textArea","setTimeout","minHeight","window","getComputedStyle","parseInt","autosizer","update","autosize","destroy","componentDidUpdate","prevProps","componentWillUnmount","textarea","TEXTAREA_RESIZE_ELEMENT","DRAGGING_CLASS","tooltipText","hasClass","ele","cls","setHeight","newHeight","h","Math","maxHeight","openTooltip","tooltipOpen","closeTooltip","cancel","targetRef","snabbdom","dragStartY","originalHeight","handleMouseMove","handleMouseUp","reg","trim","removeAttribute","removeClass","document","body","removeEventListener","buttons","clientY","setTargetRef","getElementById","styleElem","setAttribute","innerHTML","head","appendChild","addStyles","currentHeight","getCurrentHeight","aria-valuenow","aria-valuetext","aria-valuemin","aria-valuemax","tabIndex","hook-insert","elm","hook-destroy","aria-describedby","addEventListener","increment","getTooltipHandlers","target-ref","manageOpened","opened","delay","__TECTONIC__$servicenow_now_tooltip","__TECTONIC__$servicenow_now_icon","Map","has","set","index","splice","createEvent","Event","bubbles","evt","initEvent","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","forEach","resize","overflowY","overflowX","wordWrap","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","offsetWidth","overflows","el","arr","parentNode","Element","scrollTop","getParentOverflows","docTop","documentElement","endHeight","scrollHeight","styleHeight","round","computed","actualHeight","offsetHeight","dispatchEvent","methods","debounceWait","initialUpdate","handleScrollToggling","leading","__TECTONIC__$devsnc_sn_field_and_dropdown_wrapper","__TECTONIC__$servicenow_ui_effect_http","getInitialState","runReadQuery","readQuery","activePrefix","nextLoadingState","isLoading","rawData","matchList","highlightedIndex","supportsMentions","inputProps","getInputProps","matchListProps","getMatchListProps","mapValues","normalizeMentions","mention","isString","assertValidMention","keyBy","searchTerm","trailingInput","scanInputForLastPrefix","selectionStart","searchSpace","findSearchSpace","first","findLastIndex","char","substring","selectionEnd","showMatchList","activePrefixPosition","cursorOffset","getCaretPosition","labelPadding","dropdownLeft","LEFT","dropdownTop","TOP","displayFormat","config","encode","hideMatchList","isRelatedSearch","selectItem","lastChar","last","onKeyPress","cursorIndex","isSupportedPrefix","shouldShowMentionsSelector","onPaste","persist","prefixIndex","existingChars","formatted","hoverItem","onItemSelected","onHoverItem","isNewDropdown","inputVal","hasDoubleSpaceEnding","isValidInput","term","recordTable","recordId","MatchList","_setHighlightedComponent","highlightedComponent","_setListElement","listElement","childElementEdges","getElementEdges","scrollBottom","topEdge","bottomEdge","parentWidth","getScrollParent","offsetParent","getBoundingClientRect","matchListRect","realLeft","left","message","top","aria-controls","_renderMatchListItems","_renderARIARegion","highlighted","aria-live","MatchListItem","_setElement","_handleClick","avatarImage","startsWith","user-name","image-src","offsetTop","__TECTONIC__$servicenow_now_avatar","__TECTONIC__classnames_2_2_5","inputEl","carPos","div","copyStyle","prop","position","textContent","substr","offsetLeft","removeChild","isObject","variables","each","a","b","valueUntilCursor","split","__TECTONIC__$servicenow_now_input"],"mappings":"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","file":"sn-record-input-connected.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = __TECTONIC__lodash_4_17_4;","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__react;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = createElement;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _camelCase = require('lodash/camelCase');\n\nvar _camelCase2 = _interopRequireDefault(_camelCase);\n\nvar _isEmpty = require('lodash/isEmpty');\n\nvar _isEmpty2 = _interopRequireDefault(_isEmpty);\n\nvar _isString = require('lodash/isString');\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _reduce2 = require('lodash/reduce');\n\nvar _reduce3 = _interopRequireDefault(_reduce2);\n\nvar _startsWith = require('lodash/startsWith');\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createElement(name) {\n\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tfunction isSeismicComponent(name) {\n\t\treturn (0, _isString2.default)(name) && name.indexOf('-') !== -1;\n\t}\n\n\tfunction isAttribute(name) {\n\t\treturn _constants.ATTRIBUTES.indexOf(name) !== -1 || (0, _startsWith2.default)(name, 'aria-') || (0, _startsWith2.default)(name, 'data-');\n\t}\n\n\tfunction isMappedToProps(name) {\n\t\treturn _constants.MAPPED_TO_PROPS.indexOf(name) !== -1;\n\t}\n\n\tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t\tchildren[_key - 2] = arguments[_key];\n\t}\n\n\tif (!(0, _isEmpty2.default)(props) && isSeismicComponent(name)) {\n\t\tvar existingRef = props.ref && typeof props.ref === 'function' && props.ref;\n\n\t\tvar _reduce = (0, _reduce3.default)(props, function (acc, value, name) {\n\t\t\tif (isAttribute(name)) acc['attributes'][name] = value;else acc['properties'][(0, _camelCase2.default)(name)] = value;\n\n\t\t\tif (isMappedToProps(name)) acc['properties'][name] = value;\n\n\t\t\treturn acc;\n\t\t}, {\n\t\t\tattributes: {},\n\t\t\tproperties: {}\n\t\t}),\n\t\t    attributes = _reduce.attributes,\n\t\t    properties = _reduce.properties;\n\n\t\tif (!(0, _isEmpty2.default)(properties)) {\n\t\t\treturn _react2.default.createElement.apply(_react2.default, [name, Object.assign({}, attributes, { ref: function ref(node) {\n\t\t\t\t\tif (!node) return;\n\t\t\t\t\texistingRef && existingRef(node);\n\t\t\t\t\tObject.assign(node, properties);\n\t\t\t\t} })].concat(children));\n\t\t}\n\t}\n\treturn _react2.default.createElement.apply(_react2.default, [name, props].concat(children));\n}","module.exports = __TECTONIC__$devsnc_sn_controls_common_19_0_31;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__$servicenow_ui_core;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","// Third Party Imports\nimport React from 'react';\nimport { flow, omit, extend, toString } from 'lodash';\nimport merge from './merge';\n\nimport { withValueChangeCallbacks } from '@devsnc/sn-controls-common';\n\nconst passthrough = s => ({ value: s });\n\n/**\n * Adds state management and the format/parse loop for inputs\n *\n * @argument Component the input component to wrap with state + formatting management\n * @argument Formatter with the shape of { parse, format }. Defaults to passthroughs\n */\nexport default (\n\tComponent,\n\t{ parse = passthrough, format = passthrough, stopBubbling = [] } = {}\n) => {\n\tconst parseAndFormat = (value, props, additionalInfo = {}) => {\n\t\tconst { value: parsedValue, error } = parse(value, props, additionalInfo);\n\t\tif (!error) {\n\t\t\tconst { value: formattedValue, error } = format(\n\t\t\t\tparsedValue,\n\t\t\t\tprops,\n\t\t\t\tadditionalInfo\n\t\t\t);\n\n\t\t\treturn { parsedValue, formattedValue, additionalInfo, error };\n\t\t}\n\n\t\treturn { parsedValue, formattedValue: value, additionalInfo, error };\n\t};\n\n\treturn withValueChangeCallbacks(\n\t\t{ initialValueProp: 'initialValue', stopBubbling },\n\t\tclass ConnectedInputState extends React.PureComponent {\n\t\t\t/**\n\t\t\t * constructor\n\t\t\t * @param {object} props\n\t\t\t */\n\t\t\tconstructor(props) {\n\t\t\t\tsuper(props);\n\n\t\t\t\tconst initialValue = toString(props.initialValue);\n\n\t\t\t\tconst { value, error, ...additionalInfo } = format(initialValue, props);\n\n\t\t\t\tthis.state = {\n\t\t\t\t\thasFocus: false,\n\t\t\t\t\tvalue: initialValue,\n\t\t\t\t\tdisplayValue: value,\n\t\t\t\t\tadditionalInfo,\n\t\t\t\t\terror\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\t\t// Allow new props to update value state _only_ when the field doesn't\n\t\t\t\t// have focus\n\t\t\t\tconst nextInitialValue = toString(nextProps.initialValue);\n\n\t\t\t\tif (\n\t\t\t\t\tnextInitialValue !== this.props.initialValue &&\n\t\t\t\t\t!this.state.hasFocus\n\t\t\t\t) {\n\t\t\t\t\tconst { value, error, ...additionalInfo } = format(\n\t\t\t\t\t\tnextInitialValue,\n\t\t\t\t\t\tnextProps,\n\t\t\t\t\t\tthis.state.additionalInfo\n\t\t\t\t\t);\n\n\t\t\t\t\tconst mergedAdditionalInfo = merge(\n\t\t\t\t\t\tthis.state.additionalInfo,\n\t\t\t\t\t\tadditionalInfo\n\t\t\t\t\t);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tnextInitialValue !== this.state.value ||\n\t\t\t\t\t\tvalue !== this.state.displayValue ||\n\t\t\t\t\t\terror !== this.state.error ||\n\t\t\t\t\t\tmergedAdditionalInfo !== this.state.additionalInfo\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tvalue: nextInitialValue,\n\t\t\t\t\t\t\tdisplayValue: value,\n\t\t\t\t\t\t\tadditionalInfo: mergedAdditionalInfo,\n\t\t\t\t\t\t\terror\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tonValueChange = ({ value, additionalInfo }, format = false) => {\n\t\t\t\t// todo: format flag is lame\n\t\t\t\tif (format) {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tparsedValue,\n\t\t\t\t\t\tformattedValue,\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tadditionalInfo: newAdditionalInfo\n\t\t\t\t\t} = parseAndFormat(\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tthis.props,\n\t\t\t\t\t\tmerge(this.state.additionalInfo, additionalInfo)\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.props.onValueChange({\n\t\t\t\t\t\tvalue: parsedValue,\n\t\t\t\t\t\tdisplayValue: formattedValue,\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tvalue: parsedValue,\n\t\t\t\t\t\tdisplayValue: formattedValue,\n\t\t\t\t\t\tadditionalInfo: merge(this.state.additionalInfo, newAdditionalInfo),\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.onStagedValueChange({\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tdisplayValue: value\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdisplayValue: value,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tadditionalInfo: merge(this.state.additionalInfo, additionalInfo)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tonFocus = () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\thasFocus: true\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tonBlur = event => {\n\t\t\t\tconst {\n\t\t\t\t\tparsedValue,\n\t\t\t\t\tformattedValue,\n\t\t\t\t\terror,\n\t\t\t\t\tadditionalInfo: newAdditionalInfo\n\t\t\t\t} = parseAndFormat(\n\t\t\t\t\tthis.state.value,\n\t\t\t\t\tthis.props,\n\t\t\t\t\tthis.state.additionalInfo\n\t\t\t\t);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tvalue: parsedValue,\n\t\t\t\t\tdisplayValue: formattedValue,\n\t\t\t\t\tadditionalInfo: merge(this.state.additionalInfo, newAdditionalInfo),\n\t\t\t\t\terror,\n\t\t\t\t\thasFocus: false\n\t\t\t\t});\n\n\t\t\t\t// value is updated on blur only\n\t\t\t\tthis.props.onValueChange({\n\t\t\t\t\tevent,\n\t\t\t\t\terror,\n\t\t\t\t\tvalue: parsedValue,\n\t\t\t\t\tdisplayValue: formattedValue\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tonChange = event => {\n\t\t\t\tconst value = event.target.value;\n\t\t\t\tthis.setState({\n\t\t\t\t\tvalue,\n\t\t\t\t\tdisplayValue: value\n\t\t\t\t});\n\n\t\t\t\tthis.props.onStagedValueChange({ event, value });\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * render\n\t\t\t * @return {ReactElement} markup\n\t\t\t */\n\t\t\trender() {\n\t\t\t\tconst attrs = flow(\n\t\t\t\t\tprops => omit(props, ['initialValue']),\n\t\t\t\t\tprops =>\n\t\t\t\t\t\textend(props, {\n\t\t\t\t\t\t\tonValueChange: this.onValueChange,\n\t\t\t\t\t\t\tvalue: this.state.displayValue,\n\t\t\t\t\t\t\terror: this.state.error,\n\t\t\t\t\t\t\tonChange: this.onChange,\n\t\t\t\t\t\t\tonBlur: this.onBlur,\n\t\t\t\t\t\t\tonFocus: this.onFocus,\n\t\t\t\t\t\t\t...this.state.additionalInfo\n\t\t\t\t\t\t})\n\t\t\t\t)(this.props);\n\n\t\t\t\treturn <Component {...attrs} />;\n\t\t\t}\n\t\t}\n\t);\n};\n","module.exports = __TECTONIC__$servicenow_ui_renderer_react;","module.exports = __TECTONIC__sn_translate;","import { escapeRegExp, get, map, reduce } from 'lodash';\n\nimport { createHttpEffect } from '@servicenow/ui-effect-http';\n\nexport const FETCH_MENTIONS = 'FETCH_MENTIONS';\nconst FETCH_MENTIONS_START = 'FETCH_MENTIONS_START';\nconst FETCH_MENTIONS_SUCCESS = 'FETCH_MENTIONS_SUCCESS';\nconst FETCH_MENTIONS_FAILURE = 'FETCH_MENTIONS_FAILURE';\n\nexport const BUILT_IN_MENTIONS = {\n\tusers: {\n\t\t// Maps the response to something usable. For each entry, the\n\t\t// following keys are supported:\n\t\t//\n\t\t// - id {String} unique id for the item. (required)\n\t\t// - value {String} Primary display value for the item (optional)\n\t\t// - secondary {String} Secondary display value for the item (optional)\n\t\t// - initials {String} Placeholder initials for the avatar (optional)\n\t\t// - image {String} Image for the avatar (optional)\n\t\tmapResults: data => {\n\t\t\treturn map(data, user => {\n\t\t\t\tconst id = user.sys_id;\n\n\t\t\t\tconst { initials, avatar } = user;\n\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\tvalue: user.name,\n\t\t\t\t\tsecondary: user.email,\n\t\t\t\t\tinitials,\n\t\t\t\t\timage: avatar\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\n\t\t// How to display a new item in the text input.\n\t\t// - item {Object} The item to display. Same data as one of the elements\n\t\t// returned from `mapResults`.\n\t\tdisplayItem: ({ item, prefix }) => `${prefix}${item.value}`,\n\n\t\t// How to pull initial data from the value string. Should return data in the same\n\t\t// format as `mapResults`.\n\t\tgetItemsFromInitialValue: ({ value, prefix }) => {\n\t\t\tconst re = new RegExp(\n\t\t\t\t`${escapeRegExp(prefix)}\\\\[([^:]+):([^\\\\]]+)\\\\]`,\n\t\t\t\t'g'\n\t\t\t);\n\t\t\tconst items = [];\n\t\t\tlet match;\n\t\t\tdo {\n\t\t\t\tmatch = re.exec(value);\n\t\t\t\tif (match) {\n\t\t\t\t\titems.push({\n\t\t\t\t\t\tid: match[1],\n\t\t\t\t\t\tvalue: match[2]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} while (match);\n\n\t\t\treturn items;\n\t\t},\n\n\t\t// Maps the raw value (from server) to display format.\n\t\tformat: ({ value, prefix }) =>\n\t\t\tvalue.replace(\n\t\t\t\tnew RegExp(`(${escapeRegExp(prefix)})\\\\[[^:]+:([^\\\\]]+)\\\\]`, 'g'),\n\t\t\t\t'$1$2'\n\t\t\t),\n\n\t\t// Maps the current display value back to server format.\n\t\t// - selectedItems {item[]} A list of all items that the user has chosen\n\t\t// from the matchlist dropdown.\n\t\tparse: ({ value, prefix, selectedItems }) => {\n\t\t\treturn reduce(\n\t\t\t\tselectedItems,\n\t\t\t\t(result, { value, id }) => {\n\t\t\t\t\treturn result.replace(\n\t\t\t\t\t\tnew RegExp(\n\t\t\t\t\t\t\t'(^|\\\\s|\\\\b)' + escapeRegExp(`${prefix}${value}`) + '(\\\\s|\\\\b|$)',\n\t\t\t\t\t\t\t'g'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t`$1${prefix}[${id}:${value}]$2`\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tvalue\n\t\t\t);\n\t\t}\n\t}\n};\n\nexport const actionHandlers = {\n\t[FETCH_MENTIONS]: createHttpEffect(\n\t\t'api/now/form/mention/record/:recordTable/:recordId',\n\t\t{\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: ['term'],\n\t\t\tpathParams: ['recordTable', 'recordId'],\n\t\t\tstartActionType: FETCH_MENTIONS_START,\n\t\t\tsuccessActionType: FETCH_MENTIONS_SUCCESS,\n\t\t\terrorActionType: FETCH_MENTIONS_FAILURE\n\t\t}\n\t),\n\n\t[FETCH_MENTIONS_START]: ({ updateProperties }) => {\n\t\tupdateProperties({ mentionsLoading: true });\n\t},\n\n\t[FETCH_MENTIONS_SUCCESS]: ({ updateProperties, action }) => {\n\t\tconst { result } = action.payload;\n\t\tupdateProperties({ mentionsLoading: false, mentionsResults: result });\n\t},\n\n\t[FETCH_MENTIONS_FAILURE]: ({ updateProperties, action }) => {\n\t\tconst { result } = action.payload;\n\t\tupdateProperties({\n\t\t\tmentionsResults: result,\n\t\t\tmentionsLoading: false\n\t\t});\n\t}\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport registerComponents from '@devsnc/library-register-components';\nimport defaultConnectedInput, { ConnectedInput } from './ConnectedInput';\n\nregisterComponents(createCustomElement, {\n\t'sn-record-input-connected': { component: defaultConnectedInput }\n});\n\nexport { default as withState } from './withState';\nexport { ConnectedInput };\nexport default defaultConnectedInput;\n","module.exports = __TECTONIC__lodash_4_17_4[\"camelCase\"];","module.exports = __TECTONIC__lodash_4_17_4[\"isEmpty\"];","module.exports = __TECTONIC__lodash_4_17_4[\"isString\"];","module.exports = __TECTONIC__lodash_4_17_4[\"reduce\"];","module.exports = __TECTONIC__lodash_4_17_4[\"startsWith\"];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar ATTRIBUTES = exports.ATTRIBUTES = ['component-id', 'listen-to', 'path', 'context', 'context-modifier', 'key', 'dangerouslySetInnerHTML', 'suppressContentEditableWarning', 'suppressHydrationWarning', 'alt', 'async', 'autocomplete', 'autofocus', 'autoplay', 'capture', 'checked', 'default', 'defer', 'disabled', 'draggable', 'dropzone', 'hidden', 'href', 'hreflang', 'http-equiv', 'icon', 'id', 'is', 'maxlength', 'minlength', 'media', 'method', 'multiple', 'name', 'placeholder', 'readonly', 'rel', 'required', 'reversed', 'role', 'rows', 'rowspan', 'selected', 'slot', 'src', 'tabindex', 'target', 'title', 'type', 'value'];\n\nvar MAPPED_TO_PROPS = exports.MAPPED_TO_PROPS = ['value'];","import { isEmpty } from 'lodash';\n\nexport default (oldObj, newObj) =>\n\tisEmpty(newObj) ? oldObj : { ...oldObj, ...newObj };\n","module.exports = __TECTONIC__$devsnc_library_register_components_19_0_31;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n\tomit,\n\tflowRight,\n\tflow,\n\textend,\n\tisFunction,\n\tidentity,\n\ttoNumber\n} from 'lodash';\n\n// Component Imports\nimport { SNInput, Input } from '@devsnc/sn-record-input';\n\nimport withState from './withState';\nimport inputActionHandlers from './inputActionHandlers';\n\nimport withAutocomplete from './withAutocomplete';\nimport passwordStyle from './password.scss';\nimport {\n\tgetDeclarativeActionsProps,\n\tgetProperty\n} from '@devsnc/sn-controls-common';\nimport '@devsnc/sn-declarative-actions';\nimport { transformMessages, isAttrTrue } from '@devsnc/sn-controls-common';\nimport './mentions';\nimport '@servicenow/now-input';\n\n/**\n * Adds state management and autocomplete to the basic Input component.\n */\nexport class ConnectedInput extends React.PureComponent {\n\tstatic defaultProps = {\n\t\tonValueChange: identity\n\t};\n\n\tisJournal = () => typeof this.props.mentions !== 'undefined';\n\n\tonBlur = event => {\n\t\tif (!this.isJournal()) {\n\t\t\tthis.props.onValueChange({\n\t\t\t\tvalue: this.inputElement.value\n\t\t\t});\n\t\t}\n\n\t\tif (isFunction(this.props.onBlur)) {\n\t\t\tthis.props.onBlur(event);\n\t\t}\n\t};\n\n\tinnerRef = node => {\n\t\tthis.inputElement = node;\n\n\t\tif (isFunction(this.props.innerRef)) {\n\t\t\tthis.props.innerRef(node);\n\t\t}\n\t};\n\n\trenderJournal = () => {\n\t\tconst attrs = flow(\n\t\t\tprops =>\n\t\t\t\tomit(props, [\n\t\t\t\t\t'initialValue',\n\t\t\t\t\t'additionalInfo',\n\t\t\t\t\t'fetchDeclarativeActions',\n\t\t\t\t\t'dependentField',\n\t\t\t\t\t'canWrite',\n\t\t\t\t\t'dependentTable',\n\t\t\t\t\t'displayValue',\n\t\t\t\t\t'declarativeActionsProps'\n\t\t\t\t]),\n\t\t\tprops =>\n\t\t\t\textend(props, {\n\t\t\t\t\tonBlur: this.onBlur,\n\t\t\t\t\tinnerRef: this.innerRef,\n\t\t\t\t\tdebounceAutosize: toNumber(\n\t\t\t\t\t\tgetProperty('glide.ui.textarea.autosize_debounce', 100)\n\t\t\t\t\t),\n\t\t\t\t\tsearchDebounce: props.debounce\n\t\t\t\t})\n\t\t)(this.props);\n\n\t\treturn <sn-record-journal-input {...omit(attrs, ['dispatch'])} />;\n\t};\n\n\t/**\n\t * render\n\t * @return {ReactElement} markup\n\t */\n\trender() {\n\t\tconst declarativeActionsProps = getDeclarativeActionsProps(\n\t\t\tthis.props.declarativeActionsProps,\n\t\t\tthis.props\n\t\t);\n\t\tconst placeholder = this.props.placeholder;\n\t\tconst readonly = isAttrTrue(this.props.readonly);\n\t\tif (this.props.type === 'password') {\n\t\t\treturn (\n\t\t\t\t<now-input-password\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\tlabel={this.props.label}\n\t\t\t\t\tplaceholder={readonly ? '—' : placeholder}\n\t\t\t\t\tonchange={this.onChange}\n\t\t\t\t\trequired={this.props.required}\n\t\t\t\t\treadonly={readonly}\n\t\t\t\t\tinvalid={this.props.invalid}\n\t\t\t\t\tmanageInvalid\n\t\t\t\t\tmanageValue\n\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t\tmessages={transformMessages(this.props.messages)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tconst attrs = flow(\n\t\t\tprops =>\n\t\t\t\tomit(props, [\n\t\t\t\t\t'initialValue',\n\t\t\t\t\t'additionalInfo',\n\t\t\t\t\t'fetchDeclarativeActions',\n\t\t\t\t\t'dependentField',\n\t\t\t\t\t'canWrite',\n\t\t\t\t\t'dependentTable',\n\t\t\t\t\t'displayValue',\n\t\t\t\t\t'declarativeActionsProps',\n\t\t\t\t\t'mentionsLoading',\n\t\t\t\t\t'mentionsResults',\n\t\t\t\t\t'referringTable',\n\t\t\t\t\t'referringRecordId'\n\t\t\t\t]),\n\t\t\tprops =>\n\t\t\t\textend(props, {\n\t\t\t\t\tonBlur: this.onBlur,\n\t\t\t\t\tinnerRef: this.innerRef,\n\t\t\t\t\tdebounceAutosize: toNumber(\n\t\t\t\t\t\tgetProperty('glide.ui.textarea.autosize_debounce', 100)\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t)(this.props);\n\n\t\tattrs.disabled = isAttrTrue(attrs.disabled);\n\n\t\tif (this.isJournal()) {\n\t\t\treturn this.renderJournal();\n\t\t}\n\n\t\treturn (\n\t\t\t<Input {...attrs} componentName=\"sn-record-input-connected\">\n\t\t\t\t{this.props.children}\n\t\t\t\t{this.props.type !== 'textarea' && (\n\t\t\t\t\t<sn-declarative-field-action\n\t\t\t\t\t\tslot=\"controls\"\n\t\t\t\t\t\tmodel={declarativeActionsProps}\n\t\t\t\t\t\tactions={declarativeActionsProps.declarativeUiActions}\n\t\t\t\t\t\tdispatch={this.props.dispatch}\n\t\t\t\t\t\tformData={this.props.formData}\n\t\t\t\t\t\tfetchDeclarativeActions={\n\t\t\t\t\t\t\tdeclarativeActionsProps.fetchDeclarativeActions\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Input>\n\t\t);\n\t}\n}\n\nconst Base = flowRight(withAutocomplete)(ConnectedInput);\n\nconst Component = withState(Base);\n\nexport default Component;\n\nComponent.actionHandlers = {\n\t...Base.actionHandlers,\n\t...inputActionHandlers.actionHandlers\n};\nComponent.style = SNInput.style + ' ' + passwordStyle;\nComponent.propTypes = {\n\t...SNInput.propTypes,\n\n\t/**\n\t * Initial value for the input.\n\t */\n\tinitialValue: PropTypes.string,\n\n\t/**\n\t * Mentions debounce delay before searching\n\t */\n\tdebounce: PropTypes.number,\n\n\t/**\n\t * Disable the field so it can not be used or tabbed to\n\t */\n\tdisabled: PropTypes.bool,\n\n\t/**\n\t * Callback function that is called as the user interacts with the control,\n\t * fired as soon as user interaction has begun. It is not guaranteed to be\n\t * the final or complete value from the user; use `onValueChange` for that.\n\t *\n\t * @param {SyntheticEvent} event The react event that triggered the change.\n\t * This *can* be null when the value has been changed programatically.\n\t *\n\t * @param {String} name The name of the component. This will match the value\n\t * of the `name` component prop.\n\t *\n\t * @param {Any} value The new value.\n\t */\n\tonStagedValueChange: PropTypes.func,\n\n\t/**\n\t * Callback function that is called as the user finishes interacting with\n\t * the control.\n\t *\n\t * @param {SyntheticEvent} event The react event that triggered the change.\n\t * This *can* be null when the value has been changed programatically.\n\t *\n\t * @param {String} name The name of the component. This will match the value\n\t * of the `name` component prop.\n\t *\n\t * @param {Any} value The new value.\n\t */\n\tonValueChange: PropTypes.func,\n\n\t/**\n\t * When true combines with textbox rendering, the component will display a character\n\t * counter showing the amount of characters left.\n\t */\n\tshowCounter: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n\n\t/**\n\t * When rendering a textarea, whether or not to show the resize handle.\n\t */\n\tresizable: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n\n\t/**\n\t * When true, the component will automatically suggest possible values to the\n\t * user while they interact with the component.\n\t */\n\tautocomplete: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n\n\t/**\n\t * Array of possible values that can be suggested to the user. Requires `autocomplete=\"true\"`.\n\t */\n\tautocompleteOptions: PropTypes.arrayOf(PropTypes.string),\n\n\t/**\n\t * When true, autocomplete options that match the input in any location will\n\t * be suggested.  When false, the autocomplete option must start with the\n\t * search string to be considered a match. Requires `autocomplete=\"true\"`\n\t */\n\tautocompleteMatchAnywhere: PropTypes.bool,\n\n\t/**\n\t * Name of the table the record is listed in\n\t */\n\treferringTable: PropTypes.string,\n\n\t/**\n\t * record id of the current record where the field is located\n\t */\n\treferringRecordId: PropTypes.string,\n\n\t/**\n\t * Name of the field\n\t */\n\tfieldName: PropTypes.any,\n\n\t/**\n\t * sys_id of the current record where the field is located\n\t */\n\trecordSysId: PropTypes.any,\n\n\t/**\n\t * Each mention will run a GraphQL lookup for a given query each time\n\t * a prefix key is typed. Typically used for looking up users when typing the `@` key.\n\t */\n\tmentions: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.arrayOf(PropTypes.object)\n\t]),\n\n\tfallbackDropdownBehavior: PropTypes.bool,\n\n\t/**\n\t * Declarative Actions Props\n\t */\n\tdeclarativeActionsProps: PropTypes.object,\n\n\t/**\n\t * Determines if a mentions GraphQL is running\n\t */\n\tmentionsLoading: PropTypes.bool,\n\n\t/**\n\t * Results returned from a mentions GraphQL request\n\t */\n\tmentionsResults: PropTypes.array,\n\n\t/**\n\t * Determines the type of input to render, text, textarea, or journal\n\t */\n\n\ttype: PropTypes.string,\n\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched on blur.\n\t\t * @type {{ value: string, error: { type: string, message: string } }}\n\t\t */\n\t\t'NOW_RECORD_PASSWORD#VALUE_CHANGED': {}\n\t}\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports = __TECTONIC__$devsnc_sn_record_input;","import { isFunction, get, merge } from 'lodash';\nimport { adaptCallbackForLegacyAPI } from '@devsnc/sn-controls-common';\nconst NOW_INPUT_PASSWORD_VALUE_SET = 'NOW_INPUT_PASSWORD#VALUE_SET';\nconst NOW_INPUT_PASSWORD_INVALID_SET = 'NOW_INPUT_PASSWORD#INVALID_SET';\nconst NOW_TEXTAREA_VALUE_SET = 'NOW_TEXTAREA#VALUE_SET';\nconst NOW_TEXTAREA_INVALID_SET = 'NOW_TEXTAREA#INVALID_SET';\n\nconst passwordChangeEffect = ({ action, dispatch, state }) => {\n\tconst { name, value } = action.payload;\n\tconst onValueChange = adaptCallbackForLegacyAPI(\n\t\tstate.properties.onValueChange\n\t);\n\tif (onValueChange) {\n\t\tonValueChange({ name, value });\n\t} else {\n\t\tdispatch('NOW_RECORD_PASSWORD#VALUE_CHANGED', action.payload);\n\t}\n};\nconst passwordInvalidEffect = payload => {\n\tconst fieldValue = get(payload, 'action.payload.fieldValue', '');\n\tpasswordChangeEffect(\n\t\tmerge(payload, { action: { payload: { value: fieldValue } } })\n\t);\n};\nconst textareaChangeEffect = ({ action, dispatch, state }) => {\n\tconst { name, value } = action.payload;\n\tconst onValueChange = adaptCallbackForLegacyAPI(\n\t\tstate.properties.onValueChange\n\t);\n\tif (isFunction(onValueChange)) {\n\t\tonValueChange({ name, value });\n\t} else {\n\t\tdispatch('NOW_RECORD_INPUT_CONNECTED#VALUE_CHANGED', action.payload);\n\t}\n};\nconst textareaInvalidEffect = payload => {\n\tconst fieldValue = get(payload, 'action.payload.fieldValue', '');\n\ttextareaChangeEffect(\n\t\tmerge(payload, { action: { payload: { value: fieldValue } } })\n\t);\n};\nexport default {\n\tactionHandlers: {\n\t\t[NOW_INPUT_PASSWORD_VALUE_SET]: {\n\t\t\teffect: passwordChangeEffect,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_INPUT_PASSWORD_INVALID_SET]: {\n\t\t\teffect: passwordInvalidEffect,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_TEXTAREA_VALUE_SET]: {\n\t\t\teffect: textareaChangeEffect,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_TEXTAREA_INVALID_SET]: {\n\t\t\teffect: textareaInvalidEffect,\n\t\t\tstopPropagation: true\n\t\t}\n\t}\n};\n","// Third Party Imports\nimport React from 'react';\nimport {\n\tnoop,\n\tmap,\n\tfilter,\n\tflow,\n\tomit,\n\textend,\n\tisEmpty,\n\tisFunction,\n\tsize\n} from 'lodash';\n\n// Internal Function Imports\nimport {\n\tgetSelectedItems,\n\tisEditable,\n\tgenerateSubComponentIds,\n\twithValueChangeCallbacks\n} from '@devsnc/sn-controls-common';\n\n// Component Imports\nimport { OptionsList, Dropdown } from '@devsnc/sn-options-list';\n\nconst toValueObject = str => ({ value: str, displayValue: str });\n\n/**\n * Adds state management and autocomplete to the basic Input component.\n */\nexport default Component =>\n\twithValueChangeCallbacks(\n\t\tclass Autocomplete extends React.Component {\n\t\t\tstatic defaultProps = {\n\t\t\t\tonValueChange: noop\n\t\t\t};\n\n\t\t\tstatic actionHandlers = Component.actionHandlers;\n\n\t\t\t/**\n\t\t\t * constructor\n\t\t\t * @param {object} props\n\t\t\t */\n\t\t\tconstructor(props) {\n\t\t\t\tsuper(props);\n\n\t\t\t\t/**\n\t\t\t\t * local state of the input for highlighting and user interaction\n\t\t\t\t *\n\t\t\t\t * @param {string} initialValue - initial value for the component (duh)\n\t\t\t\t * @param {bool} isActive - toggle if the options are active\n\t\t\t\t * @param {array} options - list of avalable options\n\t\t\t\t * @param {number} selectedSearchResult - selected option index\n\t\t\t\t */\n\t\t\t\tthis.state = {\n\t\t\t\t\tisActive: false,\n\t\t\t\t\toptions: props.autocompleteOptions || [],\n\t\t\t\t\tselectedSearchResult: -1\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tsupportsDropdown = () => {\n\t\t\t\tconst { autocompleteOptions } = this.props;\n\t\t\t\treturn !isEmpty(autocompleteOptions) && isEditable(this.props);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * function that filters out the autoComplete options by the value user has entered\n\t\t\t * @param {array} autocompleteOptions list of options\n\t\t\t * @param {bool} autocompleteMatchAnywhere qualifier for type of search\n\t\t\t * @returns {array} filtered list of options\n\t\t\t */\n\t\t\tfilterStaticOptions = (\n\t\t\t\tautocompleteOptions,\n\t\t\t\tautocompleteMatchAnywhere,\n\t\t\t\tvalue = ''\n\t\t\t) => {\n\t\t\t\tconst matcher = autocompleteMatchAnywhere ? 'includes' : 'startsWith';\n\t\t\t\tconst lowerCaseInput = value.toLowerCase();\n\t\t\t\treturn autocompleteOptions\n\t\t\t\t\t? filter(autocompleteOptions, opt =>\n\t\t\t\t\t\t\topt.toLowerCase()[matcher](lowerCaseInput)\n\t\t\t\t\t  )\n\t\t\t\t\t: this.state.options;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * function pushes a new value and displayValue\n\t\t\t * @param {string} value\n\t\t\t * @param {string} displayValue\n\t\t\t */\n\t\t\tcloseDropdown = () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisActive: false\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * callback for keyboard events that interact with the dropdown\n\t\t\t * @param {object} event onKeyDown event object\n\t\t\t */\n\t\t\tonKeyDown = event => {\n\t\t\t\tlet { key } = event;\n\t\t\t\tlet { options, selectedSearchResult } = this.state;\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tselectedSearchResult: getSelectedItems(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t[selectedSearchResult],\n\t\t\t\t\t\t\t\tsize(options)\n\t\t\t\t\t\t\t)[0]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Escape':\n\t\t\t\t\t\tthis.setState({ selectedSearchResult: -1, isActive: false });\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isFunction(this.props.onKeyDown)) {\n\t\t\t\t\tthis.props.onKeyDown(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * callback to add a new value based on keyboard enter\n\t\t\t * @param {object} event onKeyUp event object\n\t\t\t */\n\t\t\tonKeyUp = event => {\n\t\t\t\tlet { key } = event;\n\t\t\t\tif (key === 'Enter') {\n\t\t\t\t\tconst { options, selectedSearchResult, isActive } = this.state;\n\t\t\t\t\tif (isActive) {\n\t\t\t\t\t\tconst item = options[selectedSearchResult];\n\t\t\t\t\t\tif (item) this.selectOption(item);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ isActive: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isFunction(this.props.onKeyUp)) {\n\t\t\t\t\tthis.props.onKeyUp(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * onChange callback passed to the input to indicate when a user has entered a value and we potentially\n\t\t\t * want to show autocomplete options\n\t\t\t * @param {object} event onChange event object\n\t\t\t */\n\t\t\tonChange = event => {\n\t\t\t\tconst value = event.target.value;\n\t\t\t\tconst { autocompleteOptions, autocompleteMatchAnywhere } = this.props;\n\n\t\t\t\tlet newState = {\n\t\t\t\t\tisActive: !isEmpty(value),\n\t\t\t\t\tselectedSearchResult: -1\n\t\t\t\t};\n\t\t\t\tif (\n\t\t\t\t\tautocompleteOptions &&\n\t\t\t\t\tArray.isArray(autocompleteOptions) &&\n\t\t\t\t\tautocompleteOptions.length > 0\n\t\t\t\t) {\n\t\t\t\t\tnewState.options = this.filterStaticOptions(\n\t\t\t\t\t\tautocompleteOptions,\n\t\t\t\t\t\tautocompleteMatchAnywhere,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t);\n\t\t\t\t\tnewState.isActive = newState.isActive && newState.options.length > 0;\n\t\t\t\t}\n\t\t\t\tthis.setState(newState);\n\n\t\t\t\tif (isFunction(this.props.onChange)) this.props.onChange(event);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * callback thats passed to input to indicate blur state\n\t\t\t * @param {object} event onBlur event object\n\t\t\t */\n\t\t\tonBlur = event => {\n\t\t\t\tthis.closeDropdown();\n\n\t\t\t\tif (isFunction(this.props.onBlur)) {\n\t\t\t\t\tthis.props.onBlur(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tinnerRef = node => {\n\t\t\t\tthis.inputElement = node;\n\n\t\t\t\tif (isFunction(this.props.innerRef)) {\n\t\t\t\t\tthis.props.innerRef(node);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * callback to set a hovered element as selected\n\t\t\t * @param {number} optionIndex index of the hovered option\n\t\t\t */\n\t\t\tonHoverOption = optionIndex => {\n\t\t\t\tthis.setState({ selectedSearchResult: optionIndex });\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * callback thats passed to OptionsList to set a new value based on the option clicked\n\t\t\t * @param {string} value index of a pill to be removed\n\t\t\t */\n\t\t\tselectOption = value => {\n\t\t\t\tthis.props.onValueChange({ value });\n\t\t\t\tthis.closeDropdown();\n\t\t\t\tthis.inputElement.focus();\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * update local state based off new prop rules\n\t\t\t */\n\t\t\tcomponentWillReceiveProps = newProps => {\n\t\t\t\tconst {\n\t\t\t\t\tautocompleteOptions,\n\t\t\t\t\tautocompleteMatchAnywhere,\n\t\t\t\t\tvalue\n\t\t\t\t} = newProps;\n\t\t\t\tlet newState = {};\n\n\t\t\t\tif (\n\t\t\t\t\tautocompleteOptions !== this.props.autocompleteOptions ||\n\t\t\t\t\tautocompleteMatchAnywhere !== this.props.autocompleteMatchAnywhere\n\t\t\t\t) {\n\t\t\t\t\tnewState.options = this.filterStaticOptions(\n\t\t\t\t\t\tautocompleteOptions,\n\t\t\t\t\t\tautocompleteMatchAnywhere,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tthis.setState(newState);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * function to filter passed in props and convert them to HTML input attributes\n\t\t\t * @return {object} input html attributes\n\t\t\t */\n\t\t\tgetAttributes = () => {\n\t\t\t\treturn flow(\n\t\t\t\t\tprops =>\n\t\t\t\t\t\tomit(props, [\n\t\t\t\t\t\t\t'autocomplete',\n\t\t\t\t\t\t\t'autocompleteOptions',\n\t\t\t\t\t\t\t'autocompleteMatchAnywhere'\n\t\t\t\t\t\t]),\n\t\t\t\t\tprops => {\n\t\t\t\t\t\tif (!this.supportsDropdown()) {\n\t\t\t\t\t\t\treturn props;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst dropdown = this.getDropdown();\n\t\t\t\t\t\tconst ids = generateSubComponentIds(this.props.componentId, {\n\t\t\t\t\t\t\toptions: size(this.props.options)\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst activeDescendant = dropdown\n\t\t\t\t\t\t\t? ids.options[this.state.selectedSearchResult]\n\t\t\t\t\t\t\t: undefined;\n\n\t\t\t\t\t\treturn extend(props, {\n\t\t\t\t\t\t\tdropdown,\n\t\t\t\t\t\t\tonBlur: this.onBlur,\n\t\t\t\t\t\t\tonChange: this.onChange,\n\t\t\t\t\t\t\tonKeyDown: this.onKeyDown,\n\t\t\t\t\t\t\tonKeyUp: this.onKeyUp,\n\t\t\t\t\t\t\tinnerRef: this.innerRef,\n\t\t\t\t\t\t\t'aria-owns': dropdown && ids.dropdown,\n\t\t\t\t\t\t\t'aria-haspopup': 'listbox',\n\t\t\t\t\t\t\t'aria-autocomplete': 'list',\n\t\t\t\t\t\t\t'aria-expanded': this.state.isActive,\n\t\t\t\t\t\t\t'aria-activedescendant': activeDescendant\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t)(this.props);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * assemble the dropdown markup based on passed in props\n\t\t\t * @return {ReactElement} markup\n\t\t\t */\n\t\t\tgetDropdown = () => {\n\t\t\t\tlet { componentId } = this.props;\n\t\t\t\tlet { isActive, options, selectedSearchResult } = this.state;\n\t\t\t\tif (isActive) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t<OptionsList\n\t\t\t\t\t\t\t\tparentId={componentId}\n\t\t\t\t\t\t\t\toptions={map(options, toValueObject)}\n\t\t\t\t\t\t\t\tselectedSearchResults={[selectedSearchResult]}\n\t\t\t\t\t\t\t\tonClick={this.selectOption}\n\t\t\t\t\t\t\t\tonHover={this.onHoverOption}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * render\n\t\t\t * @return {ReactElement} markup\n\t\t\t */\n\t\t\trender() {\n\t\t\t\treturn <Component {...this.getAttributes()} />;\n\t\t\t}\n\t\t}\n\t);\n","module.exports = __TECTONIC__$devsnc_sn_options_list;","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./password.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"now-input-password{margin-block:.5rem;width:100%}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$devsnc_sn_declarative_actions;","import { createCustomElement } from '@servicenow/ui-core';\nimport React from 'react';\nimport react from '@servicenow/ui-renderer-react';\nimport { omit, flow, extend, isFunction } from 'lodash';\n\nimport Input from './Input';\nimport { actionHandlers } from './mentionsActionHandlers';\n\nimport withMentions from './withMentions';\nimport { transformState, ForwardProperties } from '@devsnc/sn-controls-common';\n\nimport inputStyles from './journal-input.scss';\nimport mentionsStyles from './mentions.scss';\n\nconst JournalInput = withMentions(\n\tclass extends React.PureComponent {\n\t\tonBlur = event => {\n\t\t\tthis.props.onValueChange({\n\t\t\t\tvalue: this.inputElement.value\n\t\t\t});\n\n\t\t\tif (isFunction(this.props.onBlur)) {\n\t\t\t\tthis.props.onBlur(event);\n\t\t\t}\n\t\t};\n\n\t\tinnerRef = node => {\n\t\t\tthis.inputElement = node;\n\n\t\t\tif (isFunction(this.props.innerRef)) {\n\t\t\t\tthis.props.innerRef(node);\n\t\t\t}\n\t\t};\n\n\t\trender() {\n\t\t\tconst attrs = flow(\n\t\t\t\tprops =>\n\t\t\t\t\tomit(props, [\n\t\t\t\t\t\t'initialValue',\n\t\t\t\t\t\t'additionalInfo',\n\t\t\t\t\t\t'fetchDeclarativeActions',\n\t\t\t\t\t\t'dependentField',\n\t\t\t\t\t\t'canWrite',\n\t\t\t\t\t\t'dependentTable',\n\t\t\t\t\t\t'displayValue',\n\t\t\t\t\t\t'declarativeActionsProps',\n\t\t\t\t\t\t'mentionsLoading',\n\t\t\t\t\t\t'mentionsResults',\n\t\t\t\t\t\t'referringTable',\n\t\t\t\t\t\t'referringRecordId',\n\t\t\t\t\t\t'searchDebounce'\n\t\t\t\t\t]),\n\t\t\t\tprops =>\n\t\t\t\t\textend(props, {\n\t\t\t\t\t\tonBlur: this.onBlur,\n\t\t\t\t\t\tinnerRef: this.innerRef\n\t\t\t\t\t})\n\t\t\t)(this.props);\n\n\t\t\treturn <Input {...attrs} componentName=\"sn-record-input-connected\" />;\n\t\t}\n\t}\n);\n\ncreateCustomElement('sn-record-journal-input', {\n\trenderer: {\n\t\ttype: react,\n\t\tview: ForwardProperties(JournalInput)\n\t},\n\tproperties: {\n\t\tname: { schema: { type: 'string' } },\n\t\tinitialValue: { schema: { type: 'string' } },\n\t\tvalue: { schema: { type: 'string' } },\n\t\tdisplayValue: { schema: { type: 'string' } },\n\t\tlabel: { schema: { type: 'string' } },\n\t\tplaceholder: { schema: { type: 'string' } },\n\t\tmessages: {},\n\t\treadonly: { default: false, schema: { type: 'boolean' } },\n\t\trequired: { default: false, schema: { type: 'boolean' } },\n\t\tinvalid: { default: false, schema: { type: 'boolean' } },\n\t\tdescription: {},\n\t\tonValueChange: {},\n\t\tonStagedValueChange: {},\n\t\tonFocus: {},\n\t\tonBlur: {},\n\t\tinnerRef: {},\n\t\tvariant: { schema: { type: 'string' } },\n\t\tresizable: { default: false, schema: { type: 'boolean' } },\n\t\tmentions: { schema: { anyOf: [{ type: 'object' }, { type: 'array' }] } },\n\t\tmentionsLoading: {},\n\t\tmentionsResults: {},\n\t\tsearchDebounce: { schema: { type: 'number' } },\n\t\treferringTable: { schema: { type: 'string' } },\n\t\treferringRecordId: { schema: { type: 'string' } }\n\t},\n\tactionHandlers,\n\tstyles: inputStyles + mentionsStyles,\n\ttransformState\n});\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { isFunction, transform, omit, flow, keys, toString } from 'lodash';\nimport reactAttrConvert from 'react-attr-converter';\n\nimport Textarea from './Textarea';\nimport FieldAndDropdownWrapper from '@devsnc/sn-field-and-dropdown-wrapper';\n\nimport react from '@servicenow/ui-renderer-react';\nimport {\n\tFocusWatcher,\n\tShadyDOMEventFixer,\n\tcheckAutofocus,\n\tcontrolledFieldPropTypes,\n\tseismicComponentPropTypes,\n\tisAttrTrue,\n\tcastIfBoolean,\n\taccessibilityAttributes,\n\twithValueChangeCallbacks\n} from '@devsnc/sn-controls-common';\n\nconst { createSlot } = react;\n// Prop names that do not get forwarded to child components\nconst REMOVED_PROPS = [\n\t'autofocus', // handled in componentDidMount instead, see below\n\t'onValueChange',\n\t'onStagedValueChange',\n\t'analyticsEnabled',\n\t'analyticsRate',\n\t'analyticsBlacklist',\n\t'analyticsId',\n\t'innerRef',\n\t'dropdown',\n\t'showDropdownWithoutFocus',\n\t'reversed',\n\t'children',\n\t'invalid',\n\t'required',\n\t'label',\n\t'messages',\n\t'description',\n\t'showCounter',\n\t'onBlur', // handled by FocusWatcher\n\t'handleOutsideScrollFocus',\n\t'fallbackDropdownBehavior',\n\t'ignoreDropdown',\n\t'functionDisplay',\n\t'componentRef',\n\t'componentId',\n\t'componentName',\n\t'helpers',\n\t'hoistAppendTo',\n\t'ariaLabel',\n\t'ariaLabelledby',\n\t'ariaDescribedby',\n\t'configAria',\n\t'referenceTable',\n\t'recordSysId',\n\t'fieldName',\n\t'tableName',\n\t'fieldType',\n\t'fetchDeclarativeActions',\n\t'declarativeUiActions',\n\t'formData',\n\t'nowHoist',\n\t'nowHoistAppendTo',\n\t'nowHoistPrependTo',\n\t'nowId',\n\t'nowMode',\n\t'nowName',\n\t...keys(seismicComponentPropTypes)\n];\n\nexport class Input extends React.PureComponent {\n\tstate = {\n\t\thasFocus: false,\n\t\thasHover: false,\n\t\tvalue: this.props.value\n\t};\n\n\t// Dropdowns will initially render hidden so that we can position them\n\t// without a FOUC. Not using a state variable because we show/hide the DOM\n\t// element directly without triggering multiple React renders.\n\tdropdownVisible = false;\n\n\tcomponentDidMount() {\n\t\t// Uses the `this.focus()` method of this instance rather than focus method\n\t\t// from HTMLElement\n\t\tcheckAutofocus(this.props.autofocus, this);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t// When re-rendering from an onChange, it first renders\n\t\t// with the old value in nextProps.value and then has a\n\t\t// 2nd render with the updated value.\n\t\t// Workaround it by skipping setState when we know it's from\n\t\t// our internal input onChange\n\t\tif (this.changeFromInput) {\n\t\t\tthis.changeFromInput = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (nextProps.value !== this.state.value) {\n\t\t\tthis.setState({\n\t\t\t\tvalue: nextProps.value\n\t\t\t});\n\t\t}\n\t}\n\n\tsetInnerRef = node => {\n\t\tlet { innerRef } = this.props;\n\t\tthis.inputElement = node;\n\t\tif (isFunction(innerRef)) {\n\t\t\tinnerRef(node);\n\t\t}\n\t};\n\n\tfocus = () => {\n\t\t// Ensure focus starts at the end of the input\n\t\tconst length = this.inputElement.value.length;\n\t\tthis.inputElement.setSelectionRange(length, length);\n\t\tthis.inputElement.focus();\n\t};\n\n\tonFocus = event => {\n\t\tthis.setState({\n\t\t\thasFocus: true\n\t\t});\n\n\t\tif (isFunction(this.props.onFocus)) {\n\t\t\tthis.props.onFocus(event);\n\t\t}\n\t};\n\n\tonBlur = event => {\n\t\tthis.setState({\n\t\t\thasFocus: false\n\t\t});\n\n\t\tif (isFunction(this.props.onBlur)) {\n\t\t\tthis.props.onBlur(event);\n\t\t}\n\t};\n\n\tonMouseOver = event => {\n\t\tthis.setState({\n\t\t\thasHover: true\n\t\t});\n\n\t\tif (isFunction(this.props.onMouseOver)) {\n\t\t\tthis.props.onMouseOver(event);\n\t\t}\n\t};\n\n\tonMouseOut = event => {\n\t\tthis.setState({\n\t\t\thasHover: false\n\t\t});\n\n\t\tif (isFunction(this.props.onMouseOut)) {\n\t\t\tthis.props.onMouseOut(event);\n\t\t}\n\t};\n\n\tonChange = event => {\n\t\tconst value = event.target.value;\n\t\tthis.changeFromInput = true;\n\t\tthis.setState({ value });\n\t\tthis.props.onValueChange({\n\t\t\tevent,\n\t\t\tvalue\n\t\t});\n\n\t\tif (isFunction(this.props.onChange)) {\n\t\t\tthis.props.onChange(event);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst attrs = flow(\n\t\t\tprops => omit(props, REMOVED_PROPS),\n\t\t\tprops =>\n\t\t\t\ttransform(props, (result, value, key) => {\n\t\t\t\t\tresult[reactAttrConvert(key)] = castIfBoolean(value);\n\t\t\t\t})\n\t\t)(this.props);\n\n\t\tconst showCounter = isAttrTrue(this.props.showCounter);\n\n\t\tattrs.dir = isAttrTrue(this.props.reversed) ? 'rtl' : null;\n\n\t\t// handle blurring on outside-scroll when using new dropdown behavior + has dropdown\n\t\tconst handleOutsideScroll =\n\t\t\t!this.props.fallbackDropdownBehavior &&\n\t\t\t(this.props.handleOutsideScrollFocus || !!this.props.dropdown);\n\t\tconst placeholder = this.props.readonly ? '—' : this.props.placeholder;\n\n\t\treturn (\n\t\t\t<FocusWatcher\n\t\t\t\tonBlur={this.onBlur}\n\t\t\t\thandleOutsideScroll={handleOutsideScroll}\n\t\t\t>\n\t\t\t\t{setFocusTarget => (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<FieldAndDropdownWrapper\n\t\t\t\t\t\t\t{...omit(this.props, ['componentName'])}\n\t\t\t\t\t\t\tdropdown={\n\t\t\t\t\t\t\t\tthis.state.hasFocus || this.props.showDropdownWithoutFocus\n\t\t\t\t\t\t\t\t\t? this.props.dropdown\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasFocus={this.state.hasFocus}\n\t\t\t\t\t\t\thasHover={this.state.hasHover}\n\t\t\t\t\t\t\tdropdownRef={setFocusTarget('dropdown')}\n\t\t\t\t\t\t\tfallbackDropdownBehavior={this.props.fallbackDropdownBehavior}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{createSlot(this.props.children, 'left')}\n\t\t\t\t\t\t\t<ShadyDOMEventFixer>\n\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t{...accessibilityAttributes(this.props)}\n\t\t\t\t\t\t\t\t\t{...attrs}\n\t\t\t\t\t\t\t\t\t// STRY4883444: When showing character counter, do not enforce a maxLength\n\t\t\t\t\t\t\t\t\tmaxLength={showCounter ? undefined : this.props.maxlength}\n\t\t\t\t\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\t\t\t\t\trole={this.props.role || 'textbox'}\n\t\t\t\t\t\t\t\t\tid={this.props.componentId}\n\t\t\t\t\t\t\t\t\tname={this.props.name}\n\t\t\t\t\t\t\t\t\tvalue={toString(this.state.value)}\n\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\tonMouseOver={this.onMouseOver}\n\t\t\t\t\t\t\t\t\tresizable={this.props.readonly ? false : this.props.resizable}\n\t\t\t\t\t\t\t\t\tonMouseOut={this.onMouseOut}\n\t\t\t\t\t\t\t\t\tinnerRef={node => {\n\t\t\t\t\t\t\t\t\t\tsetFocusTarget('input')(node);\n\t\t\t\t\t\t\t\t\t\tthis.setInnerRef(node);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ShadyDOMEventFixer>\n\t\t\t\t\t\t\t<div className=\"sn-control-controls\">\n\t\t\t\t\t\t\t\t{createSlot(this.props.children, 'controls')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</FieldAndDropdownWrapper>\n\t\t\t\t\t\t{showCounter && (\n\t\t\t\t\t\t\t<CharacterCounter\n\t\t\t\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\t\t\t\tmaxlength={this.props.maxlength}\n\t\t\t\t\t\t\t\treadonly={this.props.readonly}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</FocusWatcher>\n\t\t);\n\t}\n}\n\nInput.propTypes = {\n\t...controlledFieldPropTypes,\n\n\t/**\n\t * Content to use as controls (inline buttons)\n\t */\n\tchildren: PropTypes.node,\n\n\t/**\n\t * Content to use as dropdown\n\t */\n\tdropdown: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n\n\t/**\n\t * Content to use as the label\n\t */\n\tlabel: PropTypes.node,\n\n\t/**\n\t * When rendering a textarea, the number of character rows that should be\n\t * displayed.\n\t */\n\trows: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\n\t/**\n\t * When rendering a textarea, the number of character columns that should be\n\t * displayed.\n\t */\n\tcols: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\n\t/**\n\t * Wrap rendering a textarea, this specifies how text should be wrapped.\n\t */\n\twrap: PropTypes.string,\n\n\t/**\n\t * The `role` of the input element\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * When provided, aligns the input text to the end of the input.\n\t */\n\talign: PropTypes.oneOf(['end']),\n\n\t/**\n\t * Maximum number of characters to allow in the input.\n\t */\n\tmaxlength: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t/**\n\t * When true, the input will be focused immediately upon being rendered.\n\t */\n\tautofocus: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\n\t/**\n\t * When rendering a textarea, whether or not to show a character counter.\n\t */\n\tshowCounter: PropTypes.bool,\n\n\t/**\n\t * Whether FocusWatcher should listen for outside scroll event\n\t */\n\thandleOutsideScrollFocus: PropTypes.bool,\n\n\t/**\n\t * Handle dropdowns the old way\n\t */\n\tfallbackDropdownBehavior: PropTypes.bool\n};\n\nexport default withValueChangeCallbacks(Input);\n","'use strict';\n\n// Copied from https://facebook.github.io/react/docs/dom-elements.html\nvar map = {\n  // Specials\n  for: 'htmlFor',\n  class: 'className',\n\n  // HTML attributes\n  accept: 'accept',\n  acceptcharset: 'acceptCharset',\n  accesskey: 'accessKey',\n  action: 'action',\n  allowfullscreen: 'allowFullScreen',\n  allowtransparency: 'allowTransparency',\n  alt: 'alt',\n  async: 'async',\n  autocomplete: 'autoComplete',\n  autofocus: 'autoFocus',\n  autoplay: 'autoPlay',\n  capture: 'capture',\n  cellpadding: 'cellPadding',\n  cellspacing: 'cellSpacing',\n  challenge: 'challenge',\n  charset: 'charSet',\n  checked: 'checked',\n  cite: 'cite',\n  classid: 'classID',\n  classname: 'className',\n  colspan: 'colSpan',\n  cols: 'cols',\n  content: 'content',\n  contenteditable: 'contentEditable',\n  contextmenu: 'contextMenu',\n  controls: 'controls',\n  coords: 'coords',\n  crossorigin: 'crossOrigin',\n  data: 'data',\n  datetime: 'dateTime',\n  default: 'default',\n  defer: 'defer',\n  dir: 'dir',\n  disabled: 'disabled',\n  download: 'download',\n  draggable: 'draggable',\n  enctype: 'encType',\n  form: 'form',\n  formaction: 'formAction',\n  formenctype: 'formEncType',\n  formmethod: 'formMethod',\n  formnovalidate: 'formNoValidate',\n  formtarget: 'formTarget',\n  frameborder: 'frameBorder',\n  headers: 'headers',\n  height: 'height',\n  hidden: 'hidden',\n  high: 'high',\n  href: 'href',\n  hreflang: 'hrefLang',\n  htmlfor: 'htmlFor',\n  httpequiv: 'httpEquiv',\n  icon: 'icon',\n  id: 'id',\n  inputmode: 'inputMode',\n  integrity: 'integrity',\n  is: 'is',\n  keyparams: 'keyParams',\n  keytype: 'keyType',\n  kind: 'kind',\n  label: 'label',\n  lang: 'lang',\n  list: 'list',\n  loop: 'loop',\n  low: 'low',\n  manifest: 'manifest',\n  marginheight: 'marginHeight',\n  marginwidth: 'marginWidth',\n  max: 'max',\n  maxlength: 'maxLength',\n  media: 'media',\n  mediagroup: 'mediaGroup',\n  method: 'method',\n  min: 'min',\n  minlength: 'minLength',\n  multiple: 'multiple',\n  muted: 'muted',\n  name: 'name',\n  novalidate: 'noValidate',\n  nonce: 'nonce',\n  open: 'open',\n  optimum: 'optimum',\n  pattern: 'pattern',\n  placeholder: 'placeholder',\n  poster: 'poster',\n  preload: 'preload',\n  profile: 'profile',\n  radiogroup: 'radioGroup',\n  readonly: 'readOnly',\n  rel: 'rel',\n  required: 'required',\n  reversed: 'reversed',\n  role: 'role',\n  rowspan: 'rowSpan',\n  rows: 'rows',\n  sandbox: 'sandbox',\n  scope: 'scope',\n  scoped: 'scoped',\n  scrolling: 'scrolling',\n  seamless: 'seamless',\n  selected: 'selected',\n  shape: 'shape',\n  size: 'size',\n  sizes: 'sizes',\n  span: 'span',\n  spellcheck: 'spellCheck',\n  src: 'src',\n  srcdoc: 'srcDoc',\n  srclang: 'srcLang',\n  srcset: 'srcSet',\n  start: 'start',\n  step: 'step',\n  style: 'style',\n  summary: 'summary',\n  tabindex: 'tabIndex',\n  target: 'target',\n  title: 'title',\n  type: 'type',\n  usemap: 'useMap',\n  value: 'value',\n  width: 'width',\n  wmode: 'wmode',\n  wrap: 'wrap',\n\n  // SVG attributes\n  accentheight: 'accentHeight',\n  accumulate: 'accumulate',\n  additive: 'additive',\n  alignmentbaseline: 'alignmentBaseline',\n  allowreorder: 'allowReorder',\n  alphabetic: 'alphabetic',\n  amplitude: 'amplitude',\n  arabicform: 'arabicForm',\n  ascent: 'ascent',\n  attributename: 'attributeName',\n  attributetype: 'attributeType',\n  autoreverse: 'autoReverse',\n  azimuth: 'azimuth',\n  basefrequency: 'baseFrequency',\n  baseprofile: 'baseProfile',\n  baselineshift: 'baselineShift',\n  bbox: 'bbox',\n  begin: 'begin',\n  bias: 'bias',\n  by: 'by',\n  calcmode: 'calcMode',\n  capheight: 'capHeight',\n  clip: 'clip',\n  clippath: 'clipPath',\n  clippathunits: 'clipPathUnits',\n  cliprule: 'clipRule',\n  colorinterpolation: 'colorInterpolation',\n  colorinterpolationfilters: 'colorInterpolationFilters',\n  colorprofile: 'colorProfile',\n  colorrendering: 'colorRendering',\n  contentscripttype: 'contentScriptType',\n  contentstyletype: 'contentStyleType',\n  cursor: 'cursor',\n  cx: 'cx',\n  cy: 'cy',\n  d: 'd',\n  decelerate: 'decelerate',\n  descent: 'descent',\n  diffuseconstant: 'diffuseConstant',\n  direction: 'direction',\n  display: 'display',\n  divisor: 'divisor',\n  dominantbaseline: 'dominantBaseline',\n  dur: 'dur',\n  dx: 'dx',\n  dy: 'dy',\n  edgemode: 'edgeMode',\n  elevation: 'elevation',\n  enablebackground: 'enableBackground',\n  end: 'end',\n  exponent: 'exponent',\n  externalresourcesrequired: 'externalResourcesRequired',\n  fill: 'fill',\n  fillopacity: 'fillOpacity',\n  fillrule: 'fillRule',\n  filter: 'filter',\n  filterres: 'filterRes',\n  filterunits: 'filterUnits',\n  floodcolor: 'floodColor',\n  floodopacity: 'floodOpacity',\n  focusable: 'focusable',\n  fontfamily: 'fontFamily',\n  fontsize: 'fontSize',\n  fontsizeadjust: 'fontSizeAdjust',\n  fontstretch: 'fontStretch',\n  fontstyle: 'fontStyle',\n  fontvariant: 'fontVariant',\n  fontweight: 'fontWeight',\n  format: 'format',\n  from: 'from',\n  fx: 'fx',\n  fy: 'fy',\n  g1: 'g1',\n  g2: 'g2',\n  glyphname: 'glyphName',\n  glyphorientationhorizontal: 'glyphOrientationHorizontal',\n  glyphorientationvertical: 'glyphOrientationVertical',\n  glyphref: 'glyphRef',\n  gradienttransform: 'gradientTransform',\n  gradientunits: 'gradientUnits',\n  hanging: 'hanging',\n  horizadvx: 'horizAdvX',\n  horizoriginx: 'horizOriginX',\n  ideographic: 'ideographic',\n  imagerendering: 'imageRendering',\n  in: 'in',\n  in2: 'in2',\n  intercept: 'intercept',\n  k: 'k',\n  k1: 'k1',\n  k2: 'k2',\n  k3: 'k3',\n  k4: 'k4',\n  kernelmatrix: 'kernelMatrix',\n  kernelunitlength: 'kernelUnitLength',\n  kerning: 'kerning',\n  keypoints: 'keyPoints',\n  keysplines: 'keySplines',\n  keytimes: 'keyTimes',\n  lengthadjust: 'lengthAdjust',\n  letterspacing: 'letterSpacing',\n  lightingcolor: 'lightingColor',\n  limitingconeangle: 'limitingConeAngle',\n  local: 'local',\n  markerend: 'markerEnd',\n  markerheight: 'markerHeight',\n  markermid: 'markerMid',\n  markerstart: 'markerStart',\n  markerunits: 'markerUnits',\n  markerwidth: 'markerWidth',\n  mask: 'mask',\n  maskcontentunits: 'maskContentUnits',\n  maskunits: 'maskUnits',\n  mathematical: 'mathematical',\n  mode: 'mode',\n  numoctaves: 'numOctaves',\n  offset: 'offset',\n  opacity: 'opacity',\n  operator: 'operator',\n  order: 'order',\n  orient: 'orient',\n  orientation: 'orientation',\n  origin: 'origin',\n  overflow: 'overflow',\n  overlineposition: 'overlinePosition',\n  overlinethickness: 'overlineThickness',\n  paintorder: 'paintOrder',\n  panose1: 'panose1',\n  pathlength: 'pathLength',\n  patterncontentunits: 'patternContentUnits',\n  patterntransform: 'patternTransform',\n  patternunits: 'patternUnits',\n  pointerevents: 'pointerEvents',\n  points: 'points',\n  pointsatx: 'pointsAtX',\n  pointsaty: 'pointsAtY',\n  pointsatz: 'pointsAtZ',\n  preservealpha: 'preserveAlpha',\n  preserveaspectratio: 'preserveAspectRatio',\n  primitiveunits: 'primitiveUnits',\n  r: 'r',\n  radius: 'radius',\n  refx: 'refX',\n  refy: 'refY',\n  renderingintent: 'renderingIntent',\n  repeatcount: 'repeatCount',\n  repeatdur: 'repeatDur',\n  requiredextensions: 'requiredExtensions',\n  requiredfeatures: 'requiredFeatures',\n  restart: 'restart',\n  result: 'result',\n  rotate: 'rotate',\n  rx: 'rx',\n  ry: 'ry',\n  scale: 'scale',\n  seed: 'seed',\n  shaperendering: 'shapeRendering',\n  slope: 'slope',\n  spacing: 'spacing',\n  specularconstant: 'specularConstant',\n  specularexponent: 'specularExponent',\n  speed: 'speed',\n  spreadmethod: 'spreadMethod',\n  startoffset: 'startOffset',\n  stddeviation: 'stdDeviation',\n  stemh: 'stemh',\n  stemv: 'stemv',\n  stitchtiles: 'stitchTiles',\n  stopcolor: 'stopColor',\n  stopopacity: 'stopOpacity',\n  strikethroughposition: 'strikethroughPosition',\n  strikethroughthickness: 'strikethroughThickness',\n  string: 'string',\n  stroke: 'stroke',\n  strokedasharray: 'strokeDasharray',\n  strokedashoffset: 'strokeDashoffset',\n  strokelinecap: 'strokeLinecap',\n  strokelinejoin: 'strokeLinejoin',\n  strokemiterlimit: 'strokeMiterlimit',\n  strokeopacity: 'strokeOpacity',\n  strokewidth: 'strokeWidth',\n  surfacescale: 'surfaceScale',\n  systemlanguage: 'systemLanguage',\n  tablevalues: 'tableValues',\n  targetx: 'targetX',\n  targety: 'targetY',\n  textanchor: 'textAnchor',\n  textdecoration: 'textDecoration',\n  textlength: 'textLength',\n  textrendering: 'textRendering',\n  to: 'to',\n  transform: 'transform',\n  u1: 'u1',\n  u2: 'u2',\n  underlineposition: 'underlinePosition',\n  underlinethickness: 'underlineThickness',\n  unicode: 'unicode',\n  unicodebidi: 'unicodeBidi',\n  unicoderange: 'unicodeRange',\n  unitsperem: 'unitsPerEm',\n  valphabetic: 'vAlphabetic',\n  vhanging: 'vHanging',\n  videographic: 'vIdeographic',\n  vmathematical: 'vMathematical',\n  values: 'values',\n  vectoreffect: 'vectorEffect',\n  version: 'version',\n  vertadvy: 'vertAdvY',\n  vertoriginx: 'vertOriginX',\n  vertoriginy: 'vertOriginY',\n  viewbox: 'viewBox',\n  viewtarget: 'viewTarget',\n  visibility: 'visibility',\n  widths: 'widths',\n  wordspacing: 'wordSpacing',\n  writingmode: 'writingMode',\n  x: 'x',\n  x1: 'x1',\n  x2: 'x2',\n  xchannelselector: 'xChannelSelector',\n  xheight: 'xHeight',\n  xlinkactuate: 'xlinkActuate',\n  xlinkarcrole: 'xlinkArcrole',\n  xlinkhref: 'xlinkHref',\n  xlinkrole: 'xlinkRole',\n  xlinkshow: 'xlinkShow',\n  xlinktitle: 'xlinkTitle',\n  xlinktype: 'xlinkType',\n  xmlns: 'xmlns',\n  xmlnsxlink: 'xmlnsXlink',\n  xmlbase: 'xmlBase',\n  xmllang: 'xmlLang',\n  xmlspace: 'xmlSpace',\n  y: 'y',\n  y1: 'y1',\n  y2: 'y2',\n  ychannelselector: 'yChannelSelector',\n  z: 'z',\n  zoomandpan: 'zoomAndPan',\n\n  // Events\n  onabort: 'onAbort',\n  onanimationend: 'onAnimationEnd',\n  onanimationiteration: 'onAnimationIteration',\n  onanimationstart: 'onAnimationStart',\n  onblur: 'onBlur',\n  oncanplay: 'onCanPlay',\n  oncanplaythrough: 'onCanPlayThrough',\n  onchange: 'onChange',\n  onclick: 'onClick',\n  oncompositionend: 'onCompositionEnd',\n  oncompositionstart: 'onCompositionStart',\n  oncompositionupdate: 'onCompositionUpdate',\n  oncontextmenu: 'onContextMenu',\n  oncopy: 'onCopy',\n  oncut: 'onCut',\n  ondoubleclick: 'onDoubleClick',\n  ondrag: 'onDrag',\n  ondragend: 'onDragEnd',\n  ondragenter: 'onDragEnter',\n  ondragexit: 'onDragExit',\n  ondragleave: 'onDragLeave',\n  ondragover: 'onDragOver',\n  ondragstart: 'onDragStart',\n  ondrop: 'onDrop',\n  ondurationchange: 'onDurationChange',\n  onemptied: 'onEmptied',\n  onencrypted: 'onEncrypted',\n  onended: 'onEnded',\n  onerror: 'onError',\n  onfocus: 'onFocus',\n  oninput: 'onInput',\n  onkeydown: 'onKeyDown',\n  onkeypress: 'onKeyPress',\n  onkeyup: 'onKeyUp',\n  onload: 'onLoad',\n  onloadeddata: 'onLoadedData',\n  onloadedmetadata: 'onLoadedMetadata',\n  onloadstart: 'onLoadStart',\n  onmousedown: 'onMouseDown',\n  onmouseenter: 'onMouseEnter',\n  onmouseleave: 'onMouseLeave',\n  onmousemove: 'onMouseMove',\n  onmouseout: 'onMouseOut',\n  onmouseover: 'onMouseOver',\n  onmouseup: 'onMouseUp',\n  onpaste: 'onPaste',\n  onpause: 'onPause',\n  onplay: 'onPlay',\n  onplaying: 'onPlaying',\n  onprogress: 'onProgress',\n  onratechange: 'onRateChange',\n  onscroll: 'onScroll',\n  onseeked: 'onSeeked',\n  onseeking: 'onSeeking',\n  onselect: 'onSelect',\n  onstalled: 'onStalled',\n  onsubmit: 'onSubmit',\n  onsuspend: 'onSuspend',\n  ontimeupdate: 'onTimeUpdate',\n  ontouchcancel: 'onTouchCancel',\n  ontouchend: 'onTouchEnd',\n  ontouchmove: 'onTouchMove',\n  ontouchstart: 'onTouchStart',\n  ontransitionend: 'onTransitionEnd',\n  onvolumechange: 'onVolumeChange',\n  onwaiting: 'onWaiting',\n  onwheel: 'onWheel'\n};\n\nvar extraCharRegex = /[-:]/g;\n\nvar convert = function (attr) {\n  if (/^(data-|aria-)/.test(attr)) {\n    return attr;\n  }\n  var key = attr.replace(extraCharRegex, '').toLowerCase();\n  return map[key] || attr;\n};\n\nmodule.exports = convert;\nmodule.exports.convert = convert;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { isFunction, omit } from 'lodash';\n\nimport './TextareaResizer';\nimport autosize from 'autosize';\nimport debouncedAutosize from './autosize';\n\nexport default class Textarea extends React.PureComponent {\n\tonFocus = e => {\n\t\tthis.hasFocus = true;\n\n\t\tif (this.props.onFocus) {\n\t\t\tthis.props.onFocus(e);\n\t\t}\n\t};\n\n\tonBlur = e => {\n\t\tthis.hasFocus = false;\n\n\t\tif (this.props.onBlur) {\n\t\t\tthis.props.onBlur(e);\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\tsetTimeout(() => {\n\t\t\tif (!this.minHeight && this.textArea) {\n\t\t\t\tconst { height } = window.getComputedStyle(this.textArea);\n\t\t\t\tthis.minHeight = parseInt(height);\n\t\t\t}\n\n\t\t\tthis.autosizer =\n\t\t\t\tthis.props.debounceAutosize > 0\n\t\t\t\t\t? debouncedAutosize(this.textArea, this.props.debounceAutosize, false)\n\t\t\t\t\t: (autosize(this.textArea),\n\t\t\t\t\t  {\n\t\t\t\t\t\t\tupdate: () => autosize.update(this.textArea),\n\t\t\t\t\t\t\tdestroy: () => autosize.destroy(this.textArea)\n\t\t\t\t\t  });\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (!this.hasFocus && prevProps.value !== this.props.value) {\n\t\t\tthis.autosizer && this.autosizer.update();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.autosizer && this.autosizer.destroy(this.textArea);\n\t}\n\n\tsetRef = node => {\n\t\tconst { innerRef } = this.props;\n\t\tthis.textArea = node;\n\t\tif (isFunction(innerRef)) innerRef(node);\n\t};\n\n\trender() {\n\t\tconst { innerRef, resizable, ...props } = this.props;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<textarea\n\t\t\t\t\t{...omit(props, 'debounceAutosize')}\n\t\t\t\t\tclassName=\"sn-textarea\"\n\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\tref={this.setRef}\n\t\t\t\t/>\n\t\t\t\t{resizable && (\n\t\t\t\t\t<sn-textarea-resizer\n\t\t\t\t\t\ttextarea={this.textArea}\n\t\t\t\t\t\tautosize={autosize}\n\t\t\t\t\t\tminHeight={this.minHeight}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nTextarea.propTypes = {\n\tshowCounter: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\trows: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tresizable: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\tdebounceAutosize: PropTypes.number\n};\n\nTextarea.defaultProps = {\n\trows: 1,\n\tresizable: false,\n\tdebounceAutosize: 100\n};\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom, { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport debounce from 'lodash/debounce';\nimport '@servicenow/now-tooltip';\nimport '@servicenow/now-icon';\nimport style from './TextareaResizer.scss';\nimport { t } from 'sn-translate';\n\nexport const TEXTAREA_RESIZE_ELEMENT = 'sn-textarea-resizer';\nconst DRAGGING_CLASS = 'sn-textarea-resizer-dragging';\nconst DEBOUNCE_TIME = 5;\nconst HEIGHT_INCREMENT_PX = 20;\nconst UP_KEY = 'ArrowUp';\nconst DOWN_KEY = 'ArrowDown';\nconst PAGE_UP_KEY = 'PageUp';\nconst PAGE_DOWN_KEY = 'PageDown';\nconst PAGE_INCREMENT_PX = 100;\nconst TOOLTIP_DELAY = 500;\nconst MAX_HEIGHT_PX = 2000;\n\nconst tooltipText = t(\n\t'Use UP and DOWN arrow keys or drag with mouse to adjust height'\n);\n\nconst hasClass = (ele, cls) => {\n\treturn !!ele.className.match(new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)'));\n};\n\nconst addClass = (ele, cls) => {\n\tif (!hasClass(ele, cls))\n\t\tele.className += ele.className !== '' ? ' ' + cls : cls;\n};\n\nconst removeClass = (ele, cls) => {\n\tif (hasClass(ele, cls)) {\n\t\tconst reg = new RegExp('(\\\\s|^)' + cls + '(\\\\s|$)');\n\t\tele.className = ele.className.replace(reg, ' ').trim();\n\t\tif (ele.className === '') ele.removeAttribute('class');\n\t}\n};\n\nconst addStyles = () => {\n\tconst currentStyle = document.getElementById('textarea_resizer_style');\n\tif (!currentStyle) {\n\t\tlet styleElem = document.createElement('STYLE');\n\t\tstyleElem.setAttribute('id', 'textarea_resizer_style');\n\t\tstyleElem.innerHTML = `\n\t\t\t\tbody.${DRAGGING_CLASS} {\n\t\t\t\t\tcursor: ns-resize;\n\t\t\t\t\t-webkit-touch-callout: none;\n\t\t\t\t\t-webkit-user-select: none;\n\t\t\t\t\t-khtml-user-select: none;\n\t\t\t\t\t-moz-user-select: none;\n\t\t\t\t\t-ms-user-select: none;\n\t\t\t\t\tuser-select: none;\n\t\t\t\t}\n\t\t\t`;\n\t\tdocument.head.appendChild(styleElem);\n\t}\n};\n\nconst setHeight = debounce((properties, newHeight) => {\n\tlet { textarea, autosize = null } = properties;\n\tconst h = Math.max(\n\t\tproperties.minHeight || HEIGHT_INCREMENT_PX,\n\t\tMath.min(newHeight, MAX_HEIGHT_PX)\n\t);\n\ttextarea.style.minHeight = h + 'px';\n\ttextarea.style.maxHeight = h + 'px';\n\ttextarea.style.height = h + 'px';\n\tif (autosize) autosize.update(textarea);\n}, DEBOUNCE_TIME);\n\nconst openTooltip = debounce((properties, dispatch) => {\n\tdispatch('PROPERTIES_SET', {\n\t\t...properties,\n\t\ttooltipOpen: true\n\t});\n}, TOOLTIP_DELAY);\n\nconst closeTooltip = (properties, dispatch) => {\n\topenTooltip.cancel();\n\tdispatch('PROPERTIES_SET', {\n\t\t...properties,\n\t\ttooltipOpen: false\n\t});\n};\n\nconst getTooltipHandlers = (properties, dispatch) => ({\n\tonmouseover: () => openTooltip(properties, dispatch),\n\tonfocus: () => openTooltip(properties, dispatch),\n\tonblur: () => closeTooltip(properties, dispatch),\n\tonmouseout: () => closeTooltip(properties, dispatch)\n});\n\nconst view = (state, dispatch) => {\n\tconst properties = state.properties;\n\tlet dragStartY = -1;\n\tlet originalHeight = -1;\n\n\tconst handleKeyDown = e => {\n\t\tlet { textarea } = properties;\n\t\tif (!textarea) return;\n\n\t\tconst key = e.key;\n\t\tif (\n\t\t\tkey === DOWN_KEY ||\n\t\t\tkey === UP_KEY ||\n\t\t\tkey === PAGE_DOWN_KEY ||\n\t\t\tkey === PAGE_UP_KEY\n\t\t) {\n\t\t\tcloseTooltip(properties, dispatch);\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tlet increment =\n\t\t\t\tkey === DOWN_KEY ? HEIGHT_INCREMENT_PX : 0 - HEIGHT_INCREMENT_PX;\n\n\t\t\tif (key === PAGE_DOWN_KEY || key === PAGE_UP_KEY)\n\t\t\t\tincrement =\n\t\t\t\t\tkey === PAGE_DOWN_KEY ? PAGE_INCREMENT_PX : 0 - PAGE_INCREMENT_PX;\n\n\t\t\tconst { maxHeight, height } = window.getComputedStyle(textarea);\n\n\t\t\tsetHeight(\n\t\t\t\tproperties,\n\t\t\t\tMath.min(parseInt(maxHeight), parseInt(height)) + increment\n\t\t\t);\n\t\t\topenTooltip(properties, dispatch);\n\t\t}\n\t};\n\n\tlet handleMouseMove;\n\tconst handleMouseUp = () => {\n\t\tlet { textarea } = properties;\n\t\tif (!textarea) return;\n\t\tdragStartY = -1;\n\t\tremoveClass(document.body, DRAGGING_CLASS);\n\t\tdocument.removeEventListener('mousemove', handleMouseMove);\n\t\tdocument.removeEventListener('mouseup', handleMouseUp);\n\t\topenTooltip(properties, dispatch);\n\t};\n\n\thandleMouseMove = e => {\n\t\tlet { textarea } = properties;\n\t\tif (!textarea) return;\n\t\tcloseTooltip(properties, dispatch);\n\t\tif (e.buttons > 0) {\n\t\t\tif (dragStartY === -1) {\n\t\t\t\tdragStartY = e.clientY;\n\t\t\t\taddClass(document.body, DRAGGING_CLASS);\n\t\t\t}\n\t\t\tsetHeight(properties, originalHeight + (e.clientY - dragStartY));\n\t\t} else handleMouseUp();\n\t};\n\n\tconst handleMouseDown = () => {\n\t\tlet { textarea } = properties;\n\t\tif (!textarea) return;\n\t\tcloseTooltip(properties, dispatch);\n\t\tconst { maxHeight, height } = window.getComputedStyle(textarea);\n\t\toriginalHeight = Math.min(parseInt(maxHeight), parseInt(height));\n\t\tdocument.addEventListener('mousemove', handleMouseMove);\n\t\tdocument.addEventListener('mouseup', handleMouseUp);\n\t};\n\n\tconst setTargetRef = ref => {\n\t\tdispatch('PROPERTIES_SET', { targetRef: ref });\n\t\taddStyles();\n\t};\n\n\tconst getCurrentHeight = () => {\n\t\tlet { textarea } = properties;\n\t\tif (!textarea) return 0;\n\t\tconst { maxHeight, height } = window.getComputedStyle(textarea);\n\t\toriginalHeight = Math.min(parseInt(maxHeight), parseInt(height));\n\t\treturn originalHeight;\n\t};\n\n\tconst currentHeight = getCurrentHeight();\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<span\n\t\t\t\trole=\"slider\"\n\t\t\t\taria-valuenow={currentHeight}\n\t\t\t\taria-valuetext={t('{0} pixels. ', currentHeight) + tooltipText}\n\t\t\t\taria-valuemin={properties.minHeight || HEIGHT_INCREMENT_PX}\n\t\t\t\taria-valuemax={MAX_HEIGHT_PX}\n\t\t\t\tclassName=\"now-resizer\"\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\thook-insert={({ elm }) => setTargetRef(elm)}\n\t\t\t\thook-destroy={() => setTargetRef(null)}\n\t\t\t\taria-describedby={`${properties.componentId}_tooltip`}\n\t\t\t\tonmousedown={handleMouseDown}\n\t\t\t\tonkeydown={handleKeyDown}\n\t\t\t\t{...getTooltipHandlers(properties, dispatch)}\n\t\t\t>\n\t\t\t\t<now-icon icon=\"drag-resize-fill\" size=\"md\" />\n\t\t\t</span>\n\t\t\t<now-tooltip\n\t\t\t\tid={`${properties.componentId}_tooltip`}\n\t\t\t\ttarget-ref={properties.targetRef}\n\t\t\t\tmanageOpened={true}\n\t\t\t\topened={state.properties.tooltipOpen}\n\t\t\t\tcontent={tooltipText}\n\t\t\t\tdelay={TOOLTIP_DELAY}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n\ncreateCustomElement(TEXTAREA_RESIZE_ELEMENT, {\n\tproperties: {\n\t\tcomponentId: {},\n\t\ttargetRef: { default: null },\n\t\ttextarea: {},\n\t\tminHeight: { default: 20 },\n\t\tautosize: {},\n\t\ttooltipOpen: { default: false }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles: style\n});\n","module.exports = __TECTONIC__lodash_4_17_4[\"debounce\"];","module.exports = __TECTONIC__$servicenow_now_tooltip;","module.exports = __TECTONIC__$servicenow_now_icon;","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./TextareaResizer.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}input,textarea{font-family:inherit}.now-resizer{position:absolute;right:0;bottom:1px;width:auto;line-height:0;cursor:ns-resize}.now-resizer:focus{border-color:transparent transparent RGB(var(--now-color--secondary-2,1,89,107)) transparent;_border-color:RGB(var(--now-color--neutral-0,255,255,255)) RGB(var(--now-color--neutral-0,255,255,255)) RGB(var(--now-color--secondary-2,1,89,107)) RGB(var(--now-color--neutral-0,255,255,255));outline:RGB(var(--now-color--secondary-2,1,89,107)) solid 2px;z-index:1}\", \"\"]);\n\n// exports\n","/*!\n\tAutosize 4.0.0\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['exports', 'module'], factory);\n\t} else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n\t\tfactory(exports, module);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod.exports, mod);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (exports, module) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : (function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function (name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = ta.clientWidth;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tvar originalHeight = ta.style.height;\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\n\t\t\tvar endHeight = ta.scrollHeight + heightOffset;\n\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\tta.style.height = originalHeight;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tta.style.height = endHeight + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that\n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight !== styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = (function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap['delete'](ta);\n\t\t}).bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function (el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\tmodule.exports = autosize;\n});","import { debounce } from 'lodash';\n\nconst resize = el => {\n\t// Resets the height to handle shrinking when deleting lines\n\tel.style.height = '';\n\tel.style.height = `${el.scrollHeight}px`;\n};\n\nconst handleScrollToggling = el => {\n\tconst computed = window.getComputedStyle(el, null);\n\n\tconst actualHeight =\n\t\tcomputed.boxSizing === 'content-box'\n\t\t\t? Math.round(parseFloat(computed.height))\n\t\t\t: el.offsetHeight;\n\tconst styleHeight = Math.round(parseFloat(el.style.height));\n\n\tif (actualHeight !== styleHeight) {\n\t\t// when content exceeds max-height, enable scroll\n\t\tif (computed.overflowY === 'hidden') {\n\t\t\t// Force reflow\n\t\t\tel.offsetWidth;\n\t\t\tel.style.overflowY = 'scroll';\n\t\t\tresize(el);\n\t\t}\n\t} else {\n\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t// Force reflow\n\t\t\tel.offsetWidth;\n\t\t\tel.style.overflowY = 'hidden';\n\t\t\tresize(el);\n\t\t}\n\t}\n};\n\nfunction autosize(el, debounceWait = 100, initialUpdate = true) {\n\t// we want a leading debounce so that the first resize is invoked\n\t// to avoid the top line from jumping\n\tconst update = debounce(\n\t\t() => {\n\t\t\tresize(el);\n\t\t\thandleScrollToggling(el);\n\t\t},\n\t\tdebounceWait,\n\t\t{ leading: true }\n\t);\n\n\tconst destroy = () => {\n\t\tel.removeEventListener('input', update);\n\t\twindow.removeEventListener('resize', update);\n\t};\n\tif (initialUpdate) update();\n\tel.addEventListener('input', update);\n\twindow.addEventListener('resize', update);\n\tel.style.overflowX = 'hidden';\n\tel.style.wordWrap = 'break-word';\n\n\treturn {\n\t\tupdate,\n\t\tdestroy\n\t};\n}\n\nexport default autosize;\n","module.exports = __TECTONIC__$devsnc_sn_field_and_dropdown_wrapper;","module.exports = __TECTONIC__$servicenow_ui_effect_http;","import React from 'react';\nimport MatchList from './matchList/MatchList';\nimport {\n\tdebounce,\n\textend,\n\tfindLastIndex,\n\tfirst,\n\tflow,\n\tget,\n\tisEmpty,\n\tisFunction,\n\tisString,\n\tkeyBy,\n\tkeys,\n\tlast,\n\tmapValues,\n\tnoop,\n\tomit,\n\treduce,\n\tsize,\n\tvalues,\n\ttoString\n} from 'lodash';\nimport {\n\tisRelatedSearch,\n\tfindSearchSpace,\n\tshouldShowMentionsSelector,\n\tnormalizeMentions,\n\tgetCaretPosition,\n\tassertValidMention\n} from './mentionsUtils';\nimport { FETCH_MENTIONS, BUILT_IN_MENTIONS } from './mentionsActionHandlers';\nimport { withValueChangeCallbacks } from '@devsnc/sn-controls-common';\n\nconst DROPDOWN_MARGIN = 20;\n\nexport default Component =>\n\twithValueChangeCallbacks(\n\t\tclass Mentions extends React.Component {\n\t\t\tstatic defaultProps = {\n\t\t\t\tonValueChange: noop\n\t\t\t};\n\n\t\t\tconstructor(props) {\n\t\t\t\tsuper(props);\n\t\t\t\tthis.state = this.getInitialState(props);\n\n\t\t\t\tthis.runReadQuery = debounce(this.readQuery, props.searchDebounce);\n\t\t\t}\n\n\t\t\tisLoading = () => get(this.props, 'properties.mentionsLoading', false);\n\n\t\t\tgetInitialState = props => {\n\t\t\t\tconst mentions = mapValues(\n\t\t\t\t\tnormalizeMentions(props.mentions),\n\t\t\t\t\tmention => {\n\t\t\t\t\t\tif (isString(mention)) {\n\t\t\t\t\t\t\tmention = BUILT_IN_MENTIONS[mention];\n\n\t\t\t\t\t\t\tif (!mention) {\n\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t`Unknown built-in mentions config '${mention}'. Supported values: '${keys(\n\t\t\t\t\t\t\t\t\t\tBUILT_IN_MENTIONS\n\t\t\t\t\t\t\t\t\t).join(', ')}'`\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tassertValidMention(mention);\n\t\t\t\t\t\treturn mention;\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\treturn {\n\t\t\t\t\t// map of prefix character (`@`) to mention config\n\t\t\t\t\tmentions,\n\n\t\t\t\t\t// tracks items that the user has selected for each mention type\n\t\t\t\t\t// {\n\t\t\t\t\t//\t'@': [ item1, item2 ],\n\t\t\t\t\t//\t'/': [ item1 ]\n\t\t\t\t\t// }\n\t\t\t\t\tselectedItems: mapValues(mentions, (mention, prefix) =>\n\t\t\t\t\t\tkeyBy(\n\t\t\t\t\t\t\tmention.getItemsFromInitialValue({\n\t\t\t\t\t\t\t\tprefix,\n\t\t\t\t\t\t\t\tvalue: props.value\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t'id'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\n\t\t\t\t\t// current focused item in the matchlist\n\t\t\t\t\thighlightedIndex: 0,\n\n\t\t\t\t\t// search term for the current active query\n\t\t\t\t\tsearchTerm: '',\n\n\t\t\t\t\t// Any trailing input that exists in the input after the current active\n\t\t\t\t\t// mention\n\t\t\t\t\ttrailingInput: '',\n\n\t\t\t\t\t// data response for the active mention\n\t\t\t\t\tmatchList: []\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tsupportsMentions = () => !isEmpty(this.props.mentions);\n\n\t\t\tscanInputForLastPrefix = (start = this.inputElement.selectionStart) => {\n\t\t\t\t// Only look for tokens in the current word\n\t\t\t\tconst searchSpace = findSearchSpace(this.inputElement.value, start);\n\n\t\t\t\t// only consider search spaces that start with a prefix\n\t\t\t\tif (this.state.mentions[first(searchSpace)]) {\n\t\t\t\t\tconst index = findLastIndex(\n\t\t\t\t\t\tsearchSpace,\n\t\t\t\t\t\tchar => this.state.mentions[char]\n\t\t\t\t\t);\n\t\t\t\t\tconst prefix = this.state.mentions[searchSpace[index]];\n\n\t\t\t\t\tif (prefix) {\n\t\t\t\t\t\tconst trailingInput = this.inputElement.value.substring(\n\t\t\t\t\t\t\tthis.inputElement.selectionEnd\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tthis.showMatchList({\n\t\t\t\t\t\t\ttrailingInput,\n\t\t\t\t\t\t\tactivePrefix: prefix,\n\t\t\t\t\t\t\tactivePrefixPosition: start - searchSpace.length + index\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.runReadQuery(searchSpace.substring(index + 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t};\n\n\t\t\tshowMatchList = ({\n\t\t\t\tactivePrefix,\n\t\t\t\tactivePrefixPosition,\n\t\t\t\ttrailingInput\n\t\t\t}) => {\n\t\t\t\t// Set new position for the popup, to wherever the prefix is (e.g., \"@\")\n\t\t\t\tconst cursorOffset = getCaretPosition(this.inputElement, {\n\t\t\t\t\toffset: 1\n\t\t\t\t});\n\n\t\t\t\tconst labelPadding = get(\n\t\t\t\t\tthis.inputElement,\n\t\t\t\t\t'offsetParent.offsetTop',\n\t\t\t\t\t0\n\t\t\t\t);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t// TODO: This positioning is all hacks\n\t\t\t\t\tdropdownLeft: cursorOffset.LEFT,\n\t\t\t\t\tdropdownTop: cursorOffset.TOP + labelPadding + DROPDOWN_MARGIN,\n\t\t\t\t\tactivePrefix,\n\t\t\t\t\tactivePrefixPosition,\n\t\t\t\t\ttrailingInput,\n\t\t\t\t\thighlightedIndex: 0,\n\t\t\t\t\tmatchList: []\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\t\tif (nextProps.searchDebounce !== this.props.searchDebounce) {\n\t\t\t\t\tthis.runReadQuery = debounce(\n\t\t\t\t\t\tthis.readQuery,\n\t\t\t\t\t\tnextProps.searchDebounce\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tconst { activePrefix } = this.state;\n\n\t\t\t\tif (!activePrefix) return;\n\n\t\t\t\tconst nextLoadingState = get(\n\t\t\t\t\tnextProps,\n\t\t\t\t\t'properties.mentionsLoading',\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t\tconst finishedLoading = this.isLoading() && !nextLoadingState;\n\n\t\t\t\tif (finishedLoading) {\n\t\t\t\t\tconst rawData = nextProps.properties.mentionsResults;\n\t\t\t\t\tconst matchList = activePrefix.mapResults(rawData);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tmatchList,\n\t\t\t\t\t\thighlightedIndex: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdisplayFormat = value => {\n\t\t\t\treturn reduce(\n\t\t\t\t\tthis.state.mentions,\n\t\t\t\t\t(result, config, prefix) => {\n\t\t\t\t\t\treturn config.format({ value: result, prefix });\n\t\t\t\t\t},\n\t\t\t\t\ttoString(value)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tencode = (value, data = this.state.selectedItems) =>\n\t\t\t\treduce(\n\t\t\t\t\tthis.state.mentions,\n\t\t\t\t\t(result, config, prefix) => {\n\t\t\t\t\t\treturn config.parse({\n\t\t\t\t\t\t\tvalue: result,\n\t\t\t\t\t\t\tprefix,\n\t\t\t\t\t\t\tselectedItems: values(data[prefix])\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tvalue\n\t\t\t\t);\n\n\t\t\tonValueChange = ({ value, data = this.state.selectedItems }) => {\n\t\t\t\tthis.props.onValueChange({\n\t\t\t\t\tvalue: this.encode(value, data)\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tinnerRef = el => {\n\t\t\t\tthis.inputElement = el;\n\n\t\t\t\tif (isFunction(this.props.innerRef)) {\n\t\t\t\t\tthis.props.innerRef(el);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tonBlur = event => {\n\t\t\t\tthis.hideMatchList();\n\n\t\t\t\tif (isFunction(this.props.onBlur)) {\n\t\t\t\t\tthis.props.onBlur(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tonChange = event => {\n\t\t\t\tconst value = event.target.value;\n\n\t\t\t\tif (this.state.activePrefix) {\n\t\t\t\t\tconst searchTerm = value.substring(\n\t\t\t\t\t\tthis.state.activePrefixPosition + 1,\n\t\t\t\t\t\tthis.inputElement.selectionStart\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tsearchTerm,\n\t\t\t\t\t\tisRelatedSearch: isRelatedSearch(this.state.searchTerm, searchTerm)\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!isEmpty(searchTerm)) {\n\t\t\t\t\t\tthis.runReadQuery(searchTerm);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isEmpty(value)) {\n\t\t\t\t\tthis.hideMatchList();\n\t\t\t\t}\n\n\t\t\t\tthis.props.onValueChange({ event, value: this.encode(value) });\n\t\t\t};\n\n\t\t\tonKeyDown = event => {\n\t\t\t\tconst { key } = event;\n\t\t\t\tif (this.state.activePrefix) {\n\t\t\t\t\tif (key === 'Escape') {\n\t\t\t\t\t\tthis.hideMatchList();\n\t\t\t\t\t}\n\t\t\t\t\tif (key === 'Enter' && !isEmpty(this.state.matchList)) {\n\t\t\t\t\t\tthis.selectItem(this.state.matchList[this.state.highlightedIndex]);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === 'ArrowUp') {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\thighlightedIndex: Math.max(0, this.state.highlightedIndex - 1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === 'ArrowDown') {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\thighlightedIndex: Math.min(\n\t\t\t\t\t\t\t\tsize(this.state.matchList) - 1,\n\t\t\t\t\t\t\t\tthis.state.highlightedIndex + 1\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === 'Backspace' || key === 'Delete') {\n\t\t\t\t\t\t// if match list is active & last char is a prefix (char being deleted), hide the match list\n\t\t\t\t\t\tconst searchSpace = findSearchSpace(\n\t\t\t\t\t\t\tthis.inputElement.value,\n\t\t\t\t\t\t\tthis.inputElement.selectionStart\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst lastChar = last(searchSpace);\n\n\t\t\t\t\t\tif (this.state.mentions[lastChar]) {\n\t\t\t\t\t\t\tthis.hideMatchList();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (key === 'Backspace' || key === 'Delete') {\n\t\t\t\t\t// take into account the char that was just deleted from the input when scanning\n\t\t\t\t\tthis.scanInputForLastPrefix(this.inputElement.selectionStart - 1);\n\t\t\t\t}\n\n\t\t\t\tif (isFunction(this.props.onKeyDown)) {\n\t\t\t\t\tthis.props.onKeyDown(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tonKeyPress = event => {\n\t\t\t\tconst { key } = event;\n\t\t\t\tconst cursorIndex = this.inputElement.selectionStart;\n\t\t\t\tconst isSupportedPrefix = this.state.mentions[key];\n\t\t\t\tif (\n\t\t\t\t\tthis.state.activePrefix &&\n\t\t\t\t\t// Cursor is now behind the active prefix\n\t\t\t\t\t(cursorIndex < this.state.activePrefixPosition ||\n\t\t\t\t\t\t// Space or enter is pressed when there are no matches and we're not trying to load any more.\n\t\t\t\t\t\t((key === ' ' || key === 'Enter') &&\n\t\t\t\t\t\t\tisEmpty(this.state.matchList) &&\n\t\t\t\t\t\t\t!this.isLoading()))\n\t\t\t\t) {\n\t\t\t\t\tthis.hideMatchList();\n\t\t\t\t} else if (\n\t\t\t\t\tisSupportedPrefix &&\n\t\t\t\t\tshouldShowMentionsSelector(\n\t\t\t\t\t\tthis.inputElement.value,\n\t\t\t\t\t\tthis.inputElement.selectionStart\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tconst prefix = this.state.mentions[key];\n\n\t\t\t\t\t// Store any chars after the activePrefix so that we don't stomp over\n\t\t\t\t\t// them when injecting a value\n\t\t\t\t\tconst trailingInput = this.inputElement.value.substring(\n\t\t\t\t\t\tthis.inputElement.selectionEnd\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.showMatchList({\n\t\t\t\t\t\ttrailingInput,\n\t\t\t\t\t\tactivePrefix: prefix,\n\t\t\t\t\t\tactivePrefixPosition: cursorIndex\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (isFunction(this.props.onKeyPress)) {\n\t\t\t\t\tthis.props.onKeyPress(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tonPaste = event => {\n\t\t\t\tevent.persist();\n\n\t\t\t\t// Defer until after contents has been pasted. Needed to get the correct\n\t\t\t\t// cursor position.\n\t\t\t\tsetTimeout(this.scanInputForLastPrefix, 0);\n\n\t\t\t\tif (isFunction(this.props.onPaste)) {\n\t\t\t\t\tthis.props.onPaste(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tselectItem = item => {\n\t\t\t\tconst prefixIndex = this.state.activePrefixPosition;\n\t\t\t\tconst existingChars = this.inputElement.value.substring(0, prefixIndex);\n\t\t\t\tconst prefix = this.inputElement.value[prefixIndex];\n\t\t\t\tconst formatted = this.state.activePrefix.displayItem({\n\t\t\t\t\tprefix,\n\t\t\t\t\titem\n\t\t\t\t});\n\n\t\t\t\tconst selectedItems = {\n\t\t\t\t\t...this.state.selectedItems,\n\t\t\t\t\t[prefix]: {\n\t\t\t\t\t\t...(this.state.selectedItems[prefix] || {}),\n\t\t\t\t\t\t[item.id]: item\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.props.onValueChange({\n\t\t\t\t\tvalue: this.encode(\n\t\t\t\t\t\t`${existingChars}${formatted} ${this.state.trailingInput}`,\n\t\t\t\t\t\tselectedItems\n\t\t\t\t\t)\n\t\t\t\t});\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tselectedItems\n\t\t\t\t});\n\n\t\t\t\tthis.hideMatchList();\n\t\t\t\tthis.inputElement.focus();\n\t\t\t};\n\n\t\t\thoverItem = index => {\n\t\t\t\tthis.setState({\n\t\t\t\t\thighlightedIndex: index\n\t\t\t\t});\n\t\t\t};\n\n\t\t\thideMatchList = () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\thighlightedIndex: 0,\n\t\t\t\t\tactivePrefix: null,\n\t\t\t\t\tmatchList: []\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tgetInputProps = () => {\n\t\t\t\treturn flow(\n\t\t\t\t\tprops => omit(props, ['mentions']),\n\t\t\t\t\tprops =>\n\t\t\t\t\t\textend(props, {\n\t\t\t\t\t\t\tvalue: this.displayFormat(props.value),\n\t\t\t\t\t\t\tonValueChange: this.onValueChange,\n\t\t\t\t\t\t\tonChange: this.onChange,\n\t\t\t\t\t\t\tonKeyPress: this.onKeyPress,\n\t\t\t\t\t\t\tonKeyDown: this.onKeyDown,\n\t\t\t\t\t\t\tonPaste: this.onPaste,\n\t\t\t\t\t\t\tonBlur: this.onBlur,\n\t\t\t\t\t\t\tinnerRef: this.innerRef\n\t\t\t\t\t\t})\n\t\t\t\t)(this.props);\n\t\t\t};\n\n\t\t\tgetMatchListProps = () => {\n\t\t\t\tconst {\n\t\t\t\t\tmatchList,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\tdropdownTop,\n\t\t\t\t\tdropdownLeft,\n\t\t\t\t\tsearchTerm,\n\t\t\t\t\tisRelatedSearch\n\t\t\t\t} = this.state;\n\t\t\t\tconst { componentId } = this.props;\n\t\t\t\treturn {\n\t\t\t\t\t// Don't show the loading state when the current search results are\n\t\t\t\t\t// just a subset (or superset) of the previous results. This feels\n\t\t\t\t\t// more like a live filter rather than an entirely separate query.\n\t\t\t\t\tisLoading: this.isLoading() && !isRelatedSearch,\n\t\t\t\t\tdata: matchList,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\tdropdownTop,\n\t\t\t\t\tdropdownLeft,\n\t\t\t\t\tonItemSelected: this.selectItem,\n\t\t\t\t\tcomponentId,\n\t\t\t\t\tonHoverItem: this.hoverItem,\n\t\t\t\t\tisNewDropdown: searchTerm.length === 0\n\t\t\t\t};\n\t\t\t};\n\n\t\t\trender() {\n\t\t\t\tif (!this.supportsMentions()) {\n\t\t\t\t\treturn <Component {...this.props} />;\n\t\t\t\t}\n\t\t\t\tconst inputProps = this.getInputProps();\n\t\t\t\tconst matchListProps = this.getMatchListProps();\n\n\t\t\t\t// TODO: We need to add the MatchList as a target for the FocusWatcher,\n\t\t\t\t// but Input only adds additional FocusWatcher targets to `dropdown` =/\n\t\t\t\t//\n\t\t\t\t// This is super hacky: forcing the MatchList into the dropdown screws\n\t\t\t\t// up the absolute positioning of the MatchList\n\t\t\t\tlet dropdown = this.props.dropdown;\n\t\t\t\tconst matchList = this.state.activePrefix ? (\n\t\t\t\t\t<MatchList {...matchListProps} />\n\t\t\t\t) : null;\n\n\t\t\t\tif (dropdown && matchList) {\n\t\t\t\t\tdropdown = (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{dropdown}\n\t\t\t\t\t\t\t{matchList}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t} else if (matchList) {\n\t\t\t\t\tdropdown = matchList;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"sn-mention-input\">\n\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t{...inputProps}\n\t\t\t\t\t\t\tdropdown={dropdown}\n\t\t\t\t\t\t\tfallbackDropdownBehavior\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treadQuery = (inputVal = '') => {\n\t\t\t\tconst { activePrefix } = this.state;\n\n\t\t\t\tconst hasDoubleSpaceEnding = /\\s\\s$/.test(inputVal);\n\t\t\t\tconst isValidInput =\n\t\t\t\t\t(inputVal.trim() && !hasDoubleSpaceEnding) || inputVal.length === 0;\n\n\t\t\t\tif (activePrefix && isValidInput && !hasDoubleSpaceEnding) {\n\t\t\t\t\tconst { dispatch } = this.props;\n\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tFETCH_MENTIONS,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tterm: inputVal,\n\t\t\t\t\t\t\trecordTable: this.props.referringTable,\n\t\t\t\t\t\t\trecordId: this.props.referringRecordId\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ stopPropagation: true }\n\t\t\t\t\t);\n\t\t\t\t} else if (!isValidInput) {\n\t\t\t\t\tthis.hideMatchList();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t);\n","import React from 'react';\nimport MatchListItem from './MatchListItem';\nimport { getScrollParent } from '@devsnc/sn-controls-common';\n\nimport { t } from 'sn-translate';\nimport { isEmpty } from 'lodash';\nimport makeClass from 'classnames';\n\n// Number of pixels to maintain as horizontal margin between the matchlist and\n// its scroll parent.\nconst OVERFLOW_MARGIN = 40;\n\nexport default class MatchList extends React.PureComponent {\n\tstatic defaultProps = {\n\t\tdropdownLeft: 0,\n\t\tdropdownTop: 0\n\t};\n\n\tcomponentDidUpdate() {\n\t\tif (!this.listElement || !this.highlightedComponent) {\n\t\t\treturn;\n\t\t}\n\t\tconst childElementEdges = this.highlightedComponent.getElementEdges();\n\t\tconst scrollTop = this.listElement.scrollTop;\n\t\tconst scrollBottom = scrollTop + this.listElement.offsetHeight;\n\t\tif (\n\t\t\tchildElementEdges.topEdge < scrollTop ||\n\t\t\tchildElementEdges.bottomEdge > scrollBottom\n\t\t) {\n\t\t\tthis.listElement.scrollTop = childElementEdges.topEdge;\n\t\t}\n\t}\n\n\t/**\n\t * Reposition the left coord to fit within the visible window. Don't need to\n\t * worry about vertical positioning because that's handled by Input dropdown\n\t */\n\tcomponentDidMount() {\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst scrollParent =\n\t\t\tgetScrollParent(this.element) || this.element.offsetParent;\n\t\tconst parentWidth = scrollParent.getBoundingClientRect().width;\n\t\tconst matchListRect = this.element.getBoundingClientRect();\n\n\t\tconst overflow =\n\t\t\tthis.props.dropdownLeft +\n\t\t\tmatchListRect.width +\n\t\t\tOVERFLOW_MARGIN -\n\t\t\tparentWidth;\n\n\t\tconst realLeft =\n\t\t\toverflow > 0 && parentWidth > matchListRect.width\n\t\t\t\t? this.props.dropdownLeft - overflow\n\t\t\t\t: this.props.dropdownLeft;\n\n\t\tthis.element.style.left = realLeft + 'px';\n\t\tthis.element.style.visibility = 'visible';\n\t}\n\n\trender() {\n\t\tconst { isNewDropdown, data, componentId, isLoading } = this.props;\n\t\tconst message = isNewDropdown\n\t\t\t? t('Enter the name of a person you want to mention')\n\t\t\t: isLoading\n\t\t\t? t('Loading')\n\t\t\t: isEmpty(data)\n\t\t\t? t('No matches')\n\t\t\t: null;\n\t\tconst className = makeClass('match-list', 'sn-dropdown', {\n\t\t\t'with-message': message\n\t\t});\n\n\t\t// Avoid FOUC: render hidden by default but become visible once we can\n\t\t// calculate the correct coordinates in componentDidMount\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={element => (this.element = element)}\n\t\t\t\tclassName={className}\n\t\t\t\tstyle={{\n\t\t\t\t\tvisibility: 'hidden',\n\t\t\t\t\ttop: this.props.dropdownTop + 'px'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{message && <p>{message}</p>}\n\n\t\t\t\t{!isEmpty(data) && !isNewDropdown && !isLoading && (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\tclassName=\"sn-list-group\"\n\t\t\t\t\t\t\tref={this._setListElement}\n\t\t\t\t\t\t\taria-controls={componentId + '-list'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this._renderMatchListItems()}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t{this._renderARIARegion()}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_renderMatchListItems() {\n\t\tconst { data, highlightedIndex, onItemSelected, componentId } = this.props;\n\t\treturn data.map((item, i) => {\n\t\t\tconst highlighted = i === highlightedIndex;\n\t\t\tlet props = {\n\t\t\t\t...item,\n\t\t\t\tonItemSelected,\n\t\t\t\thighlighted,\n\t\t\t\tcomponentId,\n\t\t\t\tonHoverItem: () => this.props.onHoverItem(i)\n\t\t\t};\n\t\t\tif (highlighted) {\n\t\t\t\tprops.ref = this._setHighlightedComponent;\n\t\t\t}\n\t\t\treturn <MatchListItem key={item.id} {...props} />;\n\t\t});\n\t}\n\n\t_renderARIARegion() {\n\t\tconst { data, highlightedIndex, componentId } = this.props;\n\t\tconst highlighted = data[highlightedIndex];\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={componentId + '-list'}\n\t\t\t\taria-live=\"polite\"\n\t\t\t\tclassName=\"now-a11y-label\"\n\t\t\t>\n\t\t\t\t{highlighted.value}, {highlighted.secondary}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_setHighlightedComponent = component => {\n\t\tthis.highlightedComponent = component;\n\t};\n\n\t_setListElement = el => {\n\t\tthis.listElement = el;\n\t};\n}\n","import React from 'react';\nimport { startsWith } from 'lodash';\nimport '@servicenow/now-avatar';\n\nclass MatchListItem extends React.PureComponent {\n\trender() {\n\t\tconst { highlighted, secondary, value, image } = this.props;\n\t\tconst className = 'sn-list-group-item' + (highlighted ? ' is-hover' : '');\n\n\t\tconst avatarImage = startsWith(image, '/') ? image : `/${image}`;\n\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclassName={className}\n\t\t\t\tref={this._setElement}\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\tonMouseOver={this.props.onHoverItem}\n\t\t\t>\n\t\t\t\t<div className=\"sn-avatar-container\">\n\t\t\t\t\t<now-avatar user-name={value} image-src={avatarImage} size=\"sm\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-list-group-content sn-list-group-content__wrap has-subtext\">\n\t\t\t\t\t<span className=\"sn-list-group-item--title item-value\">{value}</span>\n\t\t\t\t\t<span className=\"item-secondary\">{secondary}</span>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t}\n\n\tgetElementEdges() {\n\t\treturn {\n\t\t\ttopEdge: this.element.offsetTop,\n\t\t\tbottomEdge: this.element.offsetTop + this.element.offsetHeight\n\t\t};\n\t}\n\n\t_setElement = el => {\n\t\tthis.element = el;\n\t};\n\n\t_handleClick = () => {\n\t\tthis.props.onItemSelected({\n\t\t\t...this.props\n\t\t});\n\t};\n}\n\nexport default MatchListItem;\n","module.exports = __TECTONIC__$servicenow_now_avatar;","module.exports = __TECTONIC__classnames_2_2_5;","import {\n\teach,\n\tisArray,\n\tisEmpty,\n\tisFunction,\n\tisObject,\n\tlast,\n\treduce\n} from 'lodash';\n\n/**\n * Ensures a mention config contains all of the expected properties\n */\nexport const assertValidMention = mention => {\n\tif (!isObject(mention)) {\n\t\tthrow new Error(\n\t\t\t`Invalid mention config: must be an object but got ${typeof mention}`\n\t\t);\n\t}\n\n\t// `variables` is the only optional config item\n\tif (mention.variables && !isFunction(mention.variables)) {\n\t\tthrow new Error(\n\t\t\t`Invalid type for mention config 'variables'. Expected function but got ${typeof mention.variables}`\n\t\t);\n\t}\n\n\teach(['mapResults', 'displayItem', 'format', 'parse'], prop => {\n\t\tif (!isFunction(mention[prop])) {\n\t\t\tthrow new Error(\n\t\t\t\t`Invalid type for mention config '${prop}'. Expected function but got ${typeof prop}`\n\t\t\t);\n\t\t}\n\t});\n};\n\n/**\n * Compare two search strings to determine whether they will produce\n * related results (one set of results will be a subset of the other).\n */\nexport const isRelatedSearch = (a, b) =>\n\t!isEmpty(a) && !isEmpty(b) && (a.startsWith(b) || b.startsWith(a));\n\nexport const findSearchSpace = (string, selectionStart) => {\n\tconst valueUntilCursor = string.substring(0, selectionStart);\n\n\t// Only look for tokens in the current word\n\treturn last(valueUntilCursor.split(/\\s+/));\n};\n\nexport const shouldShowMentionsSelector = (value, selectionStart) =>\n\tfindSearchSpace(value, selectionStart) === '';\n\n// TODO: Remove later when we can\nexport const normalizeMentions = mentions => {\n\tif (!isArray(mentions)) return mentions;\n\n\treturn reduce(\n\t\tmentions,\n\t\t(acc, { prefix, type }) => {\n\t\t\tacc[prefix] = type;\n\t\t\treturn acc;\n\t\t},\n\t\t{}\n\t);\n};\n\nexport function getCaretPosition(inputEl, { offset = 0 }) {\n\t/**\n\t * Clone textarea/input styles to a dummy div.\n\t * Append the text value of the textarea/input\n\t * into the dummy div, and then insert a span.\n\t *\n\t * The position of this span corresponds with\n\t * the position of the caret.\n\t *\n\t * Dummy div is immediately removed after\n\t * position is determined.\n\t */\n\tlet carPos = inputEl.selectionStart + offset;\n\tconst div = document.createElement('div');\n\tconst span = document.createElement('span');\n\tconst copyStyle = getComputedStyle(inputEl);\n\n\tArray.prototype.forEach.call(\n\t\tcopyStyle,\n\t\tprop => (div.style[prop] = copyStyle[prop])\n\t);\n\n\tdiv.style.position = 'absolute';\n\t// subtract 1 in the case of a newline\n\tdiv.textContent = inputEl.value.substr(0, carPos - 1);\n\tdiv.appendChild(span);\n\tspan.textContent = inputEl.value.substr(carPos) || '.';\n\tdocument.body.appendChild(div);\n\n\tconst coords = {\n\t\tTOP: span.offsetTop - inputEl.scrollTop,\n\t\tLEFT: span.offsetLeft\n\t};\n\tdocument.body.removeChild(div);\n\treturn coords;\n}\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./journal-input.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}input,textarea{font-family:inherit}.sn-control{border:0;display:flex;flex-direction:column;padding:0;position:relative;width:100%;margin-block:.5rem}.sn-control-label{align-items:center;display:flex;padding:0 .25rem .125rem;font-size:.75rem;line-height:1.33333;color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)));min-width:0}.sn-control-label>span.now-line-height-crop:after,.sn-control-label>span.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.sn-control-label>span.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.sn-control-label>span.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.sn-control-label>span.now-line-height-crop+.sn-control-label>span.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667*-1)}.sn-control-label>span.now-line-height-crop>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-control-label>now-icon,.sn-control-label>sn-icon{padding:0 .25rem}.sn-control.has-error .sn-control-label{color:RGB(var(--now-color--alert-critical-2,200,60,54))}.sn-control-label-reversed{flex-direction:row-reverse}.sn-control sn-record-choice-search[disabled=true],.sn-control sn-record-dropdown-internal[readonly=true]{pointer-events:none}.sn-control-controls,.sn-control-icon{align-items:center;display:flex;flex:0 0 auto;justify-content:center}.sn-control-controls now-button,.sn-control-controls sn-record-control,.sn-control-icon now-button,.sn-control-icon sn-record-control{margin-right:.25rem}.sn-control-icon{margin:0 .25rem}.sn-control-field{display:flex;font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));position:relative}.sn-control-field.is-disabled{cursor:not-allowed;color:RGBA(var(--now-color--neutral-18,22,27,28),.5)}.sn-control-field:not(.is-focus):not(.read-only) :after{background:RGB(var(--now-color--neutral-5,172,180,181));bottom:-1px;content:\\\"\\\";height:1px;left:0;position:absolute;right:0}.sn-control-field:not(.read-only).is-hover{background-color:RGB(var(--now-color--neutral-2,228,230,231));box-shadow:0 1px 0 RGB(var(--now-color--neutral-5,172,180,181))}.sn-control-field:not(.read-only).is-hover :after{background:RGB(var(--now-color--neutral-5,172,180,181));bottom:-2px;content:\\\"\\\";height:2px;left:0;position:absolute;right:0}.sn-control.is-focus .sn-control-field:not(.read-only),.sn-control:focus .sn-control-field:not(.read-only){background-color:RGB(var(--now-color--secondary-0,217,235,238))}.sn-control.is-focus .sn-control-field:not(.read-only):after,.sn-control:focus .sn-control-field:not(.read-only):after{background:RGB(var(--now-color--secondary-1,1,119,142));bottom:-2px;content:\\\"\\\";height:2px;left:0;position:absolute;right:0}.sn-control.has-error .sn-control-field:not(.read-only){box-shadow:0 1px 0 RGB(var(--now-color--alert-critical-2,200,60,54))}.sn-control.has-error .sn-control-field:not(.read-only):after{background:RGB(var(--now-color--alert-critical-2,200,60,54))}.sn-control.is-disabled .sn-control-field.is-hover,.sn-control.is-disabled .sn-control-field:hover,.sn-control.is-focus .sn-control.is-disabled .sn-control-field,.sn-control.is-focus .sn-control.is-readonly .sn-control-field,.sn-control.is-readonly .sn-control-field.is-hover,.sn-control.is-readonly .sn-control-field:hover,.sn-control:focus .sn-control.is-disabled .sn-control-field,.sn-control:focus .sn-control.is-readonly .sn-control-field{background:transparent}.sn-control-field.read-only ::placeholder{color:RGBA(var(--now-color--neutral-18,22,27,28),.5)}.sn-control.is-focus .sn-control-field.read-only,.sn-control:focus .sn-control-field.read-only{background-color:RGBA(var(--now-color--secondary-0,217,235,238),.5)}.sn-control.is-focus .sn-control-field.read-only:after,.sn-control:focus .sn-control-field.read-only:after{background:RGBA(var(--now-color--secondary-1,1,119,142),.5);bottom:0;content:\\\"\\\";height:2px;left:0;position:absolute;right:0}.sn-control.-standalone .sn-control-field{border:1px solid;border-color:RGB(var(--now-color--border-secondary,var(--now-color--neutral-5,172,180,181)))}.sn-control.-standalone .sn-control-field:after{display:none}.sn-control.-worknote .sn-control-field{background:RGBA(var(--now-color--alert-warning-0,242,237,179),.5)}.sn-control.-borderless .sn-control-field{border:none}.sn-control-character-counter,.sn-control-description{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));font-size:.75rem;margin:0;padding:.5rem .25rem 0;position:relative}.has-error .sn-control-character-counter,.has-error .sn-control-description,.sn-control-character-counter.error,.sn-control-description.error{color:RGB(var(--now-color--alert-critical-3,160,48,43))}.sn-control-character-counter.warning,.sn-control-description.warning{color:RGB(var(--now-color--alert-warning-3,177,163,0))}.sn-control-messages{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));font-size:.75rem;padding:.25rem .25rem 0;width:100%}.sn-control-message{border-radius:.25rem;display:flex;margin:0 0 .25rem;padding:.25rem;width:100%;word-break:break-word}.sn-control-message:last-of-type{margin:0}.sn-control-message.-multi{flex-direction:column}.sn-control-message.-danger{background:RGB(var(--now-color--alert-critical-0,241,206,205))}.sn-control-message.-primary,.sn-control-message.-success{background:RGB(var(--now-color--alert-info-0,195,221,240))}.sn-control-message.-warning{background:RGB(var(--now-color--alert-warning-0,242,237,179))}.sn-control-message.-suggestion{background:RGB(var(--now-color--alert-info-0,195,221,240))}.sn-control-message-row{display:flex;margin:0 0 .25rem;width:100%}.sn-control-message-row:last-of-type{margin:0}:host(:not([dir=rtl])) .sn-control-message-row now-icon,:root:not([dir=rtl]) .sn-control-message-row now-icon{margin-left:.25rem}:host([dir=rtl]) .sn-control-message-row now-icon,:root[dir=rtl] .sn-control-message-row now-icon{margin-right:.25rem}.sn-control-message-row-reversed{flex-direction:row-reverse}.sn-control-message-content{align-items:center;display:inline-flex;flex:1 1 auto}.sn-control-message-content.-static{flex:0 0 auto}:host(:not([dir=rtl])) .sn-control-message-content now-icon,:root:not([dir=rtl]) .sn-control-message-content now-icon{margin-right:.25rem}:host([dir=rtl]) .sn-control-message-content now-icon,:root[dir=rtl] .sn-control-message-content now-icon{margin-left:.25rem}.sn-control-message-content-reversed{flex-direction:row-reverse}.sn-control-group{display:flex;position:relative}.sn-dropdown{background:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));border:1px solid;border-color:RGB(var(--now-color--primary-2,23,100,82));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));list-style:none;left:auto;margin:-2px 0 0;padding:0;position:fixed;z-index:1000}.sn-dropdown-header{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;background:RGB(var(--now-color--background-secondary,var(--now-color--neutral-1,246,247,247)));align-items:center;display:flex;font-size:1rem;font-weight:600;padding-bottom:.375rem;padding-top:.375rem;width:100%}:host(:not([dir=rtl])) .sn-dropdown-header,:root:not([dir=rtl]) .sn-dropdown-header{padding-left:1rem}:host([dir=rtl]) .sn-dropdown-header,:root[dir=rtl] .sn-dropdown-header{padding-right:1rem}:host(:not([dir=rtl])) .sn-dropdown-header,:root:not([dir=rtl]) .sn-dropdown-header{padding-right:1.5rem}:host([dir=rtl]) .sn-dropdown-header,:root[dir=rtl] .sn-dropdown-header{padding-left:1.5rem}.sn-dropdown-list{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));list-style:none;margin:0;padding:0;position:relative;width:100%;max-height:300px;overflow-x:hidden;overflow-y:auto}.sn-dropdown-list-item{background:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)));cursor:pointer;display:flex;font-size:.75rem;padding-bottom:.375rem;padding-top:.375rem;position:relative;text-decoration:none}:host(:not([dir=rtl])) .sn-dropdown-list-item,:root:not([dir=rtl]) .sn-dropdown-list-item{padding-left:1rem}:host([dir=rtl]) .sn-dropdown-list-item,:root[dir=rtl] .sn-dropdown-list-item{padding-right:1rem}:host(:not([dir=rtl])) .sn-dropdown-list-item,:root:not([dir=rtl]) .sn-dropdown-list-item{padding-right:1.5rem}:host([dir=rtl]) .sn-dropdown-list-item,:root[dir=rtl] .sn-dropdown-list-item{padding-left:1.5rem}.sn-dropdown-list-item.is-focus,.sn-dropdown-list-item.is-hover,.sn-dropdown-list-item:focus,.sn-dropdown-list-item:hover{background:RGB(var(--now-color--secondary-0,217,235,238))}.sn-dropdown-list-item-content{align-items:center;display:inline-flex;flex:1 1 auto;flex-wrap:wrap;overflow:hidden;position:relative}.sn-dropdown-list-item-content>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}.sn-dropdown-list-item-content .sn-secondary-delimiter{white-space:pre}.sn-dropdown-list-item-content .highlight{background-color:RGBA(var(--now-color--alert-warning-0,242,237,179),.65);font-weight:600}.sn-dropdown-list-item-title{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));font-size:1rem;position:relative;width:100%}.sn-dropdown-list-selected-icon{align-items:center;color:RGB(var(--now-color--secondary-1,1,119,142));display:flex;flex:0 0 auto;justify-content:center;width:.75rem}:host(:not([dir=rtl])) .sn-dropdown-list-selected-icon,:root:not([dir=rtl]) .sn-dropdown-list-selected-icon{margin-right:.25rem}:host([dir=rtl]) .sn-dropdown-list-selected-icon,:root[dir=rtl] .sn-dropdown-list-selected-icon{margin-left:.25rem}.sn-el-input{align-items:center;background:transparent;border:0;color:inherit;cursor:text;display:inline-flex;flex:1 1 auto;font-size:inherit;height:2rem;margin:0;min-width:1px;padding:0 .25rem;position:relative;width:100%}.sn-el-input:focus{outline:none}.sn-el-input::-ms-clear{display:none}.sn-el-input:-moz-ui-invalid{box-shadow:none}.is-disabled .sn-el-input,.sn-el-input.is-disabled{cursor:not-allowed}.sn-el-input ::placeholder{color:RGBA(var(--now-color--neutral-18,22,27,28),.5)}.is-align-end .sn-el-input,.is-reversed .sn-el-input{text-align:right}.is-align-end-reversed .sn-el-input{text-align:left}.sn-textarea{background-color:transparent;border:0;cursor:text;font-size:1rem;min-height:4rem;max-height:16rem;padding:.375rem 0 .375rem .25rem;position:relative;resize:none;width:100%}.sn-textarea:focus{outline:none}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./mentions.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sn-mention-input{position:relative}.match-list{position:absolute;max-height:202px;width:288px;padding:0}.match-list.with-message{display:flex;height:72px;width:304px;padding:1rem;align-items:center;justify-content:center}.sn-avatar-container{display:inline-flex;margin:0 .75rem 0 0;align-items:center}.sn-list-group{list-style:none;margin:0;padding:0;position:relative;width:100%;max-height:200px;overflow-x:hidden;overflow-y:auto}.sn-list-group-item{cursor:pointer;display:flex;flex-direction:row;color:var(--now-color--neutral-18,22,27,28);padding:.5rem 1rem;position:relative;text-decoration:none}.sn-list-group-item.is-hover,.sn-list-group-item:hover{background:RGB(var(--now-color--secondary-0,217,235,238))}.sn-list-group-item.is-disabled{pointer-events:none}.sn-list-group-item--title{display:inline-flex;font-size:1rem;position:relative;width:100%;padding:0}.sn-list-group-item--title span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.sn-list-group-content{align-items:center;display:inline-flex;flex:1 1 auto;overflow:hidden;position:relative;justify-content:flex-start;flex-wrap:wrap;font-size:.75rem}.sn-list-group-content>span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$servicenow_now_input;"],"sourceRoot":""}