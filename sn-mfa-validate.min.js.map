{"version":3,"sources":["webpack://__TECTONIC__$devsnc_sn_mfa_validate/webpack/bootstrap","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/constants.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./node_modules/crypto-js/core.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/utils.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/i18n.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./node_modules/crypto-js/sha256.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./node_modules/crypto-js/hmac.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/index.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/index.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/sn-mfa-validate.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/sn-mfa-validate.scss?cf31","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/sn-mfa-validate.scss","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/view.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_now_alert\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_now_input\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_now_checkbox\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_now_loader\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_behavior_focus_19_4_1\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/actions/coreActions.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__fingerprintjs_2_2_1_0\"","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./node_modules/crypto-js/hmac-sha256.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/./src/sn-mfa-validate/actions/dataHandlers.js","webpack://__TECTONIC__$devsnc_sn_mfa_validate/external \"__TECTONIC__$servicenow_ui_effect_http\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","base","SN_MFA_VALIDATE_SUCCEEDED","SN_MFA_VALIDATE_FAILED","SN_MFA_VALIDATE_REDIRECT","dataHandlerActions","FETCH_METADATA","FETCH_METADATA_SUCCEEDED","FETCH_METADATA_FAILED","VERIFY_BROWSER","VERIFY_CODE_WITHOUT_BFP","VERIFY_CODE","VERIFY_CODE_SUCCEEDED","VERIFY_CODE_FAILED","SEND_CODE_VIA_EMAIL","SEND_CODE_VIA_EMAIL_SUCCEEDED","SEND_CODE_VIA_EMAIL_FAILED","actionNames","ENTER_KEY_PRESSED","VERIFY_BFP","dataHandlerURLS","DEFAULT_ROUTE","messageTypes","ERROR","INFO","SUCCESS","codeRegEx","SEND_CODE_VIA_EMAIL_ALERT_ID","icons","CRITICAL","WARNING","DEFAULT","e","lib","Base","extend","this","mixIn","init","$super","apply","arguments","toString","clone","WordArray","words","sigBytes","length","stringify","concat","clamp","push","ceil","slice","random","enc","Hex","join","parse","parseInt","substr","u","Latin1","String","fromCharCode","charCodeAt","f","Utf8","decodeURIComponent","escape","Error","unescape","encodeURIComponent","a","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","blockSize","max","_minBufferSize","min","_doProcessBlock","splice","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","Math","define","getAlertMsgConfig","message","msgType","action","alertConfig","status","icon","getAlertStatusNIcon","content","type","id","getAlertMessages","messages","newMessages","forEach","msgConfig","convertDataInterceptor","context","payload","coeffects","rawData","keys","data","parameter","generateVerifyCodePathParams","config","dataParam","sysparm_type","sysparm_api","sysparm_process","sys_mfa_check_remembered_browser","remember_browser","sysparm_process_nonce","bfp","bfp_hash","txtResponse","handleFocus","host","tabbableNodes","getFocusableNodes","focus","getFirstFocusableElem","firstFocusableElement","__TECTONIC__$servicenow_ui_renderer_snabbdom","translatedTexts","codeViaEmail","codeViaEmailAction","codeViaEmailInProgress","codeInputLabel","codeInputLabelErrMsg","codeInputLabelPlaceholder","login","rememberMe","fieldName","loading","__TECTONIC__$servicenow_ui_core","sqrt","pow","SHA256","_hash","h","y","x","q","g","b","floor","HmacSHA256","require","_hasher","_oKey","_iKey","default","createCustomElement","renderer","snabbdom","view","styles","initialState","isLoading","txtResponseMessages","isRequestInProgress","actionHandlers","eventHandlers","events","effect","dispatch","event","preventDefault","properties","heading","required","actionBtnLabel","schema","is_eligible_to_receive_notification","nonce","remember_browser_default_value","remembered_bfp_validity","show_remember_browser","verify_remembered_bfp","dispatches","url","result","useSourceMap","list","map","item","cssMapping","btoa","sourceMapping","sourceMap","JSON","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","state","renderLoader","className","renderAlert","label","level","variant","autofocus","maxlength","placeholder","checked","size","canSendCodeViaEmail","showLoader","__TECTONIC__$servicenow_now_alert","__TECTONIC__$servicenow_now_heading","__TECTONIC__$servicenow_now_input","__TECTONIC__$servicenow_now_button","__TECTONIC__$servicenow_now_checkbox","__TECTONIC__$servicenow_now_loader","__TECTONIC__sn_translate","__TECTONIC__$servicenow_behavior_focus_19_4_1","actionTypes","COMPONENT_CONNECTED","updateState","computeFingerprintHash","then","catch","COMPONENT_RENDERED","some","intervalId","setInterval","alertElem","getRootNode","tagName","clearInterval","sysparm_processor","sysparm_name","filter","fieldValue","path","operation","shouldRender","validateAndVerifyCode","error","fetchMetadata","fetchMetadataSucceeded","fetchMetadataFailed","sendCodeViaEmail","sendCodeViaEmailSucceeded","sendCodeViaEmailFailed","verifyCode","verifyBrowser","verifyCodeWithoutBFP","verifyCodeSucceeded","verifyCodeFailed","test","Promise","resolve","reject","Fingerprint2","excludeAdBlock","components","values","component","x64hash128","__TECTONIC__fingerprintjs_2_2_1_0","createHttpEffect","method","batch","headers","successActionType","errorActionType","interceptors","code","redirect_to","responseXML","DOMParser","parseFromString","results","getElementsByTagName","getAttribute","documentElement","__TECTONIC__$servicenow_ui_effect_http"],"mappings":"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","file":"sn-mfa-validate.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","const base = 'SN_MFA_VALIDATE#';\n\n/**\n * Dispatches when the code entered by user is successfully validated.\n */\nexport const SN_MFA_VALIDATE_SUCCEEDED= `${base}SUCCEEDED`;\n\n/**\n * Dispatches if the code entered by is incorrect for device authenication.\n */\nexport const SN_MFA_VALIDATE_FAILED= `${base}FAILED`;\n\n/**\n * Dispatches when the code is validated and user needs to stay on same page.\n * Will be used by now-login to render respective component. For example User might need to change\n * password after mfa validation.\n */\nexport const SN_MFA_VALIDATE_REDIRECT= `${base}REDIRECT`;\n\nexport const dataHandlerActions = {\n\tFETCH_METADATA: `${base}FETCH_METADATA`,\n\tFETCH_METADATA_SUCCEEDED: `${base}FETCH_METADATA_SUCCEEDED`,\n\tFETCH_METADATA_FAILED: `${base}FETCH_METADATA_FAILED`,\n\n\tVERIFY_BROWSER: `${base}VERIFY_BROWSER`,\n\tVERIFY_CODE_WITHOUT_BFP: `${base}VERIFY_CODE_WITHOUT_BFP`,\n\tVERIFY_CODE: `${base}VERIFY_CODE`,\n\tVERIFY_CODE_SUCCEEDED: `${base}VERIFY_CODE_SUCCEEDED`,\n\tVERIFY_CODE_FAILED: `${base}VERIFY_CODE_FAILED`,\n\n\tSEND_CODE_VIA_EMAIL: `${base}SEND_CODE_VIA_EMAIL`,\n\tSEND_CODE_VIA_EMAIL_SUCCEEDED: `${base}SEND_CODE_VIA_EMAIL_SUCCEEDED`,\n\tSEND_CODE_VIA_EMAIL_FAILED: `${base}SEND_CODE_VIA_EMAIL_FAILED`\n};\n\nexport const actionNames = {\n\tENTER_KEY_PRESSED: `${base}ENTER_KEY_PRESSED`,\n\n\tVERIFY_BFP: `${base}VERIFY_BFP`\n};\n\nexport const dataHandlerURLS = {\n\tDEFAULT_ROUTE: '/angular.do',\n\n\tSEND_CODE_VIA_EMAIL: '/xmlhttp.do'\n};\n\nexport const messageTypes = {\n\tERROR: 'ERROR',\n\tINFO: 'INFO',\n\tSUCCESS: 'SUCCESS'\n};\n\nexport const codeRegEx = /^[0-9]{6}$/;\n\nexport const SEND_CODE_VIA_EMAIL_ALERT_ID = 'sn-mfa-alert-send-code';\n\nexport const icons = {\n\tCRITICAL: 'circle-close-outline',\n\tSUCCESS: 'circle-check-outline',\n\tWARNING: 'circle-exclamation-outline',\n\tDEFAULT: 'bell-outline'\n};\n","(function(e,r){\"object\"==typeof exports?module.exports=exports=r():\"function\"==typeof define&&define.amd?define([],r):e.CryptoJS=r()})(this,function(){var e=e||function(e,r){var t={},i=t.lib={},n=i.Base=function(){function e(){}return{extend:function(r){e.prototype=this;var t=new e;return r&&t.mixIn(r),t.hasOwnProperty(\"init\")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=r?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var r=this.words,t=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var o=0;n>o;o++){var c=255&t[o>>>2]>>>24-8*(o%4);r[i+o>>>2]|=c<<24-8*((i+o)%4)}else if(t.length>65535)for(var o=0;n>o;o+=4)r[i+o>>>2]=t[o>>>2];else r.push.apply(r,t);return this.sigBytes+=n,this},clamp:function(){var r=this.words,t=this.sigBytes;r[t>>>2]&=4294967295<<32-8*(t%4),r.length=e.ceil(t/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(r){for(var t=[],i=0;r>i;i+=4)t.push(0|4294967296*e.random());return new o.init(t,r)}}),c=t.enc={},s=c.Hex={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i+=2)t[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new o.init(t,r/2)}},u=c.Latin1={stringify:function(e){for(var r=e.words,t=e.sigBytes,i=[],n=0;t>n;n++){var o=255&r[n>>>2]>>>24-8*(n%4);i.push(String.fromCharCode(o))}return i.join(\"\")},parse:function(e){for(var r=e.length,t=[],i=0;r>i;i++)t[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new o.init(t,r)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(r){throw Error(\"Malformed UTF-8 data\")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},a=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(r){var t=this._data,i=t.words,n=t.sigBytes,c=this.blockSize,s=4*c,u=n/s;u=r?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var f=u*c,a=e.min(4*f,n);if(f){for(var p=0;f>p;p+=c)this._doProcessBlock(i,p);var d=i.splice(0,f);t.sigBytes-=a}return new o.init(d,a)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=a.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){a.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(e){return function(r,t){return new e.init(t).finalize(r)}},_createHmacHelper:function(e){return function(r,t){return new p.HMAC.init(e,t).finalize(r)}}});var p=t.algo={};return t}(Math);return e});","import {getFocusableNodes} from '@servicenow/behavior-focus';\nimport {messageTypes} from './constants';\n\n/**\n * Returns alert status and icon based on message type\n * @param msgType\n * @returns {{icon: string, status: string}}\n */\nconst getAlertStatusNIcon = msgType => {\n\tlet status, icon;\n\n\tswitch(msgType) {\n\t\tcase messageTypes.ERROR: status = 'critical';  icon = 'circle-close-outline'; break;\n\t\tcase messageTypes.SUCCESS: status = 'positive';  icon = 'circle-check-outline'; break;\n\t\tcase messageTypes.INFO:\n\t\tdefault: status = 'info'; icon = 'bell-outline'; break;\n\t}\n\n\treturn {\n\t\tstatus, icon\n\t};\n};\n\n/**\n * Returns a single alert message config object\n * @param message\n * @param msgType\n * @param actionId\n * @param action\n * @returns {{status: string, icon: string, action: {type: string}, content: string}}\n */\nexport const getAlertMsgConfig = (message, msgType, action) => {\n\tconst alertConfig = getAlertStatusNIcon(msgType);\n\treturn {\n\t\tstatus: alertConfig.status,\n\t\ticon: alertConfig.icon,\n\t\tcontent: message,\n\t\taction: action || {\n\t\t\ttype: 'dismiss',\n\t\t\tid: `sn-mfa-alert-msg-${parseInt(Math.random() * 100)}`\n\t\t}\n\t};\n};\n\n/**\n * sn-mfa-validate component uses this function to convert alert payload from backend into required format\n * @param messages\n */\nexport const getAlertMessages = messages => {\n\tif(!messages)\n\t\treturn [];\n\n\tconst newMessages = [];\n\tmessages.forEach(msgConfig => {\n\t\tif(msgConfig.message)\n\t\t\tnewMessages.push(getAlertMsgConfig(msgConfig.message, msgConfig.type));\n\t});\n\treturn newMessages;\n};\n\n/**\n * AJAX calls require data in x-www-form-urlencoded form. This interceptor converts JSON data into raw format and adds\n * as form data in http request.\n * @param context\n * @example {bfp:'hash1', bfp_hash: 'hash2'} -> 'bfp=hash1&bfp_hash=hash2'\n */\nexport const convertDataInterceptor = context => {\n\tconst {payload} = context.coeffects.action;\n\tconst rawData = [];\n\n\tObject.keys(payload.data).forEach(parameter => {\n\t\trawData.push(`${parameter}=${encodeURIComponent(payload.data[parameter])}`);\n\t});\n\tpayload.data = rawData.join('&');\n\n\treturn {\n\t\t...context\n\t};\n};\n\n/**\n *\n * @param config\n * @returns {{\n * \tbfp: string,\n * \tbfp_hash: string,\n * \tsys_mfa_check_remembered_browser: string,\n * \tremember_browser: string,\n * \tsysparm_process_nonce: string,\n * }}\n */\nexport const generateVerifyCodePathParams = config => {\n\tconst dataParam = {\n\t\tsysparm_type: 'api.login',\n\t\tsysparm_api: 'validate_mfa',\n\t\tsysparm_process: 'validate',\n\t\tsys_mfa_check_remembered_browser: config.sys_mfa_check_remembered_browser.toString() || 'false',\n\t\tremember_browser: config.remember_browser.toString() || 'false'\n\t};\n\n\tif(config.sysparm_process_nonce)\n\t\tdataParam.sysparm_process_nonce = config.sysparm_process_nonce;\n\n\tif(config.bfp)\n\t\tdataParam.bfp = config.bfp;\n\n\tif(config.bfp_hash)\n\t\tdataParam.bfp_hash = config.bfp_hash\n\n\tif(config.txtResponse)\n\t\tdataParam.txtResponse = config.txtResponse;\n\n\treturn {\n\t\tdata: dataParam\n\t};\n};\n\n/**\n * Focus Node\n * @param host\n */\nexport const handleFocus = host => {\n\tconst {tabbableNodes} = getFocusableNodes(host);\n\tconst {length} = tabbableNodes;\n\tif(!length)\n\t\treturn ;\n\ttabbableNodes[length-1].focus();\n};\n\n/**\n * Focus Node\n * @param host\n */\nexport const getFirstFocusableElem = host => {\n\tconst {firstFocusableElement} = getFocusableNodes(host);\n\n\treturn firstFocusableElement;\n};\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","import {t} from 'sn-translate';\n\nexport const translatedTexts = {\n\tcodeViaEmail: t('If you do not have your mobile device or cannot access your code, click the button on right to receive a code via email.'),\n\tcodeViaEmailAction: t('Send'),\n\tcodeViaEmailInProgress: t('Sending code...'),\n\tcodeInputLabel: t('Enter the code generated by your authenticator app'),\n\tcodeInputLabelErrMsg: t('Please enter 6 digit code!'),\n\tcodeInputLabelPlaceholder: t('6-digit code'),\n\tlogin: t('Login'),\n\trememberMe: fieldName => t('Do not challenge MFA on this browser for the next {0} hours', fieldName),\n\tloading: t('Loading...'),\n};\n\n","module.exports = __TECTONIC__$servicenow_ui_core;","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){return function(r){var t=e,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,c=[],a=[];(function(){function e(e){for(var t=r.sqrt(e),n=2;t>=n;n++)if(!(e%n))return!1;return!0}function t(e){return 0|4294967296*(e-(0|e))}for(var n=2,i=0;64>i;)e(n)&&(8>i&&(c[i]=t(r.pow(n,.5))),a[i]=t(r.pow(n,1/3)),i++),n++})();var f=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(c.slice(0))},_doProcessBlock:function(e,r){for(var t=this._hash.words,n=t[0],i=t[1],o=t[2],s=t[3],c=t[4],u=t[5],d=t[6],p=t[7],h=0;64>h;h++){if(16>h)f[h]=0|e[r+h];else{var y=f[h-15],l=(y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,m=f[h-2],x=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;f[h]=l+f[h-7]+x+f[h-16]}var v=c&u^~c&d,q=n&i^n&o^i&o,g=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),b=p+_+v+a[h]+f[h],S=g+q;p=d,d=u,u=c,c=0|s+b,s=o,o=i,i=n,n=0|b+S}t[0]=0|t[0]+n,t[1]=0|t[1]+i,t[2]=0|t[2]+o,t[3]=0|t[3]+s,t[4]=0|t[4]+c,t[5]=0|t[5]+u,t[6]=0|t[6]+d,t[7]=0|t[7]+p},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=r.floor(n/4294967296),t[(i+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256});","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\")):\"function\"==typeof define&&define.amd?define([\"./core\"],r):r(e.CryptoJS)})(this,function(e){(function(){var r=e,t=r.lib,n=t.Base,i=r.enc,o=i.Utf8,a=r.algo;a.HMAC=n.extend({init:function(e,r){e=this._hasher=new e.init,\"string\"==typeof r&&(r=o.parse(r));var t=e.blockSize,n=4*t;r.sigBytes>n&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),a=this._iKey=r.clone(),s=i.words,c=a.words,f=0;t>f;f++)s[f]^=1549556828,c[f]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var r=this._hasher,t=r.finalize(e);r.reset();var n=r.finalize(this._oKey.clone().concat(t));return n}})})()});","import './sn-mfa-validate';\n","export { default as snMfaValidate } from './sn-mfa-validate';\nexport {SN_MFA_VALIDATE_SUCCEEDED, SN_MFA_VALIDATE_FAILED} from './constants';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport styles from './sn-mfa-validate.scss';\nimport {actionNames, SN_MFA_VALIDATE_FAILED, SN_MFA_VALIDATE_SUCCEEDED} from './constants';\nimport {view} from './view.js';\nimport {actionHandlers} from './actions/coreActions';\nimport {translatedTexts as t} from './i18n';\nimport {handleFocus} from './utils';\n\n/**\n * ## MFA-VALIDATE Component\n * @summary Renders mfa validate component for logged in users\n * @seismicElement sn-mfa-validate\n */\ncreateCustomElement('sn-mfa-validate', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tinitialState: {\n\t\tisLoading: true,\n\t\tmessages: [],\n\t\ttxtResponseMessages: [],\n\t\tisRequestInProgress: false,\n\t\tconfig: {}\n\t},\n\tactionHandlers,\n\teventHandlers: [{\n\t\tevents: ['keydown'],\n\t\teffect({ host, action, dispatch }) {\n\t\t\tconst {event} = action.payload;\n\t\t\tif (event.key === 'Enter') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\thandleFocus(host);\n\t\t\t\tdispatch(actionNames.ENTER_KEY_PRESSED);\n\t\t\t}\n\t\t}  \n\t}],\n\tproperties: {\n\t\t/**\n\t\t * Heading of the component\n\t\t * @type {String}\n\t\t */\n\t\theading: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\trequired: false\n\t\t},\n\t\t/**\n\t\t * The action button label\n\t\t * @type {String}\n\t\t * @example {Login Or Verify Or Validate}\n\t\t */\n\t\tactionBtnLabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: t.login,\n\t\t\trequired: false\n\t\t},\n\t\t/**\n\t\t * Will be passed from parent component to render MFA-VALIDATE\n\t\t * @type Object.<\n\t\t * \tis_eligible_to_receive_notification: 'Boolean',\n\t\t * \tnonce: 'String',\n\t\t * \tremember_browser_default_value: 'Number',\n\t\t * \tremembered_bfp_validity: 'Boolean',\n\t\t * \tshow_remember_browser: 'Boolean',\n\t\t * \tverify_remembered_bfp: 'Boolean'\n\t\t * >\n\t\t */\n\t\tconfig: {\n\t\t\tdefault: null,\n\t\t\trequired: false,\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tis_eligible_to_receive_notification: {type: 'boolean'},\n\t\t\t\t\tnonce: {type: 'string'},\n\t\t\t\t\tremember_browser_default_value: {type: 'boolean'},\n\t\t\t\t\tremembered_bfp_validity: {type: 'number'},\n\t\t\t\t\tshow_remember_browser: {type: 'boolean'},\n\t\t\t\t\tverify_remembered_bfp: {type: 'boolean'}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatches when the code entered by user is successfully validated. The payload will contain URL to which user\n\t\t * can redirect.\n\t\t */\n\t\t[SN_MFA_VALIDATE_SUCCEEDED]: {\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\turl: {type: 'string'}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Dispatches if the code entered by is incorrect for device authentication.\n\t\t */\n\t\t[SN_MFA_VALIDATE_FAILED]: {}\n\t}\n});\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-mfa-validate.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host now-button,:host now-checkbox,:host now-input{width:100%;margin-bottom:1.5rem}:host .mfa-validate-wrapper{position:relative}:host .overlay{pointer-events:none;opacity:.5}:host .loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1}\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","import '@servicenow/now-alert';\nimport '@servicenow/now-heading';\nimport '@servicenow/now-input';\nimport '@servicenow/now-button';\nimport '@servicenow/now-checkbox';\nimport '@servicenow/now-loader';\nimport {translatedTexts as t} from './i18n';\nimport {getAlertMsgConfig} from './utils';\nimport {messageTypes, SEND_CODE_VIA_EMAIL_ALERT_ID} from './constants';\n\nexport const view = state => {\n\tif(state.isLoading)\n\t\treturn renderLoader(true);\n\n\tconst {config} = state;\n\treturn (\n\t\t<div className={'mfa-validate-wrapper'}>\n\t\t\t{renderLoader(state.isRequestInProgress, 'loader')}\n\t\t\t<div className={state.isRequestInProgress ? ' overlay' : ''}>\n\t\t\t\t{renderAlert(state.messages, config.is_eligible_to_receive_notification)}\n\t\t\t\t<form>\n\t\t\t\t\t<now-heading label={state.properties.heading} level={'2'} variant={'header-secondary'}/>\n\t\t\t\t\t<now-input type={'text'} label={t.codeInputLabel} required={true} autofocus={true} maxlength={6}\n\t\t\t\t\t\tplaceholder={t.codeInputLabelPlaceholder} value={state.txtResponse} messages={state.txtResponseMessages}/>\n\t\t\t\t\t{config.show_remember_browser ?\n\t\t\t\t\t\t<now-checkbox label={t.rememberMe(config.remembered_bfp_validity)}\n\t\t\t\t\t\t\tchecked={config.remember_browser_default_value}/> : null}\n\t\t\t\t\t<now-button label={state.properties.actionBtnLabel} variant={'primary'} size={'md'}/>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst renderAlert = (messages, canSendCodeViaEmail) => {\n\tif((!messages || !messages.length) && !canSendCodeViaEmail)\n\t\treturn;\n\n\tconst newMessages = [...messages];\n\tif(canSendCodeViaEmail) {\n\t\tnewMessages.push(getAlertMsgConfig(t.codeViaEmail, messageTypes.INFO, {\n\t\t\ttype: 'open',\n\t\t\tlabel: t.codeViaEmailAction,\n\t\t\tid: SEND_CODE_VIA_EMAIL_ALERT_ID\n\t\t}));\n\t}\n\n\treturn newMessages.map(msgConfig => <now-alert status={msgConfig.status} icon={msgConfig.icon} content={msgConfig.content} action={msgConfig.action}/>);\n};\n\nconst renderLoader = (showLoader, className) => showLoader ? <now-loader label={`${t.loading}`} size=\"lg\" className={className}/> : null;\n\n","module.exports = __TECTONIC__$servicenow_now_alert;","module.exports = __TECTONIC__$servicenow_now_heading;","module.exports = __TECTONIC__$servicenow_now_input;","module.exports = __TECTONIC__$servicenow_now_button;","module.exports = __TECTONIC__$servicenow_now_checkbox;","module.exports = __TECTONIC__$servicenow_now_loader;","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__$servicenow_behavior_focus_19_4_1;","import {actionTypes} from '@servicenow/ui-core';\nimport Fingerprint2 from 'fingerprintjs2';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport {\n\tactionNames,\n\tcodeRegEx,\n\tdataHandlerActions, icons,\n\tmessageTypes, SEND_CODE_VIA_EMAIL_ALERT_ID\n} from '../constants';\nimport {\n\tverifyCode, verifyCodeFailed, verifyCodeSucceeded,\n\tsendCodeViaEmail, sendCodeViaEmailFailed, sendCodeViaEmailSucceeded,\n\tfetchMetadata, fetchMetadataSucceeded, fetchMetadataFailed, verifyBrowser, verifyCodeWithoutBFP,\n} from './dataHandlers';\nimport {generateVerifyCodePathParams, getAlertMsgConfig, getFirstFocusableElem} from '../utils';\nimport {translatedTexts as t} from '../i18n';\n\nexport const actionHandlers = {\n\n\t[actionTypes.COMPONENT_CONNECTED]({properties, dispatch, updateState}) {\n\t\tconst {config} = properties;\n\n\t\t//Standalone component case\n\t\tif(!config) {\n\t\t\tdispatch(dataHandlerActions.FETCH_METADATA, {\n\t\t\t\tdata: {\n\t\t\t\t\t'sysparm_type': 'api.login',\n\t\t\t\t\t'sysparm_api': 'validate_mfa',\n\t\t\t\t\t'sysparm_process': 'bfp'\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\t//Config case\n\t\tif(config.verify_remembered_bfp) {\n\t\t\tcomputeFingerprintHash(config.nonce)\n\t\t\t\t.then(({bfp, bfp_hash}) => {\n\t\t\t\t\tdispatch(dataHandlerActions.VERIFY_BROWSER, generateVerifyCodePathParams({\n\t\t\t\t\t\tbfp,\n\t\t\t\t\t\tbfp_hash,\n\t\t\t\t\t\tsys_mfa_check_remembered_browser: config.verify_remembered_bfp,\n\t\t\t\t\t\tremember_browser: config.remember_browser_default_value,\n\t\t\t\t\t\tsysparm_process_nonce: config.nonce,\n\t\t\t\t\t}));\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tdispatch(dataHandlerActions.FETCH_METADATA, {\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t'sysparm_type': 'api.login',\n\t\t\t\t\t\t\t'sysparm_api': 'validate_mfa',\n\t\t\t\t\t\t\t'sysparm_process': 'bfp'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\n\t\tupdateState({\n\t\t\tisLoading: config.verify_remembered_bfp,\n\t\t\tconfig\n\t\t});\n\t},\n\n\t//TODO: Use COMPONENT_TREE_RENDERED in 19.2.\n\t[actionTypes.COMPONENT_RENDERED]({state, host}) {\n\t\tconst focusAlert = state.messages.some(msgConfig=>msgConfig.status === 'critical');\n\t\tif(focusAlert) {\n\t\t\tconst intervalId = setInterval(()=>{\n\t\t\t\tconst alertElem = getFirstFocusableElem(host);\n\t\t\t\tif(alertElem && alertElem.getRootNode().host.tagName === 'NOW-ALERT') {\n\t\t\t\t\talertElem.focus();\n\t\t\t\t\tclearInterval(intervalId);\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\t},\n\n\t['NOW_ALERT#ACTION_CLICKED']: ({action, dispatch, state, updateState}) => {\n\t\tif(action.payload.action.id === SEND_CODE_VIA_EMAIL_ALERT_ID){\n\t\t\tupdateState({\n\t\t\t\tconfig: {\n\t\t\t\t\t...state.config,\n\t\t\t\t\tis_eligible_to_receive_notification: false\n\t\t\t\t},\n\t\t\t\tmessages: [getAlertMsgConfig(t.codeViaEmailInProgress, messageTypes.INFO)],\n\t\t\t});\n\t\t\tdispatch(dataHandlerActions.SEND_CODE_VIA_EMAIL, {\n\t\t\t\tdata: {\n\t\t\t\t\tsysparm_processor: 'GlideOneTimePasswordGenerator',\n\t\t\t\t\tsysparm_name: 'generateOneTimePassword'\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tupdateState({\n\t\t\t\tmessages: state.messages.filter(msgConfig => msgConfig.action.id !== action.payload.action.id)\n\t\t\t});\n\t\t}\n\t},\n\n\t['NOW_INPUT#INPUT']: function({state, updateState}) {\n\t\tif(state.txtResponseMessages.length > 0) {\n\t\t\tupdateState({\n\t\t\t\ttxtResponseMessages: []\n\t\t\t});\n\t\t}\n\t},\n\n\t['NOW_INPUT#INVALID_SET']: function({action, updateState}) {\n\t\tupdateState({\n\t\t\ttxtResponse: action.payload.fieldValue\n\t\t});\n\t},\n\n\t['NOW_CHECKBOX#CHECKED_SET']: function({action, updateState}) {\n\t\tupdateState({\n\t\t\tpath: 'config.remember_browser_default_value',\n\t\t\tvalue: action.payload.value,\n\t\t\toperation: 'merge',\n\t\t\tshouldRender: false\n\t\t});\n\t},\n\n\t['NOW_BUTTON#CLICKED']: validateAndVerifyCode,\n\n\t[actionNames.ENTER_KEY_PRESSED]: validateAndVerifyCode,\n\n\t[actionNames.VERIFY_BFP]({action, dispatch, updateState}) {\n\t\tconst {nonce, verify_remembered_bfp, remember_browser_default_value} = action.payload;\n\t\tcomputeFingerprintHash(nonce)\n\t\t\t.then(({bfp, bfp_hash}) => {\n\t\t\t\tdispatch(dataHandlerActions.VERIFY_BROWSER, generateVerifyCodePathParams({\n\t\t\t\t\tbfp,\n\t\t\t\t\tbfp_hash,\n\t\t\t\t\tsys_mfa_check_remembered_browser: verify_remembered_bfp,\n\t\t\t\t\tremember_browser: remember_browser_default_value,\n\t\t\t\t\tsysparm_process_nonce: nonce,\n\t\t\t\t}));\n\t\t\t}).catch(error => {\n\t\t\t\tupdateState({\n\t\t\t\t\tmessages: [getAlertMsgConfig(error.message, messageTypes.ERROR)],\n\t\t\t\t\tisRequestInProgress: false\n\t\t\t\t});\n\t\t\t});\n\t},\n\n\t[dataHandlerActions.FETCH_METADATA]: fetchMetadata,\n\t[dataHandlerActions.FETCH_METADATA_SUCCEEDED]: fetchMetadataSucceeded,\n\t[dataHandlerActions.FETCH_METADATA_FAILED]: fetchMetadataFailed,\n\n\t[dataHandlerActions.SEND_CODE_VIA_EMAIL]: sendCodeViaEmail,\n\t[dataHandlerActions.SEND_CODE_VIA_EMAIL_SUCCEEDED]: sendCodeViaEmailSucceeded,\n\t[dataHandlerActions.SEND_CODE_VIA_EMAIL_FAILED]: sendCodeViaEmailFailed,\n\n\t[dataHandlerActions.VERIFY_CODE]: verifyCode,\n\t[dataHandlerActions.VERIFY_BROWSER]: verifyBrowser,\n\t[dataHandlerActions.VERIFY_CODE_WITHOUT_BFP]: verifyCodeWithoutBFP,\n\t[dataHandlerActions.VERIFY_CODE_SUCCEEDED]: verifyCodeSucceeded,\n\t[dataHandlerActions.VERIFY_CODE_FAILED]: verifyCodeFailed,\n};\n\nfunction validateAndVerifyCode({dispatch, state, updateState}) {\n\tif(!codeRegEx.test(state.txtResponse)) {\n\t\tupdateState({\n\t\t\ttxtResponseMessages: [{status:'critical', icon: icons.CRITICAL, content: t.codeInputLabelErrMsg}]\n\t\t});\n\t\treturn;\n\t}\n\n\tconst {config} = state;\n\tconst {txtResponse} = state;\n\tconst {nonce, verify_remembered_bfp = false, remember_browser_default_value = false} = config;\n\n\tupdateState({\n\t\tisRequestInProgress: true,\n\t\tmessages: []\n\t});\n\n\tif(!remember_browser_default_value) {\n\t\tdispatch(dataHandlerActions.VERIFY_CODE_WITHOUT_BFP, generateVerifyCodePathParams({\n\t\t\ttxtResponse,\n\t\t\tsys_mfa_check_remembered_browser: verify_remembered_bfp,\n\t\t\tremember_browser: remember_browser_default_value\n\t\t}));\n\t\treturn;\n\t}\n\n\tcomputeFingerprintHash(nonce)\n\t\t.then(({bfp, bfp_hash}) => {\n\t\t\tdispatch(dataHandlerActions.VERIFY_CODE, generateVerifyCodePathParams({\n\t\t\t\tbfp,\n\t\t\t\tbfp_hash,\n\t\t\t\ttxtResponse,\n\t\t\t\tsys_mfa_check_remembered_browser: verify_remembered_bfp,\n\t\t\t\tremember_browser: remember_browser_default_value,\n\t\t\t\tsysparm_process_nonce: nonce,\n\t\t\t}));\n\t\t}).catch(error => {\n\t\t\tupdateState({\n\t\t\t\tmessages: [getAlertMsgConfig(error.message, messageTypes.ERROR)],\n\t\t\t\tisRequestInProgress: false\n\t\t\t});\n\t\t});\n\n}\n\nfunction computeFingerprintHash(nonce) {\n\treturn new Promise( (resolve, reject) => {\n\t\ttry {\n\t\t\tFingerprint2.get({excludeAdBlock: true}, components => {\n\t\t\t\ttry {\n\t\t\t\t\tconst values = components.map(component => component.value);\n\t\t\t\t\tconst bfp = Fingerprint2.x64hash128(values.join(''), 31).toString();\n\t\t\t\t\tconst bfp_hash = HmacSHA256(bfp, nonce.toString()).toString();\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tbfp, bfp_hash\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch(error) {\n\t\t\treject(error);\n\t\t}\n\t});\n}\n","module.exports = __TECTONIC__fingerprintjs_2_2_1_0;","(function(e,r){\"object\"==typeof exports?module.exports=exports=r(require(\"./core\"),require(\"./sha256\"),require(\"./hmac\")):\"function\"==typeof define&&define.amd?define([\"./core\",\"./sha256\",\"./hmac\"],r):r(e.CryptoJS)})(this,function(e){return e.HmacSHA256});","import {createHttpEffect} from '@servicenow/ui-effect-http';\nimport {\n\tactionNames,\n\tdataHandlerActions,\n\tdataHandlerURLS,\n\tmessageTypes,\n\tSN_MFA_VALIDATE_FAILED, SN_MFA_VALIDATE_REDIRECT,\n\tSN_MFA_VALIDATE_SUCCEEDED\n} from '../constants';\nimport {convertDataInterceptor, getAlertMessages, getAlertMsgConfig} from '../utils';\n\nexport const fetchMetadata = {\n\t...createHttpEffect(dataHandlerURLS.DEFAULT_ROUTE, {\n\t\tmethod: 'POST',\n\t\tbatch: false,\n\t\tdataParam: 'data',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n\t\t},\n\n\t\tsuccessActionType: dataHandlerActions.FETCH_METADATA_SUCCEEDED,\n\t\terrorActionType: dataHandlerActions.FETCH_METADATA_FAILED\n\t}),\n\tinterceptors: [convertDataInterceptor]\n};\n\nexport const fetchMetadataSucceeded = ({action, dispatch, updateState}) => {\n\tconst {payload} = action;\n\n\tupdateState({\n\t\tisLoading: payload.verify_remembered_bfp,\n\t\tmessages: getAlertMessages(action.payload.messages),\n\n\t\tconfig: {\n\t\t\tis_eligible_to_receive_notification: payload.is_eligible_to_receive_notification || false,\n\t\t\tnonce: payload.nonce,\n\t\t\tremember_browser_default_value: payload.remember_browser_default_value || false,\n\t\t\tremembered_bfp_validity: payload.remembered_bfp_validity,\n\t\t\tshow_remember_browser: payload.show_remember_browser || false,\n\t\t\tverify_remembered_bfp: payload.verify_remembered_bfp || false\n\t\t}\n\t});\n\n\tif(payload.verify_remembered_bfp) {\n\t\tdispatch(actionNames.VERIFY_BFP, {\n\t\t\tnonce: payload.nonce,\n\t\t\tverify_remembered_bfp: payload.verify_remembered_bfp || false,\n\t\t\tremember_browser_default_value: payload.remember_browser_default_value || false\n\t\t});\n\t}\n};\n\nexport const fetchMetadataFailed = ({action, updateState}) => {\n\tupdateState({\n\t\tmessages: [getAlertMsgConfig(action.payload.message, messageTypes.ERROR)],\n\t\tisLoading: false\n\t});\n};\n\nexport const verifyBrowser = {\n\t...createHttpEffect(dataHandlerURLS.DEFAULT_ROUTE, {\n\t\tmethod: 'POST',\n\t\tbatch: false,\n\t\tdataParam: 'data',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n\t\t},\n\n\t\tsuccessActionType: dataHandlerActions.VERIFY_CODE_SUCCEEDED,\n\t\terrorActionType: dataHandlerActions.VERIFY_CODE_FAILED\n\t}),\n\tinterceptors: [convertDataInterceptor]\n};\n\nexport const verifyCode = {\n\t...createHttpEffect(dataHandlerURLS.DEFAULT_ROUTE, {\n\t\tmethod: 'POST',\n\t\tbatch: false,\n\t\tdataParam: 'data',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n\t\t},\n\n\t\tsuccessActionType: dataHandlerActions.VERIFY_CODE_SUCCEEDED,\n\t\terrorActionType: dataHandlerActions.VERIFY_CODE_FAILED\n\t}),\n\tinterceptors: [convertDataInterceptor]\n};\n\nexport const verifyCodeWithoutBFP = {\n\t...createHttpEffect(dataHandlerURLS.DEFAULT_ROUTE, {\n\t\tmethod: 'POST',\n\t\tbatch: false,\n\t\tdataParam: 'data',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n\t\t},\n\n\t\tsuccessActionType: dataHandlerActions.VERIFY_CODE_SUCCEEDED,\n\t\terrorActionType: dataHandlerActions.VERIFY_CODE_FAILED\n\t}),\n\tinterceptors: [convertDataInterceptor]\n};\n\nexport const verifyCodeSucceeded = ({action, dispatch, updateState}) => {\n\tif(action.payload.code === 200 || action.payload.code === 307) {\n\t\tupdateState({\n\t\t\tisLoading: false,\n\t\t\tisRequestInProgress: false\n\t\t});\n\n\t\tif(action.payload.code === 200)\n\t\t\tdispatch(SN_MFA_VALIDATE_SUCCEEDED, {url: action.payload.redirect_to});\n\t\telse\n\t\t\tdispatch(SN_MFA_VALIDATE_REDIRECT, action.payload);\n\n\t\treturn;\n\t}\n\n\tdispatch(SN_MFA_VALIDATE_FAILED);\n\tupdateState({\n\t\tisLoading: false,\n\t\tisRequestInProgress: false,\n\t\tmessages: getAlertMessages(action.payload.messages)\n\t});\n};\n\nexport const verifyCodeFailed = ({action, dispatch, updateState}) => {\n\tdispatch(SN_MFA_VALIDATE_FAILED);\n\tupdateState({\n\t\tisLoading: false,\n\t\tisRequestInProgress: false,\n\t\tmessages: [getAlertMsgConfig(action.payload.message, messageTypes.ERROR)],\n\t});\n};\n\nexport const sendCodeViaEmail = {\n\t...createHttpEffect(dataHandlerURLS.SEND_CODE_VIA_EMAIL, {\n\t\tmethod: 'POST',\n\t\tbatch: false,\n\t\tdataParam: 'data',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n\t\t},\n\n\t\tsuccessActionType: dataHandlerActions.SEND_CODE_VIA_EMAIL_SUCCEEDED,\n\t\terrorActionType: dataHandlerActions.SEND_CODE_VIA_EMAIL_FAILED\n\t}),\n\tinterceptors: [convertDataInterceptor]\n};\n\nexport const sendCodeViaEmailSucceeded = ({action, state, updateState}) => {\n\tconst parser = new DOMParser();\n\tconst responseXML = parser.parseFromString(action.payload, 'application/xml');\n\tconst results = responseXML.getElementsByTagName('result');\n\n\tlet newState;\n\tif(results && results.length > 0) {\n\t\tnewState = {\n\t\t\tmessages: [getAlertMsgConfig(results[0].getAttribute('msg'), messageTypes.SUCCESS)]\n\t\t};\n\t} else {\n\t\tnewState = {\n\t\t\tmessages: [getAlertMsgConfig(responseXML.documentElement.getAttribute('error'), messageTypes.ERROR)],\n\t\t\tconfig: {\n\t\t\t\t...state.config,\n\t\t\t\tis_eligible_to_receive_notification: true\n\t\t\t}\n\t\t};\n\t}\n\n\tupdateState(newState);\n};\n\nexport const sendCodeViaEmailFailed= ({action, state, updateState}) => {\n\tupdateState({\n\t\tmessages: [getAlertMsgConfig(action.payload.message, messageTypes.ERROR)],\n\t\tconfig: {\n\t\t\t...state.config,\n\t\t\tis_eligible_to_receive_notification: true\n\t\t}\n\t});\n};\n","module.exports = __TECTONIC__$servicenow_ui_effect_http;"],"sourceRoot":""}