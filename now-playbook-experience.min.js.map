{"version":3,"sources":["webpack://__TECTONIC__$servicenow_now_playbook_experience/webpack/bootstrap","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/constants.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-panel-navigation/constants.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/notification.constants.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_ui_effect_graphql\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/utils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/utils/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__sn_uxpage_presource_18_0_3\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/gql.constants.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/empty-state/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/behaviors/playbookCardBehavior.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$devsnc_sn_glide_form_controls\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./node_modules/@servicenow/behavior-rtl/lib/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-link-interceptor/constants.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/utils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderNowLabelValue.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$devsnc_sn_declarative_actions\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_dropdown\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/ambUtils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/amb-batch-subscription/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/behaviors/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/behaviors/playbookRecordBehavior.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/behaviors/playbookFieldListBehavior.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-empty/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderFormFieldControls.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderFormSection.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/sn-playbook-form-section/sn-playbook-form-section-footer.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$devsnc_sn_scripting_environment\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/sn-playbook-form-section/features.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_collapse\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_highlighted_value\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-link-interceptor/utils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_loader\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-radial-progress/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-stage-panel/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-card-actions/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_modal\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/processingUtils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$devsnc_library_uxf\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/amb-batch-subscription/constants.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/filterUtils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-panel-layout/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-stage-selector/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-cancelled-popover/styles.scss?b170","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card-default/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card-default/sn-playbook-card-default.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/assets/images/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/assets/images/circle-close-outline-xl.svg","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/assets/images/circle-exclamation-outline-xl.svg","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/assets/images/circle-semi-dashed-check-outline-md.svg","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/assets/images/triangle-exclamation-outline-xl.svg","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/assets/images/no-match.svg","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/assets/images/no-playbook.svg","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_ui_effect_update_state\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$devsnc_sn_form_controls\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card-default/styles.scss?4d56","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card-default/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card-default/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderAttachments.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderChecklist.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderEmptyState.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-empty/sn-playbook-empty.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-empty/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-empty/styles.scss?5000","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-empty/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderFieldList.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderForm.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/sn-playbook-form-section/sn-playbook-form-section.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderFormFieldList.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderPlaybookFooter.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderRichText.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/render-utils/renderSnippet.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/sn-playbook-form-section/sn-playbook-form-section-scripted.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$devsnc_library_form_19_0_13\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/sn-playbook-card.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./node_modules/@servicenow/behavior-rtl/lib/rtl.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/actions/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/actions/cardActions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/actions/general.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/styles.scss?f08b","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_rich_text\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_template_message\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-header-actions/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-header-actions/sn-playbook-card-header-actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/cancelPlaybookBehavior/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/declarativeActionsHeaderClickedBehavior/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/nowTextAreaInputBehavior/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-link-interceptor/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-link-interceptor/snLinkInterceptorBehavior.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-link-interceptor/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-link-interceptor/events.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-panel-navigation/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-panel-navigation/snPanelNavigationBehavior.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-panel-navigation/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/sn-panel-navigation/events.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/stageSelectorActionsDropdownBehavior/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/behaviors/transformDeclarativeActionsBehavior/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-header-actions/styles.scss?bf75","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-header-actions/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-header-actions/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-loader/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-loader/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-loader/styles.scss?1f06","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-loader/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-card-loader/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/subcomponents/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card/subcomponents/HeaderActivityState.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-radial-progress/now-playbook-radial-progress.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-radial-progress/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-radial-progress/styles.scss?54e8","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-radial-progress/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-declarative-actions-data-provider/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-declarative-actions-data-provider/sn-playbook-declarative_actions-data-provider.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-declarative-actions-data-provider/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-declarative-actions-data-provider/declarative-action-query.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-knowledge/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-knowledge/now-playbook-experience-card-knowledge.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-knowledge/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-knowledge/styles.scss?cf8d","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-knowledge/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-knowledge/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card-mediator/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/sn-playbook-card-mediator/sn-playbook-card-mediator.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-list/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-list/now-playbook-experience-card-list.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-list/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_record_list_connected\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-list/styles.scss?5fda","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-list/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-create-record/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-create-record/now-playbook-experience-card-create-record.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-create-record/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_record_form_connected\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-create-record/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-create-record/styles.scss?5ea1","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/activity-renderers/cards/now-playbook-experience-card-create-record/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-stage-panel/now-playbook-stage-panel.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-stage-panel/helpers.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-stage-panel/styles.scss?f6b4","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-stage-panel/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-stage-panel/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-card-actions/sn-playbook-card-actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_library_enhanced_element_18_3_20\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_behavior_resize_18_3_20\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-card-actions/styles.scss?fba4","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/sn-playbook-card-actions/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/playbook-card/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__sn_component_checklist\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/playbook-card/customCreateElement.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-activity-stream-modal/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-activity-stream-modal/now-playbook-activity-stream-modal-connected.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_activity_stream\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/now-playbook-data-broker.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/utils/findActivityIndexAndOperation.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/utils/getAMBChannel.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/utils/getDefaultConfigProperties.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/utils/getUpdatedLaneStats.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/utils/incrementSingleActivityStats.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/utils/setCoeffectsPayload.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/amb-batch-subscription/utils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/activityAddOrUpdate.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/activityFetch.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/modifiers/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/modifiers/debounce.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/activityLoading.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/activitySkip.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/ambPlaybook.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_ui_effect_amb\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/ambRecordWatcher.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/amb-batch-subscription/ambBatchSubscriptionEffect.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__cuid_2_1_4\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/amb-batch-subscription/amb-client.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/effects/amb-batch-subscription/effectUtils.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__path_to_regexp_3_0_0\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/filter.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/filterUtils/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/filterUtils/cleanUpFilter.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/filterUtils/combineSelectedFilters.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/filterUtils/evaluateFilterOnCard.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/filterUtils/reduceSelectedFilters.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/graphql.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/lifecycle.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/playbookActions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-data-broker/actions/updateActivityContext.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience/now-playbook-experience.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience/styles.scss?b1ec","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-connected/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-cancel-playbook-modal/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-cancel-playbook-modal/now-cancel-playbook-modal.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-cancel-playbook-modal/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-cancel-playbook-modal/styles.scss?a1e6","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-cancel-playbook-modal/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-cancel-playbook-modal/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_textarea\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-panel-layout/now-playbook-panel-layout.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-stage-selector/now-playbook-stage-selector.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-stage-selector/styles.scss?ffe3","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-stage-selector/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-stage-selector/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/playbook-heading/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-cancelled-popover/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-cancelled-popover/now-playbook-cancelled-popover.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_popover\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_text_link\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-cancelled-popover/now-playbook-cancelled-popover-content.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/now-playbook-cancelled-popover/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-actions/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-actions/sn-playbook-actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-actions/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-actions/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/stage-item/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/external \"__TECTONIC__$servicenow_now_badge\"","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-stage-actions/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-stage-actions/sn-playbook-stage-actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-stage-actions/actions.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/components/sn-playbook-stage-actions/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-panel-layout/styles.scss?f6d8","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-panel-layout/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-connected/styles.scss?012c","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-connected/styles.scss","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-modal-default/index.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-modal-default/now-playbook-experience-modal-default.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-modal-default/view.js","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-modal-default/styles.scss?c880","webpack://__TECTONIC__$servicenow_now_playbook_experience/./src/now-playbook-experience-modal-default/styles.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","PLAYBOOK_MODEL_ID","PLAYBOOK_STAGE_MODEL_ID","PLAYBOOK_CARD_MODEL_ID","PLAYBOOK_CARD","LOADING_TEXT_DEFAULT","CARD_PROPS_TO_QUERY_MAP","parentTable","parentSysId","associatedTable","associatedSysId","associatedRecordModCount","activityType","activityState","activityProperties","declarativeActions","declarativeModel","configProperties","contextId","filterData","assignedTo","prioritized","PLAYBOOK_STATE_VALUES","IN_PROGRESS","COMPLETE","ERROR","CANCELLED","PENDING_CANCEL","PENDING_DISPLAY_VALUE","IN_PROGRESS_DISPLAY_VALUE","COMPLETE_DISPLAY_VALUE","SKIPPED_DISPLAY_VALUE","ERROR_DISPLAY_VALUE","CANCELLED_DISPLAY_VALUE","PAUSED_DISPLAY_VALUE","IN_PROGRESS_IMG","src","circleSemiDashedCheckOutlineMd","height","alt","CARD_STATE_VALUES","PENDING","displayValue","status","icon","className","READY","img","SKIPPED","SCHEDULED","LANE_STATE_VALUES","PAUSED","ANIMATE_CARD_STATE_CHANGES","text","EVENT_KEY","TAB","ARROW","UP","DOWN","LEFT","RIGHT","PAGE","HOME","END","ENTER","SPACE","CONTROL","SHIFT","ALT","META","ESCAPE","UPDATE_PLAYBOOK_CONTEXT_WHITELIST","PLAYBOOK_STATE_TO_NDS_STATUS_MAP","PLAYBOOK_FETCH_ALL_PLAYBOOK_ERROR","PLAYBOOK_ERROR","UPDATE_PLAYBOOK_CONTEXT","PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS","PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_GQL","PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_STARTED","PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_SUCCEEDED","PLAYBOOK_BOOTSTRAP_DECLARATIVE_ACTIONS","PLAYBOOK_FETCH_DECLARATIVE_ACTIONS","PLAYBOOK_FETCH_DECLARATIVE_ACTIONS_SUCCEEDED","PLAYBOOK_FETCH_DECLARATIVE_ACTIONS_ERROR","PLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS","PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_DEBOUNCED","PLAYBOOK_FETCH_ACTIVITY_CONTEXTS","PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_SUCCEEDED","PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_FAILED","PLAYBOOK_ADD_OR_UPDATE_ACTIVITIES","PLAYBOOK_SET_ACTIVITY_LOADING","PLAYBOOK_CLEAR_ACTIVITY_LOADING","PLAYBOOK_ACTIVITY_ANIMATION_END","PLAYBOOK_FETCH_TABLE_FROM_FLOW","PLAYBOOK_FETCH_TABLE_FROM_FLOW_SUCCEEDED","PLAYBOOK_FETCH_TABLE_FROM_FLOW_FAILED","PLAYBOOK_UPDATE_CREATE_RECORD_FLOW","PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_SUCCEEDED","PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_FAILED","PLAYBOOK_CARD_AUTOMATED_ICON","PLAYBOOK_CARD_AUTOMATED_TAGLINE","PLAYBOOK_START_ACTIVITY_CONTEXT","PLAYBOOK_SKIP_ACTIVITY_CONTEXT","PLAYBOOK_COMPLETE_ACTIVITY_CONTEXT","PLAYBOOK_CANCEL_ACTIVITY_CONTEXT","PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL","PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_SUCCEEDED","PLAYBOOK_FETCH_PLAYBOOKS","PLAYBOOK_REQUEST_FETCH_PLAYBOOKS","PLAYBOOK_FETCH_PLAYBOOKS_DEBOUNCED","PLAYBOOK_FETCH_PLAYBOOK_SUCCEEDED","PLAYBOOK_STANDARD_TOOLTIP_DELAY","PLAYBOOK_EXPAND_TOOLTIP","PLAYBOOK_COLLAPSE_TOOLTIP","CANCEL_PLAYBOOK","CANCEL_PLAYBOOK_CONFIRMED","PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_MUTATION_GQL","PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_SUCCEEDED","PLAYBOOK_ACTIONS_DROPDOWN_OPENED_SET","CANCEL_PLAYBOOK_STAGE","PLAYBOOK_STAGE_ACTIONS_DROPDOWN_OPENED_SET","PLAYBOOK_STAGE_LIST_EXPANDED_SET","PLAYBOOK_STAGE_CLICKED","PLAYBOOK_STAGE_DESELECT","PLAYBOOK_STAGE_SELECTION_UPDATE","PLAYBOOK_STAGE_PANEL_UPDATE_FIRST_CARD_NAV_ID","PLAYBOOK_STAGE_DEFAULT_TITLE","PLAYBOOK_STAGE_SELECTOR_SOURCE","PLAYBOOK_STAGE_PANEL_SOURCE","BACK_TO_STAGE_SELECTOR_NAV_ID","PLAYBOOK_RECORD_FETCH","PLAYBOOK_RECORD_STARTED","PLAYBOOK_RECORD_SUCCEEDED","PLAYBOOK_RECORD_FAILED","PLAYBOOK_RECORD_INIT","PLAYBOOK_RECORD_FIELD_UPDATE","PLAYBOOK_RECORD_SET_FIELDS","PLAYBOOK_CARD_KNOWLEDGE_FETCH","PLAYBOOK_CARD_KNOWLEDGE_STARTED","PLAYBOOK_CARD_KNOWLEDGE_SUCCEEDED","PLAYBOOK_CARD_KNOWLEDGE_FAILED","PLAYBOOK_CARD_FORM_FIELDS_REQUIRED","PLAYBOOK_SUFFICIENT_DATA","ADD_NOTIFICATIONS","DEFAULT_MAX_FORM_FIELDS_RENDERED_IN_CARD","PLAYBOOK_DECLARATIVE_ACTION","SKIP_ACTIVITY","SKIP_ACTIVITY_REQUEST","SKIP_ACTIVITY_SUCCEEDED","SKIP_ACTIVITY_FAILED","PLAYBOOK_CARD_DEFAULT_TOOLTIP","PLAYBOOK_CARD_EXPAND_TOOLTIP","PLAYBOOK_CARD_COLLAPSE_TOOLTIP","PLAYBOOK_CARD_PRIORITIZED_EXPAND_TOOLTIP","PLAYBOOK_CARD_PRIORITIZED_COLLAPSE_TOOLTIP","PLAYBOOK_CARD_PENDING_TOOLTIP","PLAYBOOK_CARD_ERROR_TOOLTIP","PLAYBOOK_SHOW_FORM","PLAYBOOK_CLOSE_FORM_FIELDS_MODAL","ELLIPSES","NOW_MODAL_OPENED_SET","REFRESH_REQUESTED","DECLARATIVE_ACTION","DECLARATIVE_ACTION_UPDATE_RENDER","DECLARATIVE_ACTION_CANCEL_ACTION","DECLARATIVE_ACTION_TYPE_SERVER_SCRIPT","DECLARATIVE_ACTION_TYPE_COMPONENT","MAX_NUM_DAS_BOTTOM_OF_CARD","CARD_ACTIONS_BREAK","CARD_ACTIONS_SIZES","sm","md","lg","RENDER_MODE_CARD_CLICKED","RENDER_MODE_BUTTON","RENDER_MODE_HEADER_DROPDOWN","RENDER_MODE_HEADER_ICON","NOW_ACCORDION_EXPANDED_SET","NOW_CARD_CLICKED","NOW_LABEL_VALUE_STACKED_TEXT_LINK_CLICKED","NOW_TEXT_LINK_CLICKED","NOW_BUTTON_ICONIC_CLICKED","NOW_DROPDOWN_OPENED_SET","NOW_DROPDOWN_ITEM_CLICKED","NOW_DROPDOWN_PANEL_ITEM_CLICKED","NOW_TEXTAREA_INPUT","NOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED","NOW_DROPDOWN_CUSTOM_TARGET_OPENED_SET","NOW_ALERT_LIST_ITEMS_SET","PREVIEW_RECORD","NOW_RECORD_COMPACT_BACK_CLICKED","NOW_RECORD_COMPACT_ACTION_CLICKED","SN_KB_LOAD_METADATA_SUCCEEDED","GFORM_SAVE","GFORM_RELOAD","GFORM_VALIDATE_SUCCESS","RECORD_STATUS_CHANGED","RECORD_STATUS_INSERTED","RECORD_STATUS_UPDATED","FORM_DATA_PROVIDER_FETCH_START_REQUESTED","GLOBAL_TABLE","CLASSIC_FORM_EMULATED_WORKSPACE_CONFIG_ID","PLAYBOOK_UPDATE_FILTER","PLAYBOOK_CLEAN_SELECTED_FILTERS","FILTER_ICON","FILTERED_ICON","FILTER_CLASS","FILTER_TOOLTIP","CARD_STATUS_FILTER_SECTION","AMB_CHANNEL_ID","PLAYBOOK_SUBSCRIBE","PLAYBOOK_CHANNEL_UPDATE_RECEIVED","PLAYBOOK_RW_BATCH_SUBSCRIBE","PLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS","PLAYBOOK_RW_CHANNEL_UPDATE_RECEIVED","PLAYBOOK_EMPTY_HEADER_TITLE_DEFAULT","PLAYBOOK_EMPTY_BODY_TITLE_DEFAULT","LINK_INTERCEPTOR_SAVE_URLS","PLAYBOOK_FIELD_LIST_UPDATED","PLAYBOOK_FIELD_LIST_EMPTY","LIST_DATA_FETCH_COMPLETE","PLAYBOOK_RENDERERS","PLAYBOOK_CANCELLATION_REASON","PLAYBOOK_CARD_VIEW_MODE_CHANGE","PLAYBOOK_NOTIFICATION","IMG_EMPTY_STATE_FILTER","noMatch","IMG_EMPTY_STATE_PLAYBOOK","noPlaybook","IMG_EMPTY_STATE_LANE","circleExclamationOutlineXl","IMG_EMPTY_STATE_CARD_PENDING","circleCloseOutlineXl","IMG_EMPTY_STATE_CARD_CANNCELLED","IMG_EMPTY_STATE_CARD_ERROR","triangleExclamationOutlineXl","__TECTONIC__$servicenow_ui_core","__TECTONIC__lodash_4_17_4","__TECTONIC__sn_translate","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","PANEL_NAVIGATION_BEHAVIOR_NAME","PANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID","PANEL_NAVIGATION_SET_FOCUS_ANCHOR","PANEL_NAVIGATION_UPDATE_MAP","PANEL_NAVIGATION_TAKE_FOCUS","PANEL_NAVIGATION_SWITCH_FOCUS","NOTIFICATION_NETWORK_ERROR","header","body","illustration","NOTIFICATION_SYSTEM_ERROR","NOTIFICATION_NO_PLAYBOOKS_AVAILABLE","NOTIFICATION_PLAYBOOK_ERROR","NOTIFICATION_PLAYBOOK_STAGE_ERROR","NOTIFICATION_PLAYBOOK_CARD_ERROR","NOTIFICATION_PLAYBOOK_INPUTS_MISSING","NOTIFICATION_PLAYBOOK_CARD_PENDING","NOTIFICATION_PLAYBOOK_LANE_CANCELLED","NOTIFICATION_PLAYBOOK_STAGE_EMPTY","NOTIFICATION_PLAYBOOK_CANCELLED","NOTIFICATION_PLAYBOOK_CARD_CANCELLED","NOTIFICATION_PLAYBOOK_EMPTY","NOTIFICATION_ZERO_FILTER_RESULTS","NOTIFICATION_ZERO_STAGE_FILTER_RESULTS","__TECTONIC__$servicenow_ui_effect_graphql","formatFields","fields","innerFields","field","indexElements","elements","reduce","acc","element","getElements","action","getValues","getTableDisplayValue","table","getNumberDisplayValue","getUpdatedByValue","getLastJournalEntry","convertElementInfo","convertFormFields","elementsIndexed","valuesIndexed","formFields","formFieldItems","elementsIndexedNew","forEach","isGlideVarType","glidevars","ele","valueName","modelTable","formFieldItem","createField","tempFormFieldItem","convertFormFieldListItem","label","type","reference","getMissingMandatoryFields","validateMandatoryFields","invalid","formatColumns","info","converted","isHTMLType","FieldType","REFERENCE","convertNullToEmptyString","href","sysId","URL","opensWindow","HTML","TRANSLATED_HTML","showFormFieldList","formFieldsRequired","ensureFieldDictionaryType","collection","filtered","fieldValue","undefined","dictionary","mandatory","isMandatory","originalValue","originalDisplayValue","fieldname","referringRecordId","referringTable","canWrite","readonly","isReadonly","collectHTMLValues","fieldItems","accu","defaultRendererProperties","default","showActivityState","showAutomatedManualIndicator","loading","expandOnMountOrChange","userId","activityLabel","cancelPlaybookBehavior","declarativeActionsHeaderClickedBehavior","createNowTextAreaInputBehavior","snLinkInterceptorBehavior","snPanelNavigationBehavior","stageSelectorActionsDropdownBehavior","createTransformDeclarativeActionsBehavior","createTransformDeclarativeActionsBehaviorFromModel","__TECTONIC__sn_uxpage_presource_18_0_3","CARD_QUERY","LANE_QUERY","PLAYBOOK_QUERY","recordQuery","renderAttachments","renderChecklist","renderEmptyState","getEmptyState","renderFieldList","getFieldList","renderForm","showFormSection","renderFormFieldControls","renderFormFieldList","renderFormSection","renderNowLabelValue","renderPlaybookFooter","renderRichText","renderSnippet","title","level","alignment","actions","heading","style","position","top","overflow","COMPONENT_PROPERTY_CHANGED","actionTypes","playbookCardBehavior","properties","playbookCardProperties","computed","notification","hasSufficientData","formFieldsInModal","pending_title","pending_description","footer","is_automated","show_sla","tagline","pendingTitle","pendingDescription","cardFooter","showSla","actionHandlers","payload","updateState","previousValue","associatedRecordUpdated","Date","now","__TECTONIC__$devsnc_sn_glide_form_controls","_rtl","obj","__TECTONIC__$servicenow_now_icon","BEHAVIOR_NAME","INVALID_URL_TYPE","SAVE_URLS","FETCH_BROKER","FETCH_BROKER_DELAYED","FETCH_URLS","FETCH_URLS_SUCCEEDED","FETCH_URLS_FAILED","OPEN_IN_WORKSPACE","getParsedDoc","html","DOMParser","parseFromString","getBehaviorPath","stripHTML","decodeHTML","test","setIfAbsent","withStopPropagation","handlers","mapValues","effect","stopPropagation","getBehaviorState","state","setBehaviorState","nextState","currentState","path","operation","items","opts","align","size","itemMinWidth","truncated","wrapped","__TECTONIC__$devsnc_sn_declarative_actions","__TECTONIC__$servicenow_now_dropdown","pushRecord","record","sysIds","Array","isArray","includes","set","hasAnUnwatchedRecord","pushAssociatedRecord","activityOrCard","associatedRecord","pushExperienceStatusRecord","experience_status_table","statusTable","experience_status_record","statusRecord","getChannelId","filter","constructRWQueryBatchFromRecordsMap","records","constructRWFilter","sys_id","watchingRecords","hasAnUnwatchedAssociatedRecord","activity","hasAnUnwatchedExperienceStatusRecord","snPlaybookCardDefault","snPlaybookCard","snPlaybookDADataProvider","nowPlaybookExperienceCardKnowledge","snPlaybookCardMediator","nowPlaybookExperienceCardList","nowPlaybookExperienceCardCreateRecord","COMPONENT_BOOTSTRAPPED","allowedPropertyChanges","fetchRecordEffect","createGraphQLEffect","templateVarList","variableList","startActionType","successActionType","errorActionType","getConvertedFormFieldItems","values","recordFailedEffect","createUpdateStateEffect","recordInitEffect","dispatch","formView","view","columns","playbookRecordBehavior","initialState","recordFields","record_fields","split","form_fields","form_view","error","errors","hasErrors","formFieldItemsNew","updatedformFieldItems","newVersion","oldVersion","find","msg","LiveUpdateMessage","setNewValue","messages","message","JOURNAL","recordLink","COMPONENT_CONNECTED","FIELD_LIST_BEHAVIOR_NAME","playbookFieldListBehavior","refreshRequested","options","fieldListProperties","htmlValues","fieldListItems","result","prop","relatedProperties","elementData","componentId","slot","fac","controlElementFactory","getFormControl","e","updatedField","GLIDE_LIST","display_value_list","onValueChange","Control","props","context-id","associated-table","associated-sys-id","form-view","associated-record-mod-count","createCustomElement","renderer","snabbdom","actionSelected","dispatchAction","actionSelectedValue","GFORM_ACTIONS","GFORM_VALIDATE","successActionName","selectedAction","model","fieldArray","__TECTONIC__$devsnc_sn_scripting_environment","getViewProp","forcedViewName","__TECTONIC__$servicenow_now_collapse","__TECTONIC__$servicenow_now_highlighted_value","__TECTONIC__$servicenow_now_tooltip","extractAnchorUrls","stagedUrls","invalidUrls","capturedUrls","urls","Set","frag","document","createDocumentFragment","div","createElement","appendChild","innerHTML","querySelectorAll","anchor","url","has","add","from","getPath","collectAnchorUrls","getCleanedUrl","substring","getFetchableUrls","maxRetry","fetchableUrls","count","addToStagedUrls","assign","addToInvalidUrls","newInvalidUrls","addToCapturedUrls","newCapturedUrls","incrementStagedUrlCount","processResult","processedStagedUrls","processedInvalidUrls","processedCapturedUrls","entry","killEvent","event","preventDefault","__TECTONIC__$servicenow_now_button","__TECTONIC__$servicenow_now_loader","__TECTONIC__$servicenow_now_heading","__TECTONIC__$servicenow_now_modal","processCard","playbook","card","currentUserId","newCard","dv","selectedFilters","reducedSelectedFilter","reduceSelectedFilters","evaluateFilterOnCard","parentRecord","activityProperty","recordFieldList","recordFieldHasComments","processLanes","registeredRenderers","newRenderers","lanes","pbResult","lane","cards","laneResult","pushToFilter","newHtmlValues","cardRendererTag","recordWatchMap","newCardState","show","incrementSingleActivityStats","stats","readyItems","totalItems","completedItems","skippedItems","expanded","some","processPlaybook","getDefaultConfigProperties","currentRegisteredRenderers","getComponentsByTagNames","toBeAdded","__TECTONIC__$devsnc_library_uxf","AMB_CHANNEL_SUBSCRIBE_STARTED","AMB_CHANNEL_SUBSCRIBE_SUCCEEDED","AMB_CHANNEL_SUBSCRIBE_FAILED","AMB_CHANNEL_UNSUBSCRIBE_SUCCEEDED","AMB_MESSAGE_RECEIVED","initialFilter","playbookFilterData","newFilterData","isEmpty","cardFilterData","cardFilter","fieldName","fieldLabel","trim","newFilter","children","filterIndex","findIndex","itemCount","filterObject","selected","currentOption","filterSection","removeFromFilter","toBeCleanedSelectedFilterOption","newToBeCleanedSelectedFilterOption","isSelectedFilterOption","oldChildren","oldChild","newOptions","newChildren","shouldRemoveCategory","shouldRemoveOption","removeCategory","splice","entries","combineSelectedFilters","shouldBeSelected","combined","selectedFilterCount","keys","match","shouldExpand","hidden","filterValues","exp","RegExp","defer","cleanUpFilter","newSelectedFilters","toBeCleanedOptions","option","newSelectedFilter","newSelectedOption","index","Cards","PlaybookBehaviors","PlaybookRenderUtils","PlaybookActivityRendererUtils","showChecklist","description","associated_table","associated_record","attachment_source","behaviors","behavior","preWsConfigSysId","show_checklist","workspaceConfigId","getPreSource","styles","__TECTONIC__$servicenow_ui_effect_update_state","__TECTONIC__$devsnc_sn_form_controls","mediatorComponentId","sys-id","field-whitelist","slotName","attachments_read_only","readOnly","is-attachment-upload-disabled","is-read-only","classic-form","refresh-requested","document-id","cancelledTitle","cancelledDescription","bodyTitle","bodyText","fieldListProperty","mediatorId","action-Selected","dispatch-action","updateProperties","formFieldListItems","snippet","getStatus","getIcon","COMPONENT_RENDER_REQUESTED","clientScriptBehavior","createClientScriptBehavior","classicForm","fetchFormDataActions","getFetchActions","computeFilteredFields","fieldWhitelist","filteredFields","whitelistedFieldName","indexOf","computeFilteredSections","sections","rows","section","newRows","row","column","formData","formModal","notifications","filteredSections","formSectionProperties","config","getConfig","showActivityStream","isSectionMenuHidden","noSectionHeaderPadding","inUiBuilder","getGFormAttributes","alerts","idx","manage-items","required","readOnlyForm","actionType","REMOVE_NOTIFICATION","CLEAR_NOTIFICATIONS","notificationAction","currentWhitelist","previousWhitelist","previousRenderProperties","previousRenderState","__TECTONIC__$devsnc_library_form_19_0_13","modalProperties","headerActionsDropdownOpened","maxFormFieldsOnCard","schema","buttonActions","selectable","cardClickActions","caption","headerIconActions","headerDropdownActions","isAutomated","eventHandlers","events","preUserData","rtlBehavior","dir","reflect","generalActionHandlers","cardActionHandlers","COMPONENT_DOM_READY","allowedTransformActions","transformDeclarativeActions","evaluatedActions","transformer","renderBottomButtonsCount","transformedActions","results","clickActionType","tempAction","assignmentId","renderMode","variant","buttonType","headerIconAction","interceptors","after","coeffects","contextIds","modalOpen","modalLinkText","modalAction","endsWith","slice","modalFooterActions","on-click","opened","header-label","footer-actions","append-to-payload","modalSubmit","renderModal","slaConfiguration","showFormSectionProperty","emptyState","getEmptyStateData","statePendingOrError","stateCancelled","collapseSectionId","showFormSectionValue","isPrioritized","component-id","show-form-section","class","role","aria-label","aria-expanded","controls","on-keydown","tabindex","data-nav","hook-insert","elm","mapKey","mapEntry","domRef","config-aria","HeaderActivityState","on-mouseover","startsWith","Fragment","userName","imageSrc","avatar","delay","targetRef","previousElementSibling","__TECTONIC__$servicenow_now_avatar","__TECTONIC__$servicenow_now_rich_text","__TECTONIC__$servicenow_now_template_message","cancelPlaybookContext","playbooksByContextId","playbookContextId","setTimeout","payloadAction","cancellationReason","playbookExperienceId","playbookCloseCancelModal","headerClicked","disabled","textAreaInputField","textAreaField","isFetching","tableExceptions","behaviorState","newUrls","newStagedUrls","sysparm_link","createHttpEffect","method","queryParams","batch","pr","__TECTONIC__$servicenow_ui_effect_http","composedPath","el","tagName","getAttribute","captured","ctrlKey","shiftKey","metaKey","button","sysKbId","navMap","focusNavId","currentMapEntry","entryKey","navData","focus","handleArrowKey","navId","direction","onFocusDispatchId","dispatchSource","navIdOrData","data","dispatchId","ePath","navElement","dataset","nav","upNavId","up","upData","downNavId","down","downData","newNavData","openedState","playbookActionsDropdownOpened","stageName","openedActionsDropdownByStageName","computedModel","transformedDeclarativeActions","task","configuration","tooltipContent","tooltip","bare","hidePadding","configAria","select","hideCaret","animation","animationIcon","animationText","isNil","on-animationend","animationName","progress","strokeWidthFromSize","xl","getColorStyle","color","minimum","maximum","enum","backRingColor","checkmarkColor","checkmarkCompleteColor","showCompleteIcon","isComplete","ring","radius","strokeWidth","circumference","Math","PI","backRingAttributes","cx","cy","progressRingAttributes","toFixed","checkmarkAttributes","points","complete","attrs","xmlns","viewBox","preserveAspectRatio","checkmark","modelId","activityDefinitionId","parentRecordUpdateTime","daActionHandlers","excludedPropertyChanges","fetchPlaybookDeclarativeActions","declarativeActionQuery","modifier","declarativeActionResponse","knowledge","updated","views","knowledgeTable","knowledge_table","knowledgeRecord","knowledge_record","queryFields","fetchEffect","knowledgeQuery","initiateFetchEffect","context","validatedMandatoryFields","missingFieldLabels","list_title","transformState","list_query","row_count","max_columns","ui_view","parseInt","listResultsCount","hidePagination","timestamp","background","listType","listTitle","variantHeader","headingLevel","query","limit","max-columns","hide-pagination","hide-limit-selector","hide-view-all","hide-cell-filter","hide-row-selector","hide-filter-panel","hide-last-refreshed-text","hide-menu-button","hide-declarative-actions","hide-panel","hide-quick-edit","hide-column-filtering","hide-column-grouping","__TECTONIC__$servicenow_now_record_list_connected","__TECTONIC__$servicenow_now_record_form_connected","initiateGetTableEffect","getTableFromFlowEffect","getTableFromFlowQuery","updateCreateRecordFlowEffect","updateCreateRecordFlowQuery","vars","variables","variableName","variableValue","recordCreated","playbookContextIdsInOrder","selectedStagePlaybookContextId","loadingActivities","selectedStage","firstVisibleCardNavId","compactMode","mountedStageMap","left","firstCardId","getFirstVisibleCardIdFromLane","setFocusNavId","cardNavId","takeFocus","getLaneByName","cardId","contenteditable","focusAnchorRef","playbookState","expandFirstPrioritizedCard","stage","previousContextId","oneCardExpanded","firstVisibleCardNotReached","stageId","hide","stageState","showEmptyStagePanel","every","someCardsHaveError","emptyStateMessage","stagePath","aria-labelledby","aria-hidden","hasNoMargin","wontWrap","now-mode","showCard","expandCard","firstCardNavId","nowMode","dataProviderComponentId","COMPONENT_RENDERED","_getContainerClassName","buttonContainerRef","buttonRefs","buttonsWidth","cardSize","largestButtonWidth","offsetWidth","buttonsMinWidth","cardActionsClassName","createEnhancedElement","itemsObj","_renderButtons","dispatches","resizeBehavior","timer","wait","host","shadowRoot","querySelector","container","widths","currentStyle","window","getComputedStyle","width","margin","parseFloat","marginLeft","marginRight","padding","paddingLeft","paddingRight","border","borderLeftWidth","borderRightWidth","_getElementWidths","__TECTONIC__$servicenow_library_enhanced_element_18_3_20","__TECTONIC__$servicenow_behavior_resize_18_3_20","mapModelFieldValues","currentKey","list_table","declarativeModelFields","authorizedActions","transformAuthorizedActions","laneContext","stage_name","stage_title","stage_status","stage_order","order","playbook_status","playbook_context_id","normalizedProps","cardProp","queryProp","normalizeCardProps","appendToPayload","customCreateElement","__TECTONIC__sn_component_checklist","ATTRIBUTES","MAPPED_TO_PROPS","isSeismicComponent","isString","isAttribute","isMappedToProps","existingRef","ref","camelCase","attributes","node","modalTitle","nowHoist","filterOptions","onFilter","active","isNewRecord","onClickHandler","activityStream","activityStreamReading","activityStreamError","__TECTONIC__$servicenow_now_activity_stream","activityAddOrUpdateHandler","activityFetchHandler","setCoeffectsPayload","activitySkipActionHandlers","ambPlaybookHandlers","ambRecordWatcherHandler","createGraphQLActionHandlers","getAMBChannel","playbookActionsHandlers","updateActivityContextActionHandlers","newActivity","noResult","activityIdx","laneName","channel","replace","defaultConfig","existingActivity","newStats","existingActivityState","laneStats","uniqDifferenceString","target","targetSet","str","filters","logic","q","uniq","processWatchingRecords","toBeAddedRecords","toBeRemovedRecords","nextWatchingRecords","toBeSubscribedRecords","toBeUnsubscribedRecords","newSysIds","oldSysIds","u","filteredOldSysIds","activities","toBeRemoved","updatedPlaybooksByContextId","shouldUpdate","nextPlaybook","findActivityIndexAndOperation","fo","nextCards","nextStats","getUpdatedLaneStats","fetchActivityContextsQuery","fetchActivityContextsEffect","provider","ids","requests","debounce","uniqIds","duplicateIds","maxWait","aggregate","args","nextArgs","oldContextIds","newContextIds","newArgs","createDebounce","fn","validAggregate","validMaxWait","maxTid","tid","finalArgs","finishDebounce","clearTimeout","debounceMap","WeakMap","componentBoundDebounce","indicator","oldRequests","newRequests","skipActivityQuery","skipActivityEffect","createAmbSubscriptionEffect","messageReceivedActionType","encodeURIComponentForChannelId","playbookContext","laneContexts","LaneContexts","currentPlaybookState","nextPlaybookState","activityContexts","isPlaybookBeingCancelled","getPendingActivityContextIds","newLane","laneIdx","currentLaneState","nextLaneState","newLanes","ActivityContexts","ac","activityContextIds","__TECTONIC__$servicenow_ui_effect_amb","unsubscribeAll","toBeSubscribedBatch","toBeUnsubscribedBatch","channelIds","channelId","subscribe","tableName","table_name","changes","playbooks","commentsOnlyUpdate","workNotesOnlyUpdate","checkBoxOnlyUpdate","contextIdsToUpdate","ambSubscriptionEffect","ambRegistry","createRegistryId","containerId","subscriptionId","Map","cleanAMBRegistry","registryId","delete","batchMessages","ambClient","createActionTypes","channelListenerRegistry","channelListener","metaData","meta","getName","createUnsubscribeMessage","clear","shouldSubscribe","cache","resolvedChannel","createResolvedChannel","subscriptionCallback","createSubscriptionCallback","getChannel","createSubscribeMessage","__TECTONIC__cuid_2_1_4","wrapClient","client","clientWindow","getClientWindow","wrappedClient","dest","clone","channelName","subscriptionConfig","overrideWindow","getRecordWatcherChannel","actionPrefix","subscribeToEvent","callback","unsubscribeFromEvent","g_ambClient","parent","console","getParentAmbClient","actionPayload","channelParams","toPath","pathToRegexp","compile","toPathOptions","encode","replaceChannelParameters","subscribeStartedActionType","subscribeSucceededActionType","subscribeFailedActionType","unsubscribeSucceededActionType","actionOptions","successCallback","response","successful","isSubscribed","getCallback","unsubscribe","__TECTONIC__path_to_regexp_3_0_0","filterOpenedPath","selectedFiltersPath","hasItem","playbookPath","cleanedFilters","hasResults","newCards","FetchPlaybookContextsByParentRecordQuery","FetchPlaybookContextsByIdQuery","fetchPlaybooksDebouncedEffect","fetchAllPlaybookContextsEffect","fetchPlaybooksEffect","playbookContexts","ambChannel","newPlaybooks","laneOrder","cardOrder","laneIndex","COMPONENT_DISCONNECTED","contextReloadProperties","fullChannel","CancelPlaybookContextMutation","fieldsToUpdate","verifiedFieldsToUpdate","verifiedFields","canceledBy","updatedState","log","setActivityContextMutation","targetState","workspaceUserId","parent-sys-id","parent-table","playbook-experience-id","user-id","dataBrokerComponentId","current-user-id","playbook-context-ids-in-order","playbooks-by-context-id","loading-activities","compact-mode","cancel-playbook-context","resize","showBorders","placeholder","__TECTONIC__$servicenow_now_textarea","updateSelectedStageCallback","defaultExpandedPlaybook","shouldResetSelectedStage","shouldSetSelectedStage","shouldSetDefaultExpandedPlaybook","updateValue","firstPlaybook","firstInProgressPlaybookId","firstStage","nextSelectedStage","compact","leaving","selected-stage","focusAnchorRefs","stagePanelRef","stageSelectorRef","expandedStageListsByContextId","right","updatedExpandState","selectedFilterLaneName","previousHeadingNavKey","activateStage","disableForCompactModeStageSelected","headingNavKey","filterOpened","previousNavKey","expandStageList","playbookJSX","actionsDropdownOpened","navKey","onExpandOrCollapseClicked","stageTitle","filteredCardsCount","isDisabled","firstCardLaneName","visibleCardCount","getVisibleCards","sanitizedName","declarativeActionsDataProviderId","stageJSX","completeActivities","totalActivities","readyActivities","filteredCardCount","onStageClicked","onStageKeyDown","selectedItems","flatMap","selectedFilterSection","selectedItemLabel","filterArray","collapseTriggerRef","createRef","current","altKey","click","selected-items","panel-fit-props","tooltip-content","round","declarative-actions","playbook-context-id","playbook-status","leftNavKey","positions","underlined","__TECTONIC__$servicenow_now_popover","__TECTONIC__$servicenow_now_text_link","playbookStatus","dropdownActions","hook-update","oldNode","aria-selected","aria-current","stage-status","stage-title","stage-name","__TECTONIC__$servicenow_now_badge","stageOrder","stageStatus","dropdownRef","manage-opened"],"mappings":"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","file":"now-playbook-experience.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 58);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","import { t } from 'sn-translate';\nimport {\n\tcircleCloseOutlineXl,\n\tcircleExclamationOutlineXl,\n\tcircleSemiDashedCheckOutlineMd,\n\tnoMatch,\n\tnoPlaybook,\n\ttriangleExclamationOutlineXl\n} from './assets/images';\n\nexport const PLAYBOOK_MODEL_ID = '16f2aef6c32110109b1204186e40dd7f';\nexport const PLAYBOOK_STAGE_MODEL_ID = '61cd5e20c30210109b1204186e40ddb0';\nexport const PLAYBOOK_CARD_MODEL_ID = 'ca57d12e730333004a905ee515f6a7b2';\nexport const PLAYBOOK_CARD = 'playbook_view';\n\nexport const LOADING_TEXT_DEFAULT = `${t('Loading')}...`;\n\nexport const CARD_PROPS_TO_QUERY_MAP = {\n\tparentTable: 'parentTable',\n\tparentSysId: 'parentRecord',\n\tassociatedTable: 'associatedTable',\n\tassociatedSysId: 'associatedRecord',\n\tassociatedRecordModCount: 'associatedRecordModCount',\n\tactivityType: 'activityType',\n\tactivityState: 'state',\n\tactivityProperties: 'activityProperties',\n\tdeclarativeActions: 'declarativeActions',\n\tdeclarativeModel: 'declarativeModel',\n\tconfigProperties: 'configProperties',\n\tcontextId: 'contextId',\n\tfilterData: 'filterData',\n\tassignedTo: 'assignedTo',\n\tprioritized: 'prioritized'\n};\n\nexport const PLAYBOOK_STATE_VALUES = {\n\tIN_PROGRESS: 'IN_PROGRESS',\n\tCOMPLETE: 'COMPLETE',\n\tERROR: 'ERROR',\n\tCANCELLED: 'CANCELLED',\n\tPENDING_CANCEL: 'PENDING_CANCEL'\n};\n\nconst PENDING_DISPLAY_VALUE = t('Pending');\nconst IN_PROGRESS_DISPLAY_VALUE = t('In progress');\nconst COMPLETE_DISPLAY_VALUE = t('Complete');\nconst SKIPPED_DISPLAY_VALUE = t('Skipped');\nconst ERROR_DISPLAY_VALUE = t('Error');\nconst CANCELLED_DISPLAY_VALUE = t('Cancelled');\nconst PAUSED_DISPLAY_VALUE = t('Paused');\n\nconst IN_PROGRESS_IMG = {\n\tsrc: circleSemiDashedCheckOutlineMd,\n\theight: 16,\n\talt: t('In progress state')\n};\n\nexport const CARD_STATE_VALUES = {\n\tPENDING: {\n\t\tvalue: 'PENDING',\n\t\tdisplayValue: PENDING_DISPLAY_VALUE,\n\t\tstatus: 'high',\n\t\ticon: 'circle-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tREADY: {\n\t\tvalue: 'READY',\n\t\tdisplayValue: PENDING_DISPLAY_VALUE, // not READY\n\t\tstatus: 'high',\n\t\ticon: 'circle-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tIN_PROGRESS: {\n\t\tvalue: 'IN_PROGRESS',\n\t\tdisplayValue: IN_PROGRESS_DISPLAY_VALUE,\n\t\tstatus: 'moderate',\n\t\ticon: 'circle-dashed-outline',\n\t\tclassName: 'blue-icon',\n\t\timg: IN_PROGRESS_IMG\n\t},\n\tCOMPLETE: {\n\t\tvalue: 'COMPLETE',\n\t\tdisplayValue: COMPLETE_DISPLAY_VALUE,\n\t\tstatus: 'positive',\n\t\ticon: 'circle-check-fill',\n\t\tclassName: 'blue-icon'\n\t},\n\tSKIPPED: {\n\t\tvalue: 'SKIPPED',\n\t\tdisplayValue: SKIPPED_DISPLAY_VALUE,\n\t\tstatus: 'positive',\n\t\ticon: 'circle-check-fill',\n\t\tclassName: 'blue-icon'\n\t},\n\tERROR: {\n\t\tvalue: 'ERROR',\n\t\tdisplayValue: ERROR_DISPLAY_VALUE,\n\t\ticon: 'triangle-exclamation-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tCANCELLED: {\n\t\tvalue: 'CANCELLED',\n\t\tdisplayValue: CANCELLED_DISPLAY_VALUE,\n\t\tstatus: 'low',\n\t\ticon: 'circle-exclamation-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tSCHEDULED: {\n\t\tvalue: 'SCHEDULED',\n\t\tdisplayValue: PENDING_DISPLAY_VALUE, // not SCHEDULED\n\t\tstatus: 'high',\n\t\ticon: 'circle-outline',\n\t\tclassName: 'gray-icon'\n\t}\n};\n\nexport const LANE_STATE_VALUES = {\n\tPENDING: {\n\t\tvalue: 'PENDING',\n\t\tdisplayValue: PENDING_DISPLAY_VALUE,\n\t\ticon: 'circle-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tREADY: {\n\t\tvalue: 'READY',\n\t\tdisplayValue: PENDING_DISPLAY_VALUE, // not READY\n\t\ticon: 'circle-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tIN_PROGRESS: {\n\t\tvalue: 'IN_PROGRESS',\n\t\tdisplayValue: IN_PROGRESS_DISPLAY_VALUE,\n\t\ticon: 'circle-dashed-outline',\n\t\tclassName: 'blue-icon',\n\t\timg: IN_PROGRESS_IMG\n\t},\n\tCOMPLETE: {\n\t\tvalue: 'COMPLETE',\n\t\tdisplayValue: COMPLETE_DISPLAY_VALUE,\n\t\ticon: 'circle-check-fill',\n\t\tclassName: 'blue-icon'\n\t},\n\tSKIPPED: {\n\t\tvalue: 'SKIPPED',\n\t\tdisplayValue: SKIPPED_DISPLAY_VALUE,\n\t\ticon: 'circle-check-fill',\n\t\tclassName: 'blue-icon'\n\t},\n\tERROR: {\n\t\tvalue: 'ERROR',\n\t\tdisplayValue: ERROR_DISPLAY_VALUE,\n\t\ticon: 'triangle-exclamation-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tCANCELLED: {\n\t\tvalue: 'CANCELLED',\n\t\tdisplayValue: CANCELLED_DISPLAY_VALUE,\n\t\ticon: 'circle-exclamation-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tSCHEDULED: {\n\t\tvalue: 'SCHEDULED',\n\t\tdisplayValue: PENDING_DISPLAY_VALUE, // not SCHEDULED\n\t\ticon: 'circle-outline',\n\t\tclassName: 'gray-icon'\n\t},\n\tPAUSED: {\n\t\tvalue: 'PAUSED',\n\t\tdisplayValue: PAUSED_DISPLAY_VALUE, // not PAUSED\n\t\ticon: 'circle-outline',\n\t\tclassName: 'gray-icon'\n\t}\n};\n\nexport const ANIMATE_CARD_STATE_CHANGES = {\n\tCOMPLETE: {\n\t\ticon: 'circle-check-fill',\n\t\ttext: t('Task Completed.')\n\t},\n\tSKIPPED: {\n\t\ticon: 'circle-check-fill',\n\t\ttext: t('Skipped.')\n\t},\n\tCANCELLED: {\n\t\ticon: 'circle-check-fill',\n\t\ttext: t('Task Cancelled.')\n\t}\n};\n\nexport const EVENT_KEY = {\n\tTAB: 'Tab',\n\tARROW: {\n\t\tUP: 'ArrowUp',\n\t\tDOWN: 'ArrowDown',\n\t\tLEFT: 'ArrowLeft',\n\t\tRIGHT: 'ArrowRight'\n\t},\n\tPAGE: {\n\t\tUP: 'PageUp',\n\t\tDOWN: 'PageDown'\n\t},\n\tHOME: 'Home',\n\tEND: 'End',\n\tENTER: 'Enter',\n\tSPACE: ' ',\n\tCONTROL: 'Control',\n\tSHIFT: 'Shift',\n\tALT: 'Alt',\n\tMETA: 'Meta',\n\tESCAPE: 'Escape'\n};\n\nexport const UPDATE_PLAYBOOK_CONTEXT_WHITELIST = [\n\t'cancellationReason',\n\t'canceledBy',\n\t'state'\n];\n\nexport const PLAYBOOK_STATE_TO_NDS_STATUS_MAP = {\n\t[PLAYBOOK_STATE_VALUES.COMPLETE]: 'positive'\n};\n\nexport const PLAYBOOK_FETCH_ALL_PLAYBOOK_ERROR =\n\t'PLAYBOOK#FETCH_PLAYBOOK_ERROR';\nexport const PLAYBOOK_ERROR = 'PLAYBOOK#PLAYBOOK_ERROR';\nexport const UPDATE_PLAYBOOK_CONTEXT = 'PLAYBOOK#UPDATE_PLAYBOOK_CONTEXT';\n\nexport const PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS =\n\t'PLAYBOOK_PARENT#FETCH_PLAYBOOK_CONTEXTS';\nexport const PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_GQL =\n\t'PLAYBOOK_PARENT#FETCH_PLAYBOOK_CONTEXTS_GQL';\nexport const PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_STARTED =\n\t'PLAYBOOK_PARENT#FETCH_PLAYBOOK_CONTEXTS_STARTED';\nexport const PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_SUCCEEDED =\n\t'PLAYBOOK_PARENT#FETCH_PLAYBOOK_CONTEXTS_SUCCEEDED';\n\nexport const PLAYBOOK_BOOTSTRAP_DECLARATIVE_ACTIONS =\n\t'PLAYBOOK#BOOTSTRAP_DECLARATIVE_ACTIONS';\nexport const PLAYBOOK_FETCH_DECLARATIVE_ACTIONS =\n\t'PLAYBOOK#FETCH_DECLARATIVE_ACTIONS';\nexport const PLAYBOOK_FETCH_DECLARATIVE_ACTIONS_SUCCEEDED =\n\t'PLAYBOOK#FETCH_DECLARATIVE_ACTIONS_SUCCEEDED';\nexport const PLAYBOOK_FETCH_DECLARATIVE_ACTIONS_ERROR =\n\t'PLAYBOOK#FETCH_DECLARATIVE_ACTIONS_ERROR';\nexport const PLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS =\n\t'PLAYBOOK#REQUEST_FETCH_ACTIVITY_CONTEXTS';\nexport const PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_DEBOUNCED =\n\t'PLAYBOOK#FETCH_ACTIVITY_CONTEXTS_DEBOUNCED';\nexport const PLAYBOOK_FETCH_ACTIVITY_CONTEXTS =\n\t'PLAYBOOK#FETCH_ACTIVITY_CONTEXTS';\nexport const PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_SUCCEEDED =\n\t'PLAYBOOK#FETCH_ACTIVITY_CONTEXTS_SUCCEEDED';\nexport const PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_FAILED =\n\t'PLAYBOOK#FETCH_ACTIVITY_CONTEXTS_FAILED';\nexport const PLAYBOOK_ADD_OR_UPDATE_ACTIVITIES =\n\t'PLAYBOOK#ADD_OR_UPDATE_ACTIVITIES';\nexport const PLAYBOOK_SET_ACTIVITY_LOADING = 'PLAYBOOK#SET_ACTIVITY_LOADING';\nexport const PLAYBOOK_CLEAR_ACTIVITY_LOADING =\n\t'PLAYBOOK#CLEAR_ACTIVITY_LOADING';\nexport const PLAYBOOK_ACTIVITY_ANIMATION_END =\n\t'PLAYBOOK#ACTIVITY_ANIMATION_END';\n\nexport const PLAYBOOK_FETCH_TABLE_FROM_FLOW = 'PLAYBOOK#FETCH_TABLE_FROM_FLOW';\nexport const PLAYBOOK_FETCH_TABLE_FROM_FLOW_SUCCEEDED =\n\t'PLAYBOOK#FETCH_TABLE_FROM_FLOW_SUCCEEDED';\nexport const PLAYBOOK_FETCH_TABLE_FROM_FLOW_FAILED =\n\t'PLAYBOOK#FETCH_TABLE_FROM_FLOW_FAILED';\n\nexport const PLAYBOOK_UPDATE_CREATE_RECORD_FLOW =\n\t'PLAYBOOK#UPDATE_CREATE_RECORD_FLOW';\nexport const PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_SUCCEEDED =\n\t'PLAYBOOK#UPDATE_CREATE_RECORD_FLOW_SUCCEEDED';\nexport const PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_FAILED =\n\t'PLAYBOOK#UPDATE_CREATE_RECORD_FLOW_FAILED';\n\nexport const PLAYBOOK_CARD_AUTOMATED_ICON = 'sync-outline';\nexport const PLAYBOOK_CARD_AUTOMATED_TAGLINE = t('Automated Task');\n\nexport const PLAYBOOK_START_ACTIVITY_CONTEXT =\n\t'PLAYBOOK#START_ACTIVITY_CONTEXT';\nexport const PLAYBOOK_SKIP_ACTIVITY_CONTEXT = 'PLAYBOOK#SKIP_ACTIVITY_CONTEXT';\nexport const PLAYBOOK_COMPLETE_ACTIVITY_CONTEXT =\n\t'PLAYBOOK#COMPLETE_ACTIVITY_CONTEXT';\nexport const PLAYBOOK_CANCEL_ACTIVITY_CONTEXT =\n\t'PLAYBOOK#CANCEL_ACTIVITY_CONTEXT';\nexport const PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL =\n\t'PLAYBOOK#SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL';\nexport const PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_SUCCEEDED =\n\t'PLAYBOOK#SET_ACTIVITY_CONTEXT_STATE_SUCCEEDED';\n\nexport const PLAYBOOK_FETCH_PLAYBOOKS = 'PLAYBOOK#FETCH_PLAYBOOKS';\n\nexport const PLAYBOOK_REQUEST_FETCH_PLAYBOOKS =\n\t'PLAYBOOK#REQUEST_FETCH_PLAYBOOKS';\n\nexport const PLAYBOOK_FETCH_PLAYBOOKS_DEBOUNCED =\n\t'PLAYBOOK#FETCH_PLAYBOOKS_DEBOUNCED';\n\nexport const PLAYBOOK_FETCH_PLAYBOOK_SUCCEEDED =\n\t'PLAYBOOK#PLAYBOOK_FETCH_PLAYBOOK_SUCCEEDED';\n\nexport const PLAYBOOK_STANDARD_TOOLTIP_DELAY = 500;\nexport const PLAYBOOK_EXPAND_TOOLTIP = t('Expand stages');\nexport const PLAYBOOK_COLLAPSE_TOOLTIP = t('Minimize stages');\n\n// Playbook Action Constants\nexport const CANCEL_PLAYBOOK = 'PLAYBOOK#CANCEL_PLAYBOOK';\nexport const CANCEL_PLAYBOOK_CONFIRMED = 'PLAYBOOK#CANCEL_PLAYBOOK_CONFIRMED';\nexport const PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_MUTATION_GQL =\n\t'PLAYBOOK#CANCEL_PLAYBOOK_CONTEXT_MUTATION_GQL';\nexport const PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_SUCCEEDED =\n\t'PLAYBOOK#CANCEL_CANCEL_PLAYBOOK_CONTEXT_SUCCEEDED';\nexport const PLAYBOOK_ACTIONS_DROPDOWN_OPENED_SET =\n\t'PLAYBOOK#PLAYBOOK_ACTIONS_DROPDOWN_OPENED_SET';\n\n// Stage Constants\nexport const CANCEL_PLAYBOOK_STAGE = 'PLAYBOOK#CANCEL_STAGE';\nexport const PLAYBOOK_STAGE_ACTIONS_DROPDOWN_OPENED_SET =\n\t'PLAYBOOK#STAGE_ACTIONS_DROPDOWN_OPENED_SET';\nexport const PLAYBOOK_STAGE_LIST_EXPANDED_SET =\n\t'PLAYBOOK#STAGE_LIST_EXPANDED_SET';\nexport const PLAYBOOK_STAGE_CLICKED = 'PLAYBOOK#STAGE_CLICKED';\nexport const PLAYBOOK_STAGE_DESELECT = 'PLAYBOOK#STAGE_DESELECT';\nexport const PLAYBOOK_STAGE_SELECTION_UPDATE =\n\t'PLAYBOOK#STAGE_SELECTION_UPDATE';\nexport const PLAYBOOK_STAGE_PANEL_UPDATE_FIRST_CARD_NAV_ID =\n\t'PLAYBOOK#STAGE_PANEL_UPDATE_FIRST_CARD_NAV_ID';\nexport const PLAYBOOK_STAGE_DEFAULT_TITLE = t('Untitled');\nexport const PLAYBOOK_STAGE_SELECTOR_SOURCE = 'stage-selector';\nexport const PLAYBOOK_STAGE_PANEL_SOURCE = 'stage-panel';\nexport const BACK_TO_STAGE_SELECTOR_NAV_ID = 'back-to-stage-selector';\n\n// Card Constants\nexport const PLAYBOOK_RECORD_FETCH = 'PLAYBOOK#RECORD_FETCH';\nexport const PLAYBOOK_RECORD_STARTED = 'PLAYBOOK#RECORD_STARTED';\nexport const PLAYBOOK_RECORD_SUCCEEDED = 'PLAYBOOK#RECORD_SUCCEEDED';\nexport const PLAYBOOK_RECORD_FAILED = 'PLAYBOOK#RECORD_FAILED';\nexport const PLAYBOOK_RECORD_INIT = 'PLAYBOOK#RECORD_INIT';\nexport const PLAYBOOK_RECORD_FIELD_UPDATE = 'PLAYBOOK#RECORD_FIELD_UPDATE';\nexport const PLAYBOOK_RECORD_SET_FIELDS = 'PLAYBOOK#RECORD_SET_FIELDS';\nexport const PLAYBOOK_CARD_KNOWLEDGE_FETCH = 'PLAYBOOK#KNOWLEDGE_FETCH';\nexport const PLAYBOOK_CARD_KNOWLEDGE_STARTED = 'PLAYBOOK#KNOWLEDGE_STARTED';\nexport const PLAYBOOK_CARD_KNOWLEDGE_SUCCEEDED = 'PLAYBOOK#KNOWLEDGE_SUCCEEDED';\nexport const PLAYBOOK_CARD_KNOWLEDGE_FAILED = 'PLAYBOOK#KNOWLEDGE_FAILED';\nexport const PLAYBOOK_CARD_FORM_FIELDS_REQUIRED =\n\t'PLAYBOOK#FORM_FIELDS_REQUIRED';\nexport const PLAYBOOK_SUFFICIENT_DATA = 'PLAYBOOK#SUFFICIENT_DATA';\nexport const ADD_NOTIFICATIONS = 'ADD_NOTIFICATIONS';\nexport const DEFAULT_MAX_FORM_FIELDS_RENDERED_IN_CARD = 3;\nexport const PLAYBOOK_DECLARATIVE_ACTION = 'PLAYBOOK#DECLARATIVE_ACTION';\nexport const SKIP_ACTIVITY = 'SKIP_ACTIVITY';\nexport const SKIP_ACTIVITY_REQUEST = 'SKIP_ACTIVITY_REQUEST';\nexport const SKIP_ACTIVITY_SUCCEEDED = 'SKIP_ACTIVITY_SUCCEEDED';\nexport const SKIP_ACTIVITY_FAILED = 'SKIP_ACTIVITY_FAILED';\nexport const PLAYBOOK_CARD_DEFAULT_TOOLTIP = t('Activity card');\nexport const PLAYBOOK_CARD_EXPAND_TOOLTIP = t('Expand task');\nexport const PLAYBOOK_CARD_COLLAPSE_TOOLTIP = t('Minimize task');\nexport const PLAYBOOK_CARD_PRIORITIZED_EXPAND_TOOLTIP = t(\n\t'Expand prioritized activity'\n);\nexport const PLAYBOOK_CARD_PRIORITIZED_COLLAPSE_TOOLTIP = t(\n\t'Minimize prioritized activity'\n);\nexport const PLAYBOOK_CARD_PENDING_TOOLTIP = t('Pending task');\nexport const PLAYBOOK_CARD_ERROR_TOOLTIP = t('Task error');\n\n//Form Field Modal Constants\nexport const PLAYBOOK_SHOW_FORM = 'PLAYBOOK#PLAYBOOK_SHOW_FORM';\nexport const PLAYBOOK_CLOSE_FORM_FIELDS_MODAL =\n\t'PLAYBOOK#CLOSE_FORM_FIELDS_MODAL';\nexport const ELLIPSES = '...';\n\n//Modal Constants\nexport const NOW_MODAL_OPENED_SET = 'NOW_MODAL#OPENED_SET';\n\n// Declarative Actions Constants\nexport const REFRESH_REQUESTED = 'REFRESH_REQUESTED';\nexport const DECLARATIVE_ACTION = 'DECLARATIVE_ACTION';\nexport const DECLARATIVE_ACTION_UPDATE_RENDER =\n\t'DECLARATIVE_ACTION#UPDATE_RENDER';\nexport const DECLARATIVE_ACTION_CANCEL_ACTION =\n\t'DECLARATIVE_ACTION#CANCEL_ACTION';\nexport const DECLARATIVE_ACTION_TYPE_SERVER_SCRIPT = 'server_script';\nexport const DECLARATIVE_ACTION_TYPE_COMPONENT = 'action_component';\nexport const MAX_NUM_DAS_BOTTOM_OF_CARD = 3;\nexport const CARD_ACTIONS_BREAK = 286; // card width - borders - margins = 320 - 1 - 16 - 16 - 1\nexport const CARD_ACTIONS_SIZES = { sm: 'sm', md: 'md', lg: 'lg' }; // className sizes for cards container, not the cards\n\n// Declarative Actions Render Modes\nexport const RENDER_MODE_CARD_CLICKED = '5896b6675b4000101a6d7c1bf481c7a1';\nexport const RENDER_MODE_BUTTON = '928532675b4000101a6d7c1bf481c7db';\nexport const RENDER_MODE_HEADER_DROPDOWN = 'cdf5b2675b4000101a6d7c1bf481c72e';\nexport const RENDER_MODE_HEADER_ICON = 'a045b7445b41001031a67d6f7281c71b';\n\n// NDS Constants\nexport const NOW_ACCORDION_EXPANDED_SET = 'NOW_ACCORDION_ITEM#EXPANDED_SET';\nexport const NOW_CARD_CLICKED = 'NOW_CARD#CLICKED';\nexport const NOW_LABEL_VALUE_STACKED_TEXT_LINK_CLICKED =\n\t'NOW_LABEL_VALUE_STACKED#TEXT_LINK_CLICKED';\nexport const NOW_TEXT_LINK_CLICKED = 'NOW_TEXT_LINK#CLICKED';\nexport const NOW_BUTTON_ICONIC_CLICKED = 'NOW_BUTTON_ICONIC#CLICKED';\nexport const NOW_DROPDOWN_OPENED_SET = 'NOW_DROPDOWN#OPENED_SET';\nexport const NOW_DROPDOWN_ITEM_CLICKED = 'NOW_DROPDOWN#ITEM_CLICKED';\nexport const NOW_DROPDOWN_PANEL_ITEM_CLICKED =\n\t'NOW_DROPDOWN_PANEL#ITEM_CLICKED';\nexport const NOW_TEXTAREA_INPUT = 'NOW_TEXTAREA#INPUT';\n\nexport const NOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED =\n\t'NOW_DROPDOWN_CUSTOM_TARGET#ITEM_CLICKED';\nexport const NOW_DROPDOWN_CUSTOM_TARGET_OPENED_SET =\n\t'NOW_DROPDOWN_CUSTOM_TARGET#OPENED_SET';\n\nexport const NOW_ALERT_LIST_ITEMS_SET = 'NOW_ALERT_LIST#ITEMS_SET';\n\n// Card Constants\nexport const PREVIEW_RECORD = 'PREVIEW_RECORD';\nexport const NOW_RECORD_COMPACT_BACK_CLICKED =\n\t'NOW_RECORD_COMPACT#BACK_CLICKED';\nexport const NOW_RECORD_COMPACT_ACTION_CLICKED =\n\t'NOW_RECORD_COMPACT#ACTION_CLICKED';\nexport const SN_KB_LOAD_METADATA_SUCCEEDED = 'SN_KB#LOAD_METADATA_SUCCEEDED';\n\n//Workspace Form Constants\nexport const GFORM_SAVE = 'GFORM#SAVE';\nexport const GFORM_RELOAD = 'GFORM#RELOAD';\nexport const GFORM_VALIDATE_SUCCESS = 'GFORM#VALIDATE_SUCCESS';\nexport const RECORD_STATUS_CHANGED = 'RECORD_STATUS_CHANGED';\nexport const RECORD_STATUS_INSERTED = 'inserted';\nexport const RECORD_STATUS_UPDATED = 'updated';\nexport const FORM_DATA_PROVIDER_FETCH_START_REQUESTED =\n\t'FORM_DATA_PROVIDER_FETCH_START_REQUESTED';\n\nexport const GLOBAL_TABLE = 'global';\nexport const CLASSIC_FORM_EMULATED_WORKSPACE_CONFIG_ID = 'CLASSIC_FORM';\n\n//Filter Constants\nexport const PLAYBOOK_UPDATE_FILTER = 'PLAYBOOK#UPDATE_FILTER';\nexport const PLAYBOOK_CLEAN_SELECTED_FILTERS =\n\t'PLAYBOOK#CLEAN_SELECTED_FILTERS';\nexport const FILTER_ICON = 'filter-outline';\nexport const FILTERED_ICON = 'filter-fill';\nexport const FILTER_CLASS = 'now-dropdown-panel';\nexport const FILTER_TOOLTIP = t('Card Filter');\nexport const CARD_STATUS_FILTER_SECTION = 'playbook_card_status';\n\n// Playbook AMB Channel Constants\nexport const AMB_CHANNEL_ID = ':channelId(.*)';\nexport const PLAYBOOK_SUBSCRIBE = 'PLAYBOOK#SUBSCRIBE';\nexport const PLAYBOOK_CHANNEL_UPDATE_RECEIVED = 'PLAYBOOK#UPDATE_RECEIVED';\n\n// Playbook Record Watcher Constants\nexport const PLAYBOOK_RW_BATCH_SUBSCRIBE = 'PLAYBOOK#RW_BATCH_SUBSCRIBE';\nexport const PLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS =\n\t'PLAYBOOK#RW_ADD_AND_REMOVE_WATCHING_RECORDS';\nexport const PLAYBOOK_RW_CHANNEL_UPDATE_RECEIVED =\n\t'PLAYBOOK#RW_UPDATE_RECEIVED';\n\nexport const PLAYBOOK_EMPTY_HEADER_TITLE_DEFAULT = t('Playbook');\nexport const PLAYBOOK_EMPTY_BODY_TITLE_DEFAULT = t('No Playbook Available');\n\nexport const LINK_INTERCEPTOR_SAVE_URLS = 'LINK_INTERCEPTOR#SAVE_URLS';\n\n// Field List Constants\nexport const PLAYBOOK_FIELD_LIST_UPDATED = 'PLAYBOOK#FIELD_LIST_UPDATED';\nexport const PLAYBOOK_FIELD_LIST_EMPTY = t('[Empty]');\n\n// List component constants\nexport const LIST_DATA_FETCH_COMPLETE = 'LIST_DATA_FETCH_COMPLETE';\n\n// OOB Renders\nexport const PLAYBOOK_RENDERERS = [\n\t'sn-playbook-card-default',\n\t'now-playbook-experience-card-knowledge',\n\t'now-playbook-experience-card-list',\n\t'now-playbook-experience-card-create-record'\n];\n\n// Input Field Constants\nexport const PLAYBOOK_CANCELLATION_REASON = 'cancellationReason';\n\nexport const PLAYBOOK_CARD_VIEW_MODE_CHANGE = 'PLAYBOOK_CARD#VIEW_MODE_CHANGE';\n\nexport const PLAYBOOK_NOTIFICATION = 'PLAYBOOK#PLAYBOOK_NOTIFICATION';\n\n// Empty State Images\nexport const IMG_EMPTY_STATE_FILTER = {\n\tsrc: noMatch,\n\theight: 106\n};\nexport const IMG_EMPTY_STATE_PLAYBOOK = {\n\tsrc: noPlaybook,\n\theight: 106\n};\nexport const IMG_EMPTY_STATE_LANE = {\n\tsrc: circleExclamationOutlineXl,\n\theight: 32\n};\nexport const IMG_EMPTY_STATE_CARD_PENDING = {\n\tsrc: circleCloseOutlineXl,\n\theight: 32\n};\nexport const IMG_EMPTY_STATE_CARD_CANNCELLED = {\n\tsrc: circleExclamationOutlineXl,\n\theight: 32\n};\nexport const IMG_EMPTY_STATE_CARD_ERROR = {\n\tsrc: triangleExclamationOutlineXl,\n\theight: 32\n};\n","module.exports = __TECTONIC__$servicenow_ui_core;","module.exports = __TECTONIC__lodash_4_17_4;","module.exports = __TECTONIC__sn_translate;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","export const PANEL_NAVIGATION_BEHAVIOR_NAME = 'snPanelNavigationBehavior';\nexport const PANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID =\n\t'panel-navigation-focus-anchor';\n\n// Actions\nexport const PANEL_NAVIGATION_SET_FOCUS_ANCHOR =\n\t'PANEL_NAVIGATION#SET_FOCUS_ANCHOR';\nexport const PANEL_NAVIGATION_UPDATE_MAP = 'PANEL_NAVIGATION#UPDATE_MAP';\nexport const PANEL_NAVIGATION_TAKE_FOCUS = 'PANEL_NAVIGATION#TAKE_FOCUS';\nexport const PANEL_NAVIGATION_SWITCH_FOCUS = 'PANEL_NAVIGATION#SWITCH_FOCUS';\n","import { t } from 'sn-translate';\n\nexport const NOTIFICATION_NETWORK_ERROR = {\n\theader: t('There was an error.'),\n\tbody: t('We ran into an issue, please refresh to attempt to resolve. '),\n\tillustration: 'error'\n};\n\nexport const NOTIFICATION_SYSTEM_ERROR = {\n\theader: t('There was an error.'),\n\tbody: t('Please contact your system administrator. '),\n\tillustration: 'error'\n};\n\nexport const NOTIFICATION_NO_PLAYBOOKS_AVAILABLE = {\n\theader: t('There are no playbooks available'),\n\tbody: t('Please contact your system administrator.'),\n\tillustration: 'no-data'\n};\n\nexport const NOTIFICATION_PLAYBOOK_ERROR = {\n\theader: t('Configuration Error'),\n\tbody: t('Please contact your system administrator.'),\n\tillustration: 'unconfigured'\n};\n\nexport const NOTIFICATION_PLAYBOOK_STAGE_ERROR = {\n\theader: t('There was a playbook stage error'),\n\tbody: t('Please contact your system administrator.'),\n\tillustration: 'error'\n};\n\nexport const NOTIFICATION_PLAYBOOK_CARD_ERROR = {\n\theader: t('No data available.'),\n\tbody: t('Please contact your system administrator.'),\n\tillustration: 'error'\n};\n\nexport const NOTIFICATION_PLAYBOOK_INPUTS_MISSING = {\n\theader: t('Configuration Error'),\n\tbody: t('Parent Record is not provided.'),\n\tillustration: 'unconfigured'\n};\n\nexport const NOTIFICATION_PLAYBOOK_CARD_PENDING = {\n\theader: t('No data available.'),\n\tbody: t('Please wait while Playbook progresses.'),\n\tillustration: 'no-data'\n};\n\nexport const NOTIFICATION_PLAYBOOK_LANE_CANCELLED = {\n\theader: t('Activity set is canceled'),\n\tbody: t('Continue to the next activity set.')\n};\n\nexport const NOTIFICATION_PLAYBOOK_STAGE_EMPTY = {\n\theader: t('No Activities Available'),\n\tbody: t('Please contact your system administrator.'),\n\tillustration: 'no-data'\n};\n\nexport const NOTIFICATION_PLAYBOOK_CANCELLED = {\n\theader: t('Playbook is canceled'),\n\tbody: t('Continue to another playbook.'),\n\tillustration: 'interrupted'\n};\n\nexport const NOTIFICATION_PLAYBOOK_CARD_CANCELLED = {\n\theader: t('Activity is canceled'),\n\tbody: t('Continue to the next activity.'),\n\tillustration: 'interrupted'\n};\n\nexport const NOTIFICATION_PLAYBOOK_EMPTY = {\n\theader: t('No Playbook Stages Available'),\n\tbody: t('Please contact your system administrator.'),\n\tillustration: 'no-activities'\n};\n\nexport const NOTIFICATION_ZERO_FILTER_RESULTS = {\n\theader: t('No filtered results'),\n\tbody: t('Try changing your filter settings.'),\n\tillustration: 'no-search-results'\n};\n\nexport const NOTIFICATION_ZERO_STAGE_FILTER_RESULTS = {\n\theader: t('No filtered results'),\n\tbody: t('Try changing your filter settings.'),\n\tillustration: 'no-search-results'\n};\n","module.exports = __TECTONIC__$servicenow_ui_effect_graphql;","import { FieldType } from '@devsnc/sn-glide-form-controls';\nimport { get } from 'lodash';\nimport { PLAYBOOK_FIELD_LIST_EMPTY } from '../constants';\nimport { convertNullToEmptyString } from '../utils';\n\nconst isGlideVarType = (element) =>\n\tget(element, 'dictionary.type') === 'glide_var';\n\n/*\n * @param {string} fields - Comma separated field names\n * @returns {string} - graphql formated string of fields\n */\nexport function formatFields(\n\tfields,\n\tinnerFields = `{\n\t\tvalue\n\t\tdisplayValue\n\t\tlabel\n\t}`\n) {\n\treturn fields\n\t\t.map((field) => {\n\t\t\treturn `\n\t\t\t${field} ${innerFields}\n\t\t\t`;\n\t\t})\n\t\t.join('\\n');\n}\nexport const formatColumns = (fields) => fields.join(',');\n\nexport function indexElements(elements) {\n\treturn elements.reduce((acc, element) => {\n\t\tacc[element.name] = element;\n\t\treturn acc;\n\t}, {});\n}\n\nexport function getElements(action) {\n\treturn get(\n\t\taction,\n\t\t'payload.data.GlideLayout_Query.formLayout.elementsData',\n\t\t[]\n\t);\n}\n\nexport function getValues(action) {\n\treturn get(\n\t\taction,\n\t\t'payload.data.GlideLayout_Query.formLayout.recordValues',\n\t\t[]\n\t);\n}\n\nexport function getTableDisplayValue(action, table) {\n\treturn get(\n\t\taction,\n\t\t'payload.data.GlideRecord_Query.' +\n\t\t\ttable +\n\t\t\t'._results[0].sys_class_name.displayValue',\n\t\t''\n\t);\n}\n\nexport function getNumberDisplayValue(action, table) {\n\treturn get(\n\t\taction,\n\t\t'payload.data.GlideRecord_Query.' +\n\t\t\ttable +\n\t\t\t'._results[0].number.displayValue',\n\t\t''\n\t);\n}\n\nexport function getUpdatedByValue(action, table) {\n\treturn get(\n\t\taction,\n\t\t'payload.data.GlideRecord_Query.' +\n\t\t\ttable +\n\t\t\t'._results[0].sys_updated_by.value',\n\t\t''\n\t);\n}\n\nexport function getLastJournalEntry(action, table) {\n\treturn get(\n\t\taction,\n\t\t'payload.data.GlideRecord_Query.' +\n\t\t\ttable +\n\t\t\t'._results[0]._query.notes.sys_journal_field._results[0].value.value',\n\t\t''\n\t);\n}\n\nexport function convertElementInfo(info) {\n\tconst {\n\t\tlabel = '',\n\t\tvalue = '',\n\t\tdisplayValue = '',\n\t\ttype = 'string',\n\t\treference\n\t} = info;\n\n\tconst converted = { label, isHTMLType: false };\n\n\t//If the value being passed in is PLAYBOOK_FIELD_LIST_EMPTY, return that\n\t//string regardless of type\n\tif (value === PLAYBOOK_FIELD_LIST_EMPTY) {\n\t\tconverted.value = {\n\t\t\ttype: 'string',\n\t\t\tvalue: displayValue\n\t\t};\n\t\treturn converted;\n\t}\n\n\t// 'now-label-value-stacked' won't render and fails silently if any of the\n\t// 'value' properties we pass to is 'null', thus needing to convert all\n\t// 'null' to empty string;\n\tswitch (type) {\n\t\tcase FieldType.REFERENCE:\n\t\t\tconverted.value = {\n\t\t\t\ttype: 'text-link',\n\t\t\t\tlabel: convertNullToEmptyString(displayValue),\n\t\t\t\thref: 'javascript:void(0)',\n\t\t\t\ttable: reference,\n\t\t\t\tsysId: value\n\t\t\t};\n\t\t\tbreak;\n\t\tcase FieldType.URL:\n\t\t\tconverted.value = {\n\t\t\t\ttype: 'text-link',\n\t\t\t\tlabel: displayValue,\n\t\t\t\thref: value || '',\n\t\t\t\topensWindow: true\n\t\t\t};\n\t\t\tbreak;\n\t\tcase FieldType.HTML:\n\t\tcase FieldType.TRANSLATED_HTML:\n\t\t\tconverted.value = {\n\t\t\t\ttype: 'html',\n\t\t\t\tvalue: convertNullToEmptyString(value)\n\t\t\t};\n\t\t\tconverted.isHTMLType = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t// Defaults to 'string' type\n\t\t\tconverted.value = convertNullToEmptyString(displayValue);\n\t}\n\n\treturn converted;\n}\n\nexport function convertFormFields({\n\telementsIndexed,\n\tvaluesIndexed,\n\tformFields = [],\n\tassociatedTable\n}) {\n\tconst formFieldItems = [];\n\n\tif (!formFields.length) return formFieldItems;\n\n\tconst elementsIndexedNew = { ...elementsIndexed };\n\n\tformFields.forEach((field) => {\n\t\tconst element = elementsIndexedNew[field];\n\n\t\tif (!element) return;\n\n\t\tif (isGlideVarType(element)) {\n\t\t\telement.glidevars.forEach((ele) => {\n\t\t\t\tconst valueName =\n\t\t\t\t\telement.name + '.' + element.modelTable + '.' + ele.name;\n\t\t\t\tlet tempFormFieldItem = { ...ele, name: valueName };\n\t\t\t\tconst formFieldItem = createField(\n\t\t\t\t\ttempFormFieldItem,\n\t\t\t\t\tvaluesIndexed[valueName],\n\t\t\t\t\tassociatedTable\n\t\t\t\t);\n\t\t\t\tformFieldItems.push(formFieldItem);\n\t\t\t});\n\t\t} else {\n\t\t\tconst formFieldItem = createField(\n\t\t\t\telement,\n\t\t\t\tvaluesIndexed[field],\n\t\t\t\tassociatedTable\n\t\t\t);\n\t\t\tformFieldItems.push(formFieldItem);\n\t\t}\n\n\t\telementsIndexedNew[field] = null;\n\t});\n\n\treturn formFieldItems;\n}\n\nexport function convertFormFieldListItem(formFieldItem = {}) {\n\treturn convertElementInfo({\n\t\tlabel: formFieldItem.label,\n\t\tvalue: formFieldItem.value || PLAYBOOK_FIELD_LIST_EMPTY,\n\t\tdisplayValue: formFieldItem.displayValue || PLAYBOOK_FIELD_LIST_EMPTY,\n\t\ttype: get(formFieldItem, 'dictionary.type', 'string'),\n\t\treference: formFieldItem.reference\n\t});\n}\n\nexport const showFormFieldList = (formFieldsRequired) => {\n\t// Only show/convert 'formFieldListItems' if it is unset/'null' or\n\t// explicitly set to 'false'\n\treturn formFieldsRequired === null || formFieldsRequired === false;\n};\n\nexport const ensureFieldDictionaryType = (collection = {}) => {\n\tconst filtered = [];\n\n\tfor (const name in collection) {\n\t\tconst field = collection[name];\n\t\t// Sometimes field items returned have invalid type properties\n\t\tif (get(field, 'dictionary.type', null)) filtered.push(field);\n\t}\n\n\treturn filtered;\n};\n\nfunction createField(element, value, associatedTable) {\n\tconst fieldValue = value != undefined ? value.value : '';\n\tconst displayValue = value != undefined ? value.displayValue : '';\n\tlet field = {\n\t\t...element,\n\t\tlabel: element.dictionary.label,\n\t\tvalue: fieldValue,\n\t\tdisplayValue: displayValue,\n\t\tmandatory: element.dictionary.isMandatory,\n\t\toriginalValue: fieldValue,\n\t\toriginalDisplayValue: displayValue\n\t};\n\n\tif (element.dictionary.type == FieldType.REFERENCE)\n\t\tfield = {\n\t\t\t...field,\n\t\t\tfieldname: element.name,\n\t\t\treferringRecordId: fieldValue != '' ? fieldValue : 'null',\n\t\t\treferringTable: associatedTable\n\t\t};\n\n\tif (!element.dictionary.canWrite) field.readonly = true;\n\n\tif (element.dictionary.isReadonly) field.readonly = true;\n\n\treturn field;\n}\n\nexport function getMissingMandatoryFields(fields = []) {\n\treturn fields.reduce((acc, element) => {\n\t\tif (!element.value && get(element, 'dictionary.isMandatory'))\n\t\t\tacc.push(element.label);\n\t\treturn acc;\n\t}, []);\n}\n\nexport function validateMandatoryFields(fields = []) {\n\treturn fields.map((element) => {\n\t\tif (get(element, 'dictionary.isMandatory'))\n\t\t\treturn { ...element, invalid: !element.value };\n\t\treturn element;\n\t});\n}\n\nexport const collectHTMLValues = (fieldItems = []) => {\n\treturn fieldItems.reduce((accu, item) => {\n\t\tif (get(item, 'value.type', null) === 'html')\n\t\t\taccu.push(item.value.value);\n\t\treturn accu;\n\t}, []);\n};\n\nexport const defaultRendererProperties = {\n\t/** @type {Object} miscellaneous properties */\n\tactivityProperties: {\n\t\tdefault: {}\n\t},\n\t/** @type {String} the table name of the record */\n\tassociatedTable: {\n\t\tdefault: ''\n\t},\n\t/** @type {String} the sys_id of the record */\n\tassociatedSysId: {\n\t\tdefault: ''\n\t},\n\t/** @type {Number} sys_mod_count of the Associated Record */\n\tassociatedRecordModCount: {\n\t\tdefault: 0\n\t},\n\tactivityState: {\n\t\tdefault: {\n\t\t\tvalue: '',\n\t\t\tdisplayValue: ''\n\t\t}\n\t},\n\tactivityType: {\n\t\tdefault: {\n\t\t\tvalue: '',\n\t\t\tdisplayValue: ''\n\t\t}\n\t},\n\tconfigProperties: {\n\t\tdefault: {\n\t\t\tshowActivityState: true,\n\t\t\tshowAutomatedManualIndicator: true\n\t\t}\n\t},\n\t/**\n\t * @type {Boolean} Whether there are any actions which warrants a loading\n\t * indicator on a card\n\t */\n\tloading: {\n\t\tdefault: false\n\t},\n\t/**\n\t * @type {Boolean} Activity Context Id\n\t */\n\tcontextId: {\n\t\tdefault: ''\n\t},\n\t/**\n\t * @type {Boolean} card prioritized\n\t */\n\tprioritized: { default: false },\n\t/**\n\t * @type {Boolean} card to be expanded on mount\n\t */\n\texpandOnMountOrChange: { default: false },\n\t/**\n\t * user id to use in Assigned To section\n\t * @type {String}\n\t */\n\tuserId: { default: '' },\n\n\t/**\n\t * title of the activity\n\t * @type {String}\n\t */\n\tactivityLabel: {\n\t\tdefault: ''\n\t}\n};\n","export { cancelPlaybookBehavior } from './cancelPlaybookBehavior';\nexport { declarativeActionsHeaderClickedBehavior } from './declarativeActionsHeaderClickedBehavior';\nexport { createNowTextAreaInputBehavior } from './nowTextAreaInputBehavior';\nexport { snLinkInterceptorBehavior } from './sn-link-interceptor';\nexport { snPanelNavigationBehavior } from './sn-panel-navigation';\nexport { stageSelectorActionsDropdownBehavior } from './stageSelectorActionsDropdownBehavior';\nexport {\n\tcreateTransformDeclarativeActionsBehavior,\n\tcreateTransformDeclarativeActionsBehaviorFromModel\n} from './transformDeclarativeActionsBehavior';\n","export { default as findActivityIndexAndOperation } from './findActivityIndexAndOperation';\nexport { default as getAMBChannel } from './getAMBChannel';\nexport { default as getDefaultConfigProperties } from './getDefaultConfigProperties';\nexport { default as getUpdatedLaneStats } from './getUpdatedLaneStats';\nexport { default as incrementSingleActivityStats } from './incrementSingleActivityStats';\nexport { default as setCoeffectsPayload } from './setCoeffectsPayload';\n","module.exports = __TECTONIC__sn_uxpage_presource_18_0_3;","export const CARD_QUERY = `\n\ttitle\n\tcontextId\n\tplaybookContextId\n\tstate {\n\t\tvalue\n\t\tdisplayValue\n\t}\n\tlaneName\n\tlaneContext {\n\t\tname\n\t\ttitle\n\t\torder\n\t\tstate {\n\t\t\tvalue\n\t\t\tdisplayValue\n\t\t}\n\t}\n\tassignedTo {\n\t\tvalue\n\t\tdisplayValue\n\t\tavatar\n\t}\n\texecutionIndex\n\torder\n\tactivityDefinitionId\n\tactivityType {\n\t\tvalue\n\t\tdisplayValue\n\t}\n\tactivityProperties {\n\t\tname\n\t\tlabel\n\t\tvalue\n\t\tdisplayValue\n\t\telementData {\n\t\t\ttype\n\t\t\treference\n\t\t}\n\t\trelatedProperties {\n\t\t\tname\n\t\t\tlabel\n\t\t\tvalue\n\t\t\tdisplayValue\n\t\t\telementData {\n\t\t\t\ttype\n\t\t\t\treference\n\t\t\t}\n\t\t  }\n\t}\n\tfilterData {\n\t\tname\n\t\tlabel\n\t\tvalue\n\t\tdisplayValue\n\t}\n\tassociatedTable\n\tassociatedRecord\n\tassociatedRecordModCount\n\tcardRendererTag\n\tshow\n\tauthorizedActions\n\tprioritized\n\terrors {\n\t\ttype\n\t\tmessage\n\t}\n`;\n\nexport const LANE_QUERY = `\n\tname\n\ttitle\n\torder\n\tstate {\n\t\tvalue\n\t}\n\tcards {\n\t\t${CARD_QUERY}\n\t}\n`;\n\nexport const PLAYBOOK_QUERY = `\n\tconfigProperties {\n\t\tshowActivityState\n\t\tshowAutomatedManualIndicator\n\t\tfilterFields\n\t\tmaxFormFieldsOnCard\n\t\tslaConfiguration\n\t\texpandFirstPrioritizedCard\n\t}\n\ttitle\n\tsysId\n\tparentTable\n\tparentRecord\n\tcancellationReason\n\tcanceledBy\n\tstate {\n\t\tvalue\n\t\tdisplayValue\n\t}\n\tlanes {\n\t\t${LANE_QUERY}\n\t}\n`;\n\n//TODO: Add fields back in when formLayout supports it\nexport const recordQuery = `\n\tquery($sysId: String, $table: String!, $view: String) {\n\t\tGlideRecord_Query {\n\t\t\t{{associatedTable}} (sys_id: $sysId) {\n\t\t\t\t_results {\n\t\t\t\t\tsys_class_name {\n\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t}\n\t\t\t\t\tnumber {\n\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t}\n\t\t\t\t\tsys_updated_by {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t\tsys_id {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t\t_query {\n\t\t\t\t\t\tnotes: GlideRecord_Query {\n\t\t\t\t\t\t\tsys_journal_field(queryConditions: \"element_id=$$parent.sys_id$$^ORDERBYDESCsys_created_on\", pagination: {limit: 1, offset: 0}) {\n                     \t\t\t_results {\n                       \t\t\t\tvalue {\n                         \t\t\t\tvalue\n                         \t\t\t\tdisplayValue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tGlideLayout_Query {\n\t\t\tformLayout(table: $table, view: $view, sysId: $sysId){\n\t\t\t\tbaseTable\n\t\t\t\trecordValues {\n\t\t\t\t\tname\n\t\t\t\t\tvalue\n\t\t\t\t\tdisplayValue\n\t\t\t\t\tvaluesList {\n\t\t\t\t\t\tvalue\n\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telementsData {\n\t\t\t\t\tname: elementName\n\t\t\t\t\tdictionary: dictionaryData {\n\t\t\t\t\t\ttype: dictionaryType\n\t\t\t\t\t\tdependentField\n\t\t\t\t\t\tdependentTable\n\t\t\t\t\t\tname\n\t\t\t\t\t\tlabel\n\t\t\t\t\t\tcanWrite\n\t\t\t\t\t\tcanRead\n\t\t\t\t\t\tcanCreate\n\t\t\t\t\t\tinternalType\n\t\t\t\t\t\tisMandatory\n\t\t\t\t\t\tisReadonly: sysReadonly\n\t\t\t\t\t\tattributes {\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t... on GlideLayout_ChoiceElementType {\n\t\t\t\t\t\tchoices {\n\t\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t... on GlideLayout_ReferenceElementType {\n\t\t\t\t\t\treference\n\t\t\t\t\t\treferenceQualifier\n\t\t\t\t\t\treferenceKey\n\t\t\t\t\t\tuseReferenceQualifier\n\t\t\t\t\t\tdependent\n\t\t\t\t\t\tdependentOnField\n\t\t\t\t\t\trefAutoCompleter\n\t\t\t\t\t\trefAcOrderBy\n\t\t\t\t\t\trefAcColumns\n\t\t\t\t\t\trefAcColumnsSearch\n\t\t\t\t\t\trefAcDisplayValue\n\t\t\t\t\t\trefQualElements\n\t\t\t\t\t\trefContributions\n\t\t\t\t\t\tisDynamicCreate\n\t\t\t\t\t\tisReferenceScriptableTable\n\t\t\t\t\t\treferenceError\n\t\t\t\t\t}\n\t\t\t\t\t... on GlideLayout_GlideVarElementType {\n\t\t\t\t\t\tmodelTable\n\t\t\t\t\t\tglidevars: _elements {\n\t\t\t\t\t\t\tname: elementName\n\t\t\t\t\t\t\tdictionary: dictionaryData {\n\t\t\t\t\t\t\t\ttype: dictionaryType\n\t\t\t\t\t\t\t\tdependentField\n\t\t\t\t\t\t\t\tdependentTable\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\tcanWrite\n\t\t\t\t\t\t\t\tcanRead\n\t\t\t\t\t\t\t\tcanCreate\n\t\t\t\t\t\t\t\tinternalType\n\t\t\t\t\t\t\t\tisMandatory\n\t\t\t\t\t\t\t\tisReadonly: sysReadonly\n\t\t\t\t\t\t\t\tattributes {\n\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t... on GlideLayout_ChoiceElementType {\n\t\t\t\t\t\t\t\tchoices {\n\t\t\t\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t... on GlideLayout_ReferenceElementType {\n\t\t\t\t\t\t\t\treference\n\t\t\t\t\t\t\t\treferenceQualifier\n\t\t\t\t\t\t\t\treferenceKey\n\t\t\t\t\t\t\t\tuseReferenceQualifier\n\t\t\t\t\t\t\t\tdependent\n\t\t\t\t\t\t\t\tdependentOnField\n\t\t\t\t\t\t\t\trefAutoCompleter\n\t\t\t\t\t\t\t\trefAcOrderBy\n\t\t\t\t\t\t\t\trefAcColumns\n\t\t\t\t\t\t\t\trefAcColumnsSearch\n\t\t\t\t\t\t\t\trefAcDisplayValue\n\t\t\t\t\t\t\t\trefQualElements\n\t\t\t\t\t\t\t\trefContributions\n\t\t\t\t\t\t\t\tisDynamicCreate\n\t\t\t\t\t\t\t\tisReferenceScriptableTable\n\t\t\t\t\t\t\t\treferenceError\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t... on GlideLayout_ValueElementType {\n\t\t\t\t\t\t\t\tmaxLength\n\t\t\t\t\t\t\t\tdefaultRows\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t... on GlideLayout_ValueElementType {\n\t\t\t\t\t\tmaxLength\n\t\t\t\t\t\tdefaultRows\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n","export { renderAttachments } from './renderAttachments';\nexport { renderChecklist } from './renderChecklist';\nexport { renderEmptyState, getEmptyState } from './renderEmptyState';\nexport { renderFieldList, getFieldList } from './renderFieldList';\nexport { renderForm, showFormSection } from './renderForm';\nexport { renderFormFieldControls } from './renderFormFieldControls';\nexport { renderFormFieldList } from './renderFormFieldList';\nexport { renderFormSection } from './renderFormSection';\nexport { renderNowLabelValue } from './renderNowLabelValue';\nexport { renderPlaybookFooter } from './renderPlaybookFooter';\nexport { renderRichText } from './renderRichText';\nexport { renderSnippet } from './renderSnippet';\n","import '@servicenow/now-template-message';\n\nconst templateMessageHeight = '535px';\n\nconst emptyState = ({\n\ttitle,\n\ttext,\n\tlevel = 3,\n\talignment = 'vertical-centered',\n\tillustration = 'add-attachment',\n\tactions = []\n}) => (\n\t<now-template-message-empty-state\n\t\talignment={alignment}\n\t\theading={{ label: title, level }}\n\t\tcontent={text}\n\t\tillustration={illustration}\n\t\tactions={actions}\n\t\tstyle={\n        \t    alignment === 'horizontal' ? null :\n\t\t\t\t{\n\t                position: 'relative',\n\t                height: alignment === 'horizontal' ? 'auto' : templateMessageHeight,\n\t                top: alignment === 'horizontal' ? 0 : `calc(50% - 0.5 * ${templateMessageHeight})`,\n\t                overflow: 'visible'\n\t\t\t\t}\n\t\t}\n\t/>\n);\n\nexport default emptyState;\n","import { actionTypes } from '@servicenow/ui-core';\nimport get from 'lodash/get';\nimport {\n\tPLAYBOOK_CARD_AUTOMATED_ICON,\n\tPLAYBOOK_CARD_AUTOMATED_TAGLINE,\n\tPLAYBOOK_SUFFICIENT_DATA\n} from '../../constants';\nimport { defaultRendererProperties } from '../utils';\nimport { NOTIFICATION_PLAYBOOK_CARD_PENDING } from '../../notification.constants';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nexport const playbookCardBehavior = {\n\tname: 'playbookCardBehavior',\n\tproperties: {\n\t\t...defaultRendererProperties,\n\t\tdeclarativeActions: {\n\t\t\tdefault: []\n\t\t},\n\t\tdeclarativeModel: {\n\t\t\tdefault: {}\n\t\t},\n\t\tparentTable: {\n\t\t\tdefault: ''\n\t\t},\n\t\tparentSysId: {\n\t\t\tdefault: ''\n\t\t},\n\t\tfilterData: {\n\t\t\tdefault: []\n\t\t},\n\t\tassignedTo: {\n\t\t\tdefault: {}\n\t\t},\n\t\tplaybookCardProperties: {\n\t\t\tcomputed({\n\t\t\t\tformFieldItems,\n\t\t\t\ttitle: stateTitle,\n\t\t\t\tnotification,\n\t\t\t\thasSufficientData = true,\n\t\t\t\tformFieldsInModal,\n\t\t\t\tproperties: {\n\t\t\t\t\tassociatedSysId,\n\t\t\t\t\tassociatedTable,\n\t\t\t\t\tdeclarativeActions,\n\t\t\t\t\tdeclarativeModel,\n\t\t\t\t\tactivityState,\n\t\t\t\t\tactivityProperties: {\n\t\t\t\t\t\tpending_title = {},\n\t\t\t\t\t\tpending_description = {},\n\t\t\t\t\t\ttitle = {},\n\t\t\t\t\t\tfooter,\n\t\t\t\t\t\tis_automated = {},\n\t\t\t\t\t\tshow_sla = {},\n\t\t\t\t\t\ttagline = {},\n\t\t\t\t\t\ticon = {}\n\t\t\t\t\t} = {},\n\t\t\t\t\tconfigProperties,\n\t\t\t\t\tfilterData,\n\t\t\t\t\tassignedTo,\n\t\t\t\t\tformFieldsRequired,\n\t\t\t\t\tloading,\n\t\t\t\t\tcontextId,\n\t\t\t\t\tprioritized,\n\t\t\t\t\texpandOnMountOrChange,\n\t\t\t\t\tuserId,\n\t\t\t\t\tactivityLabel\n\t\t\t\t} = {}\n\t\t\t}) {\n\t\t\t\t// Override icon / tagline if automated\n\t\t\t\tif (is_automated.value === '1') {\n\t\t\t\t\ticon.value = PLAYBOOK_CARD_AUTOMATED_ICON;\n\t\t\t\t\ticon.displayValue = PLAYBOOK_CARD_AUTOMATED_ICON;\n\t\t\t\t\ttagline.value = PLAYBOOK_CARD_AUTOMATED_TAGLINE;\n\t\t\t\t\ttagline.displayValue = PLAYBOOK_CARD_AUTOMATED_TAGLINE;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tdeclarativeActions,\n\t\t\t\t\tdeclarativeModel,\n\t\t\t\t\tactivityState,\n\t\t\t\t\t...(associatedTable && { associatedTable }),\n\t\t\t\t\t...(associatedSysId && { associatedSysId }),\n\t\t\t\t\t...(activityLabel && {\n\t\t\t\t\t\theading: {\n\t\t\t\t\t\t\tlabel: activityLabel\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\t...(title.value && {\n\t\t\t\t\t\theading: {\n\t\t\t\t\t\t\tlabel: title.value\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\t...(formFieldItems && { formFieldItems }),\n\t\t\t\t\t...((tagline.value || icon.value) && {\n\t\t\t\t\t\ttagline: {\n\t\t\t\t\t\t\tlabel: tagline.value || '',\n\t\t\t\t\t\t\ticon: icon.value || ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tpendingTitle:\n\t\t\t\t\t\tget(pending_title, 'value') ||\n\t\t\t\t\t\tget(title, 'value') ||\n\t\t\t\t\t\tactivityLabel ||\n\t\t\t\t\t\tNOTIFICATION_PLAYBOOK_CARD_PENDING.header,\n\t\t\t\t\t...(pending_description.value && {\n\t\t\t\t\t\tpendingDescription: pending_description.value\n\t\t\t\t\t}),\n\t\t\t\t\tloading,\n\t\t\t\t\tcontextId,\n\t\t\t\t\tconfigProperties,\n\t\t\t\t\tcardFooter: footer,\n\t\t\t\t\tfilterData,\n\t\t\t\t\tassignedTo,\n\t\t\t\t\tformFieldsRequired,\n\t\t\t\t\t...(notification && { notification }),\n\t\t\t\t\tformFieldsInModal,\n\t\t\t\t\tshowSla: show_sla.value === '1',\n\t\t\t\t\thasSufficientData,\n\t\t\t\t\tprioritized,\n\t\t\t\t\texpandOnMountOrChange,\n\t\t\t\t\tuserId\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[PLAYBOOK_SUFFICIENT_DATA]: ({ action: { payload }, updateState }) => {\n\t\t\tconst { hasSufficientData = null } = payload;\n\t\t\tif (hasSufficientData === null) return;\n\n\t\t\tupdateState({ hasSufficientData });\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ action, updateState }) => {\n\t\t\tconst { payload: { name, value, previousValue } = {} } =\n\t\t\t\taction || {};\n\n\t\t\tif (name === 'associatedRecordModCount' && value > previousValue)\n\t\t\t\tupdateState({ associatedRecordUpdated: Date.now() });\n\t\t}\n\t}\n};\n","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","module.exports = __TECTONIC__$devsnc_sn_glide_form_controls;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rtl = require('./rtl.js');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function () {\n    return _interopRequireDefault(_rtl).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","module.exports = __TECTONIC__$servicenow_now_icon;","export const BEHAVIOR_NAME = 'snLinkInterceptorBehavior';\nexport const INVALID_URL_TYPE = 'NOT_FOUND';\n// Actions\nexport const SAVE_URLS = 'LINK_INTERCEPTOR#SAVE_URLS';\nexport const FETCH_BROKER = 'LINK_INTERCEPTOR#FETCH_BROKER';\nexport const FETCH_BROKER_DELAYED = 'LINK_INTERCEPTOR#FETCH_BROKER_DELAYED';\nexport const FETCH_URLS = 'LINK_INTERCEPTOR#FETCH_URLS';\nexport const FETCH_URLS_SUCCEEDED = 'LINK_INTERCEPTOR#FETCH_URLS_SUCCEEDED';\nexport const FETCH_URLS_FAILED = 'LINK_INTERCEPTOR#FETCH_URLS_FAILED';\nexport const OPEN_IN_WORKSPACE = 'LINK_INTERCEPTOR#OPEN_IN_WORKSPACE';\nexport const PREVIEW_RECORD = 'PREVIEW_RECORD'; // Agent Workspace action\n","import { get, mapValues } from 'lodash';\n\nexport const getParsedDoc = (html) => {\n\tif (typeof html !== 'string') return null;\n\treturn new DOMParser().parseFromString(html, 'text/html');\n};\n\nexport const stripHTML = (html) => {\n\treturn get(getParsedDoc(html), 'body.textContent', '');\n};\n\n// Be careful when using to parse non admin user inputs, XSS vulnerability\nexport const decodeHTML = (html) => {\n\tif (/&amp;|&quot;|&#39;|'&lt;|&gt;/.test(html))\n\t\treturn get(getParsedDoc(html), 'documentElement.textContent', html);\n\n\treturn html;\n};\n\nexport const convertNullToEmptyString = (value) =>\n\tvalue === null ? '' : value;\n\nexport const setIfAbsent = (obj = {}, key, value) => {\n\tif (!obj.hasOwnProperty(key)) obj[key] = value;\n\treturn obj[key];\n};\n\nexport const withStopPropagation = (handlers = {}) => {\n\treturn mapValues(handlers, (effect) => {\n\t\treturn {\n\t\t\t// For Seismic create effect type methods (i.e.\n\t\t\t// createAmbSubscriptionEffect, createGraphQLEffect) where it\n\t\t\t// already returns an object like { effect: <func>, args: [...] };\n\t\t\t...(effect.hasOwnProperty('effect') ? effect : { effect }),\n\t\t\tstopPropagation: true\n\t\t};\n\t});\n};\n\nexport const getBehaviorPath = (name) => `behaviors.${name}`;\n\nexport const getBehaviorState = (name, state) =>\n\tget(state, getBehaviorPath(name), {});\n\nexport const setBehaviorState = (name, state, nextState) => {\n\tconst currentState = getBehaviorState(name, state);\n\n\treturn {\n\t\tpath: getBehaviorPath(name),\n\t\toperation: 'set',\n\t\tvalue: {\n\t\t\t...currentState,\n\t\t\t...nextState\n\t\t}\n\t};\n};\n","export const renderNowLabelValue = (items, opts = {}) => (\n\t<now-label-value-stacked\n\t\titems={items}\n\t\talign=\"horizontal\"\n\t\tsize=\"sm\"\n\t\titemMinWidth=\"0\"\n\t\ttruncated={true}\n\t\twrapped={true}\n\t\t{...opts}\n\t/>\n);\n","module.exports = __TECTONIC__$devsnc_sn_declarative_actions;","module.exports = __TECTONIC__$servicenow_now_dropdown;","import { get, mapValues, set } from 'lodash';\nimport { constructRWFilter } from '../effects/amb-batch-subscription';\n\nexport const pushRecord = (collection, table, record) => {\n\tif (!collection) {\n\t\treturn {};\n\t}\n\n\tif (table && record) {\n\t\tconst sysIds = get(collection, table, []);\n\n\t\tif (Array.isArray(sysIds) && !sysIds.includes(record))\n\t\t\tsysIds.push(record);\n\n\t\tset(collection, table, sysIds);\n\t}\n\n\treturn collection;\n};\n\n// NOTE: collection is mutated, this function is intended to build an object\n// from inside a loop\nexport const pushAssociatedRecord = (collection, activityOrCard = {}) => {\n\tconst { associatedTable, associatedRecord } = activityOrCard;\n\n\treturn pushRecord(collection, associatedTable, associatedRecord);\n};\n\nexport const pushExperienceStatusRecord = (collection, activityOrCard = {}) => {\n\tconst {\n\t\tactivityProperties: {\n\t\t\texperience_status_table: { value: statusTable } = {},\n\t\t\texperience_status_record: { value: statusRecord } = {}\n\t\t} = {}\n\t} = activityOrCard;\n\n\treturn pushRecord(collection, statusTable, statusRecord);\n};\n\nexport const getChannelId = (table, filter) => `/rw/default/${table}/${filter}`;\n\nexport const constructRWQueryBatchFromRecordsMap = (records = {}) => {\n\treturn mapValues(records, (sysIds) =>\n\t\tconstructRWFilter({ sys_id: sysIds })\n\t);\n};\n\nconst hasAnUnwatchedRecord = (state, table, record) => {\n\tconst watchingRecords = (state || {}).watchingRecords;\n\n\treturn (\n\t\ttable &&\n\t\trecord &&\n\t\t(!watchingRecords.hasOwnProperty(table) ||\n\t\t\t(watchingRecords.hasOwnProperty(table) &&\n\t\t\t\t!watchingRecords[table].includes(record)))\n\t);\n};\n\n// Returns Boolean, checks whether the Associated Record of a given Activity\n// is already being watched by checking its associatedTable/associatedSysId\n// against 'watchingRecords'\nexport const hasAnUnwatchedAssociatedRecord = (activity = {}, state) => {\n\tconst { associatedTable, associatedRecord } = activity;\n\n\treturn hasAnUnwatchedRecord(state, associatedTable, associatedRecord);\n};\n\n// Returns Boolean, checks whether the Experience Status Record of a given Activity\n// is already being watched by checking its Table/SysId values\n// against 'watchingRecords'\nexport const hasAnUnwatchedExperienceStatusRecord = (activity = {}, state) => {\n\tconst {\n\t\tactivityProperties: {\n\t\t\texperience_status_table: { value: statusTable } = {},\n\t\t\texperience_status_record: { value: statusRecord } = {}\n\t\t} = {}\n\t} = activity;\n\n\treturn hasAnUnwatchedRecord(state, statusTable, statusRecord);\n};\n","// This export causing Jest error related to Tectonic issue https://code.devsnc.com/dev/sn-tectonic/issues/80\n// export { default as createAmbBatchSubscriptionEffect } from './ambBatchSubscriptionEffect';\nexport * from './constants';\nexport * from './utils';\n","export * from './amb-batch-subscription';\nexport * from './modifiers';\n","import * as snPlaybookCardDefault from './sn-playbook-card-default';\nimport * as snPlaybookCard from './sn-playbook-card';\nimport * as snPlaybookDADataProvider from './sn-playbook-declarative-actions-data-provider';\nimport * as nowPlaybookExperienceCardKnowledge from './now-playbook-experience-card-knowledge';\nimport * as snPlaybookCardMediator from './sn-playbook-card-mediator';\nimport * as nowPlaybookExperienceCardList from './now-playbook-experience-card-list';\nimport * as nowPlaybookExperienceCardCreateRecord from './now-playbook-experience-card-create-record';\n\nexport default {\n\tsnPlaybookCardDefault,\n\tsnPlaybookCard,\n\tsnPlaybookDADataProvider,\n\tnowPlaybookExperienceCardKnowledge,\n\tsnPlaybookCardMediator,\n\tnowPlaybookExperienceCardList,\n\tnowPlaybookExperienceCardCreateRecord\n};\n","export * from './playbookCardBehavior';\nexport * from './playbookRecordBehavior';\nexport * from './playbookFieldListBehavior';\n","import { actionTypes } from '@servicenow/ui-core';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { createUpdateStateEffect } from '@servicenow/ui-effect-update-state';\nimport { get } from 'lodash';\nimport {\n\tNOW_TEXT_LINK_CLICKED,\n\tPLAYBOOK_CARD_FORM_FIELDS_REQUIRED,\n\tPLAYBOOK_RECORD_FAILED,\n\tPLAYBOOK_RECORD_FETCH,\n\tPLAYBOOK_RECORD_FIELD_UPDATE,\n\tPLAYBOOK_RECORD_INIT,\n\tPLAYBOOK_RECORD_SET_FIELDS,\n\tPLAYBOOK_RECORD_STARTED,\n\tPLAYBOOK_RECORD_SUCCEEDED,\n\tPLAYBOOK_SET_ACTIVITY_LOADING,\n\tPREVIEW_RECORD\n} from '../../constants';\nimport { recordQuery } from '../../gql.constants';\nimport {\n\tNOTIFICATION_NETWORK_ERROR,\n\tNOTIFICATION_PLAYBOOK_ERROR\n} from '../../notification.constants';\nimport {\n\tconvertFormFields,\n\tensureFieldDictionaryType,\n\tformatColumns,\n\tformatFields,\n\tgetElements,\n\tgetLastJournalEntry,\n\tgetUpdatedByValue,\n\tgetValues,\n\tindexElements\n} from '../utils';\nimport { LiveUpdateMessage } from '@devsnc/sn-form-controls';\nimport { FieldType } from '@devsnc/sn-glide-form-controls';\n\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED } = actionTypes;\n// 'properties' needed for method 'recordInitEffect' for re-fetch the Associated Record\nconst allowedPropertyChanges = [\n\t'formFields',\n\t'formView',\n\t'associatedTable',\n\t'associatedSysId',\n\t'associatedRecordModCount'\n];\n\nconst fetchRecordEffect = createGraphQLEffect(recordQuery, {\n\ttemplateVarList: ['associatedTable', 'fields'],\n\tvariableList: ['sysId', 'table', 'view', 'columns'],\n\tstartActionType: PLAYBOOK_RECORD_STARTED,\n\tsuccessActionType: PLAYBOOK_RECORD_SUCCEEDED,\n\terrorActionType: PLAYBOOK_RECORD_FAILED\n});\n\nconst setLoadingEffect = ({ action, dispatch }) => {\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\tcontextId: get(action, 'payload.contextId'),\n\t\tloading: true\n\t});\n};\n\n//TODO refactor this to be more easily testable\nexport const getConvertedFormFieldItems = (action, properties) => {\n\tconst { formFields, associatedTable } = properties;\n\tconst elements = getElements(action);\n\tconst values = getValues(action);\n\tconst elementsIndexed = indexElements(elements);\n\tconst valuesIndexed = indexElements(values);\n\treturn convertFormFields({\n\t\telementsIndexed,\n\t\tvaluesIndexed,\n\t\tformFields,\n\t\tassociatedTable\n\t});\n};\n\nconst recordSucceededEffect = ({\n\taction,\n\tdispatch,\n\tstate,\n\tproperties,\n\tupdateState\n}) => {\n\tconst error = get(action, 'error', false);\n\tconst errors = get(action, 'payload.errors', []);\n\tconst hasErrors = !!(error || (errors && errors.length));\n\tconst { formFieldItems = [] } = state;\n\tconst { associatedTable } = properties;\n\tconst formFieldItemsNew = getConvertedFormFieldItems(action, properties);\n\n\tlet updatedformFieldItems = [];\n\tif (formFieldItems.length > 0) {\n\t\tformFieldItemsNew.forEach((newVersion) => {\n\t\t\tconst oldVersion = formFieldItems.find(\n\t\t\t\t(field) => field.name === newVersion.name\n\t\t\t);\n\n\t\t\t//Check if new version is different than old version\n\t\t\tif (newVersion.value != oldVersion.value) {\n\t\t\t\tlet msg = new LiveUpdateMessage(\n\t\t\t\t\tgetUpdatedByValue(action, associatedTable)\n\t\t\t\t);\n\n\t\t\t\t//Check if it has been modified\n\t\t\t\tif (oldVersion.value != oldVersion.originalValue) {\n\t\t\t\t\t//if the new version is the same as original version,\n\t\t\t\t\t//user has updated it, don't display message\n\t\t\t\t\tif (newVersion.value != oldVersion.originalValue) {\n\t\t\t\t\t\tmsg.setNewValue(newVersion.displayValue);\n\t\t\t\t\t\toldVersion.messages = [\n\t\t\t\t\t\t\t{ type: 'liveUpdate', message: msg }\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\n\t\t\t\t\t//if this is the last saved journal entry, we want to clear it\n\t\t\t\t\tif (\n\t\t\t\t\t\toldVersion.dictionary.type == FieldType.JOURNAL &&\n\t\t\t\t\t\toldVersion.value ==\n\t\t\t\t\t\t\tgetLastJournalEntry(action, associatedTable)\n\t\t\t\t\t) {\n\t\t\t\t\t\tupdatedformFieldItems.push(newVersion);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdatedformFieldItems.push(oldVersion);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnewVersion.messages = [\n\t\t\t\t\t\t{ type: 'liveUpdate', message: msg }\n\t\t\t\t\t];\n\t\t\t\t\tupdatedformFieldItems.push(newVersion);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdatedformFieldItems.push(newVersion);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tupdatedformFieldItems = formFieldItemsNew;\n\t}\n\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\tcontextId: get(action, 'payload.contextId'),\n\t\tloading: false\n\t});\n\n\tupdateState({\n\t\tformFieldItems: updatedformFieldItems,\n\t\tnotification: hasErrors\n\t\t\t? NOTIFICATION_PLAYBOOK_ERROR\n\t\t\t: state.notification\n\t});\n};\n\nconst recordFailedEffect = createUpdateStateEffect((state) => {\n\treturn {\n\t\t...state,\n\t\tloading: false,\n\t\tnotification: NOTIFICATION_NETWORK_ERROR\n\t};\n});\n\nconst recordInitEffect = ({ properties, dispatch }) => {\n\tconst {\n\t\tformFields: fields,\n\t\tformView,\n\t\tassociatedTable,\n\t\tassociatedSysId\n\t} = properties;\n\n\tif (!associatedTable || !associatedSysId || fields.length < 1) return;\n\n\tdispatch(PLAYBOOK_RECORD_FETCH, {\n\t\ttable: associatedTable,\n\t\tassociatedTable: associatedTable,\n\t\tsysId: associatedSysId,\n\t\tview: formView,\n\t\tfields: formatFields(fields),\n\t\tcolumns: formatColumns(fields)\n\t});\n};\n\nconst propertyChangeEffect = ({ action, dispatch }) => {\n\tconst {\n\t\tpayload: { name }\n\t} = action;\n\n\tif (allowedPropertyChanges.includes(name)) dispatch(PLAYBOOK_RECORD_INIT);\n};\n\nconst updateFieldEffect = ({ action, updateState, state }) => {\n\tconst { formFieldItems = [] } = state;\n\tconst { payload } = action;\n\tconst formFieldItemsNew = formFieldItems.map((field) => {\n\t\tif (field.name === payload.name) return payload;\n\n\t\treturn field;\n\t});\n\n\tupdateState({ formFieldItems: formFieldItemsNew });\n};\n\nconst setFieldsEffect = ({ action: { payload }, updateState }) => {\n\t// Sometimes field items returned have invalid type properties\n\tconst formFieldItems = ensureFieldDictionaryType(payload);\n\tupdateState({ formFieldItems });\n};\n\nconst setFormFieldsRequired = ({ action, state, updateState }) => {\n\tconst formFieldsRequired = get(action, 'payload.formFieldsRequired', null);\n\n\ttypeof formFieldsRequired === 'boolean' &&\n\t\tstate.formFieldsRequired !== formFieldsRequired &&\n\t\tupdateState({ formFieldsRequired });\n};\n\nexport const playbookRecordBehavior = {\n\tname: 'playbookRecordBehavior',\n\tinitialState: {\n\t\t/**\n\t\t * Copy of 'formFieldsRequired' state property exposed by sn-playbook-card\n\t\t * through dispatched action 'PLAYBOOK_CARD_FORM_FIELDS_REQUIRED'.\n\t\t * sn-playbook-card calculates this value in its Action Handler and here\n\t\t * we simply save that value so that we don't have to do our own\n\t\t * calculations. (Looping through the collection of Declarative Actions).\n\t\t *\n\t\t * Defaults to 'null' to signify no caculations have been done because\n\t\t * no Declarative Actions are present.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\tformFieldsRequired: null\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Display the record fields with the values filled in\n\t\t * @type {Array}\n\t\t */\n\t\trecordFields: {\n\t\t\tcomputed({\n\t\t\t\tproperties: {\n\t\t\t\t\tactivityProperties: { record_fields }\n\t\t\t\t}\n\t\t\t}) {\n\t\t\t\tconst value = record_fields ? record_fields.value : '';\n\t\t\t\treturn value && value.length ? value.split(',') : [];\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * The list of field names will display in a form\n\t\t * with the current values filled in.\n\t\t * @type {Array}\n\t\t */\n\t\tformFields: {\n\t\t\tcomputed({\n\t\t\t\tproperties: {\n\t\t\t\t\tactivityProperties: { form_fields }\n\t\t\t\t}\n\t\t\t}) {\n\t\t\t\tconst value = form_fields ? form_fields.value : '';\n\t\t\t\treturn value && value.length ? value.split(',') : [];\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * If form view activity property is provided,\n\t\t * embedded quick form will display within the card for that\n\t\t * form view, including that view's layout.\n\t\t * @type {String}\n\t\t */\n\t\tformView: {\n\t\t\tcomputed({\n\t\t\t\tproperties: {\n\t\t\t\t\tactivityProperties: { form_view }\n\t\t\t\t}\n\t\t\t}) {\n\t\t\t\treturn form_view && form_view.value ? form_view.value : '';\n\t\t\t}\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[PLAYBOOK_RECORD_INIT]: recordInitEffect,\n\t\t[COMPONENT_BOOTSTRAPPED]: recordInitEffect,\n\t\t[COMPONENT_PROPERTY_CHANGED]: propertyChangeEffect,\n\t\t[PLAYBOOK_RECORD_FETCH]: fetchRecordEffect,\n\t\t[PLAYBOOK_RECORD_STARTED]: setLoadingEffect,\n\t\t[PLAYBOOK_RECORD_SUCCEEDED]: recordSucceededEffect,\n\t\t[PLAYBOOK_RECORD_FAILED]: recordFailedEffect,\n\t\t[PLAYBOOK_RECORD_FIELD_UPDATE]: updateFieldEffect,\n\t\t[PLAYBOOK_RECORD_SET_FIELDS]: setFieldsEffect,\n\t\t[PLAYBOOK_CARD_FORM_FIELDS_REQUIRED]: {\n\t\t\teffect: setFormFieldsRequired,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_TEXT_LINK_CLICKED]: {\n\t\t\teffect: ({\n\t\t\t\tdispatch,\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { table, sys_id, recordLink }\n\t\t\t\t}\n\t\t\t}) => {\n\t\t\t\tif (!table || !sys_id || !recordLink) return;\n\t\t\t\tdispatch(PREVIEW_RECORD, {\n\t\t\t\t\ttable,\n\t\t\t\t\tsys_id\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t}\n};\n","import { actionTypes } from '@servicenow/ui-core';\nimport {\n\tLINK_INTERCEPTOR_SAVE_URLS,\n\tNOW_LABEL_VALUE_STACKED_TEXT_LINK_CLICKED,\n\tPLAYBOOK_FIELD_LIST_UPDATED,\n\tPREVIEW_RECORD,\n\tPLAYBOOK_FIELD_LIST_EMPTY\n} from '../../constants';\nconst {\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_CONNECTED\n} = actionTypes;\nimport { convertElementInfo } from '../utils';\n\nexport const FIELD_LIST_BEHAVIOR_NAME = 'playbookFieldListBehavior';\n\nfunction parseFieldList({\n\tdispatch,\n\tupdateState,\n\tstate: { fieldListProperties = [] },\n\tproperties: { activityProperties }\n}) {\n\tconst htmlValues = [];\n\n\tconst fieldListItems = fieldListProperties.reduce((result, prop) => {\n\t\tif (!activityProperties.hasOwnProperty(prop)) return result;\n\n\t\tconst {\n\t\t\t[prop]: { relatedProperties = [] }\n\t\t} = activityProperties;\n\n\t\tif (!Array.isArray(relatedProperties) || !relatedProperties.length)\n\t\t\treturn result;\n\n\t\tresult[prop] = relatedProperties.map((prop) => {\n\t\t\tconst { elementData } = prop;\n\n\t\t\tconst info = convertElementInfo({\n\t\t\t\tlabel: prop.label || '',\n\t\t\t\tvalue: prop.value || PLAYBOOK_FIELD_LIST_EMPTY,\n\t\t\t\tdisplayValue: prop.displayValue || PLAYBOOK_FIELD_LIST_EMPTY,\n\t\t\t\ttype: elementData.type || 'string',\n\t\t\t\treference: elementData.reference\n\t\t\t});\n\n\t\t\tif (info.isHTMLType) htmlValues.push(prop.value);\n\n\t\t\treturn info;\n\t\t});\n\n\t\treturn result;\n\t}, {});\n\n\tif (htmlValues.length) dispatch(LINK_INTERCEPTOR_SAVE_URLS, htmlValues);\n\n\tupdateState({ fieldListItems });\n}\n\nexport const playbookFieldListBehavior = {\n\tname: FIELD_LIST_BEHAVIOR_NAME,\n\tinitialState: { refreshRequested: null },\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]({\n\t\t\tupdateState,\n\t\t\taction: {\n\t\t\t\tpayload: { options }\n\t\t\t}\n\t\t}) {\n\t\t\tconst { fieldListProperties = [] } = options;\n\t\t\tupdateState({ fieldListProperties });\n\t\t},\n\t\t[COMPONENT_BOOTSTRAPPED]({ dispatch }) {\n\t\t\tdispatch(PLAYBOOK_FIELD_LIST_UPDATED);\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]({ action, dispatch }) {\n\t\t\tconst { payload: { name } = {} } = action || {};\n\n\t\t\tif (name === 'activityProperties')\n\t\t\t\tdispatch(PLAYBOOK_FIELD_LIST_UPDATED);\n\t\t},\n\t\t[NOW_LABEL_VALUE_STACKED_TEXT_LINK_CLICKED]: {\n\t\t\teffect: ({ action, dispatch }) => {\n\t\t\t\tconst {\n\t\t\t\t\tpayload: { item }\n\t\t\t\t} = action;\n\t\t\t\tif (item && item.table && item.sysId) {\n\t\t\t\t\tdispatch(PREVIEW_RECORD, {\n\t\t\t\t\t\ttable: item.table,\n\t\t\t\t\t\tsys_id: item.sysId\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: false\n\t\t},\n\t\t[PLAYBOOK_FIELD_LIST_UPDATED]: parseFieldList\n\t}\n};\n","export { default as snPlaybookEmpty } from './sn-playbook-empty';\n","import {\n\tcontrolElementFactory,\n\tFieldType\n} from '@devsnc/sn-glide-form-controls';\nimport { PLAYBOOK_RECORD_FIELD_UPDATE } from '../../constants';\n\nconst onValueChange = (field, dispatch) => {\n\treturn (e, name, value, displayValue) => {\n\t\tif (field.value !== value || field.displayValue !== displayValue) {\n\t\t\tlet updatedField = {};\n\n\t\t\tswitch (field.dictionary.type) {\n\t\t\t\tcase FieldType.GLIDE_LIST:\n\t\t\t\t\tupdatedField = {\n\t\t\t\t\t\t...field,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tdisplayValue: displayValue.join(', '),\n\t\t\t\t\t\tdisplay_value_list: displayValue\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tupdatedField = {\n\t\t\t\t\t\t...field,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tdisplayValue\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (updatedField.mandatory) {\n\t\t\t\tupdatedField = {\n\t\t\t\t\t...updatedField,\n\t\t\t\t\tinvalid: !updatedField.value\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdispatch(PLAYBOOK_RECORD_FIELD_UPDATE, updatedField);\n\t\t}\n\t};\n};\n\nexport function renderFormFieldControls(state, dispatch) {\n\tconst { componentId, formFieldItems = [] } = state;\n\n\treturn (\n\t\t<div slot=\"form\" className=\"field-items-container\">\n\t\t\t{formFieldItems.map((field) => {\n\t\t\t\tconst fac = controlElementFactory.getFormControl(\n\t\t\t\t\tcomponentId,\n\t\t\t\t\tfield.dictionary.type,\n\t\t\t\t\tfield,\n\t\t\t\t\tonValueChange(field, dispatch),\n\t\t\t\t\tnull\n\t\t\t\t);\n\t\t\t\tconst { Control, props } = fac;\n\n\t\t\t\tif (field.messages) {\n\t\t\t\t\tprops.messages = field.messages;\n\t\t\t\t}\n\t\t\t\treturn <Control {...props} />;\n\t\t\t})}\n\t\t</div>\n\t);\n}\n","export function renderFormSection(state) {\n\tconst {\n\t\tcontextId,\n\t\tassociatedTable,\n\t\tassociatedSysId,\n\t\tassociatedRecordModCount,\n\t\tformView\n\t} = state.properties;\n\n\treturn (\n\t\t<div slot=\"form\" className=\"form-section-container\">\n\t\t\t<sn-playbook-form-section\n\t\t\t\tcontext-id={contextId}\n\t\t\t\tassociated-table={associatedTable}\n\t\t\t\tassociated-sys-id={associatedSysId}\n\t\t\t\tform-view={formView}\n\t\t\t\tassociated-record-mod-count={associatedRecordModCount}\n\t\t\t></sn-playbook-form-section>\n\t\t</div>\n\t);\n}\n","import { GFORM_ACTIONS } from '@devsnc/sn-scripting-environment';\nimport { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport { snabbdom } from '@servicenow/ui-renderer-snabbdom';\nimport {\n\tDECLARATIVE_ACTION,\n\tGFORM_VALIDATE_SUCCESS,\n\tPLAYBOOK_RECORD_SET_FIELDS\n} from '../../constants';\nimport { ensureFieldDictionaryType } from '../utils';\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED } = actionTypes;\n\ncreateCustomElement('sn-playbook-form-section-footer', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: () => null\n\t},\n\tproperties: {\n\t\tassociatedRecordModCount: {\n\t\t\tdefault: 0\n\t\t},\n\t\tactionSelected: {\n\t\t\tdefault: null\n\t\t},\n\t\tdispatchAction: {\n\t\t\tdefault: null\n\t\t},\n\t\tfields: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tstate: {\n\t\t\t\tproperties: { fields }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (fields) {\n\t\t\t\tdispatch(PLAYBOOK_RECORD_SET_FIELDS, fields);\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\taction,\n\t\t\tstate,\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst {\n\t\t\t\tproperties: { fields },\n\t\t\t\tactionSelectedValue = null\n\t\t\t} = state;\n\t\t\tconst {\n\t\t\t\tpayload: { name, value }\n\t\t\t} = action;\n\n\t\t\t//If we get a fields update from the form section, we want to update the\n\t\t\t//declarative model with the update fields\n\t\t\tif (name === 'fields') {\n\t\t\t\tdispatch(PLAYBOOK_RECORD_SET_FIELDS, value);\n\n\t\t\t\t//If we get actionSelected, it means a DA was clicked that requries form fields\n\t\t\t\t//We perform a GFORM VALIDATE to validate the fields\n\t\t\t\t//We save the value of the DA so we can dispatch after the form is validated and updated\n\t\t\t} else if (name === 'actionSelected') {\n\t\t\t\tupdateState({ actionSelectedValue: value });\n\n\t\t\t\tif (value !== null)\n\t\t\t\t\tdispatch(GFORM_ACTIONS.GFORM_VALIDATE, {\n\t\t\t\t\t\tsuccessActionName: GFORM_VALIDATE_SUCCESS\n\t\t\t\t\t});\n\n\t\t\t\t//If we get dispatchAction, dispatch the currently saved action with the updated fields\n\t\t\t} else if (name === 'dispatchAction') {\n\t\t\t\tif (value != null && actionSelectedValue != null) {\n\t\t\t\t\tconst {\n\t\t\t\t\t\taction: selectedAction,\n\t\t\t\t\t\tmodel\n\t\t\t\t\t} = actionSelectedValue;\n\t\t\t\t\tconst fieldArray = ensureFieldDictionaryType(fields);\n\n\t\t\t\t\tdispatch(DECLARATIVE_ACTION, {\n\t\t\t\t\t\taction: selectedAction,\n\t\t\t\t\t\tmodel: {\n\t\t\t\t\t\t\t...model,\n\t\t\t\t\t\t\tfields: fieldArray\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t//reset actionSelectedValue to null to show that action has been peformed\n\t\t\t\t\tupdateState({ actionSelectedValue: null });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n","module.exports = __TECTONIC__$devsnc_sn_scripting_environment;","\nconst getViewProp = (view) => {\n\treturn {forcedViewName: view && view != 'default' ? view : 'Default view'};\n};\n\nexport {getViewProp};\n","module.exports = __TECTONIC__$servicenow_now_collapse;","module.exports = __TECTONIC__$servicenow_now_highlighted_value;","module.exports = __TECTONIC__$servicenow_now_tooltip;","import { get } from 'lodash';\nimport { INVALID_URL_TYPE, BEHAVIOR_NAME } from './constants';\n\nexport const extractAnchorUrls = (html = '', opts) => {\n\tconst { stagedUrls, invalidUrls, capturedUrls } = opts;\n\tconst urls = new Set();\n\tconst frag = document.createDocumentFragment();\n\tconst div = document.createElement('div');\n\tfrag.appendChild(div);\n\tdiv.innerHTML = html;\n\n\tfrag.querySelectorAll('a').forEach((anchor) => {\n\t\tconst url = get(anchor, 'attributes[\"href\"].value', null);\n\n\t\tif (\n\t\t\t!url ||\n\t\t\tstagedUrls.hasOwnProperty(url) ||\n\t\t\tinvalidUrls.has(url) ||\n\t\t\tcapturedUrls.hasOwnProperty(url)\n\t\t)\n\t\t\treturn;\n\n\t\turls.add(url);\n\t});\n\n\treturn Array.from(urls);\n};\n\nexport const collectAnchorUrls = (htmlValues = [], opts) => {\n\tlet collection = [];\n\n\thtmlValues.forEach((value) => {\n\t\tconst urls = extractAnchorUrls(value, opts);\n\t\tcollection = [...collection, ...urls];\n\t});\n\n\treturn collection;\n};\n\nexport const getCleanedUrl = (url = '') => {\n\treturn url.length > 0 && url[0] === '/' ? url.substring(1) : url;\n};\n\nexport const getFetchableUrls = (\n\tstagedUrls = {},\n\tinvalidUrls = new Set(),\n\tmaxRetry = 0\n) => {\n\tconst fetchableUrls = [];\n\n\tfor (const url in stagedUrls) {\n\t\tconst count = stagedUrls[url];\n\t\tif (!invalidUrls.has(url) && count <= maxRetry) fetchableUrls.push(url);\n\t}\n\n\treturn fetchableUrls;\n};\n\nexport const addToStagedUrls = (stagedUrls = {}, urls = []) => {\n\tconst collection = Object.assign({}, stagedUrls);\n\turls.forEach((url) => (collection[url] = 1));\n\treturn collection;\n};\n\nexport const addToInvalidUrls = (invalidUrls = [], newInvalidUrls = []) => {\n\treturn new Set([...invalidUrls, ...newInvalidUrls]);\n};\n\nexport const addToCapturedUrls = (capturedUrls = {}, newCapturedUrls = {}) => ({\n\t...capturedUrls,\n\t...newCapturedUrls\n});\n\nexport const incrementStagedUrlCount = (stagedUrls = {}, urls = []) => {\n\tconst collection = Object.assign({}, stagedUrls);\n\n\tfor (const url in collection) collection[url] += 1;\n\n\turls.forEach((url) => (collection[url] = 1));\n\treturn collection;\n};\n\nexport const processResult = (result = [], stagedUrls = {}) => {\n\tconst processedStagedUrls = Object.assign({}, stagedUrls);\n\tconst processedInvalidUrls = [];\n\tconst processedCapturedUrls = {};\n\n\tresult.forEach((entry) => {\n\t\tconst { url } = entry;\n\t\tif (entry.type === INVALID_URL_TYPE) {\n\t\t\tprocessedInvalidUrls.push(url);\n\t\t} else {\n\t\t\tdelete processedStagedUrls[url];\n\t\t\tprocessedCapturedUrls[url] = entry;\n\t\t}\n\t});\n\n\treturn { processedStagedUrls, processedInvalidUrls, processedCapturedUrls };\n};\n\nexport const killEvent = (event = {}) => {\n\ttypeof event.stopPropagation === 'function' && event.stopPropagation();\n\ttypeof event.preventDefault === 'function' && event.preventDefault();\n\treturn true;\n};\n\nexport const getPath = () => `behaviors.${BEHAVIOR_NAME}`;\n\nexport const getBehaviorState = (state) => get(state, getPath(), {});\n\nexport const setBehaviorState = (state, nextState) => {\n\tconst currentState = getBehaviorState(state);\n\n\treturn {\n\t\tpath: getPath(),\n\t\toperation: 'set',\n\t\tvalue: {\n\t\t\t...currentState,\n\t\t\t...nextState\n\t\t}\n\t};\n};\n","module.exports = __TECTONIC__$servicenow_now_button;","module.exports = __TECTONIC__$servicenow_now_loader;","import './now-playbook-radial-progress';\n","import './now-playbook-stage-panel';\n","module.exports = __TECTONIC__$servicenow_now_heading;","export { default as snPlaybookCardActions } from './sn-playbook-card-actions';\n","module.exports = __TECTONIC__$servicenow_now_modal;","export { default as nowPlaybookDataBroker } from './now-playbook-data-broker';\n","import { getComponentsByTagNames } from '@devsnc/library-uxf';\nimport { FieldType } from '@devsnc/sn-glide-form-controls';\nimport { get } from 'lodash';\nimport { t } from 'sn-translate';\nimport {\n\tCARD_STATE_VALUES,\n\tCARD_STATUS_FILTER_SECTION,\n\tLINK_INTERCEPTOR_SAVE_URLS,\n\tPLAYBOOK_RENDERERS,\n\tPLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS\n} from '../constants';\nimport {\n\tgetDefaultConfigProperties,\n\tincrementSingleActivityStats\n} from './actions/utils';\nimport {\n\tpushAssociatedRecord,\n\tpushExperienceStatusRecord,\n\tpushRecord\n} from './ambUtils';\nimport {\n\tevaluateFilterOnCard,\n\tpushToFilter,\n\treduceSelectedFilters\n} from './filterUtils';\n\nexport const processCard = (playbook, card, currentUserId) => {\n\tlet newCard = { ...card };\n\n\tif (newCard.filterData) {\n\t\tnewCard.filterData = newCard.filterData.reduce((acc, prop) => {\n\t\t\tconst { name, value, displayValue: dv } = prop;\n\t\t\tconst displayValue =\n\t\t\t\tvalue && value === currentUserId ? t('Me') : dv;\n\t\t\tif (name == CARD_STATUS_FILTER_SECTION) {\n\t\t\t\tacc[name] =\n\t\t\t\t\tCARD_STATE_VALUES[value].displayValue || displayValue;\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t\tacc[name] = displayValue;\n\t\t\treturn acc;\n\t\t}, {});\n\t} else newCard.filterData = {};\n\n\tconst { selectedFilters = {} } = playbook;\n\tif (selectedFilters) {\n\t\tconst { reducedSelectedFilter } = reduceSelectedFilters(\n\t\t\tselectedFilters\n\t\t);\n\t\tnewCard = evaluateFilterOnCard(reducedSelectedFilter, newCard);\n\t}\n\n\tnewCard.parentTable = playbook.parentTable;\n\tnewCard.parentRecord = playbook.parentRecord;\n\n\tlet htmlValues = [];\n\n\tif (!Array.isArray(newCard.activityProperties))\n\t\tnewCard.activityProperties = [newCard.activityProperties];\n\n\tnewCard.activityProperties = newCard.activityProperties.reduce(\n\t\t(acc, prop) => {\n\t\t\tconst { name, ...activityProperty } = prop;\n\t\t\tacc[name] = { ...activityProperty };\n\t\t\tconst {\n\t\t\t\tvalue,\n\t\t\t\telementData: { type = 'string' } = {}\n\t\t\t} = activityProperty;\n\t\t\tif (\n\t\t\t\t(type === FieldType.HTML ||\n\t\t\t\t\ttype === FieldType.TRANSLATED_HTML) &&\n\t\t\t\tvalue\n\t\t\t)\n\t\t\t\thtmlValues.push(value);\n\t\t\treturn acc;\n\t\t},\n\t\t{}\n\t);\n\n\tconst recordFieldList = get(\n\t\tnewCard,\n\t\t'activityProperties.record_fields.value.length',\n\t\t0\n\t)\n\t\t? newCard.activityProperties.record_fields.value.split(',')\n\t\t: [];\n\n\tnewCard.recordFieldHasComments =\n\t\trecordFieldList.includes('comments') ||\n\t\trecordFieldList.includes('work_notes');\n\n\treturn {\n\t\tcard: { ...newCard, configProperties: playbook.configProperties },\n\t\thtmlValues\n\t};\n};\n\nexport const processLanes = (playbook, state) => {\n\tconst currentUserId = state.properties.currentUserId;\n\tconst registeredRenderers = get(state, 'playbook.registeredRenderers', []);\n\tlet newRenderers = [];\n\n\treturn playbook.lanes.reduce(\n\t\t(pbResult, lane) => {\n\t\t\tconst { cards, stats } = lane.cards.reduce(\n\t\t\t\t(laneResult, card) => {\n\t\t\t\t\tif (card.filterData)\n\t\t\t\t\t\tpbResult.filterData = pushToFilter(\n\t\t\t\t\t\t\tstate,\n\t\t\t\t\t\t\tcard,\n\t\t\t\t\t\t\tpbResult.filterData,\n\t\t\t\t\t\t\tcurrentUserId\n\t\t\t\t\t\t);\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\tcard: newCard,\n\t\t\t\t\t\thtmlValues: newHtmlValues\n\t\t\t\t\t} = processCard(playbook, card, currentUserId);\n\n\t\t\t\t\tpbResult.htmlValues = pbResult.htmlValues.concat(\n\t\t\t\t\t\tnewHtmlValues\n\t\t\t\t\t);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tnewCard.cardRendererTag &&\n\t\t\t\t\t\t!PLAYBOOK_RENDERERS.includes(newCard.cardRendererTag) &&\n\t\t\t\t\t\t!registeredRenderers.includes(newCard.cardRendererTag)\n\t\t\t\t\t)\n\t\t\t\t\t\tnewRenderers.push(newCard.cardRendererTag);\n\n\t\t\t\t\tpushAssociatedRecord(pbResult.recordWatchMap, newCard);\n\t\t\t\t\tpushExperienceStatusRecord(\n\t\t\t\t\t\tpbResult.recordWatchMap,\n\t\t\t\t\t\tnewCard\n\t\t\t\t\t);\n\n\t\t\t\t\tlaneResult.cards.push(newCard);\n\n\t\t\t\t\tconst newCardState = get(newCard, 'state.value');\n\t\t\t\t\tconst show = newCard.show;\n\n\t\t\t\t\tif (show) {\n\t\t\t\t\t\tincrementSingleActivityStats(\n\t\t\t\t\t\t\tlaneResult.stats,\n\t\t\t\t\t\t\tnewCardState,\n\t\t\t\t\t\t\t'+'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (newCard.prioritized) laneResult.stats.readyItems++;\n\n\t\t\t\t\t\tlaneResult.stats.totalItems++;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn laneResult;\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcards: [],\n\t\t\t\t\tstats: {\n\t\t\t\t\t\ttotalItems: 0,\n\t\t\t\t\t\tcompletedItems: 0,\n\t\t\t\t\t\tskippedItems: 0,\n\t\t\t\t\t\treadyItems: 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tpbResult.lanes.push({\n\t\t\t\t...lane,\n\t\t\t\tstats,\n\t\t\t\tcards,\n\t\t\t\texpanded: cards.some((card) => card.prioritized)\n\t\t\t});\n\n\t\t\tpbResult.registeredRenderers = newRenderers;\n\t\t\tpbResult.stats.completedItems += stats.completedItems;\n\t\t\tpbResult.stats.skippedItems += stats.skippedItems;\n\t\t\tpbResult.stats.totalItems += stats.totalItems;\n\n\t\t\treturn pbResult;\n\t\t},\n\t\t{\n\t\t\tlanes: [],\n\t\t\tfilterData: {},\n\t\t\tregisteredRenderers: [],\n\t\t\thtmlValues: [],\n\t\t\trecordWatchMap: {},\n\t\t\tstats: {\n\t\t\t\ttotalItems: 0,\n\t\t\t\tcompletedItems: 0,\n\t\t\t\tskippedItems: 0\n\t\t\t}\n\t\t}\n\t);\n};\n\nexport const processPlaybook = (state, playbook, dispatch) => {\n\tif (!playbook || !playbook.lanes) {\n\t\treturn {};\n\t}\n\n\tconst configProperties = getDefaultConfigProperties(playbook) || {};\n\tconst currentRegisteredRenderers = get(\n\t\tstate,\n\t\t'playbook.registeredRenderers',\n\t\t[]\n\t);\n\n\tconst {\n\t\tlanes,\n\t\tfilterData,\n\t\thtmlValues,\n\t\trecordWatchMap,\n\t\tregisteredRenderers = [],\n\t\tstats\n\t} = processLanes({ ...playbook, configProperties }, state);\n\n\tif (registeredRenderers.length > 0)\n\t\tgetComponentsByTagNames(registeredRenderers);\n\n\tpushRecord(recordWatchMap, playbook.parentTable, playbook.parentRecord);\n\tdispatch(PLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS, {\n\t\ttoBeAdded: recordWatchMap\n\t});\n\n\tif (htmlValues.length) dispatch(LINK_INTERCEPTOR_SAVE_URLS, { htmlValues });\n\n\treturn {\n\t\t...playbook,\n\t\tregisteredRenderers: [\n\t\t\t...currentRegisteredRenderers,\n\t\t\t...registeredRenderers\n\t\t],\n\t\tstats,\n\t\tconfigProperties,\n\t\tfilterData,\n\t\tlanes\n\t};\n};\n","module.exports = __TECTONIC__$devsnc_library_uxf;","export const AMB_CHANNEL_SUBSCRIBE_STARTED = 'AMB_CHANNEL_SUBSCRIBE_STARTED';\nexport const AMB_CHANNEL_SUBSCRIBE_SUCCEEDED =\n\t'AMB_CHANNEL_SUBSCRIBE_SUCCEEDED';\nexport const AMB_CHANNEL_SUBSCRIBE_FAILED = 'AMB_CHANNEL_SUBSCRIBE_FAILED';\nexport const AMB_CHANNEL_UNSUBSCRIBE_SUCCEEDED =\n\t'AMB_CHANNEL_UNSUBSCRIBE_SUCCEEDED';\nexport const AMB_MESSAGE_RECEIVED = 'AMB_MESSAGE_RECEIVED';\n","import { get, isEmpty } from 'lodash';\nimport { t } from 'sn-translate';\nimport { CARD_STATE_VALUES, CARD_STATUS_FILTER_SECTION } from '../constants';\n\n/*\ncard.filterData = [{name, label, value, displayValue}]\nplaybook.filterData = {\n\t${field_name}: {\n\t\t{\n\t\t\tname: '',\n\t\t\tlabel: '',\n\t\t\tid: '',\n\t\t\tchildren: [\n\t\t\t\t{\n\t\t\t\t\tid: '',\n\t\t\t\t\tlabel: '',\n\t\t\t\t\titemCount: '', //number of matching activity contexts\n\t\t\t\t\tfilterSection: '' //field_name for this option, required when selection is returned by now-dropdown-panel\n\t\t\t\t}\n\t\t\t] //Array of filter options\n\t\t\tselected: []\n\t\t}\n\t}\n\n}\nplaybook.selectedFilter = {\n        ${field_name}: {\n                ${label}: isSelected\n        }\n}\nplaybook.toBeCleanedSelectedFilterOption = {\n        ${field_name}: {\n                ${label}: { removeCategory: boolean //should the category be removed from filter}\n        }\n}\n*/\nexport const pushToFilter = (\n\tstate = {},\n\tcard = {},\n\tinitialFilter = {},\n\tcurrentUserId = ''\n) => {\n\tconst playbookFilterData = get(\n\t\tstate,\n\t\t'playbook.filterData.playbookFilterData',\n\t\t{}\n\t);\n\tlet newFilterData = !isEmpty(playbookFilterData)\n\t\t? { ...playbookFilterData }\n\t\t: { ...initialFilter };\n\tconst { filterData: cardFilterData = {} } = card;\n\n\t// Sometimes when we get AMB updates to refetch an Activity Context, the\n\t// Activity Context's Associated Table/Record may not have been set, thus\n\t// resulting in a 'null' 'filterData'\n\tif (!cardFilterData) return newFilterData;\n\n\tfor (const cardFilter of cardFilterData) {\n\t\tconst {\n\t\t\tname: fieldName,\n\t\t\tlabel: fieldLabel,\n\t\t\tvalue,\n\t\t\tdisplayValue: dv\n\t\t} = cardFilter;\n\n\t\tlet displayValue = '';\n\n\t\t//Apply backend state mapping\n\t\tif (fieldName == CARD_STATUS_FILTER_SECTION) {\n\t\t\tif (value == CARD_STATE_VALUES.ERROR.value) continue;\n\t\t\tdisplayValue = CARD_STATE_VALUES[value].displayValue || dv;\n\t\t} else displayValue = value && value === currentUserId ? t('Me') : dv;\n\n\t\tif (!displayValue.trim()) continue;\n\n\t\tconst newFilter = newFilterData[fieldName] || {};\n\n\t\tif (newFilter.children) {\n\t\t\tconst filterIndex = newFilter.children.findIndex(\n\t\t\t\t({ label }) => label == displayValue\n\t\t\t);\n\n\t\t\tif (filterIndex > -1) {\n\t\t\t\tconst children = [...newFilter.children];\n\n\t\t\t\tchildren[filterIndex] = {\n\t\t\t\t\t...children[filterIndex],\n\t\t\t\t\titemCount: children[filterIndex].itemCount + 1\n\t\t\t\t};\n\n\t\t\t\tnewFilterData[fieldName] = {\n\t\t\t\t\t...newFilter,\n\t\t\t\t\tchildren\n\t\t\t\t};\n\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tconst filterObject = {\n\t\t\tname: fieldName,\n\t\t\tlabel: fieldLabel,\n\t\t\tid: fieldName,\n\t\t\tselected: [],\n\t\t\tchildren: []\n\t\t};\n\n\t\tnewFilterData[fieldName] = newFilterData[fieldName] || filterObject;\n\n\t\tconst currentOption = {\n\t\t\tid: `${fieldName}|${displayValue}`,\n\t\t\tlabel: displayValue,\n\t\t\titemCount: 1,\n\t\t\tfilterSection: fieldName\n\t\t};\n\n\t\tnewFilterData[fieldName].children.push(currentOption);\n\t}\n\n\treturn newFilterData;\n};\n\n// Called on insert/update of activities\nexport const removeFromFilter = (\n\tfilter = {},\n\tselectedFilters = {},\n\ttoBeCleanedSelectedFilterOption = {},\n\tfilterData = {}\n) => {\n\tconst newFilter = { ...filter };\n\tconst newToBeCleanedSelectedFilterOption = {\n\t\t...toBeCleanedSelectedFilterOption\n\t};\n\n\tfor (const [fieldName, displayValue] of Object.entries(filterData)) {\n\t\tconst children = (filter[fieldName] || {}).children;\n\n\t\tif (!children) continue;\n\n\t\tconst filterIndex = children.findIndex(\n\t\t\t({ label }) => label == displayValue\n\t\t);\n\n\t\tif (filterIndex === -1) continue;\n\n\t\tconst isSelectedFilterOption = !!(selectedFilters[fieldName] || {})[\n\t\t\tdisplayValue\n\t\t];\n\t\tconst oldChildren = filter[fieldName].children;\n\t\tconst oldChild = oldChildren[filterIndex];\n\t\tconst { itemCount, label } = oldChild;\n\t\tconst newOptions = { ...newToBeCleanedSelectedFilterOption[fieldName] };\n\n\t\tif (itemCount !== 1) {\n\t\t\tconst newChildren = [...filter[fieldName].children];\n\t\t\tnewChildren[filterIndex].itemCount = itemCount - 1;\n\t\t\tnewFilter[fieldName].children = newChildren;\n\t\t\tcontinue;\n\t\t}\n\n\t\t// If only option in this category, remove category\n\t\tconst shouldRemoveCategory = oldChildren.length == 1;\n\t\t// If category has more options and this option has only one related record, remove option\n\t\tconst shouldRemoveOption = oldChildren.length > 1;\n\n\t\tif (!shouldRemoveCategory && !shouldRemoveOption) continue;\n\n\t\t// If the filter is already selected save it to be cleaned up later\n\t\tif (isSelectedFilterOption) {\n\t\t\tif (!newToBeCleanedSelectedFilterOption[fieldName])\n\t\t\t\tnewToBeCleanedSelectedFilterOption[fieldName] = {};\n\n\t\t\tnewOptions[label] = {\n\t\t\t\tremoveCategory: shouldRemoveCategory\n\t\t\t};\n\n\t\t\tnewToBeCleanedSelectedFilterOption[fieldName] = newOptions;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (shouldRemoveCategory) {\n\t\t\t// Handle category removal\n\t\t\tdelete newFilter[fieldName];\n\t\t} else if (shouldRemoveOption) {\n\t\t\tlet newChildren = [...filter[fieldName].children];\n\t\t\tnewChildren.splice(filterIndex, 1);\n\t\t\tnewFilter[fieldName].children = newChildren;\n\t\t}\n\t}\n\n\treturn {\n\t\tfilter: newFilter,\n\t\tselectedFilters,\n\t\ttoBeCleanedSelectedFilterOption: newToBeCleanedSelectedFilterOption\n\t};\n};\n\n/*\n * Depending on the value of 'shouldBeSelected', this method either adds the\n * newly selected filter option to the collection of 'selectedFilters' or\n * removes from it.\n */\nexport const combineSelectedFilters = (\n\tselectedFilters = {},\n\t{ filterSection, label, shouldBeSelected }\n) => {\n\tconst combined = { ...selectedFilters };\n\n\tif (shouldBeSelected) {\n\t\tif (!combined[filterSection]) combined[filterSection] = {};\n\n\t\tcombined[filterSection] = {\n\t\t\t...combined[filterSection],\n\t\t\t[label]: shouldBeSelected\n\t\t};\n\t} else if ((combined[filterSection] || {})[label]) {\n\t\tdelete combined[filterSection][label];\n\t}\n\n\treturn combined;\n};\n\nexport const reduceSelectedFilters = (selectedFilters = {}) => {\n\tlet selectedFilterCount = 0;\n\tconst reducedSelectedFilter = {};\n\n\tObject.keys(selectedFilters).forEach((filter) => {\n\t\tconst filterSection = selectedFilters[filter];\n\t\tconst newFilter = [];\n\n\t\tObject.keys(filterSection).forEach((label) => {\n\t\t\tif (filterSection[label] !== true) return;\n\n\t\t\tselectedFilterCount++;\n\t\t\tnewFilter.push(label);\n\t\t});\n\n\t\tif (newFilter.length)\n\t\t\treducedSelectedFilter[filter] = newFilter.join('|');\n\t});\n\n\treturn {\n\t\treducedSelectedFilter,\n\t\tselectedFilterCount\n\t};\n};\n\nexport const evaluateFilterOnCard = (reducedSelectedFilter = {}, card = {}) => {\n\tlet match = null,\n\t\tshouldExpand = null,\n\t\thidden = false;\n\tconst cardFilterData = card.filterData;\n\n\tfor (const [fieldName, filterValues] of Object.entries(\n\t\treducedSelectedFilter\n\t)) {\n\t\tif (!filterValues) {\n\t\t\tshouldExpand = true;\n\t\t\thidden = false;\n\t\t\tmatch = null;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (isEmpty(cardFilterData)) {\n\t\t\thidden = true;\n\t\t\tmatch = null;\n\t\t\tbreak;\n\t\t}\n\n\t\tif (!cardFilterData[fieldName]) {\n\t\t\thidden = true;\n\t\t\tmatch = null;\n\t\t\tbreak;\n\t\t}\n\n\t\tconst exp = new RegExp(filterValues);\n\t\tmatch = cardFilterData[fieldName].match(exp);\n\t\tif (match == null) {\n\t\t\thidden = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (match != null) {\n\t\tshouldExpand = true;\n\t\thidden = false;\n\t}\n\n\treturn {\n\t\t...card,\n\t\t...(shouldExpand !== null && { shouldExpand }),\n\t\thidden,\n\t\tdefer: !shouldExpand && !card.prioritized\n\t};\n};\n\n// Called on filter selection if there's a stale filter option\nexport const cleanUpFilter = (\n\tfilterData = {},\n\tselectedFilters = {},\n\ttoBeCleanedSelectedFilterOption = {}\n) => {\n\tconst newFilterData = { ...filterData };\n\tconst newSelectedFilters = { ...selectedFilters };\n\n\tfor (const field in toBeCleanedSelectedFilterOption) {\n\t\tconst toBeCleanedOptions = toBeCleanedSelectedFilterOption[field];\n\n\t\tfor (const option in toBeCleanedOptions) {\n\t\t\tconst selectedOption = (selectedFilters[field] || {})[option];\n\t\t\t// Remove the option from selectedFilters\n\t\t\tif (selectedOption) {\n\t\t\t\tlet newSelectedFilter = { ...selectedFilters[field] };\n\n\t\t\t\tfor (const newSelectedOption in newSelectedFilter) {\n\t\t\t\t\tif (newSelectedOption === option)\n\t\t\t\t\t\tnewSelectedFilter[newSelectedOption] = false;\n\t\t\t\t}\n\n\t\t\t\tnewSelectedFilters[field] = newSelectedFilter;\n\t\t\t}\n\t\t\t// If this is the only option, remove category\n\t\t\tif (toBeCleanedOptions[option].removeCategory) {\n\t\t\t\tdelete newFilterData[field];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// If not the only option, remove option from the category\n\t\t\tlet newChildren = [...newFilterData[field].children];\n\t\t\tconst index = newChildren.findIndex(\n\t\t\t\t({ label }) => label === option\n\t\t\t);\n\t\t\tnewChildren.splice(index, 1);\n\t\t\tnewFilterData[field] = {\n\t\t\t\t...newFilterData[field],\n\t\t\t\tchildren: newChildren\n\t\t\t};\n\t\t}\n\t}\n\n\treturn {\n\t\tfilterData: newFilterData,\n\t\tselectedFilters: newSelectedFilters\n\t};\n};\n","import './now-playbook-panel-layout';\n","export { default as nowPlaybookStageSelector } from './now-playbook-stage-selector';\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","export { default as snPlaybookAcivityRenderers } from './activity-renderers';\nexport { default as nowPlaybookStagePanel } from './components/now-playbook-stage-panel';\nexport { default as nowPlaybookActivityStreamModal } from './now-playbook-activity-stream-modal';\nexport { default as nowPlaybookDataBroker } from './now-playbook-data-broker';\nexport { default as snPlaybook } from './now-playbook-experience';\nexport { default as snPlaybookConnected } from './now-playbook-experience-connected';\nexport { default as snPlaybookModalDefault } from './now-playbook-experience-modal-default';\nexport { default as nowPlaybookPanelLayout } from './now-playbook-panel-layout';\nexport { default as nowPlaybookStageSelector } from './now-playbook-stage-selector';\nexport { default as snPlaybookCardActions } from './sn-playbook-card-actions';\nexport { default as snPlaybookEmpty } from './sn-playbook-empty';\n","import * as Cards from './cards/index';\nimport * as PlaybookBehaviors from './behaviors/index';\nimport * as PlaybookRenderUtils from './render-utils';\nimport * as PlaybookActivityRendererUtils from './utils';\n\nexport default {\n\tCards,\n\tPlaybookBehaviors,\n\tPlaybookRenderUtils,\n\tPlaybookActivityRendererUtils\n};\n","export { default as snPlaybookCardDefault } from './sn-playbook-card-default';\n","import { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { preWsConfigSysId } from 'sn-uxpage-presource';\nimport { PLAYBOOK_SUFFICIENT_DATA } from '../../../constants';\nimport {\n\tplaybookCardBehavior,\n\tplaybookFieldListBehavior,\n\tplaybookRecordBehavior\n} from '../../behaviors';\nimport styles from './styles.scss';\nimport { view } from './view';\n\nconst {\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_CONNECTED\n} = actionTypes;\n\nconst hasSufficientData = (properties) => {\n\tconst { activityProperties, showChecklist, description } = properties;\n\tconst {\n\t\ttitle = {},\n\t\tassociated_table = {},\n\t\tassociated_record = {},\n\t\tform_fields = {},\n\t\tform_view = {},\n\t\trecord_fields = {},\n\t\tattachment_source = {}\n\t} = activityProperties;\n\n\t// a card is sufficient with a description or title\n\tif (description || title.value) return true;\n\n\t// without a description or title, a card must have an associated record and table\n\tif (!associated_table.value || !associated_record.value) return false;\n\n\t// If we have data to show for this associated record, we're all set\n\tif (\n\t\tform_fields.value ||\n\t\tform_view.value ||\n\t\trecord_fields.value ||\n\t\tattachment_source.value ||\n\t\tshowChecklist\n\t)\n\t\treturn true;\n\n\t// No data to show\n\treturn false;\n};\n\n/**\n * ## Default Playbook Card\n *\n * Default playbook card that accepts these activityProperties:\n * - title\n * - description\n * - recordFields\n * - formFields\n * - showChecklist\n * - formView\n *\n * @summary The default card rendering\n * @seismicElement sn-playbook-card-default\n */\ncreateCustomElement('sn-playbook-card-default', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\tformFieldItems: []\n\t},\n\tbehaviors: [\n\t\t{ behavior: playbookCardBehavior },\n\t\t{ behavior: playbookRecordBehavior },\n\t\t{\n\t\t\tbehavior: playbookFieldListBehavior,\n\t\t\toptions: { fieldListProperties: ['record_fields'] }\n\t\t},\n\t\tpreWsConfigSysId\n\t],\n\tproperties: {\n\t\t/**\n\t\t * Displayed at the top of the card if present.\n\t\t * @type {String}\n\t\t */\n\t\tdescription: {\n\t\t\tcomputed({\n\t\t\t\tproperties: {\n\t\t\t\t\tactivityProperties: { description }\n\t\t\t\t}\n\t\t\t}) {\n\t\t\t\treturn description ? description.value : '';\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * If true is set and there's an existing checklist for the associated record\n\t\t * that checklist should show up in the activity card.\n\t\t * @type {Boolean}\n\t\t */\n\t\tshowChecklist: {\n\t\t\tcomputed({\n\t\t\t\tproperties: {\n\t\t\t\t\tactivityProperties: { show_checklist }\n\t\t\t\t}\n\t\t\t}) {\n\t\t\t\t// Convert true/false value to actual true/false\n\t\t\t\treturn !!(show_checklist && show_checklist.value === '1');\n\t\t\t}\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ state, updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tworkspaceConfigId: preWsConfigSysId.getPreSource(state)\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_CONNECTED]: ({ properties, dispatch }) => {\n\t\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\tproperties,\n\t\t\taction: {\n\t\t\t\tpayload: { name }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (name === 'activityProperties')\n\t\t\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t\t\t});\n\t\t}\n\t},\n\tstyles\n});\n","export { default as circleCloseOutlineXl } from './circle-close-outline-xl.svg';\nexport { default as circleExclamationOutlineXl } from './circle-exclamation-outline-xl.svg';\nexport { default as circleSemiDashedCheckOutlineMd } from './circle-semi-dashed-check-outline-md.svg';\nexport { default as triangleExclamationOutlineXl } from './triangle-exclamation-outline-xl.svg';\nexport { default as noMatch } from './no-match.svg';\nexport { default as noPlaybook } from './no-playbook.svg';\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzAgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYyICg5MTM5MCkgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+Y2lyY2xlLXgtZW1wdHktc3RhdGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iUmV2aXNlZC0tdjItTWFyY2gyMDIwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iUGxheWJvb2stRW1wdHktU3RhdGUtQ2FyZC1UaW1lb3V0LXYyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjM3LjAwMDAwMCwgLTI3NTMuMDAwMDAwKSIgZmlsbD0iIzE2MUIxQyI+CiAgICAgICAgICAgIDxnIGlkPSJjaXJjbGUteC1lbXB0eS1zdGF0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjM3LjAwMDAwMCwgMjc1My4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNSwwLjUgTDE1LDEgQzcuMjY4Mjc1NzEsMSAxLDcuMjY4Mjc1NzEgMSwxNSBDMSwyMi43MzE3MjQzIDcuMjY4Mjc1NzEsMjkgMTUsMjkgQzIyLjczMTcyNDMsMjkgMjksMjIuNzMxNzI0MyAyOSwxNSBDMjksNy4yNjgyNzU3MSAyMi43MzE3MjQzLDEgMTUsMSBMMTUsMC41IFogTTE1LDAuNSBMMTUsMCBDMjMuMjg0MDA5LDAgMzAsNi43MTU5OTA5NiAzMCwxNSBDMzAsMjMuMjg0MDA5IDIzLjI4NDAwOSwzMCAxNSwzMCBDNi43MTU5OTA5NiwzMCAwLDIzLjI4NDAwOSAwLDE1IEMwLDYuNzE1OTkwOTYgNi43MTU5OTA5NiwwIDE1LDAgTDE1LDAuNSBaIE0yMC42Mzk5NjY5LDguNjUyOTI2MzEgTDIxLjM0NzA3MzcsOS4zNjAwMzMwOSBMMTUuNzA2OTI2MywxNC45OTk5MjYzIEwyMS4zNDcwNzM3LDIwLjYzOTk2NjkgTDIwLjYzOTk2NjksMjEuMzQ3MDczNyBMMTQuOTk5OTI2MywxNS43MDY5MjYzIEw5LjM2MDAzMzA5LDIxLjM0NzA3MzcgTDguNjUyOTI2MzEsMjAuNjM5OTY2OSBMMTQuMjkyOTI2MywxNC45OTk5MjYzIEw4LjY1MjkyNjMxLDkuMzYwMDMzMDkgTDkuMzYwMDMzMDksOC42NTI5MjYzMSBMMTQuOTk5OTI2MywxNC4yOTI5MjYzIEwyMC42Mzk5NjY5LDguNjUyOTI2MzEgWiIgaWQ9IvCfjqgtQ29sb3IiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzAgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYyICg5MTM5MCkgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+SWNvbnMvY2lyY2xlLWV4Y2xhbWF0aW9uL291dGxpbmUvNC14bDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJNb25zZXJyYXR0LUNvcHktMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTgyNS4wMDAwMDAsIC02MTkuMDAwMDAwKSIgZmlsbD0iIzE2MUIxQyI+CiAgICAgICAgICAgIDxnIGlkPSJJY29ucy9jaXJjbGUtZXhjbGFtYXRpb24vb3V0bGluZS80LXhsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MjUuMDAwMDAwLCA2MTkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUsMCBDMjMuMjg0MDA5LDAgMzAsNi43MTU5OTA5NiAzMCwxNSBDMzAsMjMuMjg0MDA5IDIzLjI4NDAwOSwzMCAxNSwzMCBDNi43MTU5OTA5NiwzMCAwLDIzLjI4NDAwOSAwLDE1IEMwLDYuODIwODUxODMgNi41NDcwNDE5OCwwLjE3MDI3NjMzMiAxNC42ODYxODE2LDAuMDAzMjE3ODgzMTQgTDE1LDAgWiBNMTUsMSBDNy4yNjgyNzU3MSwxIDEsNy4yNjgyNzU3MSAxLDE1IEMxLDIyLjczMTcyNDMgNy4yNjgyNzU3MSwyOSAxNSwyOSBDMjIuNzMxNzI0MywyOSAyOSwyMi43MzE3MjQzIDI5LDE1IEMyOSw3LjM3Mjc1ODQ3IDIyLjg5OTk5MjUsMS4xNjk2ODAxIDE1LjMxMjYzNDcsMS4wMDM0MjIxOSBMMTUsMSBaIE0xNiwyMSBMMTYsMjMgTDE0LDIzIEwxNCwyMSBMMTYsMjEgWiBNMTYsNyBMMTYsMTkgTDE0LDE5IEwxNCw3IEwxNiw3IFoiIGlkPSLwn46oLUNvbG9yIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+U1ZHL2NpcmNsZS1zZW1pLWNoZWNrLW91dGxpbmUtMTY8L3RpdGxlPgogICAgPGcgaWQ9IlNWRy9jaXJjbGUtc2VtaS1jaGVjay1vdXRsaW5lLTE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNOCwxIEMxMS44NTksMSAxNSw0LjE0IDE1LDggQzE1LDExLjg2IDExLjg1OSwxNSA4LDE1IEM3LjI3NiwxNSA2LjU2MywxNC44OSA1Ljg4LDE0LjY3MyBMNi4xODMsMTMuNzIgQzYuNzY5LDEzLjkwNiA3LjM4LDE0IDgsMTQgQzExLjMwOSwxNCAxNCwxMS4zMDkgMTQsOCBDMTQsNC42OTEgMTEuMzA5LDIgOCwyIEM3Ljg2NywyIDcuNzM0LDIuMDA0IDcuNjA0LDIuMDEzIEw3LjU0MSwxLjAxNSBDNy42OTMsMS4wMDUgNy44NDYsMSA4LDEgWiBNMy4yMTY4LDExLjYyMTYgQzMuNTg4OCwxMi4xMTI2IDQuMDMyOCwxMi41NDM2IDQuNTM3OCwxMi45MDA2IEw0LjUzNzgsMTIuOTAwNiBMMy45NTk4LDEzLjcxNjYgQzMuMzcxOCwxMy4zMDA2IDIuODUzOCwxMi43OTg2IDIuNDE5OCwxMi4yMjU2IEwyLjQxOTgsMTIuMjI1NiBaIE0xMC44Mjc4LDUuMTAwNSBMMTEuNTM0OCw1LjgwNzUgTDYuNzI3OCwxMC42MTY1IEw0LjQ2NDgsOC4zNTM1IEw1LjE3MTgsNy42NDY1IEw2LjcyNzgsOS4yMDE1IEwxMC44Mjc4LDUuMTAwNSBaIE0yLjAwMjksOC4xOTc1IEMyLjAyMzksOC44MTY1IDIuMTM3OSw5LjQyNDUgMi4zNDI5LDEwLjAwMzUgTDIuMzQyOSwxMC4wMDM1IEwxLjM5ODksMTAuMzM3NSBDMS4xNTk5LDkuNjYxNSAxLjAyNjksOC45NTI1IDEuMDAyOSw4LjIzMDUgTDEuMDAyOSw4LjIzMDUgWiBNMi4xNTIzLDQuMTUwNyBMMi45ODgzLDQuNzAwNyBDMi42NDYzLDUuMjE4NyAyLjM4OTMsNS43ODA3IDIuMjIzMyw2LjM3MjcgTDIuMjIzMyw2LjM3MjcgTDEuMjYwMyw2LjEwMTcgQzEuNDU1Myw1LjQxMDcgMS43NTUzLDQuNzU0NyAyLjE1MjMsNC4xNTA3IEwyLjE1MjMsNC4xNTA3IFogTTUuNDQ2NSwxLjQ4MDYgTDUuODExNSwyLjQxMTYgQzUuMjM4NSwyLjYzNjYgNC43MDQ1LDIuOTQ3NiA0LjIyMzUsMy4zMzc2IEw0LjIyMzUsMy4zMzc2IEwzLjU5MjUsMi41NjE2IEM0LjE1NDUsMi4xMDY2IDQuNzc3NSwxLjc0MjYgNS40NDY1LDEuNDgwNiBMNS40NDY1LDEuNDgwNiBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9IiMwMTc3OGUiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzJweCIgaGVpZ2h0PSIyOHB4IiB2aWV3Qm94PSIwIDAgMzIgMjgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYyICg5MTM5MCkgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+8J+OqCBDb2xvcjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJTeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iSWNvbnMvdHJpYW5nbGUtZXhjbGFtYXRpb24vb3V0bGluZS80LXhsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgLTIuMDAwMDAwKSIgZmlsbD0iIzE2MUIxQyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNi40MzM2MjY1LDIuMjUxMDY2MjQgTDMxLjkzMzYyNjUsMjkuMjUxMDY2MiBDMzIuMTI0OTgzNywyOS41ODQzOTgxIDMxLjg4NDM1MzYsMzAgMzEuNSwzMCBMMC41LDMwIEMwLjExNTY0NjQzNCwzMCAtMC4xMjQ5ODM3MDUsMjkuNTg0Mzk4MSAwLjA2NjM3MzQ1MTYsMjkuMjUxMDY2MiBMMTUuNTY2MzczNSwyLjI1MTA2NjI0IEMxNS43NTg1NDc2LDEuOTE2MzExMjUgMTYuMjQxNDUyNCwxLjkxNjMxMTI1IDE2LjQzMzYyNjUsMi4yNTEwNjYyNCBaIE0xNiwzLjUwNDI4MzIzIEwxLjM2MzU3LDI5IEwzMC42MzY0MywyOSBMMTYsMy41MDQyODMyMyBaIE0xNywyNCBMMTcsMjYgTDE1LDI2IEwxNSwyNCBMMTcsMjQgWiBNMTcsMTEgTDE3LDIyIEwxNSwyMiBMMTUsMTEgTDE3LDExIFoiIGlkPSLwn46oLUNvbG9yIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDEgNjgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0MSA2ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiNGRkZGRkY7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7fQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQoJLnN0MntmaWxsOiM4MUI1QTE7fQoJLnN0M3tmaWxsOiNGRkZGRkY7fQoJLnN0NHtmaWxsOiMyOTNFNDA7fQoJLnN0NXtvcGFjaXR5OjAuMztmaWxsOiMyOTNFNDA7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDt9Cgkuc3Q2e29wYWNpdHk6MC40O2ZpbGw6IzI5M0U0MDtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPnNuLWVzLW5vLW1hdGNoLWZvdW5kPC90aXRsZT4KPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CjxnIGlkPSJFbXB0eS1TdGF0ZXMiPgoJPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM1NC4wMDAwMDAsIC01MDguMDAwMDAwKSI+CgkJPGcgaWQ9InNuLWVzLW5vLW1hdGNoLWZvdW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTQuMDAwMDAwLCA1MDguMDAwMDAwKSI+CgkJCTxnIGlkPSJHcm91cC0yMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzEuMDAwMDAwLCAyNi4wMDAwMDApIj4KCQkJCTxnIGlkPSJHcm91cC0xNCI+CgkJCQkJPGcgaWQ9Ikdyb3VwLTEzIj4KCQkJCQkJPGcgaWQ9Ikdyb3VwLTEyIj4KCQkJCQkJCTxwYXRoIGlkPSJSZWN0YW5nbGUtNiIgY2xhc3M9InN0MCIgZD0iTTAuNS0zLjVoNjQuM2MxLjEsMCwyLDAuOSwyLDJ2MzRjMCwxLjEtMC45LDItMiwySDAuNWMtMS4xLDAtMi0wLjktMi0ydi0zNAoJCQkJCQkJCUMtMS41LTIuNi0wLjYtMy41LDAuNS0zLjV6Ii8+CgkJCQkJCTwvZz4KCQkJCQkJPHBhdGggaWQ9IkxpbmUtMiIgY2xhc3M9InN0MSIgZD0iTTUuMyw0LjNoMzkuOCIvPgoJCQkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNS4yLDExLjFoNDguNyIvPgoJCQkJCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNS4yLDE5LjFoMzEiLz4KCQkJCQk8L2c+CgkJCQk8L2c+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsIiBjbGFzcz0ic3QyIiBjeD0iNjMiIGN5PSIzMCIgcj0iMTIiLz4KCQkJCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik02NSwzNC44YzAsMC42LTAuMiwxLjEtMC42LDEuNUM2NCwzNi44LDYzLjUsMzcsNjMsMzdzLTEtMC4yLTEuNC0wLjZDNjEuMiwzNiw2MSwzNS41LDYxLDM0LjkKCQkJCQlzMC4yLTEuMSwwLjYtMS41YzAuNC0wLjQsMC45LTAuNiwxLjQtMC42czEsMC4yLDEuNCwwLjZDNjQuOCwzMy43LDY1LDM0LjIsNjUsMzQuOHogTTYxLjIsMjMuN2MwLTAuMiwwLjEtMC4zLDAuMi0wLjUKCQkJCQljMC4xLTAuMSwwLjMtMC4yLDAuNC0wLjJoMi40YzAuMiwwLDAuMywwLjEsMC40LDAuMnMwLjIsMC4zLDAuMiwwLjVsLTAuMyw3LjRjMCwwLjItMC4xLDAuMy0wLjIsMC41cy0wLjMsMC4yLTAuNCwwLjJoLTEuNwoJCQkJCWMtMC4yLDAtMC4zLTAuMS0wLjQtMC4ycy0wLjItMC4zLTAuMi0wLjVMNjEuMiwyMy43eiIvPgoJCQk8L2c+CgkJCTxnIGlkPSJidWJibGVzIj4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwtNSIgY2xhc3M9InN0NCIgY3g9IjQuNSIgY3k9IjI2LjUiIHI9IjQuNSIvPgoJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHkiIGNsYXNzPSJzdDQiIGN4PSIxMTIuNSIgY3k9IjE3LjUiIHI9IjQuNSIvPgoJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHktMyIgY2xhc3M9InN0NSIgY3g9IjEzOC41IiBjeT0iNDQuNSIgcj0iMi41Ii8+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUtQ29weS0yIiBjbGFzcz0ic3Q2IiBjeD0iNjUuNSIgY3k9IjIuNSIgcj0iMi41Ii8+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDEgNjgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0MSA2ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMyOTNFNDA7fQoJLnN0MXtvcGFjaXR5OjAuMztmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMyOTNFNDA7fQoJLnN0MntvcGFjaXR5OjAuNDtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMyOTNFNDA7fQoJLnN0M3tmaWxsOm5vbmU7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7fQoJLnN0NHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM4MUI1QTE7fQoJLnN0NXtmaWxsOm5vbmU7c3Ryb2tlOiMyOTNFNDA7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQoJLnN0NntmaWxsOm5vbmU7c3Ryb2tlOiNGRkZGRkY7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO30KPC9zdHlsZT4KPHRpdGxlPnNuLWVzLW5vLWluY2lkZW50cy15ZXQ8L3RpdGxlPgo8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KPGcgaWQ9IkVtcHR5LVN0YXRlcyI+Cgk8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzIyLjAwMDAwMCwgLTUxMS4wMDAwMDApIj4KCQk8ZyBpZD0ic24tZXMtbm8taW5jaWRlbnRzLXlldCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzIyLjAwMDAwMCwgNTExLjAwMDAwMCkiPgoJCQk8ZyBpZD0iR3JvdXAtMiI+CgkJCQk8Y2lyY2xlIGlkPSJPdmFsLTUiIGNsYXNzPSJzdDAiIGN4PSI0LjUiIGN5PSIyNi41IiByPSI0LjUiLz4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwtNS1Db3B5IiBjbGFzcz0ic3QwIiBjeD0iMTEyLjUiIGN5PSIxNy41IiByPSI0LjUiLz4KCQkJCTxjaXJjbGUgaWQ9Ik92YWwtNS1Db3B5LTMiIGNsYXNzPSJzdDEiIGN4PSIxMzguNSIgY3k9IjQ0LjUiIHI9IjIuNSIvPgoJCQkJPGNpcmNsZSBpZD0iT3ZhbC01LUNvcHktMiIgY2xhc3M9InN0MiIgY3g9IjY1LjUiIGN5PSIyLjUiIHI9IjIuNSIvPgoJCQk8L2c+CgkJCTxnIGlkPSJHcm91cC0xNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzEuMDAwMDAwLCAyNC4wMDAwMDApIj4KCQkJCTxnIGlkPSJHcm91cC0xMyI+CgkJCQkJPGcgaWQ9Ikdyb3VwLTEyIj4KCQkJCQkJPHBhdGggaWQ9IlJlY3RhbmdsZS02IiBjbGFzcz0ic3QzIiBkPSJNMC41LTEuNWg2NC4zYzEuMSwwLDIsMC45LDIsMnYzNGMwLDEuMS0wLjksMi0yLDJIMC41Yy0xLjEsMC0yLTAuOS0yLTJ2LTM0CgkJCQkJCQlDLTEuNS0wLjYtMC42LTEuNSwwLjUtMS41eiIvPgoJCQkJCQk8ZWxsaXBzZSBpZD0iT3ZhbCIgY2xhc3M9InN0NCIgY3g9IjYzIiBjeT0iMzIuMSIgcng9IjEyIiByeT0iMTEuOSIvPgoJCQkJCTwvZz4KCQkJCQk8cGF0aCBpZD0iTGluZS0yIiBjbGFzcz0ic3Q1IiBkPSJNNS4zLDYuM2gzOS44Ii8+CgkJCQkJPHBhdGggY2xhc3M9InN0NSIgZD0iTTUuMiwxMy4xaDQ4LjciLz4KCQkJCQk8cGF0aCBjbGFzcz0ic3Q1IiBkPSJNNS4yLDIxLjFoMzEiLz4KCQkJCTwvZz4KCQkJCTxnIGlkPSJHcm91cC0xMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTkuMDAwMDAwLCAyOC4wMDAwMDApIj4KCQkJCQk8cGF0aCBpZD0iTGluZSIgY2xhc3M9InN0NiIgZD0iTTAuMiw3LjhsNy43LTcuNyIvPgoJCQkJCTxwYXRoIGNsYXNzPSJzdDYiIGQ9Ik03LjgsNy44TDAuMiwwLjIiLz4KCQkJCTwvZz4KCQkJPC9nPgoJCTwvZz4KCTwvZz4KPC9nPgo8L3N2Zz4K\"","module.exports = __TECTONIC__$servicenow_ui_effect_update_state;","module.exports = __TECTONIC__$devsnc_sn_form_controls;","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.field-items-container,.field-list-container,.record-list-container{padding:.25rem 0}.field-items-container>*{padding:.25rem 0;display:block}.form-fields-container{padding:.5rem 0 .25rem 0}.checklist-container{padding-top:.75rem;padding-bottom:0}.description-container,.form-section-container{padding-bottom:.25rem}.attachment-container{padding:1rem 0 0 0}.attachment-container .text--primary{font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));margin-bottom:1rem}.attachment-container .attachment-grid{column-width:300px;column-gap:.5rem}.attachment-container .attachment-card{break-inside:avoid-column;page-break-inside:avoid;padding-bottom:.5rem}\", \"\"]);\n\n// exports\n","import { CLASSIC_FORM_EMULATED_WORKSPACE_CONFIG_ID } from '../../../constants';\nimport {\n\trenderAttachments,\n\trenderChecklist,\n\trenderFieldList,\n\trenderFormFieldList,\n\trenderRichText\n} from '../../render-utils';\nimport { getViewProp } from '../../sn-playbook-form-section/features';\nimport '../../sn-playbook-form-section/sn-playbook-form-section-scripted';\n\nexport const view = (state) => {\n\tconst {\n\t\tworkspaceConfigId,\n\t\tproperties: {\n\t\t\tdescription,\n\t\t\tplaybookCardProperties,\n\t\t\tcontextId,\n\t\t\tassociatedTable,\n\t\t\tassociatedSysId,\n\t\t\tformView,\n\t\t\tformFields,\n\t\t\tassociatedRecordModCount\n\t\t},\n\t\tcomponentId\n\t} = state;\n\n\tconst mediatorComponentId = `sn-playbook-card-mediator-${contextId}-${componentId}`;\n\n\tconst showFormSection =\n\t\tassociatedTable !== '' &&\n\t\tassociatedSysId !== '' &&\n\t\t(formView !== '' || formFields.length);\n\n\treturn (\n\t\t<sn-playbook-card\n\t\t\t{...playbookCardProperties}\n\t\t\tshowFormSection={showFormSection}\n\t\t\tmediatorComponentId={mediatorComponentId}\n\t\t>\n\t\t\t{renderRichText(description)}\n\t\t\t{renderFieldList(state, 'content', 'record_fields')}\n\t\t\t{renderChecklist(state, 'content')}\n\n\t\t\t{showFormSection ? (\n\t\t\t\t<div slot=\"form\" className=\"form-section-container\">\n\t\t\t\t\t<sn-playbook-form-section-scripted\n\t\t\t\t\t\tworkspaceConfigId={\n\t\t\t\t\t\t\tworkspaceConfigId ||\n\t\t\t\t\t\t\tCLASSIC_FORM_EMULATED_WORKSPACE_CONFIG_ID\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontext-id={contextId}\n\t\t\t\t\t\ttable={associatedTable}\n\t\t\t\t\t\tsys-id={associatedSysId}\n\t\t\t\t\t\t{...getViewProp(formView)}\n\t\t\t\t\t\tfield-whitelist={formFields}\n\t\t\t\t\t\tassociated-record-mod-count={associatedRecordModCount}\n\t\t\t\t\t\tmediatorComponentId={mediatorComponentId}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) : null}\n\n\t\t\t{renderFormFieldList(state, 'form-field-stacked')}\n\t\t\t{renderAttachments(state, 'below-form')}\n\t\t</sn-playbook-card>\n\t);\n};\n","export function renderAttachments(state, slotName) {\n\tconst {\n\t\tproperties: {\n\t\t\tactivityProperties: {\n\t\t\t\tattachment_source = {},\n\t\t\t\tattachments_read_only\n\t\t\t},\n\t\t\tparentTable,\n\t\t\tparentSysId,\n\t\t\tassociatedSysId,\n\t\t\tassociatedTable\n\t\t},\n\t\tassociatedRecordUpdated\n\t} = state;\n\n\tconst refreshRequested = associatedRecordUpdated\n\t\t? associatedRecordUpdated\n\t\t: null;\n\n\tlet table = '';\n\tlet sysId = '';\n\n\tif (attachment_source.value == 'associated_record') {\n\t\ttable = associatedTable;\n\t\tsysId = associatedSysId;\n\t} else if (attachment_source.value == 'parent_record') {\n\t\ttable = parentTable;\n\t\tsysId = parentSysId;\n\t}\n\n\tif (!attachment_source || !table || !sysId) return;\n\n\tconst readOnly = (attachments_read_only || {}).value === '1';\n\n\treturn (\n\t\t<div slot={slotName}>\n\t\t\t<now-record-common-attachments-connected\n\t\t\t\ttable={table}\n\t\t\t\tsys-id={sysId}\n\t\t\t\tis-attachment-upload-disabled={readOnly}\n\t\t\t\tis-read-only={readOnly}\n\t\t\t\tclassic-form={false}\n\t\t\t\tmode=\"compact\"\n\t\t\t\trefresh-requested={refreshRequested}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","export function renderChecklist(state, slotName) {\n\tconst {\n\t\tproperties: { showChecklist, associatedSysId }\n\t} = state;\n\n\tif (!showChecklist || !associatedSysId) return null;\n\n\treturn (\n\t\t<div slot={slotName} className=\"checklist-container\">\n\t\t\t<sn-checklist document-id={associatedSysId} />\n\t\t</div>\n\t);\n}\n","import '../../sn-playbook-empty';\nimport {\n\tCARD_STATE_VALUES,\n\tIMG_EMPTY_STATE_CARD_PENDING,\n\tIMG_EMPTY_STATE_CARD_CANNCELLED\n} from '../../constants';\n\nexport function getEmptyState(state) {\n\tconst {\n\t\tproperties: {\n\t\t\tactivityState,\n\t\t\tpendingTitle,\n\t\t\tpendingDescription,\n\t\t\tcancelledTitle,\n\t\t\tcancelledDescription,\n\t\t\tnotification,\n\t\t\thasSufficientData\n\t\t}\n\t} = state;\n\n\tif (activityState.value === CARD_STATE_VALUES.PENDING.value)\n\t\treturn renderEmptyState(pendingTitle, pendingDescription);\n\n\tif (activityState.value === CARD_STATE_VALUES.CANCELLED.value)\n\t\treturn renderEmptyState(\n\t\t\tcancelledTitle,\n\t\t\tcancelledDescription,\n\t\t\tIMG_EMPTY_STATE_CARD_CANNCELLED\n\t\t);\n\n\tif (\n\t\tactivityState.value !== CARD_STATE_VALUES.COMPLETE.value &&\n\t\t!hasSufficientData\n\t)\n\t\treturn renderEmptyState(pendingTitle, pendingDescription);\n\n\tif (notification.header || notification.body)\n\t\treturn renderEmptyState(notification.header, notification.body);\n\n\treturn null;\n}\n\nexport const renderEmptyState = (\n\ttitle,\n\ttext,\n\timg = IMG_EMPTY_STATE_CARD_PENDING\n) => <sn-playbook-empty bodyTitle={title} bodyText={text} img={img} />;\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { view } from './view';\nimport styles from './styles.scss';\nimport { PLAYBOOK_EMPTY_BODY_TITLE_DEFAULT } from '../constants';\n\n/**\n * ## Empty Playbook\n *\n * When a playbook has no data or doesn't load show an empty state.\n *\n * @summary Empty state for playbook.\n * @seismicElement sn-playbook-empty\n */\ncreateCustomElement('sn-playbook-empty', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\t/**\n\t\t * @type {Object}\n\t\t */\n\t\timg: {\n\t\t\tdefault: {}\n\t\t},\n\t\t/**\n\t\t * Empty state body title\n\t\t * @type {String}\n\t\t */\n\t\tbodyTitle: {\n\t\t\tdefault: PLAYBOOK_EMPTY_BODY_TITLE_DEFAULT\n\t\t},\n\t\t/**\n\t\t * Empty state body text\n\t\t * @type {String}\n\t\t */\n\t\tbodyText: {\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tstyles\n});\n","import { t } from 'sn-translate';\n\nexport const view = ({ properties: { bodyTitle, bodyText, img } }) => (\n\t<div className=\"sn-panel\">\n\t\t<div className=\"sn-panel-body\">\n\t\t\t<div className=\"sn-empty-state\">\n\t\t\t\t<div className=\"sn-empty-state--row\">\n\t\t\t\t\t<img alt={t('Playbook Empty State')} {...img} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-empty-state--row\">\n\t\t\t\t\t<h3 className=\"sn-empty-state--header\">{bodyTitle}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sn-empty-state--row\">\n\t\t\t\t\t<span className=\"sn-empty-state--body\">{bodyText}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n);\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.sn-panel,.sn-panel .sn-panel-body{height:100%}.sn-panel .sn-empty-state{height:unset;position:relative;margin:1.5rem 0;padding:0 1rem}.sn-panel .sn-empty-state--row{margin-top:1rem}.sn-panel .sn-empty-state--row:first-of-type{margin-top:0}.sn-panel .sn-empty-state--body,.sn-panel .sn-empty-state--header{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.sn-panel .sn-empty-state--header{font-size:1.25rem}.sn-panel .sn-empty-state--body{font-size:1rem}.now-m-block-start--xl{display:block;margin:0;margin-block-start:1.5rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}\", \"\"]);\n\n// exports\n","import { renderNowLabelValue } from './renderNowLabelValue';\n\nexport function renderFieldList(state, slot = 'content', fieldListProperty) {\n\tconst items = getFieldList(state, fieldListProperty);\n\n\tif (!items) return null;\n\n\tconst opts = { slot, className: 'field-list-container' };\n\n\treturn renderNowLabelValue(items, opts);\n}\n\nexport function getFieldList(state, fieldListProperty) {\n\tif (!fieldListProperty) return null;\n\n\tconst { fieldListItems = {} } = state;\n\tif (!fieldListItems.hasOwnProperty(fieldListProperty)) return null;\n\n\tconst { [fieldListProperty]: items = [] } = fieldListItems;\n\n\treturn items.length ? items : null;\n}\n","import { renderFormFieldControls } from './renderFormFieldControls';\nimport { renderFormSection } from './renderFormSection';\nimport '../sn-playbook-form-section/sn-playbook-form-section';\n\nexport function renderForm(state, dispatch) {\n\tconst {\n\t\tproperties: {\n\t\t\tformFields = [],\n\t\t\tassociatedTable,\n\t\t\tassociatedSysId,\n\t\t\tformView\n\t\t}\n\t} = state;\n\t// 'formFields' contains list of fields specified to render by the\n\t// Activity Context, it is used to generate 'formFieldItems' which contains\n\t// element data needed to render 'formFields'.\n\t//\n\t// If 'formFields' has content it means that we should either render\n\t// Form Field Controls (<Control />)\n\t// or Form Field List (<now-label-value-stacked />)\n\t// and NOT Form Section (<now-record-form-section-connected />)\n\tif (formFields.length) return renderFormFieldControls(state, dispatch);\n\n\tif (formView && associatedTable && associatedSysId)\n\t\treturn renderFormSection(state);\n\n\treturn null;\n}\n\nexport function showFormSection(declarativeModel) {\n\tconst {\n\t\ttable = null,\n\t\tsysId = null,\n\t\tform_fields = null,\n\t\tform_view = null\n\t} = declarativeModel;\n\n\t// show if form view but no form fields\n\tif (table && sysId && form_view && !form_fields) return true;\n\n\t// Not showing the form section\n\treturn false;\n}\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { RECORD_STATUS_CHANGED, RECORD_STATUS_UPDATED } from '../../constants';\nimport { snabbdom } from '@servicenow/ui-renderer-snabbdom';\nimport './sn-playbook-form-section-footer';\nimport {getViewProp} from './features';\n\nconst view = (state) => {\n\tconst {\n\t\tcontextId,\n\t\tassociatedTable,\n\t\tassociatedSysId,\n\t\tassociatedRecordModCount,\n\t\tformView,\n\t\tdispatchAction\n\t} = state.properties;\n\n\tconst mediatorId = `sn-playbook-card-mediator-${contextId}`;\n\tconst actionSelected = `@${mediatorId}/actionSelected`;\n\n\treturn (\n\t\t<now-record-form-section-connected\n\t\t\ttable={associatedTable}\n\t\t\tsys-id={associatedSysId}\n\t\t\t{...getViewProp(formView)}\n\t\t>\n\t\t\t<sn-playbook-form-section-footer\n\t\t\t\tslot=\"footer\"\n\t\t\t\tassociated-record-mod-count={associatedRecordModCount}\n\t\t\t\taction-Selected={actionSelected}\n\t\t\t\tdispatch-action={dispatchAction}\n\t\t\t/>\n\t\t</now-record-form-section-connected>\n\t);\n};\n\ncreateCustomElement('sn-playbook-form-section', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: view\n\t},\n\tproperties: {\n\t\tcontextId: {\n\t\t\tdefault: ''\n\t\t},\n\t\tassociatedTable: {\n\t\t\tdefault: ''\n\t\t},\n\t\tassociatedSysId: {\n\t\t\tdefault: ''\n\t\t},\n\t\tformView: {\n\t\t\tdefault: ''\n\t\t},\n\t\tassociatedRecordModCount: {\n\t\t\tdefault: 0\n\t\t},\n\t\tdispatchAction: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[RECORD_STATUS_CHANGED]: ({ action, updateProperties }) => {\n\t\t\tconst {\n\t\t\t\tpayload: { status }\n\t\t\t} = action;\n\t\t\t//If the record has been updated, we know that the fields are validated\n\t\t\t//So we can update the property so the footer can dispatch\n\t\t\t//the declarative action with the validated fields\n\t\t\tif (status === RECORD_STATUS_UPDATED)\n\t\t\t\tupdateProperties({ dispatchAction: Date.now() });\n\t\t}\n\t}\n});\n","import { get } from 'lodash';\nimport { renderNowLabelValue } from './renderNowLabelValue';\nimport { showFormFieldList, convertFormFieldListItem } from '../utils';\n\nexport function renderFormFieldList(state, slot = 'form-field-stacked') {\n\tconst { formFieldItems = [] } = state;\n\n\tif (formFieldItems.length < 1) return null;\n\n\tconst formFieldsRequired = get(\n\t\tstate,\n\t\t'behaviors.playbookRecordBehavior.formFieldsRequired'\n\t);\n\n\tif (!showFormFieldList(formFieldsRequired)) return null;\n\n\tconst formFieldListItems = formFieldItems.map((item) =>\n\t\tconvertFormFieldListItem(item)\n\t);\n\tconst opts = {\n\t\tslot,\n\t\tclassName: 'form-fields-container',\n\t\talign: 'vertical'\n\t};\n\n\treturn renderNowLabelValue(formFieldListItems, opts);\n}\n","export function renderPlaybookFooter(cardFooter, slotName) {\n\tif (!cardFooter || !cardFooter.value) return '';\n\n\treturn (\n\t\t<div slot={slotName}>\n\t\t\t<div className=\"playbook-card-footer\">{cardFooter.value}</div>\n\t\t</div>\n\t);\n}\n","export const renderRichText = (html) => {\n\tif (!html) return null;\n\n\treturn (\n\t\t<div slot=\"content\" className=\"description-container\">\n\t\t\t<now-rich-text html={html} />\n\t\t</div>\n\t);\n};\n","export function renderSnippet(snippet, slotName) {\n\treturn (\n\t\t<div slot={slotName} className=\"description-container\">\n\t\t\t<div className=\"body-snippet\">{snippet}</div>\n\t\t</div>\n\t);\n}\n","import { getFetchActions } from '@devsnc/library-form';\nimport {\n\tCLEAR_NOTIFICATIONS,\n\tcreateClientScriptBehavior,\n\tgetConfig,\n\tgetGFormAttributes,\n\tREMOVE_NOTIFICATION\n} from '@devsnc/sn-scripting-environment';\nimport { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport { snabbdom } from '@servicenow/ui-renderer-snabbdom';\nimport { get } from 'lodash';\nimport {\n\tDECLARATIVE_ACTION,\n\tDECLARATIVE_ACTION_TYPE_COMPONENT,\n\tDECLARATIVE_ACTION_UPDATE_RENDER,\n\tFORM_DATA_PROVIDER_FETCH_START_REQUESTED,\n\tGFORM_VALIDATE_SUCCESS,\n\tNOW_ALERT_LIST_ITEMS_SET\n} from '../../constants';\nimport './sn-playbook-form-section-footer';\n\nconst getStatus = (type) => {\n\tswitch (type) {\n\t\tcase 'info':\n\t\t\treturn 'info';\n\t\tcase 'error':\n\t\t\treturn 'critical';\n\t\tcase 'warning':\n\t\t\treturn 'warning';\n\t\tcase 'success':\n\t\t\treturn 'positive';\n\t\tdefault:\n\t\t\treturn 'info';\n\t}\n};\n\nconst getIcon = (type) => {\n\tswitch (type) {\n\t\tcase 'error':\n\t\t\treturn 'circle-close-outline';\n\t\tcase 'warning':\n\t\t\treturn 'exclamation-circle-outline';\n\t\tcase 'success':\n\t\t\treturn 'check-circle-outline';\n\t\tdefault:\n\t\t\treturn 'info-circle-outline';\n\t}\n};\n\nconst { COMPONENT_RENDER_REQUESTED } = actionTypes;\n\nconst clientScriptBehavior = createClientScriptBehavior(null, {\n\tclassicForm: true,\n\tfetchFormDataActions: getFetchActions('PLAYBOOK')\n});\n\nconst view = (state) => {\n\tconst {\n\t\tformData,\n\t\tformModal,\n\t\tnotifications,\n\t\tproperties: {\n\t\t\tcontextId,\n\t\t\ttable,\n\t\t\tsysId,\n\t\t\tassociatedRecordModCount,\n\t\t\tview,\n\t\t\tdispatchAction,\n\t\t\tfilteredFields,\n\t\t\tfilteredSections,\n\t\t\tmediatorComponentId\n\t\t}\n\t} = state;\n\n\tif (!filteredFields || !formData || !formData.record) return null;\n\n\tconst actionSelected = `@${mediatorComponentId}/actionSelected`;\n\n\tconst formSectionProperties = {\n\t\ttable,\n\t\tsysId,\n\t\tview,\n\t\tfields: filteredFields,\n\t\tsections: filteredSections,\n\t\tconfig: {\n\t\t\t...getConfig(formData),\n\t\t\tshowActivityStream: false,\n\t\t\tisSectionMenuHidden: true,\n\t\t\tnoSectionHeaderPadding: true\n\t\t},\n\t\tinUiBuilder: true,\n\t\tformModal,\n\t\t...getGFormAttributes(state, state.properties)\n\t};\n\tconst alerts = notifications.map(({ type, message }, idx) => {\n\t\treturn {\n\t\t\tid: idx,\n\t\t\tstatus: getStatus(type),\n\t\t\ticon: getIcon(type),\n\t\t\tcontent: {\n\t\t\t\ttype: 'html',\n\t\t\t\tvalue: message\n\t\t\t},\n\t\t\taction: { type: 'dismiss' }\n\t\t};\n\t});\n\treturn (\n\t\t<div>\n\t\t\t<sn-form-internal-modal-container />\n\t\t\t<now-alert-list items={alerts} manage-items={true} />\n\t\t\t<now-record-form-section-column-layout {...formSectionProperties} />\n\t\t\t<sn-playbook-form-section-footer\n\t\t\t\tassociated-record-mod-count={associatedRecordModCount}\n\t\t\t\taction-Selected={actionSelected}\n\t\t\t\tdispatch-action={dispatchAction}\n\t\t\t\tfields={filteredFields}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst computeFilteredFields = (state) => {\n\tconst {\n\t\tfields = {},\n\t\tproperties: { fieldWhitelist = [], view }\n\t} = state;\n\n\tif (fieldWhitelist.length) {\n\t\tlet filteredFields = {};\n\t\tfor (let fieldName of Object.keys(fields))\n\t\t\tfor (let whitelistedFieldName of fieldWhitelist)\n\t\t\t\tif (\n\t\t\t\t\tfieldName === whitelistedFieldName ||\n\t\t\t\t\tfieldName.indexOf(whitelistedFieldName + '.') === 0\n\t\t\t\t)\n\t\t\t\t\tfilteredFields[fieldName] = fields[fieldName];\n\t\treturn filteredFields;\n\t} else if (view && view !== '') return fields;\n\telse return null;\n};\n\nconst computeFilteredSections = (state) => {\n\tconst {\n\t\tsections = [],\n\t\tproperties: { fieldWhitelist = [] }\n\t} = state;\n\tif (fieldWhitelist.length)\n\t\treturn sections\n\t\t\t.map(({ rows, ...section }) => {\n\t\t\t\tconst newRows = rows.map((row) => {\n\t\t\t\t\treturn row.filter((column) => {\n\t\t\t\t\t\tconst { fields } = column;\n\t\t\t\t\t\tfor (let fieldName of fields)\n\t\t\t\t\t\t\tfor (let whitelistedFieldName of fieldWhitelist)\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tfieldName === whitelistedFieldName ||\n\t\t\t\t\t\t\t\t\tfieldName.indexOf(\n\t\t\t\t\t\t\t\t\t\twhitelistedFieldName + '.'\n\t\t\t\t\t\t\t\t\t) === 0\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\t...section,\n\t\t\t\t\trows: newRows\n\t\t\t\t};\n\t\t\t})\n\t\t\t.filter(({ rows }) => {\n\t\t\t\treturn rows.some((row) =>\n\t\t\t\t\trow.some(({ fields }) => fields.length)\n\t\t\t\t);\n\t\t\t});\n\telse return sections;\n};\n\ncreateCustomElement('sn-playbook-form-section-scripted', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: { classicForm: true },\n\tbehaviors: [{ behavior: clientScriptBehavior }],\n\tproperties: {\n\t\tcontextId: {\n\t\t\tdefault: ''\n\t\t},\n\t\ttable: {\n\t\t\trequired: true\n\t\t},\n\t\tsysId: {\n\t\t\trequired: true\n\t\t},\n\t\tview: {\n\t\t\tdefault: ''\n\t\t},\n\t\tforcedViewName: {\n\t\t\tdefault: ''\n\t\t},\n\t\treadOnlyForm: {\n\t\t\tdefault: false\n\t\t},\n\t\tassociatedRecordModCount: {\n\t\t\tdefault: 0\n\t\t},\n\t\tdispatchAction: {\n\t\t\tdefault: null\n\t\t},\n\t\tfieldWhitelist: {\n\t\t\tdefault: []\n\t\t},\n\t\tfilteredFields: {\n\t\t\tcomputed: computeFilteredFields,\n\t\t\tdefault: null\n\t\t},\n\t\tfilteredSections: {\n\t\t\tcomputed: computeFilteredSections\n\t\t},\n\t\tmediatorComponentId: {\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t['SN_FORM_DATA_CONNECTED#FETCH_START_REQUESTED']: {\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[FORM_DATA_PROVIDER_FETCH_START_REQUESTED]: {\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[DECLARATIVE_ACTION_UPDATE_RENDER]: {\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[DECLARATIVE_ACTION]: {\n\t\t\teffect: ({ action }) => {\n\t\t\t\tconst da = get(action, 'payload.action', {});\n\n\t\t\t\tif (da.actionType === DECLARATIVE_ACTION_TYPE_COMPONENT)\n\t\t\t\t\taction.stopPropagation();\n\t\t\t}\n\t\t},\n\t\t[NOW_ALERT_LIST_ITEMS_SET]: ({\n\t\t\tstate: { notifications },\n\t\t\taction,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (action.payload.value.length === 0) {\n\t\t\t\tdispatch(CLEAR_NOTIFICATIONS, {\n\t\t\t\t\tnotificationAction: {\n\t\t\t\t\t\ttype: 'clear'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnotifications.forEach((notification, index) => {\n\t\t\t\tif (!action.payload.value.find(({ id }) => id === index))\n\t\t\t\t\tdispatch(REMOVE_NOTIFICATION, { index });\n\t\t\t});\n\t\t},\n\t\t[GFORM_VALIDATE_SUCCESS]: ({ updateProperties }) => {\n\t\t\tupdateProperties({ dispatchAction: Date.now() });\n\t\t},\n\t\t[COMPONENT_RENDER_REQUESTED]: ({ action, state, properties }) => {\n\t\t\tconst currentWhitelist = properties.fieldWhitelist || [];\n\t\t\tconst previousWhitelist =\n\t\t\t\taction.payload.previousRenderProperties.fieldWhitelist || [];\n\n\t\t\tif (\n\t\t\t\tstate.fields &&\n\t\t\t\taction.payload.previousRenderState.notifications ===\n\t\t\t\t\tstate.notifications &&\n\t\t\t\taction.payload.previousRenderState.fields === state.fields &&\n\t\t\t\taction.payload.previousRenderProperties.dispatchAction ===\n\t\t\t\t\tproperties.dispatchAction &&\n\t\t\t\tcurrentWhitelist.join(',') === previousWhitelist.join(',')\n\t\t\t)\n\t\t\t\taction.preventDefault();\n\t\t}\n\t}\n});\n\nexport { computeFilteredFields, computeFilteredSections };\n","module.exports = __TECTONIC__$devsnc_library_form_19_0_13;","export { default as snPlaybookCard } from './sn-playbook-card';\n","import rtlBehavior from '@servicenow/behavior-rtl';\nimport { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { preUserData } from 'sn-uxpage-presource';\nimport {\n\tDEFAULT_MAX_FORM_FIELDS_RENDERED_IN_CARD,\n\tEVENT_KEY,\n\tPLAYBOOK_CARD_VIEW_MODE_CHANGE\n} from '../../../constants';\nimport {\n\tNOTIFICATION_PLAYBOOK_CARD_CANCELLED,\n\tNOTIFICATION_PLAYBOOK_CARD_PENDING\n} from '../../../notification.constants';\nimport actionHandlers from './actions';\nimport styles from './styles.scss';\nimport { view } from './view';\n\n/**\n * ## Playbook Card\n *\n * Wraps now-card, adding support for Declarative Actions\n * - Card Button\n * - Header Dropdown\n * - Card Click\n * - Form Button\n *\n * @summary Wrapper for now-card\n * @seismicElement sn-playbook-card\n */\ncreateCustomElement('sn-playbook-card', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\texpanded: false,\n\t\tmodalProperties: {},\n\t\t/*\n\t\t * Defaults to 'null' to signify no caculations have been done because\n\t\t * no Declarative Actions are present.\n\t\t */\n\t\tformFieldsRequired: null,\n\t\theaderActionsDropdownOpened: false\n\t},\n\tproperties: {\n\t\t/** @type {String} **/\n\t\tcontextId: { default: '' },\n\t\t// associated record table name\n\t\t/** @type {String} **/\n\t\tassociatedTable: { default: {} },\n\t\t// associated record sys id\n\t\t/** @type {String} **/\n\t\tassociatedSysId: { default: {} },\n\t\t/** @type {} **/\n\t\tformFieldItems: [],\n\t\t/** @type {} **/\n\t\tdeclarativeModel: {\n\t\t\tdefault: {\n\t\t\t\ttable: '',\n\t\t\t\tsysId: ''\n\t\t\t}\n\t\t},\n\t\t/** @type {{showActivityState: Boolean, showAutomatedManualIndicator: Boolean}} **/\n\t\tconfigProperties: {\n\t\t\tdefault: {\n\t\t\t\tshowActivityState: true,\n\t\t\t\tshowAutomatedManualIndicator: true,\n\t\t\t\tmaxFormFieldsOnCard: DEFAULT_MAX_FORM_FIELDS_RENDERED_IN_CARD\n\t\t\t}\n\t\t},\n\t\t/** @type {{value: String, displayValue: String}} **/\n\t\tactivityState: {\n\t\t\tdefault: {\n\t\t\t\tvalue: '',\n\t\t\t\tdisplayValue: ''\n\t\t\t}\n\t\t},\n\t\t/** @type {Boolean} **/\n\t\tloading: { default: false },\n\t\t/** @type {Boolean} **/\n\t\tprioritized: { default: false },\n\t\t/** @type {Array} **/\n\t\tdeclarativeActions: {\n\t\t\tschema: {\n\t\t\t\ttype: 'array'\n\t\t\t},\n\t\t\tdefault: []\n\t\t},\n\t\t/** @type {Array} **/\n\t\tbuttonActions: {\n\t\t\tdefault: [],\n\t\t\tselectable: true\n\t\t},\n\t\t/** @type {Array} **/\n\t\tcardClickActions: {\n\t\t\tdefault: [],\n\t\t\tselectable: true\n\t\t},\n\t\t/** @type {Array} **/\n\t\tfilterData: { default: [] },\n\t\t// header properties\n\t\t/** @type {String} **/\n\t\theading: {\n\t\t\tdefault: { label: '' }\n\t\t},\n\t\t/** @type {String} **/\n\t\ttagline: {\n\t\t\tdefault: { label: '' }\n\t\t},\n\t\t/** @type {} **/\n\t\tassignedTo: {},\n\t\t/** @type {String} **/\n\t\tcaption: {},\n\t\t/** @type {Array} **/\n\t\theaderIconActions: {\n\t\t\tdefault: [],\n\t\t\tselectable: true\n\t\t},\n\t\t/** @type {Array} **/\n\t\theaderDropdownActions: {\n\t\t\tdefault: [],\n\t\t\tselectable: true\n\t\t},\n\t\t/** @type {String} **/\n\t\tcardFooter: {},\n\t\t/** @type {Boolean} **/\n\t\tformFieldsInModal: { default: false },\n\t\t/** @type {Boolean} **/\n\t\tisAutomated: { default: false },\n\t\t/** @type {Boolean} **/\n\t\tshowSla: { default: false },\n\t\t// error notification\n\t\t/** @type {} **/\n\t\tnotification: { default: {} },\n\t\t/** @type {String} **/\n\t\tpendingTitle: { default: '' },\n\t\t/** @type {String} **/\n\t\tpendingDescription: {\n\t\t\tdefault: NOTIFICATION_PLAYBOOK_CARD_PENDING.body\n\t\t},\n\t\t/** @type {String} **/\n\t\tcancelledTitle: {\n\t\t\tdefault: NOTIFICATION_PLAYBOOK_CARD_CANCELLED.header\n\t\t},\n\t\t/** @type {String} **/\n\t\tcancelledDescription: {\n\t\t\tdefault: NOTIFICATION_PLAYBOOK_CARD_CANCELLED.body\n\t\t},\n\t\t/** @type {Boolean} **/\n\t\thasSufficientData: { default: true },\n\t\tshowFormSection: { default: undefined },\n\t\t/** @type {Boolean} **/\n\t\texpandOnMountOrChange: { default: false },\n\t\t/** @type {String} **/\n\t\tuserId: { default: '' },\n\t\t/** @type {String} **/\n\t\tmediatorComponentId: { default: '' }\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['keydown'],\n\t\t\teffect({\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { event }\n\t\t\t\t},\n\t\t\t\tstate: { expanded },\n\t\t\t\tdispatch\n\t\t\t}) {\n\t\t\t\tswitch (event.key) {\n\t\t\t\t\tcase EVENT_KEY.ENTER:\n\t\t\t\t\tcase EVENT_KEY.SPACE:\n\t\t\t\t\t\tdispatch(PLAYBOOK_CARD_VIEW_MODE_CHANGE, {\n\t\t\t\t\t\t\texpanded: !expanded\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\tactionHandlers,\n\tbehaviors: [preUserData, rtlBehavior],\n\tstyles\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst BEHAVIOR_NAME = 'rtl';\n\n/**\n * This behavior helps style Now Design System components in right-to-left (RTL) layouts.\n * It sets the component host's `dir` attribute based on the `document.dir` of\n * its parent application. If `document.dir` is not explicitly defined, it will\n * set the component host's `dir` attribute to `'ltr'` by default.\n *\n * After installation import the behavior at the top of your component JS file\n * and register it in your component behaviors list:\n *\n * ```js\n * import rtlBehavior from '@servicenow/behavior-rtl';\n *\n * createCustomElement('sn-example', {\n *   // ...\n *   behaviors: [{behavior: rtlBehavior}]\n * });\n * ```\n *\n * For more information about styling RTL components, see the\n * [Design System internationalization guide](https://emotive.servicenow.com/develop/resources/i18n).\n *\n * @seismicBehavior rtlBehavior\n * @summary Sets the component host's `dir` attribute to support right-to-left layouts\n */\nexports.default = {\n  name: BEHAVIOR_NAME,\n  properties: {\n    dir: {\n      get default() {\n        return document.dir || 'ltr';\n      },\n      reflect: true,\n      schema: { type: 'string' }\n    }\n  }\n};","import { cardActionHandlers } from './cardActions';\nimport { generalActionHandlers } from './general';\n\nexport default {\n\t...generalActionHandlers,\n\t...cardActionHandlers\n};\n","import {\n\tNOW_DROPDOWN_OPENED_SET,\n\tPLAYBOOK_CARD_VIEW_MODE_CHANGE\n} from '../../../../constants';\n\nexport const cardActionHandlers = {\n\t[PLAYBOOK_CARD_VIEW_MODE_CHANGE]: ({\n\t\taction: {\n\t\t\tpayload: { expanded }\n\t\t},\n\t\tupdateState\n\t}) => {\n\t\tupdateState({\n\t\t\texpanded\n\t\t});\n\t},\n\t[NOW_DROPDOWN_OPENED_SET]: {\n\t\teffect: ({ updateState, action: { payload } }) => {\n\t\t\tupdateState({\n\t\t\t\theaderActionsDropdownOpened: payload.value\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n","import { transformer } from '@devsnc/sn-declarative-actions';\nimport { actionTypes } from '@servicenow/ui-core';\nimport { get } from 'lodash';\nimport {\n\tADD_NOTIFICATIONS,\n\tDECLARATIVE_ACTION,\n\tDECLARATIVE_ACTION_CANCEL_ACTION,\n\tDECLARATIVE_ACTION_TYPE_SERVER_SCRIPT,\n\tELLIPSES,\n\tMAX_NUM_DAS_BOTTOM_OF_CARD,\n\tNOW_MODAL_OPENED_SET,\n\tPLAYBOOK_STATE_VALUES,\n\tPLAYBOOK_CARD_FORM_FIELDS_REQUIRED,\n\tPLAYBOOK_CLEAR_ACTIVITY_LOADING,\n\tPLAYBOOK_CLOSE_FORM_FIELDS_MODAL,\n\tPLAYBOOK_DECLARATIVE_ACTION,\n\tPLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS,\n\tPLAYBOOK_SET_ACTIVITY_LOADING,\n\tPLAYBOOK_SHOW_FORM,\n\tREFRESH_REQUESTED,\n\tRENDER_MODE_BUTTON,\n\tRENDER_MODE_CARD_CLICKED,\n\tRENDER_MODE_HEADER_DROPDOWN,\n\tRENDER_MODE_HEADER_ICON\n} from '../../../../constants';\n\nconst {\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_DOM_READY,\n\tCOMPONENT_PROPERTY_CHANGED\n} = actionTypes;\n\nconst allowedTransformActions = [\n\t'declarativeActions',\n\t'declarativeModel',\n\t'formFieldItems'\n];\n\n//perform variable replacement for actionPayload & actionAttributes from model\nconst transformDeclarativeActions = ({\n\taction,\n\tdispatch,\n\tstate,\n\tupdateProperties,\n\tupdateState\n}) => {\n\tconst {\n\t\tproperties: {\n\t\t\tdeclarativeActions,\n\t\t\tdeclarativeModel,\n\t\t\tformFieldItems = [],\n\t\t\tconfigProperties: { maxFormFieldsOnCard }\n\t\t}\n\t} = state;\n\n\tif (\n\t\taction.type == COMPONENT_PROPERTY_CHANGED &&\n\t\t!allowedTransformActions.includes(get(action, 'payload.name'))\n\t)\n\t\treturn;\n\n\tconst evaluatedActions = transformer(declarativeActions, declarativeModel);\n\n\tlet formFieldsRequired = false,\n\t\tformFieldsInModal = false,\n\t\trenderBottomButtonsCount = 0;\n\n\tconst transformedActions = evaluatedActions.reduce(\n\t\t(results, action) => {\n\t\t\t//check glide var condition to determine if action is a button, dropdown, or card click action\n\t\t\tconst clickActionType = PLAYBOOK_DECLARATIVE_ACTION;\n\t\t\tlet label = action.label;\n\n\t\t\tif (action.formFieldsRequired) {\n\t\t\t\tformFieldsRequired = true;\n\t\t\t\tif (formFieldItems.length <= 0) return results;\n\t\t\t\tif (formFieldItems.length > maxFormFieldsOnCard) {\n\t\t\t\t\tformFieldsInModal = true;\n\t\t\t\t\tlabel += ELLIPSES;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tempAction = {\n\t\t\t\t...action,\n\t\t\t\tlabel,\n\t\t\t\tid: action.assignmentId, // id needed for aria\n\t\t\t\tclickActionType,\n\t\t\t\ticon: action.icon || ''\n\t\t\t};\n\n\t\t\tswitch (action.renderMode) {\n\t\t\t\tcase RENDER_MODE_BUTTON:\n\t\t\t\t\tif (\n\t\t\t\t\t\t++renderBottomButtonsCount > MAX_NUM_DAS_BOTTOM_OF_CARD\n\t\t\t\t\t) {\n\t\t\t\t\t\tresults.headerDropdownActions.push({\n\t\t\t\t\t\t\t...tempAction,\n\t\t\t\t\t\t\tvariant: action.buttonType\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresults.buttonActions.push({\n\t\t\t\t\t\t\t...tempAction,\n\t\t\t\t\t\t\tvariant: action.buttonType\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase RENDER_MODE_HEADER_DROPDOWN:\n\t\t\t\t\tresults.headerDropdownActions.push({\n\t\t\t\t\t\t...tempAction,\n\t\t\t\t\t\tvariant: action.buttonType\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase RENDER_MODE_CARD_CLICKED:\n\t\t\t\t\tresults.headerIconActions.push({\n\t\t\t\t\t\t...tempAction,\n\t\t\t\t\t\ticon: 'circle-info-outline'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase RENDER_MODE_HEADER_ICON:\n\t\t\t\t\tresults.headerIconActions.push({ ...tempAction });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn results;\n\t\t},\n\t\t{\n\t\t\tbuttonActions: [],\n\t\t\theaderDropdownActions: [],\n\t\t\tcardClickActions: [],\n\t\t\theaderIconActions: []\n\t\t}\n\t);\n\t// STRY50525392: Temporarily resorts the card type actions with highest specificity to display last in list.  Will be removed later.\n\tfor (let i = transformedActions.headerIconActions.length - 1; i >= 0; i--) {\n\t\tconst headerIconAction = transformedActions.headerIconActions[i];\n\t\tif (\n\t\t\theaderIconAction.renderMode == RENDER_MODE_CARD_CLICKED &&\n\t\t\theaderIconAction.icon == 'circle-info-outline'\n\t\t) {\n\t\t\ttransformedActions.headerIconActions.push(\n\t\t\t\ttransformedActions.headerIconActions.splice(i, 1)[0]\n\t\t\t);\n\t\t}\n\t}\n\n\tupdateProperties({ ...transformedActions });\n\t// Exit early to prevent extra checks and property updates for\n\t// 'formFieldsRequired' if there are no Declarative Actions to be evaluated\n\tif (!evaluatedActions.length) return;\n\n\tif (state.formFieldsInModal !== formFieldsInModal)\n\t\tupdateState({ formFieldsInModal });\n\n\tif (state.formFieldsRequired !== formFieldsRequired) {\n\t\tupdateState({ formFieldsRequired });\n\t\t// Exposes 'formFieldsRequired' property to parent components through\n\t\t// parent component's Action Handlers\n\t\tdispatch(PLAYBOOK_CARD_FORM_FIELDS_REQUIRED, { formFieldsRequired });\n\t}\n};\n\nexport const generalActionHandlers = {\n\t[COMPONENT_BOOTSTRAPPED]: transformDeclarativeActions,\n\t[COMPONENT_DOM_READY]: ({\n\t\tstate: {\n\t\t\tproperties: { expandOnMountOrChange }\n\t\t},\n\t\tupdateState\n\t}) => updateState({ expanded: expandOnMountOrChange }),\n\t[COMPONENT_PROPERTY_CHANGED]: {\n\t\teffect: transformDeclarativeActions,\n\t\tinterceptors: [\n\t\t\t{\n\t\t\t\tafter: ({\n\t\t\t\t\tcoeffects: {\n\t\t\t\t\t\taction: {\n\t\t\t\t\t\t\tpayload: { name, value }\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstate: { expanded },\n\t\t\t\t\t\tupdateState\n\t\t\t\t\t}\n\t\t\t\t}) => {\n\t\t\t\t\tif (name === 'expandOnMountOrChange' && value && !expanded)\n\t\t\t\t\t\tupdateState({ expanded: true });\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t},\n\t[REFRESH_REQUESTED]: {\n\t\teffect: ({ dispatch, properties }) => {\n\t\t\tdispatch(PLAYBOOK_CLOSE_FORM_FIELDS_MODAL);\n\t\t\tdispatch(PLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS, {\n\t\t\t\tcontextIds: [properties.contextId]\n\t\t\t});\n\t\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\t\tcontextId: properties.contextId,\n\t\t\t\tloading: false\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[ADD_NOTIFICATIONS]: ({ dispatch, properties }) => {\n\t\tdispatch(PLAYBOOK_CLEAR_ACTIVITY_LOADING, {\n\t\t\tcontextId: properties.contextId\n\t\t});\n\t},\n\t[DECLARATIVE_ACTION]: ({ action, dispatch, properties }) => {\n\t\tconst da = get(action, 'payload.action', {});\n\n\t\tif (da.actionType !== DECLARATIVE_ACTION_TYPE_SERVER_SCRIPT) return;\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\tcontextId: properties.contextId,\n\t\t\tloading: true\n\t\t});\n\t},\n\t[DECLARATIVE_ACTION_CANCEL_ACTION]: ({ dispatch, properties }) => {\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\tcontextId: properties.contextId,\n\t\t\tloading: false\n\t\t});\n\t},\n\t[PLAYBOOK_SHOW_FORM]: ({\n\t\taction: {\n\t\t\tpayload = {},\n\t\t\tpayload: { action = {} }\n\t\t},\n\t\tstate: { modalProperties },\n\t\tproperties: { heading },\n\t\tupdateState\n\t}) => {\n\t\tupdateState({\n\t\t\tmodalProperties: {\n\t\t\t\t...modalProperties,\n\t\t\t\tmodalOpen: !!(payload.value || action),\n\t\t\t\tmodalLinkText: heading,\n\t\t\t\tmodalAction: action\n\t\t\t\t\t? {\n\t\t\t\t\t\t...action,\n\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\taction.label && action.label.endsWith(ELLIPSES)\n\t\t\t\t\t\t\t\t\t? action.label.slice(0, -ELLIPSES.length)\n\t\t\t\t\t\t\t\t\t: action.label\n\t\t\t\t\t  }\n\t\t\t\t\t: {}\n\t\t\t}\n\t\t});\n\t},\n\t[PLAYBOOK_CLOSE_FORM_FIELDS_MODAL]: ({ updateState }) => {\n\t\tupdateState({\n\t\t\tpath: 'modalProperties.modalOpen',\n\t\t\tvalue: false,\n\t\t\toperation: 'set'\n\t\t});\n\t},\n\t[NOW_MODAL_OPENED_SET]: ({ action, dispatch }) => {\n\t\tconst id = get(action, 'payload.action.id', '');\n\t\tconst value = get(action, 'payload.value', '');\n\n\t\tif (value == false || id == `${NOW_MODAL_OPENED_SET}_FALSE`)\n\t\t\tdispatch(PLAYBOOK_CLOSE_FORM_FIELDS_MODAL);\n\t}\n};\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}:host{outline:none}.playbook-card{position:relative;padding:0;border:.0625rem solid RGB(var(--now-color--divider-secondary,var(--now-color--neutral-5,172,180,181)));background-color:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;letter-spacing:.01562rem;outline:none;box-sizing:border-box}.playbook-card .loader-layer{position:absolute;background-color:RGB(var(--now-color--background-secondary,var(--now-color--neutral-1,246,247,247)),.9);top:0;left:0;bottom:0;right:0;z-index:11;outline:none}.playbook-card .loader-layer .loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.playbook-card.is-cancelled,.playbook-card.is-complete,.playbook-card.is-skipped{border-color:RGB(var(--now-color--neutral-2,228,230,231));background-color:RGBA(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)),.5)}.playbook-card.is-pending-or-error{border-style:dashed;background-color:RGBA(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)),.5)}.playbook-card.is-prioritized:not(.is-expanded) .card-header .card-title{color:RGB(var(--now-color--alert-info-2,14,120,196))}.playbook-card .card-title-container{margin-top:.5rem;margin-bottom:.25rem;cursor:default}.playbook-card .card-title-container .prioritized-icon{position:relative;top:.0625rem;color:RGB(var(--now-color--alert-info-2,14,120,196));vertical-align:middle;pointer-events:none;opacity:0}:host(:not([dir=rtl])) .playbook-card .card-title-container .prioritized-icon,:root:not([dir=rtl]) .playbook-card .card-title-container .prioritized-icon{margin-left:-1rem}:host([dir=rtl]) .playbook-card .card-title-container .prioritized-icon,:root[dir=rtl] .playbook-card .card-title-container .prioritized-icon{margin-right:-1rem}.playbook-card .card-title-container .prioritized-icon.show-icon{opacity:1}.playbook-card .card-content,.playbook-card .card-header,.playbook-card .playbook-card-footer{padding-right:1.5rem;padding-left:1.5rem}.playbook-card .card-content,.playbook-card .card-header{display:block;position:relative;margin:0;background-color:transparent;outline:none;box-shadow:none}.playbook-card .card-content{padding-top:.25rem;padding-bottom:1rem}.playbook-card .card-header{width:100%;padding-top:.75rem;padding-bottom:.75rem}.playbook-card .card-header .radial-progress{display:inline-block;position:relative;top:.125rem}.playbook-card .card-header .card-state{display:inline-block;position:relative;font-size:.75rem;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}:host(:not([dir=rtl])) .playbook-card .card-header .card-state,:root:not([dir=rtl]) .playbook-card .card-header .card-state{left:.25rem}:host([dir=rtl]) .playbook-card .card-header .card-state,:root[dir=rtl] .playbook-card .card-header .card-state{right:.25rem}.playbook-card .card-header .card-state.is-in-progress{color:RGB(var(--now-color--secondary-1,1,119,142))}.playbook-card .card-header .stage-type{display:inline-block;position:relative;font-size:.75rem;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.playbook-card .card-header .chevron-icon{position:absolute;top:1.125rem;transition:transform .15s ease-out}:host(:not([dir=rtl])) .playbook-card .card-header .chevron-icon,:root:not([dir=rtl]) .playbook-card .card-header .chevron-icon{right:1.5rem}:host([dir=rtl]) .playbook-card .card-header .chevron-icon,:root[dir=rtl] .playbook-card .card-header .chevron-icon{left:1.5rem}.playbook-card .card-header .chevron-icon.is-expanded{transform:rotate(-180deg)}:host([dir=rtl]) .playbook-card .card-header .chevron-icon.is-expanded,root[dir=rtl] .playbook-card .card-header .chevron-icon.is-expanded{transform:rotate(180deg)}.playbook-card .card-header .card-title{display:inline-block;font-size:1rem;font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));vertical-align:middle;margin:0}:host(:not([dir=rtl])) .playbook-card .card-header .card-title,:root:not([dir=rtl]) .playbook-card .card-header .card-title{margin-left:.25rem}:host([dir=rtl]) .playbook-card .card-header .card-title,:root[dir=rtl] .playbook-card .card-header .card-title{margin-right:.25rem}.playbook-card .card-header .empty-state-text{display:inline-block;font-size:1rem;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.playbook-card .card-header .assigned-to-block{display:inline-block}.playbook-card .card-header .assigned-to-block .assigned-to-label{display:inline-block;position:relative;font-size:.75rem;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}:host(:not([dir=rtl])) .playbook-card .card-header .assigned-to-block .assigned-to-label,:root:not([dir=rtl]) .playbook-card .card-header .assigned-to-block .assigned-to-label{left:.5rem}:host([dir=rtl]) .playbook-card .card-header .assigned-to-block .assigned-to-label,:root[dir=rtl] .playbook-card .card-header .assigned-to-block .assigned-to-label{right:.5rem}.playbook-card .card-header:hover{background-color:RGBA(var(--now-color--secondary-0,217,235,238),.5)}.playbook-card .card-header:active,.playbook-card .card-header:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25)}.playbook-card .card-header:active .header-dropdown,.playbook-card .card-header:focus-within .header-dropdown,.playbook-card .card-header:focus .header-dropdown,.playbook-card .card-header:hover .header-dropdown{opacity:1;pointer-events:all}.playbook-card .card-header .header-dropdown{opacity:1;pointer-events:all;transition:opacity .3s ease}@media (hover:hover){.playbook-card .card-header .header-dropdown{opacity:0;pointer-events:none}}.playbook-card .card-header .header-dropdown.show,.playbook-card .card-header .header-dropdown:active,.playbook-card .card-header .header-dropdown:focus,.playbook-card .card-header .header-dropdown:hover{opacity:1;pointer-events:all}.playbook-card .card-header .header-dropdown.hide{display:none}.playbook-card now-collapse .card-content{background-color:transparent;border:none}.playbook-card now-collapse .card-content .form-section-container{padding:.25rem 0}.playbook-card now-collapse .card-content .playbook-card-modal header{border-bottom:1px solid RGB(var(--now-color--neutral-3,209,214,214));padding-bottom:.75rem;margin-bottom:.75rem}.playbook-card now-collapse .card-content .playbook-card-modal header .text--primary{font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.playbook-card now-collapse .card-content .playbook-card-modal header .text--secondary{font-size:1rem;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.playbook-card now-collapse .card-content .playbook-card-modal header .text--tertiary{font-size:.75rem;color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.playbook-card now-collapse .card-actions-container .card-actions{padding-top:.75rem}.playbook-card now-collapse .playbook-card-footer{font-size:.75rem;border:.0625rem solid RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));border-width:.0625rem 0 0 0;background-color:transparent;padding-top:.5rem;padding-bottom:.5rem;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.now-m-block-start--xs{margin:0;margin-block-start:.25rem}.now-m-block-start--sm,.now-m-block-start--xs{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.now-m-block-start--sm{margin:0;margin-block-start:.5rem}.now-m-block-start--md{margin:0;margin-block-start:.75rem}.now-m-block-start--lg{margin:0;margin-block-start:1rem}.now-m-block-start--lg,.now-m-block-start--xl{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.now-m-block-start--xl{margin:0;margin-block-start:1.5rem}.now-m-inline-start--md{margin:0;margin-inline-start:.75rem}.now-m-inline-start--lg,.now-m-inline-start--md{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.now-m-inline-start--lg{margin:0;margin-inline-start:1rem}.now-m-inline-start--xl{position:relative;margin:0;margin-inline-start:1.5rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}\", \"\"]);\n\n// exports\n","import '@devsnc/sn-declarative-actions';\nimport '@servicenow/now-avatar';\nimport '@servicenow/now-collapse';\nimport '@servicenow/now-dropdown';\nimport '@servicenow/now-highlighted-value';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-rich-text';\nimport '@servicenow/now-tooltip';\nimport { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate'; //'@servicenow/library-translate';\nimport { PANEL_NAVIGATION_UPDATE_MAP } from '../../../behaviors/sn-panel-navigation/constants';\nimport EmptyState from '../../../components/empty-state';\nimport '../../../components/sn-playbook-card-header-actions';\nimport '../../../components/sn-playbook-card-loader';\nimport {\n\tCARD_STATE_VALUES,\n\tEVENT_KEY,\n\tNOW_MODAL_OPENED_SET,\n\tPLAYBOOK_CARD_COLLAPSE_TOOLTIP,\n\tPLAYBOOK_CARD_EXPAND_TOOLTIP,\n\tPLAYBOOK_CARD_PRIORITIZED_COLLAPSE_TOOLTIP,\n\tPLAYBOOK_CARD_PRIORITIZED_EXPAND_TOOLTIP,\n\tPLAYBOOK_CARD_PENDING_TOOLTIP,\n\tPLAYBOOK_CARD_ERROR_TOOLTIP,\n\tPLAYBOOK_CARD_VIEW_MODE_CHANGE,\n\tPLAYBOOK_STANDARD_TOOLTIP_DELAY\n} from '../../../constants';\nimport { NOTIFICATION_PLAYBOOK_CARD_ERROR } from '../../../notification.constants';\nimport { renderPlaybookFooter, showFormSection } from '../../render-utils';\nimport { HeaderActivityState } from './subcomponents';\n\nconst getEmptyStateData = (state) => {\n\tconst {\n\t\tproperties: {\n\t\t\tactivityState,\n\t\t\tpendingTitle,\n\t\t\tpendingDescription, //cancelledTitle, cancelledDescription,\n\t\t\tnotification,\n\t\t\thasSufficientData\n\t\t}\n\t} = state;\n\n\tswitch (activityState.value) {\n\t\tcase CARD_STATE_VALUES.PENDING.value:\n\t\t\treturn { title: pendingTitle, text: pendingDescription };\n\t\tdefault:\n\t\t\tif (\n\t\t\t\tactivityState.value !== CARD_STATE_VALUES.COMPLETE.value &&\n\t\t\t\t!hasSufficientData\n\t\t\t) {\n\t\t\t\treturn { title: pendingTitle, text: pendingDescription };\n\t\t\t} else {\n\t\t\t\treturn notification.header || notification.body\n\t\t\t\t\t? { title: notification.header, text: notification.body }\n\t\t\t\t\t: null;\n\t\t\t}\n\t}\n};\n\nconst renderModal = (state) => {\n\tconst {\n\t\tproperties: { declarativeModel, formFieldItems = [] },\n\t\tmodalProperties: { modalOpen, modalAction = {}, modalLinkText = {} }\n\t} = state;\n\n\tlet modalFooterActions = [\n\t\t{\n\t\t\tvariant: 'secondary',\n\t\t\tlabel: t('Cancel'),\n\t\t\tclickActionType: NOW_MODAL_OPENED_SET,\n\t\t\tid: `${NOW_MODAL_OPENED_SET}_FALSE`\n\t\t}\n\t];\n\n\tif (modalAction) modalFooterActions.push(modalAction);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"playbook-card-modal\"\n\t\t\ton-click={(e) => e.stopPropagation()}\n\t\t>\n\t\t\t<now-modal\n\t\t\t\topened={modalOpen}\n\t\t\t\tsize=\"lg\"\n\t\t\t\theader-label={modalAction.label || ''}\n\t\t\t\tfooter-actions={modalFooterActions}\n\t\t\t\tappend-to-payload={{\n\t\t\t\t\tmodel: { ...declarativeModel, fields: formFieldItems },\n\t\t\t\t\tmodalSubmit: true\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{modalLinkText.label && (\n\t\t\t\t\t<header>\n\t\t\t\t\t\t<now-text-link\n\t\t\t\t\t\t\tlabel={modalLinkText.label}\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\ttable: declarativeModel.table,\n\t\t\t\t\t\t\t\tsys_id: declarativeModel.sysId,\n\t\t\t\t\t\t\t\trecordLink: true\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</header>\n\t\t\t\t)}\n\t\t\t\t<slot name=\"form\" />\n\t\t\t</now-modal>\n\t\t</div>\n\t);\n};\n\nconst renderForm = (state) => {\n\tconst {\n\t\tformFieldsInModal,\n\t\tformFieldsRequired,\n\t\tproperties: { formFieldItems = [] }\n\t} = state;\n\t// Note if formFieldsRequired is falsey, no elements with attribute\n\t// slot='form' will render, meaning the 'renderForms' method will not be\n\t// able to slot anything onto the page\n\tif (formFieldsRequired === true) {\n\t\treturn formFieldsInModal ? renderModal(state) : <slot name=\"form\" />;\n\t} else {\n\t\t// We will still show form fields if no Declarative Actions require them.\n\t\t// We show them as 'now-label-value-stacked' in a custom slot\n\t\t// 'form-field-stacked' to differentiate them from editable form fields.\n\t\t// This behavior is needed so not to throw users off when they see\n\t\t// 'form_fields' in the Activity Context record but don't see them\n\t\t// in the Playbook Card.\n\t\treturn formFieldItems.length ? (\n\t\t\t<slot name=\"form-field-stacked\" />\n\t\t) : null;\n\t}\n};\n\nexport const view = (state, { dispatch }) => {\n\tconst {\n\t\tproperties: {\n\t\t\tcontextId,\n\t\t\ttagline,\n\t\t\theading,\n\t\t\tcaption,\n\t\t\tbuttonActions,\n\t\t\theaderIconActions,\n\t\t\theaderDropdownActions,\n\t\t\tassociatedSysId,\n\t\t\tdeclarativeModel,\n\t\t\tactivityState,\n\t\t\tconfigProperties: {\n\t\t\t\tmaxFormFieldsOnCard,\n\t\t\t\tshowActivityState,\n\t\t\t\tslaConfiguration\n\t\t\t},\n\t\t\tshowSla,\n\t\t\tloading,\n\t\t\tprioritized,\n\t\t\tformFieldItems = [],\n\t\t\tcardFooter,\n\t\t\tassignedTo,\n\t\t\tuserId,\n\t\t\tshowFormSection: showFormSectionProperty,\n\t\t\tmediatorComponentId,\n\t\t\tpendingTitle\n\t\t},\n\t\texpanded,\n\t\theaderActionsDropdownOpened,\n\t\tcomponentId\n\t} = state;\n\n\tconst emptyState = getEmptyStateData(state);\n\tconst statePendingOrError =\n\t\tactivityState.value === CARD_STATE_VALUES.PENDING.value ||\n\t\tactivityState.value === CARD_STATE_VALUES.ERROR.value;\n\tconst stateCancelled =\n\t\tactivityState.value === CARD_STATE_VALUES.CANCELLED.value;\n\tconst collapseSectionId = `collapse-section-${contextId}-${componentId}`;\n\n\tif (statePendingOrError && expanded)\n\t\tdispatch(PLAYBOOK_CARD_VIEW_MODE_CHANGE, { expanded: false });\n\n\tconst showFormSectionValue =\n\t\tshowFormSectionProperty !== undefined\n\t\t\t? showFormSectionProperty\n\t\t\t: showFormSection(declarativeModel);\n\n\tconst isPrioritized =\n\t\tprioritized &&\n\t\t!statePendingOrError &&\n\t\t!stateCancelled &&\n\t\tactivityState.value !== CARD_STATE_VALUES.SKIPPED.value;\n\n\treturn (\n\t\t<sn-declarative-mediator key={`playbook-card-${contextId}`}>\n\t\t\t<sn-playbook-card-mediator\n\t\t\t\tcomponent-id={mediatorComponentId}\n\t\t\t\tshow-form-section={showFormSectionValue}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t'playbook-card': true,\n\t\t\t\t\t\t'is-complete':\n\t\t\t\t\t\t\tactivityState.value ===\n\t\t\t\t\t\t\tCARD_STATE_VALUES.COMPLETE.value,\n\t\t\t\t\t\t'is-skipped':\n\t\t\t\t\t\t\tactivityState.value ===\n\t\t\t\t\t\t\tCARD_STATE_VALUES.SKIPPED.value,\n\t\t\t\t\t\t'is-cancelled': stateCancelled,\n\t\t\t\t\t\t'is-pending-or-error': statePendingOrError,\n\t\t\t\t\t\t'is-prioritized': isPrioritized,\n\t\t\t\t\t\t'is-expanded': expanded\n\t\t\t\t\t}}\n\t\t\t\t\trole=\"listitem\"\n\t\t\t\t\taria-label={t(\n\t\t\t\t\t\t'{0} activity card is {1} in {2} state',\n\t\t\t\t\t\theading.label,\n\t\t\t\t\t\tprioritized ? t('prioritized') : t('not prioritized'),\n\t\t\t\t\t\texpanded ? t('expanded') : t('collapsed')\n\t\t\t\t\t)}\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t>\n\t\t\t\t\t<now-collapse-trigger\n\t\t\t\t\t\tcontrols={\n\t\t\t\t\t\t\tstatePendingOrError ? null : collapseSectionId\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t'card-header': true\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton-click={(e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tif (!statePendingOrError)\n\t\t\t\t\t\t\t\tdispatch(PLAYBOOK_CARD_VIEW_MODE_CHANGE, {\n\t\t\t\t\t\t\t\t\texpanded: !expanded\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton-keydown={(e) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tstatePendingOrError &&\n\t\t\t\t\t\t\t\t(e.key === EVENT_KEY.ENTER ||\n\t\t\t\t\t\t\t\t\te.key === EVENT_KEY.SPACE)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttabindex={0}\n\t\t\t\t\t\tdata-nav={`card-header-${contextId}`}\n\t\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\t\telm\n\t\t\t\t\t\t\t\t? dispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\t\t\tmapKey: `card-header-${contextId}`,\n\t\t\t\t\t\t\t\t\tmapEntry: { domRef: elm }\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t'aria-controls': collapseSectionId\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<HeaderActivityState\n\t\t\t\t\t\t\tactivityState={activityState}\n\t\t\t\t\t\t\tshowActivityState={showActivityState}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<span className={'now-m-inline-start--xl'} />\n\t\t\t\t\t\t<label className={'stage-type'}>{tagline.label}</label>\n\n\t\t\t\t\t\t<sn-playbook-card-header-actions\n\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t'header-dropdown': true,\n\t\t\t\t\t\t\t\tshow: expanded || headerActionsDropdownOpened\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tassociatedSysId={associatedSysId}\n\t\t\t\t\t\t\theaderIconActions={headerIconActions}\n\t\t\t\t\t\t\theaderDropdownActions={headerDropdownActions}\n\t\t\t\t\t\t\tdeclarativeModel={declarativeModel}\n\t\t\t\t\t\t\tformFieldItems={formFieldItems}\n\t\t\t\t\t\t\tshowSla={showSla}\n\t\t\t\t\t\t\tslaConfiguration={slaConfiguration}\n\t\t\t\t\t\t\ton-click={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\ton-keydown={(e) => {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\te.key === EVENT_KEY.ENTER ||\n\t\t\t\t\t\t\t\t\te.key === EVENT_KEY.SPACE\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{statePendingOrError ? null : (\n\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\ticon=\"chevron-down-outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t\t'chevron-icon': true,\n\t\t\t\t\t\t\t\t\t'is-expanded': expanded\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<span className={'now-m-block-start--xs'} />\n\t\t\t\t\t\t<div className={'card-title-container'}>\n\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\ticon=\"presence-fill\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t\t'prioritized-icon': true,\n\t\t\t\t\t\t\t\t\t'show-icon':\n\t\t\t\t\t\t\t\t\t\tisPrioritized &&\n\t\t\t\t\t\t\t\t\t\t!expanded &&\n\t\t\t\t\t\t\t\t\t\theading.label\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton-mouseover={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<h4 className={'card-title'}>\n\t\t\t\t\t\t\t\t{activityState.value ===\n\t\t\t\t\t\t\t\tCARD_STATE_VALUES.ERROR.value\n\t\t\t\t\t\t\t\t\t? NOTIFICATION_PLAYBOOK_CARD_ERROR.header\n\t\t\t\t\t\t\t\t\t: activityState.value ===\n\t\t\t\t\t\t\t\t\t\t\tCARD_STATE_VALUES.PENDING.value &&\n\t\t\t\t\t\t\t\t\t  pendingTitle\n\t\t\t\t\t\t\t\t\t\t? pendingTitle\n\t\t\t\t\t\t\t\t\t\t: heading.label}\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{statePendingOrError ? (\n\t\t\t\t\t\t\t<now-rich-text\n\t\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t\t'empty-state-text': true,\n\t\t\t\t\t\t\t\t\t'now-m-block-start--md':\n\t\t\t\t\t\t\t\t\t\tactivityState.value !==\n\t\t\t\t\t\t\t\t\t\t\tCARD_STATE_VALUES.ERROR.value &&\n\t\t\t\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\t\t\t\temptyState &&\n\t\t\t\t\t\t\t\t\t\t\temptyState.text &&\n\t\t\t\t\t\t\t\t\t\t\temptyState.text.startsWith('<p>')\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\thtml={\n\t\t\t\t\t\t\t\t\tactivityState.value ===\n\t\t\t\t\t\t\t\t\tCARD_STATE_VALUES.ERROR.value\n\t\t\t\t\t\t\t\t\t\t? NOTIFICATION_PLAYBOOK_CARD_ERROR.body\n\t\t\t\t\t\t\t\t\t\t: emptyState.text\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : assignedTo ? (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className={'now-m-block-start--sm'} />\n\t\t\t\t\t\t\t\t<div className={'assigned-to-block'}>\n\t\t\t\t\t\t\t\t\t<now-avatar\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tuserName={\n\t\t\t\t\t\t\t\t\t\t\tassignedTo.value === userId\n\t\t\t\t\t\t\t\t\t\t\t\t? 'Me'\n\t\t\t\t\t\t\t\t\t\t\t\t: assignedTo.displayValue\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\timageSrc={assignedTo.avatar}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<label className={'assigned-to-label'}>\n\t\t\t\t\t\t\t\t\t\t{t(\n\t\t\t\t\t\t\t\t\t\t\t'Assigned to {0}',\n\t\t\t\t\t\t\t\t\t\t\tassignedTo.value === userId\n\t\t\t\t\t\t\t\t\t\t\t\t? t('Me')\n\t\t\t\t\t\t\t\t\t\t\t\t: assignedTo.displayValue\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</now-collapse-trigger>\n\n\t\t\t\t\t<now-tooltip\n\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\texpanded\n\t\t\t\t\t\t\t\t? prioritized\n\t\t\t\t\t\t\t\t\t? PLAYBOOK_CARD_PRIORITIZED_COLLAPSE_TOOLTIP\n\t\t\t\t\t\t\t\t\t: PLAYBOOK_CARD_COLLAPSE_TOOLTIP\n\t\t\t\t\t\t\t\t: activityState.value ===\n\t\t\t\t\t\t\t\t  CARD_STATE_VALUES.PENDING.value\n\t\t\t\t\t\t\t\t\t? PLAYBOOK_CARD_PENDING_TOOLTIP\n\t\t\t\t\t\t\t\t\t: activityState.value ===\n\t\t\t\t\t\t\t\t  CARD_STATE_VALUES.ERROR.value\n\t\t\t\t\t\t\t\t\t\t? PLAYBOOK_CARD_ERROR_TOOLTIP\n\t\t\t\t\t\t\t\t\t\t: prioritized\n\t\t\t\t\t\t\t\t\t\t\t? PLAYBOOK_CARD_PRIORITIZED_EXPAND_TOOLTIP\n\t\t\t\t\t\t\t\t\t\t\t: PLAYBOOK_CARD_EXPAND_TOOLTIP\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelay={PLAYBOOK_STANDARD_TOOLTIP_DELAY}\n\t\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\t\telm\n\t\t\t\t\t\t\t\t? (elm.targetRef = elm.previousElementSibling)\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<now-collapse\n\t\t\t\t\t\texpanded={expanded}\n\t\t\t\t\t\tid={collapseSectionId}\n\t\t\t\t\t\ton-keydown={(e) => {\n\t\t\t\t\t\t\tswitch (e.key) {\n\t\t\t\t\t\t\t\tcase EVENT_KEY.ENTER:\n\t\t\t\t\t\t\t\tcase EVENT_KEY.SPACE:\n\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t'aria-expanded': expanded\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{emptyState ? (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<span className={'now-m-block-start--lg'} />\n\t\t\t\t\t\t\t\t<EmptyState\n\t\t\t\t\t\t\t\t\ttitle={emptyState.title}\n\t\t\t\t\t\t\t\t\ttext={emptyState.text}\n\t\t\t\t\t\t\t\t\talignment={'horizontal'}\n\t\t\t\t\t\t\t\t\tillustration={\n\t\t\t\t\t\t\t\t\t\tactivityState.value ===\n\t\t\t\t\t\t\t\t\t\tCARD_STATE_VALUES.ERROR.value\n\t\t\t\t\t\t\t\t\t\t\t? 'error'\n\t\t\t\t\t\t\t\t\t\t\t: 'no-data'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className={'now-m-block-start--xs'} />\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<div className={'card-content'}>\n\t\t\t\t\t\t\t\t\t<slot name=\"content\" />\n\n\t\t\t\t\t\t\t\t\t{renderForm(state)}\n\n\t\t\t\t\t\t\t\t\t<slot name=\"below-form\" />\n\t\t\t\t\t\t\t\t\t<slot name=\"footer\" />\n\n\t\t\t\t\t\t\t\t\t<div className=\"card-actions-container\">\n\t\t\t\t\t\t\t\t\t\t{buttonActions.length &&\n\t\t\t\t\t\t\t\t\t\texpanded &&\n\t\t\t\t\t\t\t\t\t\t!stateCancelled ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<sn-playbook-card-actions\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"card-actions\"\n\t\t\t\t\t\t\t\t\t\t\t\t\titems={buttonActions}\n\t\t\t\t\t\t\t\t\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodel: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...declarativeModel,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: formFieldItems\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxFormFieldsOnCard\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<slot name=\"playbook-card-footer\">\n\t\t\t\t\t\t\t\t\t{renderPlaybookFooter(cardFooter, '')}\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</now-collapse>\n\n\t\t\t\t\t<sn-playbook-card-loader\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tactivityState={activityState}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</sn-playbook-card-mediator>\n\t\t</sn-declarative-mediator>\n\t);\n};\n","module.exports = __TECTONIC__$servicenow_now_avatar;","module.exports = __TECTONIC__$servicenow_now_rich_text;","module.exports = __TECTONIC__$servicenow_now_template_message;","import './sn-playbook-card-header-actions';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { declarativeActionsHeaderClickedBehavior } from '../../behaviors/index.js';\nimport styles from './styles.scss';\nimport view from './view.js';\n\ncreateCustomElement('sn-playbook-card-header-actions', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tproperties: {\n\t\tassociatedSysId: {\n\t\t\tdefault: ''\n\t\t},\n\t\theaderIconActions: {\n\t\t\tdefault: []\n\t\t},\n\t\theaderDropdownActions: {\n\t\t\tdefault: []\n\t\t},\n\t\tdeclarativeModel: {\n\t\t\tdefault: {}\n\t\t},\n\t\tformFieldItems: {\n\t\t\tdefault: []\n\t\t},\n\t\tshowSla: {\n\t\t\tdefault: false\n\t\t},\n\t\tslaConfiguration: {\n\t\t\tdefault: {}\n\t\t}\n\t},\n\tbehaviors: [declarativeActionsHeaderClickedBehavior]\n});\n","import {\n\tCANCEL_PLAYBOOK,\n\tCANCEL_PLAYBOOK_CONFIRMED,\n\tNOW_MODAL_OPENED_SET,\n\tPLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_MUTATION_GQL\n} from '../../constants';\n\n/**\n * NOTE: Whatever component this behavior is attached to must have a 'playbook' property.\n */\nexport const cancelPlaybookBehavior = {\n\tname: 'cancelPlaybookBehavior',\n\tproperties: {\n\t\t/**\n\t\t * the title and sysId of the playbook context to cancel\n\t\t * @type {Object}\n\t\t */\n\t\tcancelPlaybookContext: {\n\t\t\tdefault: {\n\t\t\t\ttitle: '',\n\t\t\t\tsysId: ''\n\t\t\t},\n\t\t\tselectable: true\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[CANCEL_PLAYBOOK]: {\n\t\t\teffect: ({ updateProperties, action, properties }) => {\n\t\t\t\tconst { playbooksByContextId = {} } = properties;\n\t\t\t\tconst { playbookContextId = '' } = action.payload;\n\t\t\t\tconst { title = '' } =\n\t\t\t\t\tplaybooksByContextId[playbookContextId] || {};\n\n\t\t\t\tif (title && playbookContextId) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\t\t\tpath: 'cancelPlaybookContext',\n\t\t\t\t\t\t\toperation: 'assign',\n\t\t\t\t\t\t\tvalue: { title, sysId: playbookContextId }\n\t\t\t\t\t\t}));\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[CANCEL_PLAYBOOK_CONFIRMED]: {\n\t\t\teffect: ({ dispatch, action: { payload } }) => {\n\t\t\t\tconst { action: payloadAction = {} } = payload;\n\t\t\t\tconst {\n\t\t\t\t\tplaybookContextId,\n\t\t\t\t\tcancellationReason,\n\t\t\t\t\tplaybookExperienceId\n\t\t\t\t} = payloadAction;\n\n\t\t\t\tif (playbookContextId && cancellationReason) {\n\t\t\t\t\tdispatch(PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_MUTATION_GQL, {\n\t\t\t\t\t\tplaybookContextId,\n\t\t\t\t\t\tplaybookExperienceId,\n\t\t\t\t\t\tcancellationReason\n\t\t\t\t\t});\n\n\t\t\t\t\tdispatch(NOW_MODAL_OPENED_SET, {\n\t\t\t\t\t\tplaybookCloseCancelModal: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[NOW_MODAL_OPENED_SET]: {\n\t\t\teffect: ({ updateProperties, updateState, action }) => {\n\t\t\t\tif (action.payload.playbookCloseCancelModal) {\n\t\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\t\tpath: 'cancelPlaybookContext',\n\t\t\t\t\t\toperation: 'assign',\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\tsysId: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tcancellationReason: ''\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t}\n};\n","import {\n\tDECLARATIVE_ACTION,\n\tNOW_BUTTON_ICONIC_CLICKED,\n\tNOW_DROPDOWN_ITEM_CLICKED\n} from '../../constants';\n\nconst headerClicked = {\n\teffect: ({ action: { payload }, dispatch }) => {\n\t\tconst { action, item, model } = payload;\n\n\t\tif (item && !item.disabled) {\n\t\t\tdispatch(DECLARATIVE_ACTION, { action: item, model });\n\t\t} else if (action && !action.disabled) {\n\t\t\tdispatch(DECLARATIVE_ACTION, { action, model });\n\t\t}\n\t},\n\tstopPropagation: true\n};\n\nexport const declarativeActionsHeaderClickedBehavior = {\n\tname: 'declarativeActionsHeaderClickedBehavior',\n\tactionHandlers: {\n\t\t[NOW_DROPDOWN_ITEM_CLICKED]: headerClicked,\n\t\t[NOW_BUTTON_ICONIC_CLICKED]: headerClicked\n\t}\n};\n","import { NOW_TEXTAREA_INPUT } from '../../constants';\n\nexport const createNowTextAreaInputBehavior = (textAreaInputField) => ({\n\tname: `nowTextAreaInputBehavior-${textAreaInputField}`,\n\tactionHandlers: {\n\t\t[NOW_TEXTAREA_INPUT]: {\n\t\t\teffect: ({ action: { payload }, updateState }) => {\n\t\t\t\tif (payload.textAreaField === textAreaInputField) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\t[textAreaInputField]: payload.fieldValue\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t}\n});\n","export { default as snLinkInterceptorBehavior } from './snLinkInterceptorBehavior';\n","import { BEHAVIOR_NAME } from './constants';\nimport actionHandlers from './actions';\nimport eventHandlers from './events';\n\n/*\n\tLink Inteceptor Behavior:\n\n\tThe host component and its child components will dispatch an action\n\t'LINK_INTERCEPTOR#SAVE_URLS' with stringified HTML values (i.e.\n\t'<div><a href=\"https://emotive.servicenow.com/\">Emotive</a></div>').\n\n\tUpon receiving the HTML values, Link Interceptor will parse out anchor\n\telements and send the collected urls to the 'link_parser' endpoint to be\n\tprocessed.\n\n\tIn the HTTP response, any valid urls will be saved, and any invalid urls\n\twill also be saved to prevent future requests with the same url.\n\n\tWhen a link element inside the host component is clicked the 'href' url\n\tof that link will be compared with the collection of valid urls. If\n\ta match is found, Link Interceptor will dispatch a 'PREVIEW_RECORD' action\n\tto open up the corresponding record inside Agent Workspace using the valid url.\n\tThe original click event will be killed.\n\n\tImplementation details:\n\n\tAPI requests to the 'link_parser' endpoint will only be made one at a time.\n\tWhile waiting for a response, any urls from newly dispatched\n\t'LINK_INTERCEPTOR#SAVE_URLS' actions will be saved to 'stagedUrls'.\n\n\tSuccessful or failed requests, in either case the Link Interceptor will check\n\tagain at 'stagedUrls' and collect any urls that have not been tried the\n\tmaximum number of allowed retries specified by the 'maxRetry' property\n\t(Default is 3). The collected urls will be used in a new API request.\n\n\tIf request is successful, valid urls will be removed from 'stagedUrls' and\n\tadded to 'capturedUrls'. Invalid urls will be added to 'invalidUrls'. Only\n\t'stagedUrls' are allowed to be included in API requests.\n\n\tThis approach ensures no duplicate urls will be saved or included in future\n\tAPI requests. This approach also gives off a sort of 'debounce' behavior where\n\twe are trying to collect as many urls at one time and making fewer requests.\n*/\n\nexport default {\n\tname: BEHAVIOR_NAME,\n\tinitialState: {\n\t\tstagedUrls: {},\n\t\tinvalidUrls: new Set(),\n\t\tcapturedUrls: {},\n\t\tisFetching: false,\n\t\ttableExceptions: ['sys_attachment'],\n\t\tmaxRetry: 3,\n\t\tdelay: 500\n\t},\n\tactionHandlers,\n\teventHandlers\n};\n","import { actionTypes } from '@servicenow/ui-core';\nimport { createHttpEffect } from '@servicenow/ui-effect-http';\nimport { get } from 'lodash';\nimport {\n\tSAVE_URLS,\n\tFETCH_BROKER,\n\tFETCH_BROKER_DELAYED,\n\tFETCH_URLS,\n\tFETCH_URLS_SUCCEEDED,\n\tFETCH_URLS_FAILED,\n\tOPEN_IN_WORKSPACE,\n\tPREVIEW_RECORD\n} from './constants';\nimport {\n\tgetBehaviorState,\n\tsetBehaviorState,\n\tcollectAnchorUrls,\n\tgetFetchableUrls,\n\taddToStagedUrls,\n\taddToInvalidUrls,\n\taddToCapturedUrls,\n\tincrementStagedUrlCount,\n\tprocessResult\n} from './utils';\n\nconst fetchBrokerEffect = ({ dispatch, state, updateState }) => {\n\tconst { stagedUrls, invalidUrls, maxRetry, isFetching } = getBehaviorState(\n\t\tstate\n\t);\n\n\tconst fetchableUrls = getFetchableUrls(stagedUrls, invalidUrls, maxRetry);\n\n\tif (isFetching || fetchableUrls.length === 0) return;\n\n\tconst newStagedUrls = incrementStagedUrlCount(stagedUrls);\n\tconst nextState = setBehaviorState(state, {\n\t\tisFetching: true,\n\t\tstagedUrls: newStagedUrls\n\t});\n\n\tdispatch(FETCH_URLS, { sysparm_link: fetchableUrls });\n\tupdateState(nextState);\n};\n\nconst fetchBrokerDelayedEffect = ({ dispatch, state }) => {\n\tconst { delay } = getBehaviorState(state);\n\tsetTimeout(() => dispatch(FETCH_BROKER), delay);\n};\n\nconst saveUrlsEffect = ({ action, dispatch, state, updateState }) => {\n\tconst behaviorState = getBehaviorState(state);\n\tconst { stagedUrls } = behaviorState;\n\tconst htmlValues = get(action, 'payload.htmlValues', []);\n\tconst newUrls = collectAnchorUrls(htmlValues, behaviorState);\n\n\tif (newUrls.length === 0) return;\n\n\tconst newStagedUrls = addToStagedUrls(stagedUrls, newUrls);\n\tconst nextState = setBehaviorState(state, { stagedUrls: newStagedUrls });\n\n\tdispatch(FETCH_BROKER_DELAYED);\n\tupdateState(nextState);\n};\n\nconst fetchUrlsSucceededEffect = ({ action, dispatch, state, updateState }) => {\n\tconst { stagedUrls, invalidUrls, capturedUrls } = getBehaviorState(state);\n\n\tconst result = get(action, 'payload.result', {});\n\n\tif (!result) return;\n\n\tconst pr = processResult(result, stagedUrls);\n\tconst newStagedUrls = pr.processedStagedUrls;\n\tconst newInvalidUrls = addToInvalidUrls(\n\t\tinvalidUrls,\n\t\tpr.processedInvalidUrls\n\t);\n\tconst newCapturedUrls = addToCapturedUrls(\n\t\tcapturedUrls,\n\t\tpr.processedCapturedUrls\n\t);\n\tconst nextState = setBehaviorState(state, {\n\t\tstagedUrls: newStagedUrls,\n\t\tinvalidUrls: newInvalidUrls,\n\t\tcapturedUrls: newCapturedUrls,\n\t\tisFetching: false\n\t});\n\n\tdispatch(FETCH_BROKER_DELAYED);\n\tupdateState(nextState);\n};\n\nconst fetchUrlsFailedEffect = ({ dispatch, state, updateState }) => {\n\tconst nextState = setBehaviorState(state, { isFetching: false });\n\tdispatch(FETCH_BROKER_DELAYED);\n\tupdateState(nextState);\n};\n\nconst openInWorkSpaceEffect = ({ action, dispatch }) => {\n\tconst { table, sysId } = action.payload || {};\n\n\tif (table && sysId) dispatch(PREVIEW_RECORD, { table, sys_id: sysId }); // Agent workspace sys_id is snake_cased\n};\n\nconst componentConnectedEffect = ({ action, state, updateState }) => {\n\tconst options = get(action, 'payload.options', {});\n\tconst { tableExceptions, maxRetry, delay } = options;\n\tconst nextState = setBehaviorState(state, {\n\t\t...(Array.isArray(tableExceptions) && { tableExceptions }),\n\t\t...(typeof maxRetry === 'number' && { maxRetry }),\n\t\t...(typeof delay === 'number' && { delay })\n\t});\n\n\tupdateState(nextState);\n};\n\nexport default {\n\t[SAVE_URLS]: {\n\t\teffect: saveUrlsEffect,\n\t\tstopPropagation: true\n\t},\n\t[FETCH_BROKER]: fetchBrokerEffect,\n\t[FETCH_BROKER_DELAYED]: fetchBrokerDelayedEffect,\n\t[FETCH_URLS]: createHttpEffect('/api/now/ui/link_parser', {\n\t\tmethod: 'POST',\n\t\tqueryParams: ['sysparm_link'],\n\t\tbatch: true,\n\t\tsuccessActionType: FETCH_URLS_SUCCEEDED,\n\t\terrorActionType: FETCH_URLS_FAILED\n\t}),\n\t[FETCH_URLS_SUCCEEDED]: fetchUrlsSucceededEffect,\n\t[FETCH_URLS_FAILED]: fetchUrlsFailedEffect,\n\t[OPEN_IN_WORKSPACE]: {\n\t\teffect: openInWorkSpaceEffect,\n\t\tstopPropagation: true\n\t},\n\t[actionTypes.COMPONENT_CONNECTED]: componentConnectedEffect\n};\n","module.exports = __TECTONIC__$servicenow_ui_effect_http;","import { get } from 'lodash';\nimport { OPEN_IN_WORKSPACE, INVALID_URL_TYPE } from './constants';\nimport { getBehaviorState, getCleanedUrl, killEvent } from './utils';\n\nexport default [\n\t{\n\t\tevents: ['click'],\n\t\teffect({ action, dispatch, state }) {\n\t\t\tconst event = get(action, 'payload.event', null);\n\n\t\t\tif (!event) return;\n\n\t\t\tconst {\n\t\t\t\tstagedUrls,\n\t\t\t\tcapturedUrls,\n\t\t\t\ttableExceptions\n\t\t\t} = getBehaviorState(state);\n\n\t\t\tconst path = event.composedPath() || event.path || [];\n\t\t\tconst anchor = path.find((el) => el && el.tagName === 'A');\n\n\t\t\tif (!anchor || !anchor.getAttribute('href')) return;\n\n\t\t\tconst url = getCleanedUrl(anchor.getAttribute('href'));\n\t\t\tconst captured = capturedUrls[url];\n\t\t\tconst isOpenInNewTab =\n\t\t\t\tevent.ctrlKey ||\n\t\t\t\tevent.shiftKey ||\n\t\t\t\tevent.metaKey ||\n\t\t\t\t(event.button && event.button === 1);\n\n\t\t\tif (\n\t\t\t\tisOpenInNewTab ||\n\t\t\t\t!captured ||\n\t\t\t\tstagedUrls.hasOwnProperty(url) ||\n\t\t\t\t(captured.type || '') === INVALID_URL_TYPE\n\t\t\t)\n\t\t\t\treturn;\n\n\t\t\tconst table = get(captured, 'type_metadata.table', '');\n\t\t\tconst sysId = get(captured, 'type_metadata.sys_id', '');\n\t\t\tconst sysKbId = get(captured, 'query_params.sys_kb_id', '');\n\n\t\t\tif (table && sysId && !tableExceptions.includes(table)) {\n\t\t\t\tkillEvent(event);\n\t\t\t\tdispatch(OPEN_IN_WORKSPACE, { table, sysId });\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tsysKbId &&\n\t\t\t\tcaptured.type === 'UIPAGE' &&\n\t\t\t\tcaptured.url.includes('kb_view.do')\n\t\t\t) {\n\t\t\t\tkillEvent(event);\n\t\t\t\tdispatch(OPEN_IN_WORKSPACE, {\n\t\t\t\t\ttable: 'kb_knowledge',\n\t\t\t\t\tsysId: sysKbId\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n];\n","export { default as snPanelNavigationBehavior } from './snPanelNavigationBehavior';\n","import { PANEL_NAVIGATION_BEHAVIOR_NAME } from './constants';\nimport actionHandlers from './actions';\nimport eventHandlers from './events';\n\nexport default {\n\tname: PANEL_NAVIGATION_BEHAVIOR_NAME,\n\tinitialState: {\n\t\tnavMap: {},\n\t\tfocusNavId: ''\n\t},\n\tactionHandlers,\n\teventHandlers\n};\n","import { get } from 'lodash';\nimport {\n\tPANEL_NAVIGATION_UPDATE_MAP,\n\tPANEL_NAVIGATION_TAKE_FOCUS\n} from './constants';\n\nexport default {\n\t[PANEL_NAVIGATION_UPDATE_MAP]: ({\n\t\tstate: { navMap },\n\t\taction: {\n\t\t\tpayload: { mapKey, mapEntry, operation = 'assign' }\n\t\t},\n\t\tupdateState\n\t}) => {\n\t\tconst { [mapKey]: currentMapEntry } = navMap || {};\n\t\tfor (let entryKey in mapEntry)\n\t\t\tif (\n\t\t\t\t!navMap ||\n\t\t\t\t!currentMapEntry ||\n\t\t\t\t!currentMapEntry[entryKey] ||\n\t\t\t\tcurrentMapEntry[entryKey] !== mapEntry[entryKey]\n\t\t\t)\n\t\t\t\treturn updateState({\n\t\t\t\t\tpath: `navMap.${mapKey}`,\n\t\t\t\t\tvalue: mapEntry,\n\t\t\t\t\toperation\n\t\t\t\t});\n\t},\n\t[PANEL_NAVIGATION_TAKE_FOCUS]: ({ state: { navMap, focusNavId } }) => {\n\t\tconst navData = get(navMap, focusNavId);\n\n\t\tif (navData && navData.domRef) navData.domRef.focus();\n\t}\n};\n","import { get } from 'lodash';\nimport { EVENT_KEY } from '../../constants';\nimport {\n\tPANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID,\n\tPANEL_NAVIGATION_TAKE_FOCUS\n} from './constants';\n\nconst handleArrowKey = (\n\tnavMap,\n\tnavId,\n\tdirection,\n\tdispatch,\n\tonFocusDispatchId,\n\tdispatchSource\n) => {\n\tconst navData = get(navMap, navId);\n\tconst navIdOrData = navData && navData[direction];\n\tconst data =\n\t\tnavIdOrData &&\n\t\t(typeof navIdOrData === 'object'\n\t\t\t? navIdOrData\n\t\t\t: get(navMap, navIdOrData));\n\n\tif (data && data.domRef) data.domRef.focus();\n\telse if (data && data.dispatchId)\n\t\tdispatch(data.dispatchId, { source: data.source });\n\telse if (onFocusDispatchId && onFocusDispatchId.hasOwnProperty(direction))\n\t\tdispatch(onFocusDispatchId[direction], {\n\t\t\tsource: dispatchSource\n\t\t});\n\n\treturn navIdOrData && typeof navIdOrData === 'string' ? navIdOrData : navId;\n};\n\nexport default [\n\t{\n\t\tevents: ['click'],\n\t\teffect({\n\t\t\taction: {\n\t\t\t\tpayload: { event: e }\n\t\t\t},\n\t\t\tstate: { navMap, focusNavId },\n\t\t\tupdateState\n\t\t}) {\n\t\t\tconst ePath = e.composedPath();\n\t\t\tconst navElement =\n\t\t\t\tePath &&\n\t\t\t\tePath.find((elm) => elm && elm.dataset && elm.dataset.nav);\n\t\t\tconst navId = navElement && get(navElement, 'dataset.nav');\n\n\t\t\tif (navId && navId !== focusNavId && get(navMap, navId))\n\t\t\t\tupdateState({ focusNavId: navId });\n\t\t}\n\t},\n\t{\n\t\tevents: ['focus'],\n\t\teffect({\n\t\t\taction: {\n\t\t\t\tpayload: { event: e }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) {\n\t\t\tconst ePath = e.composedPath();\n\t\t\tlet navId = get(ePath, '[0].dataset.nav');\n\n\t\t\tif (navId === PANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID)\n\t\t\t\tdispatch(PANEL_NAVIGATION_TAKE_FOCUS);\n\t\t}\n\t},\n\t{\n\t\tevents: ['keydown'],\n\t\teffect({\n\t\t\taction: {\n\t\t\t\tpayload: { event: e }\n\t\t\t},\n\t\t\tproperties: { dir },\n\t\t\tstate: { navMap, focusNavId, onFocusDispatchId, dispatchSource },\n\t\t\tdispatch,\n\t\t\tupdateState\n\t\t}) {\n\t\t\tconst ePath = e.composedPath();\n\t\t\tlet navId = get(ePath, '[0].dataset.nav');\n\n\t\t\tif (!navId && ePath && ePath[0].tagName === 'BUTTON') {\n\t\t\t\tconst elm = ePath.find(\n\t\t\t\t\t(elm) => elm && elm.dataset && elm.dataset.nav\n\t\t\t\t);\n\t\t\t\tnavId = elm && elm.dataset && elm.dataset.nav;\n\t\t\t}\n\n\t\t\tconst navData = get(navMap, navId);\n\n\t\t\tswitch (e.key) {\n\t\t\t\tcase EVENT_KEY.HOME:\n\t\t\t\t\tlet upNavId = navData && navData.up;\n\t\t\t\t\tlet upData = null;\n\n\t\t\t\t\twhile (upNavId) {\n\t\t\t\t\t\tupData = get(navMap, upNavId);\n\t\t\t\t\t\tupNavId = upData && upData.up;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (upData && upData.domRef) {\n\t\t\t\t\t\tupData.domRef.focus();\n\t\t\t\t\t\tnavId = upNavId;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase EVENT_KEY.ARROW.UP:\n\t\t\t\t\tnavId = handleArrowKey(\n\t\t\t\t\t\tnavMap,\n\t\t\t\t\t\tnavId,\n\t\t\t\t\t\t'up',\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tonFocusDispatchId,\n\t\t\t\t\t\tdispatchSource\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase EVENT_KEY.ARROW.DOWN:\n\t\t\t\t\tnavId = handleArrowKey(\n\t\t\t\t\t\tnavMap,\n\t\t\t\t\t\tnavId,\n\t\t\t\t\t\t'down',\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tonFocusDispatchId,\n\t\t\t\t\t\tdispatchSource\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase EVENT_KEY.END:\n\t\t\t\t\tlet downNavId = navData && navData.down;\n\t\t\t\t\tlet downData = null;\n\n\t\t\t\t\twhile (downNavId) {\n\t\t\t\t\t\tdownData = get(navMap, downNavId);\n\t\t\t\t\t\tdownNavId = downData && downData.down;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (downData && downData.domRef) {\n\t\t\t\t\t\tdownData.domRef.focus();\n\t\t\t\t\t\tnavId = downNavId;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase EVENT_KEY.ARROW.LEFT:\n\t\t\t\t\tnavId = handleArrowKey(\n\t\t\t\t\t\tnavMap,\n\t\t\t\t\t\tnavId,\n\t\t\t\t\t\tdir === 'rtl' ? 'right' : 'left',\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tonFocusDispatchId,\n\t\t\t\t\t\tdispatchSource\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase EVENT_KEY.ARROW.RIGHT:\n\t\t\t\t\tnavId = handleArrowKey(\n\t\t\t\t\t\tnavMap,\n\t\t\t\t\t\tnavId,\n\t\t\t\t\t\tdir === 'rtl' ? 'left' : 'right',\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tonFocusDispatchId,\n\t\t\t\t\t\tdispatchSource\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase EVENT_KEY.TAB:\n\t\t\t\tcase EVENT_KEY.PAGE.UP:\n\t\t\t\tcase EVENT_KEY.PAGE.DOWN:\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newNavData = navId && get(navMap, navId);\n\n\t\t\tif (newNavData && newNavData.domRef && navId !== focusNavId)\n\t\t\t\tupdateState({ focusNavId: navId });\n\t\t}\n\t}\n];\n","import { get } from 'lodash';\nimport {\n\tPLAYBOOK_ACTIONS_DROPDOWN_OPENED_SET,\n\tPLAYBOOK_STAGE_ACTIONS_DROPDOWN_OPENED_SET\n} from '../../constants';\n\nexport const stageSelectorActionsDropdownBehavior = {\n\tname: 'stageSelectorActionsDropdownBehavior',\n\tactionHandlers: {\n\t\t[PLAYBOOK_ACTIONS_DROPDOWN_OPENED_SET]: {\n\t\t\teffect: ({ action, updateState }) => {\n\t\t\t\tconst { openedState = false } = get(action, 'payload', {});\n\n\t\t\t\tupdateState({\n\t\t\t\t\tplaybookActionsDropdownOpened: openedState\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[PLAYBOOK_STAGE_ACTIONS_DROPDOWN_OPENED_SET]: {\n\t\t\teffect: ({ action, updateState }) => {\n\t\t\t\tconst { openedState = false, stageName } = get(\n\t\t\t\t\taction,\n\t\t\t\t\t'payload',\n\t\t\t\t\t{}\n\t\t\t\t);\n\n\t\t\t\tupdateState({\n\t\t\t\t\topenedActionsDropdownByStageName: openedState\n\t\t\t\t\t\t? stageName\n\t\t\t\t\t\t: null\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t}\n\t}\n};\n","import { transformer } from '@devsnc/sn-declarative-actions';\n\nexport const createTransformDeclarativeActionsBehavior = (transformer) => (\n\tcomputedModel\n) => ({\n\tname: 'transformDeclarativeActionsBehavior',\n\tproperties: {\n\t\tdeclarativeModel: { computed: computedModel },\n\t\tdeclarativeActions: {\n\t\t\tdefault: []\n\t\t},\n\t\ttransformedDeclarativeActions: {\n\t\t\tcomputed({\n\t\t\t\tproperties: {\n\t\t\t\t\tdeclarativeActions = [],\n\t\t\t\t\tdeclarativeModel = {}\n\t\t\t\t} = {}\n\t\t\t}) {\n\t\t\t\tif (declarativeActions.length === 0) return [];\n\n\t\t\t\tconst transformedDeclarativeActions = transformer(\n\t\t\t\t\tdeclarativeActions,\n\t\t\t\t\tdeclarativeModel\n\t\t\t\t);\n\t\t\t\treturn transformedDeclarativeActions;\n\t\t\t}\n\t\t}\n\t}\n});\n\nexport const createTransformDeclarativeActionsBehaviorFromModel = createTransformDeclarativeActionsBehavior(\n\ttransformer\n);\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.sn-playbook-card-header-actions{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;right:2.5rem;top:.5rem;padding:0;min-height:32px}.sn-playbook-card-header-actions .action-icon,.sn-playbook-card-header-actions .card-header-dropdown{display:flex;position:relative;margin:0}.sn-playbook-card-header-actions .playbook-sla{display:flex;position:relative;margin:0;margin-right:.5rem}\", \"\"]);\n\n// exports\n","import '@servicenow/now-button';\nimport '@servicenow/now-dropdown';\nimport { t } from 'sn-translate';\n\nconst view = ({\n\tproperties: {\n\t\tassociatedSysId,\n\t\theaderIconActions,\n\t\theaderDropdownActions,\n\t\tdeclarativeModel,\n\t\tformFieldItems,\n\t\tshowSla,\n\t\tslaConfiguration\n\t}\n}) => (\n\t<div className=\"sn-playbook-card-header-actions\">\n\t\t{showSla && associatedSysId ? (\n\t\t\t<now-sla-timer\n\t\t\t\tclassName=\"playbook-sla\"\n\t\t\t\ttask={associatedSysId}\n\t\t\t\tconfiguration={slaConfiguration}\n\t\t\t/>\n\t\t) : null}\n\n\t\t{headerIconActions\n\t\t\t? headerIconActions.map((action) => (\n\t\t\t\t<now-button-iconic\n\t\t\t\t\tclassName={'action-icon'}\n\t\t\t\t\ticon={action.icon}\n\t\t\t\t\tdisabled={action.disabled}\n\t\t\t\t\ttooltipContent={action.tooltip}\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tbare={true}\n\t\t\t\t\thidePadding={true}\n\t\t\t\t\tconfigAria={{\n\t\t\t\t\t\tbutton: {\n\t\t\t\t\t\t\t'aria-label': action.tooltip\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tappend-to-payload={{\n\t\t\t\t\t\taction,\n\t\t\t\t\t\tmodel: {\n\t\t\t\t\t\t\t...declarativeModel,\n\t\t\t\t\t\t\tfields: formFieldItems\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t  ))\n\t\t\t: null}\n\n\t\t{headerDropdownActions.length ? (\n\t\t\t<now-dropdown\n\t\t\t\titems={headerDropdownActions}\n\t\t\t\ticon=\"ellipsis-v-fill\"\n\t\t\t\tsize=\"sm\"\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tselect=\"none\"\n\t\t\t\tbare={true}\n\t\t\t\thideCaret={true}\n\t\t\t\ttooltipContent={t('More actions')}\n\t\t\t\tconfigAria={{\n\t\t\t\t\t'aria-label': t('More actions')\n\t\t\t\t}}\n\t\t\t\tclassName={'card-header-dropdown'}\n\t\t\t\tappend-to-payload={{\n\t\t\t\t\tmodel: {\n\t\t\t\t\t\t...declarativeModel,\n\t\t\t\t\t\tfields: formFieldItems\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t) : null}\n\t</div>\n);\n\nexport default view;\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport actionHandlers from './actions';\nimport styles from './styles.scss';\nimport view from './view';\n\ncreateCustomElement('sn-playbook-card-loader', {\n\trenderer: { type: snabbdom, view },\n\tstyles,\n\tinitialState: {\n\t\tanimation: null\n\t},\n\tproperties: {\n\t\tloading: {\n\t\t\tdefault: false\n\t\t},\n\t\tactivityState: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\tactionHandlers\n});\n","import { actionTypes } from '@servicenow/ui-core';\nimport {\n\tANIMATE_CARD_STATE_CHANGES,\n\tCARD_STATE_VALUES,\n\tPLAYBOOK_ACTIVITY_ANIMATION_END,\n\tPLAYBOOK_CARD_VIEW_MODE_CHANGE\n} from '../../constants';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst actionHandlers = {\n\t[PLAYBOOK_ACTIVITY_ANIMATION_END]: ({ dispatch, updateState }) => {\n\t\tupdateState({ animation: null });\n\n\t\tdispatch(PLAYBOOK_CARD_VIEW_MODE_CHANGE, { expanded: false });\n\t},\n\t[COMPONENT_PROPERTY_CHANGED]: ({ action, updateState }) => {\n\t\tif (\n\t\t\taction.payload.name === 'activityState' &&\n\t\t\taction.payload.previousValue.value ===\n\t\t\t\tCARD_STATE_VALUES.IN_PROGRESS.value &&\n\t\t\tObject.keys(ANIMATE_CARD_STATE_CHANGES).includes(\n\t\t\t\taction.payload.value.value\n\t\t\t)\n\t\t) {\n\t\t\tupdateState({\n\t\t\t\tanimation:\n\t\t\t\t\tANIMATE_CARD_STATE_CHANGES[action.payload.value.value]\n\t\t\t});\n\t\t}\n\t}\n};\n\nexport default actionHandlers;\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}@keyframes pop-in{0%{transform:scale(.5)}40%{transform:scale(1.4)}50%{transform:scale(1)}}@keyframes fade-out{0%{opacity:1}66%{opacity:1}to{opacity:0}}.sn-playbook-card-loader{align-items:center;background-color:RGBA(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)),0);bottom:0;display:flex;justify-content:center;left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:all .3s cubic-bezier(.075,.82,.165,1)}.sn-playbook-card-loader.show{background-color:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)),.9);opacity:1;pointer-events:all;transition:background-color .3s cubic-bezier(.075,.82,.165,1);z-index:10}.sn-playbook-card-loader-content{display:grid;gap:0;grid-template-rows:.5fr min-content;grid-template-areas:\\\"icon\\\" \\\"text\\\";justify-items:center;opacity:0;font-size:.75rem;transform:translateY(.5rem);transition:opacity .3s cubic-bezier(.77,0,.175,1),transform .3s cubic-bezier(.77,0,.175,1);transition-delay:.1s}.sn-playbook-card-loader-content.show{opacity:1;transform:translateY(0)}.sn-playbook-card-loader-content.is-completed{animation-name:fade-out;animation-duration:1.5s;opacity:0}.sn-playbook-card-loader-content span{-ms-grid-row:3;-ms-grid-column:1;position:relative;grid-area:text;margin-block-start:.5rem;transition:opacity .3s cubic-bezier(.77,0,.175,1),transform .3s cubic-bezier(.77,0,.175,1)}.sn-playbook-card-loader-content span.is-hidden{display:none}.sn-playbook-card-loader-content span.is-completed{opacity:1;transform:translateY(0)}.sn-playbook-card-loader-content span.is-completed:not(.is-hidden){transform:translateY(0)}.sn-playbook-card-loader-content span.is-completed:not(.is-hidden)+span{opacity:0;transform:translateY(-.5rem)}.sn-playbook-card-loader-icon{-ms-grid-row:1;-ms-grid-column:1;top:50%;left:50%;color:RGB(var(--now-color--primary-1,30,133,109));grid-area:icon}.sn-playbook-card-loader-icon.is-hidden{display:none}.sn-playbook-card-loader-icon.is-completed{animation-name:pop-in;animation-duration:.5s}.sn-playbook-card-loader-icon.is-completed:not(.is-hidden)+.sn-playbook-card-loader-icon{display:none}\", \"\"]);\n\n// exports\n","import '@servicenow/now-loader';\nimport { get, isNil } from 'lodash';\nimport {\n\tLOADING_TEXT_DEFAULT,\n\tPLAYBOOK_ACTIVITY_ANIMATION_END\n} from '../../constants';\n\nconst view = ({ properties: { loading }, animation }, { dispatch }) => {\n\tconst animationIcon = get(animation, 'icon', '');\n\tconst animationText = get(animation, 'text', '');\n\n\treturn (\n\t\t<div\n\t\t\tclass={{\n\t\t\t\t['loader-layer']: true,\n\t\t\t\t['sn-playbook-card-loader']: true,\n\t\t\t\tshow: loading || !isNil(animation)\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclass={{\n\t\t\t\t\t['loader']: true,\n\t\t\t\t\t['sn-playbook-card-loader-content']: true,\n\t\t\t\t\tshow: loading || !isNil(animation),\n\t\t\t\t\t['is-completed']: !isNil(animation)\n\t\t\t\t}}\n\t\t\t\ton-animationend={(e) => {\n\t\t\t\t\tif (e.animationName === 'fade-out') {\n\t\t\t\t\t\tdispatch(PLAYBOOK_ACTIVITY_ANIMATION_END);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<now-icon\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t['sn-playbook-card-loader-icon']: true,\n\t\t\t\t\t\t['is-completed']: !isNil(animation),\n\t\t\t\t\t\t['is-hidden']: isNil(animation)\n\t\t\t\t\t}}\n\t\t\t\t\ticon={animationIcon}\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t/>\n\t\t\t\t<now-loader\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t['sn-playbook-card-loader-icon']: true,\n\t\t\t\t\t\t['is-hidden']: !loading\n\t\t\t\t\t}}\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t/>\n\n\t\t\t\t<span\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t['is-completed']: !isNil(animation),\n\t\t\t\t\t\t['is-hidden']: isNil(animation)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{animationText}\n\t\t\t\t</span>\n\t\t\t\t<span\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t['is-hidden']: !loading\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{LOADING_TEXT_DEFAULT}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default view;\n","export { HeaderActivityState } from './HeaderActivityState';\n","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-icon';\nimport '../../../../components/now-playbook-radial-progress';\nimport { t } from 'sn-translate';\n\nexport const HeaderActivityState = ({ activityState, showActivityState }) => (\n\t<Fragment>\n\t\t{activityState.value === 'CANCELLED' ? (\n\t\t\t<now-icon icon=\"triangle-exclamation-outline\" size=\"sm\" />\n\t\t) : activityState.value === 'SKIPPED' ? (\n\t\t\t<now-icon icon=\"circle-next-outline\" size=\"sm\" />\n\t\t) : activityState.value === 'PENDING' ? (\n\t\t\t<now-icon icon=\"change-fill\" size=\"sm\" />\n\t\t) : activityState.value === 'ERROR' ? (\n\t\t\t<now-icon icon=\"ban-fill\" size=\"sm\" />\n\t\t) : (\n\t\t\t<now-playbook-radial-progress\n\t\t\t\tsize={'sm'}\n\t\t\t\tprogress={\n\t\t\t\t\tactivityState.value === 'IN_PROGRESS'\n\t\t\t\t\t\t? 0.5\n\t\t\t\t\t\t: activityState.value === 'COMPLETE'\n\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t: 0\n\t\t\t\t}\n\t\t\t\tclassName={'radial-progress'}\n\t\t\t/>\n\t\t)}\n\t\t<label\n\t\t\tclass={{\n\t\t\t\t'card-state': true,\n\t\t\t\t'is-in-progress': activityState.value === 'IN_PROGRESS'\n\t\t\t}}\n\t\t\ttitle={activityState.displayValue}\n\t\t\taria-label={t('Activity State: {0}', activityState.displayValue)}\n\t\t>\n\t\t\t{showActivityState ? activityState.displayValue : null}\n\t\t</label>\n\t</Fragment>\n);\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport view from './view';\nimport styles from './styles.scss';\n\nconst strokeWidthFromSize = { sm: 5.333, md: 4.8, lg: 4.267, xl: 4 };\nconst getColorStyle = (color, properties = ['stroke']) =>\n\tcolor\n\t\t? properties.map((property) => `${property}: ${color}`).join(';')\n\t\t: '';\n\ncreateCustomElement('now-playbook-radial-progress', {\n\trenderer: { type: snabbdom, view },\n\tproperties: {\n\t\tprogress: {\n\t\t\tdefault: 0,\n\t\t\tschema: { type: 'number', minimum: 0, maximum: 1 }\n\t\t},\n\t\tsize: {\n\t\t\tdefault: 'xl',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['sm', 'md', 'lg', 'xl']\n\t\t\t}\n\t\t},\n\t\tcolor: { schema: { type: 'string' } },\n\t\tbackRingColor: { schema: { type: 'string' } },\n\t\tcheckmarkColor: { schema: { type: 'string' } },\n\t\tcheckmarkCompleteColor: { schema: { type: 'string' } },\n\t\tshowCompleteIcon: {\n\t\t\tdefault: false,\n\t\t\tschema: {\n\t\t\t\ttype: 'boolean'\n\t\t\t}\n\t\t},\n\t\tisComplete: {\n\t\t\tcomputed({ properties: { progress } }) {\n\t\t\t\treturn progress >= 1;\n\t\t\t}\n\t\t},\n\t\tring: {\n\t\t\tcomputed({ properties: { size } }) {\n\t\t\t\tconst radius = 16 - 0.5 * strokeWidthFromSize[size];\n\t\t\t\treturn {\n\t\t\t\t\tradius,\n\t\t\t\t\tstrokeWidth: strokeWidthFromSize[size],\n\t\t\t\t\tcircumference: 2 * Math.PI * radius\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tbackRingAttributes: {\n\t\t\tcomputed({ properties: { backRingColor, ring } }) {\n\t\t\t\treturn {\n\t\t\t\t\tcx: 16,\n\t\t\t\t\tcy: 16,\n\t\t\t\t\tr: ring.radius,\n\t\t\t\t\t'stroke-width': ring.strokeWidth,\n\t\t\t\t\tstyle: getColorStyle(backRingColor)\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tprogressRingAttributes: {\n\t\t\tcomputed({ properties: { progress, isComplete, color, ring } }) {\n\t\t\t\treturn {\n\t\t\t\t\tcx: 16,\n\t\t\t\t\tcy: 16,\n\t\t\t\t\tr: ring.radius,\n\t\t\t\t\t'stroke-width': ring.strokeWidth,\n\t\t\t\t\t'stroke-dasharray': ring.circumference,\n\t\t\t\t\t'stroke-dashoffset': (\n\t\t\t\t\t\tring.circumference *\n\t\t\t\t\t\t(1 - progress)\n\t\t\t\t\t).toFixed(3),\n\t\t\t\t\tstyle: isComplete\n\t\t\t\t\t\t? getColorStyle(color, ['stroke', 'fill'])\n\t\t\t\t\t\t: getColorStyle(color)\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tcheckmarkAttributes: {\n\t\t\tcomputed({\n\t\t\t\tproperties: {\n\t\t\t\t\tsize,\n\t\t\t\t\tisComplete,\n\t\t\t\t\tcheckmarkColor,\n\t\t\t\t\tcheckmarkCompleteColor\n\t\t\t\t}\n\t\t\t}) {\n\t\t\t\treturn {\n\t\t\t\t\tpoints: [7.5, 16.8, 12.5, 22, 24.4, 10].join(','),\n\t\t\t\t\t'stroke-width': 0.57 * strokeWidthFromSize[size],\n\t\t\t\t\tstyle: getColorStyle(\n\t\t\t\t\t\tisComplete ? checkmarkCompleteColor : checkmarkColor\n\t\t\t\t\t)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\tstyles\n});\n","import '@servicenow/now-icon';\n\nconst view = ({\n\tproperties: {\n\t\tsize,\n\t\tshowCompleteIcon,\n\t\tisComplete: complete,\n\t\tbackRingAttributes,\n\t\tprogressRingAttributes,\n\t\tcheckmarkAttributes\n\t}\n}) => (\n\t<div className={ 'size-' + size }>\n\t\t{ complete && showCompleteIcon ? (\n\t\t\t<now-icon\n\t\t\t\ticon=\"circle-check-fill\"\n\t\t\t\tsize={ size }\n\t\t\t\tclassName={ 'complete-icon' }\n\t\t\t/>\n\t\t) : (\n\t\t\t<svg\n\t\t\t\tclass={{ complete }}\n\t\t\t\tattrs={{\n\t\t\t\t\txmlns: 'http://www.w3.org/2000/svg',\n\t\t\t\t\tviewBox: '0 0 32 32',\n\t\t\t\t\tpreserveAspectRatio: 'xMidYMin slice'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<circle\n\t\t\t\t\tclass={{ 'back-ring': true, complete }}\n\t\t\t\t\tattrs={{ ...backRingAttributes }}\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tclass={{ 'progress-ring': true, complete }}\n\t\t\t\t\tattrs={{ ...progressRingAttributes }}\n\t\t\t\t/>\n\t\t\t\t<polyline\n\t\t\t\t\tclass={{ checkmark: true, complete }}\n\t\t\t\t\tattrs={{ ...checkmarkAttributes }}\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t)}\n\t</div>\n);\n\nexport default view;\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host{line-height:0}:host,div{display:inline-block;margin:0;padding:0;border:none;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}div{position:relative;box-sizing:border-box}div.size-sm{width:.75rem;height:.75rem}div.size-md{width:1rem;height:1rem}div.size-lg{width:1.5rem;height:1.5rem}div.size-xl{width:2rem;height:2rem}div .complete-icon{margin:0;color:RGB(var(--now-color--secondary-1,1,119,142))}div .complete-icon,div svg{position:absolute;left:0;top:0}div svg{width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}div svg.complete{left:.0625rem;top:.0625rem;width:93.75%}div svg .back-ring{fill:none;stroke:RGBA(var(--now-color--secondary-1,1,119,142),.5);shape-rendering:geometricPrecision;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}div svg .back-ring.complete{visibility:hidden}div svg .progress-ring{fill:none;stroke:RGB(var(--now-color--secondary-1,1,119,142));transform-origin:center;transform:rotate(-90deg);shape-rendering:geometricPrecision;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}div svg .progress-ring.complete{fill:RGB(var(--now-color--secondary-1,1,119,142))}div svg .checkmark{fill:none;stroke:transparent;shape-rendering:geometricPrecision;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}div svg .checkmark.complete{stroke:RGB(var(--now-color--neutral-0,255,255,255))}\", \"\"]);\n\n// exports\n","export { default as snPlaybookDADataProvider } from './sn-playbook-declarative_actions-data-provider';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { preWsConfigSysId } from 'sn-uxpage-presource';\nimport { daActionHandlers } from './actions';\n\n/**\n * ## Declarative Actions Data Provider\n *\n * Loads declarative actions for a given card by:\n * - Table (associated-table)\n * - SysId (associated-sys-id)\n * - Parent Record Table (input-table)\n * - Parent Record SysId (input-sys-id)\n *\n * Activity Properties:\n * associated-table, associated sys-id, input-table, input-sys-id, declarative-actions(selectable)\n *\n * There is one declarative action data provider for each card.\n *\n * @summary Declarative Action Data Provider for cards.\n * @seismicElement sn-playbook-declarative-actions-data-provider\n */\nexport default createCustomElement(\n\t'sn-playbook-declarative-actions-data-provider',\n\t{\n\t\trenderer: {\n\t\t\ttype: snabbdom,\n\t\t\tview: () => <slot />\n\t\t},\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * the table name of the record\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tassociatedTable: { default: '' },\n\t\t\t/**\n\t\t\t * the sys_id of the record\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tassociatedSysId: { default: '' },\n\t\t\t/**\n\t\t\t * the table of the parent record\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tparentTable: { default: '' },\n\t\t\t/**\n\t\t\t * the sys_id of the parent record\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tparentSysId: { default: '' },\n\t\t\t/**\n\t\t\t * the view to display record in\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tview: { default: '' },\n\t\t\t/**\n\t\t\t * Declarative Actions selector\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tdeclarativeActions: {\n\t\t\t\tselectable: true,\n\t\t\t\tdefault: []\n\t\t\t},\n\t\t\t/**\n\t\t\t * We need to reload Declarative Actions when we re-fetch an Activity Context\n\t\t\t * but only if its Activity Properties or Associated Record has changed, these\n\t\t\t * are used to evaluate the conditions on a Declarative Action\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\tactivityProperties: { default: {} },\n\t\t\t/**\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\tassociatedRecordModCount: { default: 0 },\n\t\t\t/**\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tplaybookExperienceId: { default: '' },\n\t\t\t/**\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tmodelId: { default: '' },\n\n\t\t\t/**\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tactivityDefinitionId: { default: '' },\n\n\t\t\t/**\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\tparentRecordUpdateTime: { default: 0 }\n\t\t},\n\t\tinitialState: { workspaceConfigId: '' },\n\t\tactionHandlers: daActionHandlers,\n\t\tbehaviors: [preWsConfigSysId]\n\t}\n);\n","import { actionTypes } from '@servicenow/ui-core';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { get } from 'lodash';\nimport { preWsConfigSysId } from 'sn-uxpage-presource';\nimport {\n\tGLOBAL_TABLE,\n\tPLAYBOOK_BOOTSTRAP_DECLARATIVE_ACTIONS,\n\tPLAYBOOK_ERROR,\n\tPLAYBOOK_FETCH_DECLARATIVE_ACTIONS,\n\tPLAYBOOK_FETCH_DECLARATIVE_ACTIONS_SUCCEEDED\n} from '../../../constants';\nimport {\n\tdeclarativeActionQuery,\n\tdeclarativeActionResponse\n} from './declarative-action-query';\n\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED } = actionTypes;\n\nconst excludedPropertyChanges = [\n\t// When we receive and save new declarativeActions we don't want to trigger\n\t// another refetch\n\t'declarativeActions'\n];\n\nconst fetchPlaybookDeclarativeActionsSucceededEffect = ({\n\taction,\n\tupdateProperties\n}) => {\n\tif (action.payload.errors && action.payload.errors.length) return null;\n\n\tconst declarativeActions = get(\n\t\taction,\n\t\t`payload.${declarativeActionResponse}`,\n\t\t[]\n\t);\n\tupdateProperties({ declarativeActions });\n};\n\nconst fetchPlaybookDeclarativeActions = createGraphQLEffect(\n\tdeclarativeActionQuery,\n\t{\n\t\tvariableList: [\n\t\t\t'table',\n\t\t\t'sysId',\n\t\t\t'view',\n\t\t\t'source',\n\t\t\t'workspaceConfigId',\n\t\t\t'parentTable',\n\t\t\t'parentSysId',\n\t\t\t'playbookExperienceId',\n\t\t\t'activityDefinitionId'\n\t\t],\n\t\tsuccessActionType: PLAYBOOK_FETCH_DECLARATIVE_ACTIONS_SUCCEEDED,\n\t\terrorActionType: PLAYBOOK_ERROR\n\t}\n);\n\nexport const daActionHandlers = {\n\t[COMPONENT_BOOTSTRAPPED]: ({ state, dispatch, updateState }) => {\n\t\tupdateState({\n\t\t\tworkspaceConfigId: preWsConfigSysId.getPreSource(state)\n\t\t});\n\n\t\tdispatch(PLAYBOOK_BOOTSTRAP_DECLARATIVE_ACTIONS);\n\t},\n\t[COMPONENT_PROPERTY_CHANGED]: {\n\t\teffect: ({ action, dispatch }) => {\n\t\t\tconst {\n\t\t\t\tpayload: { name }\n\t\t\t} = action;\n\n\t\t\tif (!excludedPropertyChanges.includes(name))\n\t\t\t\tdispatch(PLAYBOOK_BOOTSTRAP_DECLARATIVE_ACTIONS);\n\t\t},\n\t\tmodifier: {\n\t\t\tname: 'debounce',\n\t\t\tdelay: 20\n\t\t}\n\t},\n\t[PLAYBOOK_BOOTSTRAP_DECLARATIVE_ACTIONS]: ({\n\t\tstate,\n\t\tdispatch,\n\t\tproperties\n\t}) =>\n\t\tdispatch(PLAYBOOK_FETCH_DECLARATIVE_ACTIONS, {\n\t\t\ttable: properties.associatedTable || GLOBAL_TABLE,\n\t\t\tsysId: properties.associatedSysId,\n\t\t\tview: properties.view,\n\t\t\tsource: properties.modelId,\n\t\t\tworkspaceConfigId: state.workspaceConfigId,\n\t\t\tparentTable: properties.parentTable,\n\t\t\tparentSysId: properties.parentSysId,\n\t\t\tplaybookExperienceId: properties.playbookExperienceId,\n\t\t\tactivityDefinitionId: properties.activityDefinitionId\n\t\t}),\n\t[PLAYBOOK_FETCH_DECLARATIVE_ACTIONS]: fetchPlaybookDeclarativeActions,\n\t[PLAYBOOK_FETCH_DECLARATIVE_ACTIONS_SUCCEEDED]: fetchPlaybookDeclarativeActionsSucceededEffect\n};\n","export const declarativeActionQuery = `\n\tquery ($table: String!, $sysId: String, $view: String!, $source: String!, $workspaceConfigId: String, $parentTable: String, $parentSysId: String, $playbookExperienceId: String, $activityDefinitionId: String) {\n\t\tGlideDeclarativeActions_Query {\n\t\t\tGlideDeclarativeActions_playbookQuery {\n\t\t\t\tplaybookDeclarativeActions(table: $table, sysId: $sysId, view: $view, source: $source, workspaceConfigId: $workspaceConfigId, relatedParentRecordTable: $parentTable, relatedParentRecordSysId: $parentSysId, playbookExperienceId: $playbookExperienceId, activityDefinitionId: $activityDefinitionId) {\n\t\t\t\t\tplaybookActions {\n\t\t\t\t\t\tactions {\n\t\t\t\t\t\t\tactionAttributes\n\t\t\t\t\t\t\tactionComponent\n\t\t\t\t\t\t\tactionDispatch\n\t\t\t\t\t\t\tactionPayload\n\t\t\t\t\t\t\tactionType\n\t\t\t\t\t\t\tassignmentId\n\t\t\t\t\t\t\tbuttonType\n\t\t\t\t\t\t\tconditions\n\t\t\t\t\t\t\tconfirmationMessage\n\t\t\t\t\t\t\tconfirmationRequired\n\t\t\t\t\t\t\tdependency\n\t\t\t\t\t\t\tgroupBy\n\t\t\t\t\t\t\tgroup\n\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\tmodelFieldRequired\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\torder\n\t\t\t\t\t\t\tpayloadMap {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trecordSelectionRequired\n\t\t\t\t\t\t\tformFieldsRequired\n\t\t\t\t\t\t\trequiresValue\n\t\t\t\t\t\t\trenderMode\n\t\t\t\t\t\t\ttable\n\t\t\t\t\t\t\ttooltip\n\t\t\t\t\t\t\tview\n\t\t\t\t\t\t\tmodelConditions {\n\t\t\t\t\t\t\t\tfield\n\t\t\t\t\t\t\t\toperator\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\tnewQuery\n\t\t\t\t\t\t\t\tor\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const declarativeActionResponse =\n\t'data.GlideDeclarativeActions_Query.GlideDeclarativeActions_playbookQuery.playbookDeclarativeActions.playbookActions[0].actions';\n","export { default as nowPlaybookExperienceCardKnowledge } from './now-playbook-experience-card-knowledge';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport { view } from './view';\nimport styles from './styles.scss';\nimport actionHandlers from './actions';\nimport { playbookCardBehavior } from '../../behaviors/playbookCardBehavior';\n\n/**\n * ## Knowledge Card\n *\n * Using the knowledge table and knowledge record,\n * show a knowledge article in a card.\n *\n * @summary Playbook card component to render knowledge article excerpt.\n * @seismicElement now-playbook-experience-card-knowledge\n */\ncreateCustomElement('now-playbook-experience-card-knowledge', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\tknowledge: {},\n\t\ttagline: { label: t('Article'), icon: 'document-outline' },\n\t\theading: '',\n\t\tsnippet: '',\n\t\tupdated: '',\n\t\tviews: ''\n\t},\n\tproperties: {\n\t\t/** @type {String} **/\n\t\tknowledgeTable: {\n\t\t\tcomputed: (state) => {\n\t\t\t\tconst { knowledge_table } = state.properties.activityProperties;\n\t\t\t\treturn knowledge_table ? knowledge_table.value : '';\n\t\t\t}\n\t\t},\n\t\t/** @type {String} **/\n\t\tknowledgeRecord: {\n\t\t\tcomputed: (state) => {\n\t\t\t\tconst {\n\t\t\t\t\tknowledge_record\n\t\t\t\t} = state.properties.activityProperties;\n\t\t\t\treturn knowledge_record ? knowledge_record.value : '';\n\t\t\t}\n\t\t}\n\t},\n\tbehaviors: [{ behavior: playbookCardBehavior }],\n\tactionHandlers,\n\tstyles\n});\n","import { t } from 'sn-translate';\nimport { renderSnippet } from '../../render-utils';\n\nexport const view = (state) => {\n\tconst {\n\t\tproperties: { playbookCardProperties },\n\t\theading,\n\t\tsnippet,\n\t\tupdated,\n\t\tviews\n\t} = state;\n\n\tconst label = `${t('Updated')} ${updated} · ${views} ${t('views')}`;\n\n\treturn (\n\t\t<sn-playbook-card\n\t\t\theading={{ label: heading }}\n\t\t\t{...playbookCardProperties}\n\t\t>\n\t\t\t{renderSnippet(snippet, 'content')}\n\t\t\t<now-card-footer\n\t\t\t\tslot=\"footer\"\n\t\t\t\tclassName=\"knowledge-footer\"\n\t\t\t\tlabel={label}\n\t\t\t/>\n\t\t</sn-playbook-card>\n\t);\n};\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.field-items-container,.field-list-container,.record-list-container{padding:.25rem 0}.field-items-container>*{padding:.25rem 0;display:block}.form-fields-container{padding:.5rem 0 .25rem 0}.checklist-container{padding-top:.75rem;padding-bottom:0}.form-section-container{padding-bottom:.25rem}.attachment-container{padding:1rem 0 0 0}.attachment-container .text--primary{font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));margin-bottom:1rem}.attachment-container .attachment-grid{column-width:300px;column-gap:.5rem}.attachment-container .attachment-card{break-inside:avoid-column;page-break-inside:avoid;padding-bottom:.5rem}.description-container{padding-bottom:.25rem}.description-container .body-snippet{font-size:.75rem;margin-bottom:.75rem;overflow:hidden;color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.knowledge-footer{margin-top:.5rem}\", \"\"]);\n\n// exports\n","import { actionTypes } from '@servicenow/ui-core';\nimport { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { get } from 'lodash';\nimport {\n\tPLAYBOOK_CARD_KNOWLEDGE_FAILED,\n\tPLAYBOOK_CARD_KNOWLEDGE_FETCH,\n\tPLAYBOOK_CARD_KNOWLEDGE_STARTED,\n\tPLAYBOOK_CARD_KNOWLEDGE_SUCCEEDED,\n\tPLAYBOOK_SET_ACTIVITY_LOADING,\n\tPLAYBOOK_SUFFICIENT_DATA\n} from '../../../constants';\nimport { NOTIFICATION_NETWORK_ERROR } from '../../../notification.constants';\nimport { stripHTML } from '../../../utils';\nimport { formatFields } from '../../utils';\n\nconst {\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_CONNECTED\n} = actionTypes;\n\nconst knowledgeQuery = `\n\tquery($sysId: String!) {\n\t   GlideRecord_Query {\n\t\t   {{table}}(sys_id: $sysId) {\n\t\t\t\t_results{\n\t\t\t\t\t{{fields}}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst queryFields = [\n\t'number',\n\t'short_description',\n\t'rating',\n\t'sys_view_count',\n\t'sys_updated_on',\n\t'sys_id',\n\t'text'\n];\n\nconst innerFields = `{\n\tvalue\n\tdisplayValue\n}`;\n\nconst fetchEffect = createGraphQLEffect(knowledgeQuery, {\n\ttemplateVarList: ['table', 'fields'],\n\tvariableList: ['sysId'],\n\tstartActionType: PLAYBOOK_CARD_KNOWLEDGE_STARTED,\n\tsuccessActionType: PLAYBOOK_CARD_KNOWLEDGE_SUCCEEDED,\n\terrorActionType: PLAYBOOK_CARD_KNOWLEDGE_FAILED\n});\n\nconst initiateFetchEffect = ({ dispatch, properties }) => {\n\tconst { knowledgeTable, knowledgeRecord } = properties;\n\n\tif (knowledgeTable && knowledgeRecord)\n\t\tdispatch(PLAYBOOK_CARD_KNOWLEDGE_FETCH, {\n\t\t\tfields: formatFields(queryFields, innerFields),\n\t\t\ttable: knowledgeTable,\n\t\t\tsysId: knowledgeRecord\n\t\t});\n};\n\nconst fetchStartedEffect = ({ action, dispatch }) => {\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\tcontextId: action.payload.contextId,\n\t\tloading: true\n\t});\n};\n\nconst receiveResultsEffect = ({\n\taction,\n\tdispatch,\n\tproperties,\n\tupdateState\n}) => {\n\tconst { knowledgeTable } = properties;\n\tconst knowledge = get(\n\t\taction,\n\t\t`payload.data.GlideRecord_Query.${knowledgeTable}._results[0]`,\n\t\t{}\n\t);\n\n\tconst heading = get(knowledge, 'short_description.displayValue', '');\n\tconst snippet = stripHTML(get(knowledge, 'text.value', ''));\n\tconst updated = get(knowledge, 'sys_updated_on.displayValue', '');\n\tconst views = get(knowledge, 'sys_view_count.displayValue', '');\n\n\tupdateState({\n\t\tknowledge,\n\t\theading,\n\t\tsnippet,\n\t\tupdated,\n\t\tviews\n\t});\n\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\tcontextId: action.payload.contextId,\n\t\tloading: false\n\t});\n};\n\nconst fetchFailedEffect = ({ action, dispatch, updateState }) => {\n\tupdateState({ notification: NOTIFICATION_NETWORK_ERROR });\n\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\tcontextId: action.payload.context,\n\t\tloading: false\n\t});\n};\n\nconst hasSufficientData = (properties) => {\n\tconst { activityProperties } = properties;\n\tconst {\n\t\ttitle = {},\n\t\tknowledge_table = {},\n\t\tknowledge_record = {}\n\t} = activityProperties;\n\n\t// a card is sufficient with a title\n\tif (title.value) return true;\n\n\t// a card is sufficient with a knowledge table and knowledge record\n\tif (knowledge_table.value && knowledge_record.value) return true;\n\n\t// No data to show\n\treturn false;\n};\n\nexport default {\n\t[COMPONENT_BOOTSTRAPPED]: initiateFetchEffect,\n\t[PLAYBOOK_CARD_KNOWLEDGE_FETCH]: fetchEffect,\n\t[PLAYBOOK_CARD_KNOWLEDGE_STARTED]: fetchStartedEffect,\n\t[PLAYBOOK_CARD_KNOWLEDGE_SUCCEEDED]: receiveResultsEffect,\n\t[PLAYBOOK_CARD_KNOWLEDGE_FAILED]: fetchFailedEffect,\n\t[COMPONENT_CONNECTED]: ({ properties, dispatch }) => {\n\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t});\n\t},\n\t[COMPONENT_PROPERTY_CHANGED]: ({ action, dispatch, properties }) => {\n\t\tconst { name, previousValue, value } = action.payload;\n\n\t\tif (name === 'activityProperties') {\n\t\t\tif (\n\t\t\t\tpreviousValue.knowledge_record.value !==\n\t\t\t\t\tvalue.knowledge_record.value ||\n\t\t\t\tpreviousValue.knowledge_table.value !==\n\t\t\t\t\tvalue.knowledge_table.value\n\t\t\t)\n\t\t\t\tinitiateFetchEffect({ action, dispatch, properties });\n\n\t\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t\t});\n\t\t}\n\t}\n};\n","export { default as snPlaybookCardMediator } from './sn-playbook-card-mediator';\n","import snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { createCustomElement } from '@servicenow/ui-core';\nimport {\n\tDECLARATIVE_ACTION,\n\tNOW_CARD_CLICKED,\n\tPLAYBOOK_DECLARATIVE_ACTION,\n\tPLAYBOOK_SHOW_FORM,\n\tADD_NOTIFICATIONS,\n\tPLAYBOOK_CLOSE_FORM_FIELDS_MODAL\n} from '../../../constants';\nimport {\n\tgetMissingMandatoryFields,\n\tvalidateMandatoryFields\n} from '../../utils';\nimport { t } from 'sn-translate';\n\nconst cardClicked = ({ action: { payload }, dispatch }) => {\n\tconst { action = {}, model } = payload;\n\tdispatch(action.clickActionType, { action, model });\n};\n\nexport const view = () => {\n\treturn <slot />;\n};\n\n/**\n * ## Playbook Card Mediator\n *\n * Translate PLAYBOOK_DECLARATIVE_ACTION into either\n * PLAYBOOK_SHOW_FORM or DECLARATIVE_ACTION\n * depending on how many form fields are on the card\n *\n * @summary Optimizing form fields rendering\n * @seismicElement sn-playbook-card-mediator\n */\ncreateCustomElement('sn-playbook-card-mediator', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\t/**\n\t\t * Declarative Actions selector\n\t\t * @type {Object}\n\t\t */\n\t\tactionSelected: {\n\t\t\tselectable: true,\n\t\t\tdefault: null\n\t\t},\n\t\t/**\n\t\t * If displaying a form section\n\t\t * @type {boolean}\n\t\t */\n\t\tshowFormSection: {\n\t\t\tdefault: false\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[NOW_CARD_CLICKED]: {\n\t\t\teffect: cardClicked,\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[PLAYBOOK_DECLARATIVE_ACTION]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { action, model, modalSubmit, maxFormFieldsOnCard }\n\t\t\t},\n\t\t\tdispatch,\n\t\t\tstate,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst validatedMandatoryFields = validateMandatoryFields(\n\t\t\t\tmodel.fields\n\t\t\t);\n\t\t\tconst {\n\t\t\t\tproperties: { showFormSection }\n\t\t\t} = state;\n\n\t\t\tif (action.formFieldsRequired && !modalSubmit) {\n\t\t\t\t//Stop declarative action and show model\n\t\t\t\tif (validatedMandatoryFields.length > maxFormFieldsOnCard) {\n\t\t\t\t\tdispatch(PLAYBOOK_SHOW_FORM, {\n\t\t\t\t\t\taction,\n\t\t\t\t\t\tmodel: {\n\t\t\t\t\t\t\t...model,\n\t\t\t\t\t\t\tfields: [...validatedMandatoryFields]\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst missingFieldLabels = getMissingMandatoryFields(\n\t\t\t\tvalidatedMandatoryFields\n\t\t\t);\n\t\t\tif (missingFieldLabels.length) {\n\t\t\t\tif (modalSubmit) dispatch(PLAYBOOK_CLOSE_FORM_FIELDS_MODAL);\n\t\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\t\tnotifications: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tmessage: t(\n\t\t\t\t\t\t\t\t'The following mandatory fields are not filled in: {0}',\n\t\t\t\t\t\t\t\tmissingFieldLabels.join(', ')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst actionSelected = {\n\t\t\t\taction,\n\t\t\t\tmodel: {\n\t\t\t\t\t...model,\n\t\t\t\t\tfields: [...validatedMandatoryFields]\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t//Only use the actionSelected property if we need to validate on the form Section\n\t\t\t//Make sure action requires form fields and that the form section is being rendered\n\t\t\tif (action.formFieldsRequired && showFormSection) {\n\t\t\t\tupdateProperties({ actionSelected });\n\t\t\t\t//let the form section dispatch the declarative action with validated fields\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatch(DECLARATIVE_ACTION, actionSelected);\n\t\t}\n\t}\n});\n","export { default as nowPlaybookExperienceCardList } from './now-playbook-experience-card-list';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { view } from './view';\nimport { playbookCardBehavior } from '../../behaviors/playbookCardBehavior';\nimport { playbookFieldListBehavior } from '../../behaviors/playbookFieldListBehavior';\nimport {\n\tLIST_DATA_FETCH_COMPLETE,\n\tPLAYBOOK_SUFFICIENT_DATA\n} from '../../../constants';\nimport styles from './styles.scss';\n\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_CONNECTED } = actionTypes;\n\nconst hasSufficientData = ({ activityProperties }) => {\n\tconst { list_title = {}, table = {} } = activityProperties;\n\n\t// list card requires list table and list title\n\treturn list_title.value && table.value;\n};\n\n/**\n * ## List Card\n *\n * Uses simple list component to create a list card\n *\n * @summary Creates a list within a card in playbook\n * @seismicElement now-playbook-experience-card-list\n */\ncreateCustomElement('now-playbook-experience-card-list', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview,\n\t\ttransformState(state) {\n\t\t\tconst {\n\t\t\t\ttable = { value: '' },\n\t\t\t\tlist_title = { value: '' },\n\t\t\t\tcolumns = { value: '' },\n\t\t\t\tlist_query = { value: '' },\n\t\t\t\trow_count = { value: 0 },\n\t\t\t\tmax_columns = { value: 0 },\n\t\t\t\tui_view = { value: '' }\n\t\t\t} = state.properties.activityProperties;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttable: table.value,\n\t\t\t\tlist_title: list_title.value,\n\t\t\t\tcolumns: columns.value,\n\t\t\t\tlist_query: list_query.value,\n\t\t\t\trow_count: parseInt(row_count.value || 0),\n\t\t\t\tmax_columns: parseInt(max_columns.value || 0),\n\t\t\t\tui_view: ui_view.value\n\t\t\t};\n\t\t}\n\t},\n\tbehaviors: [\n\t\t{ behavior: playbookCardBehavior },\n\t\t{\n\t\t\tbehavior: playbookFieldListBehavior,\n\t\t\toptions: { fieldListProperties: ['record_fields'] }\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t[LIST_DATA_FETCH_COMPLETE]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { count }\n\t\t\t},\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tupdateState({ listResultsCount: count });\n\t\t},\n\t\t[COMPONENT_CONNECTED]: ({ properties, dispatch }) => {\n\t\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t\t});\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\tproperties,\n\t\t\taction: {\n\t\t\t\tpayload: { name }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (name === 'activityProperties' || name === 'activityState')\n\t\t\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t\t\t});\n\t\t}\n\t},\n\tstyles\n});\n","import '@servicenow/now-record-list-connected';\nimport { renderFieldList } from '../../render-utils';\n\nexport const view = (state) => {\n\tconst {\n\t\tproperties: { playbookCardProperties },\n\t\ttable = '',\n\t\tlist_title = '',\n\t\tcolumns = '',\n\t\tlist_query = '',\n\t\trow_count = 0,\n\t\tmax_columns = '',\n\t\tui_view = '',\n\t\tlistResultsCount = 0,\n\t\tassociatedRecordUpdated\n\t} = state;\n\n\tconst hidePagination = !(\n\t\tlistResultsCount &&\n\t\trow_count &&\n\t\trow_count < listResultsCount\n\t);\n\tconst refreshRequested = associatedRecordUpdated\n\t\t? {\n\t\t\ttimestamp: associatedRecordUpdated,\n\t\t\tbackground: false\n\t\t  }\n\t\t: null;\n\n\treturn (\n\t\t<sn-playbook-card {...playbookCardProperties}>\n\t\t\t{renderFieldList(state, 'content', 'record_fields')}\n\t\t\t<now-record-list-connected\n\t\t\t\tslot=\"content\"\n\t\t\t\tclassName=\"record-list-container\"\n\t\t\t\tlistType=\"RELATED\"\n\t\t\t\tlistTitle={list_title}\n\t\t\t\tvariantHeader={{ size: 'sm', headingLevel: 3 }}\n\t\t\t\ttable={table}\n\t\t\t\tcolumns={columns}\n\t\t\t\tquery={list_query}\n\t\t\t\tlimit={row_count}\n\t\t\t\tmax-columns={max_columns}\n\t\t\t\tview={ui_view}\n\t\t\t\thide-pagination={hidePagination}\n\t\t\t\thide-limit-selector={true}\n\t\t\t\thide-view-all={true}\n\t\t\t\thide-cell-filter={true}\n\t\t\t\thide-row-selector={true}\n\t\t\t\thide-filter-panel={true}\n\t\t\t\thide-last-refreshed-text={true}\n\t\t\t\thide-menu-button={true}\n\t\t\t\thide-declarative-actions={true}\n\t\t\t\thide-panel={true}\n\t\t\t\thide-quick-edit={true}\n\t\t\t\thide-column-filtering={true}\n\t\t\t\thide-column-grouping={true}\n\t\t\t\t{...(refreshRequested && { refreshRequested })}\n\t\t\t/>\n\t\t</sn-playbook-card>\n\t);\n};\n","module.exports = __TECTONIC__$servicenow_now_record_list_connected;","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.field-items-container,.field-list-container,.record-list-container{padding:.25rem 0}.field-items-container>*{padding:.25rem 0;display:block}.form-fields-container{padding:.5rem 0 .25rem 0}.checklist-container{padding-top:.75rem;padding-bottom:0}.description-container,.form-section-container{padding-bottom:.25rem}.attachment-container{padding:1rem 0 0 0}.attachment-container .text--primary{font-size:1rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));margin-bottom:1rem}.attachment-container .attachment-grid{column-width:300px;column-gap:.5rem}.attachment-container .attachment-card{break-inside:avoid-column;page-break-inside:avoid;padding-bottom:.5rem}\", \"\"]);\n\n// exports\n","export { default as nowPlaybookExperienceCardCreateRecord } from './now-playbook-experience-card-create-record';\n","import { createCustomElement } from '@seismic/core';\nimport snabbdom from '@seismic/snabbdom-renderer';\nimport { view } from './view';\nimport { playbookCardBehavior } from '../../behaviors/playbookCardBehavior';\nimport { playbookRecordBehavior } from '../../behaviors/playbookRecordBehavior';\nimport { actionHandlers } from './actions';\nimport styles from './styles.scss';\n\n/**\n * ## Create Record Card\n *\n * Uses form section component to create a card that allows user to create\n * record\n *\n * @summary Creates a new form within a card in playbook\n * @seismicElement now-playbook-experience-card-create-record\n */\ncreateCustomElement('now-playbook-experience-card-create-record', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tbehaviors: [\n\t\t{ behavior: playbookCardBehavior },\n\t\t{ behavior: playbookRecordBehavior }\n\t],\n\tactionHandlers: actionHandlers,\n\tstyles\n});\n","import '@servicenow/now-record-form-connected';\nimport { GFORM_SAVE } from '../../../constants';\nimport { t } from 'sn-translate';\n\nexport const view = (state) => {\n\tconst {\n\t\tproperties: { playbookCardProperties, formView = '' },\n\t\ttable = ''\n\t} = state;\n\n\tconst items = [\n\t\t{\n\t\t\tlabel: t('Save'),\n\t\t\tvariant: 'primary',\n\t\t\tclickActionType: GFORM_SAVE\n\t\t}\n\t];\n\n\tif (table === '') return null;\n\n\treturn (\n\t\t<sn-playbook-card {...playbookCardProperties}>\n\t\t\t<now-record-form-section-connected\n\t\t\t\tslot=\"content\"\n\t\t\t\ttable={table}\n\t\t\t\tsys-id=\"-1\"\n\t\t\t\tview={formView}\n\t\t\t\tinUiBuilder={true}\n\t\t\t>\n\t\t\t\t<sn-playbook-card-actions\n\t\t\t\t\tslot=\"footer\"\n\t\t\t\t\tclassName=\"footer\"\n\t\t\t\t\titems={items}\n\t\t\t\t/>\n\t\t\t</now-record-form-section-connected>\n\t\t</sn-playbook-card>\n\t);\n};\n","module.exports = __TECTONIC__$servicenow_now_record_form_connected;","import { get } from 'lodash';\nimport { createGraphQLEffect } from '@seismic/effect-graphql';\nimport { actionTypes } from '@servicenow/ui-core';\nimport {\n\tPLAYBOOK_UPDATE_CREATE_RECORD_FLOW,\n\tPLAYBOOK_UPDATE_CREATE_RECORD_FLOW_SUCCEEDED,\n\tPLAYBOOK_UPDATE_CREATE_RECORD_FLOW_FAILED,\n\tPLAYBOOK_FETCH_TABLE_FROM_FLOW,\n\tPLAYBOOK_FETCH_TABLE_FROM_FLOW_SUCCEEDED,\n\tPLAYBOOK_FETCH_TABLE_FROM_FLOW_FAILED,\n\tRECORD_STATUS_CHANGED,\n\tRECORD_STATUS_INSERTED,\n\tPLAYBOOK_SUFFICIENT_DATA\n} from '../../../constants';\nimport { NOTIFICATION_NETWORK_ERROR } from '../../../notification.constants';\n\nconst {\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_CONNECTED\n} = actionTypes;\n\nconst initiateGetTableEffect = ({ action, dispatch, properties }) => {\n\tconst {\n\t\tactivityProperties: { associated_record = {} }\n\t} = properties;\n\tif (associated_record.value)\n\t\tdispatch(PLAYBOOK_FETCH_TABLE_FROM_FLOW, {\n\t\t\tsysId: associated_record.value\n\t\t});\n};\n\nconst getTableFromFlowQuery = `\n\tquery($sysId: String!) {\n\t\tGlideRecord_Query {\n\t\t\tsys_flow_data (sys_id: $sysId) {\n\t\t\t\t_results {\n\t\t\t\t\tvars {\n\t        \t\t\tvariables {\n\t          \t\t\t\tvariableName\n\t          \t\t\t\tvariableValue\n\t        \t\t\t}\n\t      \t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst getTableFromFlowEffect = createGraphQLEffect(getTableFromFlowQuery, {\n\tvariableList: ['sysId'],\n\tsuccessActionType: PLAYBOOK_FETCH_TABLE_FROM_FLOW_SUCCEEDED,\n\terrorActionType: PLAYBOOK_FETCH_TABLE_FROM_FLOW_FAILED\n});\n\nconst getTableFromFlowSucceededEffect = ({ action, updateState }) => {\n\tconst sysFlowData = get(\n\t\taction,\n\t\t'payload.data.GlideRecord_Query.sys_flow_data._results[0]',\n\t\t{}\n\t);\n\n\tconst {\n\t\tvars: { variables }\n\t} = sysFlowData;\n\tvariables.forEach((element) => {\n\t\tif (element.variableName === 'table')\n\t\t\tupdateState({ table: element.variableValue });\n\t});\n};\n\nconst getTableFromFlowFailedEffect = ({ updateState }) => {\n\tupdateState({ notification: NOTIFICATION_NETWORK_ERROR });\n};\n\nconst updateCreateRecordFlowQuery = `\n\tmutation($sysId: String!) {\n\t\tGlideRecord_Mutation {\n\t\t\tupdate_sys_flow_data(sys_id: $sysId, state: \"COMPLETE\", vars: [\n\t\t\t\t{variableName: \"record_created\", variableValue: \"{{recordCreated}}\" },\n\t\t\t\t{variableName: \"table\", variableValue: \"{{table}}\" }\n\t\t\t]) {\n      \t\t\tstate {\n      \t\t\t\tvalue\n      \t\t\t\tdisplayValue\n      \t\t\t}\n      \t\t\tvars {\n        \t\t\tvariables {\n          \t\t\t\tvariableName\n          \t\t\t\tvariableValue\n        \t\t\t}\n      \t\t\t}\n      \t\t}\n\t\t}\n\t}\n`;\n\nconst updateCreateRecordFlowEffect = createGraphQLEffect(\n\tupdateCreateRecordFlowQuery,\n\t{\n\t\ttemplateVarList: ['recordCreated', 'table'],\n\t\tvariableList: ['sysId'],\n\t\tsuccessActionType: PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_SUCCEEDED,\n\t\terrorActionType: PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_FAILED\n\t}\n);\n\nconst updateCreateRecordFlowSucceededEffect = () => {\n\t//DO NOTHING, Playbook will update card with new data from activity context\n};\n\nconst updateCreateRecordFlowFailedEffect = ({ updateState }) => {\n\tupdateState({ notification: NOTIFICATION_NETWORK_ERROR });\n};\n\nconst recordCreatedEffect = ({ action, state, dispatch }) => {\n\tconst {\n\t\tproperties: {\n\t\t\tactivityProperties: { associated_record }\n\t\t}\n\t} = state;\n\tconst {\n\t\tpayload: { status, table, sys_id }\n\t} = action;\n\n\tif (status === RECORD_STATUS_INSERTED) {\n\t\tdispatch(PLAYBOOK_UPDATE_CREATE_RECORD_FLOW, {\n\t\t\tsysId: associated_record && associated_record.value,\n\t\t\ttable: table,\n\t\t\trecordCreated: sys_id\n\t\t});\n\t}\n};\n\nconst hasSufficientData = (properties) => {\n\tconst { activityProperties } = properties;\n\n\tconst {\n\t\tassociated_table = {},\n\t\tassociated_record = {}\n\t} = activityProperties;\n\n\t// A card must have an associated record and table\n\tif (associated_table.value && associated_record.value) return true;\n\n\t// No data to show\n\treturn false;\n};\n\nexport const actionHandlers = {\n\t[PLAYBOOK_FETCH_TABLE_FROM_FLOW]: getTableFromFlowEffect,\n\t[PLAYBOOK_FETCH_TABLE_FROM_FLOW_SUCCEEDED]: getTableFromFlowSucceededEffect,\n\t[PLAYBOOK_FETCH_TABLE_FROM_FLOW_FAILED]: getTableFromFlowFailedEffect,\n\t[PLAYBOOK_UPDATE_CREATE_RECORD_FLOW]: updateCreateRecordFlowEffect,\n\t[PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_SUCCEEDED]: updateCreateRecordFlowSucceededEffect,\n\t[PLAYBOOK_UPDATE_CREATE_RECORD_FLOW_FAILED]: updateCreateRecordFlowFailedEffect,\n\t[RECORD_STATUS_CHANGED]: recordCreatedEffect,\n\t[COMPONENT_BOOTSTRAPPED]: initiateGetTableEffect,\n\t[COMPONENT_CONNECTED]: ({ properties, dispatch }) => {\n\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t});\n\t},\n\t[COMPONENT_PROPERTY_CHANGED]: ({ properties, action, dispatch }) => {\n\t\tconst {\n\t\t\tpayload: { name }\n\t\t} = action;\n\t\tif (name === 'activityProperties' || name === 'activityState') {\n\t\t\tdispatch(PLAYBOOK_SUFFICIENT_DATA, {\n\t\t\t\thasSufficientData: hasSufficientData(properties)\n\t\t\t});\n\t\t\tinitiateGetTableEffect({ action, dispatch, properties });\n\t\t}\n\t}\n};\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.footer{padding-top:.5rem}\", \"\"]);\n\n// exports\n","import rtlBehavior from '@servicenow/behavior-rtl';\nimport { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { snPanelNavigationBehavior } from '../../behaviors';\nimport {\n\tPANEL_NAVIGATION_SWITCH_FOCUS,\n\tPANEL_NAVIGATION_TAKE_FOCUS\n} from '../../behaviors/sn-panel-navigation/constants';\nimport {\n\tPLAYBOOK_STAGE_PANEL_SOURCE,\n\tPLAYBOOK_STAGE_PANEL_UPDATE_FIRST_CARD_NAV_ID\n} from '../../constants';\nimport { getFirstVisibleCardIdFromLane, setFocusNavId } from './helpers';\nimport styles from './styles.scss';\nimport view from './view';\n\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\ncreateCustomElement('now-playbook-stage-panel', {\n\trenderer: { type: snabbdom, view },\n\tproperties: {\n\t\t/** @type {[]} **/\n\t\tplaybookContextIdsInOrder: { default: [] },\n\t\t/** @type {{}} **/\n\t\tplaybooksByContextId: { default: {} },\n\t\t/** @type {String} **/\n\t\tselectedStagePlaybookContextId: {},\n\t\t/** @type {String} **/\n\t\tplaybookExperienceId: { default: '' },\n\t\t/** @type {} **/\n\t\tloadingActivities: { default: {} },\n\t\t/** @type {} **/\n\t\tselectedStage: {\n\t\t\tdefault: {\n\t\t\t\tplaybookContextId: '',\n\t\t\t\tstageName: ''\n\t\t\t}\n\t\t},\n\t\t/** @type {String} **/\n\t\tuserId: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {String} **/\n\t\tfirstVisibleCardNavId: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {Boolean} **/\n\t\tcompactMode: { default: false },\n\n\t\tparentRecordUpdateTime: { default: 0 }\n\t},\n\tinitialState: {\n\t\tmountedStageMap: {},\n\t\tonFocusDispatchId: { left: PANEL_NAVIGATION_SWITCH_FOCUS },\n\t\tdispatchSource: PLAYBOOK_STAGE_PANEL_SOURCE\n\t},\n\tbehaviors: [snPanelNavigationBehavior, rtlBehavior],\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tstate: {\n\t\t\t\tproperties: {\n\t\t\t\t\tselectedStage: { playbookContextId, stageName },\n\t\t\t\t\tplaybooksByContextId\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tif (playbookContextId && stageName) {\n\t\t\t\tconst firstCardId = getFirstVisibleCardIdFromLane(\n\t\t\t\t\tplaybooksByContextId,\n\t\t\t\t\tplaybookContextId,\n\t\t\t\t\tstageName\n\t\t\t\t);\n\n\t\t\t\tsetFocusNavId(`card-header-${firstCardId}`, updateState);\n\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: `mountedStageMap[\"${playbookContextId}\"][\"${stageName}\"]`,\n\t\t\t\t\tvalue: true\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { name, value }\n\t\t\t},\n\t\t\tproperties: { playbooksByContextId },\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tif (\n\t\t\t\tname === 'selectedStage' &&\n\t\t\t\tvalue &&\n\t\t\t\tvalue.playbookContextId &&\n\t\t\t\tvalue.stageName\n\t\t\t) {\n\t\t\t\tconst { playbookContextId, stageName } = value;\n\n\t\t\t\tconst firstCardId = getFirstVisibleCardIdFromLane(\n\t\t\t\t\tplaybooksByContextId,\n\t\t\t\t\tplaybookContextId,\n\t\t\t\t\tstageName\n\t\t\t\t);\n\n\t\t\t\tsetFocusNavId(`card-header-${firstCardId}`, updateState);\n\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: `mountedStageMap[\"${playbookContextId}\"][\"${stageName}\"]`,\n\t\t\t\t\toperation: 'set',\n\t\t\t\t\tvalue: true\n\t\t\t\t});\n\t\t\t} else if (name === 'firstVisibleCardNavId' && value)\n\t\t\t\tsetFocusNavId(value, updateState);\n\t\t},\n\t\t[PLAYBOOK_STAGE_PANEL_UPDATE_FIRST_CARD_NAV_ID]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { cardNavId, takeFocus }\n\t\t\t},\n\t\t\tproperties: { firstVisibleCardNavId },\n\t\t\tupdateProperties,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (firstVisibleCardNavId !== cardNavId)\n\t\t\t\tupdateProperties({ firstVisibleCardNavId: cardNavId });\n\n\t\t\tif (takeFocus) dispatch(PANEL_NAVIGATION_TAKE_FOCUS);\n\t\t}\n\t},\n\tstyles\n});\n","import { get } from 'lodash';\n\nexport const getFirstVisibleCardIdFromLane = (\n\tplaybooksByContextId,\n\tplaybookContextId,\n\tstageName\n) => {\n\tconst lanes = get(playbooksByContextId, `${playbookContextId}.lanes`);\n\n\tif (!Array.isArray(lanes)) return null;\n\n\tconst getLaneByName = lanes.find((lane) => lane.name === stageName);\n\n\tif (!getLaneByName) return null;\n\n\tconst card = getLaneByName.cards.find((card) => !card.hidden);\n\n\tif (!card || !card.contextId) return null;\n\n\treturn card.contextId;\n};\n\nexport const setFocusNavId = (cardId, updateState) => {\n\tif (cardId)\n\t\tupdateState({\n\t\t\tfocusNavId: cardId\n\t\t});\n};\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.now-stage-section{position:absolute;width:100%;height:100%;min-width:20rem;overflow:auto;background-color:RGB(var(--now-color--background-secondary,var(--now-color--neutral-1,246,247,247)))}.now-stage-section.hide,.now-stage-section .hide-card{display:none}.now-stage-section .title{position:relative;margin:1.5rem 2.5rem}.now-stage-section .title.is-compact{margin:1.5rem}.now-stage-section .stage-deselect{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:1.5rem;background-color:RGB(var(--now-color--background-primary,var(--now-color--neutral-0,255,255,255)));border-bottom:.0625rem solid RGB(var(--now-color--neutral-2,228,230,231));margin-left:.0625rem;font-size:1rem;color:RGB(var(--now-color--secondary-1,1,119,142));cursor:pointer;outline:none}.now-stage-section .stage-deselect:active,.now-stage-section .stage-deselect:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25)}:host(:not([dir=rtl])) .now-stage-section .stage-deselect now-icon,:root:not([dir=rtl]) .now-stage-section .stage-deselect now-icon{margin-right:.25rem}:host([dir=rtl]) .now-stage-section .stage-deselect now-icon,:root[dir=rtl] .now-stage-section .stage-deselect now-icon{margin-left:.25rem}:host([dir=rtl]) .now-stage-section .stage-deselect now-icon,root[dir=rtl] .now-stage-section .stage-deselect now-icon{transform:rotate(180deg)}.now-stage-section .stage-deselect now-icon,.now-stage-section .stage-deselect span{vertical-align:middle}.content-block{display:block;position:relative;padding:5px;line-height:.75rem;min-height:.75rem;background-color:transparent}.empty-card-container{padding:1rem;border:.0625rem solid RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)))}.focus-anchor{position:absolute;top:-99px;right:-99px;width:0}.now-m-block-end--md{display:block;margin-block-end:.75rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.max-card-width{max-width:50rem}\", \"\"]);\n\n// exports\n","import '@servicenow/now-heading';\nimport { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { get } from 'lodash';\nimport { t } from 'sn-translate';\nimport '../../activity-renderers/cards/';\nimport {\n\tPANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID,\n\tPANEL_NAVIGATION_SET_FOCUS_ANCHOR,\n\tPANEL_NAVIGATION_UPDATE_MAP\n} from '../../behaviors/sn-panel-navigation/constants';\nimport {\n\tBACK_TO_STAGE_SELECTOR_NAV_ID,\n\tCARD_STATE_VALUES,\n\tEVENT_KEY,\n\tPLAYBOOK_CARD_MODEL_ID,\n\tPLAYBOOK_STAGE_DESELECT,\n\tPLAYBOOK_STAGE_PANEL_SOURCE,\n\tPLAYBOOK_STAGE_PANEL_UPDATE_FIRST_CARD_NAV_ID\n} from '../../constants';\nimport {\n\tNOTIFICATION_PLAYBOOK_EMPTY,\n\tNOTIFICATION_PLAYBOOK_ERROR,\n\tNOTIFICATION_PLAYBOOK_STAGE_EMPTY,\n\tNOTIFICATION_PLAYBOOK_STAGE_ERROR,\n\tNOTIFICATION_ZERO_STAGE_FILTER_RESULTS\n} from '../../notification.constants';\nimport '../../sn-playbook-card-actions';\nimport EmptyState from '../empty-state';\nimport PlaybookCard from '../playbook-card';\n\nconst view = (\n\t{\n\t\tproperties: {\n\t\t\tplaybookContextIdsInOrder,\n\t\t\tplaybooksByContextId,\n\t\t\tplaybookExperienceId,\n\t\t\tloadingActivities,\n\t\t\tselectedStage,\n\t\t\tuserId,\n\t\t\tcompactMode,\n\t\t\tparentRecordUpdateTime\n\t\t},\n\t\tmountedStageMap,\n\t\tcomponentId\n\t},\n\t{ dispatch }\n) => (\n\t<Fragment>\n\t\t<div\n\t\t\tcontenteditable={true}\n\t\t\tclassName=\"focus-anchor\"\n\t\t\ttabindex={-1}\n\t\t\thook-insert={({ elm }) =>\n\t\t\t\tdispatch(PANEL_NAVIGATION_SET_FOCUS_ANCHOR, {\n\t\t\t\t\tfocusAnchorRef: elm,\n\t\t\t\t\tsource: PLAYBOOK_STAGE_PANEL_SOURCE\n\t\t\t\t})\n\t\t\t}\n\t\t\tdata-nav={PANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID}\n\t\t/>\n\n\t\t{playbookContextIdsInOrder.map((playbookContextId) => {\n\t\t\tconst playbook = playbooksByContextId[playbookContextId];\n\t\t\tconst {\n\t\t\t\tstate: { value: playbookState } = {},\n\t\t\t\tconfigProperties: { expandFirstPrioritizedCard = true } = {}\n\t\t\t} = playbook;\n\n\t\t\tif (\n\t\t\t\tselectedStage.playbookContextId === playbookContextId &&\n\t\t\t\t(!playbook.lanes || playbook.lanes.length < 1)\n\t\t\t)\n\t\t\t\treturn (\n\t\t\t\t\t<EmptyState\n\t\t\t\t\t\ttitle={NOTIFICATION_PLAYBOOK_EMPTY.header}\n\t\t\t\t\t\ttext={NOTIFICATION_PLAYBOOK_EMPTY.body}\n\t\t\t\t\t\tillustration={NOTIFICATION_PLAYBOOK_EMPTY.illustration}\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\treturn playbook.lanes.map((stage) => {\n\t\t\t\tlet previousContextId = '';\n\t\t\t\tlet oneCardExpanded = false;\n\t\t\t\tlet firstVisibleCardNotReached = true;\n\t\t\t\tconst stageId = `${playbookContextId}.${stage.name}`;\n\t\t\t\tconst hide =\n\t\t\t\t\tselectedStage.playbookContextId !== playbookContextId ||\n\t\t\t\t\tselectedStage.stageName !== stage.name;\n\t\t\t\tconst {\n\t\t\t\t\tstate: { value: stageState }\n\t\t\t\t} = stage;\n\t\t\t\tconst showEmptyStagePanel = stage.cards.every(\n\t\t\t\t\t(card) => card.hidden || !card.show\n\t\t\t\t);\n\t\t\t\tconst someCardsHaveError = stage.cards.some(\n\t\t\t\t\t(card) => card.state.value === CARD_STATE_VALUES.ERROR.value\n\t\t\t\t);\n\n\t\t\t\tconst emptyStateMessage =\n\t\t\t\t\tplaybookState === CARD_STATE_VALUES.ERROR.value &&\n\t\t\t\t\tstage.cards.length === 0\n\t\t\t\t\t\t? NOTIFICATION_PLAYBOOK_ERROR\n\t\t\t\t\t\t: stage.cards.length < 1\n\t\t\t\t\t\t\t? NOTIFICATION_PLAYBOOK_STAGE_EMPTY\n\t\t\t\t\t\t\t: stageState === CARD_STATE_VALUES.ERROR.value &&\n\t\t\t\t\t\t  !someCardsHaveError\n\t\t\t\t\t\t\t\t? NOTIFICATION_PLAYBOOK_STAGE_ERROR\n\t\t\t\t\t\t\t\t: null;\n\n\t\t\t\tif (emptyStateMessage && !hide)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<EmptyState\n\t\t\t\t\t\t\ttitle={emptyStateMessage.header}\n\t\t\t\t\t\t\ttext={emptyStateMessage.body}\n\t\t\t\t\t\t\tillustration={emptyStateMessage.illustration}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\tconst stagePath = `[\"${playbook.sysId}\"][\"${stage.name}\"]`;\n\n\t\t\t\tif (!get(mountedStageMap, stagePath)) return null;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t'now-stage-section': true,\n\t\t\t\t\t\t\thide\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trole=\"list\"\n\t\t\t\t\t\taria-labelledby={`stage-heading-${stageId}`}\n\t\t\t\t\t\taria-hidden={hide}\n\t\t\t\t\t\tkey={`stage-section-key-${stageId}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{compactMode ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"stage-deselect\"\n\t\t\t\t\t\t\t\ton-click={() =>\n\t\t\t\t\t\t\t\t\tdispatch(PLAYBOOK_STAGE_DESELECT)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ton-keydown={(e) => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\te.key === EVENT_KEY.ENTER ||\n\t\t\t\t\t\t\t\t\t\te.key === EVENT_KEY.SPACE\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\tdispatch(PLAYBOOK_STAGE_DESELECT);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttabindex={0}\n\t\t\t\t\t\t\t\tdata-nav={`${BACK_TO_STAGE_SELECTOR_NAV_ID}-${stageId}`}\n\t\t\t\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\t\t\t\telm\n\t\t\t\t\t\t\t\t\t\t? dispatch(\n\t\t\t\t\t\t\t\t\t\t\tPANEL_NAVIGATION_UPDATE_MAP,\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tmapKey: `${BACK_TO_STAGE_SELECTOR_NAV_ID}-${stageId}`,\n\t\t\t\t\t\t\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdomRef: elm\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\t\ticon=\"chevron-left-outline\"\n\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span>{t('Back to {0}', playbook.title)}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{showEmptyStagePanel ? (\n\t\t\t\t\t\t\t<EmptyState\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tNOTIFICATION_ZERO_STAGE_FILTER_RESULTS.header\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\t\t\tNOTIFICATION_ZERO_STAGE_FILTER_RESULTS.body\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tillustration={\n\t\t\t\t\t\t\t\t\tNOTIFICATION_ZERO_STAGE_FILTER_RESULTS.illustration\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<now-heading\n\t\t\t\t\t\t\t\tlabel={stage.title}\n\t\t\t\t\t\t\t\tlevel=\"3\"\n\t\t\t\t\t\t\t\tvariant=\"header-tertiary\"\n\t\t\t\t\t\t\t\thasNoMargin={true}\n\t\t\t\t\t\t\t\twontWrap={true}\n\t\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t\ttitle: true,\n\t\t\t\t\t\t\t\t\t'is-compact': compactMode\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tnow-mode={hide ? 'suspend' : 'active'}\n\t\t\t\t\t\t\t\tid={`stage-heading-${stageId}`}\n\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\trole: 'heading',\n\t\t\t\t\t\t\t\t\t'aria-label': t(\n\t\t\t\t\t\t\t\t\t\t'{0} Playbook Stage Activity Cards',\n\t\t\t\t\t\t\t\t\t\tstage.title\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stage.cards.map((card) => {\n\t\t\t\t\t\t\tconst showCard = card.show && !card.hidden;\n\t\t\t\t\t\t\tconst expandCard =\n\t\t\t\t\t\t\t\texpandFirstPrioritizedCard &&\n\t\t\t\t\t\t\t\t!oneCardExpanded &&\n\t\t\t\t\t\t\t\tcard.prioritized;\n\t\t\t\t\t\t\tif (!hide && showCard) {\n\t\t\t\t\t\t\t\tif (firstVisibleCardNotReached) {\n\t\t\t\t\t\t\t\t\tconst firstCardNavId = `card-header-${card.contextId}`;\n\t\t\t\t\t\t\t\t\tfirstVisibleCardNotReached = false;\n\t\t\t\t\t\t\t\t\tdispatch(\n\t\t\t\t\t\t\t\t\t\tPLAYBOOK_STAGE_PANEL_UPDATE_FIRST_CARD_NAV_ID,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tcardNavId: firstCardNavId,\n\t\t\t\t\t\t\t\t\t\t\ttakeFocus: compactMode\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tdispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\t\t\tmapKey: `card-header-${card.contextId}`,\n\t\t\t\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\t\t\t\tup:\n\t\t\t\t\t\t\t\t\t\t\t!firstVisibleCardNotReached &&\n\t\t\t\t\t\t\t\t\t\t\tpreviousContextId\n\t\t\t\t\t\t\t\t\t\t\t\t? `card-header-${previousContextId}`\n\t\t\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (previousContextId)\n\t\t\t\t\t\t\t\t\tdispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\t\t\t\tmapKey: `card-header-${previousContextId}`,\n\t\t\t\t\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\t\t\t\t\tdown: `card-header-${card.contextId}`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (expandCard) oneCardExpanded = true;\n\t\t\t\t\t\t\t\tpreviousContextId = card.contextId;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcard.playbookExperienceId = playbookExperienceId;\n\t\t\t\t\t\t\tcard.modelId = PLAYBOOK_CARD_MODEL_ID; //card.state = {value: 'SKIPPED', displayValue: 'Skipped'};\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t\t\t'hide-card': !showCard,\n\t\t\t\t\t\t\t\t\t\t'max-card-width': true,\n\t\t\t\t\t\t\t\t\t\t'now-m-inline--xl': compactMode,\n\t\t\t\t\t\t\t\t\t\t'now-m-inline--3xl': !compactMode,\n\t\t\t\t\t\t\t\t\t\t'now-m-block-end--md': true\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tkey={`card-outer-div-key-${card.contextId}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<PlaybookCard\n\t\t\t\t\t\t\t\t\t\titem={card}\n\t\t\t\t\t\t\t\t\t\tuserId={userId}\n\t\t\t\t\t\t\t\t\t\tloadingActivities={loadingActivities}\n\t\t\t\t\t\t\t\t\t\texpandOnMountOrChange={expandCard}\n\t\t\t\t\t\t\t\t\t\tnowMode={hide ? 'suspend' : 'active'}\n\t\t\t\t\t\t\t\t\t\tplaybookState={playbookState}\n\t\t\t\t\t\t\t\t\t\tplaybookContextId={playbookContextId}\n\t\t\t\t\t\t\t\t\t\tdataProviderComponentId={`data-provider-${card.contextId}-${componentId}`}\n\t\t\t\t\t\t\t\t\t\tparentRecordUpdateTime={\n\t\t\t\t\t\t\t\t\t\t\tparentRecordUpdateTime\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t});\n\t\t})}\n\t</Fragment>\n);\n\nexport default view;\n","import { actionTypes } from '@servicenow/ui-core';\nimport { createEnhancedElement } from '@servicenow/library-enhanced-element';\nimport '@servicenow/now-button';\nimport resizeBehavior from '@servicenow/behavior-resize';\nimport styles from './styles.scss';\nimport { CARD_ACTIONS_BREAK, CARD_ACTIONS_SIZES } from '../constants';\n\nconst { COMPONENT_RENDERED } = actionTypes;\n\nconst _renderButtons = (itemsObj, dispatch) => {\n\tif (!itemsObj || !itemsObj.length) return null;\n\n\treturn itemsObj.map((item) => (\n\t\t<now-button\n\t\t\tclassName=\"sn-playbook-card-actions-button\"\n\t\t\tsize=\"sm\"\n\t\t\tvariant={item.variant}\n\t\t\tlabel={item.label}\n\t\t\ttooltipContent={item.label}\n\t\t\ticon={item.icon}\n\t\t\tdisabled={item.disabled}\n\t\t\ton-click={() => {\n\t\t\t\tif (!item.disabled) {\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\titem.clickActionType ||\n\t\t\t\t\t\t\t'SN_PLAYBOOK_CARD_ACTIONS#ACTION_CLICKED',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\taction: item\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\t));\n};\n\nconst _getElementWidths = (container, elements) => {\n\tlet widths = 0;\n\tif (!container || !container.offsetWidth || !elements || !elements.length) {\n\t\treturn 0;\n\t}\n\tfor (let i = elements.length - 1; i >= 0; i--) {\n\t\tconst style =\n\t\t\t\telements[i].currentStyle ||\n\t\t\t\twindow.getComputedStyle(elements[i]),\n\t\t\twidth = elements[i].offsetWidth,\n\t\t\tmargin =\n\t\t\t\tparseFloat(style.marginLeft) + parseFloat(style.marginRight),\n\t\t\tpadding =\n\t\t\t\tparseFloat(style.paddingLeft) + parseFloat(style.paddingRight),\n\t\t\tborder =\n\t\t\t\tparseFloat(style.borderLeftWidth) +\n\t\t\t\tparseFloat(style.borderRightWidth);\n\t\tif (width) widths += width + margin - padding + border;\n\t}\n\treturn widths;\n};\n\nconst _getContainerClassName = (\n\tbuttonContainerRef,\n\tbuttonRefs,\n\tbuttonsWidth\n) => {\n\tconst cardActionsClassName = 'sn-playbook-card-actions';\n\tlet cardSize = '';\n\tlet largestButtonWidth = 0;\n\n\t// Buttons and container aren't rendered with a width yet, so render with no cardSize so they are hidden\n\tif (!buttonContainerRef || !buttonRefs || !buttonsWidth)\n\t\treturn `${cardActionsClassName}`;\n\n\tfor (let i = buttonRefs.length - 1; i >= 0; i--)\n\t\tif (largestButtonWidth < buttonRefs[i].offsetWidth)\n\t\t\tlargestButtonWidth = buttonRefs[i].offsetWidth;\n\tconst buttonsMinWidth = largestButtonWidth * buttonRefs.length;\n\n\tif (buttonContainerRef.offsetWidth > buttonsWidth)\n\t\tif (buttonContainerRef.offsetWidth > CARD_ACTIONS_BREAK)\n\t\t\t// if the buttons are smaller than the button container\n\t\t\t// if the button container is wider than a 320 card allows\n\t\t\tcardSize = CARD_ACTIONS_SIZES.lg;\n\t\telse if (buttonContainerRef.offsetWidth < buttonsMinWidth)\n\t\t\t// assume each button is as long as the longest, if the buttons are wider than the container\n\t\t\tcardSize = CARD_ACTIONS_SIZES.sm;\n\t\telse cardSize = CARD_ACTIONS_SIZES.md;\n\telse if (buttonContainerRef.offsetWidth) cardSize = CARD_ACTIONS_SIZES.sm;\n\n\treturn `${cardActionsClassName} ${cardSize}`;\n};\n\nconst view = (state, { dispatch }) => {\n\tconst {\n\t\tbuttonContainerRef,\n\t\tbuttonRefs,\n\t\tbuttonsWidth,\n\t\tproperties: { items }\n\t} = state;\n\n\tconst itemsObj = items || [];\n\n\treturn (\n\t\t<div\n\t\t\tclassName={_getContainerClassName(\n\t\t\t\tbuttonContainerRef,\n\t\t\t\tbuttonRefs,\n\t\t\t\tbuttonsWidth\n\t\t\t)}\n\t\t>\n\t\t\t{_renderButtons(itemsObj, dispatch)}\n\t\t</div>\n\t);\n};\n\n/**\n * Card subcomponent that enables the user to take action. Use card actions\n * to display one to MAX_NUM_DAS_BOTTOM_OF_CARD large action buttons for a card.\n *\n * ```jsx\n * const cardActions = [\n *   {label: 'Decline', variant: 'secondary-negative'},\n *   {label: 'Approve', variant: 'secondary-positive'}\n * ];\n * <sn-playbook-card-actions items={cardActions} />\n * ```\n *\n * @seismicElement sn-playbook-card-actions\n * @summary Card subcomponent that enables the user to take action.\n */\ncreateEnhancedElement('sn-playbook-card-actions', {\n\tproperties: {\n\t\t/**\n\t\t * An array of objects that defines the buttons displayed.\n\t\t * The keys for each object are properties for `now-button`. See\n\t\t * `now-button` for more information on using these properties.\n\t\t * - `label: string` required - Label describing the action.\n\t\t * - `icon: string` - Icon displayed with the label.\n\t\t * - `variant: string` - Button style variant.\n\t\t * - `disabled: boolean` - Set to `true` to mute the button color and disable user click interactions.\n\t\t * - `clickActionType: string = \"SN_PLAYBOOK_CARD_ACTIONS#ACTION_CLICKED\"` - Overrides the default action type dispatched when the user clicks the action\n\t\t * @type {{ label: string, icon: string, variant: string, disabled: boolean, clickActionType: string}[]}\n\t\t */\n\t\titems: {\n\t\t\trequired: true,\n\t\t\tschema: {\n\t\t\t\ttype: 'array',\n\t\t\t\titems: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlabel: { type: 'string' },\n\t\t\t\t\t\ticon: { type: 'string' },\n\t\t\t\t\t\t// TODO - re-use a typedef from now-button for this?\n\t\t\t\t\t\tvariant: { type: 'string' },\n\t\t\t\t\t\tdisabled: { type: 'boolean' },\n\t\t\t\t\t\tclickActionType: { type: 'string' }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tview,\n\tstyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the user clicks a button. The payload will include a\n\t\t * reference to the clicked item and action. The action type can be overridden\n\t\t * by configuring `item.clickActionType`.\n\t\t * @type {{action: Object}}\n\t\t */\n\t\t'SN_PLAYBOOK_CARD_ACTIONS#ACTION_CLICKED': {}\n\t},\n\tbehaviors: [\n\t\t{\n\t\t\tbehavior: resizeBehavior,\n\t\t\toptions: { timer: { type: 'throttle', wait: 100 } }\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t[COMPONENT_RENDERED]: ({ host, state, updateState }) => {\n\t\t\tconst buttonContainerRef = host.shadowRoot.querySelector(\n\t\t\t\t'.sn-playbook-card-actions'\n\t\t\t);\n\t\t\tconst buttonRefs = host.shadowRoot.querySelectorAll(\n\t\t\t\t'.sn-playbook-card-actions-button'\n\t\t\t);\n\n\t\t\tif (!buttonContainerRef && !buttonRefs) return null;\n\n\t\t\tif (!state.buttonsWidth) {\n\t\t\t\tconst buttonsWidth = _getElementWidths(\n\t\t\t\t\tbuttonContainerRef,\n\t\t\t\t\tbuttonRefs\n\t\t\t\t);\n\t\t\t\tif (buttonsWidth === 0) return null;\n\n\t\t\t\tupdateState({\n\t\t\t\t\tbuttonContainerRef, // pass ref as it changes as container changes\n\t\t\t\t\tbuttonRefs,\n\t\t\t\t\tbuttonsWidth // pass width at initial render as it doesn't change if playbook changes\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n","module.exports = __TECTONIC__$servicenow_library_enhanced_element_18_3_20;","module.exports = __TECTONIC__$servicenow_behavior_resize_18_3_20;","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}:host{display:block!important}.sn-playbook-card-actions{visibility:hidden;white-space:nowrap;overflow:hidden;text-align:right}.sn-playbook-card-actions .sn-playbook-card-actions-button{display:inline-block}.sn-playbook-card-actions .sn-playbook-card-actions-button:not(:first-child){margin-inline-start:.5rem}.sn-playbook-card-actions.lg{visibility:visible;display:block;text-align:right}.sn-playbook-card-actions.lg .sn-playbook-card-actions-button:not(:first-child){margin-inline-start:.5rem}.sn-playbook-card-actions.md{visibility:visible;display:flex;flex-direction:row}.sn-playbook-card-actions.md .sn-playbook-card-actions-button{width:100%}.sn-playbook-card-actions.md .sn-playbook-card-actions-button:not(:first-child){margin-inline-start:.5rem}.sn-playbook-card-actions.sm{visibility:visible;display:flex;flex-direction:column}.sn-playbook-card-actions.sm .sn-playbook-card-actions-button{width:100%}.sn-playbook-card-actions.sm .sn-playbook-card-actions-button:not(:first-child){margin-inline-start:0;margin-top:.5rem}\", \"\"]);\n\n// exports\n","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { get } from 'lodash';\nimport 'sn-component-checklist';\nimport { CARD_PROPS_TO_QUERY_MAP } from '../../constants';\nimport { customCreateElement } from './customCreateElement';\n\nconst normalizeCardProps = (item) => {\n\treturn Object.entries(CARD_PROPS_TO_QUERY_MAP).reduce(\n\t\t(properties, [cardProp, queryProp]) => {\n\t\t\tif (item.hasOwnProperty(queryProp))\n\t\t\t\tproperties[cardProp] = item[queryProp];\n\t\t\treturn properties;\n\t\t},\n\t\t{}\n\t);\n};\n\nconst transformAuthorizedActions = (authorizedActions = []) => {\n\treturn authorizedActions.reduce((accu, action) => {\n\t\tif (action && typeof action === 'string') accu[`can_${action}`] = true;\n\t\treturn accu;\n\t}, {});\n};\n\n// mapModelFieldValues - Produces are key value pair, where value is always a string\n// if an activityType of fdbeceb95b61001070e4492c11f91a28(list) is found with the key\n// of table then rename the key list_table\nconst mapModelFieldValues = (item) => {\n\tconst listActivityTypeValue = 'fdbeceb95b61001070e4492c11f91a28';\n\treturn Object.keys(item.activityProperties).reduce((result, currentKey) => {\n\t\tlet value = get(item, `activityProperties[${currentKey}].value`);\n\n\t\tif (value === null) value = '';\n\n\t\tif (\n\t\t\titem.activityType.value === listActivityTypeValue &&\n\t\t\tcurrentKey === 'table'\n\t\t)\n\t\t\treturn { ...result, list_table: value };\n\n\t\treturn { ...result, [currentKey]: value };\n\t}, {});\n};\n\nconst playbookCard = ({\n\titem,\n\tuserId,\n\tloadingActivities,\n\texpandOnMountOrChange,\n\tnowMode,\n\tplaybookState,\n\tplaybookContextId,\n\tdataProviderComponentId,\n\tparentRecordUpdateTime\n}) => {\n\t// TODO: include declarative actions and declarative model in GraphQL Schema instead of client side\n\tconst declarativeActions = `@${dataProviderComponentId}/declarativeActions`;\n\n\tconst declarativeModelFields = mapModelFieldValues(item);\n\n\tconst authorizedActions = transformAuthorizedActions(\n\t\titem.authorizedActions\n\t);\n\n\tconst declarativeModel =\n\t\t(item &&\n\t\t\titem.state &&\n\t\t\titem.activityType &&\n\t\t\titem.laneContext &&\n\t\t\titem.laneContext.state && {\n\t\t\t...declarativeModelFields,\n\t\t\t...authorizedActions,\n\t\t\tstate: item.state.value,\n\t\t\ttype: item.activityType.value,\n\t\t\tsysId: item.associatedRecord,\n\t\t\ttable: item.associatedTable,\n\t\t\tparentTable: item.parentTable,\n\t\t\tparentSysId: item.parentRecord,\n\t\t\tcontextId: item.contextId,\n\t\t\tstage_name: item.laneContext.name,\n\t\t\tstage_title: item.laneContext.title,\n\t\t\tstage_status: item.laneContext.state.value,\n\t\t\tstage_order: item.laneContext.order,\n\t\t\tplaybook_status: playbookState,\n\t\t\tplaybook_context_id: playbookContextId\n\t\t}) ||\n\t\t{};\n\n\tconst normalizedProps = normalizeCardProps({\n\t\t...item,\n\t\tdeclarativeActions,\n\t\tdeclarativeModel\n\t});\n\n\tconst props = {\n\t\t...normalizedProps,\n\t\tloading: loadingActivities.hasOwnProperty(item.contextId),\n\t\tappendToPayload: { contextId: item.contextId },\n\t\tuserId,\n\t\texpandOnMountOrChange,\n\t\tnowMode,\n\t\tactivityLabel: item.title\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<sn-playbook-declarative-actions-data-provider\n\t\t\t\tassociatedTable={item.associatedTable}\n\t\t\t\tassociatedSysId={item.associatedRecord}\n\t\t\t\tparentTable={item.parentTable}\n\t\t\t\tparentSysId={item.parentRecord}\n\t\t\t\tview={item.view}\n\t\t\t\tcomponent-id={dataProviderComponentId}\n\t\t\t\tassociatedRecordModCount={item.associatedRecordModCount}\n\t\t\t\tactivityProperties={item.activityProperties}\n\t\t\t\tplaybookExperienceId={item.playbookExperienceId}\n\t\t\t\tmodelId={item.modelId}\n\t\t\t\tactivityDefinitionId={item.activityDefinitionId}\n\t\t\t\tparentRecordUpdateTime={parentRecordUpdateTime}\n\t\t\t/>\n\t\t\t{customCreateElement(item.cardRendererTag, { ...props })}\n\t\t</Fragment>\n\t);\n};\n\nexport default playbookCard;\n","module.exports = __TECTONIC__sn_component_checklist;","import snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { camelCase, isEmpty, isString, startsWith, reduce } from 'lodash';\n\n/* Copied from sn-custom-create-element and converted to Snabbdom.  TODO: replace with shared method */\n\nconst ATTRIBUTES = [\n\t'component-id',\n\t'listen-to',\n\t'path',\n\t'context',\n\t'context-modifier',\n\t'key',\n\t'dangerouslySetInnerHTML',\n\t'suppressContentEditableWarning',\n\t'suppressHydrationWarning',\n\t'alt',\n\t'async',\n\t'autocomplete',\n\t'autofocus',\n\t'autoplay',\n\t'capture',\n\t'checked',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'draggable',\n\t'dropzone',\n\t'hidden',\n\t'href',\n\t'hreflang',\n\t'http-equiv',\n\t'icon',\n\t'id',\n\t'is',\n\t'maxlength',\n\t'minlength',\n\t'media',\n\t'method',\n\t'multiple',\n\t'name',\n\t'placeholder',\n\t'readonly',\n\t'rel',\n\t'required',\n\t'reversed',\n\t'role',\n\t'rows',\n\t'rowspan',\n\t'selected',\n\t'slot',\n\t'src',\n\t'tabindex',\n\t'target',\n\t'title',\n\t'type',\n\t'value'\n];\n\nconst MAPPED_TO_PROPS = ['value'];\n\nexport const customCreateElement = (name, props = {}, ...children) => {\n\tfunction isSeismicComponent(name) {\n\t\treturn isString(name) && name.indexOf('-') !== -1;\n\t}\n\n\tfunction isAttribute(name) {\n\t\treturn (\n\t\t\tATTRIBUTES.indexOf(name) !== -1 ||\n\t\t\tstartsWith(name, 'aria-') ||\n\t\t\tstartsWith(name, 'data-')\n\t\t);\n\t}\n\n\tfunction isMappedToProps(name) {\n\t\treturn MAPPED_TO_PROPS.indexOf(name) !== -1;\n\t}\n\n\tif (!isEmpty(props) && isSeismicComponent(name)) {\n\t\tconst existingRef =\n\t\t\tprops.ref && typeof props.ref === 'function' && props.ref;\n\n\t\tconst { attributes, properties } = reduce(\n\t\t\tprops,\n\t\t\t(acc, value, name) => {\n\t\t\t\tif (isAttribute(name)) acc['attributes'][name] = value;\n\t\t\t\telse acc['properties'][camelCase(name)] = value;\n\n\t\t\t\tif (isMappedToProps(name)) acc['properties'][name] = value;\n\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{\n\t\t\t\tattributes: {},\n\t\t\t\tproperties: {}\n\t\t\t}\n\t\t);\n\n\t\tif (!isEmpty(properties)) {\n\t\t\treturn snabbdom.createElement(\n\t\t\t\tname,\n\t\t\t\tObject.assign({}, attributes, {\n\t\t\t\t\tref: (node) => {\n\t\t\t\t\t\tif (!node) return;\n\t\t\t\t\t\texistingRef && existingRef(node);\n\t\t\t\t\t\tObject.assign(node, properties);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t...children\n\t\t\t);\n\t\t}\n\t}\n\treturn snabbdom.createElement(name, props, ...children);\n};\n","import './now-playbook-activity-stream-modal-connected';\n","import '@servicenow/now-activity-stream';\nimport '@servicenow/now-modal';\nimport { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nconst LIVEUPDATE_KEY = 'liveUpdateData';\nconst ATTACHMENTS_KEY = 'attachmentsData';\n\n/**\n * @seismicElement now-playbook-activity-stream-modal-connected\n * @summary Component to include the list activities performed over a record displayed inside a now-modal.\n */\nexport default createCustomElement(\n\t'now-playbook-activity-stream-modal-connected',\n\t{\n\t\trenderer: {\n\t\t\ttype: snabbdom,\n\t\t\tview(state) {\n\t\t\t\tconst { table, sysId, title, modalTitle } = state.properties;\n\n\t\t\t\treturn (\n\t\t\t\t\t<now-modal opened size=\"lg\" header-label={modalTitle}>\n\t\t\t\t\t\t<now-activity-stream-connected\n\t\t\t\t\t\t\ttable={table}\n\t\t\t\t\t\t\tsys-id={sysId}\n\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</now-modal>\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tproperties: {\n\t\t\t/**\n\t\t\t * Hoist the component by default.\n\t\t\t * @type {boolean}\n\t\t\t */\n\t\t\tnowHoist: { default: true },\n\n\t\t\t/**\n\t\t\t * Table name of the record that we want to display the activity stream for.\n\t\t\t * @type {string}\n\t\t\t */\n\t\t\ttable: {},\n\n\t\t\t/**\n\t\t\t * Unique identifier for the record.\n\t\t\t * @type {string}\n\t\t\t */\n\t\t\tsysId: {},\n\n\t\t\t/**\n\t\t\t * Title to provide to the now-modal wrapper of the activity stream.\n\t\t\t * Defaults to \"Activity\"\n\t\t\t * @type {string}\n\t\t\t */\n\t\t\tmodalTitle: { default: 'Activity' },\n\n\t\t\t/**\n\t\t\t * View to use for the record.\n\t\t\t * @type {string}\n\t\t\t */\n\t\t\tview: {},\n\n\t\t\t/**\n\t\t\t * Array of entries, when provided it will save the first request to the server\n\t\t\t * Check sampleEntries for format\n\t\t\t * @type {object[]}\n\t\t\t */\n\t\t\tentries: {},\n\n\t\t\t/**\n\t\t\t * Array of filter options in the shape of {isSelected: true, label: \"Filter label\", name: \"name\"}\n\t\t\t * Object properties:\n\t\t\t * \t\tisSelected: controls which filters should appear selected.\n\t\t\t * \t\tlabel: text to display for the filter\n\t\t\t * \t\tname: unique name for a filter for internal use\n\t\t\t * @type {object[]}\n\t\t\t */\n\t\t\tfilterOptions: {},\n\n\t\t\t/**\n\t\t\t * When provided, this function will be used to filter out the list of entries based on filterOptions param.\n\t\t\t * @callback onFilter\n\t\t\t * @param {object[]} filterOptions, this gives access to the current selections\n\t\t\t */\n\t\t\tonFilter: {},\n\n\t\t\t/**\n\t\t\t * Current timestamp, this is used to know when new data is coming in\n\t\t\t * @type {number}\n\t\t\t */\n\t\t\ttimestamp: {},\n\n\t\t\t/**\n\t\t\t * Specify if the component is active, this can be set to false while you are not presenting the component\n\t\t\t * to the user, ie.: when tab is not open\n\t\t\t * @type {boolean}\n\t\t\t */\n\t\t\tactive: {},\n\n\t\t\t/**\n\t\t\t * Are you displaying a newly created record?\n\t\t\t * @type {boolean}\n\t\t\t */\n\t\t\tisNewRecord: {},\n\n\t\t\t/**\n\t\t\t * When provided will receive all clicks from the component\n\t\t\t * @callback onClickHandler\n\t\t\t * @type {boolean}\n\t\t\t */\n\t\t\tonClickHandler: {},\n\t\t\t/**\n\t\t\t * Title for the activity stream component. Defaults to \"Activty Stream\" translated.\n\t\t\t *\n\t\t\t * @type {string}\n\t\t\t */\n\t\t\ttitle: {},\n\t\t\t/**\n\t\t\t * Object containing journal fields available. For example:\n\t\t\t *\n\t\t\t * ```\n\t\t\t * {\n\t\t\t *\t \"comments\": {\n\t\t\t *\t\t  name : \"comments\",\n\t\t\t *\t\t  label : \"Additional comments (Customer Visible)\",\n\t\t\t *\t\t  sys_readonly: false,\n\t\t\t *\t\t  readonly : false,\n\t\t\t *\t \t  visible: true,\n\t\t\t *\t\t  type: 'journal_input',\n\t\t\t *\t\t  maxLength: 1000\n\t\t\t *\t },\n\t\t\t *\t \"work_notes\": {\n\t\t\t *\t\t  name : \"work_notes\",\n\t\t\t *\t\t  label : \"Work Notes\",\n\t\t\t *\t\t  sys_readonly: false,\n\t\t\t *\t\t  readonly : false,\n\t\t\t *\t\t  visible: true,\n\t\t\t *\t\t  type: 'journal_input',\n\t\t\t *\t\t  maxLength: 2000\n\t\t\t *\t }\n\t\t\t * }\n\t\t\t *```\n\t\t\t *\n\t\t\t * @type {object}\n\t\t\t */\n\t\t\tfields: {},\n\t\t\tactivityStream: {},\n\t\t\tactivityStreamReading: {},\n\t\t\tactivityStreamError: {},\n\t\t\t[LIVEUPDATE_KEY]: {},\n\t\t\t[ATTACHMENTS_KEY]: {},\n\t\t\tshowConversationFilter: {},\n\t\t\tobserveTile: {}\n\t\t}\n\t}\n);\n","module.exports = __TECTONIC__$servicenow_now_activity_stream;","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {\n\tcancelPlaybookBehavior,\n\tsnLinkInterceptorBehavior\n} from '../behaviors';\nimport actionHandlers from './actions';\n\ncreateCustomElement('now-playbook-data-broker', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: () => <slot />\n\t},\n\tproperties: {\n\t\t/**\n\t\t * sysId of the parent record associated with the playbooks\n\t\t * @type {String}\n\t\t */\n\t\tparentSysId: {\n\t\t\treflect: true\n\t\t},\n\t\t/**\n\t\t * table name of the parent record associated with the playbooks\n\t\t * @type {String}\n\t\t */\n\t\tparentTable: {\n\t\t\treflect: true\n\t\t},\n\t\t/**\n\t\t * playbook experience id to determine the configurations\n\t\t * @type {String}\n\t\t */\n\t\tplaybookExperienceId: { selectable: true, default: '' },\n\n\t\tloading: { selectable: true, default: true },\n\t\tloadingActivities: { selectable: true, default: {} },\n\t\tplaybookContextIdsInOrder: { selectable: true, default: [] },\n\t\tplaybooksByContextId: { selectable: true, default: {} },\n\t\tcurrentUserId: {\n\t\t\tselectable: true,\n\t\t\tdefault: ''\n\t\t},\n\t\tparentRecordUpdateTime: {\n\t\t\tselectable: true,\n\t\t\tdefault: 0\n\t\t}\n\t},\n\tactionHandlers,\n\tbehaviors: [snLinkInterceptorBehavior, cancelPlaybookBehavior]\n});\n","import { withStopPropagation } from '../../utils';\nimport { processPlaybook } from '../processingUtils';\nimport activityAddOrUpdateHandler from './activityAddOrUpdate';\nimport activityFetchHandler from './activityFetch';\nimport createActivityLoadingActionHandlers from './activityLoading';\nimport activitySkipActionHandlers from './activitySkip';\nimport { ambPlaybookHandlers } from './ambPlaybook';\nimport ambRecordWatcherHandler from './ambRecordWatcher';\nimport filterActionHandlers from './filter';\nimport {\n\tcleanUpFilter,\n\tcombineSelectedFilters,\n\tevaluateFilterOnCard,\n\treduceSelectedFilters\n} from './filterUtils';\nimport { createGraphQLActionHandlers } from './graphql';\nimport createLifecycleActionHandlers from './lifecycle';\nimport playbookActionsHandlers from './playbookActions';\nimport updateActivityContextActionHandlers from './updateActivityContext';\nimport { getAMBChannel, setCoeffectsPayload } from './utils';\n\nexport default withStopPropagation({\n\t...activityAddOrUpdateHandler,\n\t...activityFetchHandler,\n\t...createActivityLoadingActionHandlers(setCoeffectsPayload),\n\t...activitySkipActionHandlers,\n\t...ambPlaybookHandlers,\n\t...ambRecordWatcherHandler,\n\t...filterActionHandlers(\n\t\tcleanUpFilter,\n\t\tcombineSelectedFilters,\n\t\tevaluateFilterOnCard,\n\t\treduceSelectedFilters\n\t),\n\t...createGraphQLActionHandlers(getAMBChannel, processPlaybook),\n\t...playbookActionsHandlers,\n\t...createLifecycleActionHandlers(getAMBChannel),\n\t...updateActivityContextActionHandlers\n});\n","const findActivityIndexAndOperation = (newActivity, cards) => {\n\tconst noResult = { operation: null, activityIdx: -1 };\n\n\tif (!Array.isArray(cards)) return noResult;\n\n\tfor (let activityIdx = 0; activityIdx < cards.length; activityIdx++) {\n\t\tconst activity = cards[activityIdx];\n\t\t// We're not in the right lane. Abandon.\n\t\tif (newActivity.laneName !== activity.laneName) return noResult;\n\n\t\t// We've found the existing activity. Update.\n\t\tif (activity.contextId === newActivity.contextId)\n\t\t\treturn { operation: 'update', activityIdx };\n\n\t\t// We've passed where the activity is expected to have been without finding it. Insert at the current index.\n\t\tif (\n\t\t\tnewActivity.order != '-1' &&\n\t\t\tparseInt(activity.order) > parseInt(newActivity.order)\n\t\t)\n\t\t\treturn { operation: 'insert', activityIdx };\n\t}\n\n\t// We never found the activity nor passed its order within the lane. Insert at the end.\n\treturn { operation: 'insert', activityIdx: cards.length };\n};\n\nexport default findActivityIndexAndOperation;\n","const getAMBChannel = (channel = '', sysId = '') => {\n\tif (!channel || !sysId) return null;\n\n\tif (channel.indexOf('**') >= 0) return channel.replace('**', sysId);\n\n\treturn channel + sysId;\n};\n\nexport default getAMBChannel;\n","import { DEFAULT_MAX_FORM_FIELDS_RENDERED_IN_CARD } from '../../../constants';\n\nconst getDefaultConfigProperties = (playbook) => {\n\tconst defaultConfig = {\n\t\tshowActivityState: true,\n\t\tshowAutomatedManualIndicator: true,\n\t\tmaxFormFieldsOnCard: DEFAULT_MAX_FORM_FIELDS_RENDERED_IN_CARD\n\t};\n\n\tconst { configProperties = {} } = playbook;\n\n\treturn { ...defaultConfig, ...configProperties };\n};\n\nexport default getDefaultConfigProperties;\n","import { get } from 'lodash';\nimport { incrementSingleActivityStats } from './';\n\nconst getUpdatedLaneStats = (\n\tactivity = {},\n\texistingActivity = {},\n\tstats = {}\n) => {\n\tconst newStats = { ...stats };\n\tconst activityState = get(activity, 'state.value');\n\n\tif (existingActivity) {\n\t\tconst existingActivityState = get(existingActivity, 'state.value');\n\t\t// No state or visibility change\n\t\tif (\n\t\t\texistingActivityState === activityState &&\n\t\t\texistingActivity.show === activity.show\n\t\t)\n\t\t\treturn stats;\n\n\t\t// decrement existing activity's stats if it was visible\n\t\tif (existingActivity.show) {\n\t\t\tincrementSingleActivityStats(newStats, existingActivityState, '-');\n\t\t\tif (!activity.show) newStats.totalItems--;\n\t\t}\n\n\t\t// Increment new activity's stats if it's visible\n\t\tif (activity.show) {\n\t\t\tincrementSingleActivityStats(newStats, activityState, '+');\n\t\t\tif (!existingActivity.show) newStats.totalItems++;\n\t\t}\n\n\t\tif (existingActivity.prioritized !== activity.prioritized) {\n\t\t\tif (activity.prioritized) newStats.readyItems++;\n\t\t\telse newStats.readyItems--;\n\t\t}\n\n\t\treturn newStats;\n\t}\n\n\t// New hidden activity. Nothing to update.\n\tif (!activity.show) return stats;\n\n\t// Increment new activity stats\n\tincrementSingleActivityStats(newStats, activityState, '+');\n\tnewStats.totalItems++;\n\tif (activity.prioritized) newStats.readyItems++;\n\n\treturn newStats;\n};\n\nexport default getUpdatedLaneStats;\n","import { CARD_STATE_VALUES } from '../../../constants';\n\nconst incrementSingleActivityStats = (\n\tlaneStats = {},\n\tactivityState = null,\n\toperation = '+'\n) => {\n\tif (activityState === CARD_STATE_VALUES.SKIPPED.value)\n\t\toperation === '+' ? laneStats.skippedItems++ : laneStats.skippedItems--;\n\tif (activityState === CARD_STATE_VALUES.COMPLETE.value)\n\t\toperation === '+'\n\t\t\t? laneStats.completedItems++\n\t\t\t: laneStats.completedItems--;\n};\n\nexport default incrementSingleActivityStats;\n","import { get } from 'lodash';\nconst setCoeffectsPayload = (coeffects = {}, payload = {}) => ({\n\t...coeffects,\n\taction: {\n\t\t...coeffects.action,\n\t\tpayload: {\n\t\t\t...get(coeffects, 'action.payload', {}),\n\t\t\t...payload\n\t\t}\n\t}\n});\n\nexport default setCoeffectsPayload;\n","import { uniq } from 'lodash';\n\nexport const uniqDifferenceString = (source = [], target = []) => {\n\tconst targetSet = new Set(target);\n\treturn source.filter((str) => !targetSet.has(str));\n};\n\nexport const constructRWFilter = (filters = {}, logic = '&') => {\n\tconst q = [];\n\tfor (const field in filters) {\n\t\t// Deduplication\n\t\tconst values = uniq(filters[field]);\n\t\t// For Record Watcher, when there are multiple values we have to use\n\t\t// the '^OR<field>=' format to seperate values rather than comma\n\t\t// seperated format\n\t\tq.push(`${field}=${values.join(`^OR${field}=`)}`);\n\t}\n\t// Filters are base64 encoded with the '=' sign replaced with '-'\n\treturn btoa(q.join(logic)).replace(/=/g, '-');\n};\n\n/*\n\tThis util function helps components generate which records, and in return\n\thelp generate which channelIds, that the component needs to\n\tsubscribe/unsubscribe given that they are saving their 'watchingRecords'\n\tin the state with the format below.\n\n\tThe order of the collections of sysIds in the state's 'watchingRecords' is\n\tvery important. The order in which the sysIds are saved will be used to\n\tgenerate the unique 'channelId' for Record Watcher. The collections of\n\tsysIds from 'watchingRecords' look like follows:\n\n\t\t{\n\t\t\t'incident': [\n\t\t\t\t'ed92e8d173d023002728660c4cf6a7bc',\n\t\t\t\t'd71b3b41c0a8016700a8ef040791e72a'\n\t\t\t],\n\t\t\t'problem': [\n\t\t\t\t'6632130c730123002728660c4cf6a734'\n\t\t\t]\n\t\t}\n\n\tPartially base64 encoded 'channelId' for the 'incident' table would be:\n\n\t'/rw/default/incident/c3lzX2lkPWVkOTJlOGQxNzNkMDIzMDAyNzI4NjYwYzRjZjZhN2JjX\n\tk9Sc3lzX2lkPWQ3MWIzYjQxYzBhODAxNjcwMGE4ZWYwNDA3OTFlNzJh'\n\n\tLet's say we want to remove the existing record with the sysId\n\t'd71b3b41c0a8016700a8ef040791e72a' from Record Watcher.\n\n\tFirst we need to unsubscribe to the previous 'channelId' above then generate\n\ta brand new 'channelId' to subscribe to. So what we send to Record Watcher\n\twould be two messages:\n\n\t1. calling unsubscribe on the Channel Listener of the above previous 'channelId'\n\t2. calling subscribe on a new Channel Listener with a new 'channelId'\n\n\tThe previous 'channelId' can be reconstructed given that the collection of\n\tsysIds for the 'incident' table are the same as before and in the same order.\n\n\tSo when we remove the existing sysId 'd71b3b41c0a8016700a8ef040791e72a'\n\tour unsubscribe message would look like:\n\n\t\t{\n\t\t\tchannelId: \"/rw/default/incident/c3lzX2lkPWVkOTJlOGQxNzNkMDIzMDAyNzI\n\t\t\t\t    4NjYwYzRjZjZhN2JjXk9Sc3lzX2lkPWQ3MWIzYjQxYzBhODAxNjcwMGE\n\t\t\t\t    4ZWYwNDA3OTFlNzJh\",\n\t\t\tsubscribe: false\n\t\t}\n\n\tAnd our subscribe message would look like\n\n\t\t{\n\t\t\tchannelId: \"/rw/default/incident/c3lzX2lkPWVkOTJlOGQxNzNkMDIzMDAyNzI\n\t\t\t\t    4NjYwYzRjZjZhN2Jj\",\n\t\t\tsubscribe: true\n\t\t}\n\n\tAnd after the subscriptions are dispatched 'watchingRecords' would be reduced to:\n\n\t\t{\n\t\t\t'incident': [\n\t\t\t\t'ed92e8d173d023002728660c4cf6a7bc'\n\t\t\t],\n\t\t\t'problem': [\n\t\t\t\t'6632130c730123002728660c4cf6a734'\n\t\t\t]\n\t\t}\n*/\nexport const processWatchingRecords = (\n\twatchingRecords = {},\n\ttoBeAddedRecords = {},\n\ttoBeRemovedRecords = {}\n) => {\n\tconst nextWatchingRecords = { ...watchingRecords };\n\tconst toBeSubscribedRecords = {};\n\tconst toBeUnsubscribedRecords = {};\n\n\tObject.entries(toBeRemovedRecords).forEach(([table, newSysIds]) => {\n\t\t// Important that 'oldSysIds' is looked up from 'watchingRecords' and\n\t\t// NOT 'nextWatchingRecords' because it can change\n\t\tconst oldSysIds = watchingRecords[table];\n\t\t// Only calculate if there are existing sysIds with the same table,\n\t\t// otherwise there is nothing to be removed because we are not watching\n\t\t// any records from that table\n\t\tif (oldSysIds) {\n\t\t\t// Setting it to all of the 'oldSysIds' not because all of the\n\t\t\t// records need to be UN-subscribed but because the 'oldSysIds' is\n\t\t\t// needed to recalculate the previous 'channelId', see comments at\n\t\t\t// the beginning of this method\n\t\t\ttoBeUnsubscribedRecords[table] = oldSysIds;\n\t\t\t// The difference here is the 'sysIds' that we are NOT going to\n\t\t\t// UN-subscribe\n\t\t\tconst d = uniqDifferenceString(oldSysIds, newSysIds);\n\n\t\t\tif (d.length) {\n\t\t\t\t// So if there are differences we want to re-subscribe to those\n\t\t\t\t// leftover 'sysIds'\n\t\t\t\ttoBeSubscribedRecords[table] = d;\n\t\t\t\tnextWatchingRecords[table] = d;\n\t\t\t} else {\n\t\t\t\t// If there are no differences it means that in the current\n\t\t\t\t// state's 'watchingRecords', all of the 'sysIds' with this\n\t\t\t\t// table will be UN-subscribed, leaving nothing so it's safe\n\t\t\t\t// to delete the table key from the state's 'watchingRecords'\n\t\t\t\tdelete nextWatchingRecords[table];\n\t\t\t}\n\t\t}\n\t});\n\n\tObject.entries(toBeAddedRecords).forEach(([table, newSysIds]) => {\n\t\t// Important that 'oldSysIds' is looked up from 'watchingRecords' and\n\t\t// NOT 'nextWatchingRecords' because it can change\n\t\tconst oldSysIds = watchingRecords[table];\n\n\t\tif (oldSysIds) {\n\t\t\tlet u;\n\t\t\t// Since this loop runs after above the above loop where we go\n\t\t\t// through 'toBeRemovedRecords', this table could have been processed\n\t\t\t// already and there could be a previous collection of 'sysIds' that\n\t\t\t// are already added to 'toBeSubscribedRecords', so in this case we\n\t\t\t// want to combine those 'sysIds' with the 'newSysIds'\n\t\t\t//\n\t\t\t// We don't need to combine with 'oldSysIds' because if the same\n\t\t\t// table is already processed in the above loop, then those\n\t\t\t// 'oldSysIds' would have already been captured at\n\t\t\t// 'toBeSubscribedRecords[table]'\n\t\t\tif (toBeSubscribedRecords.hasOwnProperty(table)) {\n\t\t\t\tu = uniq([...toBeSubscribedRecords[table], ...newSysIds]);\n\t\t\t} else {\n\t\t\t\t// If this table has not been processed then we don't have to\n\t\t\t\t// worry about a previous collection of 'sysIds' that may be\n\t\t\t\t// saved into 'toBeSubscribedRecords', we can simply combine\n\t\t\t\t// 'oldSysIds' with 'newSysIds'. We DO, however, have to\n\t\t\t\t// make sure that none of the 'oldSysIds' are ones that we are\n\t\t\t\t// actually trying to UN-subscribe ('toBeUnsubscribedRecords'),\n\t\t\t\t// so we don't accidentally subscribe to 'sysIds' that we won't\n\t\t\t\t// care about.\n\t\t\t\tlet filteredOldSysIds = oldSysIds;\n\n\t\t\t\tif (toBeUnsubscribedRecords.hasOwnProperty(table))\n\t\t\t\t\tfilteredOldSysIds = uniqDifferenceString(\n\t\t\t\t\t\toldSysIds,\n\t\t\t\t\t\ttoBeUnsubscribedRecords[table]\n\t\t\t\t\t);\n\n\t\t\t\tu = uniq([...filteredOldSysIds, ...newSysIds]);\n\t\t\t}\n\n\t\t\tif (!u.length) return;\n\n\t\t\ttoBeSubscribedRecords[table] = u;\n\t\t\t// This is used to recalculate the previous 'channelId', see comments\n\t\t\t// at the beginning of this method\n\t\t\ttoBeUnsubscribedRecords[table] = oldSysIds;\n\t\t\tnextWatchingRecords[table] = u;\n\t\t} else {\n\t\t\tif (!newSysIds.length) return;\n\t\t\t// If no 'oldSysIds' exist with the same table, then we simply\n\t\t\t// subscribe to all of 'newSysIds'\n\t\t\tconst u = uniq(newSysIds);\n\t\t\ttoBeSubscribedRecords[table] = u;\n\t\t\tnextWatchingRecords[table] = u;\n\t\t}\n\t});\n\n\treturn {\n\t\tnextWatchingRecords,\n\t\ttoBeSubscribedRecords,\n\t\ttoBeUnsubscribedRecords\n\t};\n};\n","import { getComponentsByTagNames } from '@devsnc/library-uxf';\nimport { get } from 'lodash';\nimport {\n\tPLAYBOOK_ADD_OR_UPDATE_ACTIVITIES,\n\tPLAYBOOK_RENDERERS,\n\tPLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS\n} from '../../constants';\nimport {\n\thasAnUnwatchedAssociatedRecord,\n\thasAnUnwatchedExperienceStatusRecord,\n\tpushAssociatedRecord,\n\tpushExperienceStatusRecord\n} from '../ambUtils';\nimport { pushToFilter, removeFromFilter } from '../filterUtils';\nimport { processCard } from '../processingUtils';\nimport { findActivityIndexAndOperation, getUpdatedLaneStats } from './utils';\n\nexport default {\n\t[PLAYBOOK_ADD_OR_UPDATE_ACTIVITIES]: ({\n\t\taction: { payload = {} },\n\t\tdispatch,\n\t\tupdateProperties\n\t}) => {\n\t\tconst { activities = [] } = payload;\n\n\t\tif (!activities) return;\n\n\t\t// Using declarative 'updateProperties' here we ensure that the new 'playbook'\n\t\t// object created will use the most up to date 'state' object.\n\t\t// This avoids a scenario where if 'PLAYBOOK_ADD_OR_UPDATE_ACTIVITIES'\n\t\t// is triggered multiple times back to back and we end up updating the\n\t\t// state with the last new 'playbook object and overwriting all of the\n\t\t// new 'playbook' objects prior to the last one, instead of combining\n\t\t// all of them.\n\t\t//\n\t\t// This happens when we use the 'state' object from 'coeffects' and tries\n\t\t// to create a new 'playbook' immediate and then call 'updateProperties'.\n\t\t// Because 'updateProperties' is invoked asynchronous, each new 'playbook'\n\t\t// object would have relied on the old 'state' object because 'updateProperties'\n\t\t// hasn't updated the actual 'state' object yet.\n\t\t//\n\t\t// We avoid this by putting all of the processing code inside a callback\n\t\t// to the declarative 'updateProperties'. The callbacks will be invoked\n\t\t// synchronously, meaning in order, even though the 'updateProperties'\n\t\t// invocation is asynchronous.\n\t\t//\n\t\t// https://developer.servicenow.com/dev.do#!/guide/paris/now-experience/ui-framework/now-experience-ui-framework-101/helpers\n\t\t// May have to log in with your AD credentials before the documentation\n\t\t// appears\n\t\tupdateProperties(({ state, properties }) => {\n\t\t\tconst toBeAdded = {},\n\t\t\t\ttoBeRemoved = {}; // For Record Watcher\n\n\t\t\t//const { playbook } = properties;\n\t\t\t//const nextPlaybook = { ...playbook };\n\t\t\t//const nextLanes = [...nextPlaybook.lanes];\n\n\t\t\tconst updatedPlaybooksByContextId = {};\n\t\t\tconst currentUserId = properties.currentUserId;\n\t\t\tconst newRenderers = [];\n\n\t\t\tactivities.forEach((activity) => {\n\t\t\t\tconst { laneName, playbookContextId } = activity;\n\t\t\t\tif (!laneName) return { shouldUpdate: false };\n\n\t\t\t\tconst playbook = get(\n\t\t\t\t\tproperties,\n\t\t\t\t\t`playbooksByContextId.${playbookContextId}`,\n\t\t\t\t\tnull\n\t\t\t\t);\n\t\t\t\tif (!playbook) return { shouldUpdate: false };\n\n\t\t\t\tif (!updatedPlaybooksByContextId[playbookContextId]) {\n\t\t\t\t\tupdatedPlaybooksByContextId[playbookContextId] = {\n\t\t\t\t\t\t...playbook,\n\t\t\t\t\t\tlanes: [...(playbook.lanes || [])],\n\t\t\t\t\t\tregisteredRenderers: [\n\t\t\t\t\t\t\t...(playbook.registeredRenderers || [])\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst nextPlaybook =\n\t\t\t\t\tupdatedPlaybooksByContextId[playbookContextId];\n\n\t\t\t\tconst lane = nextPlaybook.lanes.find(\n\t\t\t\t\t({ name }) => name === laneName\n\t\t\t\t);\n\t\t\t\tif (!lane) return { shouldUpdate: false };\n\n\t\t\t\tconst { cards = [] } = lane;\n\t\t\t\tconst {\n\t\t\t\t\toperation,\n\t\t\t\t\tactivityIdx\n\t\t\t\t} = findActivityIndexAndOperation(activity, cards);\n\n\t\t\t\tif (!operation) {\n\t\t\t\t\treturn { shouldUpdate: false };\n\t\t\t\t}\n\n\t\t\t\tconst existingActivity =\n\t\t\t\t\toperation === 'update' ? lane.cards[activityIdx] : null;\n\n\t\t\t\tif (hasAnUnwatchedAssociatedRecord(activity, state)) {\n\t\t\t\t\t// If the Associated Record has not been watched AND we found an\n\t\t\t\t\t// existing matching Activity, it means the Associated Record has\n\t\t\t\t\t// changed, so we must unsubscribe to the previous Associated Record\n\t\t\t\t\t// while re-subscribing the new one\n\t\t\t\t\tif (existingActivity)\n\t\t\t\t\t\tpushAssociatedRecord(toBeRemoved, existingActivity);\n\n\t\t\t\t\tpushAssociatedRecord(toBeAdded, activity); //\n\t\t\t\t}\n\n\t\t\t\tif (hasAnUnwatchedExperienceStatusRecord(activity, state)) {\n\t\t\t\t\tif (existingActivity)\n\t\t\t\t\t\tpushExperienceStatusRecord(\n\t\t\t\t\t\t\ttoBeRemoved,\n\t\t\t\t\t\t\texistingActivity\n\t\t\t\t\t\t);\n\n\t\t\t\t\tpushExperienceStatusRecord(toBeAdded, activity);\n\t\t\t\t}\n\n\t\t\t\t// Always first remove the Activity 's filter data from state to so we\n\t\t\t\t// can build a fresh state immediately afterwards. Sometimes an Activity's\n\t\t\t\t// fields change (i.e. Activity' state, associated record's assigned_to),\n\t\t\t\t// we want to remove those old values from the state\n\t\t\t\tconst fo = removeFromFilter(\n\t\t\t\t\t{ ...nextPlaybook.filterData },\n\t\t\t\t\t{ ...nextPlaybook.selectedFilters },\n\t\t\t\t\t{ ...nextPlaybook.toBeCleanedSelectedFilterOption },\n\t\t\t\t\texistingActivity ? existingActivity.filterData : {}\n\t\t\t\t);\n\n\t\t\t\tconst filterData = pushToFilter(\n\t\t\t\t\t{ playbook, nextPlaybook },\n\t\t\t\t\tactivity,\n\t\t\t\t\tfo.filter,\n\t\t\t\t\tcurrentUserId\n\t\t\t\t);\n\t\t\t\tconst selectedFilters = fo.selectedFilters;\n\t\t\t\tconst toBeCleanedSelectedFilterOption =\n\t\t\t\t\tfo.toBeCleanedSelectedFilterOption;\n\n\t\t\t\tconst { card: newCard } = processCard(\n\t\t\t\t\tnextPlaybook,\n\t\t\t\t\tactivity,\n\t\t\t\t\tcurrentUserId\n\t\t\t\t);\n\t\t\t\tconst nextCards = [...cards];\n\t\t\t\t// Update existing activity\n\t\t\t\tif (existingActivity) nextCards[activityIdx] = newCard;\n\t\t\t\t// insert new activity\n\t\t\t\telse nextCards.splice(activityIdx, 0, newCard);\n\n\t\t\t\tconst nextStats = getUpdatedLaneStats(\n\t\t\t\t\tactivity,\n\t\t\t\t\texistingActivity,\n\t\t\t\t\tlane.stats\n\t\t\t\t);\n\t\t\t\t// Update the next lane.\n\t\t\t\t// NOTE: we only set the lane's shouldExpand property if the activity\n\t\t\t\t// has that property set. If not set, this usually means it's a new activity\n\t\t\t\t// or only its associated record changed.\n\t\t\t\tlane.cards = nextCards;\n\t\t\t\tlane.stats = nextStats;\n\t\t\t\tlane.state = activity.laneContext.state.value;\n\n\t\t\t\tif (newCard.hasOwnProperty('shouldExpand'))\n\t\t\t\t\tlane.shouldExpand = newCard.shouldExpand && !newCard.hidden;\n\n\t\t\t\tnextPlaybook.filterData = filterData;\n\n\t\t\t\tif (nextPlaybook.selectedFilterCount) {\n\t\t\t\t\tnextPlaybook.toBeCleanedSelectedFilterOption = toBeCleanedSelectedFilterOption;\n\t\t\t\t\tnextPlaybook.selectedFilters = selectedFilters;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\tnewCard.cardRendererTag &&\n\t\t\t\t\t!PLAYBOOK_RENDERERS.includes(newCard.cardRendererTag) &&\n\t\t\t\t\t!nextPlaybook.registeredRenderers.includes(\n\t\t\t\t\t\tnewCard.cardRendererTag\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tnextPlaybook.registeredRenderers.push(\n\t\t\t\t\t\tnewCard.cardRendererTag\n\t\t\t\t\t);\n\t\t\t\t\tnewRenderers.push(newCard.cardRendererTag);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (newRenderers.length > 0) getComponentsByTagNames(newRenderers);\n\n\t\t\tdispatch(PLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS, {\n\t\t\t\ttoBeAdded,\n\t\t\t\ttoBeRemoved\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tpath: 'playbooksByContextId',\n\t\t\t\toperation: 'assign',\n\t\t\t\tvalue: updatedPlaybooksByContextId\n\t\t\t};\n\t\t});\n\t}\n};\n","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { get } from 'lodash';\nimport {\n\tPLAYBOOK_ADD_OR_UPDATE_ACTIVITIES,\n\tPLAYBOOK_FETCH_ACTIVITY_CONTEXTS,\n\tPLAYBOOK_FETCH_ACTIVITY_CONTEXTS_DEBOUNCED,\n\tPLAYBOOK_FETCH_ACTIVITY_CONTEXTS_FAILED,\n\tPLAYBOOK_FETCH_ACTIVITY_CONTEXTS_SUCCEEDED,\n\tPLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS,\n\tPLAYBOOK_SET_ACTIVITY_LOADING\n} from '../../constants';\nimport { debounce } from '../../effects';\nimport { CARD_QUERY } from '../../gql.constants';\nimport { setCoeffectsPayload } from './utils';\n\nconst fetchActivityContextsQuery = `\n\tquery($provider: String, $contextIds: String!, $playbookExperienceId: String) {\n\t\tGlidePlaybookContext_Query {\n\t\t\tgetActivityContexts(provider: $provider, contextIds: $contextIds, playbookExperienceId: $playbookExperienceId) {\n\t\t\t\t${CARD_QUERY}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst requestFetchPlaybookActivityContextsEffect = ({\n\taction,\n\tstate,\n\tdispatch\n}) => {\n\tconst contextIds = get(action, 'payload.contextIds', []);\n\tconst provider = state.provider;\n\n\tif (!contextIds || !provider) return;\n\n\tif (!Array.isArray(contextIds) && typeof contextIds !== 'string') return;\n\n\tconst ids = Array.isArray(contextIds) ? contextIds : [contextIds];\n\t// We want the card to immediate show a loading before the debouncing happens,\n\t// this requires us not to check for duplicates here. We also cannot check for\n\t// duplicate 'contextIds' in the aggregate callback of 'PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_DEBOUNCED'\n\t// because more fetch requests can coming in after this fetch request with\n\t// same 'contextIds'. So the solution is we check for duplicates in\n\t// 'PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_DEBOUNCED' after the debounce\n\t// and before fetching Activity Contexts, while at the same time setting\n\t// 'loading=false' for any duplicate 'contextIds'\n\tdispatch(PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_DEBOUNCED, { contextIds: ids });\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\trequests: contextIds.map((contextId) => ({ contextId, loading: true }))\n\t});\n};\n\nconst fetchActivityContextsDebouncedEffect = ({\n\taction,\n\tdispatch,\n\tstate,\n\tproperties\n}) => {\n\tconst contextIds = get(action, 'payload.contextIds', []);\n\tconst provider = state.provider;\n\tconst playbookExperienceId = properties.playbookExperienceId;\n\tconst uniqIds = new Set();\n\tconst duplicateIds = [];\n\n\tcontextIds.forEach((id) => {\n\t\tuniqIds.has(id) ? duplicateIds.push(id) : uniqIds.add(id);\n\t});\n\n\tdispatch(PLAYBOOK_FETCH_ACTIVITY_CONTEXTS, {\n\t\tprovider,\n\t\tplaybookExperienceId,\n\t\tcontextIds: [...uniqIds].join(',')\n\t});\n\t// If there is a duplicate contextId in this fetch action handler it means\n\t// that we have already dispatched a '{ loading: true }' to the loading\n\t// action handler, so here we dispatch another '{ loading: false }' to\n\t// cancel out the earlier one\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\trequests: duplicateIds.map((contextId) => ({\n\t\t\tcontextId,\n\t\t\tloading: false\n\t\t}))\n\t});\n};\n\nconst fetchActivityContextsEffect = createGraphQLEffect(\n\tfetchActivityContextsQuery,\n\t{\n\t\tvariableList: ['provider', 'contextIds', 'playbookExperienceId'],\n\t\tsuccessActionType: PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_SUCCEEDED,\n\t\terrorActionType: PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_FAILED\n\t}\n);\n\nconst fetchActivityContextsSucceededEffect = ({ action, dispatch }) => {\n\tconst activities = get(\n\t\taction,\n\t\t'payload.data.GlidePlaybookContext_Query.getActivityContexts',\n\t\t[]\n\t);\n\tdispatch(PLAYBOOK_ADD_OR_UPDATE_ACTIVITIES, { activities });\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\trequests: activities.map(({ contextId }) => ({\n\t\t\tcontextId,\n\t\t\tloading: false\n\t\t}))\n\t});\n};\n\nconst fetchActivityContextsFailedEffect = ({ action, dispatch }) => {\n\tconst contextIds = get(action, 'meta.options.variables.contextIds', []);\n\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\trequests: contextIds\n\t\t\t.split(',')\n\t\t\t.map((contextId) => ({ contextId, loading: false }))\n\t});\n\t// TODO: dispatching a error message banner; ask DJ/Meredith\n};\n\nexport default {\n\t[PLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS]: requestFetchPlaybookActivityContextsEffect,\n\t[PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_DEBOUNCED]: debounce(\n\t\tfetchActivityContextsDebouncedEffect,\n\t\t{\n\t\t\tdelay: 1000,\n\t\t\tmaxWait: 2000,\n\t\t\taggregate: (args = [], nextArgs = []) => {\n\t\t\t\tconst idx = nextArgs.length - 1 || 0; // 'coeffects' is the last argument passed to Action Handler\n\t\t\t\tconst oldContextIds = get(\n\t\t\t\t\targs[idx],\n\t\t\t\t\t'action.payload.contextIds',\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tconst newContextIds = get(\n\t\t\t\t\tnextArgs[idx],\n\t\t\t\t\t'action.payload.contextIds',\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tconst newArgs = [...nextArgs];\n\n\t\t\t\tnewArgs[idx] = setCoeffectsPayload(nextArgs[idx], {\n\t\t\t\t\tcontextIds: [...oldContextIds, ...newContextIds]\n\t\t\t\t});\n\n\t\t\t\treturn newArgs;\n\t\t\t}\n\t\t}\n\t),\n\t[PLAYBOOK_FETCH_ACTIVITY_CONTEXTS]: fetchActivityContextsEffect,\n\t[PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_SUCCEEDED]: fetchActivityContextsSucceededEffect,\n\t[PLAYBOOK_FETCH_ACTIVITY_CONTEXTS_FAILED]: fetchActivityContextsFailedEffect\n};\n","export { default as debounce } from './debounce';\n","function createDebounce(fn, opts) {\n\tconst { delay = 0, maxWait = null, aggregate = null } = opts;\n\tconst validAggregate = typeof aggregate === 'function';\n\tconst validMaxWait = typeof maxWait === 'number' && maxWait > delay;\n\n\tlet maxTid = null;\n\tlet tid = null;\n\tlet finalArgs = {};\n\n\t// Saving each new 'args' as 'finalArgs' and keeping 'finishDebounce'\n\t// outside of the returned 'debouncedEffect' function from below so\n\t// that we don't have to recreate a 'finishDebounce' callback function\n\t// every time 'debouncedEffect' is invoked\n\tconst finishDebounce = () => {\n\t\tclearTimeout(maxTid);\n\t\tclearTimeout(tid);\n\t\tfn(...finalArgs);\n\t\tmaxTid = null;\n\t\tfinalArgs = {};\n\t};\n\n\treturn function componentBoundDebouncedEffect(args) {\n\t\tclearTimeout(tid);\n\t\ttid = setTimeout(finishDebounce, delay);\n\n\t\tif (validMaxWait && maxTid === null)\n\t\t\tmaxTid = setTimeout(finishDebounce, maxWait);\n\n\t\tfinalArgs = validAggregate ? aggregate(finalArgs, args) : args;\n\t};\n}\n\n/*\n\tThis is a modified version of the Seismic debounce modifier\n\thttps://code.devsnc.com/dev/sn-seismic/blob/master/packages/core/src/effects/modifiers/debounce.js\n\n\tTODO: Uptake Seismic debounce modifier once they've merged our PR with our enhancements\n*/\nexport default function aggregateDebounce(fn, opts) {\n\tconst debounceMap = new WeakMap();\n\n\t// The debouncedEffect closure is created and shared by all instances of a particular component definition\n\treturn function debouncedEffect(...args) {\n\t\tconst idx = args.length - 1 || 0;\n\t\tconst coeffects = args[idx];\n\t\tconst { host } = coeffects;\n\n\t\tif (!host) return;\n\n\t\tif (!debounceMap.has(host)) {\n\t\t\tdebounceMap.set(host, createDebounce(fn, opts));\n\t\t}\n\n\t\tconst componentBoundDebounce = debounceMap.get(host);\n\t\tcomponentBoundDebounce(args);\n\t};\n}\n","import { get } from 'lodash';\nimport {\n\tPLAYBOOK_CLEAR_ACTIVITY_LOADING,\n\tPLAYBOOK_SET_ACTIVITY_LOADING\n} from '../../constants';\nimport { debounce } from '../../effects';\n\n/*\n    \tloadingActivities = {\n        \t<contextId>: <indicator>\n    \t}\n\n\tloadingActivities[<contextId>] is a loading indicator, a number where\n\tindicator > 0 means it warrants a loading status on a Card with <contextId>.\n\tindicator <= 0 means card is not loading. Depending on card author's\n\tintentions, a 'loading=true' request is usually followed by a 'loading=false'\n\trequest.\n*/\n\nconst createActivityLoadingActionHandlers = (setCoeffectsPayload) => {\n\tconst setActivityLoadingEffect = ({ action, updateProperties }) => {\n\t\tconst requests = get(action, 'payload.requests', []);\n\n\t\tupdateProperties(({ properties }) => {\n\t\t\tconst loadingActivities = {\n\t\t\t\t...(properties.loadingActivities || {})\n\t\t\t};\n\n\t\t\trequests.forEach(({ contextId, loading }) => {\n\t\t\t\tif (!contextId || typeof loading !== 'boolean')\n\t\t\t\t\treturn { shouldUpdate: false };\n\n\t\t\t\tlet indicator = get(loadingActivities, contextId, 0);\n\n\t\t\t\tloading ? indicator++ : indicator--;\n\n\t\t\t\tindicator > 0\n\t\t\t\t\t? (loadingActivities[contextId] = indicator)\n\t\t\t\t\t: delete loadingActivities[contextId];\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tpath: 'loadingActivities',\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue: loadingActivities\n\t\t\t};\n\t\t});\n\t};\n\n\tconst clearActivityLoading = ({\n\t\taction: { payload },\n\t\tupdateProperties\n\t}) => {\n\t\tupdateProperties(({ properties }) => {\n\t\t\tconst contextId = payload.contextId;\n\n\t\t\tif (!contextId) return { shouldUpdate: false };\n\n\t\t\tconst loadingActivities = {\n\t\t\t\t...(properties.loadingActivities || {})\n\t\t\t};\n\t\t\tdelete loadingActivities[contextId];\n\n\t\t\treturn {\n\t\t\t\tpath: 'loadingActivities',\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue: loadingActivities\n\t\t\t};\n\t\t});\n\t};\n\n\treturn {\n\t\t// Prevent card from flickering due to too many loading requets\n\t\t[PLAYBOOK_SET_ACTIVITY_LOADING]: debounce(setActivityLoadingEffect, {\n\t\t\tdelay: 200,\n\t\t\taggregate: (args = [], nextArgs = []) => {\n\t\t\t\tconst idx = nextArgs.length - 1 || 0; // 'coeffects' is the last argument passed to Action Handler\n\t\t\t\tconst oldRequests = get(\n\t\t\t\t\targs[idx],\n\t\t\t\t\t'action.payload.requests',\n\t\t\t\t\t[]\n\t\t\t\t); // args[0] is 'coeffects'\n\n\t\t\t\tconst { contextId, loading, requests: newRequests = [] } = get(\n\t\t\t\t\tnextArgs[idx],\n\t\t\t\t\t'action.payload',\n\t\t\t\t\t{}\n\t\t\t\t); // nextArgs[0] is 'coeffects'\n\n\t\t\t\tconst newArgs = [...nextArgs];\n\n\t\t\t\tnewArgs[idx] = setCoeffectsPayload(nextArgs[idx], {\n\t\t\t\t\trequests: [\n\t\t\t\t\t\t...oldRequests,\n\t\t\t\t\t\t...(newRequests.length\n\t\t\t\t\t\t\t? newRequests\n\t\t\t\t\t\t\t: [{ contextId, loading }])\n\t\t\t\t\t]\n\t\t\t\t});\n\n\t\t\t\treturn newArgs;\n\t\t\t}\n\t\t}),\n\t\t[PLAYBOOK_CLEAR_ACTIVITY_LOADING]: clearActivityLoading\n\t};\n};\n\nexport default createActivityLoadingActionHandlers;\n","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { get } from 'lodash';\nimport {\n\tPLAYBOOK_ADD_OR_UPDATE_ACTIVITIES,\n\tSKIP_ACTIVITY,\n\tSKIP_ACTIVITY_REQUEST,\n\tSKIP_ACTIVITY_SUCCEEDED\n} from '../../constants';\nimport { CARD_QUERY } from '../../gql.constants';\n\nconst skipActivityQuery = `\n\tquery($contextId: String!) {\n\t\tGlidePlaybookContext_Query {\n\t\t\tskipActivityContext(contextId: $contextId, playbookExperienceId: \"{{playbookExperienceId}}\") {\n\t\t\t\t${CARD_QUERY}\n\t\t\t}\n\t\t}\n\t}\n`;\n\n// TODO: Create fail handler\nconst skipActivityEffect = createGraphQLEffect(skipActivityQuery, {\n\tvariableList: ['contextId'],\n\ttemplateVarList: ['playbookExperienceId'],\n\tsuccessActionType: SKIP_ACTIVITY_SUCCEEDED\n});\n\nconst skipAcitivitySucceededEffect = ({ action, dispatch }) => {\n\tconst activity = get(\n\t\taction,\n\t\t'payload.data.GlidePlaybookContext_Query.skipActivityContext',\n\t\tnull\n\t);\n\n\tif (activity)\n\t\tdispatch(PLAYBOOK_ADD_OR_UPDATE_ACTIVITIES, {\n\t\t\tactivities: [activity]\n\t\t});\n};\nconst activitySkipActionHandlers = {\n\t[SKIP_ACTIVITY]: {\n\t\teffect: ({\n\t\t\tdispatch,\n\t\t\taction: {\n\t\t\t\tpayload: { contextId }\n\t\t\t},\n\t\t\tproperties: { playbookExperienceId }\n\t\t}) => {\n\t\t\tdispatch(SKIP_ACTIVITY_REQUEST, {\n\t\t\t\tcontextId,\n\t\t\t\tplaybookExperienceId\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[SKIP_ACTIVITY_REQUEST]: skipActivityEffect,\n\t[SKIP_ACTIVITY_SUCCEEDED]: skipAcitivitySucceededEffect\n};\n\nexport default activitySkipActionHandlers;\n","import { createAmbSubscriptionEffect } from '@servicenow/ui-effect-amb';\nimport { get } from 'lodash';\nimport {\n\tAMB_CHANNEL_ID,\n\tCARD_STATE_VALUES,\n\tLANE_STATE_VALUES,\n\tPLAYBOOK_CHANNEL_UPDATE_RECEIVED,\n\tPLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS,\n\tPLAYBOOK_REQUEST_FETCH_PLAYBOOKS,\n\tPLAYBOOK_STATE_VALUES,\n\tPLAYBOOK_SUBSCRIBE\n} from '../../constants';\n\nexport const ambPlaybookHandlers = {\n\t[PLAYBOOK_SUBSCRIBE]: createAmbSubscriptionEffect(AMB_CHANNEL_ID, {\n\t\tmessageReceivedActionType: PLAYBOOK_CHANNEL_UPDATE_RECEIVED,\n\t\tencodeURIComponentForChannelId: false\n\t}),\n\t[PLAYBOOK_CHANNEL_UPDATE_RECEIVED]: ({\n\t\taction,\n\t\tdispatch,\n\t\tupdateProperties\n\t}) => {\n\t\tupdateProperties(({ properties }) => {\n\t\t\tconst playbookContext = get(action, 'payload.data.PDContext', {});\n\n\t\t\tconst {\n\t\t\t\tid: playbookContextId,\n\t\t\t\tLaneContexts: laneContexts\n\t\t\t} = playbookContext;\n\n\t\t\tconst playbook = properties.playbooksByContextId[playbookContextId];\n\n\t\t\tconst { playbookExperienceId } = properties;\n\n\t\t\tif (!playbook) {\n\t\t\t\tdispatch(PLAYBOOK_REQUEST_FETCH_PLAYBOOKS, {\n\t\t\t\t\tsysIds: [playbookContextId],\n\t\t\t\t\tplaybookExperienceId\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\tshouldUpdate: false\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst currentPlaybookState = playbook.state || {};\n\t\t\tconst nextPlaybookState = playbookContext.state || {};\n\n\t\t\tlet nextPlaybook = null;\n\n\t\t\tif (\n\t\t\t\tnextPlaybookState.value &&\n\t\t\t\tnextPlaybookState.value !== currentPlaybookState.value\n\t\t\t) {\n\t\t\t\tnextPlaybook = {\n\t\t\t\t\t...playbook,\n\t\t\t\t\tstate: nextPlaybookState\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tlet activityContexts = [];\n\n\t\t\tif (\n\t\t\t\tisPlaybookBeingCancelled(\n\t\t\t\t\tcurrentPlaybookState,\n\t\t\t\t\tnextPlaybookState\n\t\t\t\t)\n\t\t\t)\n\t\t\t\tactivityContexts = getPendingActivityContextIds(playbook);\n\n\t\t\tif (laneContexts && laneContexts.length) {\n\t\t\t\tlaneContexts.forEach((newLane) => {\n\t\t\t\t\tconst laneIdx = playbook.lanes.findIndex(\n\t\t\t\t\t\t({ name }) => name === newLane.name\n\t\t\t\t\t);\n\n\t\t\t\t\tif (laneIdx === -1) return { shouldUpdate: false };\n\n\t\t\t\t\tconst currentLaneState = get(\n\t\t\t\t\t\tplaybook,\n\t\t\t\t\t\t`lanes[${laneIdx}].state`,\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\n\t\t\t\t\tconst nextLaneState = newLane.state || {};\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tnextLaneState.value &&\n\t\t\t\t\t\tnextLaneState.value !== currentLaneState.value\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (nextPlaybook === null)\n\t\t\t\t\t\t\tnextPlaybook = { ...playbook };\n\n\t\t\t\t\t\tconst newLanes = [...nextPlaybook.lanes];\n\n\t\t\t\t\t\tnewLanes[laneIdx] = {\n\t\t\t\t\t\t\t...nextPlaybook.lanes[laneIdx],\n\t\t\t\t\t\t\tstate: nextLaneState\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tnextLaneState.value ===\n\t\t\t\t\t\t\tLANE_STATE_VALUES.IN_PROGRESS.value\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tnewLanes[laneIdx].expanded = true;\n\n\t\t\t\t\t\tnextPlaybook.lanes = newLanes;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Array.isArray(newLane.ActivityContexts))\n\t\t\t\t\t\tactivityContexts = [\n\t\t\t\t\t\t\t...activityContexts,\n\t\t\t\t\t\t\t...newLane.ActivityContexts\n\t\t\t\t\t\t];\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (activityContexts.length)\n\t\t\t\tdispatch(PLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS, {\n\t\t\t\t\tcontextIds: activityContexts.map((ac) => ac.id)\n\t\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tpath: `playbooksByContextId.${playbookContextId}`,\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue: nextPlaybook,\n\t\t\t\tshouldUpdate: nextPlaybook !== null\n\t\t\t};\n\t\t});\n\t}\n};\n\nconst getPendingActivityContextIds = (playbook) => {\n\tlet activityContextIds = [];\n\tplaybook.lanes.forEach((lane) => {\n\t\tlane.cards.forEach((card) => {\n\t\t\tif (card.state.value === CARD_STATE_VALUES.PENDING.value)\n\t\t\t\tactivityContextIds.push({\n\t\t\t\t\tid: card.contextId\n\t\t\t\t});\n\t\t});\n\t});\n\n\treturn activityContextIds;\n};\n\nexport const isPlaybookBeingCancelled = (\n\tcurrentPlaybookState,\n\tnextPlaybookState\n) => {\n\tif (currentPlaybookState.value === PLAYBOOK_STATE_VALUES.CANCELLED)\n\t\treturn false;\n\n\tif (\n\t\tnextPlaybookState.value === PLAYBOOK_STATE_VALUES.CANCELLED ||\n\t\tnextPlaybookState.value === PLAYBOOK_STATE_VALUES.PENDING_CANCEL\n\t)\n\t\treturn true;\n\n\treturn false;\n};\n","module.exports = __TECTONIC__$servicenow_ui_effect_amb;","import { get } from 'lodash';\nimport {\n\tPLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS,\n\tPLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS,\n\tPLAYBOOK_RW_BATCH_SUBSCRIBE,\n\tPLAYBOOK_RW_CHANNEL_UPDATE_RECEIVED\n} from '../../constants';\nimport { processWatchingRecords } from '../../effects/amb-batch-subscription';\nimport createAmbBatchSubscriptionEffect from '../../effects/amb-batch-subscription/ambBatchSubscriptionEffect';\nimport { constructRWQueryBatchFromRecordsMap, getChannelId } from '../ambUtils';\n\n/*\n\t'PLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS' is the only action that should\n\tbe dispatched from other components. The action payload should include\n\tproperties 'toBeAdded' and/or 'toBeRemoved' in this format:\n\n\t{\n\t\t'toBeAdded': {\n\t\t\t'incident': [\n\t\t\t\t'3ca8265bc7670010bfbaf89f51c26033',\n\t\t\t\t'bca8265bc7670010bfbaf89f51c26033'\n\t\t\t]\n\t\t},\n\t\t'toBeRemoved': {\n\t\t\t'problem': [\n\t\t\t\t'51b8265bc7670010bfbaf89f51c260dd'\n\t\t\t]\n\t\t}\n\t}\n\n\tRead comments for method 'processWatchingRecords' to see how 'channelId' is\n\tbuilt and how it works when subscribing and unsubscribing multiple channels\n\tat the same time\n*/\nconst handlers = {\n\t[PLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS]: ({\n\t\taction,\n\t\tdispatch,\n\t\tstate,\n\t\tupdateState\n\t}) => {\n\t\tconst unsubscribeAll = get(action, 'payload.unsubscribeAll', false);\n\t\t// If unsubscribeAll, skip all processing\n\t\tif (unsubscribeAll) {\n\t\t\tdispatch(PLAYBOOK_RW_BATCH_SUBSCRIBE, { unsubscribeAll });\n\t\t\treturn;\n\t\t}\n\n\t\tconst toBeAddedRecords = get(action, 'payload.toBeAdded', {});\n\t\tconst toBeRemovedRecords = get(action, 'payload.toBeRemoved', {});\n\t\tconst watchingRecords = state.watchingRecords || {};\n\n\t\tconst {\n\t\t\tnextWatchingRecords,\n\t\t\ttoBeSubscribedRecords,\n\t\t\ttoBeUnsubscribedRecords\n\t\t} = processWatchingRecords(\n\t\t\twatchingRecords,\n\t\t\ttoBeAddedRecords,\n\t\t\ttoBeRemovedRecords\n\t\t);\n\n\t\tif (\n\t\t\t!Object.keys(toBeSubscribedRecords).length &&\n\t\t\t!Object.keys(toBeUnsubscribedRecords).length\n\t\t)\n\t\t\treturn;\n\n\t\tconst toBeSubscribedBatch = constructRWQueryBatchFromRecordsMap(\n\t\t\ttoBeSubscribedRecords\n\t\t);\n\t\tconst toBeUnsubscribedBatch = constructRWQueryBatchFromRecordsMap(\n\t\t\ttoBeUnsubscribedRecords\n\t\t);\n\t\tconst channelIds = [];\n\t\t// Note it's important that 'toBeUnsubscribedBatch' is pushed in BEFORE\n\t\t// 'toBeSubscribedBatch', so that if the same 'channelId' exists in both\n\t\t// collections, the subscribe wins over the unsubscribe.\n\t\tObject.entries(toBeUnsubscribedBatch).forEach(([table, filter]) => {\n\t\t\tchannelIds.push({\n\t\t\t\tchannelId: getChannelId(table, filter),\n\t\t\t\tsubscribe: false\n\t\t\t});\n\t\t});\n\n\t\tObject.entries(toBeSubscribedBatch).forEach(([table, filter]) => {\n\t\t\tchannelIds.push({\n\t\t\t\tchannelId: getChannelId(table, filter),\n\t\t\t\tsubscribe: true\n\t\t\t});\n\t\t});\n\n\t\tdispatch(PLAYBOOK_RW_BATCH_SUBSCRIBE, { channelIds });\n\t\tupdateState({ watchingRecords: nextWatchingRecords });\n\t},\n\t[PLAYBOOK_RW_BATCH_SUBSCRIBE]: createAmbBatchSubscriptionEffect({\n\t\tmessageReceivedActionType: PLAYBOOK_RW_CHANNEL_UPDATE_RECEIVED,\n\t\tencodeURIComponentForChannelId: false\n\t\t// TODO: on 'subscribeFailedActionType', we can try again to subscribe\n\t\t// to the same records. After a maximum number of tries is exceeded,\n\t\t// we also need to remove the failed records from 'watchingRecords'.\n\t}),\n\t[PLAYBOOK_RW_CHANNEL_UPDATE_RECEIVED]: ({\n\t\taction,\n\t\tdispatch,\n\t\tstate,\n\t\tupdateProperties\n\t}) => {\n\t\tconst {\n\t\t\ttable_name: tableName,\n\t\t\tsys_id: sysId,\n\t\t\tchanges = [],\n\t\t\toperation\n\t\t} = get(action, 'payload.data', {});\n\n\t\tconst watchingRecords = state.watchingRecords || {};\n\n\t\tif (\n\t\t\t!watchingRecords.hasOwnProperty(tableName) ||\n\t\t\t!watchingRecords[tableName].includes(sysId)\n\t\t)\n\t\t\treturn;\n\n\t\tconst playbooks = get(\n\t\t\tstate.properties,\n\t\t\t'playbookContextIdsInOrder',\n\t\t\t[]\n\t\t).map((id) => get(state.properties, `playbooksByContextId.${id}`));\n\n\t\tconst commentsOnlyUpdate =\n\t\t\toperation === 'update' &&\n\t\t\tchanges.length === 1 &&\n\t\t\tchanges.includes('comments');\n\t\tconst workNotesOnlyUpdate =\n\t\t\toperation === 'update' &&\n\t\t\tchanges.length === 1 &&\n\t\t\tchanges.includes('work_notes');\n\t\tconst checkBoxOnlyUpdate =\n\t\t\toperation === 'update' &&\n\t\t\tchanges.length === 2 &&\n\t\t\tchanges.includes('activity_due') &&\n\t\t\tchanges.includes('work_notes');\n\n\t\tconst contextIdsToUpdate = new Set();\n\t\tconst { parentTable, parentSysId } = state.properties;\n\n\t\tif (tableName === parentTable && sysId === parentSysId) {\n\t\t\tupdateProperties({ parentRecordUpdateTime: Date.now() });\n\t\t}\n\n\t\tplaybooks.forEach(({ lanes = [] }) => {\n\t\t\tlanes.forEach(({ cards = [] }) => {\n\t\t\t\tcards.forEach(\n\t\t\t\t\t({\n\t\t\t\t\t\tassociatedTable,\n\t\t\t\t\t\tassociatedRecord,\n\t\t\t\t\t\trecordFieldHasComments,\n\t\t\t\t\t\tcontextId,\n\t\t\t\t\t\tactivityProperties: {\n\t\t\t\t\t\t\texperience_status_table: {\n\t\t\t\t\t\t\t\tvalue: statusTable\n\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\texperience_status_record: {\n\t\t\t\t\t\t\t\tvalue: statusRecord\n\t\t\t\t\t\t\t} = {}\n\t\t\t\t\t\t} = {}\n\t\t\t\t\t}) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t(associatedTable === tableName &&\n\t\t\t\t\t\t\t\tassociatedRecord === sysId) ||\n\t\t\t\t\t\t\t(statusTable === tableName &&\n\t\t\t\t\t\t\t\tstatusRecord === sysId)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst shouldIgnoreUpdate =\n\t\t\t\t\t\t\t\t!recordFieldHasComments &&\n\t\t\t\t\t\t\t\t(commentsOnlyUpdate ||\n\t\t\t\t\t\t\t\t\tworkNotesOnlyUpdate ||\n\t\t\t\t\t\t\t\t\tcheckBoxOnlyUpdate);\n\t\t\t\t\t\t\tif (shouldIgnoreUpdate) return;\n\t\t\t\t\t\t\tcontextIdsToUpdate.add(contextId);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tif (contextIdsToUpdate.size)\n\t\t\tdispatch(PLAYBOOK_REQUEST_FETCH_ACTIVITY_CONTEXTS, {\n\t\t\t\tcontextIds: Array.from(contextIdsToUpdate.values())\n\t\t\t});\n\t}\n};\n\nexport default handlers;\n","import cuid from 'cuid';\nimport get from 'lodash/get';\nimport getAMBClient from './amb-client';\nimport {\n\tcreateActionTypes,\n\tcreateResolvedChannel,\n\tcreateSubscribeMessage,\n\tcreateSubscriptionCallback,\n\tcreateUnsubscribeMessage\n} from './effectUtils';\n\nfunction createRegistryId(containerId, subscriptionId) {\n\treturn `${containerId}-${subscriptionId}`;\n}\nfunction createSubscriptionId() {\n\treturn cuid();\n}\n\n/*\n\tambRegistry = {\n\t\t<registryId>: {\n\t\t\t<channelId>: ChannelListener\n\t\t}\n\t}\n\n\tTODO: Uptake Seismic createBatchSubscriptionEffect once they've merged our PR with our enhancements\n*/\nconst ambRegistry = new Map();\n\nconst cleanAMBRegistry = (ambRegistry, registryId) => {\n\tif (!ambRegistry || !ambRegistry.has(registryId)) return;\n\n\tif (!ambRegistry.get(registryId).size)\n\t\t// channelListenerRegistry is empty\n\t\tambRegistry.delete(registryId);\n};\n\nconst batchMessages = (ambClient, messages = {}) => {\n\tif (!ambClient || !messages.size) return;\n\n\tambClient.batch(() => {\n\t\tmessages.forEach((msg) => typeof msg === 'function' && msg());\n\t});\n};\n\nexport function ambSubscriptionEffect(\n\tambClient,\n\tsubscriptionId,\n\tambRegistry,\n\toptions = {},\n\tcoeffects\n) {\n\tconst { action, dispatch } = coeffects;\n\tconst actionTypes = createActionTypes(options);\n\tconst containerId = get(action, 'meta.id');\n\tconst unsubscribeAll = get(action, 'payload.unsubscribeAll', false);\n\tconst registryId = createRegistryId(containerId, subscriptionId);\n\n\tif (!ambRegistry.has(registryId)) ambRegistry.set(registryId, new Map());\n\n\tconst channelListenerRegistry = ambRegistry.get(registryId);\n\t/*\n\t\tUsing a Map for cases where the collection of 'channelIds' has duplicating\n\t\tids, for example:\n\n\t\t\t[{\n\t\t\t\tchannelId: \"/rw/default/incident/c3lzX2lkPWVkOTJlOGQxNzNkMDIzMDA\n\t\t\t\t\t\t\tyNzI4NjYwYzRjZjZhN2Jj\",\n\t\t\t\tsubscribe: false\n\t\t\t},\n\t\t\t{\n\t\t\t\tchannelId: \"/rw/default/incident/c3lzX2lkPWVkOTJlOGQxNzNkMDIzMDA\n\t\t\t\t\t\t\tyNzI4NjYwYzRjZjZhN2Jj\",\n\t\t\t\tsubscribe: true\n\t\t\t}]\n\n\t\tIn which case we will take which ever appears last in the collection\n\t*/\n\tconst messages = new Map();\n\n\tif (unsubscribeAll) {\n\t\tchannelListenerRegistry.forEach((channelListener) => {\n\t\t\tconst metaData = {\n\t\t\t\t...action.meta,\n\t\t\t\tchannelId: channelListener.getName()\n\t\t\t};\n\t\t\tconst msg = () =>\n\t\t\t\tcreateUnsubscribeMessage(\n\t\t\t\t\tchannelListener,\n\t\t\t\t\tactionTypes,\n\t\t\t\t\tmetaData,\n\t\t\t\t\tdispatch\n\t\t\t\t);\n\t\t\tmessages.set(channelListener, msg);\n\t\t});\n\n\t\tchannelListenerRegistry.clear();\n\t\tbatchMessages(ambClient, messages);\n\t\tcleanAMBRegistry(ambRegistry, registryId);\n\t\treturn;\n\t}\n\n\tconst encodeURIComponentForChannelId = !(\n\t\toptions.encodeURIComponentForChannelId === false\n\t);\n\tconst channelIds = get(action, 'payload.channelIds', []);\n\n\tchannelIds.forEach(({ channelId, subscribe }) => {\n\t\tconst shouldSubscribe = subscribe === true;\n\t\tconst hasChannelListener = channelListenerRegistry.has(channelId);\n\n\t\tif (hasChannelListener) {\n\t\t\tconst channelListener = channelListenerRegistry.get(channelId);\n\t\t\t// If ChannelListener exists and the action payload is asking us to\n\t\t\t// subscribe, we don't need to subscribe again\n\t\t\tif (shouldSubscribe) return;\n\t\t\t// If ChannelListener exists and the action payload is asking us to\n\t\t\t// UN-subscribe, we will unsubscribe\n\t\t\tconst metaData = {\n\t\t\t\t...action.meta,\n\t\t\t\tchannelId: channelListener.getName()\n\t\t\t};\n\t\t\tconst msg = () =>\n\t\t\t\tcreateUnsubscribeMessage(\n\t\t\t\t\tchannelListener,\n\t\t\t\t\tactionTypes,\n\t\t\t\t\tmetaData,\n\t\t\t\t\tdispatch\n\t\t\t\t);\n\t\t\tmessages.set(channelId, msg);\n\t\t\t// Currently 'amb.Channel.unsubscribeFromCometD' does not\n\t\t\t// provide a callback (though 'amb.Channel.subscribeToCometD' does)\n\t\t\t// so that we can be certain that unsubscribing is successful before\n\t\t\t// we remove the existing channelListener\n\t\t\t// https://code.devsnc.com/dev/amb-client-js/blob/de6859671358297004e9099890140b186962bba6/src/amb.Channel.js#L130\n\t\t\t//\n\t\t\t// Although this is possible according to cometd's documentation for\n\t\t\t// version 3.1.12., amb-client-js uses 3.1.4\n\t\t\t// https://docs.cometd.org/current3/reference/#_javascript_subscribe\n\t\t\t// `cometd.unsubscribe(subscription1, additional, function(unsubscribeReply)`\n\t\t\tchannelListenerRegistry.delete(channelId);\n\t\t} else if (shouldSubscribe) {\n\t\t\t// If no ChannelListener exists for the 'channelId' provided AND\n\t\t\t// should subscribe, create ChannelListener and subscribe\n\t\t\tconst cache = {};\n\t\t\t// Only add channelListener to the channelListenerRegistry when the\n\t\t\t// Promise returned from the server is successful\n\t\t\tconst resolvedChannel = createResolvedChannel(\n\t\t\t\tchannelId,\n\t\t\t\taction.payload,\n\t\t\t\tencodeURIComponentForChannelId\n\t\t\t);\n\t\t\tconst metaData = { ...action.meta, channelId: resolvedChannel };\n\t\t\tconst registerChannelListener = () => {\n\t\t\t\tchannelListenerRegistry.set(channelId, cache.channelListener);\n\t\t\t\tambRegistry.set(registryId, channelListenerRegistry);\n\t\t\t};\n\t\t\tconst subscriptionCallback = createSubscriptionCallback(\n\t\t\t\tdispatch,\n\t\t\t\toptions,\n\t\t\t\tmetaData,\n\t\t\t\tregisterChannelListener\n\t\t\t);\n\t\t\tconst channelListener = ambClient.getChannel(resolvedChannel, {\n\t\t\t\tsubscriptionCallback\n\t\t\t});\n\t\t\tconst msg = () =>\n\t\t\t\tcreateSubscribeMessage(\n\t\t\t\t\tchannelListener,\n\t\t\t\t\tactionTypes,\n\t\t\t\t\tmetaData,\n\t\t\t\t\tdispatch\n\t\t\t\t);\n\t\t\tmessages.set(channelId, msg);\n\t\t\tcache.channelListener = channelListener;\n\t\t}\n\t});\n\n\tbatchMessages(ambClient, messages);\n\tcleanAMBRegistry(ambRegistry, registryId);\n}\n\nexport default function createAmbBatchSubscriptionEffect(options) {\n\treturn {\n\t\teffect: ambSubscriptionEffect,\n\t\targs: [getAMBClient(), createSubscriptionId(), ambRegistry, options]\n\t};\n}\n","module.exports = __TECTONIC__cuid_2_1_4;","const clone = (dest, source) => {\n\tfor (let prop in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, prop))\n\t\t\tdest[prop] = source[prop];\n\t}\n\treturn dest;\n};\n\nconst wrapClient = (client, clientWindow) => {\n\tif (typeof client.getClientWindow !== 'undefined') {\n\t\tconst context = client.getClientWindow();\n\n\t\t// we don't need to wrap the client\n\t\tif (context === clientWindow) {\n\t\t\treturn client;\n\t\t}\n\t}\n\n\tconst wrappedClient = clone({}, client);\n\twrappedClient.getChannel = function (\n\t\tchannelName,\n\t\tsubscriptionConfig,\n\t\toverrideWindow\n\t) {\n\t\treturn client.getChannel(\n\t\t\tchannelName,\n\t\t\tsubscriptionConfig,\n\t\t\toverrideWindow || clientWindow\n\t\t);\n\t};\n\twrappedClient.getRecordWatcherChannel = function (\n\t\ttable,\n\t\tquery,\n\t\tactionPrefix,\n\t\tsubscriptionConfig,\n\t\toverrideWindow\n\t) {\n\t\treturn client.getRecordWatcherChannel(\n\t\t\ttable,\n\t\t\tquery,\n\t\t\tactionPrefix,\n\t\t\tsubscriptionConfig,\n\t\t\toverrideWindow || clientWindow\n\t\t);\n\t};\n\twrappedClient.subscribeToEvent = function (\n\t\tevent,\n\t\tcallback,\n\t\toverrideWindow\n\t) {\n\t\treturn client.subscribeToEvent(\n\t\t\tevent,\n\t\t\tcallback,\n\t\t\toverrideWindow || clientWindow\n\t\t);\n\t};\n\twrappedClient.unsubscribeFromEvent = function (id, overrideWindow) {\n\t\treturn client.unsubscribeFromEvent(id, overrideWindow || clientWindow);\n\t};\n\twrappedClient.getClientWindow = function () {\n\t\treturn clientWindow;\n\t};\n\treturn wrappedClient;\n};\n\nconst getParentAmbClient = () => {\n\tlet clientWindow = window;\n\tdo {\n\t\tif (clientWindow.g_ambClient) return clientWindow.g_ambClient;\n\t\tclientWindow = clientWindow.parent;\n\t} while (clientWindow !== clientWindow.parent);\n\n\t// eslint-disable-next-line no-console\n\tconsole.error('no amb client found');\n};\n\nlet ambClient;\nconst getAMBClient = function () {\n\tif (!ambClient) {\n\t\tlet client = getParentAmbClient(window);\n\t\tambClient = wrapClient(client, window);\n\t}\n\treturn ambClient;\n};\n\nexport default getAMBClient;\n","import pathToRegexp from 'path-to-regexp';\nimport {\n\tAMB_CHANNEL_SUBSCRIBE_FAILED,\n\tAMB_CHANNEL_SUBSCRIBE_STARTED,\n\tAMB_CHANNEL_SUBSCRIBE_SUCCEEDED,\n\tAMB_CHANNEL_UNSUBSCRIBE_SUCCEEDED,\n\tAMB_MESSAGE_RECEIVED\n} from './constants';\n\nfunction replaceChannelParameters(\n\tchannelId,\n\tchannelParams = {},\n\tencodeURIComponentForChannelId = true\n) {\n\tconst toPath = pathToRegexp.compile(channelId);\n\tconst toPathOptions =\n\t\tencodeURIComponentForChannelId === false\n\t\t\t? { encode: (str) => str }\n\t\t\t: {};\n\treturn toPath(channelParams, toPathOptions);\n}\n\nexport const createResolvedChannel = (\n\tchannelId,\n\tactionPayload,\n\tencodeURIComponentForChannelId\n) => {\n\treturn replaceChannelParameters(\n\t\tchannelId,\n\t\tactionPayload,\n\t\tencodeURIComponentForChannelId\n\t);\n};\n\nexport const createActionTypes = (options = {}) => ({\n\tsubscribeStartedActionType:\n\t\toptions.subscribeStartedActionType || AMB_CHANNEL_SUBSCRIBE_STARTED,\n\tsubscribeSucceededActionType:\n\t\toptions.subscribeSucceededActionType || AMB_CHANNEL_SUBSCRIBE_SUCCEEDED,\n\tsubscribeFailedActionType:\n\t\toptions.subscribeFailedActionType || AMB_CHANNEL_SUBSCRIBE_FAILED,\n\tunsubscribeSucceededActionType:\n\t\toptions.unsubscribeSucceededActionType ||\n\t\tAMB_CHANNEL_UNSUBSCRIBE_SUCCEEDED,\n\tmessageReceivedActionType:\n\t\toptions.messageReceivedActionType || AMB_MESSAGE_RECEIVED\n});\n\nexport const createSubscriptionCallback = (\n\tdispatch,\n\tactionOptions,\n\tmetaData,\n\tsuccessCallback\n) => {\n\t// Use setTimeout because of an AMB client subscription timing issue\n\treturn (response) =>\n\t\tsetTimeout(() => {\n\t\t\tif (response.successful) {\n\t\t\t\ttypeof successCallback === 'function' && successCallback();\n\t\t\t\tdispatch(\n\t\t\t\t\tactionOptions.subscribeSucceededActionType,\n\t\t\t\t\t{ response },\n\t\t\t\t\tmetaData\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst { error } = response;\n\t\t\t\tdispatch(\n\t\t\t\t\tactionOptions.subscribeFailedActionType,\n\t\t\t\t\terror,\n\t\t\t\t\tmetaData,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\t\t});\n};\n\nexport const isSubscribed = (channelListener) =>\n\tchannelListener && channelListener.getCallback() !== undefined;\n\nexport const createSubscribeMessage = (\n\tchannelListener,\n\tactionTypes,\n\tmetaData,\n\tdispatch\n) => {\n\tif (isSubscribed(channelListener)) return;\n\n\tchannelListener.subscribe((message) =>\n\t\tdispatch(actionTypes.messageReceivedActionType, message, metaData)\n\t);\n\n\tdispatch(actionTypes.subscribeStartedActionType, {}, metaData);\n};\n\nexport const createUnsubscribeMessage = (\n\tchannelListener,\n\tactionTypes,\n\tmetaData,\n\tdispatch\n) => {\n\tif (!isSubscribed(channelListener)) return;\n\n\tchannelListener.unsubscribe();\n\tdispatch(actionTypes.unsubscribeSucceededActionType, {}, metaData);\n};\n","module.exports = __TECTONIC__path_to_regexp_3_0_0;","import { get, isEmpty } from 'lodash';\nimport {\n\tNOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED,\n\tNOW_DROPDOWN_CUSTOM_TARGET_OPENED_SET,\n\tPLAYBOOK_CLEAN_SELECTED_FILTERS,\n\tPLAYBOOK_NOTIFICATION,\n\tPLAYBOOK_UPDATE_FILTER\n} from '../../constants';\nimport { NOTIFICATION_ZERO_FILTER_RESULTS } from '../../notification.constants';\nconst filterActionHandlers = (\n\tcleanUpFilter,\n\tcombineSelectedFilters,\n\tevaluateFilterOnCard,\n\treduceSelectedFilters\n) => {\n\treturn {\n\t\t[NOW_DROPDOWN_CUSTOM_TARGET_OPENED_SET]: ({\n\t\t\taction,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst { playbookContextId, value } = get(action, 'payload', null);\n\t\t\tconst filterOpenedPath = `playbooksByContextId.${playbookContextId}.filterOpened`;\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: filterOpenedPath,\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue\n\t\t\t}));\n\t\t},\n\t\t[NOW_DROPDOWN_CUSTOM_TARGET_ITEM_CLICKED]: ({\n\t\t\taction,\n\t\t\tdispatch,\n\t\t\tstate,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst { label, filterSection } = get(action, 'payload.item', {});\n\t\t\tconst { playbookContextId } = get(action, 'payload', null);\n\n\t\t\tif (!playbookContextId) return;\n\n\t\t\tconst selectedFiltersPath = `playbooksByContextId.${playbookContextId}.selectedFilters`;\n\n\t\t\tconst selectedFilters = get(\n\t\t\t\tstate.properties,\n\t\t\t\tselectedFiltersPath,\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\tif (!filterSection) return;\n\n\t\t\tconst hasItem = (selectedFilters[filterSection] || {})[label];\n\t\t\t// If panel item is already selected, meaning 'hasItem' has a truthy value,\n\t\t\t// we want to unselect this panel item\n\t\t\tconst shouldBeSelected = !hasItem;\n\n\t\t\tconst value = combineSelectedFilters(selectedFilters, {\n\t\t\t\tfilterSection,\n\t\t\t\tlabel,\n\t\t\t\tshouldBeSelected\n\t\t\t});\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: selectedFiltersPath,\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue\n\t\t\t}));\n\n\t\t\tdispatch(PLAYBOOK_CLEAN_SELECTED_FILTERS, { playbookContextId });\n\t\t\tdispatch(PLAYBOOK_UPDATE_FILTER, { playbookContextId });\n\t\t},\n\t\t[PLAYBOOK_CLEAN_SELECTED_FILTERS]: ({\n\t\t\tstate: { properties },\n\t\t\taction: { payload: { playbookContextId } = {} },\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tif (!playbookContextId) return;\n\t\t\tconst playbookPath = `playbooksByContextId.${playbookContextId}`;\n\t\t\tconst playbook = get(properties, playbookPath, {});\n\t\t\tconst {\n\t\t\t\tselectedFilters = {},\n\t\t\t\ttoBeCleanedSelectedFilterOption = {},\n\t\t\t\tfilterData = {}\n\t\t\t} = playbook;\n\n\t\t\tif (isEmpty(toBeCleanedSelectedFilterOption)) return;\n\n\t\t\tconst cleanedFilters = cleanUpFilter(\n\t\t\t\tfilterData,\n\t\t\t\tselectedFilters,\n\t\t\t\ttoBeCleanedSelectedFilterOption\n\t\t\t);\n\n\t\t\tconst {\n\t\t\t\tfilterData: newFilterData,\n\t\t\t\tselectedFilters: newSelectedFilters\n\t\t\t} = cleanedFilters;\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: playbookPath,\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue: {\n\t\t\t\t\t...playbook,\n\t\t\t\t\tfilterData: newFilterData,\n\t\t\t\t\tselectedFilters: newSelectedFilters,\n\t\t\t\t\ttoBeCleanedSelectedFilterOption: {}\n\t\t\t\t}\n\t\t\t}));\n\t\t},\n\t\t[PLAYBOOK_UPDATE_FILTER]: ({\n\t\t\tstate: { properties },\n\t\t\taction: { payload: { playbookContextId } = {} },\n\t\t\tupdateProperties,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (!playbookContextId) return;\n\t\t\tconst playbookPath = `playbooksByContextId.${playbookContextId}`;\n\t\t\tconst playbook = get(properties, playbookPath, {});\n\t\t\tconst { lanes = [], selectedFilters = {} } = playbook;\n\t\t\tlet hasResults = false;\n\n\t\t\tconst {\n\t\t\t\treducedSelectedFilter,\n\t\t\t\tselectedFilterCount\n\t\t\t} = reduceSelectedFilters(selectedFilters);\n\n\t\t\tconst newLanes = lanes.map((lane) => {\n\t\t\t\tlet shouldExpand = false;\n\n\t\t\t\tconst newCards = lane.cards.map((card) => {\n\t\t\t\t\tif (isEmpty(reducedSelectedFilter)) {\n\t\t\t\t\t\tshouldExpand = undefined;\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...card,\n\t\t\t\t\t\t\tshouldExpand: false,\n\t\t\t\t\t\t\thidden: false\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tconst newCard = evaluateFilterOnCard(\n\t\t\t\t\t\treducedSelectedFilter,\n\t\t\t\t\t\tcard\n\t\t\t\t\t);\n\t\t\t\t\tshouldExpand = !newCard.hidden || shouldExpand;\n\t\t\t\t\treturn newCard;\n\t\t\t\t});\n\n\t\t\t\thasResults = shouldExpand || hasResults;\n\t\t\t\treturn {\n\t\t\t\t\t...lane,\n\t\t\t\t\tshouldExpand,\n\t\t\t\t\tcards: newCards\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tif (!hasResults && selectedFilterCount)\n\t\t\t\tdispatch(PLAYBOOK_NOTIFICATION, {\n\t\t\t\t\tnotification: NOTIFICATION_ZERO_FILTER_RESULTS\n\t\t\t\t});\n\t\t\telse dispatch(PLAYBOOK_NOTIFICATION, { notification: null });\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: playbookPath,\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue: {\n\t\t\t\t\t...playbook,\n\t\t\t\t\tlanes: newLanes,\n\t\t\t\t\tselectedFilterCount\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t};\n};\nexport default filterActionHandlers;\n","export { default as cleanUpFilter } from './cleanUpFilter.js';\nexport { default as combineSelectedFilters } from './combineSelectedFilters';\nexport { default as evaluateFilterOnCard } from './evaluateFilterOnCard.js';\nexport { default as reduceSelectedFilters } from './reduceSelectedFilters';\n","// Called on filter selection if there's a stale filter option\nconst cleanUpFilter = (\n\tfilterData = {},\n\tselectedFilters = {},\n\ttoBeCleanedSelectedFilterOption = {}\n) => {\n\tconst newFilterData = { ...filterData };\n\tconst newSelectedFilters = { ...selectedFilters };\n\n\tfor (const field in toBeCleanedSelectedFilterOption) {\n\t\tconst toBeCleanedOptions = toBeCleanedSelectedFilterOption[field];\n\n\t\tfor (const option in toBeCleanedOptions) {\n\t\t\tconst selectedOption = (selectedFilters[field] || {})[option];\n\t\t\t// Remove the option from selectedFilters\n\t\t\tif (selectedOption) {\n\t\t\t\tlet newSelectedFilter = { ...selectedFilters[field] };\n\n\t\t\t\tfor (const newSelectedOption in newSelectedFilter) {\n\t\t\t\t\tif (newSelectedOption === option)\n\t\t\t\t\t\tnewSelectedFilter[newSelectedOption] = false;\n\t\t\t\t}\n\n\t\t\t\tnewSelectedFilters[field] = newSelectedFilter;\n\t\t\t}\n\t\t\t// If this is the only option, remove category\n\t\t\tif (toBeCleanedOptions[option].removeCategory) {\n\t\t\t\tdelete newFilterData[field];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// If not the only option, remove option from the category\n\t\t\tlet newChildren = [...newFilterData[field].children];\n\t\t\tconst index = newChildren.findIndex(\n\t\t\t\t({ label }) => label === option\n\t\t\t);\n\t\t\tnewChildren.splice(index, 1);\n\t\t\tnewFilterData[field] = {\n\t\t\t\t...newFilterData[field],\n\t\t\t\tchildren: newChildren\n\t\t\t};\n\t\t}\n\t}\n\n\treturn {\n\t\tfilterData: newFilterData,\n\t\tselectedFilters: newSelectedFilters\n\t};\n};\n\nexport default cleanUpFilter;\n","/*\n * Depending on the value of 'shouldBeSelected', this method either adds the\n * newly selected filter option to the collection of 'selectedFilters' or\n * removes from it.\n */\nconst combineSelectedFilters = (\n\tselectedFilters = {},\n\t{ filterSection, label, shouldBeSelected }\n) => {\n\tconst combined = { ...selectedFilters };\n\n\tif (shouldBeSelected) {\n\t\tif (!combined[filterSection]) combined[filterSection] = {};\n\n\t\tcombined[filterSection] = {\n\t\t\t...combined[filterSection],\n\t\t\t[label]: shouldBeSelected\n\t\t};\n\t} else if ((combined[filterSection] || {})[label]) {\n\t\tdelete combined[filterSection][label];\n\t}\n\n\treturn combined;\n};\n\nexport default combineSelectedFilters;\n","import { isEmpty } from 'lodash';\n\nconst evaluateFilterOnCard = (reducedSelectedFilter = {}, card = {}) => {\n\tlet match = null,\n\t\tshouldExpand = null,\n\t\thidden = false;\n\tconst cardFilterData = card.filterData;\n\n\tfor (const [fieldName, filterValues] of Object.entries(\n\t\treducedSelectedFilter\n\t)) {\n\t\tif (!filterValues) {\n\t\t\tshouldExpand = true;\n\t\t\thidden = false;\n\t\t\tmatch = null;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (isEmpty(cardFilterData)) {\n\t\t\thidden = true;\n\t\t\tmatch = null;\n\t\t\tbreak;\n\t\t}\n\n\t\tif (!cardFilterData[fieldName]) {\n\t\t\thidden = true;\n\t\t\tmatch = null;\n\t\t\tbreak;\n\t\t}\n\n\t\tconst exp = new RegExp(filterValues);\n\t\tmatch = cardFilterData[fieldName].match(exp);\n\t\tif (match == null) {\n\t\t\thidden = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (match != null) {\n\t\tshouldExpand = true;\n\t\thidden = false;\n\t}\n\n\treturn {\n\t\t...card,\n\t\t...(shouldExpand !== null && { shouldExpand }),\n\t\thidden,\n\t\tdefer: !shouldExpand && !card.prioritized\n\t};\n};\n\nexport default evaluateFilterOnCard;\n","const reduceSelectedFilters = (selectedFilters = {}) => {\n\tlet selectedFilterCount = 0;\n\tconst reducedSelectedFilter = {};\n\n\tObject.keys(selectedFilters).forEach((filter) => {\n\t\tconst filterSection = selectedFilters[filter];\n\t\tconst newFilter = [];\n\n\t\tObject.keys(filterSection).forEach((label) => {\n\t\t\tif (filterSection[label] !== true) return;\n\n\t\t\tselectedFilterCount++;\n\t\t\tnewFilter.push(label);\n\t\t});\n\n\t\tif (newFilter.length)\n\t\t\treducedSelectedFilter[filter] = newFilter.join('|');\n\t});\n\n\treturn {\n\t\treducedSelectedFilter,\n\t\tselectedFilterCount\n\t};\n};\n\nexport default reduceSelectedFilters;\n","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport { get } from 'lodash';\nimport {\n\tNOW_ACCORDION_EXPANDED_SET,\n\tPLAYBOOK_ERROR,\n\tPLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS,\n\tPLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_GQL,\n\tPLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_STARTED,\n\tPLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_SUCCEEDED,\n\tPLAYBOOK_FETCH_ALL_PLAYBOOK_ERROR,\n\tPLAYBOOK_FETCH_PLAYBOOKS,\n\tPLAYBOOK_FETCH_PLAYBOOKS_DEBOUNCED,\n\tPLAYBOOK_FETCH_PLAYBOOK_SUCCEEDED,\n\tPLAYBOOK_REQUEST_FETCH_PLAYBOOKS,\n\tPLAYBOOK_SUBSCRIBE\n} from '../../constants';\nimport { debounce } from '../../effects';\nimport { PLAYBOOK_QUERY } from '../../gql.constants';\nimport { setCoeffectsPayload } from './utils';\n\nconst FetchPlaybookContextsByParentRecordQuery = `\n\tquery($parentTable: String!, $parentSysId: String!, $playbookExperienceId: String) {\n\t\tGlidePlaybookContext_Query {\n\t\t\tgetPlaybookContextsByParentRecord (parentTable: $parentTable, parentSysId: $parentSysId, playbookExperienceId: $playbookExperienceId) {\n\t\t\t\tprovider\n\t\t\t\tambChannel\n\t\t\t\tplaybookContexts {\n\t\t\t\t\t${PLAYBOOK_QUERY}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst FetchPlaybookContextsByIdQuery = `\nquery($sysIds: [String!], $provider: String, $playbookExperienceId: String) {\n\tGlidePlaybookContext_Query {\n\t\tgetPlaybookContexts (sysIds: $sysIds, provider: $provider, playbookExperienceId: $playbookExperienceId) {\n\t\t\t${PLAYBOOK_QUERY}\n\t\t}\n\t}\n}\n`;\n\nexport const fetchPlaybooksDebouncedEffect = ({\n\taction,\n\tdispatch,\n\tstate,\n\tproperties\n}) => {\n\tconst sysIds = get(action, 'payload.sysIds', []);\n\tconst provider = state.provider;\n\tconst playbookExperienceId = properties.playbookExperienceId;\n\n\tif (!sysIds.length || !provider) return;\n\n\tdispatch(PLAYBOOK_FETCH_PLAYBOOKS, {\n\t\tsysIds,\n\t\tprovider,\n\t\tplaybookExperienceId\n\t});\n};\n\nexport const createGraphQLActionHandlers = (getAMBChannel, processPlaybook) => {\n\tconst fetchAllPlaybookContextsEffect = createGraphQLEffect(\n\t\tFetchPlaybookContextsByParentRecordQuery,\n\t\t{\n\t\t\tvariableList: [\n\t\t\t\t'parentTable',\n\t\t\t\t'parentSysId',\n\t\t\t\t'playbookExperienceId'\n\t\t\t],\n\t\t\tstartActionType: PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_STARTED,\n\t\t\tsuccessActionType: PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_SUCCEEDED,\n\t\t\terrorActionType: PLAYBOOK_FETCH_ALL_PLAYBOOK_ERROR\n\t\t}\n\t);\n\n\tconst fetchAllPlaybookContextStartedEffect = ({ updateProperties }) => {\n\t\tupdateProperties({\n\t\t\tloading: true,\n\t\t\tplaybookContextIdsInOrder: [],\n\t\t\tplaybooksByContextId: [],\n\t\t\tnotification: null\n\t\t});\n\t};\n\n\tconst fetchAllPlaybooksFailedEffect = ({ updateProperties, dispatch }) => {\n\t\tupdateProperties({\n\t\t\tloading: false\n\t\t});\n\t\tdispatch(PLAYBOOK_ERROR);\n\t};\n\n\tconst fetchAllPlaybookContextsSucceededEffect = ({\n\t\tstate,\n\t\taction,\n\t\tdispatch,\n\t\tupdateState,\n\t\tupdateProperties\n\t}) => {\n\t\tconst errors = get(action, 'payload.errors', []);\n\n\t\tconst playbookContexts = get(\n\t\t\taction,\n\t\t\t'payload.data.GlidePlaybookContext_Query.getPlaybookContextsByParentRecord.playbookContexts',\n\t\t\t[]\n\t\t);\n\n\t\tconst ambChannel = get(\n\t\t\taction,\n\t\t\t'payload.data.GlidePlaybookContext_Query.getPlaybookContextsByParentRecord.ambChannel',\n\t\t\t''\n\t\t);\n\n\t\tconst provider = get(\n\t\t\taction,\n\t\t\t'payload.data.GlidePlaybookContext_Query.getPlaybookContextsByParentRecord.provider',\n\t\t\t''\n\t\t);\n\n\t\tif (errors.length > 0 || !ambChannel || !provider) {\n\t\t\tupdateProperties({ loading: false });\n\t\t\tdispatch(PLAYBOOK_ERROR);\n\t\t\treturn;\n\t\t}\n\n\t\tconst playbookContextIdsInOrder = playbookContexts.map(\n\t\t\t({ sysId }) => sysId\n\t\t);\n\t\tconst playbooksByContextId = {};\n\n\t\tfor (let playbookContext of playbookContexts) {\n\t\t\tconst { sysId } = playbookContext;\n\t\t\tconst playbook = processPlaybook(state, playbookContext, dispatch);\n\n\t\t\tif (!playbook) return;\n\n\t\t\tplaybooksByContextId[sysId] = playbook;\n\t\t}\n\n\t\tupdateState({\n\t\t\tambChannel,\n\t\t\tprovider\n\t\t});\n\n\t\tupdateProperties({\n\t\t\tloading: false,\n\t\t\tplaybookContextIdsInOrder,\n\t\t\tplaybooksByContextId\n\t\t});\n\n\t\tdispatch(PLAYBOOK_SUBSCRIBE, {\n\t\t\tchannelId: getAMBChannel(ambChannel, state.properties.parentSysId),\n\t\t\tsubscribe: true\n\t\t});\n\t};\n\n\tconst fetchPlaybooksEffect = createGraphQLEffect(\n\t\tFetchPlaybookContextsByIdQuery,\n\t\t{\n\t\t\tvariableList: ['sysIds', 'provider', 'playbookExperienceId'],\n\t\t\tsuccessActionType: PLAYBOOK_FETCH_PLAYBOOK_SUCCEEDED,\n\t\t\terrorActionType: PLAYBOOK_FETCH_ALL_PLAYBOOK_ERROR\n\t\t}\n\t);\n\n\tconst fetchPlaybooksSucceededEffect = ({\n\t\tstate,\n\t\taction,\n\t\tdispatch,\n\t\tupdateProperties\n\t}) => {\n\t\tconst playbookContexts = get(\n\t\t\taction,\n\t\t\t'payload.data.GlidePlaybookContext_Query.getPlaybookContexts',\n\t\t\t[]\n\t\t);\n\n\t\tconst {\n\t\t\tplaybookContextIdsInOrder,\n\t\t\tplaybooksByContextId\n\t\t} = state.properties;\n\n\t\tconst newSysIds = [];\n\t\tconst newPlaybooks = {};\n\t\tplaybookContexts.forEach((playbookContext) => {\n\t\t\tconst playbook = processPlaybook(state, playbookContext, dispatch);\n\t\t\tconst { sysId } = playbook;\n\t\t\tnewPlaybooks[sysId] = playbook;\n\t\t\tif (!playbooksByContextId.hasOwnProperty(sysId))\n\t\t\t\tnewSysIds.push(sysId);\n\t\t});\n\n\t\tupdateProperties({\n\t\t\tloading: false,\n\t\t\tplaybookContextIdsInOrder: [\n\t\t\t\t...playbookContextIdsInOrder,\n\t\t\t\t...newSysIds\n\t\t\t],\n\t\t\tplaybooksByContextId: { ...playbooksByContextId, ...newPlaybooks }\n\t\t});\n\t};\n\n\tconst requestFetchPlaybooksEffect = ({ action, state, dispatch }) => {\n\t\tconst sysIds = get(action, 'payload.sysIds', []);\n\t\tconst provider = state.provider;\n\n\t\tif (!sysIds.length || !provider) return;\n\n\t\tdispatch(PLAYBOOK_FETCH_PLAYBOOKS_DEBOUNCED, {\n\t\t\tsysIds\n\t\t});\n\t};\n\n\treturn {\n\t\t[PLAYBOOK_FETCH_PLAYBOOKS]: fetchPlaybooksEffect,\n\t\t[PLAYBOOK_REQUEST_FETCH_PLAYBOOKS]: requestFetchPlaybooksEffect,\n\t\t[PLAYBOOK_FETCH_PLAYBOOKS_DEBOUNCED]: debounce(\n\t\t\tfetchPlaybooksDebouncedEffect,\n\t\t\t{\n\t\t\t\tdelay: 1000,\n\t\t\t\tmaxWait: 2000,\n\t\t\t\taggregate: (args = [], nextArgs = []) => {\n\t\t\t\t\tconst idx = nextArgs.length - 1 || 0; // 'coeffects' is the last argument passed to Action Handler\n\t\t\t\t\tconst oldContextIds = get(\n\t\t\t\t\t\targs[idx],\n\t\t\t\t\t\t'action.payload.sysIds',\n\t\t\t\t\t\t[]\n\t\t\t\t\t);\n\t\t\t\t\tconst newContextIds = get(\n\t\t\t\t\t\tnextArgs[idx],\n\t\t\t\t\t\t'action.payload.sysIds',\n\t\t\t\t\t\t[]\n\t\t\t\t\t);\n\t\t\t\t\tconst newArgs = [...nextArgs];\n\n\t\t\t\t\tnewArgs[idx] = setCoeffectsPayload(nextArgs[idx], {\n\t\t\t\t\t\tsysIds: [...oldContextIds, ...newContextIds]\n\t\t\t\t\t});\n\t\t\t\t\treturn newArgs;\n\t\t\t\t}\n\t\t\t}\n\t\t),\n\t\t[PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS]: {\n\t\t\teffect: ({ dispatch, action: { payload } }) => {\n\t\t\t\tdispatch(PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_GQL, payload);\n\t\t\t},\n\t\t\tmodifier: { name: 'debounce', delay: 10 }\n\t\t},\n\t\t[PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_GQL]: fetchAllPlaybookContextsEffect,\n\t\t[PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_STARTED]: fetchAllPlaybookContextStartedEffect,\n\t\t[PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS_SUCCEEDED]: fetchAllPlaybookContextsSucceededEffect,\n\t\t[PLAYBOOK_FETCH_ALL_PLAYBOOK_ERROR]: fetchAllPlaybooksFailedEffect,\n\t\t[PLAYBOOK_FETCH_PLAYBOOK_SUCCEEDED]: fetchPlaybooksSucceededEffect,\n\t\t[NOW_ACCORDION_EXPANDED_SET]: ({\n\t\t\taction,\n\t\t\tstate: {\n\t\t\t\tproperties: { playbooksByContextId }\n\t\t\t},\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst {\n\t\t\t\tplaybookContextId,\n\t\t\t\tlaneOrder = null,\n\t\t\t\tcardOrder = null,\n\t\t\t\tvalue: expanded\n\t\t\t} = (action || {}).payload || {};\n\t\t\t// Do nothing if no lane is specified\n\t\t\tif (laneOrder === null) return;\n\n\t\t\tconst playbook = playbooksByContextId[playbookContextId];\n\n\t\t\tlet newLanes = [...playbook.lanes];\n\t\t\tconst laneIndex = newLanes.findIndex(\n\t\t\t\t({ order }) => order === laneOrder\n\t\t\t);\n\t\t\tlet newCards = [...newLanes[laneIndex].cards];\n\n\t\t\t// Lane expand/collapse\n\t\t\tif (cardOrder === null) {\n\t\t\t\t// No card is specified. A lane has been expanded.\n\t\t\t\t// Remove defer from any cards that are expanded and deferred\n\t\t\t\tif (expanded) {\n\t\t\t\t\tnewCards = newCards.map((card) => {\n\t\t\t\t\t\tif (!card.prioritized || !card.defer) return card;\n\t\t\t\t\t\treturn { ...card, defer: false };\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Set lane expanded property as it likely changed\n\t\t\t\tnewLanes[laneIndex].expanded = expanded;\n\t\t\t\t// Card expand/collapse\n\t\t\t} else {\n\t\t\t\t// reflect the new expanded/collapsed card state if there is a change\n\t\t\t\tnewCards[cardOrder] = {\n\t\t\t\t\t...newCards[cardOrder],\n\t\t\t\t\tprioritized: expanded,\n\t\t\t\t\tdefer: false\n\t\t\t\t};\n\t\t\t\tnewLanes[laneIndex] = {\n\t\t\t\t\t...newLanes[laneIndex],\n\t\t\t\t\tcards: newCards\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tupdateProperties(() => ({\n\t\t\t\tpath: `playbooksByContextId.${playbookContextId}.lanes`,\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue: newLanes\n\t\t\t}));\n\t\t}\n\t};\n};\n","import { actionTypes } from '@servicenow/ui-core';\nimport {\n\tPLAYBOOK_ERROR,\n\tPLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS,\n\tPLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS,\n\tPLAYBOOK_SUBSCRIBE\n} from '../../constants';\n\nconst {\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_DISCONNECTED\n} = actionTypes;\n\nconst contextReloadProperties = [\n\t'parentTable',\n\t'parentSysId',\n\t'playbookExperienceId'\n];\n\nconst createLifecycleActionHandlers = (getAMBChannel) => ({\n\t[COMPONENT_BOOTSTRAPPED]: ({\n\t\tproperties: { parentSysId, parentTable, playbookExperienceId },\n\t\tdispatch\n\t}) => {\n\t\tif (!parentSysId || !parentTable) {\n\t\t\tdispatch(PLAYBOOK_ERROR);\n\t\t\treturn;\n\t\t}\n\t\tdispatch(PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS, {\n\t\t\tparentTable,\n\t\t\tparentSysId,\n\t\t\tplaybookExperienceId\n\t\t});\n\t},\n\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\tproperties: { parentTable, parentSysId, playbookExperienceId },\n\t\taction,\n\t\tdispatch\n\t}) => {\n\t\tif (!parentSysId || !parentTable) {\n\t\t\tdispatch(PLAYBOOK_ERROR);\n\t\t\treturn;\n\t\t}\n\n\t\tif (contextReloadProperties.includes(action.payload.name))\n\t\t\tdispatch(PLAYBOOK_FETCH_ALL_PLAYBOOK_CONTEXTS, {\n\t\t\t\tparentTable,\n\t\t\t\tparentSysId,\n\t\t\t\tplaybookExperienceId\n\t\t\t});\n\t},\n\t[COMPONENT_DISCONNECTED]: ({ state, dispatch }) => {\n\t\tconst {\n\t\t\tambChannel,\n\t\t\tproperties: { playbookContextIdsInOrder }\n\t\t} = state;\n\t\tfor (let playbookContextId of playbookContextIdsInOrder) {\n\t\t\tconst fullChannel = getAMBChannel(ambChannel, playbookContextId);\n\t\t\tdispatch(PLAYBOOK_SUBSCRIBE, {\n\t\t\t\tchannelId: fullChannel,\n\t\t\t\tsubscribe: false\n\t\t\t});\n\t\t}\n\n\t\tdispatch(PLAYBOOK_RW_ADD_AND_REMOVE_WATCHING_RECORDS, {\n\t\t\tunsubscribeAll: true\n\t\t});\n\t}\n});\n\nexport default createLifecycleActionHandlers;\n","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport get from 'lodash/get';\nimport { t } from 'sn-translate';\nimport {\n\tADD_NOTIFICATIONS,\n\tCANCEL_PLAYBOOK_STAGE,\n\tPLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_MUTATION_GQL,\n\tPLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_SUCCEEDED,\n\tPLAYBOOK_ERROR,\n\tUPDATE_PLAYBOOK_CONTEXT,\n\tUPDATE_PLAYBOOK_CONTEXT_WHITELIST\n} from '../../constants';\n\nexport const CancelPlaybookContextMutation = `\n\tmutation ($playbookContextId: String!, $playbookExperienceId: String!, $cancellationReason: String!) {\n\t\tGlidePlaybookContext_Mutation {\n\t\t\tcancelPlaybookContext(playbookContextId: $playbookContextId, playbookExperienceId: $playbookExperienceId, cancellationReason: $cancellationReason) {\n\t\t\t\tcancellationReason\n\t\t\t\tcanceledBy\n\t\t\t\tsysId\n\t\t\t\ttitle\n\t\t\t\tstate {\n\t\t\t\t\tvalue\n\t\t\t\t\tdisplayValue\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst playbookActionsHandlers = {\n\t[UPDATE_PLAYBOOK_CONTEXT]: {\n\t\teffect: ({ action, updateProperties }) => {\n\t\t\tconst {\n\t\t\t\tpayload: { playbookContextId = '', fieldsToUpdate = {} }\n\t\t\t} = action;\n\n\t\t\tconst verifiedFieldsToUpdate = Object.entries(\n\t\t\t\tfieldsToUpdate\n\t\t\t).reduce((verifiedFields, [key, value]) => {\n\t\t\t\tif (UPDATE_PLAYBOOK_CONTEXT_WHITELIST.includes(key)) {\n\t\t\t\t\tverifiedFields[key] = value;\n\t\t\t\t}\n\n\t\t\t\treturn verifiedFields;\n\t\t\t}, {});\n\n\t\t\tif (\n\t\t\t\tObject.keys(verifiedFieldsToUpdate).length &&\n\t\t\t\tplaybookContextId\n\t\t\t) {\n\t\t\t\tupdateProperties(() => ({\n\t\t\t\t\tpath: `playbooksByContextId.${playbookContextId}`,\n\t\t\t\t\toperation: 'assign',\n\t\t\t\t\tvalue: verifiedFieldsToUpdate\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\t[PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_MUTATION_GQL]: createGraphQLEffect(\n\t\tCancelPlaybookContextMutation,\n\t\t{\n\t\t\tvariableList: [\n\t\t\t\t'playbookContextId',\n\t\t\t\t'playbookExperienceId',\n\t\t\t\t'cancellationReason'\n\t\t\t],\n\t\t\tsuccessActionType: PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_SUCCEEDED,\n\t\t\terrorActionType: PLAYBOOK_ERROR\n\t\t}\n\t),\n\t[PLAYBOOK_CANCEL_PLAYBOOK_CONTEXT_SUCCEEDED]: ({ action, dispatch }) => {\n\t\tconst playbookContext = get(\n\t\t\taction,\n\t\t\t'payload.data.GlidePlaybookContext_Mutation.cancelPlaybookContext',\n\t\t\t{}\n\t\t);\n\n\t\tconst {\n\t\t\tsysId: playbookContextId = null,\n\t\t\tcancellationReason = null,\n\t\t\tcanceledBy = null,\n\t\t\ttitle = null,\n\t\t\tstate: updatedState\n\t\t} = playbookContext;\n\n\t\tif (playbookContextId && cancellationReason) {\n\t\t\tdispatch(UPDATE_PLAYBOOK_CONTEXT, {\n\t\t\t\tplaybookContextId,\n\t\t\t\tfieldsToUpdate: {\n\t\t\t\t\tcancellationReason,\n\t\t\t\t\tcanceledBy,\n\t\t\t\t\tstate: updatedState\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdispatch(ADD_NOTIFICATIONS, {\n\t\t\t\tnotifications: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: `<div>${t(\n\t\t\t\t\t\t\t'{0} was canceled sucessfully',\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t)}</div>`\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\t},\n\t[CANCEL_PLAYBOOK_STAGE]: {\n\t\teffect: ({ dispatch, action: { payload } }) => {\n\t\t\tconsole.log(payload);\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n\nexport default playbookActionsHandlers;\n","import { createGraphQLEffect } from '@servicenow/ui-effect-graphql';\nimport get from 'lodash/get';\nimport {\n\tADD_NOTIFICATIONS,\n\tCARD_STATE_VALUES,\n\tPLAYBOOK_ADD_OR_UPDATE_ACTIVITIES,\n\tPLAYBOOK_CANCEL_ACTIVITY_CONTEXT,\n\tPLAYBOOK_COMPLETE_ACTIVITY_CONTEXT,\n\tPLAYBOOK_ERROR,\n\tPLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL,\n\tPLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_SUCCEEDED,\n\tPLAYBOOK_SET_ACTIVITY_LOADING,\n\tPLAYBOOK_SKIP_ACTIVITY_CONTEXT,\n\tPLAYBOOK_START_ACTIVITY_CONTEXT\n} from '../../constants';\nimport { CARD_QUERY } from '../../gql.constants';\n\nexport const setActivityContextMutation = `\n\tmutation ($contextId: String!, $playbookExperienceId: String!, $targetState: String!) {\n\t\tGlidePlaybookContext_Mutation {\n\t\t\tsetActivityContextStateMutation(contextId: $contextId, playbookExperienceId: $playbookExperienceId, targetState: $targetState) {\n\t\t\t\t${CARD_QUERY}\n\t\t\t}\n\t\t}\n\t}  \n`;\n\nexport default {\n\t[PLAYBOOK_START_ACTIVITY_CONTEXT]: ({ action, dispatch, properties }) => {\n\t\tconst { playbookExperienceId = '' } = properties;\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\tcontextId: action.payload.contextId,\n\t\t\tloading: true\n\t\t});\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL, {\n\t\t\t...action.payload,\n\t\t\tplaybookExperienceId,\n\t\t\ttargetState: CARD_STATE_VALUES.IN_PROGRESS.value\n\t\t});\n\t},\n\t[PLAYBOOK_SKIP_ACTIVITY_CONTEXT]: ({ action, dispatch, properties }) => {\n\t\tconst { playbookExperienceId = '' } = properties;\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\tcontextId: action.payload.contextId,\n\t\t\tloading: true\n\t\t});\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL, {\n\t\t\t...action.payload,\n\t\t\tplaybookExperienceId,\n\t\t\ttargetState: CARD_STATE_VALUES.SKIPPED.value\n\t\t});\n\t},\n\t[PLAYBOOK_COMPLETE_ACTIVITY_CONTEXT]: ({\n\t\taction,\n\t\tdispatch,\n\t\tproperties\n\t}) => {\n\t\tconst { playbookExperienceId = '' } = properties;\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\tcontextId: action.payload.contextId,\n\t\t\tloading: true\n\t\t});\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL, {\n\t\t\t...action.payload,\n\t\t\tplaybookExperienceId,\n\t\t\ttargetState: CARD_STATE_VALUES.COMPLETE.value\n\t\t});\n\t},\n\t[PLAYBOOK_CANCEL_ACTIVITY_CONTEXT]: ({ action, dispatch, properties }) => {\n\t\tconst { playbookExperienceId = '' } = properties;\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\tcontextId: action.payload.contextId,\n\t\t\tloading: true\n\t\t});\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL, {\n\t\t\t...action.payload,\n\t\t\tplaybookExperienceId,\n\t\t\ttargetState: CARD_STATE_VALUES.CANCELLED.value\n\t\t});\n\t},\n\t[PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_MUTATION_GQL]: createGraphQLEffect(\n\t\tsetActivityContextMutation,\n\t\t{\n\t\t\tvariableList: ['contextId', 'playbookExperienceId', 'targetState'],\n\t\t\tsuccessActionType: PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_SUCCEEDED,\n\t\t\terrorActionType: PLAYBOOK_ERROR\n\t\t}\n\t),\n\t[PLAYBOOK_SET_ACTIVITY_CONTEXT_STATE_SUCCEEDED]: ({ action, dispatch }) => {\n\t\tconst activity = get(\n\t\t\taction,\n\t\t\t'payload.data.GlidePlaybookContext_Mutation.setActivityContextStateMutation',\n\t\t\tnull\n\t\t);\n\n\t\tif (!activity) {\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch(PLAYBOOK_SET_ACTIVITY_LOADING, {\n\t\t\tcontextId: activity.contextId,\n\t\t\tloading: false\n\t\t});\n\n\t\tif (activity.errors.length) {\n\t\t\tconst notifications = activity.errors.map(({ message }) => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tmessage\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tdispatch(ADD_NOTIFICATIONS, { notifications });\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch(PLAYBOOK_ADD_OR_UPDATE_ACTIVITIES, {\n\t\t\tactivities: [activity]\n\t\t});\n\t}\n};\n","export { default as snPlaybook } from './now-playbook-experience';\n","import { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { preUserData } from 'sn-uxpage-presource';\nimport styles from './styles.scss';\nimport { view } from './view.js';\n\nconst { COMPONENT_BOOTSTRAPPED } = actionTypes;\n\n/**\n * ## Playbook Experience\n *\n * @summary A single playbook execution for a given playbook context record.\n * @seismicElement now-playbook-experience\n */\ncreateCustomElement('now-playbook-experience', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\t/**\n\t\t * sysId of the parent record associated with the playbooks\n\t\t * @type {String}\n\t\t */\n\t\tparentSysId: {\n\t\t\treflect: true\n\t\t},\n\t\t/**\n\t\t * table name of the parent record associated with the playbooks\n\t\t * @type {String}\n\t\t */\n\t\tparentTable: {\n\t\t\treflect: true\n\t\t},\n\t\t/**\n\t\t * playbook experience id to determine the configurations\n\t\t * @type {String}\n\t\t */\n\t\tplaybookExperienceId: {},\n\t\t/**\n\t\t * workspace current user id\n\t\t * @type {String}\n\t\t */\n\t\tworkspaceUserId: { default: '' },\n\t\t/**\n\t\t * optional boolean for Compact Mode layout\n\t\t * @type {boolean}\n\t\t */\n\t\tcompactMode: { default: false }\n\t},\n\tstyles,\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ state, updateProperties }) => {\n\t\t\tconst workspaceUserId = preUserData.getPreSource(state).sys_id; //preWsConfigSysId.getPreSource(state) only in sn-playbook-declarative-actions-data-provider\n\n\t\t\tupdateProperties({ workspaceUserId });\n\t\t}\n\t},\n\tbehaviors: [preUserData]\n});\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host(now-playbook-experience),now-playbook-experience-connected{position:static;left:0;right:0;top:0;bottom:0;width:100%;height:100%}\", \"\"]);\n\n// exports\n","export const view = ({\n\tproperties: {\n\t\tparentSysId,\n\t\tparentTable,\n\t\tplaybookExperienceId,\n\t\tworkspaceUserId,\n\t\tcompactMode\n\t}\n}) => (\n\t<now-playbook-experience-connected\n\t\tparent-sys-id={parentSysId}\n\t\tparent-table={parentTable}\n\t\tplaybook-experience-id={playbookExperienceId}\n\t\tuser-id={workspaceUserId}\n\t\tcompactMode={\n\t\t\tcompactMode === 'true' || compactMode === true ? true : false\n\t\t}\n\t/>\n);\n","import { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport EmptyState from '../components/empty-state';\nimport { PLAYBOOK_ERROR } from '../constants';\nimport {\n\tNOTIFICATION_PLAYBOOK_ERROR,\n\tNOTIFICATION_PLAYBOOK_INPUTS_MISSING\n} from '../notification.constants';\nimport '../now-cancel-playbook-modal';\nimport '../now-playbook-data-broker';\nimport '../now-playbook-panel-layout';\nimport styles from './styles.scss';\n\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\n/**\n * Playbook is a component that visually guides a user, typically a fulfiller,\n * through a process usually built with Process Automation Designer.\n * Playbook provides the fulfiller with an overview of the phases of the process,\n * highlights the current phase in the process, and displays the actions available to the fulfiller to perform.\n *\n * @seismicElement now-playbook-experience-connected\n * @summary Interactive visualization of an automated workflow.\n */\ncreateCustomElement('now-playbook-experience-connected', {\n\tproperties: {\n\t\t/**\n\t\t * Sys Id of the parent record associated with the playbook.\n\t\t * @type {String}\n\t\t */\n\t\tparentSysId: {\n\t\t\treflect: true\n\t\t},\n\t\t/**\n\t\t * Name of the table of the parent record associated with the playbook.\n\t\t * @type {String}\n\t\t */\n\t\tparentTable: {\n\t\t\treflect: true\n\t\t},\n\t\t/**\n\t\t * Sys ID of the Playbook Experiences configuration record to use.\n\t\t * @type {String}\n\t\t */\n\t\tplaybookExperienceId: {},\n\t\t/**\n\t\t * (Optional) Sys ID of the User record to populate the Assigned to section.\n\t\t * @type {String}\n\t\t */\n\t\tuserId: { reflect: true },\n\t\t/**\n\t\t * (Optional) When true, the playbook displays in compact mode.\n\t\t * @type {boolean}\n\t\t */\n\t\tcompactMode: { default: false }\n\t},\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: ({\n\t\t\terror,\n\t\t\tproperties: {\n\t\t\t\tparentSysId,\n\t\t\t\tparentTable,\n\t\t\t\tplaybookExperienceId,\n\t\t\t\tuserId,\n\t\t\t\tcompactMode\n\t\t\t},\n\t\t\tcomponentId\n\t\t}) => {\n\t\t\tconst dataBrokerComponentId = `playbook-data-broker-${componentId}`;\n\n\t\t\tif (error) {\n\t\t\t\treturn (\n\t\t\t\t\t<EmptyState\n\t\t\t\t\t\ttitle={NOTIFICATION_PLAYBOOK_ERROR.header}\n\t\t\t\t\t\ttext={NOTIFICATION_PLAYBOOK_ERROR.body}\n\t\t\t\t\t\tillustration={NOTIFICATION_PLAYBOOK_ERROR.illustration}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!(parentSysId && parentTable))\n\t\t\t\treturn (\n\t\t\t\t\t<EmptyState\n\t\t\t\t\t\ttitle={NOTIFICATION_PLAYBOOK_INPUTS_MISSING.header}\n\t\t\t\t\t\ttext={NOTIFICATION_PLAYBOOK_INPUTS_MISSING.body}\n\t\t\t\t\t\tillustration={\n\t\t\t\t\t\t\tNOTIFICATION_PLAYBOOK_INPUTS_MISSING.illustration\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<now-playbook-data-broker\n\t\t\t\t\tparent-sys-id={parentSysId}\n\t\t\t\t\tparent-table={parentTable}\n\t\t\t\t\tplaybook-experience-id={playbookExperienceId}\n\t\t\t\t\tcomponent-id={dataBrokerComponentId}\n\t\t\t\t\tcurrent-user-id={userId}\n\t\t\t\t>\n\t\t\t\t\t<now-playbook-panel-layout\n\t\t\t\t\t\tplaybook-context-ids-in-order={`@${dataBrokerComponentId}/playbookContextIdsInOrder`}\n\t\t\t\t\t\tplaybooks-by-context-id={`@${dataBrokerComponentId}/playbooksByContextId`}\n\t\t\t\t\t\tloading={`@${dataBrokerComponentId}/loading`}\n\t\t\t\t\t\tloading-activities={`@${dataBrokerComponentId}/loadingActivities`}\n\t\t\t\t\t\tplaybook-experience-id={playbookExperienceId}\n\t\t\t\t\t\tuser-id={`@${dataBrokerComponentId}/currentUserId`}\n\t\t\t\t\t\tcompact-mode={compactMode}\n\t\t\t\t\t\tparentRecordUpdateTime={`@${dataBrokerComponentId}/parentRecordUpdateTime`}\n\t\t\t\t\t/>\n\t\t\t\t\t<now-cancel-playbook-modal\n\t\t\t\t\t\tcancel-playbook-context={`@${dataBrokerComponentId}/cancelPlaybookContext`}\n\t\t\t\t\t\tplaybook-experience-id={`@${dataBrokerComponentId}/playbookExperienceId`}\n\t\t\t\t\t/>\n\t\t\t\t</now-playbook-data-broker>\n\t\t\t);\n\t\t}\n\t},\n\tinitialState: {\n\t\terror: false\n\t},\n\tactionHandlers: {\n\t\t[PLAYBOOK_ERROR]: {\n\t\t\teffect: ({ updateState }) => {\n\t\t\t\tupdateState({ error: true });\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ updateState }) => {\n\t\t\tupdateState({ error: false });\n\t\t}\n\t},\n\tstyles\n});\n","import './now-cancel-playbook-modal';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { createNowTextAreaInputBehavior } from '../behaviors';\nimport { PLAYBOOK_CANCELLATION_REASON } from '../constants';\nimport actionHandlers from './actions';\nimport styles from './styles.scss';\nimport view from './view';\n\n/**\n * ## Cancel Playbook Modal\n *\n * @seismicElement now-cancel-playbook-modal\n * @summary now-modal component that enables the user to confirm a Cancel Playbook action\n */\ncreateCustomElement('now-cancel-playbook-modal', {\n\trenderer: { type: snabbdom, view },\n\tstyles,\n\tproperties: {\n\t\t/**\n\t\t * the sysId and title of the playbook context to cancel\n\t\t * @type {Object}\n\t\t */\n\t\tcancelPlaybookContext: {\n\t\t\tdefault: {}\n\t\t},\n\t\t/**\n\t\t * the reason given for cancelling the playbook context\n\t\t * @type {String}\n\t\t */\n\t\tcancellationReason: {\n\t\t\tdefault: ''\n\t\t},\n\t\tplaybookExperienceId: {\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tbehaviors: [createNowTextAreaInputBehavior(PLAYBOOK_CANCELLATION_REASON)],\n\tactionHandlers\n});\n","import { CANCEL_PLAYBOOK_CONFIRMED, NOW_MODAL_OPENED_SET } from '../constants';\n\nexport default {\n\t[NOW_MODAL_OPENED_SET]: {\n\t\teffect: ({ state, updateState }) => {\n\t\t\tconst { cancellationReason } = state;\n\n\t\t\tif (cancellationReason) {\n\t\t\t\tupdateState({ cancellationReason: '' });\n\t\t\t}\n\t\t}\n\t},\n\t[CANCEL_PLAYBOOK_CONFIRMED]: {\n\t\teffect: ({ state, updateState }) => {\n\t\t\tconst { cancellationReason } = state;\n\n\t\t\tif (cancellationReason) {\n\t\t\t\tupdateState({ cancellationReason: '' });\n\t\t\t}\n\t\t}\n\t}\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}now-modal{padding:1.5rem}now-modal p{margin-top:0}now-textarea{width:100%;margin-bottom:0}\", \"\"]);\n\n// exports\n","import '@servicenow/now-textarea';\nimport { t } from 'sn-translate';\nimport { CANCEL_PLAYBOOK_CONFIRMED, NOW_MODAL_OPENED_SET } from '../constants';\n\nconst view = ({\n\tproperties: {\n\t\tcancelPlaybookContext: { title = '', sysId = '' },\n\t\tplaybookExperienceId = ''\n\t},\n\tcancellationReason = ''\n}) => {\n\treturn (\n\t\t<now-modal\n\t\t\topened={title !== '' && sysId !== ''}\n\t\t\tsize=\"md\"\n\t\t\theader-label={t('Canceling {0}', title)}\n\t\t\tfooter-actions={[\n\t\t\t\t{\n\t\t\t\t\tvariant: 'primary-negative',\n\t\t\t\t\tlabel: t('Cancel Playbook'),\n\t\t\t\t\tclickActionType: CANCEL_PLAYBOOK_CONFIRMED,\n\t\t\t\t\tdisabled: cancellationReason.length === 0,\n\t\t\t\t\tcancellationReason,\n\t\t\t\t\tplaybookContextId: sysId,\n\t\t\t\t\tplaybookExperienceId\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvariant: 'secondary',\n\t\t\t\t\tlabel: t('Close'),\n\t\t\t\t\tclickActionType: NOW_MODAL_OPENED_SET\n\t\t\t\t}\n\t\t\t]}\n\t\t\tappend-to-payload={{ playbookCloseCancelModal: true }}\n\t\t>\n\t\t\t<p className=\"now-text--md\">\n\t\t\t\t{t(\n\t\t\t\t\t'Some activities can’t be canceled once started. These activities will need to finish.'\n\t\t\t\t)}\n\t\t\t\t<br />\n\t\t\t\t{t('Provide a reason for canceling this Playbook.')}\n\t\t\t</p>\n\t\t\t<now-textarea\n\t\t\t\tlabel={t('Reason for cancellation')}\n\t\t\t\trequired={true}\n\t\t\t\tresize=\"none\"\n\t\t\t\tshowBorders={true}\n\t\t\t\tplaceholder={t('Enter reason here...')}\n\t\t\t\tvalue={cancellationReason}\n\t\t\t\tappend-to-payload={{ textAreaField: 'cancellationReason' }}\n\t\t\t\trows={5}\n\t\t\t></now-textarea>\n\t\t</now-modal>\n\t);\n};\n\nexport default view;\n","module.exports = __TECTONIC__$servicenow_now_textarea;","import rtlBehavior from '@servicenow/behavior-rtl';\nimport '@servicenow/now-loader';\nimport { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {\n\tPANEL_NAVIGATION_SET_FOCUS_ANCHOR,\n\tPANEL_NAVIGATION_SWITCH_FOCUS\n} from '../behaviors/sn-panel-navigation/constants';\nimport EmptyState from '../components/empty-state';\nimport '../components/now-playbook-stage-panel';\nimport {\n\tLANE_STATE_VALUES,\n\tLOADING_TEXT_DEFAULT,\n\tPLAYBOOK_STAGE_CLICKED,\n\tPLAYBOOK_STAGE_DESELECT,\n\tPLAYBOOK_STAGE_PANEL_SOURCE,\n\tPLAYBOOK_STAGE_SELECTION_UPDATE,\n\tPLAYBOOK_STAGE_SELECTOR_SOURCE,\n\tPLAYBOOK_STATE_VALUES\n} from '../constants';\nimport { NOTIFICATION_NO_PLAYBOOKS_AVAILABLE } from '../notification.constants';\nimport '../now-playbook-stage-selector';\nimport styles from './styles.scss';\n\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED } = actionTypes;\n\nconst updateSelectedStageCallback = ({\n\tstate: { defaultExpandedPlaybook, selectedStage },\n\tproperties: { compactMode, playbookContextIdsInOrder, playbooksByContextId }\n}) => {\n\tconst hasSufficientPlaybookData =\n\t\tArray.isArray(playbookContextIdsInOrder) &&\n\t\tplaybookContextIdsInOrder.length > 0;\n\tif (!hasSufficientPlaybookData) return { shouldUpdate: false };\n\n\tconst shouldResetSelectedStage =\n\t\tselectedStage.playbookContextId &&\n\t\t!playbookContextIdsInOrder.some(\n\t\t\t(id) => id === selectedStage.playbookContextId\n\t\t);\n\n\tconst shouldSetSelectedStage =\n\t\t!compactMode &&\n\t\t(!selectedStage.playbookContextId ||\n\t\t\t!selectedStage.stageName ||\n\t\t\tshouldResetSelectedStage);\n\tconst shouldSetDefaultExpandedPlaybook =\n\t\t!defaultExpandedPlaybook ||\n\t\t!playbookContextIdsInOrder.some((id) => id === defaultExpandedPlaybook);\n\n\tif (!shouldSetSelectedStage && !shouldSetDefaultExpandedPlaybook)\n\t\treturn { shouldUpdate: false };\n\n\tconst updateValue = {};\n\n\tconst firstPlaybook = playbooksByContextId[playbookContextIdsInOrder[0]];\n\tconst firstInProgressPlaybookId = playbookContextIdsInOrder.find(\n\t\t(id) =>\n\t\t\tplaybooksByContextId[id].state.value ===\n\t\t\tPLAYBOOK_STATE_VALUES.IN_PROGRESS\n\t);\n\tconst playbook = firstInProgressPlaybookId\n\t\t? playbooksByContextId[firstInProgressPlaybookId]\n\t\t: firstPlaybook;\n\n\tif (shouldSetDefaultExpandedPlaybook)\n\t\tupdateValue.defaultExpandedPlaybook = playbook.sysId;\n\n\tif (shouldSetSelectedStage) {\n\t\tconst firstStage = playbook.lanes[0];\n\t\tconst stage =\n\t\t\tplaybook.lanes.find(\n\t\t\t\t({ state }) =>\n\t\t\t\t\tstate.value === LANE_STATE_VALUES.IN_PROGRESS.value\n\t\t\t) || firstStage;\n\t\tupdateValue.selectedStage = {\n\t\t\tplaybookContextId: playbook.sysId,\n\t\t\tstageName: stage.name\n\t\t};\n\t} else if (shouldResetSelectedStage)\n\t\tupdateValue.selectedStage = {\n\t\t\tplaybookContextId: '',\n\t\t\tstageName: ''\n\t\t};\n\n\treturn {\n\t\tpath: '',\n\t\toperation: 'assign',\n\t\tvalue: updateValue\n\t};\n};\n\ncreateCustomElement('now-playbook-panel-layout', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: (\n\t\t\t{\n\t\t\t\tdefaultExpandedPlaybook,\n\t\t\t\tselectedStage,\n\t\t\t\tnextSelectedStage,\n\t\t\t\tproperties: {\n\t\t\t\t\tcompactMode,\n\t\t\t\t\tplaybookContextIdsInOrder,\n\t\t\t\t\tplaybooksByContextId,\n\t\t\t\t\tloading,\n\t\t\t\t\tloadingActivities,\n\t\t\t\t\tplaybookExperienceId,\n\t\t\t\t\tuserId,\n\t\t\t\t\tparentRecordUpdateTime\n\t\t\t\t},\n\t\t\t\tcomponentId\n\t\t\t},\n\t\t\t{ dispatch }\n\t\t) => {\n\t\t\tif (loading)\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"playbook-loading\">\n\t\t\t\t\t\t<now-loader size=\"lg\" />\n\t\t\t\t\t\t<span>{LOADING_TEXT_DEFAULT}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\n\t\t\tif (playbookContextIdsInOrder.length === 0) {\n\t\t\t\treturn (\n\t\t\t\t\t<EmptyState\n\t\t\t\t\t\ttitle={NOTIFICATION_NO_PLAYBOOKS_AVAILABLE.header}\n\t\t\t\t\t\ttext={NOTIFICATION_NO_PLAYBOOKS_AVAILABLE.body}\n\t\t\t\t\t\tillustration={\n\t\t\t\t\t\t\tNOTIFICATION_NO_PLAYBOOKS_AVAILABLE.illustration\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclass={{ 'playbook-container': true, compact: compactMode }}\n\t\t\t\t>\n\t\t\t\t\t<nav class={{ compact: compactMode }}>\n\t\t\t\t\t\t<now-playbook-stage-selector\n\t\t\t\t\t\t\tplaybook-context-ids-in-order={\n\t\t\t\t\t\t\t\tplaybookContextIdsInOrder\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaybooks-by-context-id={playbooksByContextId}\n\t\t\t\t\t\t\tplaybook-experience-id={playbookExperienceId}\n\t\t\t\t\t\t\tselectedStage={\n\t\t\t\t\t\t\t\tnextSelectedStage\n\t\t\t\t\t\t\t\t\t? nextSelectedStage\n\t\t\t\t\t\t\t\t\t: selectedStage\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuser-id={userId}\n\t\t\t\t\t\t\tcompact-mode={compactMode}\n\t\t\t\t\t\t\tdefaultExpandedPlaybook={defaultExpandedPlaybook}\n\t\t\t\t\t\t\tparentRecordUpdateTime={parentRecordUpdateTime}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<section\n\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\tcompact: compactMode,\n\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\tselectedStage.playbookContextId &&\n\t\t\t\t\t\t\t\tselectedStage.stageName,\n\t\t\t\t\t\t\tleaving:\n\t\t\t\t\t\t\t\tnextSelectedStage &&\n\t\t\t\t\t\t\t\t!nextSelectedStage.playbookContextId &&\n\t\t\t\t\t\t\t\t!nextSelectedStage.stageName\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ton-animationend={(event) => {\n\t\t\t\t\t\t\tif (event.animationName === 'fade-out')\n\t\t\t\t\t\t\t\tdispatch(PLAYBOOK_STAGE_SELECTION_UPDATE);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<now-playbook-stage-panel\n\t\t\t\t\t\t\tplaybook-context-ids-in-order={\n\t\t\t\t\t\t\t\tplaybookContextIdsInOrder\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcompact-mode={compactMode}\n\t\t\t\t\t\t\tplaybooks-by-context-id={playbooksByContextId}\n\t\t\t\t\t\t\tplaybook-experience-id={playbookExperienceId}\n\t\t\t\t\t\t\tselected-stage={selectedStage}\n\t\t\t\t\t\t\tloading-activities={loadingActivities}\n\t\t\t\t\t\t\tuser-id={userId}\n\t\t\t\t\t\t\tparentRecordUpdateTime={parentRecordUpdateTime}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t},\n\tstyles,\n\tbehaviors: [rtlBehavior],\n\tproperties: {\n\t\tplaybookContextIdsInOrder: {},\n\t\tplaybooksByContextId: {},\n\t\tloading: {},\n\t\tloadingActivities: {},\n\t\tplaybookExperienceId: {},\n\t\tuserId: {},\n\t\tcompactMode: { default: false },\n\t\tparentRecordUpdateTime: { default: 0 }\n\t},\n\tinitialState: {\n\t\tdefaultExpandedPlaybook: '',\n\t\tnextSelectedStage: null,\n\t\tselectedStage: {\n\t\t\tplaybookContextId: '',\n\t\t\tstageName: ''\n\t\t},\n\t\tfocusAnchorRefs: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ updateState }) =>\n\t\t\tupdateState(updateSelectedStageCallback),\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({ action: { payload }, updateState }) =>\n\t\t\tpayload.name === 'playbooksByContextId' ||\n\t\t\tpayload.name === 'playbookContextIdsInOrder' ||\n\t\t\tpayload.name === 'compactMode'\n\t\t\t\t? updateState(updateSelectedStageCallback)\n\t\t\t\t: null,\n\t\t[PANEL_NAVIGATION_SET_FOCUS_ANCHOR]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { focusAnchorRef, source }\n\t\t\t},\n\t\t\tupdateState\n\t\t}) =>\n\t\t\tsource && focusAnchorRef\n\t\t\t\t? updateState({\n\t\t\t\t\tpath: `focusAnchorRefs.${source}`,\n\t\t\t\t\tvalue: focusAnchorRef,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t  })\n\t\t\t\t: null,\n\t\t[PANEL_NAVIGATION_SWITCH_FOCUS]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { source }\n\t\t\t},\n\t\t\tstate: { focusAnchorRefs }\n\t\t}) => {\n\t\t\tswitch (source) {\n\t\t\t\tcase PLAYBOOK_STAGE_SELECTOR_SOURCE:\n\t\t\t\t\tconst stagePanelRef =\n\t\t\t\t\t\tfocusAnchorRefs[PLAYBOOK_STAGE_PANEL_SOURCE];\n\t\t\t\t\tstagePanelRef && stagePanelRef.focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase PLAYBOOK_STAGE_PANEL_SOURCE:\n\t\t\t\t\tconst stageSelectorRef =\n\t\t\t\t\t\tfocusAnchorRefs[PLAYBOOK_STAGE_SELECTOR_SOURCE];\n\t\t\t\t\tstageSelectorRef && stageSelectorRef.focus();\n\t\t\t}\n\t\t},\n\t\t[PLAYBOOK_STAGE_CLICKED]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { playbookContextId, stageName }\n\t\t\t},\n\t\t\tstate: { selectedStage },\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (\n\t\t\t\tselectedStage &&\n\t\t\t\tselectedStage.stageName === stageName &&\n\t\t\t\tselectedStage.playbookContextId === playbookContextId\n\t\t\t)\n\t\t\t\treturn;\n\n\t\t\tupdateState({\n\t\t\t\tnextSelectedStage: { playbookContextId, stageName }\n\t\t\t});\n\n\t\t\tdispatch(PLAYBOOK_STAGE_SELECTION_UPDATE);\n\t\t},\n\t\t[PLAYBOOK_STAGE_DESELECT]: ({ updateState }) =>\n\t\t\tupdateState({\n\t\t\t\tnextSelectedStage: {\n\t\t\t\t\tplaybookContextId: '',\n\t\t\t\t\tstageName: ''\n\t\t\t\t}\n\t\t\t}),\n\t\t[PLAYBOOK_STAGE_SELECTION_UPDATE]: ({\n\t\t\tproperties: { compactMode },\n\t\t\tstate: { nextSelectedStage },\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tupdateState({\n\t\t\t\tnextSelectedStage: null,\n\t\t\t\tselectedStage: { ...nextSelectedStage }\n\t\t\t});\n\n\t\t\tif (compactMode)\n\t\t\t\tdispatch(PANEL_NAVIGATION_SWITCH_FOCUS, {\n\t\t\t\t\tsource:\n\t\t\t\t\t\tnextSelectedStage &&\n\t\t\t\t\t\tnextSelectedStage.playbookContextId &&\n\t\t\t\t\t\tnextSelectedStage.stageName\n\t\t\t\t\t\t\t? PLAYBOOK_STAGE_SELECTOR_SOURCE\n\t\t\t\t\t\t\t: PLAYBOOK_STAGE_PANEL_SOURCE\n\t\t\t\t});\n\t\t}\n\t}\n});\n","import rtlBehavior from '@servicenow/behavior-rtl';\nimport { actionTypes, createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {\n\tsnPanelNavigationBehavior,\n\tstageSelectorActionsDropdownBehavior\n} from '../behaviors';\nimport {\n\tPANEL_NAVIGATION_SWITCH_FOCUS,\n\tPANEL_NAVIGATION_TAKE_FOCUS\n} from '../behaviors/sn-panel-navigation/constants';\nimport {\n\tNOW_DROPDOWN_CUSTOM_TARGET_OPENED_SET,\n\tPLAYBOOK_STAGE_LIST_EXPANDED_SET,\n\tPLAYBOOK_STAGE_SELECTOR_SOURCE\n} from '../constants';\nimport styles from './styles.scss';\nimport view from './view';\n\nconst { COMPONENT_PROPERTY_CHANGED, COMPONENT_BOOTSTRAPPED } = actionTypes;\n\ncreateCustomElement('now-playbook-stage-selector', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tstyles,\n\tinitialState: {\n\t\texpandedStageListsByContextId: {},\n\t\tplaybookActionsDropdownOpened: false,\n\t\topenedActionsDropdownByStageName: null,\n\t\tonFocusDispatchId: { right: PANEL_NAVIGATION_SWITCH_FOCUS },\n\t\tdispatchSource: PLAYBOOK_STAGE_SELECTOR_SOURCE\n\t},\n\tproperties: {\n\t\t/** @type {[]} **/\n\t\tplaybookContextIdsInOrder: { default: [] },\n\t\t/** @type {} **/\n\t\tplaybooksByContextId: { default: {} },\n\t\t/** @type {String} **/\n\t\tplaybookExperienceId: { default: '' },\n\t\t/** @type {} */\n\t\tselectedStage: {\n\t\t\tdefault: {\n\t\t\t\tplaybookContextId: '',\n\t\t\t\tstageName: ''\n\t\t\t}\n\t\t},\n\t\t/** @type {String} **/\n\t\tuserId: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {Boolean} **/\n\t\tcompactMode: { default: false },\n\t\t/** @type {String} **/\n\t\tdefaultExpandedPlaybook: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {Number} **/\n\t\tparentRecordUpdateTime: { default: 0 }\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tproperties: { compactMode },\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tif (compactMode) updateState({ onFocusDispatchId: { right: '' } });\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { name, value }\n\t\t\t},\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tif (name === 'playbookContextIdsInOrder' && value && value[0])\n\t\t\t\tupdateState({ focusNavId: `pb-heading-${value[0]}` });\n\t\t\telse if (\n\t\t\t\tname === 'selectedStage' &&\n\t\t\t\tvalue.playbookContextId &&\n\t\t\t\tvalue.stageName\n\t\t\t)\n\t\t\t\tupdateState({\n\t\t\t\t\tfocusNavId: `stage-item-${value.playbookContextId}.${value.stageName}`\n\t\t\t\t});\n\t\t},\n\t\t[PLAYBOOK_STAGE_LIST_EXPANDED_SET]: ({\n\t\t\tstate,\n\t\t\taction: {\n\t\t\t\tpayload: { playbookContextId, updatedExpandState }\n\t\t\t},\n\t\t\tupdateState\n\t\t}) =>\n\t\t\tupdateState({\n\t\t\t\texpandedStageListsByContextId: {\n\t\t\t\t\t...state.expandedStageListsByContextId,\n\t\t\t\t\t[playbookContextId]: updatedExpandState\n\t\t\t\t},\n\t\t\t\tplaybookActionsDropdownOpened: false,\n\t\t\t\topenedActionsDropdownByStageName: null,\n\t\t\t\tfocusNavId:\n\t\t\t\t\tupdatedExpandState && state.focusNavId\n\t\t\t\t\t\t? state.focusNavId\n\t\t\t\t\t\t: `pb-heading-${playbookContextId}`\n\t\t\t}),\n\t\t[NOW_DROPDOWN_CUSTOM_TARGET_OPENED_SET]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { value }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tif (!value) dispatch(PANEL_NAVIGATION_TAKE_FOCUS);\n\t\t}\n\t},\n\tbehaviors: [\n\t\tstageSelectorActionsDropdownBehavior,\n\t\tsnPanelNavigationBehavior,\n\t\trtlBehavior\n\t]\n});\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.stage-item{display:block;position:relative;padding:0;width:100%;height:3.5rem;min-width:13.5rem;border:none;box-sizing:border-box;letter-spacing:.01562rem;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;overflow:hidden;background-color:transparent;transition:background-color .3s ease}:host(:not([dir=rtl])) .stage-item,:root:not([dir=rtl]) .stage-item{padding-right:1.5rem}:host([dir=rtl]) .stage-item,:root[dir=rtl] .stage-item{padding-left:1.5rem}.stage-item:hover{background-color:RGBA(var(--now-color--secondary-0,217,235,238),.5)}.stage-item:active,.stage-item:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.stage-item:active .stage-actions,.stage-item:focus-within .stage-actions,.stage-item:focus .stage-actions,.stage-item:hover .stage-actions{opacity:1;pointer-events:all}.stage-item.is-selected{background-color:RGBA(var(--now-color--secondary-0,217,235,238))}.stage-item.is-selected .stage-item-content .stage-title{font-weight:600;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.stage-item.is-selected .stage-item-content .stage-item-complete{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.stage-item.is-selected:hover{background-color:RGBA(var(--now-color--secondary-1,1,119,142),.5)}.stage-item.is-disabled{opacity:.5;pointer-events:none}.stage-item now-playbook-radial-progress{position:absolute;top:.75rem}:host(:not([dir=rtl])) .stage-item now-playbook-radial-progress,:root:not([dir=rtl]) .stage-item now-playbook-radial-progress{left:.875rem}:host([dir=rtl]) .stage-item now-playbook-radial-progress,:root[dir=rtl] .stage-item now-playbook-radial-progress{right:.875rem}.stage-item .stage-item-content{display:inline-block;position:relative;top:-.0625rem;margin:0;max-width:calc(100% - 4.5rem);height:100%}:host(:not([dir=rtl])) .stage-item .stage-item-content,:root:not([dir=rtl]) .stage-item .stage-item-content{margin-left:3.25rem}:host([dir=rtl]) .stage-item .stage-item-content,:root[dir=rtl] .stage-item .stage-item-content{margin-right:3.25rem}:host(:not([dir=rtl])) .stage-item .stage-item-content,:root:not([dir=rtl]) .stage-item .stage-item-content{padding-left:.125rem}:host([dir=rtl]) .stage-item .stage-item-content,:root[dir=rtl] .stage-item .stage-item-content{padding-right:.125rem}:host(:not([dir=rtl])) .stage-item .stage-item-content,:root:not([dir=rtl]) .stage-item .stage-item-content{padding-right:1.125rem}:host([dir=rtl]) .stage-item .stage-item-content,:root[dir=rtl] .stage-item .stage-item-content{padding-left:1.125rem}.stage-item .stage-item-content .stage-title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;margin:0;padding:0;font-size:1rem;font-weight:400;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)));transition:font-weight .3s}.stage-item .stage-item-content .stage-item-complete{margin:0;padding:0;font-size:.75rem;color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.stage-item .stage-actions{display:inline-block;position:absolute;top:1rem;background-color:transparent;outline:none;transition:opacity .3s ease}:host(:not([dir=rtl])) .stage-item .stage-actions,:root:not([dir=rtl]) .stage-item .stage-actions{right:.5rem}:host([dir=rtl]) .stage-item .stage-actions,:root[dir=rtl] .stage-item .stage-actions{left:.5rem}@media (hover:hover){.stage-item .stage-actions{opacity:0;pointer-events:none}}.stage-item .stage-actions.opened,.stage-item .stage-actions:active,.stage-item .stage-actions:focus,.stage-item .stage-actions:hover{opacity:1;pointer-events:all}.stage-item .stage-actions.hide{display:none}.stage-item .stage-item-prioritized{position:absolute;top:1.25rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}:host(:not([dir=rtl])) .stage-item .stage-item-prioritized,:root:not([dir=rtl]) .stage-item .stage-item-prioritized{right:2.5rem}:host([dir=rtl]) .stage-item .stage-item-prioritized,:root[dir=rtl] .stage-item .stage-item-prioritized{left:2.5rem}.stage-item .stage-item-prioritized.hide{display:none}.now-m-block-start--xxs{display:block;margin:0;margin-block-start:.125rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.now-m-inline-start--xs{margin:0;margin-inline-start:.25rem}.now-m-inline-start--sm,.now-m-inline-start--xs{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.now-m-inline-start--sm{margin:0;margin-inline-start:.5rem}:host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,.playbook-heading,:after,:before{box-sizing:border-box}.playbook-heading{display:block;position:relative;padding:.375rem 0 .25rem 0;color:var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28));outline:none}.playbook-heading .playbook-header-container{display:flex;flex-direction:row;align-items:center;position:relative;max-width:calc(100% - 1.5rem);min-height:2rem}:host(:not([dir=rtl])) .playbook-heading .playbook-header-container,:root:not([dir=rtl]) .playbook-heading .playbook-header-container{left:.0625rem}:host([dir=rtl]) .playbook-heading .playbook-header-container,:root[dir=rtl] .playbook-heading .playbook-header-container{right:.0625rem}.playbook-heading .playbook-header-container now-heading{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;flex-grow:1;position:relative;margin:0;padding:0;top:.0625rem;max-width:100%;cursor:default}:host(:not([dir=rtl])) .playbook-heading .playbook-header-container now-heading,:root:not([dir=rtl]) .playbook-heading .playbook-header-container now-heading{padding-right:.125rem}:host([dir=rtl]) .playbook-heading .playbook-header-container now-heading,:root[dir=rtl] .playbook-heading .playbook-header-container now-heading{padding-left:.125rem}.playbook-heading .playbook-header-container .filter-container{flex-shrink:0;position:relative;margin:0}.playbook-heading .playbook-header-container .filter-container.show{transition:opacity .3s ease;opacity:1}.playbook-heading .playbook-header-container .filter-container now-dropdown-custom-target,.playbook-heading .playbook-header-container .filter-container now-dropdown-custom-target div .filter-button-dropdown{outline:none}.playbook-heading .playbook-header-container .filter-container:not(.show){opacity:0;pointer-events:none;width:.125rem}.playbook-heading .playbook-header-container .sn-playbook-actions{flex-shrink:0;position:relative;margin:0;opacity:0;pointer-events:none;transition:opacity .3s ease}.playbook-heading .playbook-header-container .sn-playbook-actions.show,.playbook-heading .playbook-header-container .sn-playbook-actions:active,.playbook-heading .playbook-header-container .sn-playbook-actions:focus,.playbook-heading .playbook-header-container .sn-playbook-actions:focus-within,.playbook-heading .playbook-header-container .sn-playbook-actions:hover{pointer-events:all;opacity:1}.playbook-heading .chevron-icon{position:absolute;top:.875rem;pointer-events:none;transition:transform .15s ease-out}:host(:not([dir=rtl])) .playbook-heading .chevron-icon,:root:not([dir=rtl]) .playbook-heading .chevron-icon{right:0}:host([dir=rtl]) .playbook-heading .chevron-icon,:root[dir=rtl] .playbook-heading .chevron-icon{left:0}.playbook-heading .chevron-icon.is-expanded{transform:rotate(-180deg)}:host([dir=rtl]) .playbook-heading .chevron-icon.is-expanded,root[dir=rtl] .playbook-heading .chevron-icon.is-expanded{transform:rotate(180deg)}.playbook-heading:active,.playbook-heading:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color--focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color--focus-ring-shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25)}.playbook-heading:active .playbook-header-container,.playbook-heading:focus .playbook-header-container{max-width:calc(100% - 2rem)}:host(:not([dir=rtl])) .playbook-heading:active .playbook-header-container,:host(:not([dir=rtl])) .playbook-heading:focus .playbook-header-container,:root:not([dir=rtl]) .playbook-heading:active .playbook-header-container,:root:not([dir=rtl]) .playbook-heading:focus .playbook-header-container{left:.25rem}:host([dir=rtl]) .playbook-heading:active .playbook-header-container,:host([dir=rtl]) .playbook-heading:focus .playbook-header-container,:root[dir=rtl] .playbook-heading:active .playbook-header-container,:root[dir=rtl] .playbook-heading:focus .playbook-header-container{right:.25rem}:host(:not([dir=rtl])) .playbook-heading:active .playbook-header-container,:host(:not([dir=rtl])) .playbook-heading:focus .playbook-header-container,:root:not([dir=rtl]) .playbook-heading:active .playbook-header-container,:root:not([dir=rtl]) .playbook-heading:focus .playbook-header-container{padding-left:.25rem}:host([dir=rtl]) .playbook-heading:active .playbook-header-container,:host([dir=rtl]) .playbook-heading:focus .playbook-header-container,:root[dir=rtl] .playbook-heading:active .playbook-header-container,:root[dir=rtl] .playbook-heading:focus .playbook-header-container{padding-right:.25rem}:host(:not([dir=rtl])) .playbook-heading:active .chevron-icon,:host(:not([dir=rtl])) .playbook-heading:focus .chevron-icon,:root:not([dir=rtl]) .playbook-heading:active .chevron-icon,:root:not([dir=rtl]) .playbook-heading:focus .chevron-icon{right:.5625rem}:host([dir=rtl]) .playbook-heading:active .chevron-icon,:host([dir=rtl]) .playbook-heading:focus .chevron-icon,:root[dir=rtl] .playbook-heading:active .chevron-icon,:root[dir=rtl] .playbook-heading:focus .chevron-icon{left:.5625rem}.playbook-heading:active .sn-playbook-actions,.playbook-heading:focus-within .sn-playbook-actions,.playbook-heading:focus .sn-playbook-actions,.playbook-heading:hover .sn-playbook-actions{opacity:1;pointer-events:all}.playbook-filter-badge{position:absolute;top:-.25rem}:host(:not([dir=rtl])) .playbook-filter-badge,:root:not([dir=rtl]) .playbook-filter-badge{right:-.25rem}:host([dir=rtl]) .playbook-filter-badge,:root[dir=rtl] .playbook-filter-badge{left:-.25rem}.now-m-block-start--xs{margin:0;margin-block-start:.25rem}.now-m-block-start--sm,.now-m-block-start--xs{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.now-m-block-start--sm{margin:0;margin-block-start:.5rem}.now-m-block-start--xl{display:block;margin:0;margin-block-start:1.5rem;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}.focus-anchor{position:absolute;top:-99px;right:-99px;width:0}.disable-stage-selector{display:none}\", \"\"]);\n\n// exports\n","import '@servicenow/now-collapse';\nimport { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { get } from 'lodash';\nimport { t } from 'sn-translate'; //'@servicenow/library-translate';\nimport {\n\tPANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID,\n\tPANEL_NAVIGATION_SET_FOCUS_ANCHOR,\n\tPANEL_NAVIGATION_UPDATE_MAP\n} from '../behaviors/sn-panel-navigation/constants';\nimport EmptyState from '../components/empty-state';\nimport PlaybookHeading from '../components/playbook-heading';\nimport StageItem from '../components/stage-item';\nimport {\n\tEVENT_KEY,\n\tPLAYBOOK_STAGE_CLICKED,\n\tPLAYBOOK_STAGE_DEFAULT_TITLE,\n\tPLAYBOOK_STAGE_LIST_EXPANDED_SET,\n\tPLAYBOOK_STAGE_MODEL_ID,\n\tPLAYBOOK_STAGE_SELECTOR_SOURCE\n} from '../constants';\nimport { NOTIFICATION_NO_PLAYBOOKS_AVAILABLE } from '../notification.constants';\n\nconst getVisibleCards = (items) => {\n\tconst cards = items.filter((card) => !card.hidden);\n\n\treturn cards.length\n\t\t? {\n\t\t\tcards,\n\t\t\tfirstCardLaneName: cards[0].laneName,\n\t\t\tvisibleCardCount: cards.length\n\t\t  }\n\t\t: {\n\t\t\tcards: null,\n\t\t\tfirstCardLaneName: null,\n\t\t\tvisibleCardCount: 0\n\t\t  };\n};\n\nconst view = (\n\t{\n\t\tproperties: {\n\t\t\tplaybookContextIdsInOrder,\n\t\t\tplaybooksByContextId,\n\t\t\tselectedStage,\n\t\t\tplaybookExperienceId,\n\t\t\tcompactMode,\n\t\t\tdefaultExpandedPlaybook,\n\t\t\tparentRecordUpdateTime\n\t\t},\n\t\texpandedStageListsByContextId,\n\t\tplaybookActionsDropdownOpened,\n\t\topenedActionsDropdownByStageName\n\t},\n\t{ dispatch }\n) => {\n\tlet selectedFilterLaneName = null;\n\tlet previousHeadingNavKey = '';\n\n\tconst activateStage = (stageName, playbookContextId) => {\n\t\tdispatch(PLAYBOOK_STAGE_CLICKED, {\n\t\t\tstageName,\n\t\t\tplaybookContextId\n\t\t});\n\t};\n\n\tconst disableForCompactModeStageSelected =\n\t\tcompactMode &&\n\t\tselectedStage.playbookContextId &&\n\t\tselectedStage.stageName;\n\n\tif (playbookContextIdsInOrder.length < 1)\n\t\treturn (\n\t\t\t<EmptyState\n\t\t\t\ttitle={NOTIFICATION_NO_PLAYBOOKS_AVAILABLE.header}\n\t\t\t\ttext={NOTIFICATION_NO_PLAYBOOKS_AVAILABLE.body}\n\t\t\t\tillustration={NOTIFICATION_NO_PLAYBOOKS_AVAILABLE.illustration}\n\t\t\t/>\n\t\t);\n\n\treturn (\n\t\t<div\n\t\t\tclass={{\n\t\t\t\t'now-playbook-stage-selector': true,\n\t\t\t\t'disable-stage-selector': disableForCompactModeStageSelected\n\t\t\t}}\n\t\t\trole=\"list\"\n\t\t>\n\t\t\t<div\n\t\t\t\tcontenteditable={true}\n\t\t\t\tclassName=\"focus-anchor\"\n\t\t\t\ttabindex={-1}\n\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\tdispatch(PANEL_NAVIGATION_SET_FOCUS_ANCHOR, {\n\t\t\t\t\t\tfocusAnchorRef: elm,\n\t\t\t\t\t\tsource: PLAYBOOK_STAGE_SELECTOR_SOURCE\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tdata-nav={PANEL_NAVIGATION_FOCUS_ANCHOR_NAV_ID}\n\t\t\t/>\n\n\t\t\t{playbookContextIdsInOrder.map((contextId) => {\n\t\t\t\tconst playbook = playbooksByContextId[contextId];\n\t\t\t\tconst headingNavKey = `pb-heading-${contextId}`;\n\t\t\t\tconst {\n\t\t\t\t\ttitle = '',\n\t\t\t\t\tparentTable,\n\t\t\t\t\tparentRecord,\n\t\t\t\t\tstate,\n\t\t\t\t\tfilterOpened = false,\n\t\t\t\t\tfilterData = [],\n\t\t\t\t\tselectedFilters,\n\t\t\t\t\tselectedFilterCount = 0,\n\t\t\t\t\tsysId,\n\t\t\t\t\tlanes,\n\t\t\t\t\tcancellationReason,\n\t\t\t\t\tcanceledBy\n\t\t\t\t} = playbook;\n\t\t\t\tlet previousNavKey = '';\n\n\t\t\t\tconst expandStageList = get(\n\t\t\t\t\texpandedStageListsByContextId,\n\t\t\t\t\tcontextId,\n\t\t\t\t\tcontextId === defaultExpandedPlaybook\n\t\t\t\t);\n\t\t\t\tconst playbookJSX = (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<span className={'now-m-block-start--xl'} />\n\t\t\t\t\t\t<PlaybookHeading\n\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\tparentTable={parentTable}\n\t\t\t\t\t\t\tparentRecord={parentRecord}\n\t\t\t\t\t\t\tplaybookExperienceId={playbookExperienceId}\n\t\t\t\t\t\t\tplaybookContextId={sysId}\n\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\tfilterOpened={filterOpened}\n\t\t\t\t\t\t\tfilterData={filterData}\n\t\t\t\t\t\t\tselectedFilterCount={selectedFilterCount}\n\t\t\t\t\t\t\tselectedFilters={selectedFilters}\n\t\t\t\t\t\t\texpandStageList={expandStageList}\n\t\t\t\t\t\t\tcancellationReason={cancellationReason}\n\t\t\t\t\t\t\tcanceledBy={canceledBy}\n\t\t\t\t\t\t\tactionsDropdownOpened={\n\t\t\t\t\t\t\t\tplaybookActionsDropdownOpened\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnavKey={headingNavKey}\n\t\t\t\t\t\t\tpreviousNavKey={previousHeadingNavKey}\n\t\t\t\t\t\t\tonExpandOrCollapseClicked={() => {\n\t\t\t\t\t\t\t\tdispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\t\t\tmapKey: headingNavKey,\n\t\t\t\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\t\t\t\tright: expandStageList\n\t\t\t\t\t\t\t\t\t\t\t? `pb-actions-${contextId}`\n\t\t\t\t\t\t\t\t\t\t\t: `pb-filter-${contextId}`\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tdispatch(PLAYBOOK_STAGE_LIST_EXPANDED_SET, {\n\t\t\t\t\t\t\t\t\tplaybookContextId: contextId,\n\t\t\t\t\t\t\t\t\tupdatedExpandState: !expandStageList\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\tparentRecordUpdateTime={parentRecordUpdateTime}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<span className={'now-m-block-start--xs'} />\n\t\t\t\t\t\t<now-collapse\n\t\t\t\t\t\t\texpanded={expandStageList}\n\t\t\t\t\t\t\tid={`collapse-playbook-stage-list-${contextId}`}\n\t\t\t\t\t\t\tkey={`playbook-stage-list-${contextId}`}\n\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\trole: 'group',\n\t\t\t\t\t\t\t\t'aria-label': t('{0} Playbook Stages', title),\n\t\t\t\t\t\t\t\t'aria-expanded': expandStageList\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{lanes.map((stage) => {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\ttitle: stageTitle,\n\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\tstats: {\n\t\t\t\t\t\t\t\t\t\ttotalItems,\n\t\t\t\t\t\t\t\t\t\tcompletedItems,\n\t\t\t\t\t\t\t\t\t\treadyItems\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tstate: stageState,\n\t\t\t\t\t\t\t\t\tcards\n\t\t\t\t\t\t\t\t} = stage;\n\n\t\t\t\t\t\t\t\tif (!(cards && cards.length)) return null;\n\n\t\t\t\t\t\t\t\tconst navKey = `stage-item-${contextId}.${name}`;\n\n\t\t\t\t\t\t\t\tlet filteredCardsCount = null;\n\t\t\t\t\t\t\t\tlet isDisabled = false;\n\n\t\t\t\t\t\t\t\tif (selectedFilterCount) {\n\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\tfirstCardLaneName,\n\t\t\t\t\t\t\t\t\t\tvisibleCardCount\n\t\t\t\t\t\t\t\t\t} = getVisibleCards(cards);\n\n\t\t\t\t\t\t\t\t\tfilteredCardsCount = visibleCardCount;\n\n\t\t\t\t\t\t\t\t\tif (visibleCardCount) {\n\t\t\t\t\t\t\t\t\t\tif (selectedFilterLaneName === null) {\n\t\t\t\t\t\t\t\t\t\t\tselectedFilterLaneName = firstCardLaneName;\n\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tfilterOpened &&\n\t\t\t\t\t\t\t\t\t\t\t\t!compactMode &&\n\t\t\t\t\t\t\t\t\t\t\t\tselectedStage.stageName !==\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirstCardLaneName\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\tactivateStage(\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirstCardLaneName,\n\t\t\t\t\t\t\t\t\t\t\t\t\tsysId\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else isDisabled = true;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (totalItems === 0) isDisabled = true;\n\n\t\t\t\t\t\t\t\tconst sanitizedName = name.replace(/\\s+/g, '-');\n\t\t\t\t\t\t\t\tconst declarativeActionsDataProviderId = `playbook-stage-actions-data-provider-${contextId}-${sanitizedName}`;\n\t\t\t\t\t\t\t\tconst onStageKeyDown = (e) => {\n\t\t\t\t\t\t\t\t\tswitch (e.key) {\n\t\t\t\t\t\t\t\t\t\tcase EVENT_KEY.ENTER:\n\t\t\t\t\t\t\t\t\t\tcase EVENT_KEY.SPACE:\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\tactivateStage(name, contextId);\n\t\t\t\t\t\t\t\t\t\t\t//dispatch(PANEL_NAVIGATION_SWITCH_FOCUS, { source: PLAYBOOK_STAGE_SELECTOR_SOURCE}); -> needs some work\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tconst stageJSX = (\n\t\t\t\t\t\t\t\t\t<sn-playbook-declarative-actions-data-provider\n\t\t\t\t\t\t\t\t\t\tcomponent-id={\n\t\t\t\t\t\t\t\t\t\t\tdeclarativeActionsDataProviderId\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tassociatedTable={parentTable}\n\t\t\t\t\t\t\t\t\t\tassociatedSysId={parentRecord}\n\t\t\t\t\t\t\t\t\t\tplaybookExperienceId={\n\t\t\t\t\t\t\t\t\t\t\tplaybookExperienceId\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tmodelId={PLAYBOOK_STAGE_MODEL_ID}\n\t\t\t\t\t\t\t\t\t\tparentRecordUpdateTime={\n\t\t\t\t\t\t\t\t\t\t\tparentRecordUpdateTime\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<sn-declarative-mediator>\n\t\t\t\t\t\t\t\t\t\t\t<StageItem\n\t\t\t\t\t\t\t\t\t\t\t\tparentTable={parentTable}\n\t\t\t\t\t\t\t\t\t\t\t\tparentRecord={parentRecord}\n\t\t\t\t\t\t\t\t\t\t\t\tplaybookExperienceId={\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaybookExperienceId\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tplaybookContextId={contextId}\n\t\t\t\t\t\t\t\t\t\t\t\tplaybookState={state}\n\t\t\t\t\t\t\t\t\t\t\t\tstageState={stageState}\n\t\t\t\t\t\t\t\t\t\t\t\tprogress={\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotalItems\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? completedItems /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  totalItems\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\tstageTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? stageTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: PLAYBOOK_STAGE_DEFAULT_TITLE\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\t\tcompleteActivities={\n\t\t\t\t\t\t\t\t\t\t\t\t\tcompletedItems\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttotalActivities={totalItems}\n\t\t\t\t\t\t\t\t\t\t\t\treadyActivities={readyItems}\n\t\t\t\t\t\t\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedStage.playbookContextId ==\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsysId &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tselectedStage.stageName ==\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDisabled}\n\t\t\t\t\t\t\t\t\t\t\t\tactions={`@${declarativeActionsDataProviderId}/declarativeActions`}\n\t\t\t\t\t\t\t\t\t\t\t\tfilteredCardCount={\n\t\t\t\t\t\t\t\t\t\t\t\t\tfilteredCardsCount\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tpreviousNavKey={previousNavKey}\n\t\t\t\t\t\t\t\t\t\t\t\tnavKey={navKey}\n\t\t\t\t\t\t\t\t\t\t\t\tonStageClicked={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tactivateStage(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextId\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tonStageKeyDown={onStageKeyDown}\n\t\t\t\t\t\t\t\t\t\t\t\tactionsDropdownOpened={\n\t\t\t\t\t\t\t\t\t\t\t\t\topenedActionsDropdownByStageName ===\n\t\t\t\t\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</sn-declarative-mediator>\n\t\t\t\t\t\t\t\t\t</sn-playbook-declarative-actions-data-provider>\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (!isDisabled) previousNavKey = navKey;\n\n\t\t\t\t\t\t\t\treturn stageJSX;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</now-collapse>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\n\t\t\t\tpreviousHeadingNavKey = headingNavKey;\n\n\t\t\t\treturn playbookJSX;\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nexport default view;\n","import '@servicenow/now-heading';\nimport { createRef, Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate'; //'@servicenow/library-translate';\nimport { PANEL_NAVIGATION_UPDATE_MAP } from '../../behaviors/sn-panel-navigation/constants';\nimport {\n\tEVENT_KEY,\n\tFILTERED_ICON,\n\tFILTER_CLASS,\n\tFILTER_ICON,\n\tFILTER_TOOLTIP,\n\tPLAYBOOK_COLLAPSE_TOOLTIP,\n\tPLAYBOOK_EXPAND_TOOLTIP,\n\tPLAYBOOK_MODEL_ID,\n\tPLAYBOOK_STANDARD_TOOLTIP_DELAY\n} from '../../constants';\nimport '../now-playbook-cancelled-popover';\nimport '../sn-playbook-actions';\n\nconst PlaybookHeading = ({\n\ttitle,\n\tparentTable,\n\tparentRecord,\n\tplaybookExperienceId,\n\tplaybookContextId,\n\tstate,\n\tfilterOpened,\n\tfilterData,\n\tselectedFilters,\n\tselectedFilterCount,\n\texpandStageList,\n\tcancellationReason,\n\tcanceledBy,\n\tactionsDropdownOpened,\n\tonExpandOrCollapseClicked,\n\tnavKey,\n\tpreviousNavKey,\n\tdispatch,\n\tparentRecordUpdateTime\n}) => {\n\tconst selectedItems = selectedFilters\n\t\t? Object.keys(selectedFilters).flatMap((selectedFilterSection) =>\n\t\t\tObject.keys(selectedFilters[selectedFilterSection]).map(\n\t\t\t\t(selectedItemLabel) =>\n\t\t\t\t\t`${selectedFilterSection}|${selectedItemLabel}`\n\t\t\t)\n\t\t  )\n\t\t: undefined;\n\n\tlet filterArray = [];\n\tlet collapseTriggerRef = createRef();\n\n\tif (filterData) filterArray = Object.values(filterData);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<now-collapse-trigger\n\t\t\t\tref={collapseTriggerRef}\n\t\t\t\tclassName=\"playbook-heading\"\n\t\t\t\tcontrols={`collapse-playbook-stage-list-${playbookContextId}`}\n\t\t\t\ton-click={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tonExpandOrCollapseClicked();\n\t\t\t\t}}\n\t\t\t\ton-keydown={(e) => {\n\t\t\t\t\tswitch (e.key) {\n\t\t\t\t\t\tcase EVENT_KEY.ENTER:\n\t\t\t\t\t\tcase EVENT_KEY.SPACE:\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tcollapseTriggerRef &&\n\t\t\t\t\t\t\t\tcollapseTriggerRef.current &&\n\t\t\t\t\t\t\t\t!e.ctrlKey &&\n\t\t\t\t\t\t\t\t!e.altKey\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tcollapseTriggerRef.current.click();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\ttabindex={0}\n\t\t\t\tappend-to-payload={{\n\t\t\t\t\tplaybookContextId,\n\t\t\t\t\texpandStageList: !expandStageList\n\t\t\t\t}}\n\t\t\t\tdata-nav={navKey}\n\t\t\t\thook-insert={({ elm }) => {\n\t\t\t\t\tif (dispatch && elm)\n\t\t\t\t\t\tdispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\tmapKey: navKey,\n\t\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\t\tup: previousNavKey ? previousNavKey : '',\n\t\t\t\t\t\t\t\tdomRef: elm,\n\t\t\t\t\t\t\t\tright: expandStageList\n\t\t\t\t\t\t\t\t\t? `pb-filter-${playbookContextId}`\n\t\t\t\t\t\t\t\t\t: `pb-actions-${playbookContextId}`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (previousNavKey)\n\t\t\t\t\t\tdispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\tmapKey: previousNavKey,\n\t\t\t\t\t\t\tmapEntry: { down: navKey },\n\t\t\t\t\t\t\toperation: 'merge'\n\t\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tconfig-aria={{\n\t\t\t\t\trole: 'listitem',\n\t\t\t\t\t'aria-labelledby': `playbook-heading-${playbookContextId}`,\n\t\t\t\t\t'aria-controls': `collapse-playbook-stage-list-${playbookContextId}`,\n\t\t\t\t\t'aria-expanded': expandStageList\n\t\t\t\t}}\n\t\t\t\tkey={`playbook-collapse-trigger-${playbookContextId}`}\n\t\t\t>\n\t\t\t\t<div className=\"playbook-header-container\">\n\t\t\t\t\t<now-heading\n\t\t\t\t\t\tlabel={title}\n\t\t\t\t\t\tlevel=\"2\"\n\t\t\t\t\t\tvariant=\"header-tertiary\"\n\t\t\t\t\t\twontWrap={true}\n\t\t\t\t\t\thasNoMargin={true}\n\t\t\t\t\t\tid={`playbook-heading-${playbookContextId}`}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{expandStageList &&\n\t\t\t\t\ttitle &&\n\t\t\t\t\tfilterArray &&\n\t\t\t\t\tfilterArray.length ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t\t[FILTER_CLASS]: true,\n\t\t\t\t\t\t\t\t\t'filter-container': true,\n\t\t\t\t\t\t\t\t\tshow: expandStageList\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton-click={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t\ton-keydown={(e) => {\n\t\t\t\t\t\t\t\t\tswitch (e.key) {\n\t\t\t\t\t\t\t\t\t\tcase EVENT_KEY.ENTER:\n\t\t\t\t\t\t\t\t\t\tcase EVENT_KEY.SPACE:\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<now-dropdown-custom-target\n\t\t\t\t\t\t\t\t\titems={filterArray}\n\t\t\t\t\t\t\t\t\tselect=\"multi\"\n\t\t\t\t\t\t\t\t\tselected-items={selectedItems}\n\t\t\t\t\t\t\t\t\tpanel-fit-props={{\n\t\t\t\t\t\t\t\t\t\tposition: ['bottom-right top-right']\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tappend-to-payload={{ playbookContextId }}\n\t\t\t\t\t\t\t\t\tid={`filter-dropdown-panel-${playbookContextId}`}\n\t\t\t\t\t\t\t\t\ton-mouseover={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t\trole: 'listbox',\n\t\t\t\t\t\t\t\t\t\t'aria-label': t(\n\t\t\t\t\t\t\t\t\t\t\t`${FILTER_TOOLTIP} Selection Items`\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div slot=\"trigger\">\n\t\t\t\t\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\t\t\t\t\tclassName={'filter-button-dropdown'}\n\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\tselectedFilterCount\n\t\t\t\t\t\t\t\t\t\t\t\t\t? FILTERED_ICON\n\t\t\t\t\t\t\t\t\t\t\t\t\t: FILTER_ICON\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Toggle panel\"\n\t\t\t\t\t\t\t\t\t\t\tbare={true}\n\t\t\t\t\t\t\t\t\t\t\ttooltip-content={FILTER_TOOLTIP}\n\t\t\t\t\t\t\t\t\t\t\tdata-nav={`pb-filter-${playbookContextId}`}\n\t\t\t\t\t\t\t\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch &&\n\t\t\t\t\t\t\t\t\t\t\ttypeof dispatch === 'function' &&\n\t\t\t\t\t\t\t\t\t\t\telm\n\t\t\t\t\t\t\t\t\t\t\t\t\t? dispatch(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPANEL_NAVIGATION_UPDATE_MAP,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmapKey: `pb-filter-${playbookContextId}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tleft: navKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdomRef: elm,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tright: `pb-actions-${playbookContextId}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t\t\t\trole: 'button',\n\t\t\t\t\t\t\t\t\t\t\t\t'aria-label': t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t`Playbook ${FILTER_TOOLTIP}`\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{selectedFilterCount ? (\n\t\t\t\t\t\t\t\t\t\t\t<now-badge\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tround={true}\n\t\t\t\t\t\t\t\t\t\t\t\tstatus=\"info\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedFilterCount}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"playbook-filter-badge\"\n\t\t\t\t\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t'aria-label': t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Filter Count: {0}',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedFilterCount\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</now-dropdown-custom-target>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t{parentTable && parentRecord && playbookExperienceId ? (\n\t\t\t\t\t\t<sn-playbook-declarative-actions-data-provider\n\t\t\t\t\t\t\tcomponent-id={`playbook-actions-data-provider-${playbookContextId}`}\n\t\t\t\t\t\t\tassociatedTable={parentTable}\n\t\t\t\t\t\t\tassociatedSysId={parentRecord}\n\t\t\t\t\t\t\tplaybookExperienceId={playbookExperienceId}\n\t\t\t\t\t\t\tmodelId={PLAYBOOK_MODEL_ID}\n\t\t\t\t\t\t\tparentRecordUpdateTime={parentRecordUpdateTime}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<sn-declarative-mediator>\n\t\t\t\t\t\t\t\t<sn-playbook-actions\n\t\t\t\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t\t\t\t'sn-playbook-actions': true,\n\t\t\t\t\t\t\t\t\t\tshow:\n\t\t\t\t\t\t\t\t\t\t\texpandStageList ||\n\t\t\t\t\t\t\t\t\t\t\tactionsDropdownOpened\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdeclarative-actions={`@playbook-actions-data-provider-${playbookContextId}/declarativeActions`}\n\t\t\t\t\t\t\t\t\ttable={parentTable}\n\t\t\t\t\t\t\t\t\tsys-id={parentRecord}\n\t\t\t\t\t\t\t\t\tplaybook-context-id={playbookContextId}\n\t\t\t\t\t\t\t\t\tplaybook-status={state.value}\n\t\t\t\t\t\t\t\t\topened={actionsDropdownOpened}\n\t\t\t\t\t\t\t\t\tleftNavKey={\n\t\t\t\t\t\t\t\t\t\texpandStageList\n\t\t\t\t\t\t\t\t\t\t\t? `pb-filter-${playbookContextId}`\n\t\t\t\t\t\t\t\t\t\t\t: navKey\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ton-mouseover={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t\t'aria-label': t('Playbook Actions')\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</sn-declarative-mediator>\n\t\t\t\t\t\t</sn-playbook-declarative-actions-data-provider>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\n\t\t\t\t<now-icon\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t'chevron-icon': true,\n\t\t\t\t\t\t'is-expanded': expandStageList\n\t\t\t\t\t}}\n\t\t\t\t\ticon=\"chevron-down-outline\"\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\ttabindex={-1}\n\t\t\t\t/>\n\t\t\t</now-collapse-trigger>\n\t\t\t<now-tooltip\n\t\t\t\tcontent={\n\t\t\t\t\texpandStageList\n\t\t\t\t\t\t? PLAYBOOK_COLLAPSE_TOOLTIP\n\t\t\t\t\t\t: PLAYBOOK_EXPAND_TOOLTIP\n\t\t\t\t}\n\t\t\t\tdelay={PLAYBOOK_STANDARD_TOOLTIP_DELAY}\n\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t(elm.targetRef = elm.previousElementSibling)\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{cancellationReason && (\n\t\t\t\t<now-playbook-cancelled-popover\n\t\t\t\t\tcancellationReason={cancellationReason}\n\t\t\t\t\tcanceledBy={canceledBy}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n\nexport default PlaybookHeading;\n","import './now-playbook-cancelled-popover';\n","import '@servicenow/now-icon';\nimport '@servicenow/now-popover';\nimport '@servicenow/now-text-link';\nimport { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport './now-playbook-cancelled-popover-content';\nimport styles from './styles.scss';\n\n/**\n * ## Playbook Cancelled Popover\n *\n * @seismicElement now-playbook-cancelled-popover\n * @summary now-popover component that displays the cancellation reason for a playbook\n */\ncreateCustomElement('now-playbook-cancelled-popover', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: ({ properties: { canceledBy, cancellationReason } }) => (\n\t\t\t<div className=\"popover-trigger-container\">\n\t\t\t\t<div className=\"popover-trigger-display-area\">\n\t\t\t\t\t<now-icon icon=\"triangle-exclamation-outline\" />\n\t\t\t\t\t<span>{t('Canceled')}</span>\n\t\t\t\t\t<now-popover\n\t\t\t\t\t\tpositions={[\n\t\t\t\t\t\t\t{ target: 'center-end', content: 'center-start' }\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<now-text-link\n\t\t\t\t\t\t\tlabel={t('View Reason')}\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\tunderlined={true}\n\t\t\t\t\t\t\tslot=\"trigger\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<now-playbook-cancelled-popover-content\n\t\t\t\t\t\t\tslot=\"content\"\n\t\t\t\t\t\t\tcancellationReason={cancellationReason}\n\t\t\t\t\t\t\tcanceledBy={canceledBy}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</now-popover>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t},\n\tstyles,\n\tproperties: {\n\t\t/**\n\t\t * the text for the reason the playbook was canceled - displayed in popover\n\t\t * @type {String}\n\t\t */\n\t\tcancellationReason: {\n\t\t\tdefault: ''\n\t\t},\n\n\t\t/**\n\t\t * the text for who canceled by the playbook - displayed in popover\n\t\t * @type {String}\n\t\t */\n\t\tcanceledBy: {\n\t\t\tdefault: ''\n\t\t}\n\t}\n});\n","module.exports = __TECTONIC__$servicenow_now_popover;","module.exports = __TECTONIC__$servicenow_now_text_link;","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport styles from './styles.scss';\n\n/**\n * ## Playbook Cancelled Popover Content\n *\n * @seismicElement now-playbook-cancelled-popover\n * @summary Component to display as the content slot of now-playbook-cancelled-popover\n */\ncreateCustomElement('now-playbook-cancelled-popover-content', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview: ({ properties: { cancellationReason, canceledBy } }) => (\n\t\t\t<div className=\"popover-content-container\">\n\t\t\t\t<b>{t('Canceled by {0}', canceledBy)}</b>\n\t\t\t\t<br />\n\t\t\t\t{cancellationReason}\n\t\t\t</div>\n\t\t)\n\t},\n\tstyles,\n\tproperties: {\n\t\t/**\n\t\t * the text for the reason the playbook was canceled - displayed in popover\n\t\t * @type {String}\n\t\t */\n\t\tcancellationReason: {\n\t\t\tdefault: ''\n\t\t},\n\n\t\t/**\n\t\t * the text for the who canceled the playbook - displayed in popover\n\t\t * @type {String}\n\t\t */\n\t\tcanceledBy: {\n\t\t\tdefault: ''\n\t\t}\n\t}\n});\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-start:.125rem;margin-block-end:.125rem}.now-m-block--xs{margin-block-start:.25rem;margin-block-end:.25rem}.now-m-block--sm{margin-block-start:.5rem;margin-block-end:.5rem}.now-m-block--md{margin-block-start:.75rem;margin-block-end:.75rem}.now-m-block--lg{margin-block-start:1rem;margin-block-end:1rem}.now-m-block--xl{margin-block-start:1.5rem;margin-block-end:1.5rem}.now-m-block--xxl{margin-block-start:2rem;margin-block-end:2rem}.now-m-block--3xl{margin-block-start:2.5rem;margin-block-end:2.5rem}.now-m-block--0{margin-block-start:0;margin-block-end:0}.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-start--0{margin-block-start:0}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-block-end--0{margin-block-end:0}.now-m-inline--xxs{margin-inline-start:.125rem;margin-inline-end:.125rem}.now-m-inline--xs{margin-inline-start:.25rem;margin-inline-end:.25rem}.now-m-inline--sm{margin-inline-start:.5rem;margin-inline-end:.5rem}.now-m-inline--md{margin-inline-start:.75rem;margin-inline-end:.75rem}.now-m-inline--lg{margin-inline-start:1rem;margin-inline-end:1rem}.now-m-inline--xl{margin-inline-start:1.5rem;margin-inline-end:1.5rem}.now-m-inline--xxl{margin-inline-start:2rem;margin-inline-end:2rem}.now-m-inline--3xl{margin-inline-start:2.5rem;margin-inline-end:2.5rem}.now-m-inline--0{margin-inline-start:0;margin-inline-end:0}.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-start:.125rem;padding-block-end:.125rem}.now-p-block--xs{padding-block-start:.25rem;padding-block-end:.25rem}.now-p-block--sm{padding-block-start:.5rem;padding-block-end:.5rem}.now-p-block--md{padding-block-start:.75rem;padding-block-end:.75rem}.now-p-block--lg{padding-block-start:1rem;padding-block-end:1rem}.now-p-block--xl{padding-block-start:1.5rem;padding-block-end:1.5rem}.now-p-block--xxl{padding-block-start:2rem;padding-block-end:2rem}.now-p-block--3xl{padding-block-start:2.5rem;padding-block-end:2.5rem}.now-p-block--0{padding-block-start:0;padding-block-end:0}.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-start--0{padding-block-start:0}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-block-end--0{padding-block-end:0}.now-p-inline--xxs{padding-inline-start:.125rem;padding-inline-end:.125rem}.now-p-inline--xs{padding-inline-start:.25rem;padding-inline-end:.25rem}.now-p-inline--sm{padding-inline-start:.5rem;padding-inline-end:.5rem}.now-p-inline--md{padding-inline-start:.75rem;padding-inline-end:.75rem}.now-p-inline--lg{padding-inline-start:1rem;padding-inline-end:1rem}.now-p-inline--xl{padding-inline-start:1.5rem;padding-inline-end:1.5rem}.now-p-inline--xxl{padding-inline-start:2rem;padding-inline-end:2rem}.now-p-inline--3xl{padding-inline-start:2.5rem;padding-inline-end:2.5rem}.now-p-inline--0{padding-inline-start:0;padding-inline-end:0}.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-inline-end--0{padding-inline-end:0}.now-line-height-crop:after,.now-line-height-crop:before{content:\\\"\\\";display:block;width:0;height:0}.now-line-height-crop:before{margin-block-end:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-line-height-crop:after{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-line-height-crop+.now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1*-1)}.now-heading--lg,.now-heading--md,.now-heading--xl{font-weight:600;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-heading--md{font-size:1rem}.now-heading--lg{font-size:1.25rem}.now-heading--xl{font-size:1.5rem}.now-text--normal{font-weight:400}.now-text--semibold{font-weight:600}.now-text--bold{font-weight:700}.now-text--sm{font-size:.75rem}.now-text--md{font-size:1rem}.now-text--lg{font-size:1.25rem}.now-text--primary{color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.now-text--secondary{color:RGB(var(--now-color--text-secondary,var(--now-color--neutral-12,66,80,81)))}.now-text--tertiary{color:RGB(var(--now-color--text-tertiary,var(--now-color--neutral-9,99,114,116)))}.popover-trigger-container{margin:.75rem 0;padding:2px 20px;min-height:20px;border-radius:.125rem;background-color:RGB(var(--now-color--alert-warning-0,242,237,179))}.popover-trigger-display-area{font-size:.75rem;color:RGB(var(--now-color--text-primary,var(--now-color--neutral-18,22,27,28)))}.popover-trigger-display-area>:not(:last-child){margin-right:.25rem}.popover-content-container{padding:1rem;font-size:.75rem}\", \"\"]);\n\n// exports\n","import './sn-playbook-actions';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {\n\tcreateTransformDeclarativeActionsBehaviorFromModel,\n\tdeclarativeActionsHeaderClickedBehavior\n} from '../../behaviors';\nimport actionHandlers from './actions';\nimport view from './view';\nimport { EVENT_KEY } from '../../constants';\n\n/**\n * ## Playbook Actions\n *\n * Dropdown component that enables the user to take action. Renders Declarative\n * Actions that implement Playbook declarative model inside now-dropdown\n * when provided with running playbook sysId and status.\n *\n * ```jsx\n * const { sysId, state, parentTable, parentRecord } = playbook;\n * <sn-declarative-mediator>\n * \t<sn-playbook-actions\n * \t\tdeclarative-actions={`@playbook-actions-data-provider-${sysId}/declarativeActions}\n * \t\ttable={parentTable}\n * \t\tsys-id={sysId}\n * \t\tplaybook-context-id={sysId}\n * \t\tplaybook-status={state.value}\n * \t/>\n * </sn-declarative-mediator>\n * ```\n *\n * @seismicElement sn-playbook-actions\n * @summary now-dropdown component that enables the user to take action on a\n * playbook from its header.\n */\ncreateCustomElement('sn-playbook-actions', {\n\trenderer: { type: snabbdom, view },\n\tproperties: {\n\t\t/**\n\t\t * the table of playbook parent record\n\t\t * @type {String}\n\t\t */\n\t\ttable: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the sysId of the playbook parent record\n\t\t * @type {String}\n\t\t */\n\t\tsysId: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the sysId of the running playbook context\n\t\t * @type {String}\n\t\t */\n\t\tplaybookContextId: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the status of the running playbook context\n\t\t * @type {String}\n\t\t */\n\t\tplaybookStatus: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the opened state of the dropdown\n\t\t * @type {Boolean}\n\t\t */\n\t\topened: {\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * parent heading navigation key\n\t\t * @type {String}\n\t\t */\n\t\tleftNavKey: {\n\t\t\tdefault: ''\n\t\t}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['mousedown', 'click', 'keydown'],\n\t\t\teffect: ({\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { event: e }\n\t\t\t\t}\n\t\t\t}) =>\n\t\t\t\te.type !== 'keydown' ||\n\t\t\t\te.key === EVENT_KEY.ENTER ||\n\t\t\t\te.key === EVENT_KEY.SPACE\n\t\t\t\t\t? e.stopPropagation()\n\t\t\t\t\t: null\n\t\t}\n\t],\n\tactionHandlers,\n\tbehaviors: [\n\t\tcreateTransformDeclarativeActionsBehaviorFromModel(\n\t\t\t({\n\t\t\t\tproperties: { table, sysId, playbookContextId, playbookStatus }\n\t\t\t}) => ({\n\t\t\t\ttable,\n\t\t\t\tsysId,\n\t\t\t\tplaybook_context_id: playbookContextId,\n\t\t\t\tplaybook_status: playbookStatus\n\t\t\t})\n\t\t),\n\t\tdeclarativeActionsHeaderClickedBehavior\n\t]\n});\n","import { actionTypes } from '@servicenow/ui-core';\nimport {\n\tNOW_DROPDOWN_OPENED_SET,\n\tPLAYBOOK_ACTIONS_DROPDOWN_OPENED_SET\n} from '../../constants';\nimport { PANEL_NAVIGATION_UPDATE_MAP } from '../../behaviors/sn-panel-navigation/constants';\nconst { COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nconst actionHandlers = {\n\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\taction: {\n\t\t\tpayload: { name, value }\n\t\t},\n\t\tproperties: { playbookContextId },\n\t\tdispatch\n\t}) =>\n\t\tname === 'leftNavKey'\n\t\t\t? dispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\tmapKey: `pb-actions-${playbookContextId}`,\n\t\t\t\tmapEntry: {\n\t\t\t\t\tleft: value\n\t\t\t\t}\n\t\t\t  })\n\t\t\t: null,\n\t[NOW_DROPDOWN_OPENED_SET]: {\n\t\teffect: ({ dispatch, action: { payload }, properties }) => {\n\t\t\tconst { playbookContextId = '' } = payload;\n\t\t\tconst { opened = false } = properties;\n\n\t\t\tdispatch(PLAYBOOK_ACTIONS_DROPDOWN_OPENED_SET, {\n\t\t\t\topenedState: !opened,\n\t\t\t\tplaybookContextId\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n\nexport default actionHandlers;\n","import { t } from 'sn-translate';\nimport { PANEL_NAVIGATION_UPDATE_MAP } from '../../behaviors/sn-panel-navigation/constants';\n\nconst view = (\n\t{\n\t\tproperties: {\n\t\t\ttransformedDeclarativeActions,\n\t\t\tdeclarativeModel,\n\t\t\topened,\n\t\t\tplaybookContextId,\n\t\t\tleftNavKey\n\t\t}\n\t},\n\t{ dispatch }\n) => {\n\tif (transformedDeclarativeActions.length === 0) return null;\n\n\tconst dropdownActions = transformedDeclarativeActions.map((action) => {\n\t\treturn {\n\t\t\t...action,\n\t\t\tid: action.assignmentId,\n\t\t\ticon: action.icon || ''\n\t\t};\n\t});\n\n\treturn (\n\t\t<now-dropdown\n\t\t\titems={dropdownActions}\n\t\t\tselectedItems={[]}\n\t\t\ticon=\"ellipsis-v-outline\"\n\t\t\ttooltipContent={t('Playbook Actions')}\n\t\t\tsize=\"md\"\n\t\t\tvariant=\"secondary\"\n\t\t\tselect=\"none\"\n\t\t\tbare={true}\n\t\t\thideCaret={true}\n\t\t\tappend-to-payload={{ model: declarativeModel, playbookContextId }}\n\t\t\tdata-nav={`pb-actions-${playbookContextId}`}\n\t\t\thook-insert={({ elm }) =>\n\t\t\t\tdispatch && typeof dispatch === 'function' && elm\n\t\t\t\t\t? dispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\tmapKey: `pb-actions-${playbookContextId}`,\n\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\tleft: leftNavKey,\n\t\t\t\t\t\t\tdomRef: elm\n\t\t\t\t\t\t}\n\t\t\t\t\t  })\n\t\t\t\t\t: null\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default view;\n","import '@servicenow/now-badge';\nimport '@servicenow/now-dropdown';\nimport '@servicenow/now-highlighted-value';\nimport '@servicenow/now-tooltip';\nimport { t } from 'sn-translate'; //'@servicenow/library-translate';\nimport { PANEL_NAVIGATION_UPDATE_MAP } from '../../behaviors/sn-panel-navigation/constants';\nimport { PLAYBOOK_STANDARD_TOOLTIP_DELAY } from '../../constants';\nimport '../now-playbook-radial-progress';\nimport '../sn-playbook-stage-actions';\n\nconst stageItem = ({\n\tprogress,\n\ttitle,\n\tname,\n\tcompleteActivities,\n\ttotalActivities,\n\treadyActivities,\n\tselected,\n\tdisabled,\n\tactions,\n\tonStageClicked,\n\tparentTable,\n\tparentRecord,\n\tplaybookExperienceId,\n\tplaybookContextId,\n\tplaybookState,\n\tstageState,\n\tnavKey,\n\tpreviousNavKey,\n\tfilteredCardCount,\n\tactionsDropdownOpened,\n\tonStageKeyDown,\n\tdispatch\n}) => {\n\tconst stageId = `${playbookContextId}.${name}`;\n\n\treturn (\n\t\t<div\n\t\t\tclass={{\n\t\t\t\t'stage-item': true,\n\t\t\t\t'is-selected': selected,\n\t\t\t\t'is-disabled': disabled\n\t\t\t}}\n\t\t\ton-click={\n\t\t\t\tonStageClicked && typeof onStageClicked === 'function'\n\t\t\t\t\t? onStageClicked\n\t\t\t\t\t: () => {}\n\t\t\t}\n\t\t\ton-keydown={(e) =>\n\t\t\t\tonStageKeyDown && typeof onStageKeyDown === 'function'\n\t\t\t\t\t? onStageKeyDown(e)\n\t\t\t\t\t: () => {}\n\t\t\t}\n\t\t\ttabindex={disabled ? -1 : 0}\n\t\t\thook-update={(oldNode, { elm }) => {\n\t\t\t\tif (dispatch && typeof dispatch === 'function') {\n\t\t\t\t\tif (elm)\n\t\t\t\t\t\tdispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\tmapKey: navKey,\n\t\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\t\tdomRef: disabled ? null : elm,\n\t\t\t\t\t\t\t\tup: previousNavKey ? previousNavKey : '',\n\t\t\t\t\t\t\t\tright: `stage-actions-${stageId}`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (previousNavKey)\n\t\t\t\t\t\tdispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\t\tmapKey: previousNavKey,\n\t\t\t\t\t\t\tmapEntry: { down: disabled ? '' : navKey } //, operation: 'merge'\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}}\n\t\t\tdata-nav={`stage-item-${stageId}`}\n\t\t\trole=\"listitem\"\n\t\t\taria-selected={selected}\n\t\t\taria-current={selected}\n\t\t\taria-label={\n\t\t\t\treadyActivities\n\t\t\t\t\t? t(\n\t\t\t\t\t\t'{0} stage with {1} out of {2} activities complete and {3} activities prioritized',\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tcompleteActivities,\n\t\t\t\t\t\ttotalActivities,\n\t\t\t\t\t\treadyActivities\n\t\t\t\t\t  )\n\t\t\t\t\t: t(\n\t\t\t\t\t\t'{0} stage with {1} out of {2} activities complete',\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tcompleteActivities,\n\t\t\t\t\t\ttotalActivities\n\t\t\t\t\t  )\n\t\t\t}\n\t\t>\n\t\t\t<now-playbook-radial-progress progress={progress} />\n\t\t\t<div className={'stage-item-content'}>\n\t\t\t\t<span className={'now-m-block-start--sm'} />\n\t\t\t\t<h3\n\t\t\t\t\tclass={{\n\t\t\t\t\t\t'stage-title': true,\n\t\t\t\t\t\t'now-m-inline-start--sm': true\n\t\t\t\t\t}}\n\t\t\t\t\ttitle={title}\n\t\t\t\t>\n\t\t\t\t\t{title}\n\t\t\t\t</h3>\n\n\t\t\t\t<span className={'now-m-block-start--xs'} />\n\t\t\t\t<label className={'stage-item-complete'}>\n\t\t\t\t\t{totalActivities === 0\n\t\t\t\t\t\t? t('No activities available')\n\t\t\t\t\t\t: filteredCardCount === null\n\t\t\t\t\t\t\t? t(\n\t\t\t\t\t\t\t\t'{0} of {1} complete',\n\t\t\t\t\t\t\t\tcompleteActivities,\n\t\t\t\t\t\t\t\ttotalActivities\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: t(\n\t\t\t\t\t\t\t\t'{0} filtered results',\n\t\t\t\t\t\t\t\tfilteredCardCount ? filteredCardCount : t('No')\n\t\t\t\t\t\t  )}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<now-tooltip\n\t\t\t\tcontent={title}\n\t\t\t\tdelay={PLAYBOOK_STANDARD_TOOLTIP_DELAY}\n\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t(elm.targetRef = elm.previousElementSibling)\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<now-badge\n\t\t\t\tvalue={readyActivities}\n\t\t\t\tstatus=\"info\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tsize=\"sm\"\n\t\t\t\tclass={{\n\t\t\t\t\t'stage-item-prioritized': true,\n\t\t\t\t\thide: !readyActivities\n\t\t\t\t}}\n\t\t\t\tdescription={t('Prioritized Activities')}\n\t\t\t/>\n\t\t\t<now-tooltip\n\t\t\t\tcontent={t('Prioritized Activities')}\n\t\t\t\tdelay={PLAYBOOK_STANDARD_TOOLTIP_DELAY}\n\t\t\t\thook-insert={({ elm }) =>\n\t\t\t\t\t(elm.targetRef = elm.previousElementSibling)\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t{parentTable &&\n\t\t\tparentRecord &&\n\t\t\tplaybookExperienceId &&\n\t\t\t!disabled ? (\n\t\t\t\t\t<sn-playbook-stage-actions\n\t\t\t\t\t\tclass={{\n\t\t\t\t\t\t\t'stage-actions': true,\n\t\t\t\t\t\t\topened: actionsDropdownOpened,\n\t\t\t\t\t\t\thide: !(actions && actions.length)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdeclarative-actions={actions}\n\t\t\t\t\t\ttable={parentTable}\n\t\t\t\t\t\tsys-id={parentRecord}\n\t\t\t\t\t\tplaybook-context-id={playbookContextId}\n\t\t\t\t\t\tplaybook-status={playbookState.value}\n\t\t\t\t\t\tstage-status={stageState.value}\n\t\t\t\t\t\tstage-title={title}\n\t\t\t\t\t\tstage-name={name}\n\t\t\t\t\t\topened={actionsDropdownOpened}\n\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t'aria-label': t('{0} Stage Actions', title)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nexport default stageItem;\n","module.exports = __TECTONIC__$servicenow_now_badge;","import './sn-playbook-stage-actions';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {\n\tcreateTransformDeclarativeActionsBehaviorFromModel,\n\tdeclarativeActionsHeaderClickedBehavior\n} from '../../behaviors';\nimport { EVENT_KEY } from '../../constants';\nimport actionHandlers from './actions';\nimport view from './view';\n\n/**\n * ## Playbook Stage Actions\n *\n * Dropdown component that enables the user to take action. Renders Declarative\n * Actions that implement Playbook Stage declarative model inside now-dropdown\n * when provided with running playbook sysId and status, stage order, stage status,\n * stage title, stage name, and activity contexts belonging to the stage.\n *\n * ```jsx\n * const { sysId, state, parentTable, parentRecord } = playbook;\n * const { order, state: stageState, title, name, cards } = stage;\n * <sn-declarative-mediator>\n * \t<sn-playbook-actions\n * \t\tdeclarative-actions={`@playbook-actions-data-provider-${sysId}/declarativeActions}\n * \t\ttable={parentTable}\n * \t\tsys-id={parentRecord}\n * \t\tplaybook-context-id={sysId}\n * \t\tplaybook-status={state.value}\n * \t\tstage-order={order}\n * \t\tstage-status={stageState.value}\n * \t\tstage-title={title}\n * \t\tstage-name={name}\n * \t/>\n * </sn-declarative-mediator>\n * ```\n *\n * @seismicElement sn-playbook-stage-actions\n * @summary now-dropdown component that enables the user to take action on a\n * playbook from its stage header.\n */\ncreateCustomElement('sn-playbook-stage-actions', {\n\trenderer: { type: snabbdom, view },\n\tproperties: {\n\t\t/**\n\t\t * the table of playbook parent record\n\t\t * @type {String}\n\t\t */\n\t\ttable: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the sysId of the playbook parent record\n\t\t * @type {String}\n\t\t */\n\t\tsysId: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the sysId of the running playbook context\n\t\t * @type {String}\n\t\t */\n\t\tplaybookContextId: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the status of the running playbook context\n\t\t * @type {String}\n\t\t */\n\t\tplaybookStatus: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the display order of the stage in the running playbook context\n\t\t * @type {Number}\n\t\t */\n\t\tstageOrder: {\n\t\t\tdefault: 0\n\t\t},\n\t\t/**\n\t\t * the status of the stage within the running playbook context\n\t\t * @type {String}\n\t\t */\n\t\tstageStatus: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the title of the stage in the running playbook context\n\t\t * @type {String}\n\t\t */\n\t\tstageTitle: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the name of the stage in the running playbook context\n\t\t * @type {String}\n\t\t */\n\t\tstageName: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * the opened state of the action dropdown\n\t\t * @type {Boolean}\n\t\t */\n\t\topened: {\n\t\t\tdefault: false\n\t\t},\n\t\tdropdownRef: {\n\t\t\tdefault: null\n\t\t}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['mousedown', 'click', 'keydown'],\n\t\t\teffect: ({\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { event: e }\n\t\t\t\t}\n\t\t\t}) =>\n\t\t\t\te.type !== 'keydown' ||\n\t\t\t\te.key === EVENT_KEY.ENTER ||\n\t\t\t\te.key === EVENT_KEY.SPACE\n\t\t\t\t\t? e.stopPropagation()\n\t\t\t\t\t: null\n\t\t}\n\t],\n\tactionHandlers,\n\tbehaviors: [\n\t\tcreateTransformDeclarativeActionsBehaviorFromModel(\n\t\t\t({\n\t\t\t\tproperties: {\n\t\t\t\t\ttable,\n\t\t\t\t\tsysId,\n\t\t\t\t\tplaybookContextId,\n\t\t\t\t\tplaybookStatus,\n\t\t\t\t\tstageOrder,\n\t\t\t\t\tstageStatus,\n\t\t\t\t\tstageTitle,\n\t\t\t\t\tstageName\n\t\t\t\t}\n\t\t\t}) => ({\n\t\t\t\ttable,\n\t\t\t\tsysId,\n\t\t\t\tplaybook_context_id: playbookContextId,\n\t\t\t\tplaybook_status: playbookStatus,\n\t\t\t\tstage_order: stageOrder,\n\t\t\t\tstage_status: stageStatus,\n\t\t\t\tstage_title: stageTitle,\n\t\t\t\tstage_name: stageName\n\t\t\t})\n\t\t),\n\t\tdeclarativeActionsHeaderClickedBehavior\n\t]\n});\n","import {\n\tNOW_DROPDOWN_OPENED_SET,\n\tPLAYBOOK_STAGE_ACTIONS_DROPDOWN_OPENED_SET\n} from '../../constants';\n\nconst actionHandlers = {\n\t[NOW_DROPDOWN_OPENED_SET]: {\n\t\teffect: ({ dispatch, action: { payload }, properties }) => {\n\t\t\tconst { playbookContextId = '', stageName = '' } = payload;\n\t\t\tconst { opened = false } = properties;\n\n\t\t\tdispatch(PLAYBOOK_STAGE_ACTIONS_DROPDOWN_OPENED_SET, {\n\t\t\t\topenedState: !opened,\n\t\t\t\tplaybookContextId,\n\t\t\t\tstageName\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n\nexport default actionHandlers;\n","import { t } from 'sn-translate';\nimport { PANEL_NAVIGATION_UPDATE_MAP } from '../../behaviors/sn-panel-navigation/constants';\n\nconst view = (\n\t{\n\t\tproperties: {\n\t\t\ttransformedDeclarativeActions,\n\t\t\tdeclarativeModel,\n\t\t\topened,\n\t\t\tplaybookContextId,\n\t\t\tstageName\n\t\t}\n\t},\n\t{ dispatch }\n) => {\n\tif (transformedDeclarativeActions.length === 0) return null;\n\n\tconst dropdownActions = transformedDeclarativeActions.map((action) => {\n\t\treturn {\n\t\t\t...action,\n\t\t\tid: action.assignmentId,\n\t\t\ticon: action.icon || ''\n\t\t};\n\t});\n\n\treturn (\n\t\t<now-dropdown\n\t\t\tmanage-opened={opened}\n\t\t\topened={opened}\n\t\t\titems={dropdownActions}\n\t\t\tselectedItems={[]}\n\t\t\ticon=\"ellipsis-v-outline\"\n\t\t\ttooltipContent={t('Playbook Stage Actions')}\n\t\t\tsize=\"sm\"\n\t\t\tvariant=\"secondary\"\n\t\t\tselect=\"none\"\n\t\t\tbare={true}\n\t\t\thideCaret={true}\n\t\t\thook-insert={({ elm }) =>\n\t\t\t\tdispatch && dropdownActions && dropdownActions.length && elm\n\t\t\t\t\t? dispatch(PANEL_NAVIGATION_UPDATE_MAP, {\n\t\t\t\t\t\tmapKey: `stage-actions-${playbookContextId}.${stageName}`,\n\t\t\t\t\t\tmapEntry: {\n\t\t\t\t\t\t\tdomRef: elm,\n\t\t\t\t\t\t\tleft: `stage-item-${playbookContextId}.${stageName}`\n\t\t\t\t\t\t}\n\t\t\t\t\t  })\n\t\t\t\t\t: null\n\t\t\t}\n\t\t\tdata-nav={`stage-actions-${playbookContextId}.${stageName}`}\n\t\t\tappend-to-payload={{\n\t\t\t\tmodel: declarativeModel,\n\t\t\t\tplaybookContextId,\n\t\t\t\tstageName\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nexport default view;\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}@keyframes fade-out{0%{opacity:1}to{opacity:0}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.playbook-loading{display:flex;width:100%;height:100%;flex-direction:column;justify-content:center;align-items:center}.playbook-container{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;min-width:42.5rem;height:100%;overflow-x:auto}.playbook-container.compact{min-width:20rem}.playbook-container nav{position:absolute;top:0;width:22.5rem;min-width:20rem;max-width:28.125rem;height:100%;padding:0 2.5rem;overflow-x:hidden;overflow-y:auto;border-right:1px solid RGB(var(--now-color--divider-tertiary,var(--now-color--neutral-3,209,214,214)));box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);z-index:1}:host(:not([dir=rtl])) .playbook-container nav,:root:not([dir=rtl]) .playbook-container nav{left:0}:host([dir=rtl]) .playbook-container nav,:root[dir=rtl] .playbook-container nav{right:0}.playbook-container nav.compact{width:100%;max-width:34rem;border-right:none;box-shadow:none;z-index:0}.playbook-container section{position:absolute;top:0;width:calc(100% - 22.5rem);min-width:20rem;height:100%}:host(:not([dir=rtl])) .playbook-container section,:root:not([dir=rtl]) .playbook-container section{right:0}:host([dir=rtl]) .playbook-container section,:root[dir=rtl] .playbook-container section{left:0}.playbook-container section.compact{left:0;width:100%;opacity:0;pointer-events:none}.playbook-container section.compact.active{opacity:1;animation:fade-in .3s;pointer-events:auto}.playbook-container section.compact.active.leaving{animation:fade-out .3s;opacity:0}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}:host(now-playbook-experience-connected){position:relative;height:calc(100vh - 9rem);min-height:27.5rem}\", \"\"]);\n\n// exports\n","export { default as snPlaybookModalDefault } from './now-playbook-experience-modal-default';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport { view } from './view';\nimport styles from './styles.scss';\n\n/**\n * ## Playbook Modal\n *\n * @summary Create an now-playbook-experience-modal-default component and renders it within a now-modal\n * @seismicElement now-playbook-experience-modal-default\n */\ncreateCustomElement('now-playbook-experience-modal-default', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\t/** @type {String} */\n\t\ttitle: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {String} */\n\t\tdescription: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {String} */\n\t\tassociatedRecord: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {String} */\n\t\tassociatedTable: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {String} */\n\t\tstate: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {String} */\n\t\ttype: {\n\t\t\tdefault: ''\n\t\t},\n\t\t/** @type {String} */\n\t\tformFields: {\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tstyles\n});\n","import { Fragment } from '@servicenow/ui-renderer-snabbdom';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-modal';\n\nexport const view = ({\n\tproperties: {\n\t\ttitle,\n\t\tdescription,\n\t\tassociatedRecord,\n\t\tassociatedTable,\n\t\tstate,\n\t\ttype,\n\t\tformFields\n\t}\n}) => {\n\treturn (\n\t\t<now-modal\n\t\t\topened={true}\n\t\t\tsize=\"lg\"\n\t\t\theader-label={t('Modal from a Declarative Action')}\n\t\t>\n\t\t\t<Fragment>\n\t\t\t\t<div>\n\t\t\t\t\t{t(\n\t\t\t\t\t\t'This is an example of a custom component that is triggered by a declarative action that renders a modal. The component received the following properties:'\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Title: {title}</li>\n\t\t\t\t\t<li>Description: {description}</li>\n\t\t\t\t\t<li>Associated Record: {associatedRecord}</li>\n\t\t\t\t\t<li>Associated Table: {associatedTable}</li>\n\t\t\t\t\t<li>State: {state}</li>\n\t\t\t\t\t<li>Type: {type}</li>\n\t\t\t\t\t<li>Form Fields: {formFields}</li>\n\t\t\t\t</ul>\n\t\t\t</Fragment>\n\t\t</now-modal>\n\t);\n};\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",\\\"Helvetica Neue\\\",helvetica,arial,sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}