{"version":3,"sources":["webpack://__TECTONIC__aes_table_builder_wizard/webpack/bootstrap","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__aes_table_builder_wizard/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$devsnc_guided_wizard_toolkit\"","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_input\"","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__sn_app_object_wizard_components\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/helpers/error-constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/helpers/table-field-validations.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/helpers/sn-naming-helpers.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_checkbox\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-list/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/helpers/fetch-helper.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choices/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/helpers/get-auth-token.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-details-page/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/behaviors/unique-field/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_text_link\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/helpers/spreadsheet-row-validation.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-page/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/components/sn-tb-spreadsheet-info-card/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/helpers/wait-for-util.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card/sn-table-field-card.scss?77b3","webpack://__TECTONIC__aes_table_builder_wizard/./src/behaviors/unique-field/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/helpers/table-details-validations.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-source-page/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/assets/create-scratch.svg","webpack://__TECTONIC__aes_table_builder_wizard/./src/assets/existing-table.svg","webpack://__TECTONIC__aes_table_builder_wizard/./src/assets/upload-spreadsheet.svg","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-source-page/sn-table-wizard-source-page.scss?2806","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-source-page/sn-table-wizard-source-page.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-page/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-page/sn-table-wizard-spreadsheet-page.scss?6975","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-page/sn-table-wizard-spreadsheet-page.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-page/utils.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/helpers/upload-attachment.js","webpack://__TECTONIC__aes_table_builder_wizard/./node_modules/fileapi/dist/FileAPI.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/index.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_modal\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/components/sn-tb-spreadsheet-info-card/index.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_collapse\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/components/sn-tb-spreadsheet-info-card/sn-tb-spreadsheet-info-card.scss?5778","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/components/sn-tb-spreadsheet-info-card/sn-tb-spreadsheet-info-card.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/helpers.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/sn-table-wizard-spreadsheet-list-page.scss?b3c6","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/sn-table-wizard-spreadsheet-list-page.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/utils.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-spreadsheet-list-page/assets/parsing-illustration.svg","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-extension-page/index.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_loader\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-extension-page/sn-table-wizard-extension-page.scss?4982","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-extension-page/sn-table-wizard-extension-page.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-extension-page/constants.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-definition-page/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-list/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-list/sn-table-field-list.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card/sn-table-field-card.js","webpack://__TECTONIC__aes_table_builder_wizard/external \"__TECTONIC__$servicenow_now_select\"","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choices/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choice-input/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choice-input/sn-table-choice-input.scss?c948","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choice-input/sn-table-choice-input.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choice-list/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choice-list/sn-table-choice-list.scss?ad10","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-choice-list/sn-table-choice-list.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card/sn-table-field-card.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card-disabled/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card-disabled/sn-table-field-card-disabled.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card-disabled/sn-table-field-card-disabled.scss?b4ec","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-card-disabled/sn-table-field-card-disabled.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/helpers/uuid.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-list/sn-table-field-list.scss?adc5","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/components/sn-table-field-list/sn-table-field-list.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-definition-page/sn-table-wizard-definition-page.scss?6b3d","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-definition-page/sn-table-wizard-definition-page.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-details-page/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-details-page/actionHandlers.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-details-page/utils.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/behaviors/unique-field/unique-field.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/behaviors/unique-field/helpers.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/assets/progress-tables.svg","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-details-page/sn-table-wizard-details-page.scss?314e","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-details-page/sn-table-wizard-details-page.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-summary-page/index.js","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-summary-page/styles.scss?3099","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/pages/sn-table-wizard-summary-page/styles.scss","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/sn-table-builder-wizard.scss?0aaa","webpack://__TECTONIC__aes_table_builder_wizard/./src/sn-table-builder-wizard/sn-table-builder-wizard.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__sn_translate","__TECTONIC__$servicenow_ui_core","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","__TECTONIC__$devsnc_guided_wizard_toolkit","__TECTONIC__$servicenow_now_input","__TECTONIC__sn_app_object_wizard_components","REQUIRED_ERR","INVALID_CHAR_ERR","VALID_CHAR_REGEX_STRING","PREVENT_ONLY_WHITESPACE_REGEX","DUPLICATE_FIELD_ERR","MIN_CHAR_LIMIT_ERR","MIN_CHAR_LIMIT_ONE_ERR","MAX_CHAR_LIMIT_ERR","ONE_CHOICE_REQUIRED_ERR","INVALID_TABLE_NAME_ERR","NO_LOWERCASE_ERR","MIN_STARTING_NUMBER_ERR","MIN_AUTO_DIGITS_ERR","MAX_AUTO_DIGITS_ERR","NO_PUNCTUATION_ERR","VALID_AUTO_PREFIX_REGEX_STRING","HAS_LOWERCASE_REGEX_STRING","NO_DOTS_REGEX_STRING","conditionalUpdateAttrErr","fieldErrorState","message","REQUIRED_ERR_MESSAGE","CHAR_INVALID_ERR_MESSAGE","addDuplicationErr","DUPLICATE_ERR_MESSAGE","clearDuplicationErr","validType","type","isDirty","isLabelOrName","attr","isAttrInvalid","errors","generateDuplicationErrors","field","fields","extendedFields","labels","names","newErrors","forEach","f","label","updateFieldType","newField","restOfField","reference","choice","choices","newChoice","restOfErrors","choiceType","newFields","updateReference","updateChoice","choiceErrMessage","ONE_CHOICE_REQUIRED_ERR_MESSAGE","inValidChoices","some","SYSTEM_VALUE_REQUIRED_ERR_MESSAGE","validateFields","fieldId","values","getAutonumberPrefix","replace","toUpperCase","slice","__TECTONIC__$servicenow_now_button","commonSNPrefixName","serializeSNName","validSNCharacters","test","validPrefix","prefix","startsWith","getSNTableName","scope","isMaint","nameFn","ROLE_MAP","USER_ROLE_MAINT","isValidSNTableName","tableName","tableLabel","SN_GLOBAL_SCOPE","SN_GLOBAL_SCOPE_PREFIX","generateStyleToolTipContent","text","style","TOOLTIP_STYLING","toLowerCase","__TECTONIC__$servicenow_now_checkbox","LIST","CARD","FIELD_ADDED","DUPE_ERR_GENERATED","ERRORS_CHECKED","FIELDS_VALIDATED","FIELDS_INVALIDATED","FIELD_DELETED","FIELD_CHANGED","FIELD_INPUTTED","TYPE_UPDATED","REFERENCE_UPDATED","NONE_CHOICE_UPDATED","INVALID_SET","CHAR_LIMIT_MIN_ERR_MESSAGE","CHAR_LIMIT_MAX_ERR_MESSAGE","FIELD_TYPES","disabled","CHOICE_TYPES","failedResponse","msg","isError","error","detail","status","url","options","fetch","method","headers","authToken","then","response","ok","json","catch","CHOICE_ADDED","CHOICE_DELETED","CHOICE_EDITED","CHOICES_UPDATED","token","resetAuthToken","new_g_ck","window","g_ck","__TECTONIC__$servicenow_now_icon","BASE","VALIDATE","CREATE_TABLE","GENERATE_AUTONUMBER_ERRORS","GENERATE_ERROR_MESSAGES","INITIATE_TABLE_API_CALL","CHECK_TABLENAME_UNIQUENESS","CHECK_TABLE_AUTONUMBER_PREFIX","IMPORT_DATA_REQUESTED","IMPORT_DATA_IN_PROGRESS","IMPORT_DATA_SUCCEEDED","IMPORT_DATA_FAILED","TABLE_ID_FAILED","IMPORT_STATE_COMPLETE","IMPORT_STATE_ERROR","IMPORT_STATE_RUNNING","DEFAULT_AUTONUMBER_NUMBER","DEFAULT_AUTONUMBER_DIGITS","CHECK_UNIQUE_FIELD","CHECK_UNIQUE_FIELD_REQUEST","CHECK_UNIQUE_FIELD_REQUEST_STARTED","CHECK_UNIQUE_FIELD_STARTED","CHECK_UNIQUE_FIELD_SUCCESS","CHECK_UNIQUE_FIELD_FAILURE","BEHAVIOR_NAME","CHECK_UNIQUE_FIELD_COMPLETED","DEFAULT_QUERY_PARAMS","sysparm_query","undefined","sysparm_limit","sysparm_transaction_scope","__TECTONIC__$servicenow_now_text_link","generateStartingNumberError","startingNumber","RegExp","exec","validateDetails","UPLOAD_FILE_TO_HELPER_REQUESTED","UPLOAD_FILE_TO_HELPER_SUCCEEDED","UPLOAD_FILE_TO_HELPER_IN_PROGRESS","UPLOAD_FILE_TO_HELPER_FAILED","PARSE_FILE_REQUESTED","PARSE_FILE_SUCCEEDED","PARSE_FILE_IN_PROGRESS","PARSE_FILE_FAILED","HELPER_TABLE","SPREADSHEET_INFO_CARD__CONVERT_TO_TABLE","isDone","poller","wait","waitCallback","pollingFetch","workerId","waitFor","state_code","WORKER_STATE_CODE_SUCCESS","Promise","setTimeout","__TECTONIC__$servicenow_ui_effect_http","result","behavior","helpers","checkUniqueField","actionTypes","generatePrefixError","generateDigitsError","digits","enableAutonumber","autonumberKey","autonumber","TABLE_SOURCE_PAGE","TABLE_DETAILS_PAGE","TABLE_SUMMARY_PAGE","pageMap","sourceContinue","spreadsheet","extend","scratch","detailsContinue","detailsPrevious","flowDefinition","startPage","pages","continue","data","previous","sheets","table","isSingleSheetUpload","STEPPER_ITEMS","createCustomElement","view","properties","wizardContext","stepperItems","templateId","parentTemplateInstanceId","app","user","PageComponent","getCurrentPage","component-id","stepper-items","initial-context","defaultPageWidth","tables-data-options","normalizeResult","is_extendable","default","roles","behaviors","stepperBehavior","config","styles","dispatch","onPrimaryClick","primaryDisabled","onSecondaryClick","onClose","maxWidth","className","slot","href","opensWindow","icon","uploadSpreadsheet","isSelected","helperContent","existingTable","createScratch","initialState","actionHandlers","COMPONENT_BOOTSTRAPPED","page","action","stopPropagation","payload","updateState","fieldValidationHelpers","state","headerNumber","importDataCheckbox","attachmentId","inProgress","processLabel","fileParsed","isFormValid","fileUpload","hasSelectedFile","selectedFile","running-header-text","headerText","subheaderText","onPrevious","loading","loadingText","size","autocomplete","min","step","required","pattern","messages","checked","COMPONENT_DOM_READY","fieldValue","path","operation","uploadFileToHelper","sys_id","helperRecordId","cleanUpRecords","newCleanUpRecords","getSheetNames","appId","createAttachmentHelperRecord","recordResponse","uploadToHelper","uploadResponse","sysId","file","table_name","table_sys_id","file_name","body","application","getSheetNamesAPI","sheetsResponse","sheet","sheetName","number","sheetNumber","reqBody","resolve","reject","FileApi","upload","files","complete","xhr","parse","deleteAttachment","attachmentSysId","api","_each","_cameraQueue","CanvasPrototype","HTMLCanvasElement","hasBlobConstructor","Blob","Boolean","e","hasArrayBufferViewSupport","Uint8Array","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURLtoBlob","atob","ArrayBuffer","dataURI","byteString","arrayBuffer","intArray","mimeString","bb","split","indexOf","decodeURIComponent","charCodeAt","append","getBlob","toBlob","mozGetAsFile","callback","quality","toDataURL","undef","_supportConsoleLog","_supportConsoleLogApply","gid","noop","document","doctype","userAgent","navigator","safari","iemobile","insecureChrome","location","protocol","apiURL","createObjectURL","URL","revokeObjectURL","webkitURL","File","FileReader","FormData","XMLHttpRequest","jQuery","html5","sendAsBinary","cors","chunked","webkitSlice","mozSlice","normalize","_rimg","_rcanvas","_rimgcanvas","_rinput","_rdata","_toString","Math","_SIZE_CONST","pow","Number","from","sz","round","_elEvents","_infoReader","_readerEvents","_xhrPropsExport","_isArray","ar","obj","fn","ctx","_extend","dst","args","arguments","_ext","val","_on","el","uid","isFileReader","event","add","addEventListener","attachEvent","_off","events","remove","fns","splice","removeEventListener","detachEvent","_one","_","evt","_fixEvent","target","srcElement","nodeType","parentNode","_supportInputAttr","input","createElement","setAttribute","version","media","formData","multiPassResize","debug","pingUrl","multiFlash","flashAbortTimeout","withCredentials","staticPath","flashUrl","flashImageUrl","postNameConcat","idx","ext2mime","jpg","tif","txt","accept","uploadRetry","networkDownRetryTimeout","chunkSize","chunkUploadRetry","chunkNetworkDownRetryTimeout","KB","MB","GB","TB","EMPTY_PNG","expando","Date","getTime","log","console","apply","newImage","src","img","one","getXHR","ActiveXObject","isArray","support","dnd","multiple","on","off","fix","throttle","delay","F","parseJSON","str","Function","trim","String","defer","err","res","shift","queue","_idx","_length","_fail","_end","inc","next","check","end","isFail","fail","each","afor","array","_next","isFile","isBlob","blob","isCanvas","nodeName","getFilesFilter","filter","getAttribute","readAsDataURL","_emit","_readAs","readAsBinaryString","_hasSupportReadAs","toBinaryString","readAsArrayBuffer","readAsText","encoding","readAsImage","progress","loaded","total","_fn","iframe","dataURL","checkFileObj","pop","ext","getDropFiles","items","all","dataTransfer","_getDataTransfer","transFiles","transItems","entrySupport","_getAsEntry","entry","Array","_isEntry","isDirectory","_readEntryAsFiles","fullPath","code","reader","createReader","firstAttempt","onerror","ondone","entries","Error","entryFiles","allEntries","readEntries","readyState","LOADING","abort","_isRegularFile","yes","getFiles","filterFiles","jquery","originalEvent","isInputFile","getTotalSize","getInfo","info","readers","addInfoReader","mime","eachFn","resultFn","deleted","jsonp","prepare","beforeupload","fileupload","fileprogress","filecomplete","pause","imageOriginal","imageAutoOrientation","imageTransform","rotate","_nextFile","proxyXHR","XHR","dataArray","_getFilesDataArray","_this","_total","_loaded","_complete","filesLeft","copy","_file","_fileLoaded","_fileOptions","statusText","current","currentFile","_getFormData","form","send","successful","first","unshift","oFiles","tmp","image","filename","filetype","trans","transform","Form","isOrignTrans","_isOriginTransform","v","_addFile","toData","matrix","Image","images","flashEngine","multipart","addOrigin","postName","reset","inp","notRemove","parent","clone","insertBefore","cloneNode","removeChild","load","open","overrideMimeType","lengthComputable","onreadystatechange","getResponseHeader","encode64","responseBody","responseText","b64","outStr","enc3","enc4","byte1","byte2","byte3","enc1","enc2","isNaN","charAt","Reader","getAsEntry","webkitGetAsEntry","tagName","__dimensions","width","height","onHover","onDrop","_id","_type","ff","types","debounceTrigger","clearTimeout","offdnd","FileAPI","publicId","systemId","getElementsByTagName","meta","flashWebcamUrl","getCanvas","exifOrientation","8","3","6","7","4","5","sx","sy","sw","sh","dx","dy","dw","dh","resize","deg","constructor","set","attrs","crop","x","y","w","h","strategy","preview","overlay","_load","self","_apply","canvas","getMatrix","getContext","videoWidth","videoHeight","buffer","renderImageToCanvas","floor","multipass","PI","over","rel","globalAlpha","opacity","drawImage","er","applyFilter","naturalWidth","naturalHeight","sf","df","_trans","exif","Orientation","autoOrientation","_transform","params","ImgTrans","isFn","maxHeight","j","toCanvas","fromDataURL","doneFn","Caman","render","ex","loadImage","platform","originalRenderMethod","detectSubsampling","context","getImageData","detectVerticalSquash","subsampled","ey","py","sourceX","sourceY","sourceWidth","sourceHeight","destX","destY","destWidth","destHeight","vertSquashRatio","tileX","tileY","tmpCanvas","tmpContext","save","ceil","clearRect","restore","factory","_convertFile","useBinaryString","match","_chunked","toPlainData","toFormData","toMultipartData","toHtmlData","_to","arg","createDocumentFragment","hidden","appendChild","start","FileAPIReadPosition","retry","boundary","getAllResponseHeaders","_xhrResponsePostfix","XML","Text","Body","node","aborted","_send","onLoadFnName","cache","onPostMessage","origin","transport","stop","contentWindow","execCommand","win","doc","innerHTML","submit","setRequestHeader","totalSize","lkb","parseInt","k","max","rawData","bytes","getMedia","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","enumerateDevices","mediaDevices","MediaStreamTrack","navigatorEnumerateDevices","Camera","video","isActive","_active","_successId","_failId","stream","setInterval","_detectVideoSignal","play","getTracks","track","shot","Shot","firstChild","publish","cam","_px","empty","fallback","checkAlreadyCaptured","getSources","devices","deviceExists","device","kind","flash","mimeTypes","has","plugins","description","enabledPlugin","_attr","_retry","_files","_rhttp","init","child","dummy","_css","top","right","position","zIndex","nextSibling","opts","_makeFlashHTML","_getUrl","wmode","camera","flashvars","onEvent","isReady","ready","patch","patchCamera","mouseover","preventDefault","returnValue","getEl","getElementById","getWrapper","wrapper","left","offsetWidth","offsetHeight","box","getBoundingClientRect","docEl","ownerDocument","documentElement","pageYOffset","scrollTop","clientTop","pageXOffset","scrollLeft","clientLeft","bottom","_getDimensions","curInp","getInput","flashId","mouseenter","savedStatus","cmd","exts","embeds","select","createEvent","initEvent","dispatchEvent","trigger","createEventObject","fireEvent","last","_inherit","_isHtmlFile","isShot","__info","_wrap","_unwrap","scaleMode","base64","_makeFlashImage","scale","fileId","_getFileDescr","a","css","methods","prev","wid","pathname","substr","lastIndexOf","host","attempts","setImage","_setImage","Flash","camId","headerTextCopy","incomplete","partial","subheaderTextCopy","activeSheetId","createdTables","lastCreatedTableName","updatedSheets","updateSheetData","getSheetCompletion","completionState","SHEET_COMPLETION_STATES","COMPLETE","isSingleSheet","modalState","opened","case","sheetNameToCreate","GET_SHEET_COLUMNS_WITH_DATA_REQUESTED","GET_SHEET_COLUMNS_REQUESTED","GET_SHEET_COLUMNS_IN_PROGRESS","getColumnsFromSheet","GET_SHEET_COLUMNS_FAILED","GET_SHEET_COLUMNS_SUCCEEDED","isConversionInProgress","incompleteSheets","PARTIAL","GET_SHEET_COLUMNS_WITH_DATA_IN_PROGRESS","importSetTableName","now","uploadSheetWithData","GET_SHEET_COLUMNS_WITH_DATA_FAILED","GET_SHEET_COLUMNS_WITH_DATA_SUCCEEDED","CLEAN_UP_RECORDS","doCleanUpRecords","completedSheets","onComplete","shouldRenderFooterButtons","shouldRenderPrevious","header-text","subheader-text","loading-content","parsingIllustrationSVG","primary-label","secondary-label","max-width","manage-opened","headerLabel","footerActions","variant","level","index","isFirstSheet","expanded","fileName","INCOMPLETE","completed","__TECTONIC__$servicenow_now_heading","__TECTONIC__$servicenow_now_modal","updateProperties","maxCharLength","custom","role","on-click","config-aria","bare","__TECTONIC__$servicenow_now_collapse","returnCompletionState","reduce","acc","curSheet","waitForWorker","recordId","deleteRecordAPI","getSheetColumnsAPI","getColumnsFromImportedTableAPI","transformColumns","columns","buildFormData","redirect","searchParams","waitHelper","columnResponse","isImportSet","keys","fieldName","internal_type","max_length","initialName","fetchExtendableTables","tablesDataBehavior","constants","EXTENDABLE_TABLES_DATA_PROPERTY","EXTENDABLE_TABLES_DATA_LOADING_PROPERTY","fetchColumnsEffect","createHttpEffect","successActionType","FETCH_COLUMNS_SUCCEEDED","errorActionType","FETCH_COLUMNS_FAILED","batch","queryParams","pathParams","tableToExtend","extendableTables","isLoadingTables","FETCH_COLUMNS","primary-disabled","selectedItem","placeholder","search","iconName","iconSize","fetchError","__TECTONIC__$servicenow_now_loader","TABLES_DATA_BEHAVIOR__FETCH_ALL","getContextFromState","contextHelpers","namespace","areFieldsValid","newTable","newtable","DEFAULT_FIELD","display","mandatory","DEFAULT_ERRORS_NEW_FIELD","DEFAULT_ERRORS_PERSISTED_FIELD","hook-insert","elm","fieldsRef","hook-destroy","reverse","extendedField","modifier","effect","fieldsWithNewChoices","findIndex","fieldsWithoutIds","rest","doesChoicesExist","restChoices","default_value","validationHelpers","TABLES_DATA_PROPERTY","optionsExpanded","typeaheadType","find","helper-content","maxlength","manage-invalid","invalid","selected-item","append-to-payload","allTables","isTablesLoading","itemsLimit","renderConditionalInput","constrain","renderChoiceList","invalidExp","noSpaceExp","currentChoice","filteredChoices","newChoices","editedIndex","__TECTONIC__$servicenow_now_select","noneChoice","choicesLength","rowNum","class","hide-padding","dropdownType","flagStyles","random","uuid","detailsValidationHelpers","generateAutonumberErrors","autonumberState","defaultErr","isExtendable","isCreating","loadingContent","runningHeaderText","firstName","progressTableSVG","renderAutonumberConfig","currentUniqueChecks","runTemplateBehavior","uniqueFieldBehavior","getStateFromContext","sourceApproachMap","initState","cb","includes","unique","autonumberErrors","template_sys_id","variables","table_data","extends","auto_number","domain_separate","tableInfo","importDataFromImportSet","canRunImportSets","getTableSysId","tableResponse","approach","canImport","importSetSysId","importFromImportSetAPI","tableRecordAPI","sessionNotificationAPI","buildReqData","waitForSuccessfulImport","importResponse","importSetTableIdResponse","import_set_table_name","transform_entries","source_field","target_field","requestFetchEffect","startActionType","restParams","requestUrl","interceptors","after","coeffects","effects","warn","primaryLabel","secondaryLabel"],"mappings":"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","file":"aes-table-builder-wizard.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__$servicenow_ui_core;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__$devsnc_guided_wizard_toolkit;","module.exports = __TECTONIC__$servicenow_now_input;","module.exports = __TECTONIC__sn_app_object_wizard_components;","import { t } from 'sn-translate';\n\n// All error messages/regex strings needed for table wizard validations\n\n// Generic\nexport const REQUIRED_ERR = t('Required');\nexport const INVALID_CHAR_ERR = t('Invalid characters');\n// Regex matches valid system name formats (alphanumeric & _ only, all lowercase, no repeating _ or trailing _)\nexport const VALID_CHAR_REGEX_STRING = '^(?!.*([_])\\\\1{1,})[a-z0-9_]+[^_]$';\nexport const PREVENT_ONLY_WHITESPACE_REGEX = '(?!^ +$).*';\n\n// Specific to field definition page\nexport const DUPLICATE_FIELD_ERR = t('Must be unique');\nexport const MIN_CHAR_LIMIT_ERR = t('Minimum is 0');\nexport const MIN_CHAR_LIMIT_ONE_ERR = t('Minimum is 1');\nexport const MAX_CHAR_LIMIT_ERR = t('Maximum is 8000');\nexport const ONE_CHOICE_REQUIRED_ERR = t(\n\t'At least one choice option is required'\n);\n\n// Specific table details page\nexport const INVALID_TABLE_NAME_ERR = t('Invalid name');\nexport const NO_LOWERCASE_ERR = t('Must be uppercase');\nexport const MIN_STARTING_NUMBER_ERR = t('Minimum is 0');\nexport const MIN_AUTO_DIGITS_ERR = t('Minimum is 1');\nexport const MAX_AUTO_DIGITS_ERR = t('Maximum is 15');\nexport const NO_PUNCTUATION_ERR = t('No punctuation');\nexport const VALID_AUTO_PREFIX_REGEX_STRING = '^[A-Z]+$';\nexport const HAS_LOWERCASE_REGEX_STRING = '[a-z]';\nexport const NO_DOTS_REGEX_STRING = '^[^.]+$';\n","import {\n\tREQUIRED_ERR_MESSAGE,\n\tDUPLICATE_ERR_MESSAGE,\n\tCHAR_INVALID_ERR_MESSAGE,\n\tONE_CHOICE_REQUIRED_ERR_MESSAGE,\n\tSYSTEM_VALUE_REQUIRED_ERR_MESSAGE\n} from '../components/sn-table-field-list/constants';\n\nconst isLabelOrName = attr => attr === 'label' || attr === 'name';\n\nconst isAttrInvalid = (errors, attr) => {\n\treturn !!errors[attr] && errors[attr].isDirty && !!errors[attr].message;\n};\n\n// Conditionally updates the errorState's message - to prevent the duplication error from\n// overwriting a REQUIRED_ERR_MESSAGE or CHAR_INVALID_ERR_MESSAGE that is controlled by the\n// field card\nexport const conditionalUpdateAttrErr = (fieldErrorState, message) => {\n\tif (\n\t\tfieldErrorState.message !== REQUIRED_ERR_MESSAGE &&\n\t\tfieldErrorState.message !== CHAR_INVALID_ERR_MESSAGE\n\t) {\n\t\treturn {\n\t\t\t...fieldErrorState,\n\t\t\tmessage\n\t\t};\n\t}\n\treturn fieldErrorState;\n};\n\nconst addDuplicationErr = fieldErrorState =>\n\tconditionalUpdateAttrErr(fieldErrorState, DUPLICATE_ERR_MESSAGE);\nconst clearDuplicationErr = fieldErrorState =>\n\tconditionalUpdateAttrErr(fieldErrorState, null);\n\n/**\n * This iterates through the `fields` array once to generate all duplication error states for\n * all fields. This is very expensive, but this code is called only if a field's `label` or\n * `name` key has been updated to a valid value.\n */\nconst generateDuplicationErrors = (\n\tfield = {},\n\tfields,\n\terrors,\n\textendedFields = []\n) => {\n\t// Initialize empty objects to temporarily store field names/labels\n\tconst labels = {};\n\tconst names = {};\n\tlet newErrors = {};\n\n\t// Iterate through every field...\n\tfields.forEach(f => {\n\t\t// Inherit the existing field error state\n\t\tnewErrors[f.id] = { ...errors[f.id] };\n\n\t\t// If it's the field that was just changed, early exit (see below)\n\t\tif (f.id === field.id) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Just checking to see if there's a duplicate label and name by creating a labels object with field2 with duplicates and then field1 with duplicates\n\n\t\t// Checking the current iteration's `label` value...\n\t\tif (labels[f.label]) {\n\t\t\t// If it already exists in the `label` object, that means that it shares a `label`\n\t\t\t// with a previous iteration. Add a duplication error for both fields\n\t\t\tnewErrors[f.id].label = addDuplicationErr({ ...newErrors[f.id].label });\n\t\t\tnewErrors[labels[f.label]].label = addDuplicationErr({\n\t\t\t\t...newErrors[labels[f.label]].label\n\t\t\t});\n\t\t} else {\n\t\t\t// If it doesn't exist in the `label` object, that means that this is a unique `label`\n\t\t\t// value. First, store `label` value along with the current iteration's id. Then,\n\t\t\t// make sure the current iteration's duplication error is cleared.\n\t\t\tlabels[f.label] = f.id;\n\t\t\tnewErrors[f.id].label = clearDuplicationErr({ ...newErrors[f.id].label });\n\t\t}\n\n\t\t// same with name instead of label here\n\n\t\t// Checking the current iteration's `name` value...\n\t\tif (names[f.name]) {\n\t\t\tnewErrors[f.id].name = addDuplicationErr({ ...newErrors[f.id].name });\n\t\t\tnewErrors[names[f.name]].name = addDuplicationErr({\n\t\t\t\t...newErrors[names[f.name]].name\n\t\t\t});\n\t\t} else {\n\t\t\tnames[f.name] = f.id;\n\t\t\tnewErrors[f.id].name = clearDuplicationErr({ ...newErrors[f.id].name });\n\t\t}\n\n\t\t// These iterations also handle duplicate values that appear in more than 2 fields.\n\t});\n\n\t// Exit early if this is a FIELD_DELETED case\n\tif (!field.id) {\n\t\treturn newErrors;\n\t}\n\n\t// finally checks the new field you just updated\n\n\t/**\n\t * Instead of updating the changed field non-deterministically through the above iteration,\n\t * always update it last to ensure expected behavior.\n\t */\n\tif (labels[field.label]) {\n\t\tnewErrors[field.id].label = addDuplicationErr({\n\t\t\t...newErrors[field.id].label\n\t\t});\n\t\tnewErrors[labels[field.label]].label = addDuplicationErr({\n\t\t\t...newErrors[labels[field.label]].label\n\t\t});\n\t} else {\n\t\tnewErrors[field.id].label = clearDuplicationErr({\n\t\t\t...newErrors[field.id].label\n\t\t});\n\t\tlabels[field.label] = field.id;\n\t}\n\n\tif (names[field.name]) {\n\t\tnewErrors[field.id].name = addDuplicationErr({\n\t\t\t...newErrors[field.id].name\n\t\t});\n\t\tnewErrors[names[field.name]].name = addDuplicationErr({\n\t\t\t...newErrors[names[field.name]].name\n\t\t});\n\t} else {\n\t\tnewErrors[field.id].name = clearDuplicationErr({\n\t\t\t...newErrors[field.id].name\n\t\t});\n\t\tnames[field.name] = field.id;\n\t}\n\n\t// For supporting existing fields from an extended table, why last? So there's no opportunity\n\t// to write to errors for extended fields\n\textendedFields.forEach(f => {\n\t\t// Checking the current iteration's `label` value...\n\t\tif (labels[f.label]) {\n\t\t\t// If it already exists in the `label` object, that means that it shares a `label`\n\t\t\t// with a previous iteration but only add a duplication error for new field\n\t\t\tnewErrors[labels[f.label]].label = addDuplicationErr({\n\t\t\t\t...newErrors[labels[f.label]].label\n\t\t\t});\n\t\t}\n\n\t\t// Checking the current iteration's `name` value...\n\t\tif (names[f.name]) {\n\t\t\tnewErrors[names[f.name]].name = addDuplicationErr({\n\t\t\t\t...newErrors[names[f.name]].name\n\t\t\t});\n\t\t}\n\t});\n\n\treturn newErrors;\n};\n\n/**\n * The now-dropdown doesn't have an INVALID_SET action, so we have to set the required error\n * like so instead of inside of the field card. The now-dropdown is used here temporarily\n * until the now-select is available, which does dispatch INVALID_SET.\n */\nconst validType = {\n\ttype: {\n\t\tisDirty: true,\n\t\tmessage: null\n\t}\n};\n\n/**\n * The field `type` attribute changing has affects on both the expected structure of the field\n * entity passed to the backend and the validations/errors that need to be shown to the user\n */\nconst updateFieldType = (field, fields, errors) => {\n\tlet newField = { ...field };\n\tlet newErrors = { ...errors };\n\t/**\n\t * There are three field types that require additional keys and validations:\n\t * 1. string - requires `length` key, that defaults to 80, has to be a number, and\n\t *      needs be between 1-8000\n\t * 2. reference - requires `reference` key\n\t * 3. choice - requires a whole bunch of other stuff, out of scope for now.\n\t */\n\t//\n\n\tswitch (field.type) {\n\t\t/* eslint-disable no-unused-vars */\n\t\tcase 'string': {\n\t\t\tconst {\n\t\t\t\treference,\n\t\t\t\tchoice,\n\t\t\t\tchoices,\n\t\t\t\tnewChoice,\n\t\t\t\t...restOfField\n\t\t\t} = newField; // Ensure other potential optional keys are gonezo\n\t\t\tnewField = { ...restOfField, length: '40' }; // Default value for `length`\n\n\t\t\tconst {\n\t\t\t\treference: referenceErrKey,\n\t\t\t\tchoice: choiceTypeErrKey,\n\t\t\t\t...restOfErrors\n\t\t\t} = newErrors[field.id]; // Similar to the field, ensure other potential attribute error keys are cleared\n\t\t\tnewErrors[field.id] = {\n\t\t\t\t...restOfErrors,\n\t\t\t\t...validType,\n\t\t\t\tlength: {\n\t\t\t\t\tisDirty: false,\n\t\t\t\t\tmessage: null // Defaults to `null` as there's a default value for `length`\n\t\t\t\t}\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'reference': {\n\t\t\tconst {\n\t\t\t\tlength,\n\t\t\t\tchoiceType,\n\t\t\t\tchoice,\n\t\t\t\tchoices,\n\t\t\t\tnewChoice,\n\t\t\t\t...restOfField\n\t\t\t} = newField; // Ensure other potential optional keys are gonezo\n\t\t\tnewField = { ...restOfField, reference: null }; // No default value for `reference`\n\n\t\t\tconst {\n\t\t\t\tlength: lengthErrKey,\n\t\t\t\tchoice: choiceTypeErrKey,\n\t\t\t\t...restOfErrors\n\t\t\t} = newErrors[field.id];\n\t\t\tnewErrors[field.id] = {\n\t\t\t\t...restOfErrors,\n\t\t\t\t...validType,\n\t\t\t\treference: {\n\t\t\t\t\tisDirty: false,\n\t\t\t\t\tmessage: REQUIRED_ERR_MESSAGE\n\t\t\t\t}\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'choice': {\n\t\t\tconst { length, reference, choice = '1', ...restOfField } = newField; // Ensure other potential optional keys are gonezo\n\t\t\tnewField = { ...restOfField, choice, choices: [] };\n\n\t\t\tconst {\n\t\t\t\tlength: lengthErrKey,\n\t\t\t\treference: referenceErrKey,\n\t\t\t\t...restOfErrors\n\t\t\t} = newErrors[field.id];\n\t\t\tnewErrors[field.id] = {\n\t\t\t\t...restOfErrors,\n\t\t\t\t...validType,\n\t\t\t\tchoice: {\n\t\t\t\t\tisDirty: false,\n\t\t\t\t\tmessage: null\n\t\t\t\t}\n\t\t\t};\n\t\t\tbreak;\n\t\t}\n\n\t\tdefault: {\n\t\t\tconst {\n\t\t\t\tlength,\n\t\t\t\treference,\n\t\t\t\tchoice,\n\t\t\t\tchoices,\n\t\t\t\tnewChoice,\n\t\t\t\t...restOfField\n\t\t\t} = newField;\n\t\t\tnewField = { ...restOfField }; // Clear out all the optional keys from the field\n\n\t\t\tconst {\n\t\t\t\tlength: lengthErrKey,\n\t\t\t\treference: referenceErrKey,\n\t\t\t\tchoice: choiceTypeErrKey,\n\t\t\t\t...restOfErrors\n\t\t\t} = newErrors[field.id];\n\t\t\tnewErrors[field.id] = { ...restOfErrors, ...validType }; // Clear out all the optional keys from the field's error state\n\t\t\tbreak;\n\t\t}\n\t\t/* eslint-enable no-unused-vars */\n\t}\n\n\tconst newFields = fields.map(f => (f.id === field.id ? { ...newField } : f));\n\n\treturn { newFields, newErrors };\n};\n\n// Update the reference of the field\nconst updateReference = (field, fields, errors) => {\n\tconst newErrors = { ...errors };\n\n\tnewErrors[field.id] = {\n\t\t...errors[field.id],\n\t\treference: { isDirty: true, message: null }\n\t};\n\n\tconst newFields = fields.map(f => (f.id === field.id ? field : f));\n\n\treturn { newFields, newErrors };\n};\n\n// Update the choice of the field\nconst updateChoice = ({ field, fields, errors }) => {\n\tconst newErrors = { ...errors };\n\tconst choiceErrMessage =\n\t\tfield.choice === '3' && field.choices.length === 0\n\t\t\t? ONE_CHOICE_REQUIRED_ERR_MESSAGE\n\t\t\t: null;\n\n\tconst inValidChoices = field.choices.some(choice => choice.value === '');\n\n\tnewErrors[field.id] = {\n\t\t...errors[field.id],\n\t\tchoice: {\n\t\t\tisDirty: true,\n\t\t\tmessage: choiceErrMessage\n\t\t},\n\t\tchoices: {\n\t\t\t...(inValidChoices\n\t\t\t\t? {\n\t\t\t\t\t\tisDirty: true,\n\t\t\t\t\t\tmessage: SYSTEM_VALUE_REQUIRED_ERR_MESSAGE\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tisDirty: true,\n\t\t\t\t\t\tmessage: null\n\t\t\t\t  })\n\t\t}\n\t};\n\n\tconst newFields = fields.map(f => (f.id === field.id ? field : f));\n\n\treturn { newFields, newErrors };\n};\n\n// Determine whether all fields are valid or not\nconst validateFields = errors => {\n\t// Iterate through every field's error state\n\tfor (const fieldId in errors) {\n\t\t// Return the error state for each attribute of the field\n\t\tconst attrs = Object.values(errors[fieldId]);\n\n\t\t// Check if any of the attributes has an error message\n\t\tconst hasError = attrs.some(attr => {\n\t\t\tif (!attr) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn typeof attr.message === 'string';\n\t\t});\n\n\t\t// Return `false` immediately if one is found\n\t\tif (hasError) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// If none of the attributes on any field have error messages, return `true`\n\treturn true;\n};\n\n// Generate a valid autonumbering prefix based on table label\nconst getAutonumberPrefix = label => {\n\treturn label\n\t\t.replace(/[^a-zA-Z]/g, '')\n\t\t.toUpperCase()\n\t\t.slice(0, 3);\n};\n\nexport default {\n\tisLabelOrName,\n\tisAttrInvalid,\n\tgenerateDuplicationErrors,\n\tupdateFieldType,\n\tupdateReference,\n\tupdateChoice,\n\tvalidateFields,\n\tgetAutonumberPrefix\n};\n","module.exports = __TECTONIC__$servicenow_now_button;","export const SN_GLOBAL_SCOPE = 'global';\nexport const SN_GLOBAL_SCOPE_PREFIX = 'u_';\nexport const USER_ROLE_MAINT = 'maint';\n\nexport const TOOLTIP_STYLING = {\n\t'max-width': '496px'\n};\n\nexport function commonSNPrefixName(prefix, name) {\n\treturn (prefix ? prefix + '_' : '') + name;\n}\n\nexport function serializeSNName(name, length) {\n\treturn name\n\t\t.toLowerCase()\n\t\t.replace(/[^a-zA-Z0-9]/g, '_')\n\t\t.replace(/_+/g, '_')\n\t\t.slice(0, length)\n\t\t.replace(/_$/g, '');\n}\n\nexport function validSNCharacters(name) {\n\treturn !name || /^[a-z0-9_]*$/.test(name);\n}\n\nexport function validPrefix(name, prefix) {\n\treturn name.startsWith(prefix || '');\n}\n\nconst ROLE_MAP = {\n\t[USER_ROLE_MAINT]: (scope, label) => {\n\t\tif (scope === SN_GLOBAL_SCOPE) {\n\t\t\treturn label;\n\t\t}\n\t\treturn commonSNPrefixName(scope, label);\n\t},\n\tdefault(scope, label) {\n\t\tif (scope === SN_GLOBAL_SCOPE) {\n\t\t\treturn SN_GLOBAL_SCOPE_PREFIX + label;\n\t\t}\n\t\treturn commonSNPrefixName(scope, label);\n\t}\n};\n\nexport function getSNTableName(scope, label, isMaint) {\n\tif (!label) {\n\t\treturn '';\n\t}\n\n\t// Mayble pass the role name(s) in instead of assuming 'maint' in the future\n\tconst nameFn = ROLE_MAP[isMaint ? USER_ROLE_MAINT : 'default'];\n\tconst tableName = nameFn(scope, label);\n\n\treturn serializeSNName(tableName, 80);\n}\n\nexport function isValidSNTableName(tableName, tableLabel, scope, isMaint) {\n\tconst globalScope = scope === SN_GLOBAL_SCOPE;\n\tif (globalScope) {\n\t\tif (isMaint) {\n\t\t\treturn tableName.startsWith(tableLabel);\n\t\t}\n\t\treturn tableName.startsWith(SN_GLOBAL_SCOPE_PREFIX + tableLabel);\n\t}\n\treturn tableName.startsWith(scope) && tableName !== scope;\n}\n\nexport function generateStyleToolTipContent(text) {\n\treturn <div style={TOOLTIP_STYLING}>{text}</div>;\n}\n","module.exports = __TECTONIC__$servicenow_now_checkbox;","import { t } from 'sn-translate';\n\n// Actions driven by list\nconst LIST = 'SN_TABLE_FIELD_LIST#';\nexport const FIELD_ADDED = `${LIST}FIELD_ADDED`;\nexport const DUPE_ERR_GENERATED = `${LIST}DUPE_ERR_GENERATED`;\nexport const ERRORS_CHECKED = `${LIST}ERRORS_CHECKED`;\nexport const FIELDS_VALIDATED = `${LIST}FIELDS_VALIDATED`;\nexport const FIELDS_INVALIDATED = `${LIST}FIELDS_INVALIDATED`;\n\n// Actions driven by card\nconst CARD = 'SN_TABLE_FIELD_CARD#';\nexport const FIELD_DELETED = `${CARD}FIELD_DELETED`;\nexport const FIELD_CHANGED = `${CARD}FIELD_CHANGED`;\nexport const FIELD_INPUTTED = `${CARD}FIELD_INPUTTED`;\nexport const TYPE_UPDATED = `${CARD}TYPE_UPDATED`;\nexport const REFERENCE_UPDATED = `${CARD}REFERENCE_UPDATED`;\nexport const NONE_CHOICE_UPDATED = `${CARD}NONE_CHOICE_UPDATED`;\nexport const INVALID_SET = `${CARD}INVALID_SET`;\n\n// Error messages\nexport const DUPLICATE_ERR_MESSAGE = t('Must be unique');\nexport const REQUIRED_ERR_MESSAGE = t('Required');\nexport const CHAR_LIMIT_MIN_ERR_MESSAGE = t('Minimum is 0');\nexport const CHAR_LIMIT_MAX_ERR_MESSAGE = t('Maximum is 8000');\nexport const CHAR_INVALID_ERR_MESSAGE = t('Invalid characters');\nexport const ONE_CHOICE_REQUIRED_ERR_MESSAGE = t(\n\t'At least one choice option is required'\n);\nexport const SYSTEM_VALUE_REQUIRED_ERR_MESSAGE = t('System value is required');\n\n// Default field types - this will likely change in the future once we want to support\n// additional (there are hundreds), or even custom, field types\n// Needs to be translated as this is passed directly into a now-select\nexport const FIELD_TYPES = [\n\t{\n\t\tid: 'none',\n\t\tlabel: t('Select one'),\n\t\tdisabled: true\n\t},\n\t{\n\t\tid: 'boolean',\n\t\tlabel: t('True/False')\n\t},\n\t{\n\t\tid: 'choice',\n\t\tlabel: t('Choice')\n\t},\n\t{\n\t\tid: 'currency',\n\t\tlabel: t('Currency')\n\t},\n\t{\n\t\tid: 'decimal',\n\t\tlabel: t('Decimal')\n\t},\n\t{\n\t\tid: 'email',\n\t\tlabel: t('Email')\n\t},\n\t{\n\t\tid: 'float',\n\t\tlabel: t('Floating Point Number')\n\t},\n\t{\n\t\tid: 'glide_date_time',\n\t\tlabel: t('Date/Time')\n\t},\n\t{\n\t\tid: 'glide_date',\n\t\tlabel: t('Date')\n\t},\n\t{\n\t\tid: 'glide_duration',\n\t\tlabel: t('Duration')\n\t},\n\t{\n\t\tid: 'glide_time',\n\t\tlabel: t('Time')\n\t},\n\t{\n\t\tid: 'html',\n\t\tlabel: t('HTML')\n\t},\n\t{\n\t\tid: 'integer',\n\t\tlabel: t('Integer')\n\t},\n\t{\n\t\tid: 'journal',\n\t\tlabel: t('Journal')\n\t},\n\t{\n\t\tid: 'percent_complete',\n\t\tlabel: t('Percent Complete')\n\t},\n\t{\n\t\tid: 'phone_number_e164',\n\t\tlabel: t('Phone Number (E164)')\n\t},\n\t{\n\t\tid: 'price',\n\t\tlabel: t('Price')\n\t},\n\t{\n\t\tid: 'reference',\n\t\tlabel: t('Reference')\n\t},\n\t{\n\t\tid: 'string',\n\t\tlabel: t('String')\n\t},\n\t{\n\t\tid: 'url',\n\t\tlabel: t('URL')\n\t}\n];\n\nexport const CHOICE_TYPES = [\n\t{\n\t\tid: '1',\n\t\tlabel: t('Dropdown with None')\n\t},\n\t{\n\t\tid: '3',\n\t\tlabel: t('Dropdown without None')\n\t}\n];\n","import authToken from './get-auth-token';\nimport { t } from 'sn-translate';\n\n/**\n * helper for fetch.\n * return response with isError flag, will be true states non-2xx status\n * @param {string} url\n * @param {Object} options\n */\nexport default async function fetchHelper(url, options) {\n\tconst response = await fetch(url, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t...authToken\n\t\t},\n\t\t...options\n\t})\n\t\t.then(async response => {\n\t\t\treturn {\n\t\t\t\tisError: !response.ok,\n\t\t\t\t...(await response.json())\n\t\t\t};\n\t\t})\n\t\t.catch(() => {\n\t\t\treturn failedResponse();\n\t\t});\n\n\treturn response;\n}\n\nexport function failedResponse(msg) {\n\treturn {\n\t\tisError: true,\n\t\t// simulate SNOW error\n\t\terror: {\n\t\t\tmessage: msg ? msg : t('Failed to load'),\n\t\t\tdetail: ''\n\t\t},\n\t\tstatus: 'failure'\n\t};\n}\n","const LIST = 'SN_TABLE_CHOICE_LIST#';\nexport const CHOICE_ADDED = `${LIST}CHOICE_ADDED`;\nexport const CHOICE_DELETED = `${LIST}CHOICE_DELETED`;\nexport const CHOICE_EDITED = `${LIST}CHOICE_EDITED`;\nexport const CHOICES_UPDATED = `${LIST}CHOICES_UPDATED`;\n","const token = {};\nexport default token;\n\n// Updates the auth token header and global.\n// Currenlty should only be set on initialization and on re-login.\nexport const resetAuthToken = new_g_ck => {\n\twindow.g_ck = token['X-UserToken'] = new_g_ck;\n};\n\n// Initially set the token to window.g_ck.\nresetAuthToken(window.g_ck);\n","module.exports = __TECTONIC__$servicenow_now_icon;","const BASE = 'SN_TABLE_DETAILS_PAGE#';\n\nexport const VALIDATE = `${BASE}VALIDATE`;\nexport const CREATE_TABLE = `${BASE}CREATE_TABLE`;\nexport const GENERATE_AUTONUMBER_ERRORS = `${BASE}GENERATE_AUTONUMBER_ERRORS`;\nexport const GENERATE_ERROR_MESSAGES = `${BASE}GENERATE_ERROR_MESSAGES`;\nexport const INITIATE_TABLE_API_CALL = `${BASE}INITIATE_TABLE_API_CALL`;\nexport const CHECK_TABLENAME_UNIQUENESS = `${BASE}CHECK_TABLENAME_UNIQUENESS`;\nexport const CHECK_TABLE_AUTONUMBER_PREFIX = `${BASE}CHECK_TABLE_AUTONUMBER_PREFIX`;\n\nexport const IMPORT_DATA_REQUESTED = `${BASE}IMPORT_DATA_REQUESTED`;\nexport const IMPORT_DATA_IN_PROGRESS = `${BASE}IMPORT_DATA_IN_PROGRESS`;\nexport const IMPORT_DATA_SUCCEEDED = `${BASE}IMPORT_DATA_SUCCEEDED`;\nexport const IMPORT_DATA_FAILED = `${BASE}IMPORT_DATA_FAILED`;\n\nexport const TABLE_ID_FAILED = `${BASE}TABLE_ID_FAILED`;\n\nexport const IMPORT_STATE_COMPLETE = 'complete';\nexport const IMPORT_STATE_ERROR = 'error';\nexport const IMPORT_STATE_RUNNING = 'running';\n\nexport const DEFAULT_AUTONUMBER_NUMBER = '1000';\nexport const DEFAULT_AUTONUMBER_DIGITS = '7';\n","const BASE = 'SN_AOT_UNIQUE_FIELD_BEHAVIOR#';\n\nexport const CHECK_UNIQUE_FIELD = `${BASE}CHECK_UNIQUE_FIELD`;\nexport const CHECK_UNIQUE_FIELD_REQUEST = `${BASE}CHECK_UNIQUE_FIELD_REQUEST`;\nexport const CHECK_UNIQUE_FIELD_REQUEST_STARTED = `${BASE}CHECK_UNIQUE_FIELD_REQUEST_STARTED`;\nexport const CHECK_UNIQUE_FIELD_STARTED = `${BASE}CHECK_UNIQUE_FIELD_STARTED`;\nexport const CHECK_UNIQUE_FIELD_SUCCESS = `${BASE}CHECK_UNIQUE_FIELD_REQUEST_SUCCESS`;\nexport const CHECK_UNIQUE_FIELD_FAILURE = `${BASE}CHECK_UNIQUE_FIELD_FAILURE`;\n\nexport const BEHAVIOR_NAME = 'UNIQUE_FIELD_BEHAVIOR';\n\nexport const CHECK_UNIQUE_FIELD_COMPLETED = `${BASE}CHECK_UNIQUE_FIELD_COMPLETED`;\n\nexport const DEFAULT_QUERY_PARAMS = {\n\tsysparm_query: undefined,\n\tsysparm_limit: 1,\n\tsysparm_transaction_scope: undefined\n};\n","module.exports = __TECTONIC__$servicenow_now_text_link;","import {\n\tREQUIRED_ERR,\n\tMIN_CHAR_LIMIT_ONE_ERR,\n\tNO_PUNCTUATION_ERR,\n\tNO_DOTS_REGEX_STRING\n} from './error-constants';\n\nexport const generateStartingNumberError = startingNumber => {\n\tif (!startingNumber) {\n\t\treturn REQUIRED_ERR;\n\t}\n\n\tif (+startingNumber < 1) {\n\t\treturn MIN_CHAR_LIMIT_ONE_ERR;\n\t}\n\n\tconst validRegex = new RegExp(NO_DOTS_REGEX_STRING);\n\tif (!validRegex.exec(startingNumber)) {\n\t\treturn NO_PUNCTUATION_ERR;\n\t}\n\n\treturn null;\n};\n\nexport const validateDetails = ({ errors }) => {\n\tfor (const key in errors) {\n\t\tif (typeof errors[key].message === 'string') {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n","const BASE = 'SN_TABLE_SPREADSHEET_PAGE#';\n\nexport const UPLOAD_FILE_TO_HELPER_REQUESTED = `${BASE}UPLOAD_FILE_TO_HELPER_REQUESTED`;\nexport const UPLOAD_FILE_TO_HELPER_SUCCEEDED = `${BASE}UPLOAD_FILE_TO_HELPER_SUCCEEDED`;\nexport const UPLOAD_FILE_TO_HELPER_IN_PROGRESS = `${BASE}UPLOAD_FILE_TO_HELPER_IN_PROGRESS`;\nexport const UPLOAD_FILE_TO_HELPER_FAILED = `${BASE}UPLOAD_FILE_TO_HELPER_FAILED`;\n\nexport const PARSE_FILE_REQUESTED = `${BASE}PARSE_FILE_REQUESTED`;\nexport const PARSE_FILE_SUCCEEDED = `${BASE}PARSE_FILE_SUCCEEDED`;\nexport const PARSE_FILE_IN_PROGRESS = `${BASE}PARSE_FILE_IN_PROGRESS`;\nexport const PARSE_FILE_FAILED = `${BASE}PARSE_FILE_FAILED`;\n\nexport const HELPER_TABLE = 'sn_table_builder_attachment_helper';\n","const BASE = 'SN_TABLE_TEMPLATE_WIZARD#';\nexport const VALIDATE = `${BASE}VALIDATE`;\n","export const SPREADSHEET_INFO_CARD__CONVERT_TO_TABLE =\n\t'SN_AOT_SPREADSHEET_INFO_CARD#CONVERT_TO_TABLE';\n","import { t } from 'sn-translate';\nimport fetchHelper from './fetch-helper';\n\nconst POLLING_INTERVAL = 1000;\nconst WORKER_STATE_CODE_SUCCESS = 'success';\n\nconst poller = {\n\twait: () => new Promise(r => setTimeout(r, POLLING_INTERVAL))\n};\n\nasync function pollingFetch(url, options, isDone) {\n\tlet response;\n\twhile (!(await isDone((response = await fetchHelper(url, options))))) {\n\t\tawait poller.wait();\n\t}\n\treturn response;\n}\n\n/**\n * Generic poller wait. hits a url and wait using waitCallback\n * @param {string} url\n * @param {function} waitCallback\n */\nexport async function waitFor(url, waitCallback) {\n\tconst response = await pollingFetch(url, {}, async response => {\n\t\treturn waitCallback(response);\n\t});\n\n\treturn response;\n}\n\n/*\n\nPolls and waits for a backend progress worker (sys_progress_worker) to complete.\nIf the worker does not complete successfully, throw an translated error.\n\n*/\nexport async function waitForWorker(workerId) {\n\tconst response = await waitFor(\n\t\t`/angular.do?sysparm_type=ng_progress&sysparm_progress_id=${workerId}`,\n\t\tresponse => {\n\t\t\tif (response.isError) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst { state_code } = response;\n\t\t\treturn !!state_code;\n\t\t}\n\t);\n\n\tconst { state_code, isError } = response;\n\n\tif (isError || state_code != WORKER_STATE_CODE_SUCCESS) {\n\t\tthrow { message: t('Worker did not complete successfully') };\n\t}\n}\n","module.exports = __TECTONIC__$servicenow_ui_effect_http;","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-field-card.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","import { default as behavior } from './unique-field';\nimport {\n\tBEHAVIOR_NAME,\n\tCHECK_UNIQUE_FIELD,\n\tCHECK_UNIQUE_FIELD_REQUEST,\n\tCHECK_UNIQUE_FIELD_STARTED,\n\tCHECK_UNIQUE_FIELD_SUCCESS,\n\tCHECK_UNIQUE_FIELD_COMPLETED\n} from './constants';\nimport checkUniqueField from './helpers';\n\nexport default {\n\tbehavior,\n\tname: BEHAVIOR_NAME,\n\thelpers: { checkUniqueField },\n\tactionTypes: {\n\t\tCHECK_UNIQUE_FIELD,\n\t\tCHECK_UNIQUE_FIELD_REQUEST,\n\t\tCHECK_UNIQUE_FIELD_STARTED,\n\t\tCHECK_UNIQUE_FIELD_SUCCESS,\n\t\tCHECK_UNIQUE_FIELD_COMPLETED\n\t}\n};\n","import {\n\tREQUIRED_ERR,\n\tNO_LOWERCASE_ERR,\n\tHAS_LOWERCASE_REGEX_STRING,\n\tINVALID_CHAR_ERR,\n\tMIN_STARTING_NUMBER_ERR,\n\tMIN_AUTO_DIGITS_ERR,\n\tMAX_AUTO_DIGITS_ERR,\n\tNO_PUNCTUATION_ERR,\n\tVALID_AUTO_PREFIX_REGEX_STRING,\n\tNO_DOTS_REGEX_STRING\n} from './error-constants';\n\n// Generate a valid autonumbering prefix based on table label\nconst getAutonumberPrefix = label => {\n\treturn label\n\t\t.replace(/[^a-zA-Z]/g, '')\n\t\t.toUpperCase()\n\t\t.slice(0, 3);\n};\n\nconst generatePrefixError = prefix => {\n\tif (!prefix) {\n\t\treturn REQUIRED_ERR;\n\t}\n\n\t// Special case for lowercase characters\n\tconst hasLowercase = new RegExp(HAS_LOWERCASE_REGEX_STRING);\n\tif (hasLowercase.exec(prefix)) {\n\t\treturn NO_LOWERCASE_ERR;\n\t}\n\n\t// Default invalid char case to capture generic mismatch\n\tconst validRegex = new RegExp(VALID_AUTO_PREFIX_REGEX_STRING);\n\tif (!validRegex.exec(prefix)) {\n\t\treturn INVALID_CHAR_ERR;\n\t}\n\n\treturn null;\n};\n\nconst generateStartingNumberError = startingNumber => {\n\tif (!startingNumber) {\n\t\treturn REQUIRED_ERR;\n\t}\n\n\tif (+startingNumber < 0) {\n\t\treturn MIN_STARTING_NUMBER_ERR;\n\t}\n\n\tconst validRegex = new RegExp(NO_DOTS_REGEX_STRING);\n\tif (!validRegex.exec(startingNumber)) {\n\t\treturn NO_PUNCTUATION_ERR;\n\t}\n\n\treturn null;\n};\n\nconst generateDigitsError = digits => {\n\tif (!digits) {\n\t\treturn REQUIRED_ERR;\n\t}\n\n\tif (+digits < 1) {\n\t\treturn MIN_AUTO_DIGITS_ERR;\n\t}\n\n\tif (+digits > 15) {\n\t\treturn MAX_AUTO_DIGITS_ERR;\n\t}\n\n\tconst validRegex = new RegExp(NO_DOTS_REGEX_STRING);\n\tif (!validRegex.exec(digits)) {\n\t\treturn NO_PUNCTUATION_ERR;\n\t}\n\n\treturn null;\n};\n\nconst validateDetails = ({ enableAutonumber, errors }) => {\n\tfor (const key in errors) {\n\t\tif (enableAutonumber && key === 'autonumber') {\n\t\t\tfor (const autonumberKey in errors.autonumber) {\n\t\t\t\tif (typeof errors.autonumber[autonumberKey].message === 'string') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (typeof errors[key].message === 'string') {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n\nexport default {\n\tgetAutonumberPrefix,\n\tgeneratePrefixError,\n\tgenerateStartingNumberError,\n\tgenerateDigitsError,\n\tvalidateDetails\n};\n","import './sn-table-builder-wizard';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport { getCurrentPage, stepperBehavior } from '@devsnc/guided-wizard-toolkit';\n\nimport './pages/sn-table-wizard-source-page';\nimport './pages/sn-table-wizard-spreadsheet-page';\nimport './pages/sn-table-wizard-spreadsheet-list-page';\nimport './pages/sn-table-wizard-extension-page';\nimport './pages/sn-table-wizard-definition-page';\nimport './pages/sn-table-wizard-details-page';\nimport './pages/sn-table-wizard-summary-page';\n\nimport styles from './sn-table-builder-wizard.scss';\n\nconst TABLE_SOURCE_PAGE = 'sn-table-wizard-source-page';\nconst TABLE_SPREADSHEET_PAGE = 'sn-table-wizard-spreadsheet-page';\nconst TABLE_SPREADSHEET_LIST_PAGE = 'sn-table-wizard-spreadsheet-list-page';\nconst TABLE_EXTENSION_PAGE = 'sn-table-wizard-extension-page';\nconst TABLE_DEFINITION_PAGE = 'sn-table-wizard-definition-page';\nconst TABLE_DETAILS_PAGE = 'sn-table-wizard-details-page';\nconst TABLE_SUMMARY_PAGE = 'sn-table-wizard-summary-page';\n\nconst pageMap = {\n\tsourceContinue: {\n\t\tspreadsheet: TABLE_SPREADSHEET_PAGE,\n\t\textend: TABLE_EXTENSION_PAGE,\n\t\tscratch: TABLE_DETAILS_PAGE\n\t},\n\tdetailsContinue: {\n\t\tspreadsheet: TABLE_SPREADSHEET_LIST_PAGE,\n\t\textend: TABLE_SUMMARY_PAGE,\n\t\tscratch: TABLE_SUMMARY_PAGE\n\t},\n\tdetailsPrevious: {\n\t\tspreadsheet: TABLE_DEFINITION_PAGE,\n\t\textend: TABLE_EXTENSION_PAGE,\n\t\tscratch: TABLE_SOURCE_PAGE\n\t}\n};\n\nconst flowDefinition = {\n\tstartPage: TABLE_SOURCE_PAGE,\n\tpages: {\n\t\t[TABLE_SOURCE_PAGE]: {\n\t\t\tcontinue: data => pageMap.sourceContinue[data.source]\n\t\t},\n\t\t[TABLE_SPREADSHEET_PAGE]: {\n\t\t\tcontinue: () => TABLE_SPREADSHEET_LIST_PAGE,\n\t\t\tprevious: () => TABLE_SOURCE_PAGE\n\t\t},\n\t\t[TABLE_SPREADSHEET_LIST_PAGE]: {\n\t\t\tcontinue: () => TABLE_DEFINITION_PAGE,\n\t\t\tprevious: () => TABLE_SPREADSHEET_PAGE\n\t\t},\n\t\t[TABLE_EXTENSION_PAGE]: {\n\t\t\tcontinue: () => TABLE_DETAILS_PAGE,\n\t\t\tprevious: () => TABLE_SOURCE_PAGE\n\t\t},\n\t\t[TABLE_DEFINITION_PAGE]: {\n\t\t\tprevious: data =>\n\t\t\t\tdata.sheets.length > 1\n\t\t\t\t\t? TABLE_SPREADSHEET_LIST_PAGE\n\t\t\t\t\t: TABLE_SPREADSHEET_PAGE,\n\t\t\tcontinue: () => TABLE_DETAILS_PAGE\n\t\t},\n\t\t[TABLE_DETAILS_PAGE]: {\n\t\t\tprevious: data => pageMap.detailsPrevious[data.source],\n\t\t\tcontinue: data =>\n\t\t\t\tdata.table.isSingleSheetUpload\n\t\t\t\t\t? TABLE_SUMMARY_PAGE\n\t\t\t\t\t: pageMap.detailsContinue[data.source]\n\t\t},\n\t\t[TABLE_SUMMARY_PAGE]: {}\n\t}\n};\n\nconst STEPPER_ITEMS = {\n\t[TABLE_SOURCE_PAGE]: t('Source'),\n\t[TABLE_DETAILS_PAGE]: t('Define'),\n\t[TABLE_SUMMARY_PAGE]: t('Summary')\n};\n\nconst DEFAULT_PAGE_WIDTH = `${770 / 16}rem`;\n\ncreateCustomElement('sn-table-builder-wizard', {\n\tview: ({ properties }) => {\n\t\tconst {\n\t\t\twizardContext,\n\t\t\tstepperItems,\n\t\t\ttemplateId,\n\t\t\tparentTemplateInstanceId,\n\t\t\tapp,\n\t\t\tuser\n\t\t} = properties;\n\t\tconst PageComponent = getCurrentPage(wizardContext);\n\t\treturn (\n\t\t\t<sn-guided-wizard\n\t\t\t\tflowDefinition={flowDefinition}\n\t\t\t\tcomponent-id=\"tableWizard\"\n\t\t\t\tstepper-items={stepperItems}\n\t\t\t\tinitial-context={{\n\t\t\t\t\ttemplateId,\n\t\t\t\t\tparentTemplateInstanceId,\n\t\t\t\t\tapp,\n\t\t\t\t\tuser,\n\t\t\t\t\ttable: {},\n\t\t\t\t\tdefaultPageWidth: DEFAULT_PAGE_WIDTH\n\t\t\t\t}}\n\t\t\t\ttables-data-options={{\n\t\t\t\t\tnormalizeResult: result => {\n\t\t\t\t\t\treturn result.map(table => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: table.name,\n\t\t\t\t\t\t\t\tlabel: `${table.label} [${table.name}]`,\n\t\t\t\t\t\t\t\tis_extendable: table.is_extendable\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t<PageComponent wizardContext={wizardContext} />\n\t\t\t</sn-guided-wizard>\n\t\t);\n\t},\n\tproperties: {\n\t\twizardContext: { default: '@tableWizard/wizardContext' },\n\t\ttemplateId: { default: 'c3d2224558512010fa9be831f6272862' },\n\t\tparentTemplateInstanceId: { default: null },\n\t\tapp: { default: {} },\n\t\tuser: { default: { roles: [] } }\n\t},\n\tbehaviors: [\n\t\t{\n\t\t\tbehavior: stepperBehavior.behavior,\n\t\t\toptions: {\n\t\t\t\tconfig: STEPPER_ITEMS\n\t\t\t}\n\t\t}\n\t],\n\tstyles\n});\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@devsnc/guided-wizard-toolkit';\nimport '@servicenow/now-text-link';\nimport 'sn-app-object-wizard-components'\n\nimport createScratch from '../../../assets/create-scratch.svg';\nimport existingTable from '../../../assets/existing-table.svg';\nimport uploadSpreadsheet from '../../../assets/upload-spreadsheet.svg';\n\nimport styles from './sn-table-wizard-source-page.scss';\nimport { generateStyleToolTipContent } from '../../../helpers/sn-naming-helpers';\n\ncreateCustomElement('sn-table-wizard-source-page', {\n\tview: (\n\t\t{\n\t\t\tsource,\n\t\t\tproperties: {\n\t\t\t\twizardContext: { defaultPageWidth }\n\t\t\t}\n\t\t},\n\t\t{ dispatch }\n\t) => {\n\t\treturn (\n\t\t\t<sn-guided-wizard-page\n\t\t\t\tonPrimaryClick={() => {\n\t\t\t\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', {\n\t\t\t\t\t\tsource: source\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tprimaryDisabled={!source}\n\t\t\t\tonSecondaryClick={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\tonClose={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\tmaxWidth={defaultPageWidth}>\n\t\t\t\t<div className=\"custom-header\" slot=\"SN_GUIDED_WIZARD_PAGE#HEADER_SLOT\">\n\t\t\t\t\t<h2>{t('ADD DATA')}</h2>\n\t\t\t\t\t<h1>{t('How do you want to create a table?')}</h1>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{t(\n\t\t\t\t\t\t\t\"Tables contain the data that's available in an app. If you aren't sure where to start, you can create a table from scratch and we'll help you create a new table.\"\n\t\t\t\t\t\t)}{' '}\n\t\t\t\t\t\t<now-text-link\n\t\t\t\t\t\t\tslot=\"SN_GUIDED_WIZARD_PAGE#FOOTER_SLOT\"\n\t\t\t\t\t\t\tclassName=\"text-link\"\n\t\t\t\t\t\t\tlabel={t('Learn more about tables.')}\n\t\t\t\t\t\t\thref=\"https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/table-administration/task/t_CreateATable.html\"\n\t\t\t\t\t\t\topensWindow\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"body-container\">\n\t\t\t\t\t<sn-aow-tile-button\n\t\t\t\t\t\tclassName=\"spreadsheet\"\n\t\t\t\t\t\tid=\"spreadsheet\"\n\t\t\t\t\t\ticon={uploadSpreadsheet}\n\t\t\t\t\t\ttext={t('Upload a spreadsheet')}\n\t\t\t\t\t\tisSelected={source === 'spreadsheet'}\n\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\tt('Upload an XLSX file')\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<sn-aow-tile-button\n\t\t\t\t\t\tclassName=\"extend\"\n\t\t\t\t\t\tid=\"extend\"\n\t\t\t\t\t\ticon={existingTable}\n\t\t\t\t\t\ttext={t('Create from an existing table')}\n\t\t\t\t\t\tisSelected={source === 'extend'}\n\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t'Select this option to create a table that shares columns from an existing table.'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<sn-aow-tile-button\n\t\t\t\t\t\tclassName=\"scratch\"\n\t\t\t\t\t\tid=\"scratch\"\n\t\t\t\t\t\ticon={createScratch}\n\t\t\t\t\t\ttext={t('Create from scratch')}\n\t\t\t\t\t\tisSelected={source === 'scratch'}\n\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\tt('Create column headers for a blank table')\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</sn-guided-wizard-page>\n\t\t);\n\t},\n\tinitialState: {\n\t\tsource: ''\n\t},\n\tproperties: {\n\t\twizardContext: {}\n\t},\n\tactionHandlers: {\n\t\t[actionTypes.COMPONENT_BOOTSTRAPPED]: ({ dispatch }) => {\n\t\t\tdispatch('STEPPER_BEHAVIOR#PAGE_SET', {\n\t\t\t\tpage: 'sn-table-wizard-source-page'\n\t\t\t});\n\t\t},\n\t\t['AOW_TILE_BUTTON#CLICKED']: ({\n\t\t\taction: {\n\t\t\t\tstopPropagation,\n\t\t\t\tpayload: { id }\n\t\t\t},\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tupdateState({ source: id });\n\t\t}\n\t},\n\tstyles\n});\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgNjQgNjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+MjJBNjcyMjMtRjYyMC00MjlELUJFMTEtRjU0MTJDMUIwODlCPC90aXRsZT4KICAgIDxnIGlkPSJUYWJsZXMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDUy1UYWJsZXMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc2Ni4wMDAwMDAsIC00MDIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJDcmVhdGVfc2NyYXRjaF9pY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NjYuMDAwMDAwLCA0MDIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRUFGMEYyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHJ4PSI2Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNiwyLjM5ODA4MTczZS0xNCBMNTgsMi4zOTgwODE3M2UtMTQgQzYxLjMxMzcwODUsMi4wNDI4OTM0NmUtMTQgNjQsMi42ODYyOTE1IDY0LDYgTDY0LDEwLjMyMjU4MDYgTDY0LDEwLjMyMjU4MDYgTDAsMTAuMzIyNTgwNiBMMCw2IEMtNC4wNTgxMjI1MWUtMTYsMi42ODYyOTE1IDIuNjg2MjkxNSwyLjQ1ODk1MzU3ZS0xNCA2LDIuMzk4MDgxNzNlLTE0IFoiIGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMyOTNENDAiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMi41LDU0IEMyMy4zODczMDE2LDU0IDE2LDQ2LjYxMjY5ODQgMTYsMzcuNSBDMTYsMjguMzg3MzAxNiAyMy4zODczMDE2LDIxIDMyLjUsMjEgQzQxLjYxMjY5ODQsMjEgNDksMjguMzg3MzAxNiA0OSwzNy41IEM0OSw0Ni42MTI2OTg0IDQxLjYxMjY5ODQsNTQgMzIuNSw1NCBaIE0yMi42LDM3LjUgQzIyLjYsMzguMzI4NDI3MSAyMy4yNzE1NzI5LDM5IDI0LjEsMzkgTDI5LjUsMzkgQzMwLjMyODQyNzEsMzkgMzEsMzkuNjcxNTcyOSAzMSw0MC41IEwzMSw0NS45IEMzMSw0Ni43Mjg0MjcxIDMxLjY3MTU3MjksNDcuNCAzMi41LDQ3LjQgQzMzLjMyODQyNzEsNDcuNCAzNCw0Ni43Mjg0MjcxIDM0LDQ1LjkgTDM0LDQwLjUgQzM0LDM5LjY3MTU3MjkgMzQuNjcxNTcyOSwzOSAzNS41LDM5IEw0MC45LDM5IEM0MS43Mjg0MjcxLDM5IDQyLjQsMzguMzI4NDI3MSA0Mi40LDM3LjUgQzQyLjQsMzYuNjcxNTcyOSA0MS43Mjg0MjcxLDM2IDQwLjksMzYgTDM1LjUsMzYgQzM0LjY3MTU3MjksMzYgMzQsMzUuMzI4NDI3MSAzNCwzNC41IEwzNCwyOS4xIEMzNCwyOC4yNzE1NzI5IDMzLjMyODQyNzEsMjcuNiAzMi41LDI3LjYgQzMxLjY3MTU3MjksMjcuNiAzMSwyOC4yNzE1NzI5IDMxLDI5LjEgTDMxLDM0LjUgQzMxLDM1LjMyODQyNzEgMzAuMzI4NDI3MSwzNiAyOS41LDM2IEwyNC4xLDM2IEMyMy4yNzE1NzI5LDM2IDIyLjYsMzYuNjcxNTcyOSAyMi42LDM3LjUgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjMDA5RkU1IiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgNjQgNjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+MjJDQTJFOUItM0Q2NS00OTQzLThCN0EtQzNGNTc5NzgxNEY3PC90aXRsZT4KICAgIDxnIGlkPSJUYWJsZXMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDUy1UYWJsZXMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1NC4wMDAwMDAsIC00MDIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJFeGlzdGluZ190YWJsZV9pY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NTQuMDAwMDAwLCA0MDIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRUFGMEYyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHJ4PSI0LjgiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00LjgsMCBMNTkuMiwwIEM2MS44NTA5NjY4LC00Ljg2OTc0NzAxZS0xNiA2NCwyLjE0OTAzMzIgNjQsNC44IEw2NCwxMCBMNjQsMTAgTDAsMTAgTDAsNC44IEMtMy4yNDY0OTgwMWUtMTYsMi4xNDkwMzMyIDIuMTQ5MDMzMiw0Ljg2OTc0NzAxZS0xNiA0LjgsMCBaIiBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMjkzRDQwIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjMDA5RkU1IiBjeD0iMzIuNSIgY3k9IjM2LjUiIHI9IjE4LjUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI3LjcwODA0MjIsMjkuNDQ2Mzk0MSBMMjkuMTIwODU2MywyOS40NDYzOTQxIEMyOS43MjAyMzE5LDI5LjQ0NjM5NDEgMzAuMjA3ODE5MiwyOC45MDAzNzE3IDMwLjIwNzgxOTIsMjguMjIzMTk3IEwzMC4yMDc4MTkyLDI4LjIyMzE5NyBDMzAuMjA3ODE5MiwyNy41NDg2OTg5IDI5LjcyMjYxMDQsMjcgMjkuMTIwODU2MywyNyBMMjUuMDE1NjA4NywyNyBDMjQuNDU0Mjg4NywyNyAyNCwyNy41MTEyMjY4IDI0LDI4LjE0Mjg5OTYgTDI0LDMyLjc2MjY3NjYgQzI0LDMzLjQzNzE3NDcgMjQuNDg1MjA4OSwzMy45ODU4NzM2IDI1LjA4Njk2MywzMy45ODU4NzM2IEMyNS42ODg3MTcxLDMzLjk4NTg3MzYgMjYuMTczOTI2LDMzLjQzOTg1MTMgMjYuMTczOTI2LDMyLjc2MjY3NjYgTDI2LjE3MzkyNiwzMS4xNzI3ODgxIEwzMC4xNDU5Nzg5LDM1LjY0MjY3NjYgQzMwLjU2OTM0NzQsMzYuMTE5MTA3OCAzMS4yNTY3MjY2LDM2LjExOTEwNzggMzEuNjgyNDczNiwzNS42NDI2NzY2IEwzMS42ODI0NzM2LDM1LjY0MjY3NjYgQzMyLjEwNTg0MjEsMzUuMTY2MjQ1NCAzMi4xMDU4NDIxLDM0LjM5MjcxMzggMzEuNjgyNDczNiwzMy45MTM2MDU5IEwyNy43MDgwNDIyLDI5LjQ0NjM5NDEgWiIgaWQ9IlBhdGgiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTQxLjkxMzAzNyw0MC4wMTQxMjY0IEw0MS45MTMwMzcsNDAuMDE0MTI2NCBDNDEuMzEzNjYxNCw0MC4wMTQxMjY0IDQwLjgyNjA3NCw0MC41NjAxNDg3IDQwLjgyNjA3NCw0MS4yMzczMjM0IEw0MC44MjYwNzQsNDIuODI3MjExOSBMMzYuODU0MDIxMSwzOC4zNTczMjM0IEMzNi40MzA2NTI2LDM3Ljg4MDg5MjIgMzUuNzQzMjczNCwzNy44ODA4OTIyIDM1LjMxNzUyNjQsMzguMzU3MzIzNCBMMzUuMzE3NTI2NCwzOC4zNTczMjM0IEMzNC44OTQxNTc5LDM4LjgzMzc1NDYgMzQuODk0MTU3OSwzOS42MDcyODYyIDM1LjMxNzUyNjQsNDAuMDg2Mzk0MSBMMzkuMjg5NTc5Myw0NC41NTYyODI1IEwzNy44NzY3NjUzLDQ0LjU1NjI4MjUgQzM3LjI3NzM4OTYsNDQuNTU2MjgyNSAzNi43ODk4MDIzLDQ1LjEwMjMwNDggMzYuNzg5ODAyMyw0NS43Nzk0Nzk2IEMzNi43ODk4MDIzLDQ2LjQ1NjY1NDMgMzcuMjc5NzY4MSw0NyAzNy44NzkxNDM3LDQ3IEw0MS45ODQzOTEzLDQ3IEM0Mi41NDU3MTEzLDQ3IDQzLDQ2LjQ4ODc3MzIgNDMsNDUuODU3MTAwNCBMNDMsNDEuMjM3MzIzNCBDNDMsNDAuNTYyODI1MyA0Mi41MTQ3OTExLDQwLjAxNDEyNjQgNDEuOTEzMDM3LDQwLjAxNDEyNjQgWiIgaWQ9IlBhdGgiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTQxLjk4MjAxMjgsMjcgTDM3Ljg3Njc2NTMsMjcgQzM3LjI3NzM4OTYsMjcgMzYuNzg5ODAyMywyNy41NDU4NiAzNi43ODk4MDIzLDI4LjIyMjgzMzQgTDM2Ljc4OTgwMjMsMjguMjIyODMzNCBDMzYuNzg5ODAyMywyOC44OTcxMzEgMzcuMjc1MDExMSwyOS40NDU2NjY3IDM3Ljg3Njc2NTMsMjkuNDQ1NjY2NyBMMzkuMjg5NTc5MywyOS40NDU2NjY3IEwzNS4zMTc1MjY0LDMzLjkxNDIyNjMgQzM0Ljg5NDE1NzksMzQuMzkwNTE1OCAzNC44OTQxNTc5LDM1LjE2MzgxNzUgMzUuMzE3NTI2NCwzNS42NDI3ODI4IEMzNS43NDA4OTQ5LDM2LjExOTA3MjQgMzYuNDI4Mjc0MSwzNi4xMTkwNzI0IDM2Ljg1NDAyMTEsMzUuNjQyNzgyOCBMNDAuODI2MDc0LDMxLjE3NDIyMzMgTDQwLjgyNjA3NCwzMi43NjM2MzkxIEM0MC44MjYwNzQsMzMuNDM3OTM2NyA0MS4zMTEyODI5LDMzLjk4NjQ3MjQgNDEuOTEzMDM3LDMzLjk4NjQ3MjQgTDQxLjkxMzAzNywzMy45ODY0NzI0IEM0Mi41MTI0MTI3LDMzLjk4NjQ3MjQgNDMsMzMuNDQwNjEyNSA0MywzMi43NjM2MzkxIEw0MywyOC4xNDI1NTk4IEM0Mi45OTc2MjE1LDI3LjUxMTA3NDggNDIuNTQzMzMyOCwyNyA0MS45ODIwMTI4LDI3IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42ODI3NTg1LDM4LjM1NzMyMzQgQzMwLjI1OTM3NDMsMzcuODgwODkyMiAyOS41NzE5Njk2LDM3Ljg4MDg5MjIgMjkuMTQ2MjA2OCwzOC4zNTczMjM0IEwyNS4xNzQwMDY2LDQyLjgyNzIxMTkgTDI1LjE3NDAwNjYsNDEuMjM3MzIzNCBDMjUuMTc0MDA2Niw0MC41NjI4MjUzIDI0LjY4ODc3OTcsNDAuMDE0MTI2NCAyNC4wODcwMDMzLDQwLjAxNDEyNjQgQzIzLjQ4NzYwNTQsNDAuMDE0MTI2NCAyMyw0MC41NjAxNDg3IDIzLDQxLjIzNzMyMzQgTDIzLDQ1Ljg1NzEwMDQgQzIzLDQ2LjQ4ODc3MzIgMjMuNDU0MzA1NSw0NyAyNC4wMTU2NDY0LDQ3IEwyOC4xMjEwNDYyLDQ3IEMyOC43MjA0NDQsNDcgMjkuMjA4MDQ5NSw0Ni40NTM5Nzc3IDI5LjIwODA0OTUsNDUuNzc2ODAzIEMyOS4yMDgwNDk1LDQ1LjA5OTYyODMgMjguNzIyODIyNiw0NC41NTM2MDU5IDI4LjEyMTA0NjIsNDQuNTUzNjA1OSBMMjYuNzA4MTc5Nyw0NC41NTM2MDU5IEwzMC42ODAzOCw0MC4wODM3MTc1IEMzMS4xMDYxNDI3LDM5LjYwNzI4NjIgMzEuMTA2MTQyNywzOC44MzM3NTQ2IDMwLjY4Mjc1ODUsMzguMzU3MzIzNCBMMzAuNjgyNzU4NSwzOC4zNTczMjM0IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgNjQgNjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+ODA3Q0UzQzAtMDE4Ny00RDEyLTk3MTUtRjJEQkVGQTU1QkJGPC90aXRsZT4KICAgIDxnIGlkPSJUYWJsZXMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDUy1UYWJsZXMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0My4wMDAwMDAsIC00MDIuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJVcGxvYWRfc3ByZWFkc2hlZXRfaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQzLjAwMDAwMCwgNDAyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTQ4LDE1LjQ0ODI3NTkgTDMzLjA2NjY2NjcsMCBMNiwwIEMyLjY4NjI5MTUsNi4wODcxODM3NmUtMTYgLTQuMDU4MTIyNTFlLTE2LDIuNjg2MjkxNSAwLDYgTDAsNTggQzQuMDU4MTIyNTFlLTE2LDYxLjMxMzcwODUgMi42ODYyOTE1LDY0IDYsNjQgTDQyLDY0IEM0NS4zMTM3MDg1LDY0IDQ4LDYxLjMxMzcwODUgNDgsNTggTDQ4LDE1LjQ0ODI3NTkgTDQ4LDE1LjQ0ODI3NTkgWiIgaWQ9IlBhdGhfMTA2NCIgZmlsbD0iI0U5RjBGMiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzMsMi4zNzE0MzYzOGUtMTMgTDMzLDkuNDgzODcwOTcgQzMzLDEyLjc5NzU3OTUgMzUuNjg2MjkxNSwxNS40ODM4NzEgMzksMTUuNDgzODcxIEw0OCwxNS40ODM4NzEgTDQ4LDE1LjQ4Mzg3MSBMMzMsMi4zNzE0MzYzOGUtMTMgWiIgaWQ9IlBhdGhfMTA2NSIgZmlsbD0iI0JEQzNDNyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjNDc2NjdBIiB4PSIyMCIgeT0iMjEuNjc3NDE5NCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjMuMDk2Nzc0MTkiIHJ4PSIxIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjNDc2NjdBIiB4PSIyMCIgeT0iMzIiIHdpZHRoPSIyMSIgaGVpZ2h0PSIzLjA5Njc3NDE5IiByeD0iMSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzQ3NjY3QSIgeD0iMjAiIHk9IjQyIiB3aWR0aD0iMjEiIGhlaWdodD0iMy4wOTY3NzQxOSIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiM4MUI1QTEiIHg9IjUiIHk9IjIxIiB3aWR0aD0iMTEiIGhlaWdodD0iNCIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiM4MUI1QTEiIHg9IjUiIHk9IjMyIiB3aWR0aD0iMTEiIGhlaWdodD0iNCIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiM4MUI1QTEiIHg9IjUiIHk9IjQyIiB3aWR0aD0iMTEiIGhlaWdodD0iNCIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiM0NzY2N0EiIGN4PSI0OSIgY3k9IjQ5IiByPSIxNSI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTAuNDE0MTIwNiw0MS41NTMwNjYzIEM0OS42NjAzNTA4LDQwLjgxNTY0NDYgNDguMzM5ODMxMyw0MC44MTU2NDQ2IDQ3LjU4NjA2MTUsNDEuNTUzMDY2MyBMNDEuMzkwMjE1NSw0Ny42MDgxMjUzIEM0MS4wMDkwNjM5LDQ3Ljk4MDY1ODggNDAuODk1Mjg3NCw0OC41NDE1NDQgNDEuMTAxNTA3NCw0OS4wMjgwNjE2IEM0MS4zMDc3Mjc1LDQ5LjUxNTI3NDMgNDEuNzk0ODMzNSw0OS44MzIyMDU3IDQyLjMzMzEzODksNDkuODMyMjA1NyBMNDUuMzMzMjg1Miw0OS44MzIyMDU3IEw0NS4zMzMyODUyLDU1LjMwNjIyMzcgQzQ1LjMzMzI4NTIsNTYuMjM3NTU3NCA0Ni4xMTMzNjU5LDU3IDQ3LjA2Njk1NTgsNTcgTDUwLjkzMzkzNzQsNTcgQzUxLjg4NzUyNzQsNTcgNTIuNjY3NjA4MSw1Ni4yMzc1NTc0IDUyLjY2NzYwODEsNTUuMzA2MjIzNyBMNTIuNjY3NjA4MSw0OS44MzIyMDU3IEw1NS42Njc3NTQzLDQ5LjgzMjIwNTcgQzU2LjIwNjc3MDksNDkuODMyMjA1NyA1Ni42OTI0NTQ3LDQ5LjUxNTI3NDMgNTYuODk4Njc0Nyw0OS4wMjgwNjE2IEM1Ny4xMDQ4OTQ4LDQ4LjU0MTU0NCA1Ni45OTA0MDcxLDQ3Ljk4MDY1ODggNTYuNjA5MjU1NSw0Ny42MDgxMjUzIEw1MC40MTQxMjA2LDQxLjU1MzA2NjMgWiIgaWQ9IlBhdGgiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-wizard-source-page.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl,h2{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl,h2{margin-block-start:1.5rem}.now-m-block-end--xl,h1{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.body-container{display:flex;justify-content:center}.body-container sn-aow-tile-button{margin:0 1.5rem}.custom-header{margin:0 auto}h2{margin-block-start:3rem;font-size:1.25rem;color:RGB(var(--now-color--primary-1,30,133,109))}h1,h2{font-weight:bolder}h1{margin:1.5rem 0;font-size:2rem}h1,span{color:RGB(var(--now-color--neutral-18,22,27,28))}span{font-weight:lighter;font-size:1.25rem}\", \"\"]);\n\n// exports\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\n\nimport { t } from 'sn-translate';\nimport '@servicenow/now-input';\nimport '@servicenow/now-checkbox';\nimport { generateStyleToolTipContent } from 'sn-app-object-wizard-components';\n\nimport {\n\tgenerateStartingNumberError,\n\tvalidateDetails\n} from '../../helpers/spreadsheet-row-validation';\nimport fieldValidationHelpers from '../../helpers/table-field-validations';\n\nimport { NO_DOTS_REGEX_STRING } from '../../helpers/error-constants';\n\nimport styles from './sn-table-wizard-spreadsheet-page.scss';\nimport { uploadFileToHelper, getSheetNames } from './utils';\nimport {\n\tUPLOAD_FILE_TO_HELPER_REQUESTED,\n\tUPLOAD_FILE_TO_HELPER_IN_PROGRESS,\n\tUPLOAD_FILE_TO_HELPER_FAILED,\n\tUPLOAD_FILE_TO_HELPER_SUCCEEDED,\n\tHELPER_TABLE,\n\tPARSE_FILE_REQUESTED,\n\tPARSE_FILE_IN_PROGRESS,\n\tPARSE_FILE_SUCCEEDED,\n\tPARSE_FILE_FAILED\n} from './constants';\nimport { VALIDATE } from '../../constants';\n\nconst { isAttrInvalid } = fieldValidationHelpers;\n\ncreateCustomElement('sn-table-wizard-spreadsheet-page', {\n\tview: (state, { dispatch }) => {\n\t\tconst {\n\t\t\theaderNumber,\n\t\t\timportDataCheckbox,\n\t\t\tsheets,\n\t\t\tattachmentId,\n\t\t\tinProgress,\n\t\t\tprocessLabel,\n\t\t\tfileParsed,\n\t\t\terrors,\n\t\t\tisFormValid,\n\t\t\tproperties: {\n\t\t\t\twizardContext: {\n\t\t\t\t\tfileUpload = {\n\t\t\t\t\t\thasSelectedFile: false,\n\t\t\t\t\t\tselectedFile: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} = state;\n\n\t\treturn (\n\t\t\t<sn-guided-wizard-page\n\t\t\t\tonPrimaryClick={() => {\n\t\t\t\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', {\n\t\t\t\t\t\theaderNumber,\n\t\t\t\t\t\timportDataCheckbox,\n\t\t\t\t\t\tfileUpload,\n\t\t\t\t\t\tsheets,\n\t\t\t\t\t\tattachmentId\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tprimaryDisabled={!fileParsed || !isFormValid}\n\t\t\t\tonSecondaryClick={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\trunning-header-text={t('ADD DATA')}\n\t\t\t\theaderText={\n\t\t\t\t\tfileUpload.hasSelectedFile\n\t\t\t\t\t\t? t(\"Nice choice. Here's what you chose\")\n\t\t\t\t\t\t: t(\"Let's choose the spreadsheet you want to upload\")\n\t\t\t\t}\n\t\t\t\tsubheaderText={\n\t\t\t\t\tfileUpload.hasSelectedFile\n\t\t\t\t\t\t? t(\"Next, we're going to configure the column headers.\")\n\t\t\t\t\t\t: t(\n\t\t\t\t\t\t\t\t\"This spreadsheet will be a table in your app. If there are multiple worksheets in your spreadsheet, we'll use the first one to create the table.\"\n\t\t\t\t\t\t  )\n\t\t\t\t}\n\t\t\t\tonPrevious={() => dispatch('SN_GUIDED_WIZARD#PREVIOUS')}\n\t\t\t\tonClose={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\tmaxWidth=\"680px\">\n\t\t\t\t<sn-aow-file-uploader-spreadsheet\n\t\t\t\t\tselectedFile={fileUpload.selectedFile}\n\t\t\t\t\tlabel={t('Drag and drop or browse to upload spreadsheet')}\n\t\t\t\t\tloading={inProgress}\n\t\t\t\t\tloadingText={processLabel}\n\t\t\t\t/>\n\t\t\t\t{fileUpload.hasSelectedFile && sheets.length === 1 ? (\n\t\t\t\t\t<div className=\"sn-table-spreadsheet-inputs\">\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tclassName=\"header-number-input\"\n\t\t\t\t\t\t\tname=\"headerNumber\"\n\t\t\t\t\t\t\tvalue={headerNumber}\n\t\t\t\t\t\t\tlabel={t('Enter a row number for the table header')}\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tpattern={NO_DOTS_REGEX_STRING}\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'Enter the row number in which the column headers are located. For example, if the column headers are in the second row of your spreadsheet, you would enter 2.'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tmessages={\n\t\t\t\t\t\t\t\tisAttrInvalid(errors, 'headerNumber')\n\t\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: errors.headerNumber.message\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<sn-aow-checkbox-tooltip\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'To include the data that is after the column headers in your spreadsheet, select this option'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\t\t\tslot=\"AOW_CHECKBOX_TOOLTIP#CHECKBOX_SLOT\"\n\t\t\t\t\t\t\t\tclassName=\"import-data-checkbox\"\n\t\t\t\t\t\t\t\tname=\"importDataCheckbox\"\n\t\t\t\t\t\t\t\tlabel={t('Import spreadsheet data')}\n\t\t\t\t\t\t\t\tchecked={importDataCheckbox}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</sn-aow-checkbox-tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</sn-guided-wizard-page>\n\t\t);\n\t},\n\tinitialState: {\n\t\theaderNumber: 1,\n\t\timportDataCheckbox: false,\n\t\tsheets: [],\n\t\tattachmentId: undefined,\n\t\tinProgress: false,\n\t\tprocessLabel: '',\n\t\tfileParsed: false,\n\t\terrors: {\n\t\t\theaderNumber: {\n\t\t\t\tmessage: null\n\t\t\t}\n\t\t},\n\t\tisFormValid: true\n\t},\n\tproperties: {\n\t\twizardContext: {}\n\t},\n\tactionHandlers: {\n\t\t[actionTypes.COMPONENT_DOM_READY]: ({\n\t\t\tproperties: {\n\t\t\t\twizardContext: {\n\t\t\t\t\tfileUpload = {},\n\t\t\t\t\tsheets,\n\t\t\t\t\tattachmentId,\n\t\t\t\t\timportDataCheckbox,\n\t\t\t\t\theaderNumber\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tif (fileUpload.hasSelectedFile) {\n\t\t\t\tupdateState({\n\t\t\t\t\tsheets,\n\t\t\t\t\tattachmentId,\n\t\t\t\t\timportDataCheckbox,\n\t\t\t\t\theaderNumber,\n\t\t\t\t\tfileParsed: true\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t['NOW_INPUT#VALUE_SET']: ({\n\t\t\tupdateState,\n\t\t\taction: { payload, stopPropagation }\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { value, name } = payload;\n\t\t\tupdateState({ [name]: value });\n\t\t},\n\t\t['NOW_CHECKBOX#CHECKED_SET']: ({\n\t\t\tupdateState,\n\t\t\taction: { payload, stopPropagation }\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { value, name } = payload;\n\t\t\tupdateState({ [name]: value });\n\t\t},\n\t\t['NOW_INPUT#INVALID_SET']: ({\n\t\t\taction: { payload, stopPropagation },\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { name, fieldValue } = payload;\n\t\t\tlet message = null;\n\n\t\t\tif (name === 'headerNumber') {\n\t\t\t\tmessage = generateStartingNumberError(fieldValue);\n\t\t\t}\n\n\t\t\t// INVALID_SET is fired on every input blur, can reliably capture `isDirty` state\n\t\t\tupdateState({\n\t\t\t\tpath: `errors.${name}`,\n\t\t\t\tvalue: { isDirty: true, message },\n\t\t\t\toperation: 'set'\n\t\t\t});\n\n\t\t\tdispatch(VALIDATE);\n\t\t},\n\t\t[VALIDATE]: ({ updateState }) => {\n\t\t\tupdateState(({ state }) => {\n\t\t\t\tconst isFormValid = validateDetails(state);\n\t\t\t\treturn { isFormValid };\n\t\t\t});\n\t\t},\n\t\t['AOW_FILE_UPLOADER#FILE_SET']: ({\n\t\t\tproperties: {\n\t\t\t\twizardContext: { fileUpload }\n\t\t\t},\n\t\t\taction: { payload },\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\tfileUpload: {\n\t\t\t\t\t...fileUpload,\n\t\t\t\t\tselectedFile: payload,\n\t\t\t\t\thasSelectedFile: !!payload\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdispatch(UPLOAD_FILE_TO_HELPER_REQUESTED, payload);\n\t\t},\n\t\t[UPLOAD_FILE_TO_HELPER_REQUESTED]: async ({\n\t\t\taction: { payload },\n\t\t\tdispatch,\n\t\t\tproperties: { wizardContext }\n\t\t}) => {\n\t\t\tdispatch(UPLOAD_FILE_TO_HELPER_IN_PROGRESS);\n\n\t\t\tconst response = await uploadFileToHelper(\n\t\t\t\tpayload,\n\t\t\t\twizardContext.app.sys_id\n\t\t\t);\n\n\t\t\tif (response.isError) {\n\t\t\t\tdispatch(UPLOAD_FILE_TO_HELPER_FAILED, response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { attachmentId, helperRecordId } = response;\n\t\t\t// Note: Use helperRecordId for cleanup, we should not delete record upon `delete` button.\n\t\t\t// we need that record in next pages. So created cleanUpRecords do it at the end. recordId and table pair\n\t\t\tconst { cleanUpRecords = {} } = wizardContext;\n\t\t\tconst newCleanUpRecords = {\n\t\t\t\t...cleanUpRecords,\n\t\t\t\t[helperRecordId]: HELPER_TABLE\n\t\t\t};\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\tcleanUpRecords: newCleanUpRecords\n\t\t\t});\n\t\t\tdispatch(UPLOAD_FILE_TO_HELPER_SUCCEEDED, {\n\t\t\t\tattachmentId,\n\t\t\t\thelperRecordId\n\t\t\t});\n\t\t},\n\t\t[UPLOAD_FILE_TO_HELPER_IN_PROGRESS]: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tinProgress: true,\n\t\t\t\tprocessLabel: t('Uploading file')\n\t\t\t});\n\t\t},\n\t\t[UPLOAD_FILE_TO_HELPER_SUCCEEDED]: ({ action, updateState, dispatch }) => {\n\t\t\tconst {\n\t\t\t\tpayload: { attachmentId }\n\t\t\t} = action;\n\t\t\tupdateState({ attachmentId });\n\t\t\tdispatch(PARSE_FILE_REQUESTED, { attachmentId });\n\t\t},\n\t\t[UPLOAD_FILE_TO_HELPER_FAILED]: ({\n\t\t\taction: { payload },\n\t\t\tdispatch,\n\t\t\tupdateState\n\t\t}) => {\n\t\t\t// Failing to upload the spreadsheet as an attachment\n\t\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_WARNING', {\n\t\t\t\t...payload.error,\n\t\t\t\tdetail: t('Unable to upload file. {0}', payload.error.message)\n\t\t\t});\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\tfileUpload: {\n\t\t\t\t\tselectedFile: null,\n\t\t\t\t\thasSelectedFile: false\n\t\t\t\t},\n\t\t\t\tsheets: [],\n\t\t\t\ttable: {}\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tsheets: [],\n\t\t\t\tattachmentId: undefined,\n\t\t\t\tinProgress: false,\n\t\t\t\tprocessLabel: t('Upload failed'),\n\t\t\t\tfileParsed: false\n\t\t\t});\n\t\t},\n\t\t[PARSE_FILE_REQUESTED]: async ({\n\t\t\taction: { payload },\n\t\t\tdispatch,\n\t\t\tproperties: { wizardContext }\n\t\t}) => {\n\t\t\tdispatch(PARSE_FILE_IN_PROGRESS);\n\n\t\t\tconst { attachmentId } = payload;\n\n\t\t\tconst response = await getSheetNames(\n\t\t\t\tattachmentId,\n\t\t\t\twizardContext.app.sys_id\n\t\t\t);\n\n\t\t\tif (response.isError) {\n\t\t\t\tdispatch(PARSE_FILE_FAILED, response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { sheets } = response;\n\t\t\tdispatch(PARSE_FILE_SUCCEEDED, { sheets });\n\t\t},\n\t\t[PARSE_FILE_IN_PROGRESS]: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tinProgress: true,\n\t\t\t\tprocessLabel: t('Parsing file')\n\t\t\t});\n\t\t},\n\t\t[PARSE_FILE_SUCCEEDED]: ({\n\t\t\taction: { payload },\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst { sheets } = payload;\n\t\t\tupdateState({\n\t\t\t\tsheets,\n\t\t\t\tinProgress: false,\n\t\t\t\tfileParsed: true\n\t\t\t});\n\t\t\tdispatch(VALIDATE);\n\t\t},\n\t\t[PARSE_FILE_FAILED]: ({ action: { payload }, dispatch, updateState }) => {\n\t\t\t// Failing to determine how many sheets are in the file\n\t\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_WARNING', {\n\t\t\t\t...payload.error,\n\t\t\t\tdetail: t(\n\t\t\t\t\t'Unable to go through the multiple worksheets within the file.'\n\t\t\t\t)\n\t\t\t});\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\tfileUpload: {\n\t\t\t\t\tselectedFile: null,\n\t\t\t\t\thasSelectedFile: false\n\t\t\t\t},\n\t\t\t\tsheets: [],\n\t\t\t\ttable: {}\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tsheets: [],\n\t\t\t\tattachmentId: undefined,\n\t\t\t\tinProgress: false,\n\t\t\t\tprocessLabel: t('Parse failed'),\n\t\t\t\tfileParsed: false,\n\t\t\t\terrors: {\n\t\t\t\t\theaderNumber: {\n\t\t\t\t\t\tisDirty: false,\n\t\t\t\t\t\tmessage: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t['AOW_FILE_UPLOADER#FILE_REMOVE']: ({ dispatch, updateState }) => {\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\tfileUpload: {\n\t\t\t\t\tselectedFile: null,\n\t\t\t\t\thasSelectedFile: false\n\t\t\t\t},\n\t\t\t\tsheets: [],\n\t\t\t\ttable: {}\n\t\t\t});\n\t\t\tupdateState({\n\t\t\t\tfileParsed: false,\n\t\t\t\tsheets: [],\n\t\t\t\tattachmentId: undefined\n\t\t\t});\n\t\t},\n\t\t['AOW_FILE_UPLOADER#FILETYPE_ERROR']: ({ dispatch, action: { payload } }) => {\n\t\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_WARNING', {\n\t\t\t\tdetail: payload.error\n\t\t\t});\n\t\t\t// Not even sure if this action is ever dispatched but just to be sure:\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\tfileUpload: {\n\t\t\t\t\tselectedFile: null,\n\t\t\t\t\thasSelectedFile: false\n\t\t\t\t},\n\t\t\t\tsheets: [],\n\t\t\t\ttable: {}\n\t\t\t});\n\t\t}\n\t},\n\tstyles\n});\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-wizard-spreadsheet-page.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.body-container{display:flex;justify-content:center}.sn-table-spreadsheet-inputs{margin-block-start:1.5rem;display:flex;justify-content:space-between;align-items:center}.header-number-input{min-height:5.125rem}\", \"\"]);\n\n// exports\n","import fetchHelper from '../../../helpers/fetch-helper';\nimport uploadAttachment from '../../../helpers/upload-attachment';\nimport { HELPER_TABLE } from './constants';\n\nexport const createAttachmentHelperRecord = async appId =>\n\tawait fetchHelper(\n\t\t`/api/now/table/${HELPER_TABLE}?sysparm_transaction_scope=${appId}`,\n\t\t{\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tapplication: appId\n\t\t\t})\n\t\t}\n\t);\n\nexport const getSheetNamesAPI = async (attachmentId, appId) =>\n\tawait fetchHelper(\n\t\t`/api/sn_table_builder/app/sheet_info/${attachmentId}?sysparm_transaction_scope=${appId}`\n\t);\n\n/**\n * returns attachmentId and sheets\n * on Error, isError will be true and will have only error response\n * @param {string} attachmentId\n * @param {string} appId\n * @returns {{ isError: boolean, error: Object, sheets: Array.<{ sheetName: string, number: number }> }}\n */\nexport const getSheetNames = async (attachmentId, appId) => {\n\tconst sheetsResponse = await getSheetNamesAPI(attachmentId, appId);\n\n\tif (sheetsResponse.isError) {\n\t\treturn sheetsResponse;\n\t}\n\n\treturn {\n\t\tisError: false,\n\t\tsheets: transformSheets(sheetsResponse.result)\n\t};\n};\n\n/**\n * Uploads file to helper and give attachmentId and helperRecordId\n * @param {string} appId\n * @param {object} selectedFile\n */\nexport async function uploadFileToHelper(selectedFile, appId) {\n\t// Create helper record\n\tconst recordResponse = await createAttachmentHelperRecord(appId);\n\n\tif (recordResponse.isError) {\n\t\treturn recordResponse; // fetchHelper already gives error response\n\t}\n\n\t// Upload file to helper record\n\tconst helperRecordId = recordResponse.result.sys_id;\n\tconst uploadResponse = await uploadToHelper(\n\t\tappId,\n\t\thelperRecordId,\n\t\tselectedFile\n\t);\n\n\tif (uploadResponse.isError) {\n\t\treturn uploadResponse;\n\t}\n\n\tconst { attachmentId } = uploadResponse;\n\n\treturn {\n\t\tisError: false,\n\t\tattachmentId,\n\t\thelperRecordId\n\t};\n}\n\nasync function uploadToHelper(appId, sysId, file) {\n\ttry {\n\t\tconst {\n\t\t\tresult: { sys_id: attachmentId }\n\t\t} = await uploadAttachment(\n\t\t\t`/api/now/attachment/upload?sysparm_transaction_scope=${appId}`,\n\t\t\tfile,\n\t\t\t{\n\t\t\t\ttable_name: HELPER_TABLE,\n\t\t\t\ttable_sys_id: sysId,\n\t\t\t\tfile_name: file.name\n\t\t\t}\n\t\t);\n\t\treturn { isError: false, attachmentId };\n\t} catch (msg) {\n\t\treturn {\n\t\t\tisError: true,\n\t\t\terror: {\n\t\t\t\tmessage: msg\n\t\t\t}\n\t\t};\n\t}\n}\n\n// transform to support table ui\nfunction transformSheets(sheets) {\n\treturn sheets.map(sheet => ({\n\t\tname: sheet.sheetName,\n\t\tnumber: sheet.sheetNumber,\n\t\ttable: {}\n\t}));\n}\n","import FileApi from 'fileapi';\nimport authToken from './get-auth-token';\n\nexport default function uploadAttachment(url, file, reqBody) {\n\treturn new Promise((resolve, reject) => {\n\t\tFileApi.upload({\n\t\t\turl,\n\t\t\theaders: { 'x-upload': 'fileapi', ...authToken },\n\t\t\tdata: reqBody,\n\t\t\tfiles: [file],\n\t\t\tcomplete: (error, xhr) => {\n\t\t\t\tif (error || !xhr.response) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\tconst response = JSON.parse(xhr.response);\n\t\t\t\tresolve(response);\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport function deleteAttachment({ attachmentSysId, appId }) {\n\treturn fetch(\n\t\t`/api/now/attachment/${attachmentSysId}?sysparm_transaction_scope=${appId}`,\n\t\t{\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: authToken\n\t\t}\n\t);\n}\n","/*! FileAPI 2.0.25 - BSD | git://github.com/mailru/FileAPI.git\n * FileAPI  a set of  javascript tools for working with files. Multiupload, drag'n'drop and chunked file upload. Images: crop, resize and auto orientation by EXIF.\n */\n\n/*\n * JavaScript Canvas to Blob 2.0.5\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n\n/*jslint nomen: true, regexp: true */\n/*global window, atob, Blob, ArrayBuffer, Uint8Array */\n\n(function (window) {\n    'use strict';\n    var CanvasPrototype = window.HTMLCanvasElement &&\n            window.HTMLCanvasElement.prototype,\n        hasBlobConstructor = window.Blob && (function () {\n            try {\n                return Boolean(new Blob());\n            } catch (e) {\n                return false;\n            }\n        }()),\n        hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&\n            (function () {\n                try {\n                    return new Blob([new Uint8Array(100)]).size === 100;\n                } catch (e) {\n                    return false;\n                }\n            }()),\n        BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\n            window.MozBlobBuilder || window.MSBlobBuilder,\n        dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&\n            window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n                var byteString,\n                    arrayBuffer,\n                    intArray,\n                    i,\n                    mimeString,\n                    bb;\n                if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n                    // Convert base64 to raw binary data held in a string:\n                    byteString = atob(dataURI.split(',')[1]);\n                } else {\n                    // Convert base64/URLEncoded data component to raw binary data:\n                    byteString = decodeURIComponent(dataURI.split(',')[1]);\n                }\n                // Write the bytes of the string to an ArrayBuffer:\n                arrayBuffer = new ArrayBuffer(byteString.length);\n                intArray = new Uint8Array(arrayBuffer);\n                for (i = 0; i < byteString.length; i += 1) {\n                    intArray[i] = byteString.charCodeAt(i);\n                }\n                // Separate out the mime component:\n                mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n                // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n                if (hasBlobConstructor) {\n                    return new Blob(\n                        [hasArrayBufferViewSupport ? intArray : arrayBuffer],\n                        {type: mimeString}\n                    );\n                }\n                bb = new BlobBuilder();\n                bb.append(arrayBuffer);\n                return bb.getBlob(mimeString);\n            };\n    if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n        if (CanvasPrototype.mozGetAsFile) {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n                if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                    callback(dataURLtoBlob(this.toDataURL(type, quality)));\n                } else {\n                    callback(this.mozGetAsFile('blob', type));\n                }\n            };\n        } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n            CanvasPrototype.toBlob = function (callback, type, quality) {\n                callback(dataURLtoBlob(this.toDataURL(type, quality)));\n            };\n        }\n    }\n    window.dataURLtoBlob = dataURLtoBlob;\n})(window);\n\n/*jslint evil: true */\n/*global window, URL, webkitURL, ActiveXObject */\n\n(function (window, undef){\n\t'use strict';\n\n\tvar\n\t\tgid = 1,\n\t\tnoop = function (){},\n\n\t\tdocument = window.document,\n\t\tdoctype = document.doctype || {},\n\t\tuserAgent = window.navigator.userAgent,\n\t\tsafari = /safari\\//i.test(userAgent) && !/chrome\\//i.test(userAgent),\n\t\tiemobile = /iemobile\\//i.test(userAgent),\n\t\tinsecureChrome = !safari && /chrome\\//i.test(userAgent) && window.location.protocol === 'http:',\n\n\t\t// https://github.com/blueimp/JavaScript-Load-Image/blob/master/load-image.js#L48\n\t\tapiURL = (window.createObjectURL && window) || (window.URL && URL.revokeObjectURL && URL) || (window.webkitURL && webkitURL),\n\n\t\tBlob = window.Blob,\n\t\tFile = window.File,\n\t\tFileReader = window.FileReader,\n\t\tFormData = window.FormData,\n\n\n\t\tXMLHttpRequest = window.XMLHttpRequest,\n\t\tjQuery = window.jQuery,\n\n\t\thtml5 =    !!(File && (FileReader && (window.Uint8Array || FormData || XMLHttpRequest.prototype.sendAsBinary)))\n\t\t\t\t&& !(safari && /windows/i.test(userAgent) && !iemobile), // BugFix: https://github.com/mailru/FileAPI/issues/25\n\n\t\tcors = html5 && ('withCredentials' in (new XMLHttpRequest)),\n\n\t\tchunked = html5 && !!Blob && !!(Blob.prototype.webkitSlice || Blob.prototype.mozSlice || Blob.prototype.slice),\n\n\t\tnormalize = ('' + ''.normalize).indexOf('[native code]') > 0,\n\n\t\t// https://github.com/blueimp/JavaScript-Canvas-to-Blob\n\t\tdataURLtoBlob = window.dataURLtoBlob,\n\n\n\t\t_rimg = /img/i,\n\t\t_rcanvas = /canvas/i,\n\t\t_rimgcanvas = /img|canvas/i,\n\t\t_rinput = /input/i,\n\t\t_rdata = /^data:[^,]+,/,\n\n\t\t_toString = {}.toString,\n\t\t_supportConsoleLog,\n\t\t_supportConsoleLogApply,\n\n\n\t\tMath = window.Math,\n\n\t\t_SIZE_CONST = function (pow){\n\t\t\tpow = new window.Number(Math.pow(1024, pow));\n\t\t\tpow.from = function (sz){ return Math.round(sz * this); };\n\t\t\treturn\tpow;\n\t\t},\n\n\t\t_elEvents = {}, // element event listeners\n\t\t_infoReader = [], // list of file info processors\n\n\t\t_readerEvents = 'abort progress error load loadend',\n\t\t_xhrPropsExport = 'status statusText readyState response responseXML responseText responseBody'.split(' '),\n\n\t\tcurrentTarget = 'currentTarget', // for minimize\n\t\tpreventDefault = 'preventDefault', // and this too\n\n\t\t_isArray = function (ar) {\n\t\t\treturn\tar && ('length' in ar);\n\t\t},\n\n\t\t/**\n\t\t * Iterate over a object or array\n\t\t */\n\t\t_each = function (obj, fn, ctx){\n\t\t\tif( obj ){\n\t\t\t\tif( _isArray(obj) ){\n\t\t\t\t\tfor( var i = 0, n = obj.length; i < n; i++ ){\n\t\t\t\t\t\tif( i in obj ){\n\t\t\t\t\t\t\tfn.call(ctx, obj[i], i, obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfor( var key in obj ){\n\t\t\t\t\t\tif( obj.hasOwnProperty(key) ){\n\t\t\t\t\t\t\tfn.call(ctx, obj[key], key, obj);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Merge the contents of two or more objects together into the first object\n\t\t */\n\t\t_extend = function (dst){\n\t\t\tvar args = arguments, i = 1, _ext = function (val, key){ dst[key] = val; };\n\t\t\tfor( ; i < args.length; i++ ){\n\t\t\t\t_each(args[i], _ext);\n\t\t\t}\n\t\t\treturn  dst;\n\t\t},\n\n\t\t/**\n\t\t * Add event listener\n\t\t */\n\t\t_on = function (el, type, fn){\n\t\t\tif( el ){\n\t\t\t\tvar uid = api.uid(el);\n\n\t\t\t\tif( !_elEvents[uid] ){\n\t\t\t\t\t_elEvents[uid] = {};\n\t\t\t\t}\n\n\t\t\t\tvar isFileReader = (FileReader && el) && (el instanceof FileReader);\n\t\t\t\t_each(type.split(/\\s+/), function (type){\n\t\t\t\t\tif( jQuery && !isFileReader){\n\t\t\t\t\t\tjQuery.event.add(el, type, fn);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif( !_elEvents[uid][type] ){\n\t\t\t\t\t\t\t_elEvents[uid][type] = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_elEvents[uid][type].push(fn);\n\n\t\t\t\t\t\tif( el.addEventListener ){ el.addEventListener(type, fn, false); }\n\t\t\t\t\t\telse if( el.attachEvent ){ el.attachEvent('on'+type, fn); }\n\t\t\t\t\t\telse { el['on'+type] = fn; }\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Remove event listener\n\t\t */\n\t\t_off = function (el, type, fn){\n\t\t\tif( el ){\n\t\t\t\tvar uid = api.uid(el), events = _elEvents[uid] || {};\n\n\t\t\t\tvar isFileReader = (FileReader && el) && (el instanceof FileReader);\n\t\t\t\t_each(type.split(/\\s+/), function (type){\n\t\t\t\t\tif( jQuery && !isFileReader){\n\t\t\t\t\t\tjQuery.event.remove(el, type, fn);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar fns = events[type] || [], i = fns.length;\n\n\t\t\t\t\t\twhile( i-- ){\n\t\t\t\t\t\t\tif( fns[i] === fn ){\n\t\t\t\t\t\t\t\tfns.splice(i, 1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( el.addEventListener ){ el.removeEventListener(type, fn, false); }\n\t\t\t\t\t\telse if( el.detachEvent ){ el.detachEvent('on'+type, fn); }\n\t\t\t\t\t\telse { el['on'+type] = null; }\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\n\t\t_one = function(el, type, fn){\n\t\t\t_on(el, type, function _(evt){\n\t\t\t\t_off(el, type, _);\n\t\t\t\tfn(evt);\n\t\t\t});\n\t\t},\n\n\n\t\t_fixEvent = function (evt){\n\t\t\tif( !evt.target ){ evt.target = window.event && window.event.srcElement || document; }\n\t\t\tif( evt.target.nodeType === 3 ){ evt.target = evt.target.parentNode; }\n\t\t\treturn  evt;\n\t\t},\n\n\n\t\t_supportInputAttr = function (attr){\n\t\t\tvar input = document.createElement('input');\n\t\t\tinput.setAttribute('type', \"file\");\n\t\t\treturn attr in input;\n\t\t},\n\n\n\t\t/**\n\t\t * FileAPI (core object)\n\t\t */\n\t\tapi = {\n\t\t\tversion: '2.0.25',\n\n\t\t\tcors: false,\n\t\t\thtml5: true,\n\t\t\tmedia: false,\n\t\t\tformData: true,\n\t\t\tmultiPassResize: true,\n\t\t\tinsecureChrome: insecureChrome,\n\n\t\t\tdebug: false,\n\t\t\tpingUrl: false,\n\t\t\tmultiFlash: false,\n\t\t\tflashAbortTimeout: 0,\n\t\t\twithCredentials: true,\n\n\t\t\tstaticPath: './dist/',\n\n\t\t\tflashUrl: 0, // @default: './FileAPI.flash.swf'\n\t\t\tflashImageUrl: 0, // @default: './FileAPI.flash.image.swf'\n\n\t\t\tpostNameConcat: function (name, idx){\n\t\t\t\treturn\tname + (idx != null ? '['+ idx +']' : '');\n\t\t\t},\n\n\t\t\text2mime: {\n\t\t\t\t  jpg:\t'image/jpeg'\n\t\t\t\t, tif:\t'image/tiff'\n\t\t\t\t, txt:\t'text/plain'\n\t\t\t},\n\n\t\t\t// Fallback for flash\n\t\t\taccept: {\n\t\t\t\t  'image/*': 'art bm bmp dwg dxf cbr cbz fif fpx gif ico iefs jfif jpe jpeg jpg jps jut mcf nap nif pbm pcx pgm pict pm png pnm qif qtif ras rast rf rp svf tga tif tiff xbm xbm xpm xwd'\n\t\t\t\t, 'audio/*': 'm4a flac aac rm mpa wav wma ogg mp3 mp2 m3u mod amf dmf dsm far gdm imf it m15 med okt s3m stm sfx ult uni xm sid ac3 dts cue aif aiff wpl ape mac mpc mpp shn wv nsf spc gym adplug adx dsp adp ymf ast afc hps xs'\n\t\t\t\t, 'video/*': 'm4v 3gp nsv ts ty strm rm rmvb m3u ifo mov qt divx xvid bivx vob nrg img iso pva wmv asf asx ogm m2v avi bin dat dvr-ms mpg mpeg mp4 mkv avc vp3 svq3 nuv viv dv fli flv wpl'\n\t\t\t},\n\n\t\t\tuploadRetry : 0,\n\t\t\tnetworkDownRetryTimeout : 5000, // milliseconds, don't flood when network is down\n\n\t\t\tchunkSize : 0,\n\t\t\tchunkUploadRetry : 0,\n\t\t\tchunkNetworkDownRetryTimeout : 2000, // milliseconds, don't flood when network is down\n\n\t\t\tKB: _SIZE_CONST(1),\n\t\t\tMB: _SIZE_CONST(2),\n\t\t\tGB: _SIZE_CONST(3),\n\t\t\tTB: _SIZE_CONST(4),\n\n\t\t\tEMPTY_PNG: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=',\n\n\t\t\texpando: 'fileapi' + (new Date).getTime(),\n\n\t\t\tuid: function (obj){\n\t\t\t\treturn\tobj\n\t\t\t\t\t? (obj[api.expando] = obj[api.expando] || api.uid())\n\t\t\t\t\t: (++gid, api.expando + gid)\n\t\t\t\t;\n\t\t\t},\n\n\t\t\tlog: function (){\n\t\t\t\tif( api.debug && _supportConsoleLog ){\n\t\t\t\t\tif( _supportConsoleLogApply ){\n\t\t\t\t\t\tconsole.log.apply(console, arguments);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.log([].join.call(arguments, ' '));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Create new image\n\t\t\t *\n\t\t\t * @param {String} [src]\n\t\t\t * @param {Function} [fn]   1. error -- boolean, 2. img -- Image element\n\t\t\t * @returns {HTMLElement}\n\t\t\t */\n\t\t\tnewImage: function (src, fn){\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\tif( fn ){\n\t\t\t\t\tapi.event.one(img, 'error load', function (evt){\n\t\t\t\t\t\tfn(evt.type == 'error', img);\n\t\t\t\t\t\timg = null;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\timg.src = src;\n\t\t\t\treturn\timg;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Get XHR\n\t\t\t * @returns {XMLHttpRequest}\n\t\t\t */\n\t\t\tgetXHR: function (){\n\t\t\t\tvar xhr;\n\n\t\t\t\tif( XMLHttpRequest ){\n\t\t\t\t\txhr = new XMLHttpRequest;\n\t\t\t\t}\n\t\t\t\telse if( window.ActiveXObject ){\n\t\t\t\t\ttry {\n\t\t\t\t\t\txhr = new ActiveXObject('MSXML2.XMLHttp.3.0');\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\txhr = new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn  xhr;\n\t\t\t},\n\n\t\t\tisArray: _isArray,\n\n\t\t\tsupport: {\n\t\t\t\tdnd:     cors && ('ondrop' in document.createElement('div')),\n\t\t\t\tcors:    cors,\n\t\t\t\thtml5:   html5,\n\t\t\t\tchunked: chunked,\n\t\t\t\tdataURI: true,\n\t\t\t\taccept:   _supportInputAttr('accept'),\n\t\t\t\tmultiple: _supportInputAttr('multiple')\n\t\t\t},\n\n\t\t\tevent: {\n\t\t\t\t  on: _on\n\t\t\t\t, off: _off\n\t\t\t\t, one: _one\n\t\t\t\t, fix: _fixEvent\n\t\t\t},\n\n\n\t\t\tthrottle: function(fn, delay) {\n\t\t\t\tvar id, args;\n\n\t\t\t\treturn function _throttle(){\n\t\t\t\t\targs = arguments;\n\n\t\t\t\t\tif( !id ){\n\t\t\t\t\t\tfn.apply(window, args);\n\t\t\t\t\t\tid = setTimeout(function (){\n\t\t\t\t\t\t\tid = 0;\n\t\t\t\t\t\t\tfn.apply(window, args);\n\t\t\t\t\t\t}, delay);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\n\t\t\tF: function (){},\n\n\n\t\t\tparseJSON: function (str){\n\t\t\t\tvar json;\n\t\t\t\tif( window.JSON && JSON.parse ){\n\t\t\t\t\tjson = JSON.parse(str);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tjson = (new Function('return ('+str.replace(/([\\r\\n])/g, '\\\\$1')+');'))();\n\t\t\t\t}\n\t\t\t\treturn json;\n\t\t\t},\n\n\n\t\t\ttrim: function (str){\n\t\t\t\tstr = String(str);\n\t\t\t\treturn\tstr.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Simple Defer\n\t\t\t * @return\t{Object}\n\t\t\t */\n\t\t\tdefer: function (){\n\t\t\t\tvar\n\t\t\t\t\t  list = []\n\t\t\t\t\t, result\n\t\t\t\t\t, error\n\t\t\t\t\t, defer = {\n\t\t\t\t\t\tresolve: function (err, res){\n\t\t\t\t\t\t\tdefer.resolve = noop;\n\t\t\t\t\t\t\terror\t= err || false;\n\t\t\t\t\t\t\tresult\t= res;\n\n\t\t\t\t\t\t\twhile( res = list.shift() ){\n\t\t\t\t\t\t\t\tres(error, result);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tthen: function (fn){\n\t\t\t\t\t\t\tif( error !== undef ){\n\t\t\t\t\t\t\t\tfn(error, result);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlist.push(fn);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn\tdefer;\n\t\t\t},\n\n\t\t\tqueue: function (fn){\n\t\t\t\tvar\n\t\t\t\t\t  _idx = 0\n\t\t\t\t\t, _length = 0\n\t\t\t\t\t, _fail = false\n\t\t\t\t\t, _end = false\n\t\t\t\t\t, queue = {\n\t\t\t\t\t\tinc: function (){\n\t\t\t\t\t\t\t_length++;\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tnext: function (){\n\t\t\t\t\t\t\t_idx++;\n\t\t\t\t\t\t\tsetTimeout(queue.check, 0);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tcheck: function (){\n\t\t\t\t\t\t\t(_idx >= _length) && !_fail && queue.end();\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tisFail: function (){\n\t\t\t\t\t\t\treturn _fail;\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tfail: function (){\n\t\t\t\t\t\t\t!_fail && fn(_fail = true);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tend: function (){\n\t\t\t\t\t\t\tif( !_end ){\n\t\t\t\t\t\t\t\t_end = true;\n\t\t\t\t\t\t\t\tfn();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t;\n\t\t\t\treturn queue;\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * For each object\n\t\t\t *\n\t\t\t * @param\t{Object|Array}\tobj\n\t\t\t * @param\t{Function}\t\tfn\n\t\t\t * @param\t{*}\t\t\t\t[ctx]\n\t\t\t */\n\t\t\teach: _each,\n\n\n\t\t\t/**\n\t\t\t * Async for\n\t\t\t * @param {Array} array\n\t\t\t * @param {Function} callback\n\t\t\t */\n\t\t\tafor: function (array, callback){\n\t\t\t\tvar i = 0, n = array.length;\n\n\t\t\t\tif( _isArray(array) && n-- ){\n\t\t\t\t\t(function _next(){\n\t\t\t\t\t\tcallback(n != i && _next, array[i], i++);\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallback(false);\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Merge the contents of two or more objects together into the first object\n\t\t\t *\n\t\t\t * @param\t{Object}\tdst\n\t\t\t * @return\t{Object}\n\t\t\t */\n\t\t\textend: _extend,\n\n\n\t\t\t/**\n\t\t\t * Is file?\n\t\t\t * @param  {File}  file\n\t\t\t * @return {Boolean}\n\t\t\t */\n\t\t\tisFile: function (file){\n\t\t\t\treturn _toString.call(file) === '[object File]';\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Is blob?\n\t\t\t * @param   {Blob}  blob\n\t\t\t * @returns {Boolean}\n\t\t\t */\n\t\t\tisBlob: function (blob) {\n\t\t\t\treturn this.isFile(blob) || (_toString.call(blob) === '[object Blob]');\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Is canvas element\n\t\t\t *\n\t\t\t * @param\t{HTMLElement}\tel\n\t\t\t * @return\t{Boolean}\n\t\t\t */\n\t\t\tisCanvas: function (el){\n\t\t\t\treturn\tel && _rcanvas.test(el.nodeName);\n\t\t\t},\n\n\n\t\t\tgetFilesFilter: function (filter){\n\t\t\t\tfilter = typeof filter == 'string' ? filter : (filter.getAttribute && filter.getAttribute('accept') || '');\n\t\t\t\treturn\tfilter ? new RegExp('('+ filter.replace(/\\./g, '\\\\.').replace(/,/g, '|') +')$', 'i') : /./;\n\t\t\t},\n\n\n\n\t\t\t/**\n\t\t\t * Read as DataURL\n\t\t\t *\n\t\t\t * @param {File|Element} file\n\t\t\t * @param {Function} fn\n\t\t\t */\n\t\t\treadAsDataURL: function (file, fn){\n\t\t\t\tif( api.isCanvas(file) ){\n\t\t\t\t\t_emit(file, fn, 'load', api.toDataURL(file));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t_readAs(file, fn, 'DataURL');\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Read as Binary string\n\t\t\t *\n\t\t\t * @param {File} file\n\t\t\t * @param {Function} fn\n\t\t\t */\n\t\t\treadAsBinaryString: function (file, fn){\n\t\t\t\tif( _hasSupportReadAs('BinaryString') ){\n\t\t\t\t\t_readAs(file, fn, 'BinaryString');\n\t\t\t\t} else {\n\t\t\t\t\t// Hello IE10!\n\t\t\t\t\t_readAs(file, function (evt){\n\t\t\t\t\t\tif( evt.type == 'load' ){\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t// dataURL -> binaryString\n\t\t\t\t\t\t\t\tevt.result = api.toBinaryString(evt.result);\n\t\t\t\t\t\t\t} catch (e){\n\t\t\t\t\t\t\t\tevt.type = 'error';\n\t\t\t\t\t\t\t\tevt.message = e.toString();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfn(evt);\n\t\t\t\t\t}, 'DataURL');\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Read as ArrayBuffer\n\t\t\t *\n\t\t\t * @param {File} file\n\t\t\t * @param {Function} fn\n\t\t\t */\n\t\t\treadAsArrayBuffer: function(file, fn){\n\t\t\t\t_readAs(file, fn, 'ArrayBuffer');\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Read as text\n\t\t\t *\n\t\t\t * @param {File} file\n\t\t\t * @param {String} encoding\n\t\t\t * @param {Function} [fn]\n\t\t\t */\n\t\t\treadAsText: function(file, encoding, fn){\n\t\t\t\tif( !fn ){\n\t\t\t\t\tfn\t= encoding;\n\t\t\t\t\tencoding = 'utf-8';\n\t\t\t\t}\n\n\t\t\t\t_readAs(file, fn, 'Text', encoding);\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Convert image or canvas to DataURL\n\t\t\t *\n\t\t\t * @param   {Element}  el      Image or Canvas element\n\t\t\t * @param   {String}   [type]  mime-type\n\t\t\t * @return  {String}\n\t\t\t */\n\t\t\ttoDataURL: function (el, type){\n\t\t\t\tif( typeof el == 'string' ){\n\t\t\t\t\treturn  el;\n\t\t\t\t}\n\t\t\t\telse if( el.toDataURL ){\n\t\t\t\t\treturn  el.toDataURL(type || 'image/png');\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Canvert string, image or canvas to binary string\n\t\t\t *\n\t\t\t * @param   {String|Element} val\n\t\t\t * @return  {String}\n\t\t\t */\n\t\t\ttoBinaryString: function (val){\n\t\t\t\treturn  window.atob(api.toDataURL(val).replace(_rdata, ''));\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Read file or DataURL as ImageElement\n\t\t\t *\n\t\t\t * @param\t{File|String}\tfile\n\t\t\t * @param\t{Function}\t\tfn\n\t\t\t * @param\t{Boolean}\t\t[progress]\n\t\t\t */\n\t\t\treadAsImage: function (file, fn, progress){\n\t\t\t\tif( api.isBlob(file) ){\n\t\t\t\t\tif( apiURL ){\n\t\t\t\t\t\t/** @namespace apiURL.createObjectURL */\n\t\t\t\t\t\tvar data = apiURL.createObjectURL(file);\n\t\t\t\t\t\tif( data === undef ){\n\t\t\t\t\t\t\t_emit(file, fn, 'error');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tapi.readAsImage(data, fn, progress);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tapi.readAsDataURL(file, function (evt){\n\t\t\t\t\t\t\tif( evt.type == 'load' ){\n\t\t\t\t\t\t\t\tapi.readAsImage(evt.result, fn, progress);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if( progress || evt.type == 'error' ){\n\t\t\t\t\t\t\t\t_emit(file, fn, evt, null, { loaded: evt.loaded, total: evt.total });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( api.isCanvas(file) ){\n\t\t\t\t\t_emit(file, fn, 'load', file);\n\t\t\t\t}\n\t\t\t\telse if( _rimg.test(file.nodeName) ){\n\t\t\t\t\tif( file.complete ){\n\t\t\t\t\t\t_emit(file, fn, 'load', file);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar events = 'error abort load';\n\t\t\t\t\t\t_one(file, events, function _fn(evt){\n\t\t\t\t\t\t\tif( evt.type == 'load' && apiURL ){\n\t\t\t\t\t\t\t\t/** @namespace apiURL.revokeObjectURL */\n\t\t\t\t\t\t\t\tapiURL.revokeObjectURL(file.src);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_off(file, events, _fn);\n\t\t\t\t\t\t\t_emit(file, fn, evt, file);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( file.iframe ){\n\t\t\t\t\t_emit(file, fn, { type: 'error' });\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Created image\n\t\t\t\t\tvar img = api.newImage(file.dataURL || file);\n\t\t\t\t\tapi.readAsImage(img, fn, progress);\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Make file by name\n\t\t\t *\n\t\t\t * @param\t{String}\tname\n\t\t\t * @return\t{Array}\n\t\t\t */\n\t\t\tcheckFileObj: function (name){\n\t\t\t\tvar file = {}, accept = api.accept;\n\n\t\t\t\tif( typeof name == 'object' ){\n\t\t\t\t\tfile = name;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfile.name = (name + '').split(/\\\\|\\//g).pop();\n\t\t\t\t}\n\n\t\t\t\tif( file.type == null ){\n\t\t\t\t\tfile.type = file.name.split('.').pop();\n\t\t\t\t}\n\n\t\t\t\t_each(accept, function (ext, type){\n\t\t\t\t\text = new RegExp(ext.replace(/\\s/g, '|'), 'i');\n\t\t\t\t\tif( ext.test(file.type) || api.ext2mime[file.type] ){\n\t\t\t\t\t\tfile.type = api.ext2mime[file.type] || (type.split('/')[0] +'/'+ file.type);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn\tfile;\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Get drop files\n\t\t\t *\n\t\t\t * @param\t{Event}\tevt\n\t\t\t * @param\t{Function} callback\n\t\t\t */\n\t\t\tgetDropFiles: function (evt, callback){\n\t\t\t\tvar\n\t\t\t\t\t  files = []\n\t\t\t\t\t, all = []\n\t\t\t\t\t, items\n\t\t\t\t\t, dataTransfer = _getDataTransfer(evt)\n\t\t\t\t\t, transFiles = dataTransfer.files\n\t\t\t\t\t, transItems = dataTransfer.items\n\t\t\t\t\t, entrySupport = _isArray(transItems) && transItems[0] && _getAsEntry(transItems[0])\n\t\t\t\t\t, queue = api.queue(function (){ callback(files, all); })\n\t\t\t\t;\n\n\t\t\t\tif( entrySupport ){\n\t\t\t\t\tif( normalize && transFiles ){\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\ti = transFiles.length\n\t\t\t\t\t\t\t, file\n\t\t\t\t\t\t\t, entry\n\t\t\t\t\t\t;\n\n\t\t\t\t\t\titems = new Array(i);\n\t\t\t\t\t\twhile( i-- ){\n\t\t\t\t\t\t\tfile = transFiles[i];\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tentry = _getAsEntry(transItems[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch( err ){\n\t\t\t\t\t\t\t\tapi.log('[err] getDropFiles: ', err);\n\t\t\t\t\t\t\t\tentry = null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif( _isEntry(entry) ){\n\t\t\t\t\t\t\t\t// OSX filesystems use Unicode Normalization Form D (NFD),\n\t\t\t\t\t\t\t\t// and entry.file() can't read the files with the same names\n\t\t\t\t\t\t\t\tif( entry.isDirectory || (entry.isFile && file.name == file.name.normalize('NFC')) ){\n\t\t\t\t\t\t\t\t\titems[i] = entry;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\titems[i] = file;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\titems[i] = file;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\titems = transItems;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\titems = transFiles;\n\t\t\t\t}\n\n\t\t\t\t_each(items || [], function (item){\n\t\t\t\t\tqueue.inc();\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif( entrySupport && _isEntry(item) ){\n\t\t\t\t\t\t\t_readEntryAsFiles(item, function (err, entryFiles, allEntries){\n\t\t\t\t\t\t\t\tif( err ){\n\t\t\t\t\t\t\t\t\tapi.log('[err] getDropFiles:', err);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfiles.push.apply(files, entryFiles);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tall.push.apply(all, allEntries);\n\n\t\t\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t_isRegularFile(item, function (yes, err){\n\t\t\t\t\t\t\t\tif( yes ){\n\t\t\t\t\t\t\t\t\tfiles.push(item);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\titem.error = err;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tall.push(item);\n\n\t\t\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch( err ){\n\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t\tapi.log('[err] getDropFiles: ', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tqueue.check();\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Get file list\n\t\t\t *\n\t\t\t * @param\t{HTMLInputElement|Event}\tinput\n\t\t\t * @param\t{String|Function}\t[filter]\n\t\t\t * @param\t{Function}\t\t\t[callback]\n\t\t\t * @return\t{Array|Null}\n\t\t\t */\n\t\t\tgetFiles: function (input, filter, callback){\n\t\t\t\tvar files = [];\n\n\t\t\t\tif( callback ){\n\t\t\t\t\tapi.filterFiles(api.getFiles(input), filter, callback);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tif( input.jquery ){\n\t\t\t\t\t// jQuery object\n\t\t\t\t\tinput.each(function (){\n\t\t\t\t\t\tfiles = files.concat(api.getFiles(this));\n\t\t\t\t\t});\n\t\t\t\t\tinput\t= files;\n\t\t\t\t\tfiles\t= [];\n\t\t\t\t}\n\n\t\t\t\tif( typeof filter == 'string' ){\n\t\t\t\t\tfilter\t= api.getFilesFilter(filter);\n\t\t\t\t}\n\n\t\t\t\tif( input.originalEvent ){\n\t\t\t\t\t// jQuery event\n\t\t\t\t\tinput = _fixEvent(input.originalEvent);\n\t\t\t\t}\n\t\t\t\telse if( input.srcElement ){\n\t\t\t\t\t// IE Event\n\t\t\t\t\tinput = _fixEvent(input);\n\t\t\t\t}\n\n\n\t\t\t\tif( input.dataTransfer ){\n\t\t\t\t\t// Drag'n'Drop\n\t\t\t\t\tinput = input.dataTransfer;\n\t\t\t\t}\n\t\t\t\telse if( input.target ){\n\t\t\t\t\t// Event\n\t\t\t\t\tinput = input.target;\n\t\t\t\t}\n\n\t\t\t\tif( input.files ){\n\t\t\t\t\t// Input[type=\"file\"]\n\t\t\t\t\tfiles = input.files;\n\n\t\t\t\t\tif( !html5 ){\n\t\t\t\t\t\t// Partial support for file api\n\t\t\t\t\t\tfiles[0].blob\t= input;\n\t\t\t\t\t\tfiles[0].iframe\t= true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( !html5 && isInputFile(input) ){\n\t\t\t\t\tif( api.trim(input.value) ){\n\t\t\t\t\t\tfiles = [api.checkFileObj(input.value)];\n\t\t\t\t\t\tfiles[0].blob   = input;\n\t\t\t\t\t\tfiles[0].iframe = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( _isArray(input) ){\n\t\t\t\t\tfiles\t= input;\n\t\t\t\t}\n\n\t\t\t\treturn\tapi.filter(files, function (file){ return !filter || filter.test(file.name); });\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Get total file size\n\t\t\t * @param\t{Array}\tfiles\n\t\t\t * @return\t{Number}\n\t\t\t */\n\t\t\tgetTotalSize: function (files){\n\t\t\t\tvar size = 0, i = files && files.length;\n\t\t\t\twhile( i-- ){\n\t\t\t\t\tsize += files[i].size;\n\t\t\t\t}\n\t\t\t\treturn\tsize;\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Get image information\n\t\t\t *\n\t\t\t * @param\t{File}\t\tfile\n\t\t\t * @param\t{Function}\tfn\n\t\t\t */\n\t\t\tgetInfo: function (file, fn){\n\t\t\t\tvar info = {}, readers = _infoReader.concat();\n\n\t\t\t\tif( api.isBlob(file) ){\n\t\t\t\t\t(function _next(){\n\t\t\t\t\t\tvar reader = readers.shift();\n\t\t\t\t\t\tif( reader ){\n\t\t\t\t\t\t\tif( reader.test(file.type) ){\n\t\t\t\t\t\t\t\treader(file, function (err, res){\n\t\t\t\t\t\t\t\t\tif( err ){\n\t\t\t\t\t\t\t\t\t\tfn(err);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t_extend(info, res);\n\t\t\t\t\t\t\t\t\t\t_next();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t_next();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tfn(false, info);\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfn('not_support_info', info);\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Add information reader\n\t\t\t *\n\t\t\t * @param {RegExp} mime\n\t\t\t * @param {Function} fn\n\t\t\t */\n\t\t\taddInfoReader: function (mime, fn){\n\t\t\t\tfn.test = function (type){ return mime.test(type); };\n\t\t\t\t_infoReader.push(fn);\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Filter of array\n\t\t\t *\n\t\t\t * @param\t{Array}\t\tinput\n\t\t\t * @param\t{Function}\tfn\n\t\t\t * @return\t{Array}\n\t\t\t */\n\t\t\tfilter: function (input, fn){\n\t\t\t\tvar result = [], i = 0, n = input.length, val;\n\n\t\t\t\tfor( ; i < n; i++ ){\n\t\t\t\t\tif( i in input ){\n\t\t\t\t\t\tval = input[i];\n\t\t\t\t\t\tif( fn.call(val, val, i, input) ){\n\t\t\t\t\t\t\tresult.push(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn\tresult;\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Filter files\n\t\t\t *\n\t\t\t * @param\t{Array}\t\tfiles\n\t\t\t * @param\t{Function}\teachFn\n\t\t\t * @param\t{Function}\tresultFn\n\t\t\t */\n\t\t\tfilterFiles: function (files, eachFn, resultFn){\n\t\t\t\tif( files.length ){\n\t\t\t\t\t// HTML5 or Flash\n\t\t\t\t\tvar queue = files.concat(), file, result = [], deleted = [];\n\n\t\t\t\t\t(function _next(){\n\t\t\t\t\t\tif( queue.length ){\n\t\t\t\t\t\t\tfile = queue.shift();\n\t\t\t\t\t\t\tapi.getInfo(file, function (err, info){\n\t\t\t\t\t\t\t\t(eachFn(file, err ? false : info) ? result : deleted).push(file);\n\t\t\t\t\t\t\t\t_next();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresultFn(result, deleted);\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresultFn([], files);\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t\tupload: function (options){\n\t\t\t\toptions = _extend({\n\t\t\t\t\t  jsonp: 'callback'\n\t\t\t\t\t, prepare: api.F\n\t\t\t\t\t, beforeupload: api.F\n\t\t\t\t\t, upload: api.F\n\t\t\t\t\t, fileupload: api.F\n\t\t\t\t\t, fileprogress: api.F\n\t\t\t\t\t, filecomplete: api.F\n\t\t\t\t\t, progress: api.F\n\t\t\t\t\t, complete: api.F\n\t\t\t\t\t, pause: api.F\n\t\t\t\t\t, imageOriginal: true\n\t\t\t\t\t, chunkSize: api.chunkSize\n\t\t\t\t\t, chunkUploadRetry: api.chunkUploadRetry\n\t\t\t\t\t, uploadRetry: api.uploadRetry\n\t\t\t\t}, options);\n\n\n\t\t\t\tif( options.imageAutoOrientation && !options.imageTransform ){\n\t\t\t\t\toptions.imageTransform = { rotate: 'auto' };\n\t\t\t\t}\n\n\n\t\t\t\tvar\n\t\t\t\t\t  proxyXHR = new api.XHR(options)\n\t\t\t\t\t, dataArray = this._getFilesDataArray(options.files)\n\t\t\t\t\t, _this = this\n\t\t\t\t\t, _total = 0\n\t\t\t\t\t, _loaded = 0\n\t\t\t\t\t, _nextFile\n\t\t\t\t\t, _complete = false\n\t\t\t\t;\n\n\n\t\t\t\t// calc total size\n\t\t\t\t_each(dataArray, function (data){\n\t\t\t\t\t_total += data.size;\n\t\t\t\t});\n\n\t\t\t\t// Array of files\n\t\t\t\tproxyXHR.files = [];\n\t\t\t\t_each(dataArray, function (data){\n\t\t\t\t\tproxyXHR.files.push(data.file);\n\t\t\t\t});\n\n\t\t\t\t// Set upload status props\n\t\t\t\tproxyXHR.total\t= _total;\n\t\t\t\tproxyXHR.loaded\t= 0;\n\t\t\t\tproxyXHR.filesLeft = dataArray.length;\n\n\t\t\t\t// emit \"beforeupload\"  event\n\t\t\t\toptions.beforeupload(proxyXHR, options);\n\n\t\t\t\t// Upload by file\n\t\t\t\t_nextFile = function (){\n\t\t\t\t\tvar\n\t\t\t\t\t\t  data = dataArray.shift()\n\t\t\t\t\t\t, _file = data && data.file\n\t\t\t\t\t\t, _fileLoaded = false\n\t\t\t\t\t\t, _fileOptions = _simpleClone(options)\n\t\t\t\t\t;\n\n\t\t\t\t\tproxyXHR.filesLeft = dataArray.length;\n\n\t\t\t\t\tif( _file && _file.name === api.expando ){\n\t\t\t\t\t\t_file = null;\n\t\t\t\t\t\tapi.log('[warn] FileAPI.upload()  called without files');\n\t\t\t\t\t}\n\n\t\t\t\t\tif( ( proxyXHR.statusText != 'abort' || proxyXHR.current ) && data ){\n\t\t\t\t\t\t// Mark active job\n\t\t\t\t\t\t_complete = false;\n\n\t\t\t\t\t\t// Set current upload file\n\t\t\t\t\t\tproxyXHR.currentFile = _file;\n\n\t\t\t\t\t\t// Prepare file options\n\t\t\t\t\t\tif (_file && options.prepare(_file, _fileOptions) === false) {\n\t\t\t\t\t\t\t_nextFile.call(_this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_fileOptions.file = _file;\n\n\t\t\t\t\t\t_this._getFormData(_fileOptions, data, function (form){\n\t\t\t\t\t\t\tif( !_loaded ){\n\t\t\t\t\t\t\t\t// emit \"upload\" event\n\t\t\t\t\t\t\t\toptions.upload(proxyXHR, options);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar xhr = new api.XHR(_extend({}, _fileOptions, {\n\n\t\t\t\t\t\t\t\tupload: _file ? function (){\n\t\t\t\t\t\t\t\t\t// emit \"fileupload\" event\n\t\t\t\t\t\t\t\t\toptions.fileupload(_file, xhr, _fileOptions);\n\t\t\t\t\t\t\t\t} : noop,\n\n\t\t\t\t\t\t\t\tprogress: _file ? function (evt){\n\t\t\t\t\t\t\t\t\tif( !_fileLoaded ){\n\t\t\t\t\t\t\t\t\t\t// For ignore the double calls.\n\t\t\t\t\t\t\t\t\t\t_fileLoaded = (evt.loaded === evt.total);\n\n\t\t\t\t\t\t\t\t\t\t// emit \"fileprogress\" event\n\t\t\t\t\t\t\t\t\t\toptions.fileprogress({\n\t\t\t\t\t\t\t\t\t\t\t  type:   'progress'\n\t\t\t\t\t\t\t\t\t\t\t, total:  data.total = evt.total\n\t\t\t\t\t\t\t\t\t\t\t, loaded: data.loaded = evt.loaded\n\t\t\t\t\t\t\t\t\t\t}, _file, xhr, _fileOptions);\n\n\t\t\t\t\t\t\t\t\t\t// emit \"progress\" event\n\t\t\t\t\t\t\t\t\t\toptions.progress({\n\t\t\t\t\t\t\t\t\t\t\t  type:   'progress'\n\t\t\t\t\t\t\t\t\t\t\t, total:  _total\n\t\t\t\t\t\t\t\t\t\t\t, loaded: proxyXHR.loaded = (_loaded + data.size * (evt.loaded/evt.total)) || 0\n\t\t\t\t\t\t\t\t\t\t}, _file, xhr, _fileOptions);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} : noop,\n\n\t\t\t\t\t\t\t\tcomplete: function (err){\n\t\t\t\t\t\t\t\t\t_each(_xhrPropsExport, function (name){\n\t\t\t\t\t\t\t\t\t\tproxyXHR[name] = xhr[name];\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tif( _file ){\n\t\t\t\t\t\t\t\t\t\tdata.total = (data.total || data.size);\n\t\t\t\t\t\t\t\t\t\tdata.loaded\t= data.total;\n\n\t\t\t\t\t\t\t\t\t\tif( !err ) {\n\t\t\t\t\t\t\t\t\t\t\t// emulate 100% \"progress\"\n\t\t\t\t\t\t\t\t\t\t\tthis.progress(data);\n\n\t\t\t\t\t\t\t\t\t\t\t// fixed throttle event\n\t\t\t\t\t\t\t\t\t\t\t_fileLoaded = true;\n\n\t\t\t\t\t\t\t\t\t\t\t// bytes loaded\n\t\t\t\t\t\t\t\t\t\t\t_loaded += data.size; // data.size != data.total, it's desirable fix this\n\t\t\t\t\t\t\t\t\t\t\tproxyXHR.loaded = _loaded;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// emit \"filecomplete\" event\n\t\t\t\t\t\t\t\t\t\toptions.filecomplete(err, xhr, _file, _fileOptions);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// upload next file\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {_nextFile.call(_this);}, 0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})); // xhr\n\n\n\t\t\t\t\t\t\t// ...\n\t\t\t\t\t\t\tproxyXHR.abort = function (current){\n\t\t\t\t\t\t\t\tif (!current) { dataArray.length = 0; }\n\t\t\t\t\t\t\t\tthis.current = current;\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Start upload\n\t\t\t\t\t\t\txhr.send(form);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar successful = proxyXHR.status == 200 || proxyXHR.status == 201 || proxyXHR.status == 204;\n\t\t\t\t\t\toptions.complete(successful ? false : (proxyXHR.statusText || 'error'), proxyXHR, options);\n\t\t\t\t\t\t// Mark done state\n\t\t\t\t\t\t_complete = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\n\t\t\t\t// Next tick\n\t\t\t\tsetTimeout(_nextFile, 0);\n\n\n\t\t\t\t// Append more files to the existing request\n\t\t\t\t// first - add them to the queue head/tail\n\t\t\t\tproxyXHR.append = function (files, first) {\n\t\t\t\t\tfiles = api._getFilesDataArray([].concat(files));\n\n\t\t\t\t\t_each(files, function (data) {\n\t\t\t\t\t\t_total += data.size;\n\t\t\t\t\t\tproxyXHR.files.push(data.file);\n\t\t\t\t\t\tif (first) {\n\t\t\t\t\t\t\tdataArray.unshift(data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdataArray.push(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tproxyXHR.statusText = \"\";\n\n\t\t\t\t\tif( _complete ){\n\t\t\t\t\t\t_nextFile.call(_this);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\n\t\t\t\t// Removes file from queue by file reference and returns it\n\t\t\t\tproxyXHR.remove = function (file) {\n\t\t\t\t    var i = dataArray.length, _file;\n\t\t\t\t    while( i-- ){\n\t\t\t\t\t\tif( dataArray[i].file == file ){\n\t\t\t\t\t\t\t_file = dataArray.splice(i, 1);\n\t\t\t\t\t\t\t_total -= _file.size;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn\t_file;\n\t\t\t\t};\n\n\t\t\t\treturn proxyXHR;\n\t\t\t},\n\n\n\t\t\t_getFilesDataArray: function (data){\n\t\t\t\tvar files = [], oFiles = {};\n\n\t\t\t\tif( isInputFile(data) ){\n\t\t\t\t\tvar tmp = api.getFiles(data);\n\t\t\t\t\toFiles[data.name || 'file'] = data.getAttribute('multiple') !== null ? tmp : tmp[0];\n\t\t\t\t}\n\t\t\t\telse if( _isArray(data) && isInputFile(data[0]) ){\n\t\t\t\t\t_each(data, function (input){\n\t\t\t\t\t\toFiles[input.name || 'file'] = api.getFiles(input);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toFiles = data;\n\t\t\t\t}\n\n\t\t\t\t_each(oFiles, function add(file, name){\n\t\t\t\t\tif( _isArray(file) ){\n\t\t\t\t\t\t_each(file, function (file){\n\t\t\t\t\t\t\tadd(file, name);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if( file && (file.name || file.image) ){\n\t\t\t\t\t\tfiles.push({\n\t\t\t\t\t\t\t  name: name\n\t\t\t\t\t\t\t, file: file\n\t\t\t\t\t\t\t, size: file.size\n\t\t\t\t\t\t\t, total: file.size\n\t\t\t\t\t\t\t, loaded: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif( !files.length ){\n\t\t\t\t\t// Create fake `file` object\n\t\t\t\t\tfiles.push({ file: { name: api.expando } });\n\t\t\t\t}\n\n\t\t\t\treturn\tfiles;\n\t\t\t},\n\n\n\t\t\t_getFormData: function (options, data, fn){\n\t\t\t\tvar\n\t\t\t\t\t  file = data.file\n\t\t\t\t\t, name = data.name\n\t\t\t\t\t, filename = file.name\n\t\t\t\t\t, filetype = file.type\n\t\t\t\t\t, trans = api.support.transform && options.imageTransform\n\t\t\t\t\t, Form = new api.Form\n\t\t\t\t\t, queue = api.queue(function (){ fn(Form); })\n\t\t\t\t\t, isOrignTrans = trans && _isOriginTransform(trans)\n\t\t\t\t\t, postNameConcat = api.postNameConcat\n\t\t\t\t;\n\n\t\t\t\t// Append data\n\t\t\t\t_each(options.data, function add(val, name){\n\t\t\t\t\tif( typeof val == 'object' ){\n\t\t\t\t\t\t_each(val, function (v, i){\n\t\t\t\t\t\t\tadd(v, postNameConcat(name, i));\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tForm.append(name, val);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t(function _addFile(file/**Object*/){\n\t\t\t\t\tif( file.image ){ // This is a FileAPI.Image\n\t\t\t\t\t\tqueue.inc();\n\n\t\t\t\t\t\tfile.toData(function (err, image){\n\t\t\t\t\t\t\t// @todo:     \n\t\t\t\t\t\t\tif (file.file) {\n\t\t\t\t\t\t\t\timage.type = file.file.type;\n\t\t\t\t\t\t\t\timage.quality = file.matrix.quality;\n\t\t\t\t\t\t\t\tfilename = file.file && file.file.name;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfilename = filename || (new Date).getTime()+'.png';\n\n\t\t\t\t\t\t\t_addFile(image);\n\t\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if( api.Image && trans && (/^image/.test(file.type) || _rimgcanvas.test(file.nodeName)) ){\n\t\t\t\t\t\tqueue.inc();\n\n\t\t\t\t\t\tif( isOrignTrans ){\n\t\t\t\t\t\t\t// Convert to array for transform function\n\t\t\t\t\t\t\ttrans = [trans];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tapi.Image.transform(file, trans, options.imageAutoOrientation, function (err, images){\n\t\t\t\t\t\t\tif( isOrignTrans && !err ){\n\t\t\t\t\t\t\t\tif( !dataURLtoBlob && !api.flashEngine ){\n\t\t\t\t\t\t\t\t\t// Canvas.toBlob or Flash not supported, use multipart\n\t\t\t\t\t\t\t\t\tForm.multipart = true;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tForm.append(name, images[0], filename,  trans[0].type || filetype);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar addOrigin = 0;\n\n\t\t\t\t\t\t\t\tif( !err ){\n\t\t\t\t\t\t\t\t\t_each(images, function (image, idx){\n\t\t\t\t\t\t\t\t\t\tif( !dataURLtoBlob && !api.flashEngine ){\n\t\t\t\t\t\t\t\t\t\t\tForm.multipart = true;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif( !trans[idx].postName ){\n\t\t\t\t\t\t\t\t\t\t\taddOrigin = 1;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tForm.append(trans[idx].postName || postNameConcat(name, idx), image, filename, trans[idx].type || filetype);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif( err || options.imageOriginal ){\n\t\t\t\t\t\t\t\t\tForm.append(postNameConcat(name, (addOrigin ? 'original' : null)), file, filename, filetype);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if( filename !== api.expando ){\n\t\t\t\t\t\tForm.append(name, file, filename);\n\t\t\t\t\t}\n\t\t\t\t})(file);\n\n\t\t\t\tqueue.check();\n\t\t\t},\n\n\n\t\t\treset: function (inp, notRemove){\n\t\t\t\tvar parent, clone;\n\n\t\t\t\tif( jQuery ){\n\t\t\t\t\tclone = jQuery(inp).clone(true).insertBefore(inp).val('')[0];\n\t\t\t\t\tif( !notRemove ){\n\t\t\t\t\t\tjQuery(inp).remove();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparent  = inp.parentNode;\n\t\t\t\t\tclone   = parent.insertBefore(inp.cloneNode(true), inp);\n\t\t\t\t\tclone.value = '';\n\n\t\t\t\t\tif( !notRemove ){\n\t\t\t\t\t\tparent.removeChild(inp);\n\t\t\t\t\t}\n\n\t\t\t\t\t_each(_elEvents[api.uid(inp)], function (fns, type){\n\t\t\t\t\t\t_each(fns, function (fn){\n\t\t\t\t\t\t\t_off(inp, type, fn);\n\t\t\t\t\t\t\t_on(clone, type, fn);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn  clone;\n\t\t\t},\n\n\n\t\t\t/**\n\t\t\t * Load remote file\n\t\t\t *\n\t\t\t * @param   {String}    url\n\t\t\t * @param   {Function}  fn\n\t\t\t * @return  {XMLHttpRequest}\n\t\t\t */\n\t\t\tload: function (url, fn){\n\t\t\t\tvar xhr = api.getXHR();\n\t\t\t\tif( xhr ){\n\t\t\t\t\txhr.open('GET', url, true);\n\n\t\t\t\t\tif( xhr.overrideMimeType ){\n\t\t\t\t        xhr.overrideMimeType('text/plain; charset=x-user-defined');\n\t\t\t\t\t}\n\n\t\t\t\t\t_on(xhr, 'progress', function (/**Event*/evt){\n\t\t\t\t\t\t/** @namespace evt.lengthComputable */\n\t\t\t\t\t\tif( evt.lengthComputable ){\n\t\t\t\t\t\t\tfn({ type: evt.type, loaded: evt.loaded, total: evt.total }, xhr);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\txhr.onreadystatechange = function(){\n\t\t\t\t\t\tif( xhr.readyState == 4 ){\n\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\t\t\t\t\t\t\tif( xhr.status == 200 ){\n\t\t\t\t\t\t\t\turl = url.split('/');\n\t\t\t\t\t\t\t\t/** @namespace xhr.responseBody */\n\t\t\t\t\t\t\t\tvar file = {\n\t\t\t\t\t\t\t\t      name: url[url.length-1]\n\t\t\t\t\t\t\t\t\t, size: xhr.getResponseHeader('Content-Length')\n\t\t\t\t\t\t\t\t\t, type: xhr.getResponseHeader('Content-Type')\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfile.dataURL = 'data:'+file.type+';base64,' + api.encode64(xhr.responseBody || xhr.responseText);\n\t\t\t\t\t\t\t\tfn({ type: 'load', result: file }, xhr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tfn({ type: 'error' }, xhr);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t    }\n\t\t\t\t\t};\n\t\t\t\t    xhr.send(null);\n\t\t\t\t} else {\n\t\t\t\t\tfn({ type: 'error' });\n\t\t\t\t}\n\n\t\t\t\treturn  xhr;\n\t\t\t},\n\n\t\t\tencode64: function (str){\n\t\t\t\tvar b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=', outStr = '', i = 0;\n\n\t\t\t\tif( typeof str !== 'string' ){\n\t\t\t\t\tstr\t= String(str);\n\t\t\t\t}\n\n\t\t\t\twhile( i < str.length ){\n\t\t\t\t\t//all three \"& 0xff\" added below are there to fix a known bug\n\t\t\t\t\t//with bytes returned by xhr.responseText\n\t\t\t\t\tvar\n\t\t\t\t\t\t  byte1 = str.charCodeAt(i++) & 0xff\n\t\t\t\t\t\t, byte2 = str.charCodeAt(i++) & 0xff\n\t\t\t\t\t\t, byte3 = str.charCodeAt(i++) & 0xff\n\t\t\t\t\t\t, enc1 = byte1 >> 2\n\t\t\t\t\t\t, enc2 = ((byte1 & 3) << 4) | (byte2 >> 4)\n\t\t\t\t\t\t, enc3, enc4\n\t\t\t\t\t;\n\n\t\t\t\t\tif( isNaN(byte2) ){\n\t\t\t\t\t\tenc3 = enc4 = 64;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tenc3 = ((byte2 & 15) << 2) | (byte3 >> 6);\n\t\t\t\t\t\tenc4 = isNaN(byte3) ? 64 : byte3 & 63;\n\t\t\t\t\t}\n\n\t\t\t\t\toutStr += b64.charAt(enc1) + b64.charAt(enc2) + b64.charAt(enc3) + b64.charAt(enc4);\n\t\t\t\t}\n\n\t\t\t\treturn  outStr;\n\t\t\t}\n\n\t\t} // api\n\t;\n\n\n\tfunction _emit(target, fn, name, res, ext){\n\t\tvar evt = {\n\t\t\t  type:\t\tname.type || name\n\t\t\t, target:\ttarget\n\t\t\t, result:\tres\n\t\t};\n\t\t_extend(evt, ext);\n\t\tfn(evt);\n\t}\n\n\n\tfunction _hasSupportReadAs(method){\n\t\treturn\tFileReader && !!FileReader.prototype['readAs' + method];\n\t}\n\n\n\tfunction _readAs(file, fn, method, encoding){\n\t\tif( api.isBlob(file) && _hasSupportReadAs(method) ){\n\t\t\tvar Reader = new FileReader;\n\n\t\t\t// Add event listener\n\t\t\t_on(Reader, _readerEvents, function _fn(evt){\n\t\t\t\tvar type = evt.type;\n\t\t\t\tif( type == 'progress' ){\n\t\t\t\t\t_emit(file, fn, evt, evt.target.result, { loaded: evt.loaded, total: evt.total });\n\t\t\t\t}\n\t\t\t\telse if( type == 'loadend' ){\n\t\t\t\t\t_off(Reader, _readerEvents, _fn);\n\t\t\t\t\tReader = null;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t_emit(file, fn, evt, evt.target.result);\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\ttry {\n\t\t\t\t// ReadAs ...\n\t\t\t\tif( encoding ){\n\t\t\t\t\tReader['readAs' + method](file, encoding);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tReader['readAs' + method](file);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (err){\n\t\t\t\t_emit(file, fn, 'error', undef, { error: err.toString() });\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t_emit(file, fn, 'error', undef, { error: 'filreader_not_support_' + method });\n\t\t}\n\t}\n\n\n\tfunction _isRegularFile(file, callback){\n\t\t// http://stackoverflow.com/questions/8856628/detecting-folders-directories-in-javascript-filelist-objects\n\t\tif( !file.type && (safari || ((file.size % 4096) === 0 && (file.size <= 102400))) ){\n\t\t\tif( FileReader ){\n\t\t\t\ttry {\n\t\t\t\t\tvar reader = new FileReader();\n\n\t\t\t\t\t_one(reader, _readerEvents, function (evt){\n\t\t\t\t\t\tvar isFile = evt.type != 'error';\n\t\t\t\t\t\tif( isFile ){\n\t\t\t\t\t\t\tif ( reader.readyState == null || reader.readyState === reader.LOADING ) {\n\t\t\t\t\t\t\t\treader.abort();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcallback(isFile);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcallback(false, reader.error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t} catch( err ){\n\t\t\t\t\tcallback(false, err);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcallback(null, new Error('FileReader is not supported'));\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcallback(true);\n\t\t}\n\t}\n\n\n\tfunction _isEntry(item){\n\t\treturn item && (item.isFile || item.isDirectory);\n\t}\n\n\n\tfunction _getAsEntry(item){\n\t\tvar entry;\n\t\tif( item.getAsEntry ){ entry = item.getAsEntry(); }\n\t\telse if( item.webkitGetAsEntry ){ entry = item.webkitGetAsEntry(); }\n\t\treturn\tentry;\n\t}\n\n\n\tfunction _readEntryAsFiles(entry, callback){\n\t\tif( !entry ){\n\t\t\t// error\n\t\t\tvar err = new Error('invalid entry');\n\t\t\tentry = new Object(entry);\n\t\t\tentry.error = err;\n\t\t\tcallback(err.message, [], [entry]);\n\t\t}\n\t\telse if( entry.isFile ){\n\t\t\t// Read as file\n\t\t\tentry.file(function (file){\n\t\t\t\t// success\n\t\t\t\tfile.fullPath = entry.fullPath;\n\t\t\t\tcallback(false, [file], [file]);\n\t\t\t}, function (err){\n\t\t\t\t// error\n\t\t\t\tentry.error = err;\n\t\t\t\tcallback('FileError.code: ' + err.code, [], [entry]);\n\t\t\t});\n\t\t}\n\t\telse if( entry.isDirectory ){\n\t\t\tvar\n\t\t\t\treader = entry.createReader()\n\t\t\t\t, firstAttempt = true\n\t\t\t\t, files = []\n\t\t\t\t, all = [entry]\n\t\t\t;\n\n\t\t\tvar onerror = function (err){\n\t\t\t\t// error\n\t\t\t\tentry.error = err;\n\t\t\t\tcallback('DirectoryError.code: ' + err.code, files, all);\n\t\t\t};\n\t\t\tvar ondone = function ondone(entries){\n\t\t\t\tif( firstAttempt ){\n\t\t\t\t\tfirstAttempt = false;\n\t\t\t\t\tif( !entries.length ){\n\t\t\t\t\t\tentry.error = new Error('directory is empty');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// success\n\t\t\t\tif( entries.length ){\n\t\t\t\t\tapi.afor(entries, function (next, entry){\n\t\t\t\t\t\t_readEntryAsFiles(entry, function (err, entryFiles, allEntries){\n\t\t\t\t\t\t\tif( !err ){\n\t\t\t\t\t\t\t\tfiles = files.concat(entryFiles);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tall = all.concat(allEntries);\n\n\t\t\t\t\t\t\tif( next ){\n\t\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treader.readEntries(ondone, onerror);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallback(false, files, all);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treader.readEntries(ondone, onerror);\n\t\t}\n\t\telse {\n\t\t\t_readEntryAsFiles(_getAsEntry(entry), callback);\n\t\t}\n\t}\n\n\n\tfunction _simpleClone(obj){\n\t\tvar copy = {};\n\t\t_each(obj, function (val, key){\n\t\t\tif( val && (typeof val === 'object') && (val.nodeType === void 0) ){\n\t\t\t\tval = _extend({}, val);\n\t\t\t}\n\t\t\tcopy[key] = val;\n\t\t});\n\t\treturn\tcopy;\n\t}\n\n\n\tfunction isInputFile(el){\n\t\treturn\t_rinput.test(el && el.tagName);\n\t}\n\n\n\tfunction _getDataTransfer(evt){\n\t\treturn\t(evt.originalEvent || evt || '').dataTransfer || {};\n\t}\n\n\n\tfunction _isOriginTransform(trans){\n\t\tvar key;\n\t\tfor( key in trans ){\n\t\t\tif( trans.hasOwnProperty(key) ){\n\t\t\t\tif( !(trans[key] instanceof Object || key === 'overlay' || key === 'filter') ){\n\t\t\t\t\treturn\ttrue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn\tfalse;\n\t}\n\n\n\t// Add default image info reader\n\tapi.addInfoReader(/^image/, function (file/**File*/, callback/**Function*/){\n\t\tif( !file.__dimensions ){\n\t\t\tvar defer = file.__dimensions = api.defer();\n\n\t\t\tapi.readAsImage(file, function (evt){\n\t\t\t\tvar img = evt.target;\n\t\t\t\tdefer.resolve(evt.type == 'load' ? false : 'error', {\n\t\t\t\t\t  width:  img.width\n\t\t\t\t\t, height: img.height\n\t\t\t\t});\n                img.src = api.EMPTY_PNG;\n\t\t\t\timg = null;\n\t\t\t});\n\t\t}\n\n\t\tfile.__dimensions.then(callback);\n\t});\n\n\n\t/**\n\t * Drag'n'Drop special event\n\t *\n\t * @param\t{HTMLElement}\tel\n\t * @param\t{Function}\t\tonHover\n\t * @param\t{Function}\t\tonDrop\n\t */\n\tapi.event.dnd = function (el, onHover, onDrop){\n\t\tvar _id, _type;\n\n\t\tif( !onDrop ){\n\t\t\tonDrop = onHover;\n\t\t\tonHover = api.F;\n\t\t}\n\n\t\tif( FileReader ){\n\t\t\t// Hover\n\t\t\t_on(el, 'dragenter dragleave dragover', onHover.ff = onHover.ff || function (evt){\n\t\t\t\tvar\n\t\t\t\t\t  types = _getDataTransfer(evt).types\n\t\t\t\t\t, i = types && types.length\n\t\t\t\t\t, debounceTrigger = false\n\t\t\t\t;\n\n\t\t\t\twhile( i-- ){\n\t\t\t\t\tif( ~types[i].indexOf('File') ){\n\t\t\t\t\t\tevt[preventDefault]();\n\n\t\t\t\t\t\tif( _type !== evt.type ){\n\t\t\t\t\t\t\t_type = evt.type; // Store current type of event\n\n\t\t\t\t\t\t\tif( _type != 'dragleave' ){\n\t\t\t\t\t\t\t\tonHover.call(evt[currentTarget], true, evt);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdebounceTrigger = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak; // exit from \"while\"\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif( debounceTrigger ){\n\t\t\t\t\tclearTimeout(_id);\n\t\t\t\t\t_id = setTimeout(function (){\n\t\t\t\t\t\tonHover.call(evt[currentTarget], _type != 'dragleave', evt);\n\t\t\t\t\t}, 50);\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t// Drop\n\t\t\t_on(el, 'drop', onDrop.ff = onDrop.ff || function (evt){\n\t\t\t\tevt[preventDefault]();\n\n\t\t\t\t_type = 0;\n\n\t\t\t\tapi.getDropFiles(evt, function (files, all){\n\t\t\t\t\tonDrop.call(evt[currentTarget], files, all, evt);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tonHover.call(evt[currentTarget], false, evt);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tapi.log(\"Drag'n'Drop -- not supported\");\n\t\t}\n\t};\n\n\n\t/**\n\t * Remove drag'n'drop\n\t * @param\t{HTMLElement}\tel\n\t * @param\t{Function}\t\tonHover\n\t * @param\t{Function}\t\tonDrop\n\t */\n\tapi.event.dnd.off = function (el, onHover, onDrop){\n\t\t_off(el, 'dragenter dragleave dragover', onHover.ff);\n\t\t_off(el, 'drop', onDrop.ff);\n\t};\n\n\n\t// Support jQuery\n\tif( jQuery && !jQuery.fn.dnd ){\n\t\tjQuery.fn.dnd = function (onHover, onDrop){\n\t\t\treturn this.each(function (){\n\t\t\t\tapi.event.dnd(this, onHover, onDrop);\n\t\t\t});\n\t\t};\n\n\t\tjQuery.fn.offdnd = function (onHover, onDrop){\n\t\t\treturn this.each(function (){\n\t\t\t\tapi.event.dnd.off(this, onHover, onDrop);\n\t\t\t});\n\t\t};\n\t}\n\n\t// @export\n\twindow.FileAPI  = _extend(api, window.FileAPI);\n\n\n\t// Debug info\n\tapi.log('FileAPI: ' + api.version);\n\tapi.log('protocol: ' + window.location.protocol);\n\tapi.log('doctype: [' + doctype.name + '] ' + doctype.publicId + ' ' + doctype.systemId);\n\n\n\t// @detect 'x-ua-compatible'\n\t_each(document.getElementsByTagName('meta'), function (meta){\n\t\tif( /x-ua-compatible/i.test(meta.getAttribute('http-equiv')) ){\n\t\t\tapi.log('meta.http-equiv: ' + meta.getAttribute('content'));\n\t\t}\n\t});\n\n\n\t// Configuration\n\ttry {\n\t\t_supportConsoleLog = !!console.log;\n\t\t_supportConsoleLogApply = !!console.log.apply;\n\t}\n\tcatch (err) {}\n\n\tif( !api.flashUrl ){ api.flashUrl = api.staticPath + 'FileAPI.flash.swf'; }\n\tif( !api.flashImageUrl ){ api.flashImageUrl = api.staticPath + 'FileAPI.flash.image.swf'; }\n\tif( !api.flashWebcamUrl ){ api.flashWebcamUrl = api.staticPath + 'FileAPI.flash.camera.swf'; }\n})(window, void 0);\n\n/*global window, FileAPI, document */\n\n(function (api, document, undef) {\n\t'use strict';\n\n\tvar\n\t\tmin = Math.min,\n\t\tround = Math.round,\n\t\tgetCanvas = function () { return document.createElement('canvas'); },\n\t\tsupport = false,\n\t\texifOrientation = {\n\t\t\t  8:\t270\n\t\t\t, 3:\t180\n\t\t\t, 6:\t90\n\t\t\t, 7:\t270\n\t\t\t, 4:\t180\n\t\t\t, 5:\t90\n\t\t}\n\t;\n\n\ttry {\n\t\tsupport = getCanvas().toDataURL('image/png').indexOf('data:image/png') > -1;\n\t}\n\tcatch (e){}\n\n\n\tfunction Image(file){\n\t\tif( file instanceof Image ){\n\t\t\tvar img = new Image(file.file);\n\t\t\tapi.extend(img.matrix, file.matrix);\n\t\t\treturn\timg;\n\t\t}\n\t\telse if( !(this instanceof Image) ){\n\t\t\treturn\tnew Image(file);\n\t\t}\n\n\t\tthis.file   = file;\n\t\tthis.size   = file.size || 100;\n\n\t\tthis.matrix\t= {\n\t\t\tsx: 0,\n\t\t\tsy: 0,\n\t\t\tsw: 0,\n\t\t\tsh: 0,\n\t\t\tdx: 0,\n\t\t\tdy: 0,\n\t\t\tdw: 0,\n\t\t\tdh: 0,\n\t\t\tresize: 0, // min, max OR preview\n\t\t\tdeg: 0,\n\t\t\tquality: 1, // jpeg quality\n\t\t\tfilter: 0\n\t\t};\n\t}\n\n\n\tImage.prototype = {\n\t\timage: true,\n\t\tconstructor: Image,\n\n\t\tset: function (attrs){\n\t\t\tapi.extend(this.matrix, attrs);\n\t\t\treturn\tthis;\n\t\t},\n\n\t\tcrop: function (x, y, w, h){\n\t\t\tif( w === undef ){\n\t\t\t\tw\t= x;\n\t\t\t\th\t= y;\n\t\t\t\tx = y = 0;\n\t\t\t}\n\t\t\treturn\tthis.set({ sx: x, sy: y, sw: w, sh: h || w });\n\t\t},\n\n\t\tresize: function (w, h, strategy){\n\t\t\tif( /min|max|height|width/.test(h) ){\n\t\t\t\tstrategy = h;\n\t\t\t\th = w;\n\t\t\t}\n\n\t\t\treturn\tthis.set({ dw: w, dh: h || w, resize: strategy });\n\t\t},\n\n\t\tpreview: function (w, h){\n\t\t\treturn\tthis.resize(w, h || w, 'preview');\n\t\t},\n\n\t\trotate: function (deg){\n\t\t\treturn\tthis.set({ deg: deg });\n\t\t},\n\n\t\tfilter: function (filter){\n\t\t\treturn\tthis.set({ filter: filter });\n\t\t},\n\n\t\toverlay: function (images){\n\t\t\treturn\tthis.set({ overlay: images });\n\t\t},\n\n\t\tclone: function (){\n\t\t\treturn\tnew Image(this);\n\t\t},\n\n\t\t_load: function (image, fn){\n\t\t\tvar self = this;\n\n\t\t\tif( /img|video/i.test(image.nodeName) ){\n\t\t\t\tfn.call(self, null, image);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tapi.readAsImage(image, function (evt){\n\t\t\t\t\tfn.call(self, evt.type != 'load', evt.result);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_apply: function (image, fn){\n\t\t\tvar\n\t\t\t\t  canvas = getCanvas()\n\t\t\t\t, m = this.getMatrix(image)\n\t\t\t\t, ctx = canvas.getContext('2d')\n\t\t\t\t, width = image.videoWidth || image.width\n\t\t\t\t, height = image.videoHeight || image.height\n\t\t\t\t, deg = m.deg\n\t\t\t\t, dw = m.dw\n\t\t\t\t, dh = m.dh\n\t\t\t\t, w = width\n\t\t\t\t, h = height\n\t\t\t\t, filter = m.filter\n\t\t\t\t, copy // canvas copy\n\t\t\t\t, buffer = image\n\t\t\t\t, overlay = m.overlay\n\t\t\t\t, queue = api.queue(function (){ image.src = api.EMPTY_PNG; fn(false, canvas); })\n\t\t\t\t, renderImageToCanvas = api.renderImageToCanvas\n\t\t\t;\n\n\t\t\t// Normalize angle\n\t\t\tdeg = deg - Math.floor(deg/360)*360;\n\n\t\t\t// For `renderImageToCanvas`\n\t\t\timage._type = this.file.type;\n\n\t\t\twhile(m.multipass && min(w/dw, h/dh) > 2 ){\n\t\t\t\tw = (w/2 + 0.5)|0;\n\t\t\t\th = (h/2 + 0.5)|0;\n\n\t\t\t\tcopy = getCanvas();\n\t\t\t\tcopy.width  = w;\n\t\t\t\tcopy.height = h;\n\n\t\t\t\tif( buffer !== image ){\n\t\t\t\t\trenderImageToCanvas(copy, buffer, 0, 0, buffer.width, buffer.height, 0, 0, w, h);\n\t\t\t\t\tbuffer = copy;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbuffer = copy;\n\t\t\t\t\trenderImageToCanvas(buffer, image, m.sx, m.sy, m.sw, m.sh, 0, 0, w, h);\n\t\t\t\t\tm.sx = m.sy = m.sw = m.sh = 0;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tcanvas.width  = (deg % 180) ? dh : dw;\n\t\t\tcanvas.height = (deg % 180) ? dw : dh;\n\n\t\t\tcanvas.type = m.type;\n\t\t\tcanvas.quality = m.quality;\n\n\t\t\tctx.rotate(deg * Math.PI / 180);\n\t\t\trenderImageToCanvas(ctx.canvas, buffer\n\t\t\t\t, m.sx, m.sy\n\t\t\t\t, m.sw || buffer.width\n\t\t\t\t, m.sh || buffer.height\n\t\t\t\t, (deg == 180 || deg == 270 ? -dw : 0)\n\t\t\t\t, (deg == 90 || deg == 180 ? -dh : 0)\n\t\t\t\t, dw, dh\n\t\t\t);\n\t\t\tdw = canvas.width;\n\t\t\tdh = canvas.height;\n\n\t\t\t// Apply overlay\n\t\t\toverlay && api.each([].concat(overlay), function (over){\n\t\t\t\tqueue.inc();\n\t\t\t\t// preload\n\t\t\t\tvar img = new window.Image, fn = function (){\n\t\t\t\t\tvar\n\t\t\t\t\t\t  x = over.x|0\n\t\t\t\t\t\t, y = over.y|0\n\t\t\t\t\t\t, w = over.w || img.width\n\t\t\t\t\t\t, h = over.h || img.height\n\t\t\t\t\t\t, rel = over.rel\n\t\t\t\t\t;\n\n\t\t\t\t\t// center  |  right  |  left\n\t\t\t\t\tx = (rel == 1 || rel == 4 || rel == 7) ? (dw - w + x)/2 : (rel == 2 || rel == 5 || rel == 8 ? dw - (w + x) : x);\n\n\t\t\t\t\t// center  |  bottom  |  top\n\t\t\t\t\ty = (rel == 3 || rel == 4 || rel == 5) ? (dh - h + y)/2 : (rel >= 6 ? dh - (h + y) : y);\n\n\t\t\t\t\tapi.event.off(img, 'error load abort', fn);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tctx.globalAlpha = over.opacity || 1;\n\t\t\t\t\t\tctx.drawImage(img, x, y, w, h);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (er){}\n\n\t\t\t\t\tqueue.next();\n\t\t\t\t};\n\n\t\t\t\tapi.event.on(img, 'error load abort', fn);\n\t\t\t\timg.src = over.src;\n\n\t\t\t\tif( img.complete ){\n\t\t\t\t\tfn();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif( filter ){\n\t\t\t\tqueue.inc();\n\t\t\t\tImage.applyFilter(canvas, filter, queue.next);\n\t\t\t}\n\n\t\t\tqueue.check();\n\t\t},\n\n\t\tgetMatrix: function (image){\n\t\t\tvar\n\t\t\t\t  m  = api.extend({}, this.matrix)\n\t\t\t\t, sw = m.sw = m.sw || image.videoWidth || image.naturalWidth ||  image.width\n\t\t\t\t, sh = m.sh = m.sh || image.videoHeight || image.naturalHeight || image.height\n\t\t\t\t, dw = m.dw = m.dw || sw\n\t\t\t\t, dh = m.dh = m.dh || sh\n\t\t\t\t, sf = sw/sh, df = dw/dh\n\t\t\t\t, strategy = m.resize\n\t\t\t;\n\n\t\t\tif( strategy == 'preview' ){\n\t\t\t\tif( dw != sw || dh != sh ){\n\t\t\t\t\t// Make preview\n\t\t\t\t\tvar w, h;\n\n\t\t\t\t\tif( df >= sf ){\n\t\t\t\t\t\tw\t= sw;\n\t\t\t\t\t\th\t= w / df;\n\t\t\t\t\t} else {\n\t\t\t\t\t\th\t= sh;\n\t\t\t\t\t\tw\t= h * df;\n\t\t\t\t\t}\n\n\t\t\t\t\tif( w != sw || h != sh ){\n\t\t\t\t\t\tm.sx\t= ~~((sw - w)/2);\n\t\t\t\t\t\tm.sy\t= ~~((sh - h)/2);\n\t\t\t\t\t\tsw\t\t= w;\n\t\t\t\t\t\tsh\t\t= h;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if( strategy == 'height' ){\n\t\t\t\tdw = dh * sf;\n\t\t\t}\n\t\t\telse if( strategy == 'width' ){\n\t\t\t\tdh = dw / sf;\n\t\t\t}\n\t\t\telse if( strategy ){\n\t\t\t\tif( !(sw > dw || sh > dh) ){\n\t\t\t\t\tdw = sw;\n\t\t\t\t\tdh = sh;\n\t\t\t\t}\n\t\t\t\telse if( strategy == 'min' ){\n\t\t\t\t\tdw = round(sf < df ? min(sw, dw) : dh*sf);\n\t\t\t\t\tdh = round(sf < df ? dw/sf : min(sh, dh));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdw = round(sf >= df ? min(sw, dw) : dh*sf);\n\t\t\t\t\tdh = round(sf >= df ? dw/sf : min(sh, dh));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tm.sw = sw;\n\t\t\tm.sh = sh;\n\t\t\tm.dw = dw;\n\t\t\tm.dh = dh;\n\t\t\tm.multipass = api.multiPassResize;\n\t\t\treturn\tm;\n\t\t},\n\n\t\t_trans: function (fn){\n\t\t\tthis._load(this.file, function (err, image){\n\t\t\t\tif( err ){\n\t\t\t\t\tfn(err);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis._apply(image, fn);\n\t\t\t\t\t} catch (err){\n\t\t\t\t\t\tapi.log('[err] FileAPI.Image.fn._apply:', err);\n\t\t\t\t\t\tfn(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\tget: function (fn){\n\t\t\tif( api.support.transform ){\n\t\t\t\tvar _this = this, matrix = _this.matrix;\n\n\t\t\t\tif( matrix.deg == 'auto' ){\n\t\t\t\t\tapi.getInfo(_this.file, function (err, info){\n\t\t\t\t\t\t// rotate by exif orientation\n\t\t\t\t\t\tmatrix.deg = exifOrientation[info && info.exif && info.exif.Orientation] || 0;\n\t\t\t\t\t\t_this._trans(fn);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t_this._trans(fn);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfn('not_support_transform');\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\n\t\ttoData: function (fn){\n\t\t\treturn this.get(fn);\n\t\t}\n\n\t};\n\n\n\tImage.exifOrientation = exifOrientation;\n\n\n\tImage.transform = function (file, transform, autoOrientation, fn){\n\t\tfunction _transform(err, img){\n\t\t\t// img -- info object\n\t\t\tvar\n\t\t\t\t  images = {}\n\t\t\t\t, queue = api.queue(function (err){\n\t\t\t\t\tfn(err, images);\n\t\t\t\t})\n\t\t\t;\n\n\t\t\tif( !err ){\n\t\t\t\tapi.each(transform, function (params, name){\n\t\t\t\t\tif( !queue.isFail() ){\n\t\t\t\t\t\tvar ImgTrans = new Image(img.nodeType ? img : file), isFn = typeof params == 'function';\n\n\t\t\t\t\t\tif( isFn ){\n\t\t\t\t\t\t\tparams(img, ImgTrans);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( params.width ){\n\t\t\t\t\t\t\tImgTrans[params.preview ? 'preview' : 'resize'](params.width, params.height, params.strategy);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif( params.maxWidth && (img.width > params.maxWidth || img.height > params.maxHeight) ){\n\t\t\t\t\t\t\t\tImgTrans.resize(params.maxWidth, params.maxHeight, 'max');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( params.crop ){\n\t\t\t\t\t\t\tvar crop = params.crop;\n\t\t\t\t\t\t\tImgTrans.crop(crop.x|0, crop.y|0, crop.w || crop.width, crop.h || crop.height);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( params.rotate === undef && autoOrientation ){\n\t\t\t\t\t\t\tparams.rotate = 'auto';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tImgTrans.set({ type: ImgTrans.matrix.type || params.type || file.type || 'image/png' });\n\n\t\t\t\t\t\tif( !isFn ){\n\t\t\t\t\t\t\tImgTrans.set({\n\t\t\t\t\t\t\t\t  deg: params.rotate\n\t\t\t\t\t\t\t\t, overlay: params.overlay\n\t\t\t\t\t\t\t\t, filter: params.filter\n\t\t\t\t\t\t\t\t, quality: params.quality || 1\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tqueue.inc();\n\t\t\t\t\t\tImgTrans.toData(function (err, image){\n\t\t\t\t\t\t\tif( err ){\n\t\t\t\t\t\t\t\tqueue.fail();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\timages[name] = image;\n\t\t\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tqueue.fail();\n\t\t\t}\n\t\t}\n\n\n\t\t// @todo: -,    \n\t\tif( file.width ){\n\t\t\t_transform(false, file);\n\t\t} else {\n\t\t\tapi.getInfo(file, _transform);\n\t\t}\n\t};\n\n\n\t// @const\n\tapi.each(['TOP', 'CENTER', 'BOTTOM'], function (x, i){\n\t\tapi.each(['LEFT', 'CENTER', 'RIGHT'], function (y, j){\n\t\t\tImage[x+'_'+y] = i*3 + j;\n\t\t\tImage[y+'_'+x] = i*3 + j;\n\t\t});\n\t});\n\n\n\t/**\n\t * Trabsform element to canvas\n\t *\n\t * @param    {Image|HTMLVideoElement}   el\n\t * @returns  {Canvas}\n\t */\n\tImage.toCanvas = function(el){\n\t\tvar canvas\t\t= document.createElement('canvas');\n\t\tcanvas.width\t= el.videoWidth || el.width;\n\t\tcanvas.height\t= el.videoHeight || el.height;\n\t\tcanvas.getContext('2d').drawImage(el, 0, 0);\n\t\treturn\tcanvas;\n\t};\n\n\n\t/**\n\t * Create image from DataURL\n\t * @param  {String}  dataURL\n\t * @param  {Object}  size\n\t * @param  {Function}  callback\n\t */\n\tImage.fromDataURL = function (dataURL, size, callback){\n\t\tvar img = api.newImage(dataURL);\n\t\tapi.extend(img, size);\n\t\tcallback(img);\n\t};\n\n\n\t/**\n\t * Apply filter (caman.js)\n\t *\n\t * @param  {Canvas|Image}   canvas\n\t * @param  {String|Function}  filter\n\t * @param  {Function}  doneFn\n\t */\n\tImage.applyFilter = function (canvas, filter, doneFn){\n\t\tif( typeof filter == 'function' ){\n\t\t\tfilter(canvas, doneFn);\n\t\t}\n\t\telse if( window.Caman ){\n\t\t\t// http://camanjs.com/guides/\n\t\t\twindow.Caman(canvas.tagName == 'IMG' ? Image.toCanvas(canvas) : canvas, function (){\n\t\t\t\tif( typeof filter == 'string' ){\n\t\t\t\t\tthis[filter]();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tapi.each(filter, function (val, method){\n\t\t\t\t\t\tthis[method](val);\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t\tthis.render(doneFn);\n\t\t\t});\n\t\t}\n\t};\n\n\n\t/**\n\t * For load-image-ios.js\n\t */\n\tapi.renderImageToCanvas = function (canvas, img, sx, sy, sw, sh, dx, dy, dw, dh){\n\t\ttry {\n\t\t\treturn canvas.getContext('2d').drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh);\n\t\t} catch (ex) {\n\t\t\tapi.log('renderImageToCanvas failed');\n\t\t\tthrow ex;\n\t\t}\n\t};\n\n\n\t// @export\n\tapi.support.canvas = api.support.transform = support;\n\tapi.Image = Image;\n})(FileAPI, document);\n\n/*\n * JavaScript Load Image iOS scaling fixes 1.0.3\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * iOS image scaling fixes based on\n * https://github.com/stomita/ios-imagefile-megapixel\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/*jslint nomen: true, bitwise: true */\n/*global FileAPI, window, document */\n\n(function (factory) {\n\t'use strict';\n\tfactory(FileAPI);\n}(function (loadImage) {\n    'use strict';\n\n    // Only apply fixes on the iOS platform:\n    if (!window.navigator || !window.navigator.platform ||\n             !(/iP(hone|od|ad)/).test(window.navigator.platform)) {\n        return;\n    }\n\n    var originalRenderMethod = loadImage.renderImageToCanvas;\n\n    // Detects subsampling in JPEG images:\n    loadImage.detectSubsampling = function (img) {\n        var canvas,\n            context;\n        if (img.width * img.height > 1024 * 1024) { // only consider mexapixel images\n            canvas = document.createElement('canvas');\n            canvas.width = canvas.height = 1;\n            context = canvas.getContext('2d');\n            context.drawImage(img, -img.width + 1, 0);\n            // subsampled image becomes half smaller in rendering size.\n            // check alpha channel value to confirm image is covering edge pixel or not.\n            // if alpha value is 0 image is not covering, hence subsampled.\n            return context.getImageData(0, 0, 1, 1).data[3] === 0;\n        }\n        return false;\n    };\n\n    // Detects vertical squash in JPEG images:\n    loadImage.detectVerticalSquash = function (img, subsampled) {\n        var naturalHeight = img.naturalHeight || img.height,\n            canvas = document.createElement('canvas'),\n            context = canvas.getContext('2d'),\n            data,\n            sy,\n            ey,\n            py,\n            alpha;\n        if (subsampled) {\n            naturalHeight /= 2;\n        }\n        canvas.width = 1;\n        canvas.height = naturalHeight;\n        context.drawImage(img, 0, 0);\n        data = context.getImageData(0, 0, 1, naturalHeight).data;\n        // search image edge pixel position in case it is squashed vertically:\n        sy = 0;\n        ey = naturalHeight;\n        py = naturalHeight;\n        while (py > sy) {\n            alpha = data[(py - 1) * 4 + 3];\n            if (alpha === 0) {\n                ey = py;\n            } else {\n                sy = py;\n            }\n            py = (ey + sy) >> 1;\n        }\n        return (py / naturalHeight) || 1;\n    };\n\n    // Renders image to canvas while working around iOS image scaling bugs:\n    // https://github.com/blueimp/JavaScript-Load-Image/issues/13\n    loadImage.renderImageToCanvas = function (\n        canvas,\n        img,\n        sourceX,\n        sourceY,\n        sourceWidth,\n        sourceHeight,\n        destX,\n        destY,\n        destWidth,\n        destHeight\n    ) {\n        if (img._type === 'image/jpeg') {\n            var context = canvas.getContext('2d'),\n                tmpCanvas = document.createElement('canvas'),\n                tileSize = 1024,\n                tmpContext = tmpCanvas.getContext('2d'),\n                subsampled,\n                vertSquashRatio,\n                tileX,\n                tileY;\n            tmpCanvas.width = tileSize;\n            tmpCanvas.height = tileSize;\n            context.save();\n            subsampled = loadImage.detectSubsampling(img);\n            if (subsampled) {\n                sourceX /= 2;\n                sourceY /= 2;\n                sourceWidth /= 2;\n                sourceHeight /= 2;\n            }\n            vertSquashRatio = loadImage.detectVerticalSquash(img, subsampled);\n            if (subsampled || vertSquashRatio !== 1) {\n                sourceY *= vertSquashRatio;\n                destWidth = Math.ceil(tileSize * destWidth / sourceWidth);\n                destHeight = Math.ceil(\n                    tileSize * destHeight / sourceHeight / vertSquashRatio\n                );\n                destY = 0;\n                tileY = 0;\n                while (tileY < sourceHeight) {\n                    destX = 0;\n                    tileX = 0;\n                    while (tileX < sourceWidth) {\n                        tmpContext.clearRect(0, 0, tileSize, tileSize);\n                        tmpContext.drawImage(\n                            img,\n                            sourceX,\n                            sourceY,\n                            sourceWidth,\n                            sourceHeight,\n                            -tileX,\n                            -tileY,\n                            sourceWidth,\n                            sourceHeight\n                        );\n                        context.drawImage(\n                            tmpCanvas,\n                            0,\n                            0,\n                            tileSize,\n                            tileSize,\n                            destX,\n                            destY,\n                            destWidth,\n                            destHeight\n                        );\n                        tileX += tileSize;\n                        destX += destWidth;\n                    }\n                    tileY += tileSize;\n                    destY += destHeight;\n                }\n                context.restore();\n                return canvas;\n            }\n        }\n        return originalRenderMethod(\n            canvas,\n            img,\n            sourceX,\n            sourceY,\n            sourceWidth,\n            sourceHeight,\n            destX,\n            destY,\n            destWidth,\n            destHeight\n        );\n    };\n\n}));\n\n/*global window, FileAPI */\n\n(function (api, window){\n\t\"use strict\";\n\n\tvar\n\t\t  document = window.document\n\t\t, FormData = window.FormData\n\t\t, Form = function (){ this.items = []; }\n\t\t, encodeURIComponent = window.encodeURIComponent\n\t;\n\n\n\tForm.prototype = {\n\n\t\tappend: function (name, blob, file, type){\n\t\t\tthis.items.push({\n\t\t\t\t  name: name\n\t\t\t\t, blob: blob && blob.blob || (blob == void 0 ? '' : blob)\n\t\t\t\t, file: blob && (file || blob.name)\n\t\t\t\t, type:\tblob && (type || blob.type)\n\t\t\t});\n\t\t},\n\n\t\teach: function (fn){\n\t\t\tvar i = 0, n = this.items.length;\n\t\t\tfor( ; i < n; i++ ){\n\t\t\t\tfn.call(this, this.items[i]);\n\t\t\t}\n\t\t},\n\n\t\ttoData: function (fn, options){\n\t\t    // allow chunked transfer if we have only one file to send\n\t\t    // flag is used below and in XHR._send\n\t\t    options._chunked = api.support.chunked && options.chunkSize > 0 && api.filter(this.items, function (item){ return item.file; }).length == 1;\n\n\t\t\tif( !api.support.html5 ){\n\t\t\t\tapi.log('FileAPI.Form.toHtmlData');\n\t\t\t\tthis.toHtmlData(fn);\n\t\t\t}\n\t\t\telse if( !api.formData || this.multipart || !FormData ){\n\t\t\t\tapi.log('FileAPI.Form.toMultipartData');\n\t\t\t\tthis.toMultipartData(fn);\n\t\t\t}\n\t\t\telse if( options._chunked ){\n\t\t\t\tapi.log('FileAPI.Form.toPlainData');\n\t\t\t\tthis.toPlainData(fn);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tapi.log('FileAPI.Form.toFormData');\n\t\t\t\tthis.toFormData(fn);\n\t\t\t}\n\t\t},\n\n\t\t_to: function (data, complete, next, arg){\n\t\t\tvar queue = api.queue(function (){\n\t\t\t\tcomplete(data);\n\t\t\t});\n\n\t\t\tthis.each(function (file){\n\t\t\t\ttry{\n\t\t\t\t\tnext(file, data, queue, arg);\n\t\t\t\t}\n\t\t\t\tcatch( err ){\n\t\t\t\t\tapi.log('FileAPI.Form._to: ' + err.message);\n\t\t\t\t\tcomplete(err);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tqueue.check();\n\t\t},\n\n\n\t\ttoHtmlData: function (fn){\n\t\t\tthis._to(document.createDocumentFragment(), fn, function (file, data/**DocumentFragment*/){\n\t\t\t\tvar blob = file.blob, hidden;\n\n\t\t\t\tif( file.file ){\n\t\t\t\t\tapi.reset(blob, true);\n\t\t\t\t\t// set new name\n\t\t\t\t\tblob.name = file.name;\n\t\t\t\t\tblob.disabled = false;\n\t\t\t\t\tdata.appendChild(blob);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\thidden = document.createElement('input');\n\t\t\t\t\thidden.name  = file.name;\n\t\t\t\t\thidden.type  = 'hidden';\n\t\t\t\t\thidden.value = blob;\n\t\t\t\t\tdata.appendChild(hidden);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\ttoPlainData: function (fn){\n\t\t\tthis._to({}, fn, function (file, data, queue){\n\t\t\t\tif( file.file ){\n\t\t\t\t\tdata.type = file.file;\n\t\t\t\t}\n\n\t\t\t\tif( file.blob.toBlob ){\n\t\t\t\t    // canvas\n\t\t\t\t\tqueue.inc();\n\t\t\t\t\t_convertFile(file, function (file, blob){\n\t\t\t\t\t\tdata.name = file.name;\n\t\t\t\t\t\tdata.file = blob;\n\t\t\t\t\t\tdata.size = blob.length;\n\t\t\t\t\t\tdata.type = file.type;\n\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if( file.file ){\n\t\t\t\t    // file\n\t\t\t\t\tdata.name = file.blob.name;\n\t\t\t\t\tdata.file = file.blob;\n\t\t\t\t\tdata.size = file.blob.size;\n\t\t\t\t\tdata.type = file.type;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t    // additional data\n\t\t\t\t    if( !data.params ){\n\t\t\t\t        data.params = [];\n\t\t\t\t    }\n\t\t\t\t    data.params.push(encodeURIComponent(file.name) +\"=\"+ encodeURIComponent(file.blob));\n\t\t\t\t}\n\n\t\t\t\tdata.start = -1;\n\t\t\t\tdata.end = data.file && data.file.FileAPIReadPosition || -1;\n\t\t\t\tdata.retry = 0;\n\t\t\t});\n\t\t},\n\n\t\ttoFormData: function (fn){\n\t\t\tthis._to(new FormData, fn, function (file, data, queue){\n\t\t\t\tif( file.blob && file.blob.toBlob ){\n\t\t\t\t\tqueue.inc();\n\t\t\t\t\t_convertFile(file, function (file, blob){\n\t\t\t\t\t\tdata.append(file.name, blob, file.file);\n\t\t\t\t\t\tqueue.next();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if( file.file ){\n\t\t\t\t\tdata.append(file.name, file.blob, file.file);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdata.append(file.name, file.blob);\n\t\t\t\t}\n\n\t\t\t\tif( file.file ){\n\t\t\t\t\tdata.append('_'+file.name, file.file);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\ttoMultipartData: function (fn){\n\t\t\tthis._to([], fn, function (file, data, queue, boundary){\n\t\t\t\tqueue.inc();\n\t\t\t\t_convertFile(file, function (file, blob){\n\t\t\t\t\tdata.push(\n\t\t\t\t\t\t  '--_' + boundary + ('\\r\\nContent-Disposition: form-data; name=\"'+ file.name +'\"'+ (file.file ? '; filename=\"'+ encodeURIComponent(file.file) +'\"' : '')\n\t\t\t\t\t\t+ (file.file ? '\\r\\nContent-Type: '+ (file.type || 'application/octet-stream') : '')\n\t\t\t\t\t\t+ '\\r\\n'\n\t\t\t\t\t\t+ '\\r\\n'+ (file.file ? blob : encodeURIComponent(blob))\n\t\t\t\t\t\t+ '\\r\\n')\n\t\t\t\t\t);\n\t\t\t\t\tqueue.next();\n\t\t\t\t}, true);\n\t\t\t}, api.expando);\n\t\t}\n\t};\n\n\n\tfunction _convertFile(file, fn, useBinaryString){\n\t\tvar blob = file.blob, filename = file.file;\n\n\t\tif( filename ){\n\t\t\tif( !blob.toDataURL ){\n\t\t\t\t// The Blob is not an image.\n\t\t\t\tapi.readAsBinaryString(blob, function (evt){\n\t\t\t\t\tif( evt.type == 'load' ){\n\t\t\t\t\t\tfn(file, evt.result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar\n\t\t\t\t  mime = { 'image/jpeg': '.jpe?g', 'image/png': '.png' }\n\t\t\t\t, type = mime[file.type] ? file.type : 'image/png'\n\t\t\t\t, ext  = mime[type] || '.png'\n\t\t\t\t, quality = blob.quality || 1\n\t\t\t;\n\n\t\t\tif( !filename.match(new RegExp(ext+'$', 'i')) ){\n\t\t\t\t// Does not change the current extension, but add a new one.\n\t\t\t\tfilename += ext.replace('?', '');\n\t\t\t}\n\n\t\t\tfile.file = filename;\n\t\t\tfile.type = type;\n\n\t\t\tif( !useBinaryString && blob.toBlob ){\n\t\t\t\tblob.toBlob(function (blob){\n\t\t\t\t\tfn(file, blob);\n\t\t\t\t}, type, quality);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfn(file, api.toBinaryString(blob.toDataURL(type, quality)));\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfn(file, blob);\n\t\t}\n\t}\n\n\n\t// @export\n\tapi.Form = Form;\n})(FileAPI, window);\n\n/*global window, FileAPI, Uint8Array */\n\n(function (window, api){\n\t\"use strict\";\n\n\tvar\n\t\t  noop = function (){}\n\t\t, document = window.document\n\n\t\t, XHR = function (options){\n\t\t\tthis.uid = api.uid();\n\t\t\tthis.xhr = {\n\t\t\t\t  abort: noop\n\t\t\t\t, getResponseHeader: noop\n\t\t\t\t, getAllResponseHeaders: noop\n\t\t\t};\n\t\t\tthis.options = options;\n\t\t},\n\n\t\t_xhrResponsePostfix = { '': 1, XML: 1, Text: 1, Body: 1 }\n\t;\n\n\n\tXHR.prototype = {\n\t\tstatus: 0,\n\t\tstatusText: '',\n\t\tconstructor: XHR,\n\n\t\tgetResponseHeader: function (name){\n\t\t\treturn this.xhr.getResponseHeader(name);\n\t\t},\n\n\t\tgetAllResponseHeaders: function (){\n\t\t\treturn this.xhr.getAllResponseHeaders() || {};\n\t\t},\n\n\t\tend: function (status, statusText){\n\t\t\tvar _this = this, options = _this.options;\n\n\t\t\t_this.end\t\t=\n\t\t\t_this.abort\t\t= noop;\n\t\t\t_this.status\t= status;\n\n\t\t\tif( statusText ){\n\t\t\t\t_this.statusText = statusText;\n\t\t\t}\n\n\t\t\tapi.log('xhr.end:', status, statusText);\n\t\t\toptions.complete(status == 200 || status == 201 ? false : _this.statusText || 'unknown', _this);\n\n\t\t\tif( _this.xhr && _this.xhr.node ){\n\t\t\t\tsetTimeout(function (){\n\t\t\t\t\tvar node = _this.xhr.node;\n\t\t\t\t\ttry { node.parentNode.removeChild(node); } catch (e){}\n\t\t\t\t\ttry { delete window[_this.uid]; } catch (e){}\n\t\t\t\t\twindow[_this.uid] = _this.xhr.node = null;\n\t\t\t\t}, 9);\n\t\t\t}\n\t\t},\n\n\t\tabort: function (){\n\t\t\tthis.end(0, 'abort');\n\n\t\t\tif( this.xhr ){\n\t\t\t\tthis.xhr.aborted = true;\n\t\t\t\tthis.xhr.abort();\n\t\t\t}\n\t\t},\n\n\t\tsend: function (FormData){\n\t\t\tvar _this = this, options = this.options;\n\n\t\t\tFormData.toData(function (data){\n\t\t\t\tif( data instanceof Error ){\n\t\t\t\t\t_this.end(0, data.message);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t// Start uploading\n\t\t\t\t\toptions.upload(options, _this);\n\t\t\t\t\t_this._send.call(_this, options, data);\n\t\t\t\t}\n\t\t\t}, options);\n\t\t},\n\n\t\t_send: function (options, data){\n\t\t\tvar _this = this, xhr, uid = _this.uid, onLoadFnName = _this.uid + \"Load\", url = options.url;\n\n\t\t\tapi.log('XHR._send:', data);\n\n\t\t\tif( !options.cache ){\n\t\t\t\t// No cache\n\t\t\t\turl += (~url.indexOf('?') ? '&' : '?') + api.uid();\n\t\t\t}\n\n\t\t\tif( data.nodeName ){\n\t\t\t\tvar jsonp = options.jsonp;\n\n\t\t\t\t// prepare callback in GET\n\t\t\t\turl = url.replace(/([a-z]+)=(\\?)/i, '$1='+uid);\n\n\t\t\t\t// legacy\n\t\t\t\toptions.upload(options, _this);\n\n\t\t\t\tvar\n\t\t\t\t\tonPostMessage = function (evt){\n\t\t\t\t\t\tif( ~url.indexOf(evt.origin) ){\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar result = api.parseJSON(evt.data);\n\t\t\t\t\t\t\t\tif( result.id == uid ){\n\t\t\t\t\t\t\t\t\tcomplete(result.status, result.statusText, result.response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch( err ){\n\t\t\t\t\t\t\t\tcomplete(0, err.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t// jsonp-callack\n\t\t\t\t\tcomplete = window[uid] = function (status, statusText, response){\n\t\t\t\t\t\t_this.readyState\t= 4;\n\t\t\t\t\t\t_this.responseText\t= response;\n\t\t\t\t\t\t_this.end(status, statusText);\n\n\t\t\t\t\t\tapi.event.off(window, 'message', onPostMessage);\n\t\t\t\t\t\twindow[uid] = xhr = transport = window[onLoadFnName] = null;\n\t\t\t\t\t}\n\t\t\t\t;\n\n\t\t\t\t_this.xhr.abort = function (){\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif( transport.stop ){ transport.stop(); }\n\t\t\t\t\t\telse if( transport.contentWindow.stop ){ transport.contentWindow.stop(); }\n\t\t\t\t\t\telse { transport.contentWindow.document.execCommand('Stop'); }\n\t\t\t\t\t}\n\t\t\t\t\tcatch (er) {}\n\t\t\t\t\tcomplete(0, \"abort\");\n\t\t\t\t};\n\n\t\t\t\tapi.event.on(window, 'message', onPostMessage);\n\n\t\t\t\twindow[onLoadFnName] = function (){\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t  win = transport.contentWindow\n\t\t\t\t\t\t\t, doc = win.document\n\t\t\t\t\t\t\t, result = win.result || api.parseJSON(doc.body.innerHTML)\n\t\t\t\t\t\t;\n\t\t\t\t\t\tcomplete(result.status, result.statusText, result.response);\n\t\t\t\t\t} catch (e){\n\t\t\t\t\t\tapi.log('[transport.onload]', e);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\txhr = document.createElement('div');\n\t\t\t\txhr.innerHTML = '<form target=\"'+ uid +'\" action=\"'+ url +'\" method=\"POST\" enctype=\"multipart/form-data\" style=\"position: absolute; top: -1000px; overflow: hidden; width: 1px; height: 1px;\">'\n\t\t\t\t\t\t\t+ '<iframe name=\"'+ uid +'\" src=\"javascript:false;\" onload=\"window.' + onLoadFnName + ' && ' + onLoadFnName + '();\"></iframe>'\n\t\t\t\t\t\t\t+ (jsonp && (options.url.indexOf('=?') < 0) ? '<input value=\"'+ uid +'\" name=\"'+jsonp+'\" type=\"hidden\"/>' : '')\n\t\t\t\t\t\t\t+ '</form>'\n\t\t\t\t;\n\n\t\t\t\t// get form-data & transport\n\t\t\t\tvar\n\t\t\t\t\t  form = xhr.getElementsByTagName('form')[0]\n\t\t\t\t\t, transport = xhr.getElementsByTagName('iframe')[0]\n\t\t\t\t;\n\n\t\t\t\tform.appendChild(data);\n\n\t\t\t\tapi.log(form.parentNode.innerHTML);\n\n\t\t\t\t// append to DOM\n\t\t\t\tdocument.body.appendChild(xhr);\n\n\t\t\t\t// keep a reference to node-transport\n\t\t\t\t_this.xhr.node = xhr;\n\n\t\t\t\t// send\n\t\t\t\t_this.readyState = 2; // loaded\n\t\t\t\ttry {\n\t\t\t\t\tform.submit();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tapi.log('iframe.error: ' + err);\n\t\t\t\t}\n\t\t\t\tform = null;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Clean url\n\t\t\t\turl = url.replace(/([a-z]+)=(\\?)&?/i, '');\n\n\t\t\t\t// html5\n\t\t\t\tif (this.xhr && this.xhr.aborted) {\n\t\t\t\t\tapi.log(\"Error: already aborted\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\txhr = _this.xhr = api.getXHR();\n\n\t\t\t\tif (data.params) {\n\t\t\t\t\turl += (url.indexOf('?') < 0 ? \"?\" : \"&\") + data.params.join(\"&\");\n\t\t\t\t}\n\n\t\t\t\txhr.open('POST', url, true);\n\n\t\t\t\tif( api.withCredentials ){\n\t\t\t\t\txhr.withCredentials = \"true\";\n\t\t\t\t}\n\n\t\t\t\tif( !options.headers || !options.headers['X-Requested-With'] ){\n\t\t\t\t\txhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t\t\t\t}\n\n\t\t\t\tapi.each(options.headers, function (val, key){\n\t\t\t\t\txhr.setRequestHeader(key, val);\n\t\t\t\t});\n\n\n\t\t\t\tif ( options._chunked ) {\n\t\t\t\t\t// chunked upload\n\t\t\t\t\tif( xhr.upload ){\n\t\t\t\t\t\txhr.upload.addEventListener('progress', api.throttle(function (/**Event*/evt){\n\t\t\t\t\t\t\tif (!data.retry) {\n\t\t\t\t\t\t\t\t// show progress only for correct chunk uploads\n\t\t\t\t\t\t\t\toptions.progress({\n\t\t\t\t\t\t\t\t\t  type:\t\t\tevt.type\n\t\t\t\t\t\t\t\t\t, total:\t\tdata.size\n\t\t\t\t\t\t\t\t\t, loaded:\t\tdata.start + evt.loaded\n\t\t\t\t\t\t\t\t\t, totalSize:\tdata.size\n\t\t\t\t\t\t\t\t}, _this, options);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 100), false);\n\t\t\t\t\t}\n\n\t\t\t\t\txhr.onreadystatechange = function (){\n\t\t\t\t\t\tvar lkb = parseInt(xhr.getResponseHeader('X-Last-Known-Byte'), 10);\n\n\t\t\t\t\t\t_this.status     = xhr.status;\n\t\t\t\t\t\t_this.statusText = xhr.statusText;\n\t\t\t\t\t\t_this.readyState = xhr.readyState;\n\n\t\t\t\t\t\tif( xhr.readyState == 4 ){\n\t\t\t\t\t\t\tfor( var k in _xhrResponsePostfix ){\n\t\t\t\t\t\t\t\t_this['response'+k]  = xhr['response'+k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif (!xhr.status || xhr.status - 201 > 0) {\n\t\t\t\t\t\t\t\tapi.log(\"Error: \" + xhr.status);\n\t\t\t\t\t\t\t\t// some kind of error\n\t\t\t\t\t\t\t\t// 0 - connection fail or timeout, if xhr.aborted is true, then it's not recoverable user action\n\t\t\t\t\t\t\t\t// up - server error\n\t\t\t\t\t\t\t\tif (((!xhr.status && !xhr.aborted) || 500 == xhr.status || 416 == xhr.status) && ++data.retry <= options.chunkUploadRetry) {\n\t\t\t\t\t\t\t\t\t// let's try again the same chunk\n\t\t\t\t\t\t\t\t\t// only applicable for recoverable error codes 500 && 416\n\t\t\t\t\t\t\t\t\tvar delay = xhr.status ? 0 : api.chunkNetworkDownRetryTimeout;\n\n\t\t\t\t\t\t\t\t\t// inform about recoverable problems\n\t\t\t\t\t\t\t\t\toptions.pause(data.file, options);\n\n\t\t\t\t\t\t\t\t\t// smart restart if server reports about the last known byte\n\t\t\t\t\t\t\t\t\tapi.log(\"X-Last-Known-Byte: \" + lkb);\n\t\t\t\t\t\t\t\t\tif (lkb) {\n\t\t\t\t\t\t\t\t\t\tdata.end = lkb;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdata.end = data.start - 1;\n\t\t\t\t\t\t\t\t\t\tif (416 == xhr.status) {\n\t\t\t\t\t\t\t\t\t\t\tdata.end = data.end - options.chunkSize;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t_this._send(options, data);\n\t\t\t\t\t\t\t\t\t}, delay);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// no mo retries\n\t\t\t\t\t\t\t\t\t_this.end(xhr.status);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// success\n\t\t\t\t\t\t\t\tdata.retry = 0;\n\n\t\t\t\t\t\t\t\tif (data.end == data.size - 1) {\n\t\t\t\t\t\t\t\t\t// finished\n\t\t\t\t\t\t\t\t\t_this.end(xhr.status);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// next chunk\n\n\t\t\t\t\t\t\t\t\t// shift position if server reports about the last known byte\n\t\t\t\t\t\t\t\t\tapi.log(\"X-Last-Known-Byte: \" + lkb);\n\t\t\t\t\t\t\t\t\tif (lkb) {\n\t\t\t\t\t\t\t\t\t\tdata.end = lkb;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdata.file.FileAPIReadPosition = data.end;\n\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t_this._send(options, data);\n\t\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\txhr = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tdata.start = data.end + 1;\n\t\t\t\t\tdata.end = Math.max(Math.min(data.start + options.chunkSize, data.size) - 1, data.start);\n\n\t\t\t\t\t// Retrieve a slice of file\n\t\t\t\t\tvar\n\t\t\t\t\t\t  file = data.file\n\t\t\t\t\t\t, slice = (file.slice || file.mozSlice || file.webkitSlice).call(file, data.start, data.end + 1)\n\t\t\t\t\t;\n\n\t\t\t\t\tif( data.size && !slice.size ){\n\t\t\t\t\t\tsetTimeout(function (){\n\t\t\t\t\t\t\t_this.end(-1);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\txhr.setRequestHeader(\"Content-Range\", \"bytes \" + data.start + \"-\" + data.end + \"/\" + data.size);\n\t\t\t\t\t\txhr.setRequestHeader(\"Content-Disposition\", 'attachment; filename=' + encodeURIComponent(data.name));\n\t\t\t\t\t\txhr.setRequestHeader(\"Content-Type\", data.type || \"application/octet-stream\");\n\n\t\t\t\t\t\txhr.send(slice);\n\t\t\t\t\t}\n\n\t\t\t\t\tfile = slice = null;\n\t\t\t\t} else {\n\t\t\t\t\t// single piece upload\n\t\t\t\t\tif( xhr.upload ){\n\t\t\t\t\t\t// https://github.com/blueimp/jQuery-File-Upload/wiki/Fixing-Safari-hanging-on-very-high-speed-connections-%281Gbps%29\n\t\t\t\t\t\txhr.upload.addEventListener('progress', api.throttle(function (/**Event*/evt){\n\t\t\t\t\t\t\toptions.progress(evt, _this, options);\n\t\t\t\t\t\t}, 100), false);\n\t\t\t\t\t}\n\n\t\t\t\t\txhr.onreadystatechange = function (){\n\t\t\t\t\t\t_this.status     = xhr.status;\n\t\t\t\t\t\t_this.statusText = xhr.statusText;\n\t\t\t\t\t\t_this.readyState = xhr.readyState;\n\n\t\t\t\t\t\tif( xhr.readyState == 4 ){\n\t\t\t\t\t\t\tfor( var k in _xhrResponsePostfix ){\n\t\t\t\t\t\t\t\t_this['response'+k]  = xhr['response'+k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif (!xhr.status || xhr.status > 201) {\n\t\t\t\t\t\t\t\tapi.log(\"Error: \" + xhr.status);\n\t\t\t\t\t\t\t\tif (((!xhr.status && !xhr.aborted) || 500 == xhr.status) && (options.retry || 0) < options.uploadRetry) {\n\t\t\t\t\t\t\t\t\toptions.retry = (options.retry || 0) + 1;\n\t\t\t\t\t\t\t\t\tvar delay = api.networkDownRetryTimeout;\n\n\t\t\t\t\t\t\t\t\t// inform about recoverable problems\n\t\t\t\t\t\t\t\t\toptions.pause(options.file, options);\n\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t_this._send(options, data);\n\t\t\t\t\t\t\t\t\t}, delay);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t//success\n\t\t\t\t\t\t\t\t\t_this.end(xhr.status);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t//success\n\t\t\t\t\t\t\t\t_this.end(xhr.status);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\txhr = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif( api.isArray(data) ){\n\t\t\t\t\t\t// multipart\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=_'+api.expando);\n\t\t\t\t\t\tvar rawData = data.join('') +'--_'+ api.expando +'--';\n\n\t\t\t\t\t\t/** @namespace  xhr.sendAsBinary  https://developer.mozilla.org/ru/XMLHttpRequest#Sending_binary_content */\n\t\t\t\t\t\tif( xhr.sendAsBinary ){\n\t\t\t\t\t\t\txhr.sendAsBinary(rawData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar bytes = Array.prototype.map.call(rawData, function(c){ return c.charCodeAt(0) & 0xff; });\n\t\t\t\t\t\t\txhr.send(new Uint8Array(bytes).buffer);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// FormData\n\t\t\t\t\t\txhr.send(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\t// @export\n\tapi.XHR = XHR;\n})(window, FileAPI);\n\n/**\n * @class\tFileAPI.Camera\n * @author\tRubaXa\t<trash@rubaxa.org>\n * @support\tChrome 21+, FF 18+, Opera 12+\n */\n\n/*global window, FileAPI, jQuery */\n/** @namespace LocalMediaStream -- https://developer.mozilla.org/en-US/docs/WebRTC/MediaStream_API#LocalMediaStream */\n(function (window, api){\n\t\"use strict\";\n\n\tvar\n\t\tURL = window.URL || window.webkitURL,\n\n\t\tdocument = window.document,\n\t\tnavigator = window.navigator,\n\n\t\tgetMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia,\n\n\t\thtml5 = !!getMedia\n\t;\n\n\n\t// Support \"media\"\n\tapi.support.media = html5;\n\n\n\tvar Camera = function (video){\n\t\tthis.video = video;\n\t};\n\n\n\tCamera.prototype = {\n\t\tisActive: function (){\n\t\t\treturn\t!!this._active;\n\t\t},\n\n\n\t\t/**\n\t\t * Start camera streaming\n\t\t * @param\t{Function}\tcallback\n\t\t */\n\t\tstart: function (callback){\n\t\t\tvar\n\t\t\t\t  _this = this\n\t\t\t\t, video = _this.video\n\t\t\t\t, _successId\n\t\t\t\t, _failId\n\t\t\t\t, _complete = function (err){\n\t\t\t\t\t_this._active = !err;\n\t\t\t\t\tclearTimeout(_failId);\n\t\t\t\t\tclearTimeout(_successId);\n//\t\t\t\t\tapi.event.off(video, 'loadedmetadata', _complete);\n\t\t\t\t\tcallback && callback(err, _this);\n\t\t\t\t}\n\t\t\t;\n\n\t\t\tgetMedia.call(navigator, { video: true }, function (stream/**LocalMediaStream*/){\n\t\t\t\t// Success\n\t\t\t\t_this.stream = stream;\n\n//\t\t\t\tapi.event.on(video, 'loadedmetadata', function (){\n//\t\t\t\t\t_complete(null);\n//\t\t\t\t});\n\n\t\t\t\t// Set camera stream\n\t\t\t\tvideo.src = URL.createObjectURL(stream);\n\n\t\t\t\t// Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.\n\t\t\t\t// See crbug.com/110938.\n\t\t\t\t_successId = setInterval(function (){\n\t\t\t\t\tif( _detectVideoSignal(video) ){\n\t\t\t\t\t\t_complete(null);\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\n\t\t\t\t_failId = setTimeout(function (){\n\t\t\t\t\t_complete('timeout');\n\t\t\t\t}, 5000);\n\n\t\t\t\t// Go-go-go!\n\t\t\t\tvideo.play();\n\t\t\t}, _complete/*error*/);\n\t\t},\n\n\n\t\t/**\n\t\t * Stop camera streaming\n\t\t */\n\t\tstop: function (){\n\t\t\ttry {\n\t\t\t\tthis._active = false;\n\t\t\t\tthis.video.pause();\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.stream.stop();\n\t\t\t\t} catch (err) {\n\t\t\t\t\tapi.each(this.stream.getTracks(), function (track) {\n\t\t\t\t\t\ttrack.stop();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.stream = null;\n\t\t\t} catch( err ){\n\t\t\t\tapi.log('[FileAPI.Camera] stop:', err);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Create screenshot\n\t\t * @return {FileAPI.Camera.Shot}\n\t\t */\n\t\tshot: function (){\n\t\t\treturn\tnew Shot(this.video);\n\t\t}\n\t};\n\n\n\t/**\n\t * Get camera element from container\n\t *\n\t * @static\n\t * @param\t{HTMLElement}\tel\n\t * @return\t{Camera}\n\t */\n\tCamera.get = function (el){\n\t\treturn\tnew Camera(el.firstChild);\n\t};\n\n\n\t/**\n\t * Publish camera element into container\n\t *\n\t * @static\n\t * @param\t{HTMLElement}\tel\n\t * @param\t{Object}\t\toptions\n\t * @param\t{Function}\t\t[callback]\n\t */\n\tCamera.publish = function (el, options, callback){\n\t\tif( typeof options == 'function' ){\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t}\n\n\t\t// Dimensions of \"camera\"\n\t\toptions = api.extend({}, {\n\t\t\t  width:\t'100%'\n\t\t\t, height:\t'100%'\n\t\t\t, start:\ttrue\n\t\t}, options);\n\n\n\t\tif( el.jquery ){\n\t\t\t// Extract first element, from jQuery collection\n\t\t\tel = el[0];\n\t\t}\n\n\n\t\tvar doneFn = function (err){\n\t\t\tif( err ){\n\t\t\t\tcallback(err);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Get camera\n\t\t\t\tvar cam = Camera.get(el);\n\t\t\t\tif( options.start ){\n\t\t\t\t\tcam.start(callback);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallback(null, cam);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\n\t\tel.style.width\t= _px(options.width);\n\t\tel.style.height\t= _px(options.height);\n\n\n\t\tif( api.html5 && html5 && !api.insecureChrome ){\n\t\t\t// Create video element\n\t\t\tvar video = document.createElement('video');\n\n\t\t\t// Set dimensions\n\t\t\tvideo.style.width\t= _px(options.width);\n\t\t\tvideo.style.height\t= _px(options.height);\n\n\t\t\t// Clean container\n\t\t\tif( window.jQuery ){\n\t\t\t\tjQuery(el).empty();\n\t\t\t} else {\n\t\t\t\tel.innerHTML = '';\n\t\t\t}\n\n\t\t\t// Add \"camera\" to container\n\t\t\tel.appendChild(video);\n\n\t\t\t// end\n\t\t\tdoneFn();\n\t\t}\n\t\telse {\n\t\t\tCamera.fallback(el, options, doneFn);\n\t\t}\n\t};\n\n\n\tCamera.fallback = function (el, options, callback){\n\t\tcallback('not_support_camera');\n\t};\n\n\tCamera.checkAlreadyCaptured = (function () {\n\t\tvar\tmediaDevices = navigator.mediaDevices,\n\t\t\tMediaStreamTrack = window.MediaStreamTrack,\n\t\t\tnavigatorEnumerateDevices = navigator.enumerateDevices,\n\t\t\tenumerateDevices;\n\n\t\tif (mediaDevices && mediaDevices.enumerateDevices) {\n\t\t\tenumerateDevices = function (callback) {\n\t\t\t\tmediaDevices.enumerateDevices().then(callback);\n\t\t\t};\n\t\t} else if (MediaStreamTrack && MediaStreamTrack.getSources) {\n\t\t\tenumerateDevices = MediaStreamTrack.getSources.bind(MediaStreamTrack);\n\t\t} else if (navigatorEnumerateDevices) {\n\t\t\tenumerateDevices = navigatorEnumerateDevices.bind(navigator);\n\t\t} else {\n\t\t\tenumerateDevices = function (fn) {\n\t\t\t\tfn([]);\n\t\t\t};\n\t\t}\n\n\t\treturn function (callback) {\n\t\t\tenumerateDevices(function (devices) {\n\t\t\t\tvar deviceExists = devices.some(function (device) {\n\t\t\t\t\treturn (device.kind === 'videoinput' || device.kind === 'video') && device.label;\n\t\t\t\t});\n\n\t\t\t\tcallback(deviceExists);\n\t\t\t});\n\t\t};\n\n\t})();\n\n\n\t/**\n\t * @class\tFileAPI.Camera.Shot\n\t */\n\tvar Shot = function (video){\n\t\tvar canvas\t= video.nodeName ? api.Image.toCanvas(video) : video;\n\t\tvar shot\t= api.Image(canvas);\n\t\tshot.type\t= 'image/png';\n\t\tshot.width\t= canvas.width;\n\t\tshot.height\t= canvas.height;\n\t\tshot.size\t= canvas.width * canvas.height * 4;\n\t\treturn\tshot;\n\t};\n\n\n\t/**\n\t * Add \"px\" postfix, if value is a number\n\t *\n\t * @private\n\t * @param\t{*}  val\n\t * @return\t{String}\n\t */\n\tfunction _px(val){\n\t\treturn\tval >= 0 ? val + 'px' : val;\n\t}\n\n\n\t/**\n\t * @private\n\t * @param\t{HTMLVideoElement} video\n\t * @return\t{Boolean}\n\t */\n\tfunction _detectVideoSignal(video){\n\t\tvar canvas = document.createElement('canvas'), ctx, res = false;\n\t\ttry {\n\t\t\tctx = canvas.getContext('2d');\n\t\t\tctx.drawImage(video, 0, 0, 1, 1);\n\t\t\tres = ctx.getImageData(0, 0, 1, 1).data[4] != 255;\n\t\t}\n\t\tcatch( err ){\n\t\t\tapi.log('[FileAPI.Camera] detectVideoSignal:', err);\n\t\t}\n\t\treturn\tres;\n\t}\n\n\n\t// @export\n\tCamera.Shot\t= Shot;\n\tapi.Camera\t= Camera;\n})(window, FileAPI);\n\n/**\n * FileAPI fallback to Flash\n *\n * @flash-developer  \"Vladimir Demidov\" <v.demidov@corp.mail.ru>\n */\n\n/*global window, ActiveXObject, FileAPI */\n(function (window, jQuery, api) {\n\t\"use strict\";\n\n\tvar\n\t\t  document = window.document\n\t\t, location = window.location\n\t\t, navigator = window.navigator\n\t\t, _each = api.each\n\t;\n\n\n\tapi.support.flash = (function (){\n\t\tvar mime = navigator.mimeTypes, has = false;\n\n\t\tif( navigator.plugins && typeof navigator.plugins['Shockwave Flash'] == 'object' ){\n\t\t\thas\t= navigator.plugins['Shockwave Flash'].description && !(mime && mime['application/x-shockwave-flash'] && !mime['application/x-shockwave-flash'].enabledPlugin);\n\t\t}\n\t\telse {\n\t\t\ttry {\n\t\t\t\thas\t= !!(window.ActiveXObject && new ActiveXObject('ShockwaveFlash.ShockwaveFlash'));\n\t\t\t}\n\t\t\tcatch(er){\n\t\t\t\tapi.log('Flash -- does not supported.');\n\t\t\t}\n\t\t}\n\n\t\tif( has && /^file:/i.test(location) ){\n\t\t\tapi.log('[warn] Flash does not work on `file:` protocol.');\n\t\t}\n\n\t\treturn\thas;\n\t})();\n\n\n\t   api.support.flash\n\t&& (0\n\t\t|| !api.html5 || !api.support.html5\n\t\t|| (api.cors && !api.support.cors)\n\t\t|| (api.media && !api.support.media)\n\t\t|| api.insecureChrome\n\t)\n\t&& (function (){\n\t\tvar\n\t\t\t  _attr  = api.uid()\n\t\t\t, _retry = 0\n\t\t\t, _files = {}\n\t\t\t, _rhttp = /^https?:/i\n\n\t\t\t, flash = {\n\t\t\t\t_fn: {},\n\n\n\t\t\t\t/**\n\t\t\t\t * Initialization & preload flash object\n\t\t\t\t */\n\t\t\t\tinit: function (){\n\t\t\t\t\tvar child = document.body && document.body.firstChild;\n\n\t\t\t\t\tif( child ){\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif( child.nodeType == 1 ){\n\t\t\t\t\t\t\t\tapi.log('FlashAPI.state: awaiting');\n\n\t\t\t\t\t\t\t\tvar dummy = document.createElement('div');\n\n\t\t\t\t\t\t\t\tdummy.id = '_' + _attr;\n\n\t\t\t\t\t\t\t\t_css(dummy, {\n\t\t\t\t\t\t\t\t\t  top: 1\n\t\t\t\t\t\t\t\t\t, right: 1\n\t\t\t\t\t\t\t\t\t, width: 5\n\t\t\t\t\t\t\t\t\t, height: 5\n\t\t\t\t\t\t\t\t\t, position: 'absolute'\n\t\t\t\t\t\t\t\t\t, zIndex: 2147483647+'' // set max zIndex\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tchild.parentNode.insertBefore(dummy, child);\n\t\t\t\t\t\t\t\tflash.publish(dummy, _attr);\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile( child = child.nextSibling );\n\t\t\t\t\t}\n\n\t\t\t\t\tif( _retry < 10 ){\n\t\t\t\t\t\tsetTimeout(flash.init, ++_retry*50);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\t/**\n\t\t\t\t * Publish flash-object\n\t\t\t\t *\n\t\t\t\t * @param {HTMLElement} el\n\t\t\t\t * @param {String} id\n\t\t\t\t * @param {Object} [opts]\n\t\t\t\t */\n\t\t\t\tpublish: function (el, id, opts){\n\t\t\t\t\topts = opts || {};\n\t\t\t\t\tel.innerHTML = _makeFlashHTML({\n\t\t\t\t\t\t  id: id\n\t\t\t\t\t\t, src: _getUrl(api.flashUrl, 'r=' + api.version)\n//\t\t\t\t\t\t, src: _getUrl('http://v.demidov.boom.corp.mail.ru/uploaderfileapi/FlashFileAPI.swf?1')\n\t\t\t\t\t\t, wmode: opts.camera ? '' : 'transparent'\n\t\t\t\t\t\t, flashvars: 'callback=' + (opts.onEvent || 'FileAPI.Flash.onEvent')\n\t\t\t\t\t\t\t+ '&flashId='+ id\n\t\t\t\t\t\t\t+ '&storeKey='+ navigator.userAgent.match(/\\d/ig).join('') +'_'+ api.version\n\t\t\t\t\t\t\t+ (flash.isReady || (api.pingUrl ? '&ping='+api.pingUrl : ''))\n\t\t\t\t\t\t\t+ '&timeout='+api.flashAbortTimeout\n\t\t\t\t\t\t\t+ (opts.camera ? '&useCamera=' + _getUrl(api.flashWebcamUrl) : '')\n\t\t\t\t\t\t\t+ '&debug='+(api.debug?\"1\":\"\")\n\t\t\t\t\t}, opts);\n\t\t\t\t},\n\n\n\t\t\t\tready: function (){\n\t\t\t\t\tapi.log('FlashAPI.state: ready');\n\n\t\t\t\t\tflash.ready = api.F;\n\t\t\t\t\tflash.isReady = true;\n\t\t\t\t\tflash.patch();\n\t\t\t\t\tflash.patchCamera && flash.patchCamera();\n\t\t\t\t\tapi.event.on(document, 'mouseover', flash.mouseover);\n\t\t\t\t\tapi.event.on(document, 'click', function (evt){\n\t\t\t\t\t\tif( flash.mouseover(evt) ){\n\t\t\t\t\t\t\tevt.preventDefault\n\t\t\t\t\t\t\t\t? evt.preventDefault()\n\t\t\t\t\t\t\t\t: (evt.returnValue = true)\n\t\t\t\t\t\t\t;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\n\n\t\t\t\tgetEl: function (){\n\t\t\t\t\treturn\tdocument.getElementById('_'+_attr);\n\t\t\t\t},\n\n\n\t\t\t\tgetWrapper: function (node){\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif( /js-fileapi-wrapper/.test(node.className) ){\n\t\t\t\t\t\t\treturn\tnode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twhile( (node = node.parentNode) && (node !== document.body) );\n\t\t\t\t},\n\n\n\t\t\t\tmouseover: function (evt){\n\t\t\t\t\tvar target = api.event.fix(evt).target;\n\n\t\t\t\t\tif( /input/i.test(target.nodeName) && target.type == 'file' && !target.disabled ){\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t  state = target.getAttribute(_attr)\n\t\t\t\t\t\t\t, wrapper = flash.getWrapper(target)\n\t\t\t\t\t\t;\n\n\t\t\t\t\t\tif( api.multiFlash ){\n\t\t\t\t\t\t\t// check state:\n\t\t\t\t\t\t\t//   p  published\n\t\t\t\t\t\t\t//   i  initialization\n\t\t\t\t\t\t\t//   r  ready\n\t\t\t\t\t\t\tif( state == 'i' || state == 'r' ){\n\t\t\t\t\t\t\t\t// publish fail\n\t\t\t\t\t\t\t\treturn\tfalse;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if( state != 'p' ){\n\t\t\t\t\t\t\t\t// set \"init\" state\n\t\t\t\t\t\t\t\ttarget.setAttribute(_attr, 'i');\n\n\t\t\t\t\t\t\t\tvar dummy = document.createElement('div');\n\n\t\t\t\t\t\t\t\tif( !wrapper ){\n\t\t\t\t\t\t\t\t\tapi.log('[err] FlashAPI.mouseover: js-fileapi-wrapper not found');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_css(dummy, {\n\t\t\t\t\t\t\t\t\t  top:    0\n\t\t\t\t\t\t\t\t\t, left:   0\n\t\t\t\t\t\t\t\t\t, width:  target.offsetWidth\n\t\t\t\t\t\t\t\t\t, height: target.offsetHeight\n\t\t\t\t\t\t\t\t\t, zIndex: 2147483647+'' // set max zIndex\n\t\t\t\t\t\t\t\t\t, position: 'absolute'\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\twrapper.appendChild(dummy);\n\t\t\t\t\t\t\t\tflash.publish(dummy, api.uid());\n\n\t\t\t\t\t\t\t\t// set \"publish\" state\n\t\t\t\t\t\t\t\ttarget.setAttribute(_attr, 'p');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn\ttrue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if( wrapper ){\n\t\t\t\t\t\t\t// Use one flash element\n\t\t\t\t\t\t\tvar box = _getDimensions(wrapper);\n\n\t\t\t\t\t\t\t_css(flash.getEl(), box);\n\n\t\t\t\t\t\t\t// Set current input\n\t\t\t\t\t\t\tflash.curInp = target;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if( !/object|embed/i.test(target.nodeName) ){\n\t\t\t\t\t\t_css(flash.getEl(), { top: 1, left: 1, width: 5, height: 5 });\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonEvent: function (evt){\n\t\t\t\t\tvar type = evt.type;\n\n\t\t\t\t\tif( type == 'ready' ){\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// set \"ready\" state\n\t\t\t\t\t\t\tflash.getInput(evt.flashId).setAttribute(_attr, 'r');\n\t\t\t\t\t\t} catch (e){\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tflash.ready();\n\t\t\t\t\t\tsetTimeout(function (){ flash.mouseenter(evt); }, 50);\n\t\t\t\t\t\treturn\ttrue;\n\t\t\t\t\t}\n\t\t\t\t\telse if( type === 'ping' ){\n\t\t\t\t\t\tapi.log('(flash -> js).ping:', [evt.status, evt.savedStatus], evt.error);\n\t\t\t\t\t}\n\t\t\t\t\telse if( type === 'log' ){\n\t\t\t\t\t\tapi.log('(flash -> js).log:', evt.target);\n\t\t\t\t\t}\n\t\t\t\t\telse if( type in flash ){\n\t\t\t\t\t\tsetTimeout(function (){\n\t\t\t\t\t\t\tapi.log('FlashAPI.event.'+evt.type+':', evt);\n\t\t\t\t\t\t\tflash[type](evt);\n\t\t\t\t\t\t}, 1);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\tmouseenter: function (evt){\n\t\t\t\t\tvar node = flash.getInput(evt.flashId);\n\n\t\t\t\t\tif( node ){\n\t\t\t\t\t\t// Set multiple mode\n\t\t\t\t\t\tflash.cmd(evt, 'multiple', node.getAttribute('multiple') != null);\n\n\n\t\t\t\t\t\t// Set files filter\n\t\t\t\t\t\tvar accept = [], exts = {};\n\n\t\t\t\t\t\t_each((node.getAttribute('accept') || '').split(/,\\s*/), function (mime){\n\t\t\t\t\t\t\tapi.accept[mime] && _each(api.accept[mime].split(' '), function (ext){\n\t\t\t\t\t\t\t\texts[ext] = 1;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_each(exts, function (i, ext){\n\t\t\t\t\t\t\taccept.push( ext );\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tflash.cmd(evt, 'accept', accept.length ? accept.join(',')+','+accept.join(',').toUpperCase() : '*');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\tget: function (id){\n\t\t\t\t\treturn\tdocument[id] || window[id] || document.embeds[id];\n\t\t\t\t},\n\n\n\t\t\t\tgetInput: function (id){\n\t\t\t\t\tif( api.multiFlash ){\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar node = flash.getWrapper(flash.get(id));\n\t\t\t\t\t\t\tif( node ){\n\t\t\t\t\t\t\t\treturn node.getElementsByTagName('input')[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e){\n\t\t\t\t\t\t\tapi.log('[err] Can not find \"input\" by flashId:', id, e);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn\tflash.curInp;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\tselect: function (evt){\n\t\t\t\t\tvar\n\t\t\t\t\t\t  inp = flash.getInput(evt.flashId)\n\t\t\t\t\t\t, uid = api.uid(inp)\n\t\t\t\t\t\t, files = evt.target.files\n\t\t\t\t\t\t, event\n\t\t\t\t\t;\n\n\t\t\t\t\t_each(files, function (file){\n\t\t\t\t\t\tapi.checkFileObj(file);\n\t\t\t\t\t});\n\n\t\t\t\t\t_files[uid] = files;\n\n\t\t\t\t\tif( document.createEvent ){\n\t\t\t\t\t\tevent = document.createEvent('Event');\n\t\t\t\t\t\tevent.files = files;\n\t\t\t\t\t\tevent.initEvent('change', true, true);\n\t\t\t\t\t\tinp.dispatchEvent(event);\n\t\t\t\t\t}\n\t\t\t\t\telse if( jQuery ){\n\t\t\t\t\t\tjQuery(inp).trigger({ type: 'change', files: files });\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tevent = document.createEventObject();\n\t\t\t\t\t\tevent.files = files;\n\t\t\t\t\t\tinp.fireEvent('onchange', event);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\tcmd: function (id, name, data, last){\n\t\t\t\t\ttry {\n\t\t\t\t\t\tapi.log('(js -> flash).'+name+':', data);\n\t\t\t\t\t\treturn flash.get(id.flashId || id).cmd(name, data);\n\t\t\t\t\t} catch (err){\n\t\t\t\t\t\tapi.log('(js -> flash).onError:', err.toString());\n\t\t\t\t\t\tif( !last ){\n\t\t\t\t\t\t\t// try again\n\t\t\t\t\t\t\tsetTimeout(function (){ flash.cmd(id, name, data, true); }, 50);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\n\t\t\t\tpatch: function (){\n\t\t\t\t\tapi.flashEngine = true;\n\n\t\t\t\t\t// FileAPI\n\t\t\t\t\t_inherit(api, {\n\t\t\t\t\t\tgetFiles: function (input, filter, callback){\n\t\t\t\t\t\t\tif( callback ){\n\t\t\t\t\t\t\t\tapi.filterFiles(api.getFiles(input), filter, callback);\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar files = api.isArray(input) ? input : _files[api.uid(input.target || input.srcElement || input)];\n\n\n\t\t\t\t\t\t\tif( !files ){\n\t\t\t\t\t\t\t\t//  ,   \n\t\t\t\t\t\t\t\treturn\tthis.parent.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\tif( filter ){\n\t\t\t\t\t\t\t\tfilter\t= api.getFilesFilter(filter);\n\t\t\t\t\t\t\t\tfiles\t= api.filter(files, function (file){ return filter.test(file.name); });\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn\tfiles;\n\t\t\t\t\t\t},\n\n\n\t\t\t\t\t\tgetInfo: function (file, fn){\n\t\t\t\t\t\t\tif( _isHtmlFile(file) ){\n\t\t\t\t\t\t\t\tthis.parent.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if( file.isShot ){\n\t\t\t\t\t\t\t\tfn(null, file.info = {\n\t\t\t\t\t\t\t\t\twidth: file.width,\n\t\t\t\t\t\t\t\t\theight: file.height\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif( !file.__info ){\n\t\t\t\t\t\t\t\t\tvar defer = file.__info = api.defer();\n\n\t\t\t\t\t\t\t\t\tflash.cmd(file, 'getFileInfo', {\n\t\t\t\t\t\t\t\t\t\t  id: file.id\n\t\t\t\t\t\t\t\t\t\t, callback: _wrap(function _(err, info){\n\t\t\t\t\t\t\t\t\t\t\t_unwrap(_);\n\t\t\t\t\t\t\t\t\t\t\tdefer.resolve(err, file.info = info);\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfile.__info.then(fn);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\n\t\t\t\t\t// FileAPI.Image\n\t\t\t\t\tapi.support.transform = true;\n\t\t\t\t\tapi.Image && _inherit(api.Image.prototype, {\n\t\t\t\t\t\tget: function (fn, scaleMode){\n\t\t\t\t\t\t\tthis.set({ scaleMode: scaleMode || 'noScale' }); // noScale, exactFit\n\t\t\t\t\t\t\treturn this.parent(fn);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t_load: function (file, fn){\n\t\t\t\t\t\t\tapi.log('FlashAPI.Image._load:', file);\n\n\t\t\t\t\t\t\tif( _isHtmlFile(file) ){\n\t\t\t\t\t\t\t\tthis.parent.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar _this = this;\n\t\t\t\t\t\t\t\tapi.getInfo(file, function (err){\n\t\t\t\t\t\t\t\t\tfn.call(_this, err, file);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t_apply: function (file, fn){\n\t\t\t\t\t\t\tapi.log('FlashAPI.Image._apply:', file);\n\n\t\t\t\t\t\t\tif( _isHtmlFile(file) ){\n\t\t\t\t\t\t\t\tthis.parent.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar m = this.getMatrix(file.info), doneFn = fn;\n\n\t\t\t\t\t\t\t\tflash.cmd(file, 'imageTransform', {\n\t\t\t\t\t\t\t\t\t  id: file.id\n\t\t\t\t\t\t\t\t\t, matrix: m\n\t\t\t\t\t\t\t\t\t, callback: _wrap(function _(err, base64){\n\t\t\t\t\t\t\t\t\t\tapi.log('FlashAPI.Image._apply.callback:', err);\n\t\t\t\t\t\t\t\t\t\t_unwrap(_);\n\n\t\t\t\t\t\t\t\t\t\tif( err ){\n\t\t\t\t\t\t\t\t\t\t\tdoneFn(err);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if( !api.support.html5 && (!api.support.dataURI || base64.length > 3e4) ){\n\t\t\t\t\t\t\t\t\t\t\t_makeFlashImage({\n\t\t\t\t\t\t\t\t\t\t\t\t  width:\t(m.deg % 180) ? m.dh : m.dw\n\t\t\t\t\t\t\t\t\t\t\t\t, height:\t(m.deg % 180) ? m.dw : m.dh\n\t\t\t\t\t\t\t\t\t\t\t\t, scale:\tm.scaleMode\n\t\t\t\t\t\t\t\t\t\t\t}, base64, doneFn);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tif( m.filter ){\n\t\t\t\t\t\t\t\t\t\t\t\tdoneFn = function (err, img){\n\t\t\t\t\t\t\t\t\t\t\t\t\tif( err ){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfn(err);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapi.Image.applyFilter(img, m.filter, function (){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfn(err, this.canvas);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tapi.newImage('data:'+ file.type +';base64,'+ base64, doneFn);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\ttoData: function (fn){\n\t\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t\t  file = this.file\n\t\t\t\t\t\t\t\t, info = file.info\n\t\t\t\t\t\t\t\t, matrix = this.getMatrix(info)\n\t\t\t\t\t\t\t;\n\t\t\t\t\t\t\tapi.log('FlashAPI.Image.toData');\n\n\t\t\t\t\t\t\tif( _isHtmlFile(file) ){\n\t\t\t\t\t\t\t\tthis.parent.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif( matrix.deg == 'auto' ){\n\t\t\t\t\t\t\t\t\tmatrix.deg = api.Image.exifOrientation[info && info.exif && info.exif.Orientation] || 0;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfn.call(this, !file.info, {\n\t\t\t\t\t\t\t\t\t  id:\t\tfile.id\n\t\t\t\t\t\t\t\t\t, flashId:\tfile.flashId\n\t\t\t\t\t\t\t\t\t, name:\t\tfile.name\n\t\t\t\t\t\t\t\t\t, type:\t\tfile.type\n\t\t\t\t\t\t\t\t\t, matrix:\tmatrix\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\n\t\t\t\t\tapi.Image && _inherit(api.Image, {\n\t\t\t\t\t\tfromDataURL: function (dataURL, size, callback){\n\t\t\t\t\t\t\tif( !api.support.dataURI || dataURL.length > 3e4 ){\n\t\t\t\t\t\t\t\t_makeFlashImage(\n\t\t\t\t\t\t\t\t\t  api.extend({ scale: 'exactFit' }, size)\n\t\t\t\t\t\t\t\t\t, dataURL.replace(/^data:[^,]+,/, '')\n\t\t\t\t\t\t\t\t\t, function (err, el){ callback(el); }\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthis.parent(dataURL, size, callback);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// FileAPI.Form\n\t\t\t\t\t_inherit(api.Form.prototype, {\n\t\t\t\t\t\ttoData: function (fn){\n\t\t\t\t\t\t\tvar items = this.items, i = items.length;\n\n\t\t\t\t\t\t\tfor( ; i--; ){\n\t\t\t\t\t\t\t\tif( items[i].file && _isHtmlFile(items[i].blob) ){\n\t\t\t\t\t\t\t\t\treturn this.parent.apply(this, arguments);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tapi.log('FlashAPI.Form.toData');\n\t\t\t\t\t\t\tfn(items);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\n\t\t\t\t\t// FileAPI.XHR\n\t\t\t\t\t_inherit(api.XHR.prototype, {\n\t\t\t\t\t\t_send: function (options, formData){\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\t   formData.nodeName\n\t\t\t\t\t\t\t\t|| formData.append && api.support.html5\n\t\t\t\t\t\t\t\t|| api.isArray(formData) && (typeof formData[0] === 'string')\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\t// HTML5, Multipart or IFrame\n\t\t\t\t\t\t\t\treturn\tthis.parent.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t\t  data = {}\n\t\t\t\t\t\t\t\t, files = {}\n\t\t\t\t\t\t\t\t, _this = this\n\t\t\t\t\t\t\t\t, flashId\n\t\t\t\t\t\t\t\t, fileId\n\t\t\t\t\t\t\t;\n\n\t\t\t\t\t\t\t_each(formData, function (item){\n\t\t\t\t\t\t\t\tif( item.file ){\n\t\t\t\t\t\t\t\t\tfiles[item.name] = item = _getFileDescr(item.blob);\n\t\t\t\t\t\t\t\t\tfileId  = item.id;\n\t\t\t\t\t\t\t\t\tflashId = item.flashId;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tdata[item.name] = item.blob;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif( !fileId ){\n\t\t\t\t\t\t\t\tflashId = _attr;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif( !flashId ){\n\t\t\t\t\t\t\t\tapi.log('[err] FlashAPI._send: flashId -- undefined');\n\t\t\t\t\t\t\t\treturn this.parent.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tapi.log('FlashAPI.XHR._send: '+ flashId +' -> '+ fileId);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_this.xhr = {\n\t\t\t\t\t\t\t\theaders: {},\n\t\t\t\t\t\t\t\tabort: function (){ flash.cmd(flashId, 'abort', { id: fileId }); },\n\t\t\t\t\t\t\t\tgetResponseHeader: function (name){ return this.headers[name]; },\n\t\t\t\t\t\t\t\tgetAllResponseHeaders: function (){ return this.headers; }\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tvar queue = api.queue(function (){\n\t\t\t\t\t\t\t\tflash.cmd(flashId, 'upload', {\n\t\t\t\t\t\t\t\t\t  url: _getUrl(options.url.replace(/([a-z]+)=(\\?)&?/i, ''))\n\t\t\t\t\t\t\t\t\t, data: data\n\t\t\t\t\t\t\t\t\t, files: fileId ? files : null\n\t\t\t\t\t\t\t\t\t, headers: options.headers || {}\n\t\t\t\t\t\t\t\t\t, callback: _wrap(function upload(evt){\n\t\t\t\t\t\t\t\t\t\tvar type = evt.type, result = evt.result;\n\n\t\t\t\t\t\t\t\t\t\tapi.log('FlashAPI.upload.'+type);\n\n\t\t\t\t\t\t\t\t\t\tif( type == 'progress' ){\n\t\t\t\t\t\t\t\t\t\t\tevt.loaded = Math.min(evt.loaded, evt.total); // @todo fixme\n\t\t\t\t\t\t\t\t\t\t\tevt.lengthComputable = true;\n\t\t\t\t\t\t\t\t\t\t\toptions.progress(evt);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if( type == 'complete' ){\n\t\t\t\t\t\t\t\t\t\t\t_unwrap(upload);\n\n\t\t\t\t\t\t\t\t\t\t\tif( typeof result == 'string' ){\n\t\t\t\t\t\t\t\t\t\t\t\t_this.responseText\t= result.replace(/%22/g, \"\\\"\").replace(/%5c/g, \"\\\\\").replace(/%26/g, \"&\").replace(/%25/g, \"%\");\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t_this.end(evt.status || 200);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if( type == 'abort' || type == 'error' ){\n\t\t\t\t\t\t\t\t\t\t\t_this.end(evt.status || 0, evt.message);\n\t\t\t\t\t\t\t\t\t\t\t_unwrap(upload);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t\t// #2174: FileReference.load() call while FileReference.upload() or vice versa\n\t\t\t\t\t\t\t_each(files, function (file){\n\t\t\t\t\t\t\t\tqueue.inc();\n\t\t\t\t\t\t\t\tapi.getInfo(file, queue.next);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tqueue.check();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t;\n\n\n\t\tfunction _makeFlashHTML(opts){\n\t\t\treturn ('<object id=\"#id#\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"'+(opts.width || '100%')+'\" height=\"'+(opts.height || '100%')+'\">'\n\t\t\t\t+ '<param name=\"movie\" value=\"#src#\" />'\n\t\t\t\t+ '<param name=\"flashvars\" value=\"#flashvars#\" />'\n\t\t\t\t+ '<param name=\"swliveconnect\" value=\"true\" />'\n\t\t\t\t+ '<param name=\"allowscriptaccess\" value=\"always\" />'\n\t\t\t\t+ '<param name=\"allownetworking\" value=\"all\" />'\n\t\t\t\t+ '<param name=\"menu\" value=\"false\" />'\n\t\t\t\t+ '<param name=\"wmode\" value=\"#wmode#\" />'\n\t\t\t\t+ '<embed flashvars=\"#flashvars#\" swliveconnect=\"true\" allownetworking=\"all\" allowscriptaccess=\"always\" name=\"#id#\" src=\"#src#\" width=\"'+(opts.width || '100%')+'\" height=\"'+(opts.height || '100%')+'\" menu=\"false\" wmode=\"transparent\" type=\"application/x-shockwave-flash\"></embed>'\n\t\t\t\t+ '</object>').replace(/#(\\w+)#/ig, function (a, name){ return opts[name]; })\n\t\t\t;\n\t\t}\n\n\n\t\tfunction _css(el, css){\n\t\t\tif( el && el.style ){\n\t\t\t\tvar key, val;\n\t\t\t\tfor( key in css ){\n\t\t\t\t\tval = css[key];\n\t\t\t\t\tif( typeof val == 'number' ){\n\t\t\t\t\t\tval += 'px';\n\t\t\t\t\t}\n\t\t\t\t\ttry { el.style[key] = val; } catch (e) {}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tfunction _inherit(obj, methods){\n\t\t\t_each(methods, function (fn, name){\n\t\t\t\tvar prev = obj[name];\n\t\t\t\tobj[name] = function (){\n\t\t\t\t\tthis.parent = prev;\n\t\t\t\t\treturn fn.apply(this, arguments);\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tfunction _isHtmlFile(file){\n\t\t\treturn\tfile && !file.flashId;\n\t\t}\n\n\t\tfunction _wrap(fn){\n\t\t\tvar id = fn.wid = api.uid();\n\t\t\tflash._fn[id] = fn;\n\t\t\treturn\t'FileAPI.Flash._fn.'+id;\n\t\t}\n\n\n\t\tfunction _unwrap(fn){\n\t\t\ttry {\n\t\t\t\tflash._fn[fn.wid] = null;\n\t\t\t\tdelete\tflash._fn[fn.wid];\n\t\t\t}\n\t\t\tcatch(e){}\n\t\t}\n\n\n\t\tfunction _getUrl(url, params){\n\t\t\tif( !_rhttp.test(url) ){\n\t\t\t\tif( /^\\.\\//.test(url) || '/' != url.charAt(0) ){\n\t\t\t\t\tvar path = location.pathname;\n\t\t\t\t\tpath = path.substr(0, path.lastIndexOf('/'));\n\t\t\t\t\turl = (path +'/'+ url).replace('/./', '/');\n\t\t\t\t}\n\n\t\t\t\tif( '//' != url.substr(0, 2) ){\n\t\t\t\t\turl = '//' + location.host + url;\n\t\t\t\t}\n\n\t\t\t\tif( !_rhttp.test(url) ){\n\t\t\t\t\turl = location.protocol + url;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( params ){\n\t\t\t\turl += (/\\?/.test(url) ? '&' : '?') + params;\n\t\t\t}\n\n\t\t\treturn\turl;\n\t\t}\n\n\n\t\tfunction _makeFlashImage(opts, base64, fn){\n\t\t\tvar\n\t\t\t\t  key\n\t\t\t\t, flashId = api.uid()\n\t\t\t\t, el = document.createElement('div')\n\t\t\t\t, attempts = 10\n\t\t\t;\n\n\t\t\tfor( key in opts ){\n\t\t\t\tel.setAttribute(key, opts[key]);\n\t\t\t\tel[key] = opts[key];\n\t\t\t}\n\n\t\t\t_css(el, opts);\n\n\t\t\topts.width\t= '100%';\n\t\t\topts.height\t= '100%';\n\n\t\t\tel.innerHTML = _makeFlashHTML(api.extend({\n\t\t\t\t  id: flashId\n\t\t\t\t, src: _getUrl(api.flashImageUrl, 'r='+ api.uid())\n\t\t\t\t, wmode: 'opaque'\n\t\t\t\t, flashvars: 'scale='+ opts.scale +'&callback='+_wrap(function _(){\n\t\t\t\t\t_unwrap(_);\n\t\t\t\t\tif( --attempts > 0 ){\n\t\t\t\t\t\t_setImage();\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t})\n\t\t\t}, opts));\n\n\t\t\tfunction _setImage(){\n\t\t\t\ttry {\n\t\t\t\t\t// Get flash-object by id\n\t\t\t\t\tvar img = flash.get(flashId);\n\t\t\t\t\timg.setImage(base64);\n\t\t\t\t} catch (e){\n\t\t\t\t\tapi.log('[err] FlashAPI.Preview.setImage -- can not set \"base64\":', e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfn(false, el);\n\t\t\tel = null;\n\t\t}\n\n\n\t\tfunction _getFileDescr(file){\n\t\t\treturn\t{\n\t\t\t\t  id: file.id\n\t\t\t\t, name: file.name\n\t\t\t\t, matrix: file.matrix\n\t\t\t\t, flashId: file.flashId\n\t\t\t};\n\t\t}\n\n\n\t\tfunction _getDimensions(el){\n\t\t\tvar\n\t\t\t\t  box = el.getBoundingClientRect()\n\t\t\t\t, body = document.body\n\t\t\t\t, docEl = (el && el.ownerDocument).documentElement\n\t\t\t;\n\n\t\t\treturn {\n\t\t\t\t  top:\t\tbox.top + (window.pageYOffset || docEl.scrollTop)  - (docEl.clientTop || body.clientTop || 0)\n\t\t\t\t, left:\t\tbox.left + (window.pageXOffset || docEl.scrollLeft) - (docEl.clientLeft || body.clientLeft || 0)\n\t\t\t\t, width:\tbox.right - box.left\n\t\t\t\t, height:\tbox.bottom - box.top\n\t\t\t};\n\t\t}\n\n\t\t// @export\n\t\tapi.Flash = flash;\n\n\n\t\t// Check dataURI support\n\t\tapi.newImage('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==', function (err, img){\n\t\t\tapi.support.dataURI = !(img.width != 1 || img.height != 1);\n\t\t\tflash.init();\n\t\t});\n\t})();\n})(window, window.jQuery, FileAPI);\n\n/**\n * FileAPI fallback to Flash\n *\n * @flash-developer  \"Vladimir Demidov\" <v.demidov@corp.mail.ru>\n */\n\n/*global window, FileAPI */\n(function (window, jQuery, api) {\n    \"use strict\";\n\n    var _each = api.each,\n        _cameraQueue = [];\n\n    if (api.support.flash && (api.media && (!api.support.media || !api.html5 || api.insecureChrome))) {\n        (function () {\n            function _wrap(fn) {\n                var id = fn.wid = api.uid();\n                api.Flash._fn[id] = fn;\n                return 'FileAPI.Flash._fn.' + id;\n            }\n\n\n            function _unwrap(fn) {\n                try {\n                    api.Flash._fn[fn.wid] = null;\n                    delete api.Flash._fn[fn.wid];\n                } catch (e) {\n                }\n            }\n\n            var flash = api.Flash;\n            api.extend(api.Flash, {\n\n                patchCamera: function () {\n                    api.Camera.fallback = function (el, options, callback) {\n                        var camId = api.uid();\n                        api.log('FlashAPI.Camera.publish: ' + camId);\n                        flash.publish(el, camId, api.extend(options, {\n                            camera: true,\n                            onEvent: _wrap(function _(evt) {\n                                if (evt.type === 'camera') {\n                                    _unwrap(_);\n\n                                    if (evt.error) {\n                                        api.log('FlashAPI.Camera.publish.error: ' + evt.error);\n                                        callback(evt.error);\n                                    } else {\n                                        api.log('FlashAPI.Camera.publish.success: ' + camId);\n                                        callback(null);\n                                    }\n                                }\n                            })\n                        }));\n                    };\n                    // Run\n                    _each(_cameraQueue, function (args) {\n                        api.Camera.fallback.apply(api.Camera, args);\n                    });\n                    _cameraQueue = [];\n\n\n                    // FileAPI.Camera:proto\n                    api.extend(api.Camera.prototype, {\n                        _id: function () {\n                            return this.video.id;\n                        },\n\n                        start: function (callback) {\n                            var _this = this;\n                            flash.cmd(this._id(), 'camera.on', {\n                                callback: _wrap(function _(evt) {\n                                    _unwrap(_);\n\n                                    if (evt.error) {\n                                        api.log('FlashAPI.camera.on.error: ' + evt.error);\n                                        callback(evt.error, _this);\n                                    } else {\n                                        api.log('FlashAPI.camera.on.success: ' + _this._id());\n                                        _this._active = true;\n                                        callback(null, _this);\n                                    }\n                                })\n                            });\n                        },\n\n                        stop: function () {\n                            this._active = false;\n                            flash.cmd(this._id(), 'camera.off');\n                        },\n\n                        shot: function () {\n                            api.log('FlashAPI.Camera.shot:', this._id());\n\n                            var shot = api.Flash.cmd(this._id(), 'shot', {});\n                            shot.type = 'image/png';\n                            shot.flashId = this._id();\n                            shot.isShot = true;\n\n                            return new api.Camera.Shot(shot);\n                        }\n                    });\n                }\n            });\n\n            api.Camera.fallback = function () {\n                _cameraQueue.push(arguments);\n            };\n\n        }());\n    }\n}(window, window.jQuery, FileAPI));\nif( typeof define === \"function\" && define.amd ){ define(\"FileAPI\", [], function (){ return FileAPI; }); }","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-heading';\nimport '@servicenow/now-modal';\nimport '@devsnc/guided-wizard-toolkit';\nimport './components/sn-tb-spreadsheet-info-card';\nimport { SPREADSHEET_INFO_CARD__CONVERT_TO_TABLE } from './components/sn-tb-spreadsheet-info-card/constants';\nimport { SHEET_COMPLETION_STATES, getSheetCompletion } from './helpers';\nimport styles from './sn-table-wizard-spreadsheet-list-page.scss';\nimport {\n\tgetColumnsFromSheet,\n\tuploadSheetWithData,\n\tupdateSheetData,\n\tdoCleanUpRecords\n} from './utils';\nimport {\n\tGET_SHEET_COLUMNS_REQUESTED,\n\tGET_SHEET_COLUMNS_IN_PROGRESS,\n\tGET_SHEET_COLUMNS_SUCCEEDED,\n\tGET_SHEET_COLUMNS_WITH_DATA_REQUESTED,\n\tGET_SHEET_COLUMNS_WITH_DATA_IN_PROGRESS,\n\tGET_SHEET_COLUMNS_WITH_DATA_SUCCEEDED,\n\tGET_SHEET_COLUMNS_WITH_DATA_FAILED,\n\tGET_SHEET_COLUMNS_FAILED,\n\tCLEAN_UP_RECORDS\n} from './constants';\n\nimport parsingIllustrationSVG from './assets/parsing-illustration.svg';\n\n// Only `partial` needs to be a function but to keep the interface clean...\nconst headerTextCopy = {\n\tincomplete: () => t('Looks like your spreadsheet has multiple worksheets'),\n\tpartial: tableName =>\n\t\tt('Success! The \"{0}\" table has been added to your app', tableName),\n\tcomplete: () => t('Success! Here are your new tables')\n};\n\nconst subheaderTextCopy = {\n\tincomplete: t(\n\t\t\"Choose a worksheet to convert into a table. When you're done converting one of the sheets, we'll bring you back to this screen to convert more sheets.\"\n\t),\n\tpartial: t(\n\t\t'Now, you can either convert more sheets into tables, edit the tables you just added or leave to continue building the rest of your app. If you do leave, you can always come back to convert more sheets by uploading your spreadsheet again.'\n\t),\n\tcomplete: t(\n\t\t'You can view or add more data to your tables by selecting \"Edit tables.\"'\n\t)\n};\n\nexport const actionHandlers = {\n\t[actionTypes.COMPONENT_DOM_READY]: ({\n\t\t// Use DOM_READY as it is higher priority action. There will be visible difference running on slow machine\n\t\tproperties,\n\t\tdispatch,\n\t\tupdateState\n\t}) => {\n\t\tconst {\n\t\t\tsheets,\n\t\t\tactiveSheetId,\n\t\t\ttable,\n\t\t\tcreatedTables = []\n\t\t} = properties.wizardContext;\n\n\t\t// AFTER A SHEET IS COVERTED TO A TABLE AND THIS PAGE IS SHOWN AGAIN\n\n\t\t// Checks if a spreadsheet was just converted to table\n\t\tif (activeSheetId) {\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\tcreatedTables: createdTables.concat(table)\n\t\t\t});\n\t\t\tupdateState({ lastCreatedTableName: table.label }); // Only used for `partial` completion case\n\n\t\t\tconst updatedSheets = updateSheetData(sheets, activeSheetId, { table });\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTEXT_SET', {\n\t\t\t\t// update the sheet object to include the table output\n\t\t\t\tsheets: updatedSheets,\n\t\t\t\tactiveSheetId: null,\n\t\t\t\ttable: {}\n\t\t\t});\n\n\t\t\tdispatch('STEPPER_BEHAVIOR#PAGE_SET', {\n\t\t\t\tpage: 'sn-table-wizard-summary-page'\n\t\t\t});\n\n\t\t\tconst { completionState } = getSheetCompletion(updatedSheets);\n\t\t\tif (completionState === SHEET_COMPLETION_STATES.COMPLETE) {\n\t\t\t\tdispatch('STEPPER_BEHAVIOR#COMPLETE_ALL');\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch('STEPPER_BEHAVIOR#PAGE_SET', {\n\t\t\tpage: 'sn-table-wizard-details-page'\n\t\t});\n\n\t\t// SINGLE SHEET USE-CASE (before configuring table)\n\t\tif (sheets.length === 1 && !sheets[0].table.sys_id) {\n\t\t\tconst {\n\t\t\t\tsheets,\n\t\t\t\theaderNumber,\n\t\t\t\timportDataCheckbox\n\t\t\t} = properties.wizardContext;\n\n\t\t\tupdateState({ isSingleSheet: true });\n\t\t\tdispatch(SPREADSHEET_INFO_CARD__CONVERT_TO_TABLE, {\n\t\t\t\tsheet: sheets[0],\n\t\t\t\theaderNumber,\n\t\t\t\timportDataCheckbox\n\t\t\t});\n\t\t}\n\t},\n\t['NOW_MODAL#OPENED_SET']: ({\n\t\tstate: { modalState },\n\t\tupdateState,\n\t\taction\n\t}) => {\n\t\taction.stopPropagation();\n\t\tupdateState({\n\t\t\tmodalState: {\n\t\t\t\topened: !modalState.opened,\n\t\t\t\tcase: action.payload.case\n\t\t\t}\n\t\t});\n\t},\n\t['NOW_MODAL#FOOTER_ACTION_CLICKED']: ({\n\t\tstate: { modalState },\n\t\tproperties: {\n\t\t\twizardContext: { createdTables }\n\t\t},\n\t\tupdateState,\n\t\tdispatch,\n\t\taction\n\t}) => {\n\t\taction.stopPropagation();\n\t\tif (action.payload.action.id === 'secondary') {\n\t\t\tupdateState({\n\t\t\t\tmodalState: {\n\t\t\t\t\topened: false,\n\t\t\t\t\tcase: null\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (modalState.case) {\n\t\t\tcase 'complete':\n\t\t\t\tdispatch('SN_GUIDED_WIZARD#COMPLETE', {\n\t\t\t\t\tkey: 'sys_db_object',\n\t\t\t\t\tresult: createdTables\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'edit':\n\t\t\t\tdispatch('SN_GUIDED_WIZARD#EDIT_RECORD', {\n\t\t\t\t\tkey: 'sys_db_object',\n\t\t\t\t\tresult: createdTables\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t},\n\t[SPREADSHEET_INFO_CARD__CONVERT_TO_TABLE]: ({\n\t\taction,\n\t\tdispatch,\n\t\tupdateState\n\t}) => {\n\t\tconst {\n\t\t\tpayload: { sheet, headerNumber, importDataCheckbox }\n\t\t} = action;\n\t\tupdateState({ sheetNameToCreate: sheet.name });\n\n\t\tif (importDataCheckbox) {\n\t\t\tdispatch(GET_SHEET_COLUMNS_WITH_DATA_REQUESTED, {\n\t\t\t\tsheet,\n\t\t\t\theaderNumber\n\t\t\t});\n\t\t} else {\n\t\t\tdispatch(GET_SHEET_COLUMNS_REQUESTED, { sheet, headerNumber });\n\t\t}\n\t},\n\t[GET_SHEET_COLUMNS_REQUESTED]: async ({ properties, action, dispatch }) => {\n\t\tconst {\n\t\t\tpayload: { sheet, headerNumber }\n\t\t} = action;\n\t\tconst {\n\t\t\tapp: { sys_id: appId },\n\t\t\tattachmentId\n\t\t} = properties.wizardContext;\n\n\t\tdispatch(GET_SHEET_COLUMNS_IN_PROGRESS);\n\n\t\tconst response = await getColumnsFromSheet({\n\t\t\tappId,\n\t\t\tattachmentId,\n\t\t\theaderNumber,\n\t\t\tsheetNumber: sheet.number\n\t\t});\n\n\t\tif (response.isError) {\n\t\t\tdispatch(GET_SHEET_COLUMNS_FAILED, response); // AOW - We need  to handle error action, payload includes error object\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch(GET_SHEET_COLUMNS_SUCCEEDED, {\n\t\t\tfields: response.fields,\n\t\t\tsheet\n\t\t});\n\t},\n\t[GET_SHEET_COLUMNS_IN_PROGRESS]: ({ updateState }) => {\n\t\tupdateState({ isConversionInProgress: true });\n\t},\n\t[GET_SHEET_COLUMNS_SUCCEEDED]: ({ action, dispatch, updateState }) => {\n\t\tconst {\n\t\t\tpayload: { sheet, fields }\n\t\t} = action;\n\t\tconst table = { ...sheet.table, fields };\n\n\t\tupdateState({ isConversionInProgress: false });\n\n\t\t// Ultimately need to send the fields into the definition page\n\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', {\n\t\t\ttable,\n\t\t\tactiveSheetId: sheet.name\n\t\t});\n\t},\n\t[GET_SHEET_COLUMNS_FAILED]: ({\n\t\taction: { payload },\n\t\tdispatch,\n\t\tproperties: {\n\t\t\twizardContext: { sheets }\n\t\t},\n\t\tupdateState\n\t}) => {\n\t\t// The columns have failed to parse\n\t\tconst { completionState, incompleteSheets } = getSheetCompletion(sheets);\n\n\t\t// If there have been any sheets previously completed\n\t\tif (completionState === SHEET_COMPLETION_STATES.PARTIAL) {\n\t\t\t// Treat it as a CRITICAL case and close the wizard\n\t\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_CRITICAL', {\n\t\t\t\t...payload.error,\n\t\t\t\tdetail: t(\n\t\t\t\t\t'Unable to convert the worksheet you chose. Try starting with a template, again.'\n\t\t\t\t)\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\t// If it's the first sheet to be parsed, just display an error and allow the user to try again\n\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_WARNING', {\n\t\t\t...payload.error,\n\t\t\tdetail: t('Unable to prepare the column headers for review.')\n\t\t});\n\n\t\t// And finally, if it's a single, bring the user back to the spreadsheet upload page (skipping this page)\n\t\tif (incompleteSheets.length === 1) {\n\t\t\tdispatch('SN_GUIDED_WIZARD#PREVIOUS');\n\t\t} else {\n\t\t\t// Otherwise set `isConversionInProgress` to false\n\t\t\tupdateState({ isConversionInProgress: false });\n\t\t}\n\t},\n\t[GET_SHEET_COLUMNS_WITH_DATA_REQUESTED]: async ({\n\t\tproperties,\n\t\taction,\n\t\tdispatch\n\t}) => {\n\t\tconst {\n\t\t\tpayload: { sheet, headerNumber }\n\t\t} = action;\n\t\tconst {\n\t\t\tapp: { sys_id: appId, scope },\n\t\t\tfileUpload: { selectedFile: file },\n\t\t\tattachmentId\n\t\t} = properties.wizardContext;\n\n\t\tdispatch(GET_SHEET_COLUMNS_WITH_DATA_IN_PROGRESS);\n\n\t\tconst importSetTableName = `${scope}_${Date.now()}`;\n\t\tconst response = await uploadSheetWithData({\n\t\t\tappId,\n\t\t\tattachmentId,\n\t\t\theaderNumber,\n\t\t\tsheetNumber: sheet.number,\n\t\t\tfile,\n\t\t\timportSetTableName\n\t\t});\n\n\t\tif (response.isError) {\n\t\t\tdispatch(GET_SHEET_COLUMNS_WITH_DATA_FAILED, response); // AOW - We need handle error action, payload includes error object\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch(GET_SHEET_COLUMNS_WITH_DATA_SUCCEEDED, {\n\t\t\tfields: response.fields,\n\t\t\tsheet,\n\t\t\timportSetTableName\n\t\t});\n\t},\n\t[GET_SHEET_COLUMNS_WITH_DATA_IN_PROGRESS]: ({ updateState }) => {\n\t\tupdateState({ isConversionInProgress: true });\n\t},\n\t[GET_SHEET_COLUMNS_WITH_DATA_SUCCEEDED]: ({\n\t\taction,\n\t\tupdateState,\n\t\tdispatch,\n\t\tproperties\n\t}) => {\n\t\tconst {\n\t\t\tpayload: { sheet, fields, importSetTableName }\n\t\t} = action;\n\t\tconst table = { ...sheet.table, fields };\n\t\tconst { sheets } = properties.wizardContext;\n\n\t\tupdateState({ isConversionInProgress: false });\n\n\t\tdispatch('SN_GUIDED_WIZARD#IMPORTSET_PROCESSING', { importSetTableName });\n\n\t\t// Ultimately need to send the fields into the definition page\n\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', {\n\t\t\ttable,\n\t\t\tsheets: updateSheetData(sheets, sheet.name, {\n\t\t\t\t// Adding importSetTableName to sheet and set in context, used to import data during table creation\n\t\t\t\timportSetTableName,\n\t\t\t\timportDataCheckbox: true\n\t\t\t}),\n\t\t\tactiveSheetId: sheet.name\n\t\t});\n\t},\n\t[GET_SHEET_COLUMNS_WITH_DATA_FAILED]: ({\n\t\taction: { payload },\n\t\tdispatch,\n\t\tproperties: {\n\t\t\twizardContext: { sheets }\n\t\t},\n\t\tupdateState\n\t}) => {\n\t\t// The columns have failed to parse\n\t\tconst { completionState, incompleteSheets } = getSheetCompletion(sheets);\n\n\t\t// If there have been any sheets previously completed\n\t\tif (completionState === SHEET_COMPLETION_STATES.PARTIAL) {\n\t\t\t// Treat it as a CRITICAL case and close the wizard\n\t\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_CRITICAL', {\n\t\t\t\t...payload.error,\n\t\t\t\tdetail: t(\n\t\t\t\t\t'Unable to import data into new table. Try starting with a template, again.'\n\t\t\t\t)\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\t// If it's the first sheet to be parsed, just display an error and allow the user to try again\n\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_WARNING', {\n\t\t\t...payload.error,\n\t\t\tdetail: t('Unable to import data into new table.')\n\t\t});\n\t\t// And finally, if it's a single, bring the user back to the spreadsheet upload page (skipping this page)\n\t\tif (incompleteSheets.length === 1) {\n\t\t\tdispatch('SN_GUIDED_WIZARD#PREVIOUS');\n\t\t} else {\n\t\t\t// Otherwise set `isConversionInProgress` to false\n\t\t\tupdateState({ isConversionInProgress: false });\n\t\t}\n\t},\n\t[CLEAN_UP_RECORDS]: async ({ properties }) => {\n\t\tconst {\n\t\t\tcleanUpRecords,\n\t\t\tapp: { sys_id: appId }\n\t\t} = properties.wizardContext;\n\t\tawait doCleanUpRecords(cleanUpRecords, appId);\n\t}\n};\n\ncreateCustomElement('sn-table-wizard-spreadsheet-list-page', {\n\tview: (state, { dispatch }) => {\n\t\tconst {\n\t\t\tproperties,\n\t\t\tsheetNameToCreate,\n\t\t\tlastCreatedTableName,\n\t\t\tisSingleSheet,\n\t\t\tmodalState\n\t\t} = state;\n\t\tconst {\n\t\t\tsheets,\n\t\t\tcreatedTables,\n\t\t\tfileUpload: { selectedFile },\n\t\t\tdefaultPageWidth\n\t\t} = properties.wizardContext;\n\n\t\tconst {\n\t\t\tincompleteSheets,\n\t\t\tcompletedSheets,\n\t\t\tcompletionState\n\t\t} = getSheetCompletion(sheets);\n\n\t\tconst onComplete = () => {\n\t\t\tif (completionState === SHEET_COMPLETION_STATES.PARTIAL) {\n\t\t\t\tdispatch('NOW_MODAL#OPENED_SET', { case: 'complete' });\n\t\t\t} else {\n\t\t\t\tdispatch('SN_GUIDED_WIZARD#COMPLETE', {\n\t\t\t\t\tkey: 'sys_db_object',\n\t\t\t\t\tresult: createdTables\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tconst onEdit = () => {\n\t\t\tif (completionState === SHEET_COMPLETION_STATES.PARTIAL) {\n\t\t\t\tdispatch('NOW_MODAL#OPENED_SET', { case: 'edit' });\n\t\t\t} else {\n\t\t\t\tdispatch('SN_GUIDED_WIZARD#EDIT_RECORD', {\n\t\t\t\t\tkey: 'sys_db_object',\n\t\t\t\t\tresult: createdTables\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// `Edit Table(s)` and `Done` buttons should be rendered only if at least one table has been created\n\t\tconst shouldRenderFooterButtons = completedSheets.length > 0;\n\t\t// previous button should be rendered only if *no* tables have been created\n\t\tconst shouldRenderPrevious = completedSheets.length === 0;\n\n\t\treturn (\n\t\t\t<sn-guided-wizard-page\n\t\t\t\trunning-header-text={t('ADD DATA')}\n\t\t\t\theader-text={headerTextCopy[completionState](lastCreatedTableName)} // Only the `partial` case needs this...\n\t\t\t\tsubheader-text={subheaderTextCopy[completionState]}\n\t\t\t\tloading={state.isConversionInProgress}\n\t\t\t\tloading-content={{\n\t\t\t\t\theaderText: isSingleSheet\n\t\t\t\t\t\t? t('Preparing your column headers for review')\n\t\t\t\t\t\t: t(\n\t\t\t\t\t\t\t\t'Converting the \"{0}\" sheet into a table and preparing the column headers for review',\n\t\t\t\t\t\t\t\tsheetNameToCreate\n\t\t\t\t\t\t  ),\n\t\t\t\t\tsubheaderText: t(\n\t\t\t\t\t\t'The column headers will display as rows for you to review. You will be able to edit the details of each column.'\n\t\t\t\t\t),\n\t\t\t\t\timage: parsingIllustrationSVG\n\t\t\t\t}}\n\t\t\t\tonPrimaryClick={shouldRenderFooterButtons ? onComplete : null}\n\t\t\t\tprimary-label={t('Done')}\n\t\t\t\tonSecondaryClick={shouldRenderFooterButtons ? onEdit : null}\n\t\t\t\tonClose={shouldRenderFooterButtons ? onComplete : null}\n\t\t\t\tsecondary-label={\n\t\t\t\t\tcompletedSheets.length > 1 ? t('Edit tables') : t('Edit table')\n\t\t\t\t}\n\t\t\t\tonPrevious={\n\t\t\t\t\tshouldRenderPrevious\n\t\t\t\t\t\t? () => dispatch('SN_GUIDED_WIZARD#PREVIOUS')\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\tmax-width={defaultPageWidth}>\n\t\t\t\t<now-modal\n\t\t\t\t\topened={modalState.opened}\n\t\t\t\t\tmanage-opened\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\theaderLabel={t('Leave without converting other sheets into tables?')}\n\t\t\t\t\tfooterActions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'primary',\n\t\t\t\t\t\t\tsize: 'md',\n\t\t\t\t\t\t\tvariant: 'primary',\n\t\t\t\t\t\t\tlabel: t('Yes, leave')\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'secondary',\n\t\t\t\t\t\t\tsize: 'md',\n\t\t\t\t\t\t\tvariant: 'tertiary',\n\t\t\t\t\t\t\tlabel: t('Cancel')\n\t\t\t\t\t\t}\n\t\t\t\t\t]}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{t(\n\t\t\t\t\t\t\t'If you leave now, you will have to upload the spreadsheet again to convert a worksheet into a table.'\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</now-modal>\n\t\t\t\t<div className=\"sheet-list\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"incomplete-sheets\"\n\t\t\t\t\t\thidden={completionState === SHEET_COMPLETION_STATES.COMPLETE}>\n\t\t\t\t\t\t{completedSheets.length > 0 ? (\n\t\t\t\t\t\t\t<now-heading\n\t\t\t\t\t\t\t\tlabel={t('Remaining sheets')}\n\t\t\t\t\t\t\t\tlevel=\"2\"\n\t\t\t\t\t\t\t\tvariant=\"title-primary\"\n\t\t\t\t\t\t\t\tclassName=\"now-m-block-end--xl\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{incompleteSheets.map((sheet, index) => {\n\t\t\t\t\t\t\tconst isFirstSheet = index === 0;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<sn-tb-spreadsheet-info-card\n\t\t\t\t\t\t\t\t\texpanded={isFirstSheet && !shouldRenderFooterButtons}\n\t\t\t\t\t\t\t\t\tfileName={selectedFile.name}\n\t\t\t\t\t\t\t\t\tsheet={sheet}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"completed-sheets\"\n\t\t\t\t\t\thidden={completionState === SHEET_COMPLETION_STATES.INCOMPLETE}>\n\t\t\t\t\t\t<hr\n\t\t\t\t\t\t\tclassName=\"completed-divider\"\n\t\t\t\t\t\t\thidden={completionState === SHEET_COMPLETION_STATES.COMPLETE}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<now-heading\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tincompleteSheets.length === 0\n\t\t\t\t\t\t\t\t\t? t('Summary of tables created')\n\t\t\t\t\t\t\t\t\t: t('Tables added to your app')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlevel=\"2\"\n\t\t\t\t\t\t\tvariant=\"title-primary\"\n\t\t\t\t\t\t\tclassName=\"now-m-block-end--xl\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{completedSheets.map(sheet => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<sn-tb-spreadsheet-info-card\n\t\t\t\t\t\t\t\t\tsheet={sheet}\n\t\t\t\t\t\t\t\t\tfileName={selectedFile.name}\n\t\t\t\t\t\t\t\t\tcompleted\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</sn-guided-wizard-page>\n\t\t);\n\t},\n\tinitialState: {\n\t\t// Only used for the `partial` completion state that acknowledges the most recently created table\n\t\tlastCreatedTableName: '',\n\t\t// Used for displaying the loading content after clicking on a `Convert to Table`\n\t\tsheetNameToCreate: '',\n\t\tisConversionInProgress: false,\n\t\tisSingleSheet: false,\n\t\tmodalState: { opened: false, case: null }\n\t},\n\tproperties: {\n\t\twizardContext: {}\n\t},\n\tactionHandlers,\n\tstyles\n});\n","module.exports = __TECTONIC__$servicenow_now_heading;","module.exports = __TECTONIC__$servicenow_now_modal;","import { createCustomElement } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-button';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-collapse';\nimport { generateStyleToolTipContent} from 'sn-app-object-wizard-components';\n\nimport { SPREADSHEET_INFO_CARD__CONVERT_TO_TABLE } from './constants';\nimport { VALIDATE } from '../../../../constants';\nimport { NO_DOTS_REGEX_STRING } from '../../../../helpers/error-constants';\nimport {\n\tgenerateStartingNumberError,\n\tvalidateDetails\n} from '../../../../helpers/spreadsheet-row-validation';\nimport fieldValidationHelpers from '../../../../helpers/table-field-validations';\n\nimport styles from './sn-tb-spreadsheet-info-card.scss';\n\nconst { isAttrInvalid } = fieldValidationHelpers;\n\ncreateCustomElement('sn-tb-spreadsheet-info-card', {\n\tview: (\n\t\t{ headerNumber, importDataCheckbox, properties, errors, isFormValid },\n\t\t{ updateProperties }\n\t) => {\n\t\tconst { sheet, fileName, expanded, completed } = properties;\n\n\t\tconst { name, table = {} } = sheet;\n\n\t\tlet data = [];\n\n\t\tif (completed) {\n\t\t\tdata = [\n\t\t\t\t{ label: t('Spreadsheet'), text: fileName },\n\t\t\t\t{ label: t('Sheet name'), text: name },\n\t\t\t\t{ label: t('Table name'), text: table.label },\n\t\t\t\t{ label: t('uppercase_fields'), text: (table.fields && table.fields.length) || 0 }\n\t\t\t];\n\t\t\treturn <sn-aow-info-summary data={data} />;\n\t\t}\n\n\t\tdata = [\n\t\t\t{ label: t('Spreadsheet'), text: fileName, maxCharLength: 9 },\n\t\t\t{ label: t('Sheet name'), text: name, maxCharLength: 9 },\n\t\t\t{ custom: true, label: 'collapse' }\n\t\t];\n\n\t\treturn (\n\t\t\t<sn-aow-info-summary data={data}>\n\t\t\t\t<div\n\t\t\t\t\tslot=\"AOW_INFO_SUMMARY#CUSTOM_CONTENT_collapse\"\n\t\t\t\t\tclassName=\"collapse-trigger-container\">\n\t\t\t\t\t<now-button\n\t\t\t\t\t\tclassName=\"convert-table-button\"\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tlabel={t('Convert to table')}\n\t\t\t\t\t\tdisabled={!isFormValid}\n\t\t\t\t\t/>\n\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ton-click={() => updateProperties({ expanded: !expanded })}\n\t\t\t\t\t\ticon={`chevron-${expanded ? 'up' : 'down'}-fill`}\n\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t'aria-label': t('More options'),\n\t\t\t\t\t\t\t'aria-expanded': expanded ? 'true' : 'false'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tbare\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<now-collapse\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tslot=\"AOW_INFO_SUMMARY#EXTENDED_CONTENT\">\n\t\t\t\t\t<div className=\"sn-table-spreadsheet-inputs\">\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tclassName=\"header-number-input\"\n\t\t\t\t\t\t\tname=\"headerNumber\"\n\t\t\t\t\t\t\tlabel={t('Enter a row number for the table header')}\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'Enter the row number in which the column headers are located. For example, if the column headers are in the second row of your spreadsheet, you would enter 2.'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tvalue={headerNumber}\n\t\t\t\t\t\t\tpattern={NO_DOTS_REGEX_STRING}\n\t\t\t\t\t\t\tmessages={\n\t\t\t\t\t\t\t\tisAttrInvalid(errors, 'headerNumber')\n\t\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: errors.headerNumber.message\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<sn-aow-checkbox-tooltip\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'To include the data that is after the column headers in your spreadsheet, select this option'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\t\t\tslot=\"AOW_CHECKBOX_TOOLTIP#CHECKBOX_SLOT\"\n\t\t\t\t\t\t\t\tname=\"importDataCheckbox\"\n\t\t\t\t\t\t\t\tlabel={t('Import spreadsheet data')}\n\t\t\t\t\t\t\t\tchecked={importDataCheckbox}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</sn-aow-checkbox-tooltip>\n\t\t\t\t\t</div>\n\t\t\t\t</now-collapse>\n\t\t\t</sn-aow-info-summary>\n\t\t);\n\t},\n\tinitialState: {\n\t\theaderNumber: 1,\n\t\timportDataCheckbox: false,\n\t\terrors: {\n\t\t\theaderNumber: {\n\t\t\t\tmessage: null\n\t\t\t}\n\t\t},\n\t\tisFormValid: true\n\t},\n\tproperties: {\n\t\texpanded: { default: false },\n\t\tfileName: { default: '' },\n\t\tcompleted: { default: false },\n\t\tsheet: {\n\t\t\tdefault: {\n\t\t\t\tname: '',\n\t\t\t\ttable: {}\n\t\t\t}\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t'NOW_BUTTON#CLICKED': ({\n\t\t\tstate: { headerNumber, importDataCheckbox },\n\t\t\tproperties: { sheet },\n\t\t\tdispatch,\n\t\t\taction: { stopPropagation }\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tdispatch(SPREADSHEET_INFO_CARD__CONVERT_TO_TABLE, {\n\t\t\t\tsheet,\n\t\t\t\theaderNumber,\n\t\t\t\timportDataCheckbox\n\t\t\t});\n\t\t},\n\t\t['NOW_INPUT#VALUE_SET']: ({\n\t\t\tupdateState,\n\t\t\taction: { payload, stopPropagation }\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { value, name } = payload;\n\t\t\tupdateState({ [name]: value });\n\t\t},\n\t\t['NOW_INPUT#INVALID_SET']: ({\n\t\t\taction: { payload, stopPropagation },\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { name, fieldValue } = payload;\n\t\t\tlet message = null;\n\n\t\t\tif (name === 'headerNumber') {\n\t\t\t\tmessage = generateStartingNumberError(fieldValue);\n\t\t\t}\n\n\t\t\t// INVALID_SET is fired on every input blur, can reliably capture `isDirty` state\n\t\t\tupdateState({\n\t\t\t\tpath: `errors.${name}`,\n\t\t\t\tvalue: { isDirty: true, message },\n\t\t\t\toperation: 'set'\n\t\t\t});\n\n\t\t\tdispatch(VALIDATE, { message });\n\t\t},\n\t\t[VALIDATE]: ({ updateState }) => {\n\t\t\tupdateState(({ state }) => {\n\t\t\t\tconst isFormValid = validateDetails(state);\n\t\t\t\treturn { isFormValid };\n\t\t\t});\n\t\t},\n\t\t['NOW_CHECKBOX#CHECKED_SET']: ({\n\t\t\tupdateState,\n\t\t\taction: { payload, stopPropagation }\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { value, name } = payload;\n\t\t\tupdateState({ [name]: value });\n\t\t}\n\t},\n\tstyles\n});\n","module.exports = __TECTONIC__$servicenow_now_collapse;","\n        var result = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-tb-spreadsheet-info-card.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}:host{display:block}.collapse-trigger-container{display:flex;justify-content:flex-end;width:100%}.collapse-trigger-container now-button-iconic{margin-inline-start:1.25rem}.sn-table-spreadsheet-inputs{margin-block-start:1.5rem;display:flex;align-items:center}.sn-table-spreadsheet-inputs sn-aow-checkbox-tooltip{margin-inline-start:2.5rem;padding-block-end:.125rem}.sn-table-spreadsheet-inputs .header-number-input{min-height:82px}\", \"\"]);\n\n// exports\n","export const SHEET_COMPLETION_STATES = {\n\tINCOMPLETE: 'incomplete',\n\tPARTIAL: 'partial',\n\tCOMPLETE: 'complete'\n};\n\n/**\n * Three possible states of completion -\n * 1. `none` - no sheets completed\n * 2. `partial` - at least one sheet completed but not all\n * 3. `complete` - all detected sheets completed\n */ \nexport const returnCompletionState = (incompleteSheets, completedSheets) => {\n\tif (incompleteSheets.length && !completedSheets.length) {\n\t\t// Has only incomplete sheets\n\t\treturn SHEET_COMPLETION_STATES.INCOMPLETE;\n\t} else if (incompleteSheets.length && completedSheets.length) {\n\t\t// Has both incomplete and completed sheets\n\t\treturn SHEET_COMPLETION_STATES.PARTIAL;\n\t} else if (!incompleteSheets.length && completedSheets.length) {\n\t\t// Has only completed sheets\n\t\treturn SHEET_COMPLETION_STATES.COMPLETE;\n\t}\n};\n\n/**\n * Reduces `sheets` array into an object with `incompleteSheets`(arr),\n * `completedSheets`(arr), and `completionState` (enum)\n * @param {array} sheets \n */\nexport const getSheetCompletion = sheets => {\n\treturn sheets.reduce(\n\t\t(acc, curSheet) => {\n\t\t\tif (!curSheet.table || !curSheet.table.sys_id) {\n\t\t\t\tacc.incompleteSheets.push(curSheet);\n\t\t\t} else {\n\t\t\t\tacc.completedSheets.push(curSheet);\n\t\t\t}\n\t\t\tacc.completionState = returnCompletionState(\n\t\t\t\tacc.incompleteSheets,\n\t\t\t\tacc.completedSheets\n\t\t\t);\n\t\t\treturn acc;\n\t\t},\n\t\t{\n\t\t\tincompleteSheets: [],\n\t\t\tcompletedSheets: [],\n\t\t\tcompletionState: SHEET_COMPLETION_STATES.INCOMPLETE\n\t\t}\n\t);\n};","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-wizard-spreadsheet-list-page.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sheet-list{overflow-y:auto;height:28.75rem}.sheet-list sn-tb-spreadsheet-info-card{margin-block-end:1rem}.completed-divider{border-block-start-width:.0625rem;border-block-start-style:solid;border-block-start-color:RGB(var(--now-color--neutral-3,209,214,214));border-block-end:none;border-inline-start:none;border-inline-end:none;margin-inline-end:2.5rem;margin-block-start:2rem;margin-block-end:2rem}\", \"\"]);\n\n// exports\n","import fetchHelper, { failedResponse } from '../../../helpers/fetch-helper';\nimport { serializeSNName } from '../../../helpers/sn-naming-helpers';\nimport token from '../../../helpers/get-auth-token';\nimport { t } from 'sn-translate';\nimport { waitForWorker } from '../../../helpers/wait-for-util';\n\nconst getSheetColumnsAPI = async (\n\tappId,\n\tattachmentId,\n\tsheetNumber,\n\theaderNumber\n) =>\n\tawait fetchHelper(\n\t\t`/api/sn_table_builder/app/excel_spreadsheet_columns?sysparm_transaction_scope=${appId}&attachmentSysId=${attachmentId}&headerRow=${headerNumber}&sheetNumber=${sheetNumber}`\n\t);\n\nconst getColumnsFromImportedTableAPI = async (appId, table) =>\n\tawait fetchHelper(\n\t\t`/api/now/ui/meta/${table}?sysparm_transaction_scope=${appId}&sysparm_is_extended_table=true`\n\t);\n\nconst deleteRecordAPI = async (table, recordId, appId) =>\n\tawait fetchHelper(\n\t\t`/api/now/table/${table}/${recordId}?sysparm_transaction_scope=${appId}`,\n\t\t{\n\t\t\tmethod: 'DELETE'\n\t\t}\n\t);\n\nexport const getColumnsFromSheet = async ({\n\tappId,\n\tattachmentId,\n\theaderNumber,\n\tsheetNumber\n}) => {\n\tconst response = await getSheetColumnsAPI(\n\t\tappId,\n\t\tattachmentId,\n\t\tsheetNumber,\n\t\theaderNumber\n\t);\n\n\tif (response.isError) {\n\t\treturn response;\n\t}\n\n\treturn { fields: transformColumns(response.result.columns) };\n};\n\nexport const uploadSheetWithData = async ({\n\tappId,\n\theaderNumber,\n\tsheetNumber,\n\tfile,\n\timportSetTableName\n}) => {\n\tconst formData = buildFormData(\n\t\tfile,\n\t\theaderNumber,\n\t\tsheetNumber,\n\t\timportSetTableName\n\t);\n\n\t// NOTE: sys_import.do is successful but not re-directing in 8081, so no progress id to wait for.\n\ttry {\n\t\tconst response = await fetch(\n\t\t\t`/sys_import.do?sysparm_transaction_scope=${appId}`,\n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: formData,\n\t\t\t\tredirect: 'follow'\n\t\t\t}\n\t\t);\n\t\tconst id = new URL(response.url).searchParams.get('sysparm_pworker_sysid');\n\n\t\t// NOTE: angular.do is failing in 8081 so faking delay in 8081\n\t\tprocess.env.NODE_ENV === 'development'\n\t\t\t? await delay(2000)\n\t\t\t: await waitHelper(id);\n\t} catch (err) {\n\t\treturn failedResponse(err.message);\n\t}\n\n\t// Need to fetch from import table so that we can map during actual import\n\tconst columnResponse = await getColumnsFromImportedTableAPI(\n\t\tappId,\n\t\timportSetTableName\n\t);\n\n\tif (columnResponse.isError) {\n\t\treturn columnResponse;\n\t}\n\n\treturn { fields: transformColumns(columnResponse.result.columns, true) };\n};\n\nasync function waitHelper(id) {\n\tif (!id) {\n\t\treturn failedResponse(t('Could not find progress worker for import.'));\n\t}\n\tawait waitForWorker(id);\n}\n\nfunction transformColumns(columns, isImportSet) {\n\treturn Object.keys(columns).map(fieldName => {\n\t\tconst item = columns[fieldName];\n\t\tconst name = serializeSNName(isImportSet ? item.label : fieldName);\n\t\treturn {\n\t\t\tname,\n\t\t\tlabel: item.label,\n\t\t\ttype: item.internal_type,\n\t\t\tlength: item.max_length,\n\t\t\t...(isImportSet ? { initialName: fieldName } : {}) // use initialName during import set transform\n\t\t};\n\t});\n}\n\nfunction buildFormData(file, headerNumber, sheetNumber, importSetTableName) {\n\tconst formData = new FormData();\n\tformData.append('attachFile', file);\n\tformData.append('header_row', headerNumber);\n\tformData.append('import_action', 'create_table');\n\tformData.append('import_source', 'file_upload');\n\tformData.append('max_rows', '-1');\n\tformData.append('sheet', sheetNumber);\n\tformData.append('sysparm_ck', token['X-UserToken']);\n\tformData.append('sysparm_extends', 'sys_import_set_row');\n\tformData.append('sysparm_import_set_tablename', importSetTableName);\n\tformData.append('sysparm_tablelabel', importSetTableName);\n\treturn formData;\n}\n\nasync function delay(value) {\n\treturn new Promise(res => {\n\t\tsetTimeout(() => {\n\t\t\tres();\n\t\t}, value);\n\t});\n}\n\n/**\n * Update specific sheet with given data\n * @param {Array} sheets list of sheets\n * @param {String} name sheet name to be updated\n * @param {Object} data data to be updated in sheet\n * @returns {Array} updated sheets\n */\nexport function updateSheetData(sheets, name, data) {\n\treturn sheets.map(sh => {\n\t\tif (sh.name === name) {\n\t\t\treturn {\n\t\t\t\t...sh,\n\t\t\t\t...data\n\t\t\t};\n\t\t}\n\t\treturn sh;\n\t});\n}\n\nexport async function doCleanUpRecords(cleanUpRecords, appId) {\n\t// deleting helperRecord also deletes attachment\n\tfor (const recordId in cleanUpRecords) {\n\t\tawait deleteRecordAPI(cleanUpRecords[recordId], recordId, appId);\n\t}\n}\n","const BASE = 'SN_TABLE_SPREADSHEET_LIST_PAGE#';\n\nexport const GET_SHEET_COLUMNS_REQUESTED = `${BASE}GET_SHEET_COLUMNS_REQUESTED`;\nexport const GET_SHEET_COLUMNS_SUCCEEDED = `${BASE}GET_SHEET_COLUMNS_SUCCEEDED`;\nexport const GET_SHEET_COLUMNS_IN_PROGRESS = `${BASE}GET_SHEET_COLUMNS_IN_PROGRESS`;\nexport const GET_SHEET_COLUMNS_FAILED = `${BASE}GET_SHEET_COLUMNS_FAILED`;\n\nexport const GET_SHEET_COLUMNS_WITH_DATA_REQUESTED = `${BASE}GET_SHEET_COLUMNS_WITH_DATA_REQUESTED`;\nexport const GET_SHEET_COLUMNS_WITH_DATA_SUCCEEDED = `${BASE}GET_SHEET_COLUMNS_WITH_DATA_SUCCEEDED`;\nexport const GET_SHEET_COLUMNS_WITH_DATA_IN_PROGRESS = `${BASE}GET_SHEET_COLUMNS_WITH_DATA_IN_PROGRESS`;\nexport const GET_SHEET_COLUMNS_WITH_DATA_FAILED = `${BASE}GET_SHEET_COLUMNS_WITH_DATA_FAILED`;\n\nexport const CLEAN_UP_RECORDS = `${BASE}CLEAN_UP_RECORDS`;\n\nexport const HELPER_TABLE = 'sn_table_builder_attachment_helper';\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDUxcHgiIGhlaWdodD0iMzg3cHgiIHZpZXdCb3g9IjAgMCA0NTEgMzg3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHRpdGxlPjhBQjEwMThGLUYyOUQtNDE2Ny1BQjhGLUU4QTE3MzJGMDlERDwvdGl0bGU+CiAgICA8ZGVmcz4KICAgICAgICA8cG9seWdvbiBpZD0icGF0aC0xIiBwb2ludHM9IjQwIDI1NSA2NiAyNTUgNjYgMzMwIDQwIDMzMCI+PC9wb2x5Z29uPgogICAgICAgIDxwb2x5Z29uIGlkPSJwYXRoLTMiIHBvaW50cz0iMjUgMjg3IDUwIDI4NyA1MCAzMzUgMjUgMzM1Ij48L3BvbHlnb24+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iVGFibGVzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQUVTLS0tT3B0aW9uLTItLS1FeGlzdGluZy10YWJsZS0tLTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MTUuMDAwMDAwLCAtMzMzLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0icGFyc2luZ19pbGx1c3RyYXRpb24iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQxNS4wMDAwMDAsIDMzNC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJUYWJsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTcuMDAwMDAwLCAzMi4wMDAwMDApIj48L2c+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTUsMTQwIEwyNC44MTIxNTQxLDE0MCBDMTEuMTA4NzIwOSwxNDAgMCwxNTAuOTY5MDYxIDAsMTY0LjUwMDIxNCBDMCwxNzguMDMwOTM5IDExLjEwODcyMDksMTg5IDI0LjgxMjE1NDEsMTg5IEw1NSwxODkgTDU1LDE0MCBaIiBpZD0iRmlsbC00NiIgZmlsbD0iI0U5RjBGMiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTI5Ljk3NTg5Miw3MSBMMTAwLDcxIEwxMDAsMTEyIEwxMjkuOTc1ODkyLDExMiBDMTQxLjAzNDk0OSwxMTIgMTUwLDEwMi44MjIwODQgMTUwLDkxLjUwMDM1ODggQzE1MCw4MC4xNzgyNzQ2IDE0MS4wMzQ5NDksNzEgMTI5Ljk3NTg5Miw3MSIgaWQ9IkZpbGwtMTEiIGZpbGw9IiNFOUYwRjIiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgc3Ryb2tlPSIjRDdEQkRCIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMjYiIHk9IjcwIiB3aWR0aD0iOTkiIGhlaWdodD0iMTAwIiByeD0iMTgiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMy42ODEwMzQ1LDY3IEwxMTcuMzE4OTY2LDY3IEMxMjEuNTYxMDg0LDY3IDEyNSw3MC42NDMyODI5IDEyNSw3NS4xMzc1IEwxMjUsODEgTDEyNSw4MSBMMjYsODEgTDI2LDc1LjEzNzUgQzI2LDcwLjY0MzI4MjkgMjkuNDM4OTE2Myw2NyAzMy42ODEwMzQ1LDY3IFoiIGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMyOTNENDAiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM3LjkzMDIzMjYsOTEgTDU3LDkxIEw1Nyw5MSBMNTcsMTAwIEwzNywxMDAgTDM3LDkxLjkgQzM3LDkxLjQwMjk0MzcgMzcuNDE2NDc5Myw5MSAzNy45MzAyMzI2LDkxIFoiIGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDlGRTUiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM3Ljg3ODA0ODgsMTAyIEw1NSwxMDIgTDU1LDEwMiBMNTUsMTE0IEwzNywxMTQgTDM3LDEwMi44NTcxNDMgQzM3LDEwMi4zODM3NTYgMzcuMzkzMTE1OCwxMDIgMzcuODc4MDQ4OCwxMDIgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRDdEQkRCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjM3IiB5PSIxMTYiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIzNyIgeT0iMTI4IiB3aWR0aD0iMjAiIGhlaWdodD0iMTIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMzciIHk9IjE0MSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjEyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRDdEQkRCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjM3IiB5PSIxMDIiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSI1NyIgeT0iMTE2IiB3aWR0aD0iMjAiIGhlaWdodD0iMTIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iNTciIHk9IjEyOCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjEyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRDdEQkRCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjU4IiB5PSIxNDEiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSI1NyIgeT0iMTAyIiB3aWR0aD0iMjAiIGhlaWdodD0iMTIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03Ni44NzgwNDg4LDEwMiBMOTQsMTAyIEw5NCwxMDIgTDk0LDExNCBMNzYsMTE0IEw3NiwxMDIuODU3MTQzIEM3NiwxMDIuMzgzNzU2IDc2LjM5MzExNTgsMTAyIDc2Ljg3ODA0ODgsMTAyIFoiIGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSI3NSIgeT0iMTE2IiB3aWR0aD0iMjAiIGhlaWdodD0iMTIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iNzUiIHk9IjEyOCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjEyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRDdEQkRCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9Ijc1IiB5PSIxNDEiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSI3NSIgeT0iMTAyIiB3aWR0aD0iMjAiIGhlaWdodD0iMTIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iOTUiIHk9IjExNiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjEyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRDdEQkRCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9Ijk1IiB5PSIxMjgiIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMiI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSI5NSIgeT0iMTQxIiB3aWR0aD0iMjAiIGhlaWdodD0iMTIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iOTUiIHk9IjEwMiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjEyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDA5RkU1IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjU3IiB5PSI5MSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjkiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDlGRTUiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iNzUiIHk9IjkxIiB3aWR0aD0iMjAiIGhlaWdodD0iOSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTk2LDkxIEwxMTMuMTIxOTUxLDkxIEMxMTMuNjA2ODg0LDkxIDExNCw5MS40MDI5NDM3IDExNCw5MS45IEwxMTQsMTAwIEwxMTQsMTAwIEw5NiwxMDAgTDk2LDkxIFoiIGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDlGRTUiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI4MS4wODQ0NzksMTA5IEMyNzQuNDEwMTg4LDEwOSAyNjksMTAzLjY4OTUwOSAyNjksOTcuMTM4NTk0OCBMMjY5LDc2Ljg2MTQwNTIgQzI2OSw3MC4zMTA0OTA4IDI3NC40MTAxODgsNjUgMjgxLjA4NDQ3OSw2NSBMMzM4LjkxNTkxMyw2NSBDMzQ1LjU4OTgxMiw2NSAzNTEsNzAuMzEwNDkwOCAzNTEsNzYuODYxNDA1MiBMMzUxLDk3LjEzODU5NDggQzM1MSwxMDMuNjg5NTA5IDM0NS41ODk4MTIsMTA5IDMzOC45MTU5MTMsMTA5IEwyODEuMDg0NDc5LDEwOSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRTlGMEYyIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC02IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOTcuMDAwMDAwLCA3MC4wMDAwMDApIHNjYWxlKDEsIC0xKSB0cmFuc2xhdGUoLTE5Ny4wMDAwMDAsIC03MC4wMDAwMDApIHRyYW5zbGF0ZSgxMTUuMDAwMDAwLCAxNC4wMDAwMDApIiBzdHJva2U9IiNEM0U5RUUiIHN0cm9rZS1kYXNoYXJyYXk9IjQiIHN0cm9rZS13aWR0aD0iMyI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTAsMC41MDQ1NDUyNTUgQzI4LjAzNjU0MzgsLTAuMTU0ODQ0ODQ4IDQ4LjE0Nzk5MTIsLTAuMTY3OTE3MzQ2IDYwLjMzNDM0MjcsMC40NjUzMjc3NjEgQzc4LjYxMzg2OTYsMS40MTUxOTU0IDY1LjA1MjAyMTgsMTcuMzIzOTYyNyA5My42ODkzMDQ1LDE3Ljc1Nzg5MDEgQzk4Ljk5NDYyMTQsMTcuODM4Mjc5MSAxMjIuNDMxNTIsMTcuODM4Mjc5MSAxNjQsMTcuNzU3ODkwMSIgaWQ9IlBhdGgtNDEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwwLjQ2MDg3NTM5OCBDMzAuMjkzOTY0MiwtMC4xNTM2MjUxMzMgNTEuNTM0MTIyLC0wLjE1MzYyNTEzMyA2My43MjA0NzMsMC40NjA4NzUzOTggQzgyLDEuMzgyNjI2MTcgNjMuNDg5MzA0OSw0OC4zNjM2MzY0IDkzLjY4OTMwNDUsNDguMzYzNjM2NCBDMTA1LjA1MDA1NSw0OC4zNjM2MzY0IDEyOC40ODY5NTMsNDguMzYzNjM2NCAxNjQsNDguMzYzNjM2NCIgaWQ9IlBhdGgtNDEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwwLjQ2MjIzMDQzMSBDMjcuNzkyNTU2MSwtMC4xNTQwNzY4MSA0OS4wMzI3MTQsLTAuMTU0MDc2ODEgNjMuNzIwNDczLDAuNDYyMjMwNDMxIEM4NS43NTIxMTIxLDEuMzg2NjkxMjcgNjAuODgwMTYzOSw3OS43NTc1NzU4IDkzLjY4OTMwNDUsNzkuNzU3NTc1OCBDMTExLjM0MTQ1Nyw3OS43NTc1NzU4IDEzNC43NzgzNTUsNzkuNzU3NTc1OCAxNjQsNzkuNzU3NTc1OCIgaWQ9IlBhdGgtNDEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwwLjg4NjQ4ODM1MiBDMjYuMjQ3ODgxOSwyLjQ5ODI2Mzg1IDQ3LjQ4ODAzOTcsMi40OTgyNjM4NSA2My43MjA0NzMsMC44ODY0ODgzNTIgQzg4LjA2OTEyMywtMS41MzExNzQ5IDU4LjMxMjM0NzksMTEyLjIwOTQ2NyA5My41MzcxMzQ4LDExMiBDMTMzLjgzMTAyNSwxMTEuNzU4MTg1IDE1Ny4zMTg2NDYsMTExLjc1ODE4NSAxNjQsMTEyIiBpZD0iUGF0aC00MSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI2Ni42OTQ5MywxNzQgQzI2MS44OTI2OTYsMTc0IDI1OCwxNzAuMTM3ODI1IDI1OCwxNjUuMzczNTI0IEwyNTgsMTUwLjYyNjQ3NiBDMjU4LDE0NS44NjIxNzUgMjYxLjg5MjY5NiwxNDIgMjY2LjY5NDkzLDE0MiBMMzA4LjMwNTM1MiwxNDIgQzMxMy4xMDczMDQsMTQyIDMxNywxNDUuODYyMTc1IDMxNywxNTAuNjI2NDc2IEwzMTcsMTY1LjM3MzUyNCBDMzE3LDE3MC4xMzc4MjUgMzEzLjEwNzMwNCwxNzQgMzA4LjMwNTM1MiwxNzQgTDI2Ni42OTQ5MywxNzQgWiIgaWQ9IkZpbGwtMSIgZmlsbD0iI0U5RjBGMiIgZmlsbC1ydWxlPSJub256ZXJvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyODcuNTAwMDAwLCAxNTguMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0yODcuNTAwMDAwLCAtMTU4LjAwMDAwMCkgIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDMwLjk3NTg5MiwxNzggTDQwMSwxNzggTDQwMSwyMTkgTDQzMC45NzU4OTIsMjE5IEM0NDIuMDM0OTQ5LDIxOSA0NTEsMjA5LjgyMjA4NCA0NTEsMTk4LjUwMDM1OSBDNDUxLDE4Ny4xNzgyNzQgNDQyLjAzNDk0OSwxNzggNDMwLjk3NTg5MiwxNzgiIGlkPSJGaWxsLTExIiBmaWxsPSIjRTlGMEYyIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyNi4wMDAwMDAsIDE5OC41MDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTQyNi4wMDAwMDAsIC0xOTguNTAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzcuMjQ0MDM5LDI5MS4xMzM4MTcgTDE3Ny4xMjk5MTcsMjQ1LjI3ODI1NyBMMTgwLjgwMzYyMywyMzYuMjE0NTQ5IEMxODUuMTI3NjU0LDIyNS4zMDkyMDMgMTgxLjc1NDkzNiwyMTguNDQwNDU5IDE4MS42MzAzNTksMjE2IEwxODAuMDE0NzgyLDIxNiBMMTM2LDIxNy41ODc2MTkgTDEzOC4wOTY4OTYsMjMxLjQ2MjM0NyBMMTU0LjY1OTUwMSwzNTUuNjYwNjMzIEMxNTQuOTc1NzM0LDM1Ny44ODE1OTUgMTc3Ljk4MTkxNywzNTYuNjcwMzE2IDE3Ny45ODE5MTcsMzU2LjY3MDMxNiBMMTc3LjI0NDAzOSwyOTEuMTMzODE3IFoiIGlkPSJGaWxsLTIyIiBmaWxsPSIjMzE0MDQxIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OS41MDAwMDAsIDI4Ni41MDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTE1OS41MDAwMDAsIC0yODYuNTAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNzIuNzQ0OTc5LDg2LjU1NDM0NCBDMTcxLjc1MTMyNCw4Ni4zODUyMTUzIDE3MC43NzEwNjgsODYuNDE4Nzg2MSAxNjkuODQyNjc4LDg2LjYxODUxMDkgQzE2OS44NTAwMjUsODYuNTcwMDY3IDE2OS44NTk5NjYsODYuNTIzMzIyOSAxNjkuODY2NDQ5LDg2LjQ3NDg3OSBDMTcxLjIzNjk5Myw3Ni4xMjYxNTUxIDE2My45NTU5NTUsNjcuNTE3MTYyNCAxNTMuNDMwMzA1LDY2LjE3MDA4MTcgQzE0Mi45MDQ2NTUsNjQuODIzNDI2IDEzNi4wNzY1NzUsNzEuOTE1Nzg0NCAxMzYuMDc2NTc1LDcxLjkxNTc4NDQgQzEzMy4wNDQ2MSw3NC42MzkyNjcgMTMyLjc2NDEwNSw3OC40ODkyODMgMTMyLjE5MzE1Myw4Mi44MDIwNjU4IEMxMzAuODk5NTQ0LDkyLjU3NDU2MjEgMTM2LjEzNDQ5MSwxMDEuMjA5MDUyIDE0Ni45NzE3NjYsMTAyLjU5NjUwMiBDMTQ3LjI2NjEwMiwxMDIuNjMzODk3IDE1OC4yODc5MzIsMTA0LjU1Njc4MSAxNTkuMjU2OTUsMTA0LjkzMjQzMyBMMTU5LjI4MTU4NiwxMDUgTDE2NC44NTMyMjcsOTcuNDE0NzAzNiBDMTY1LjkxODE5Niw5OS4zMjYxMTMzIDE2Ny44MDk5ODYsMTAwLjc2OTIzMiAxNzAuMTYzODExLDEwMS4xNzA4MDYgQzE3NC4yNjg5NTcsMTAxLjg3MTU0MyAxNzguMTc0ODU0LDk5LjE2ODAzMzIgMTc4Ljg4NzU3MSw5NS4xMzE0NjU3IEMxNzkuNjAwMjg4LDkxLjA5NTMyMzEgMTc2Ljg1MDEyNSw4Ny4yNTUwODA5IDE3Mi43NDQ5NzksODYuNTU0MzQ0IiBpZD0iRmlsbC0yMyIgZmlsbD0iIzMxNDA0MSIgZmlsbC1ydWxlPSJub256ZXJvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTUuNTAwMDAwLCA4NS41MDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTE1NS41MDAwMDAsIC04NS41MDAwMDApICI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE3NS45OTk5ODMsMTMwLjEzMjEyMSBMMTc1Ljk5OTk4MywxMjkuODYyNjAyIEwxNzUuMDAwMDEyLDEzMC4xMzIxMjEgQzE3NC45OTYwNjgsMTMwLjExMzg0MiAxNzYuMDA0NzE1LDEzMC4xNTA0MDEgMTc1Ljk5OTk4MywxMzAuMTMyMTIxIiBpZD0iRmlsbC0yNCIgZmlsbD0iI0REOTM5MiIgZmlsbC1ydWxlPSJub256ZXJvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzUuNTAwMDAwLCAxMzAuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xNzUuNTAwMDAwLCAtMTMwLjAwMDAwMCkgIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTg2LDEwNy40MTIwODQgQzE4NS45OTA1NTgsMTA3LjM3MjA4MiAxODUuODgyODI5LDEwNy4zMDgzMyAxODUuOTIxNDU3LDEwNy4zMjM3NDcgQzE4NS45MjE4ODYsMTA3LjMyNDE2NCAxODUuOTIxODg2LDEwNy4zMjM3NDcgMTg1LjkyMTQ1NywxMDcuMzIzNzQ3IEMxODMuOTY1MTc1LDEwNi4xMjMyODQgMTgyLjQ5MjE3LDEwNC4zMDY5NjQgMTgyLjE0ODM4MywxMDIuMDg1MjEyIEMxODEuODk0Mjk4LDEwMC40Mzc2NDggMTgxLjYzMzM0Niw5OC43NjM4MzM1IDE4MS41NjI1MjgsOTguMzQ3NTY3NCBDMTgzLjM5MDkwOSw5Ny45OTEzMDM3IDE4NC43NDUwMjcsOTYuNDA3MDc1OSAxODQuNjg1MzY4LDk0LjUzNzQyMDQgQzE4NC42MTc5ODQsOTIuNDUxOTIzMyAxODIuODIzMDgxLDkwLjgxMzk0MzQgMTgwLjY3NDk0OCw5MC44Nzg5NDU5IEMxNzguNzQ1NzA2LDkwLjkzNzI4MTUgMTc3LjIwMDE2Niw5Mi4zNTI3NTI4IDE3Ni45NTE2NjEsOTQuMTUwNzM4OCBDMTc2LjkwMjczMyw5NC4zMTg2NjIgMTc2Ljg2MTEwMSw5NC40ODk5MTg2IDE3Ni44MzcwNjUsOTQuNjY3ODQyMSBDMTc2LjgwNzg4LDk0Ljg4ODI2NzMgMTczLjYxMzM2NCw5Mi43NTk0MzUyIDE3My42MTMzNjQsOTIuNzU5NDM1MiBDMTc1Ljg0Nzc2Niw4MS45ODY1MTk1IDE3MC44MDI5OCw3Ni4wMTk2MjI3IDE2My4wMTUxOTQsNzUgQzE2Mi45NTg5NjksNzUuMDExNjY3MSAxNjIuODgwODU1LDc1LjAyNzkxNzcgMTYyLjgyNDIwMSw3NS4wNDAwMDE1IEMxNjEuODI3NjA0LDc1LjczNTg2MTcgMTU1LjI2Mzg4OSw4Mi40MTE5NTI2IDE1NC44MzE2ODcsOTEuNDk4NTUzMiBMMTUxLjQ2OTc4NCw5NC44OTU3Njc2IEMxNTEuMDI3NzExLDk1LjM0MjQ1MTUgMTUwLjg4MzUwMSw5NS45OTQxNDMzIDE1MS4wOTc2Nyw5Ni41Nzc0OTkxIEMxNTEuMzEzMTI3LDk3LjE2NDE4ODQgMTUxLjg1MjE5OSw5Ny41ODEyODc5IDE1Mi40ODk1NTcsOTcuNjUzMzc0IEwxNTQuMDQ0OTY5LDk3LjgyOTYzMDggTDE1My44MTk2NCwxMDAuMjQ1MTQxIEMxNTMuODE5NjQsMTAwLjI0NTE0MSAxNjIuMDM3OTExLDExNS40MjczOTMgMTYyLjA1NDY1LDExNS40NzMyMjggTDE2Mi4wNTQ2NSwxMjkgTDE4NiwxMTcuMzc3MDUyIEwxODYsMTA3LjQxMjA4NCBaIiBpZD0iRmlsbC0yNSIgZmlsbD0iI0REOTM5MiIgZmlsbC1ydWxlPSJub256ZXJvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjguNTAwMDAwLCAxMDIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xNjguNTAwMDAwLCAtMTAyLjAwMDAwMCkgIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTgzLjQ0NDc0MiwxMDkuMzE1NDQ5IEwxODYsOTIuNzU2ODIyOCBMMTgyLjU2NDE2Nyw5MiBMMTgwLjY1MTU5NSw5OC42NzM3NjE2IEwxNjIuOTUxMDU2LDk3LjI0OTg2NDcgTDE2Mi4zODQ1MTIsMTAxLjI0NDExMSBDMTYxLjI2MDQ1NiwxMDIuMjIwMTI4IDE2MC40NTM4NzIsMTAzLjUwNzY3NiAxNjAuMTYyNjQyLDEwNS4xODk2IEMxNTkuMTMxOTM1LDExMS4xNDE0ODkgMTYzLjEwNzY0MSwxMTYuODAzODUyIDE2OS4wNDEwODgsMTE3LjgzNzI1NiBDMTcxLjY0NTgxNiwxMTguMjkwNzQ2IDE3NC4xOTQ2MjIsMTE3Ljc3NTU1NCAxNzYuMzIxODUzLDExNi41NTI3MjkgQzE4MC40MTAyNjUsMTE0Ljk4NzczNyAxODMuMTUwMDcsMTExLjA1OTkzOSAxODMuNDQ0NzQyLDEwOS4zMTU0NDkiIGlkPSJGaWxsLTI2IiBmaWxsPSIjMzE0MDQxIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3My4wMDAwMDAsIDEwNS4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTE3My4wMDAwMDAsIC0xMDUuMDAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjcuNzM0ODEzLDkzLjEzODE1NjcgQzE2Ny43MDcyMTksOTMuMTM5NTQ1MSAxNjcuNjc5MTY1LDkzLjE0MDQ3MDcgMTY3LjY1MDY1MSw5My4xNDEzOTYyIEMxNjUuMTA3MzgxLDkzLjIwNDc5ODUgMTYyLjk2NTE0OCw5MS4xOTY3NTE1IDE2Mi44NTYxNSw4OC42MjgyNjU2IEMxNjIuNzQ2MjMzLDg2LjAzMDYyMzggMTY0Ljc1Nzg1NCw4My44MjgyMDUgMTY3LjMzOTc1Niw4My43MTg1MjM3IEMxNjcuMzY2ODksODMuNzE3NTk4MSAxNjcuMzk1NDA0LDgzLjcxNjIwOTcgMTY3LjQyMzQ1OCw4My43MTU3NDY5IEMxNjkuOTY3MTg4LDgzLjY1MjM0NDcgMTcyLjEwOTQyMSw4NS42NTk5Mjg4IDE3Mi4yMTc5NTksODguMjI4ODc3NiBDMTcyLjMyNzQxNiw5MC44MjU1OTM4IDE3MC4zMTU3OTUsOTMuMDI4MDEyNiAxNjcuNzM0ODEzLDkzLjEzODE1NjcgTDE2Ny43MzQ4MTMsOTMuMTM4MTU2NyBaIE0xODUsODkuODQ3NzgzNiBMMTczLjk2NDQ1NCw4OC4xNTM1ODcgQzE3My45Njc2ODUsODguMDE4MDMyNyAxNzMuOTczNjg1LDg3Ljg4Mjk0MTIgMTczLjk2NzY4NSw4Ny43NDU1MzY0IEMxNzMuODI5MjE1LDg0LjQ3NjA0MjMgMTcxLjA5MTY3Niw4MS45MjE3OTM1IDE2Ny44NDEzMzksODIuMDAxODMwNiBDMTY3LjgwNTMzNyw4Mi4wMDI3NTU5IDE2Ny43NjkzMzUsODIuMDAzNjgxMiAxNjcuNzMzNzk0LDgyLjAwNTA2OTEgQzE2Ni4xMzYzMTksODIuMDczMDc3NSAxNjQuNjU5Nzc1LDgyLjc2MDU2NDIgMTYzLjU3ODc5LDgzLjk0MDc2NSBDMTYyLjQ5NzM0NSw4NS4xMjA5NjU5IDE2MS45Mzg4NTIsODYuNjUyNzc0OSAxNjIuMDA1MzE3LDg4LjI1Mzk4MDQgQzE2Mi4xNDQ3MDksOTEuNTIzOTM3MSAxNjQuODgyMjQ5LDk0LjA3ODY0ODYgMTY4LjEzMjU4Niw5My45OTgxNDg4IEMxNjguMTY4NTg4LDkzLjk5NzIyMzUgMTY4LjIwNDU5LDkzLjk5NTgzNTYgMTY4LjI0MDEzMSw5My45OTQ0NDc2IEMxNzAuOTU3ODIyLDkzLjg3ODc4NyAxNzMuMTc2MTAyLDkxLjk1MzczMTkgMTczLjc5NjQ0NCw4OS40MzA0ODAxIEwxODQuNzkwNDUsOTEuMTE4MTk5NyBMMTg1LDg5Ljg0Nzc4MzYgWiIgaWQ9IkZpbGwtMjciIGZpbGw9IiMzMTQwNDEiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTczLjUwMDAwMCwgODguMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC0xNzMuNTAwMDAwLCAtODguMDAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDksMTI5Ljg5MjMzOSBMMTE0LjExMTM3NCwxMTguOTg0MjUyIEMxMTQuNjEyNDk4LDExNS42NTI0MzMgMTE3LjE4NTgwMSwxMDYuMzE4NDQ0IDExOS4xMTU2NjIsMTAyLjk5MDAwMiBDMTE5LjExNTY2MiwxMDIuOTkwMDAyIDEyMS43NTQzMjksOTcuMjQ4NzA0IDEyOSw5OC4wODI4MTk1IEwxMjQuMTg2NzA1LDEzMiIgaWQ9IkZpbGwtMjgiIGZpbGw9IiNERDkzOTIiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE5LjAwMDAwMCwgMTE1LjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMTE5LjAwMDAwMCwgLTExNS4wMDAwMDApICI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI3NCwxMjkuNjU4MDY2IEwyNTQuODgyNjg2LDExNC44MTA2ODMgQzI1My45MjU2MiwxMTQuMDQ5NjQ4IDI1Mi43ODAwMjEsMTEzLjU0NTM5OSAyNTEuNTU5Nzk1LDExMy4zNDgzNiBMMjM3LDExMSBDMjM3LDExNC40NTAwODEgMjM5LjUwNTA0MiwxMTUuNjg4MjQ2IDI0Mi45ODgwOTksMTE2LjM3MTczNyBMMjQ5LjcwMDY1MiwxMTcuODcxNzcyIEMyNDkuNzAwNjUyLDExNy44NzE3NzIgMjQ5LjUyMzkwMywxMjAuMTkyNTg5IDI0OS40NTIzMywxMjAuNDg3NTExIEMyNDguMDYyNzczLDEyNi4yMTIyMjMgMjUxLjQzMjc5NywxMzIuMDM0ODE3IDI1Ny4wMTYzMzYsMTM0LjMxNDUzMiBMMjYzLjAwMzU2MiwxMzYuNzU4NjU3IEwyNzMuOTU2Nzk1LDE0NyBMMjc0LDEyOS42NTgwNjYgWiIgaWQ9IkZpbGwtMjkiIGZpbGw9IiNERDkzOTIiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjU1LjUwMDAwMCwgMTI5LjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMjU1LjUwMDAwMCwgLTEyOS4wMDAwMDApICI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTIzNC4yNDAwNTUsMTI5Ljc2NTE3NiBDMjM0LjAxMjc3NiwxMjkuNzM0Mjc2IDIzMS43ODgxNjcsMTI5LjU2NDExNiAyMzEuNTY3NzEsMTI5LjU3OTc3OCBDMjMwLjM5NTkyLDEyMi45NDczNjEgMjI0LjkyMjg3OCwxMTcuNjg3NjUgMjE4LjA4MDE4OSwxMTcuMjMwOTI4IEMyMTcuNzc0NDQ5LDExNy4yMTAxODcgMjE3LjQ2NzAwNCwxMTcuMTk3OTEyIDIxNy4xNTg3MDUsMTE3LjE5MzY3OSBMMjE3LjA1MjEwMSwxMTcuMjM3Mjc3IEwyMTYuOTU1MzA1LDExMiBMMjAwLjIxMTI0OSwxMTcuODg3ODYzIEMxOTcuNTc4OTg3LDExOC43Nzc2MDMgMTk1LjgxNDQ4LDEyMS4yMzc3MjIgMTk1LjgyODEyNSwxMjMuOTk4MzcyIEwxOTUuODM4MzU5LDEyNS45NzQ2NzkgTDE4MC42ODA1NjksMTMyLjIxNzI1MyBMMTUxLjE0MzE5NywxNDUuMDQxMDI2IEwxMjguNTE3NTkzLDEyOS41MjY4NjggTDExNi44ODU4MzIsMTQzLjcyNTQ2MyBDMTE1LjUxODc0NCwxNDUuMzk0NDY3IDExNS43NjA1MjIsMTQ3Ljg0NDAwNCAxMTcuNDI3ODA2LDE0OS4yMTc1NTYgTDE0Mi4xNjY3MjUsMTY5LjYwMjQyOSBDMTQ2LjU3MjAyMywxNzMuMDM3MzY4IDE1Mi42MzI2NjYsMTczLjQ4OTQzNCAxNTcuNTA1NzQyLDE3MC43NDUyOTIgTDE4MC44MzMyMjYsMTYwLjk2OTU3OCBMMTc2Ljc2NjkyOCwyMjIuMzk0NjczIEMxNzYuNDIxOTU4LDIyNS45MzUwMSAxNzkuMjI1NjM5LDIyOSAxODIuODA5MjM1LDIyOSBMMjMwLjEwNTUzMSwyMjMuNTA0NTIgTDIyNy4zNjU4MTIsMTk5LjI2MjI3MiBMMjI4LjcwNzMxNSwxNzguMTc5ODMgQzIzNS4yMDcxNjYsMTgwLjczMzA3MSAyNDIuODIzMzcyLDE3Ni42NjEwOTIgMjQzLjgzMDEzOSwxNjkuMzYwNzM1IEwyNDksMTMxLjg3ODYyNiBMMjM0LjI0MDA1NSwxMjkuNzY1MTc2IFoiIGlkPSJGaWxsLTMwIiBmaWxsPSIjRjFFRUVFIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4Mi41MDAwMDAsIDE3MC41MDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTE4Mi41MDAwMDAsIC0xNzAuNTAwMDAwKSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIHN0cm9rZT0iI0Q3REJEQiIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjI4MCIgeT0iMCIgd2lkdGg9IjE2NiIgaGVpZ2h0PSIyNyIgcng9IjkiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDlGRTUiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMjg3IiB5PSI5IiB3aWR0aD0iMjUiIGhlaWdodD0iMTAiIHJ4PSI1Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRDdEQkRCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjMyNCIgeT0iOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjEwIiByeD0iMSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIzNjUiIHk9IjgiIHdpZHRoPSI2NyIgaGVpZ2h0PSIxMCIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIHN0cm9rZT0iI0Q3REJEQiIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjI4MCIgeT0iMzIiIHdpZHRoPSIxNjYiIGhlaWdodD0iMjciIHJ4PSI5Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjMDA5RkU1IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjI4NyIgeT0iNDAiIHdpZHRoPSIyNSIgaGVpZ2h0PSIxMCIgcng9IjUiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMzI0IiB5PSI0MCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjEwIiByeD0iMSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iI0Q3REJEQiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIzNjUiIHk9IjQwIiB3aWR0aD0iNjciIGhlaWdodD0iMTAiIHJ4PSIxIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiNEN0RCREIiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIyODAiIHk9IjY0IiB3aWR0aD0iMTY2IiBoZWlnaHQ9IjI3IiByeD0iOSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzAwOUZFNSIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIyODciIHk9IjcyIiB3aWR0aD0iMjUiIGhlaWdodD0iMTAiIHJ4PSI1Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRDdEQkRCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjMyNCIgeT0iNzIiIHdpZHRoPSIyOCIgaGVpZ2h0PSIxMCIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMzY1IiB5PSI3MiIgd2lkdGg9IjY3IiBoZWlnaHQ9IjEwIiByeD0iMSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgc3Ryb2tlPSIjRDdEQkRCIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMjgwIiB5PSI5OCIgd2lkdGg9IjE2NiIgaGVpZ2h0PSIyNyIgcng9IjkiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiMwMDlGRTUiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMjg3IiB5PSIxMDYiIHdpZHRoPSIyNSIgaGVpZ2h0PSIxMCIgcng9IjUiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMzI0IiB5PSIxMDYiIHdpZHRoPSIyOCIgaGVpZ2h0PSIxMCIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNEN0RCREIiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMzY1IiB5PSIxMDYiIHdpZHRoPSI2NyIgaGVpZ2h0PSIxMCIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC00NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzIuMDAwMDAwLCA4Mi4wMDAwMDApIj48L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjc0LjAwMDAwMCwgMzIuMDAwMDAwKSI+PC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3NC4wMDAwMDAsIDY0LjAwMDAwMCkiPjwvZz4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzQuMDAwMDAwLCA5OC4wMDAwMDApIj48L2c+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQzLjYyNzQ2LDM3MC4zMDE3MjggQzE0My42Mjc0NiwzNzAuMzAxNzI4IDE1MC4zNzIzNzQsMzY4LjQwMTE0MiAxNTIuMDcwMTI5LDM2Ny4xNzM5MjQgTDE2MS4wNDc5NzksMzYwLjM0MTU2MSBMMTYwLjkxNTI2MSwzNjAuMzI4NjUxIEwxNjEuNzY2NzI0LDM1Ny43MjA5NjggQzE2Mi4zMzk4MjQsMzU2LjA5OTgwNyAxNjMuOTE0MzQyLDM1NS4wMDkxNzggMTY1LjY4NzA3NCwzNTUuMDA2MjYzIEwxNjkuMDg4NjE3LDM1NSBDMTcxLjQyOTI3OCwzNTQuOTk1NDM2IDE3My4xODQzNDMsMzU2LjkyOTMzNSAxNzMuMjQ1NTMxLDM1OS4wMDg1NjkgTDE4OS4yMTkwODEsMzU5LjAwODU2OSBMMTkxLDM3My45NDg4MTkgTDE5MC45OTU2OTEsMzczLjk0OTY1MiBMMTkxLDM3My45NDk2NTIgTDE5MC44NzY3NjIsMzc1LjgxOTAwNSBDMTkwLjg1ODIzMywzNzYuNDcxMTM0IDE5MC4zMTcwMiwzNzYuOTkyNTA0IDE4OS42NDk1NTIsMzc3IEwxMzkuMDA0MzA5LDM3NyBMMTM5LjAwMTcyNCwzNzQuODA2MjQ4IEwxMzksMzczLjk2OTIyNCBDMTM5LjYxODM0NSwzNzEuOTM4NzEzIDE0MS4yMzA3ODEsMzcxLjA4NDYxNSAxNDMuNjI3NDYsMzcwLjMwMTcyOCIgaWQ9IkZpbGwtMzEiIGZpbGw9IiNGMUVFRUUiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTY1LjAwMDAwMCwgMzY2LjAwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtMTY1LjAwMDAwMCwgLTM2Ni4wMDAwMDApICI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLDMzMCBMNzAsMzMwIEw2OC43NzkwMTE4LDM3MS44NzQ3ODkgQzY4LjY3OTM3NjMsMzc1LjI4NjYxNSA2NS45MDc2OTcsMzc4IDYyLjUyMjUwNDMsMzc4IEw0OS40NzY4OTE5LDM3OCBDNDYuMDkyMzAzLDM3OCA0My4zMjEyMjc2LDM3NS4yODY2MTUgNDMuMjIwOTg4MiwzNzEuODc0Nzg5IEw0MiwzMzAiIGlkPSJGaWxsLTEiIGZpbGw9IiMyOTNENDAiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPgogICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMiIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICA8ZyBpZD0icGF0aC0xIj48L2c+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjYsMjY3Ljg0MDk2NyBDNjYsMjYwLjc0OTM2MSA2MC4xODAwMzEyLDI1NSA1My4wMDA1OTcsMjU1IEM0NS44MjA1NjU4LDI1NSA0MCwyNjAuNzQ5MzYxIDQwLDI2Ny44NDA5NjcgQzQwLDI3NC42NzgzOTYgNDUuNDExNTkxOCwyODAuMjY1NTc5IDUyLjIzMzM5NzYsMjgwLjY1Nzc1NSBMNTIuMjMzMzk3NiwzMzAgTDUzLjc2NjYwMjQsMzMwIEw1My43NjY2MDI0LDI4MC42NTc3NTUgQzYwLjU4OTAwNTIsMjgwLjI2NTU3OSA2NiwyNzQuNjc4Mzk2IDY2LDI2Ny44NDA5NjciIGlkPSJGaWxsLTMiIGZpbGw9IiM3MDk2OUUiIGZpbGwtcnVsZT0ibm9uemVybyIgbWFzaz0idXJsKCNtYXNrLTIpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODYuODA2Njc3NSwyNzcuOTM0OTcyIEM4Mi4wMjM1Mzg2LDI3Mi43ODYzMzQgNzUuMDc5Mzc1OCwyNzEuNDUxMzY4IDcxLjI5Njk3OTcsMjc0Ljk1MjU2MyBDNjcuNTE0NTgzNCwyNzguNDU0MzYgNjguMzI2MTc2LDI4NS40NjY0MDEgNzMuMTA5MzE0NiwyOTAuNjE1MDM4IEM3My4yMzM4MDM1LDI5MC43NDk1NiA3My4zNjEzMTMzLDI5MC44NzkyNTcgNzMuNDg4ODIzNiwyOTEuMDA4OTUzIEw2OC44NzE4NzA4LDI5Ny4zNTkyNDEgQzY2LjQ4ODQ1OTYsMzAwLjYzODQ0NCA2NS4yMDQyOTQxLDMwNC41ODY2MzggNjUuMjA0Mjk0MSwzMDguNjM4NTg4IEw2NS4yMDQyOTQxLDMxMi43NDg0NSBDNTkuODgwMjk0OSwzMTQuMzQyMjA1IDU2LDMxOS4yNjg4NTIgNTYsMzI1LjEwMjE2NSBDNTYsMzMyLjIyNTIwMSA2MS43ODU2OTQ0LDMzOCA2OC45MjE0MjQ3LDMzOCBDNzYuMDU3NzU4OCwzMzggODEuODQyMjQ0NywzMzIuMjI1MjAxIDgxLjg0MjI0NDcsMzI1LjEwMjE2NSBDODEuODQyMjQ0NywzMTcuOTc4NTI1IDc2LjA1Nzc1ODgsMzEyLjIwNDMyOSA2OC45MjE0MjQ3LDMxMi4yMDQzMjkgQzY4LjE0MDY1MTgsMzEyLjIwNDMyOSA2Ny4zNzg2MTI5LDMxMi4yNzY3MTggNjYuNjM1OTEyLDMxMi40MDk0MyBMNjYuNjM1OTEyLDMwOS4yNTc1MTEgQzY2LjYzNTkxMiwzMDUuMjA1NTYgNjcuOTE5NDczMiwzMDEuMjU3MzY2IDcwLjMwMzQ4ODksMjk3Ljk3ODE2NCBMNzQuNjEzNDUwMSwyOTIuMDQ5NTM5IEM3OS4yNTgyMDE3LDI5NS45ODE0NDUgODUuMjE2NzI5NCwyOTYuNzQ2OTU0IDg4LjYxOTAxMjUsMjkzLjU5NzQ0OCBDOTIuNDAxNDA5MSwyOTAuMDk1NjUgOTEuNTg5ODE2NCwyODMuMDgzNjEgODYuODA2Njc3NSwyNzcuOTM0OTcyIiBpZD0iRmlsbC02IiBmaWxsPSIjNzA5NjlFIiBmaWxsLXJ1bGU9Im5vbnplcm8iIG1hc2s9InVybCgjbWFzay0yKSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stNCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMyI+PC91c2U+CiAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICA8ZyBpZD0icGF0aC0zIj48L2c+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDYuMjg1MTc2OSwzMTkuMjY0NTM4IEw0Ni4yODUxNzY5LDMxMS42MjEzNTkgQzQ2LjI4NTE3NjksMzA5LjMzOTI1OSA0NS40NzQ4Mjk0LDMwNy4xMjM3MTQgNDMuOTg2ODk2MiwzMDUuMzQwNDg2IEwzOC45MTI1MTgsMjk5LjI1NDQ4NCBDNDMuNjk5NDU0NiwyOTQuNDY2NjMgNDYuMDk3MzA2NSwyODkuMzI4MDA2IDQ0LjI3Njg0MjgsMjg3LjU4NDM1MSBDNDIuMzg2MjQwOCwyODUuNzc0NzQgMzYuNjc1NjA4MywyODguMzA4Njc1IDMxLjUyMTY5ODMsMjkzLjI0NDAzMyBDMjYuMzY2NTM1OCwyOTguMTc5MzkgMjMuNzIwNjk1LDMwMy42NDcxOTggMjUuNjEwMDQ0NSwzMDUuNDU2ODA5IEMyNy40MzMwMTMxLDMwNy4yMDIyNjMgMzIuODEwNDg4OSwzMDQuODk5MTc2IDM3LjgxNTk4MTMsMzAwLjMwNDk5NCBMNDIuNjM1NDgyMSwzMDYuMDg1Nzk2IEM0NC4xMjI3ODkxLDMwNy44Njk2MjQgNDQuOTMzMTM2NiwzMTAuMDgzOTY5IDQ0LjkzMzEzNjYsMzEyLjM2NjY3IEw0NC45MzMxMzY2LDMxOC40NzM2NTggQzQzLjcxNDQ4NDIsMzE3Ljg5NDQzOCA0Mi4zNDU1MzU2LDMxNy41NTk4NTggNDAuODkyNjcxNSwzMTcuNTU5ODU4IEMzNS44NjI3NTU5LDMxNy41NTk4NTggMzEuNzg1MzQzLDMyMS40NjQ0OTMgMzEuNzg1MzQzLDMyNi4yNzk5MjkgQzMxLjc4NTM0MywzMzEuMDk1OTY1IDM1Ljg2Mjc1NTksMzM1IDQwLjg5MjY3MTUsMzM1IEM0NS45MjI1ODcxLDMzNSA1MCwzMzEuMDk1OTY1IDUwLDMyNi4yNzk5MjkgQzUwLDMyMy4zOTk0MjEgNDguNTM0NjExMiwzMjAuODUyMjk1IDQ2LjI4NTE3NjksMzE5LjI2NDUzOCIgaWQ9IkZpbGwtOCIgZmlsbD0iIzcwOTY5RSIgZmlsbC1ydWxlPSJub256ZXJvIiBtYXNrPSJ1cmwoI21hc2stNCkiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport { createHttpEffect } from '@servicenow/ui-effect-http';\nimport '@servicenow/now-input';\nimport '@servicenow/now-loader';\nimport '@servicenow/now-icon';\nimport 'sn-app-object-wizard-components';\nimport { t } from 'sn-translate';\nimport { tablesDataBehavior } from '@devsnc/guided-wizard-toolkit';\n\nconst {\n\thelpers: { fetchExtendableTables },\n\tconstants: {\n\t\tEXTENDABLE_TABLES_DATA_PROPERTY,\n\t\tEXTENDABLE_TABLES_DATA_LOADING_PROPERTY\n\t}\n} = tablesDataBehavior;\n\nimport styles from './sn-table-wizard-extension-page.scss';\n\nimport {\n\tFETCH_COLUMNS,\n\tFETCH_COLUMNS_SUCCEEDED,\n\tFETCH_COLUMNS_FAILED\n} from './constants';\n\nexport const fetchColumnsEffect = createHttpEffect('/api/now/ui/meta/:table', {\n\tmethod: 'GET',\n\tsuccessActionType: FETCH_COLUMNS_SUCCEEDED,\n\terrorActionType: FETCH_COLUMNS_FAILED,\n\tbatch: false,\n\tqueryParams: ['sysparm_transaction_scope'],\n\tpathParams: ['table']\n});\n\ncreateCustomElement('sn-table-wizard-extension-page', {\n\tview: (\n\t\t{\n\t\t\ttableToExtend,\n\t\t\tproperties: {\n\t\t\t\t[EXTENDABLE_TABLES_DATA_PROPERTY]: extendableTables,\n\t\t\t\t[EXTENDABLE_TABLES_DATA_LOADING_PROPERTY]: isLoadingTables = true,\n\t\t\t\twizardContext: { table, app, defaultPageWidth }\n\t\t\t}\n\t\t},\n\t\t{ dispatch }\n\t) => {\n\t\treturn (\n\t\t\t<sn-guided-wizard-page\n\t\t\t\tclassName=\"sn-table-wizard-summary-page\"\n\t\t\t\tonPrimaryClick={() => {\n\t\t\t\t\tdispatch(FETCH_COLUMNS, {\n\t\t\t\t\t\ttable: tableToExtend,\n\t\t\t\t\t\tsysparm_transaction_scope: app.sys_id\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tprimary-disabled={!tableToExtend}\n\t\t\t\tonSecondaryClick={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\tonClose={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\tonPrevious={() => {\n\t\t\t\t\t// Reset dropdown on back in case user changes source type\n\t\t\t\t\tdispatch('SN_GUIDED_WIZARD#PREVIOUS', {\n\t\t\t\t\t\ttable: { ...table, tableToExtend: '' }\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\trunning-header-text={t('ADD DATA')}\n\t\t\t\theaderText={t('Which table do you want to use?')}\n\t\t\t\tsubheaderText={t(\n\t\t\t\t\t\"We'll add the table's data to your app. Essentially, you are creating an extension with branching logic.\"\n\t\t\t\t)}\n\t\t\t\tmax-width={defaultPageWidth}>\n\t\t\t\t<div>\n\t\t\t\t\t{isLoadingTables === false && extendableTables.length > 0 ? (\n\t\t\t\t\t\t<sn-aow-typeahead\n\t\t\t\t\t\t\tlabel={t('Table')}\n\t\t\t\t\t\t\titems={extendableTables}\n\t\t\t\t\t\t\tselectedItem={tableToExtend}\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tplaceholder={t('Select a table from the Now Platform')}\n\t\t\t\t\t\t\tsearch=\"contains\"\n\t\t\t\t\t\t\ticonName=\"caret-down-fill\"\n\t\t\t\t\t\t\ticonSize=\"sm\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<now-loader />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</sn-guided-wizard-page>\n\t\t);\n\t},\n\tproperties: {\n\t\twizardContext: {},\n\t\t[EXTENDABLE_TABLES_DATA_PROPERTY]: {\n\t\t\tdefault: `@tableWizard/${EXTENDABLE_TABLES_DATA_PROPERTY}`\n\t\t},\n\t\t[EXTENDABLE_TABLES_DATA_LOADING_PROPERTY]: {\n\t\t\tdefault: `@tableWizard/${EXTENDABLE_TABLES_DATA_LOADING_PROPERTY}`\n\t\t}\n\t},\n\tinitialState: { fetchError: null, tableToExtend: '' }, // `tableToExtend` because `extends` is a reserved key\n\tactionHandlers: {\n\t\t[actionTypes.COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tproperties: { wizardContext },\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tfetchExtendableTables(dispatch, wizardContext.app.sys_id);\n\t\t},\n\t\t'NOW_TYPEAHEAD#SELECTED_ITEM_SET': ({\n\t\t\taction: {\n\t\t\t\tpayload: { value },\n\t\t\t\tstopPropagation\n\t\t\t},\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tupdateState({ tableToExtend: value });\n\t\t},\n\t\t[FETCH_COLUMNS]: fetchColumnsEffect,\n\t\t[FETCH_COLUMNS_SUCCEEDED]: ({\n\t\t\taction: {\n\t\t\t\tpayload: {\n\t\t\t\t\tresult: { columns }\n\t\t\t\t}\n\t\t\t},\n\t\t\tstate: { tableToExtend },\n\t\t\tproperties: {\n\t\t\t\twizardContext: { table }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst extendedFieldNames = Object.keys(columns);\n\t\t\tconst extendedFields = extendedFieldNames.map(fieldName => {\n\t\t\t\treturn {\n\t\t\t\t\tname: fieldName,\n\t\t\t\t\tlabel: columns[fieldName].label,\n\t\t\t\t\ttype: columns[fieldName].type,\n\t\t\t\t\tlength: columns[fieldName].max_length, // All columns/fields secretly have this property\n\t\t\t\t\t...(columns[fieldName].type === 'reference' && {\n\t\t\t\t\t\treference: columns[fieldName].reference\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', {\n\t\t\t\ttable: {\n\t\t\t\t\t...table,\n\t\t\t\t\ttableToExtend,\n\t\t\t\t\textendedFields\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tstyles\n});\n","module.exports = __TECTONIC__$servicenow_now_loader;","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-wizard-extension-page.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}now-typeahead{width:42.5rem}now-typeahead now-icon{padding:.25rem}\", \"\"]);\n\n// exports\n","const BASE = 'SN_TABLE_EXTENSION_PAGE#';\n\nexport const FETCH_COLUMNS = `${BASE}FETCH_COLUMNS`;\nexport const FETCH_COLUMNS_SUCCEEDED = `${BASE}FETCH_COLUMNS_SUCCEEDED`;\nexport const FETCH_COLUMNS_FAILED = `${BASE}FETCH_COLUMNS_FAILED`;\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport {\n\tcontextHelpers,\n\ttablesDataBehavior\n} from '@devsnc/guided-wizard-toolkit';\n\nimport '../../components/sn-table-field-list';\n\nimport {\n\tFIELDS_VALIDATED,\n\tFIELDS_INVALIDATED\n} from '../../components/sn-table-field-list/constants';\nimport styles from './sn-table-wizard-definition-page.scss';\n\nconst {\n\tactionTypes: { TABLES_DATA_BEHAVIOR__FETCH_ALL }\n} = tablesDataBehavior;\n\nconst { getContextFromState } = contextHelpers({\n\tnamespace: 'table',\n\tkeys: ['fields']\n});\n\ncreateCustomElement('sn-table-wizard-definition-page', {\n\tview: (state, { dispatch }) => {\n\t\tconst {\n\t\t\tareFieldsValid,\n\t\t\tproperties: { wizardContext }\n\t\t} = state;\n\n\t\tconst { table } = wizardContext;\n\n\t\treturn (\n\t\t\t<sn-guided-wizard-page\n\t\t\t\tonPrimaryClick={() => {\n\t\t\t\t\tconst newTable = getContextFromState(state, wizardContext);\n\t\t\t\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', newTable);\n\t\t\t\t}}\n\t\t\t\tprimary-disabled={!areFieldsValid}\n\t\t\t\tonSecondaryClick={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\trunning-header-text={t('BUILD DATA')}\n\t\t\t\theaderText={t(\n\t\t\t\t\t\"Great! Here's the info we brought over from your spreadsheet\"\n\t\t\t\t)}\n\t\t\t\tsubheaderText={t(\n\t\t\t\t\t'Make sure you update any necessary field info before we keep going.'\n\t\t\t\t)}\n\t\t\t\tonPrevious={() => {\n\t\t\t\t\tconst newtable = getContextFromState(state, wizardContext);\n\t\t\t\t\tdispatch('SN_GUIDED_WIZARD#PREVIOUS', {\n\t\t\t\t\t\t...newtable,\n\t\t\t\t\t\tactiveSheetId: null\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\tonClose={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}>\n\t\t\t\t<sn-table-field-list\n\t\t\t\t\tfields={table ? table.fields : []}\n\t\t\t\t\textendedFields={table ? table.extendedFields : []}\n\t\t\t\t/>\n\t\t\t</sn-guided-wizard-page>\n\t\t);\n\t},\n\tinitialState: {\n\t\tareFieldsValid: true,\n\t\tfields: []\n\t},\n\tproperties: {\n\t\twizardContext: {}\n\t},\n\tactionHandlers: {\n\t\t[actionTypes.COMPONENT_BOOTSTRAPPED]: ({\n\t\t\tproperties: {\n\t\t\t\twizardContext: { app }\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tdispatch('STEPPER_BEHAVIOR#PAGE_SET', {\n\t\t\t\tpage: 'sn-table-wizard-details-page'\n\t\t\t});\n\n\t\t\tdispatch(TABLES_DATA_BEHAVIOR__FETCH_ALL, {\n\t\t\t\tsysparm_transaction_scope: app.sys_id\n\t\t\t});\n\t\t},\n\t\t[FIELDS_VALIDATED]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { fields }\n\t\t\t},\n\t\t\tupdateState\n\t\t}) => {\n\t\t\tupdateState({ fields, areFieldsValid: true });\n\t\t},\n\t\t[FIELDS_INVALIDATED]: ({ updateState }) => {\n\t\t\tupdateState({ areFieldsValid: false });\n\t\t}\n\t},\n\tstyles\n});\n","import './sn-table-field-list';\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '../sn-table-field-card';\nimport '../sn-table-field-card-disabled';\nimport {\n\tFIELD_CHANGED,\n\tFIELD_DELETED,\n\tTYPE_UPDATED,\n\tREFERENCE_UPDATED,\n\tNONE_CHOICE_UPDATED,\n\tINVALID_SET,\n\tFIELD_ADDED,\n\tDUPE_ERR_GENERATED,\n\tERRORS_CHECKED,\n\tFIELDS_VALIDATED,\n\tFIELDS_INVALIDATED,\n\tREQUIRED_ERR_MESSAGE,\n\tONE_CHOICE_REQUIRED_ERR_MESSAGE,\n\tFIELD_INPUTTED\n} from './constants';\n\nimport { CHOICES_UPDATED } from '../sn-table-choices/constants';\n\nimport uuid from '../../../helpers/uuid';\nimport styles from './sn-table-field-list.scss';\n\nimport fieldValidationHelpers from '../../helpers/table-field-validations';\nconst {\n\tisLabelOrName,\n\tgenerateDuplicationErrors,\n\tupdateFieldType,\n\tupdateReference,\n\tupdateChoice,\n\tvalidateFields\n} = fieldValidationHelpers;\n\nconst { COMPONENT_BOOTSTRAPPED } = actionTypes;\n\nconst DEFAULT_FIELD = {\n\tname: '',\n\tlabel: '',\n\ttype: 'none',\n\tdisplay: false,\n\tmandatory: false\n};\n\nconst DEFAULT_ERRORS_NEW_FIELD = {\n\tlabel: { isDirty: false, message: REQUIRED_ERR_MESSAGE },\n\tname: { isDirty: false, message: REQUIRED_ERR_MESSAGE },\n\ttype: { isDirty: false, message: REQUIRED_ERR_MESSAGE },\n\tchoice: { isDirty: false, message: ONE_CHOICE_REQUIRED_ERR_MESSAGE }\n};\n\n// Assuming that if there are fields persisted from properties, they would have to be valid\nconst DEFAULT_ERRORS_PERSISTED_FIELD = {\n\tlabel: { isDirty: false, message: null },\n\tname: { isDirty: false, message: null },\n\ttype: { isDirty: false, message: null },\n\tchoice: { isDirty: false, message: null }\n};\n\ncreateCustomElement('sn-table-field-list', {\n\tview: (state, { dispatch, updateState }) => {\n\t\tconst { fields, errors } = state;\n\t\tconst { extendedFields = [] } = state.properties;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"add-new-button\"\n\t\t\t\t\ton-click={() => dispatch(FIELD_ADDED)}>\n\t\t\t\t\t<now-icon icon=\"circle-plus-outline\" size=\"md\" />\n\t\t\t\t\t{t('Add new field')}\n\t\t\t\t</button>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"field-cards-container\"\n\t\t\t\t\thook-insert={({ elm }) => updateState({ fieldsRef: elm })}\n\t\t\t\t\thook-destroy={() => updateState({ fieldsRef: null })}>\n\t\t\t\t\t{fields\n\t\t\t\t\t\t.map(field => (\n\t\t\t\t\t\t\t<sn-table-field-card\n\t\t\t\t\t\t\t\tkey={field.id}\n\t\t\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\t\t\terrors={errors[field.id]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t\t.reverse()}\n\t\t\t\t\t{extendedFields.map(extendedField => (\n\t\t\t\t\t\t<sn-table-field-card-disabled\n\t\t\t\t\t\t\tkey={extendedField.id}\n\t\t\t\t\t\t\tfield={extendedField}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n\tinitialState: {\n\t\tfields: [],\n\t\terrors: {},\n\t\tfieldsRef: null\n\t},\n\tproperties: {\n\t\tfields: {\n\t\t\tdefault: []\n\t\t},\n\t\textendedFields: {\n\t\t\tdefault: []\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({ properties, updateState, dispatch }) => {\n\t\t\tlet errors = {};\n\n\t\t\tconst fields = properties.fields.map(f => {\n\t\t\t\tconst id = uuid();\n\t\t\t\terrors[id] = JSON.parse(JSON.stringify(DEFAULT_ERRORS_PERSISTED_FIELD));\n\t\t\t\t// If spreadsheet don't have data, API call gives `internal_type` as null. So `Continue` button should be disabled.\n\t\t\t\t// Based on errors, `ERRORS_CHECKED` effect dispatches `FIELDS_INVALIDATED` action to disable the `Continue` button\n\t\t\t\tif (!f.type) {\n\t\t\t\t\terrors[id].type.message = DEFAULT_ERRORS_NEW_FIELD.type.message;\n\t\t\t\t}\n\t\t\t\treturn { ...f, id };\n\t\t\t});\n\n\t\t\tupdateState({ fields, errors });\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t},\n\t\t[FIELD_INPUTTED]: {\n\t\t\tmodifier: { name: 'debounce', delay: 200 },\n\t\t\t// batch sequence of characters user enters\n\t\t\teffect: ({\n\t\t\t\taction: {\n\t\t\t\t\tpayload: { attr, field }\n\t\t\t\t},\n\t\t\t\tupdateState\n\t\t\t}) => {\n\t\t\t\t// here we just reset message, the FIELD_CHANGED will set message after validation\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: `errors[${field.id}][${attr}][message]`,\n\t\t\t\t\tvalue: null,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[FIELD_CHANGED]: ({\n\t\t\tstate: { fields },\n\t\t\taction: {\n\t\t\t\tpayload: { field, attr }\n\t\t\t},\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst newFields = fields.map(f => (f.id === field.id ? { ...field } : f));\n\t\t\tupdateState({ fields: newFields });\n\t\t\tif (isLabelOrName(attr)) {\n\t\t\t\treturn dispatch(DUPE_ERR_GENERATED, { field, attr });\n\t\t\t}\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t},\n\t\t[FIELD_ADDED]: ({\n\t\t\tstate: { fields, errors, fieldsRef },\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\t// Provide unique identifier\n\t\t\tconst id = uuid();\n\n\t\t\tupdateState({\n\t\t\t\tfields: fields.concat({\n\t\t\t\t\t...DEFAULT_FIELD,\n\t\t\t\t\tid\n\t\t\t\t}),\n\t\t\t\terrors: {\n\t\t\t\t\t...errors,\n\t\t\t\t\t[id]: JSON.parse(JSON.stringify(DEFAULT_ERRORS_NEW_FIELD))\n\t\t\t\t}\n\t\t\t});\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t\tfieldsRef.scrollTop = 0;\n\t\t},\n\t\t[FIELD_DELETED]: ({\n\t\t\tstate: { fields, errors },\n\t\t\taction: {\n\t\t\t\tpayload: { id }\n\t\t\t},\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst newFields = fields.filter(i => i.id !== id);\n\t\t\tconst newErrors = { ...errors };\n\t\t\tdelete newErrors[id];\n\t\t\tupdateState({ fields: newFields, errors: newErrors });\n\t\t\t// Since the field deleted may have been triggering a duplication error...\n\t\t\tdispatch(DUPE_ERR_GENERATED, {});\n\t\t},\n\t\t[TYPE_UPDATED]: ({\n\t\t\tstate: { fields, errors },\n\t\t\taction: {\n\t\t\t\tpayload: { field }\n\t\t\t},\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst { newFields, newErrors } = updateFieldType(field, fields, errors);\n\t\t\tupdateState({\n\t\t\t\tfields: newFields,\n\t\t\t\terrors: newErrors\n\t\t\t});\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t},\n\t\t[REFERENCE_UPDATED]: ({\n\t\t\tstate: { fields, errors },\n\t\t\taction: {\n\t\t\t\tpayload: { field }\n\t\t\t},\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst { newFields, newErrors } = updateReference(field, fields, errors);\n\t\t\tupdateState({\n\t\t\t\tfields: newFields,\n\t\t\t\terrors: newErrors\n\t\t\t});\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t},\n\t\t[NONE_CHOICE_UPDATED]: ({\n\t\t\tstate: { fields, errors },\n\t\t\taction: {\n\t\t\t\tpayload: { field }\n\t\t\t},\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst { newFields, newErrors } = updateChoice({\n\t\t\t\tfield,\n\t\t\t\tfields,\n\t\t\t\terrors\n\t\t\t});\n\n\t\t\tupdateState({\n\t\t\t\tfields: newFields,\n\t\t\t\terrors: newErrors\n\t\t\t});\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t},\n\t\t[CHOICES_UPDATED]: ({\n\t\t\tstate: { fields, errors },\n\t\t\taction: {\n\t\t\t\tpayload: { field }\n\t\t\t},\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst fieldsWithNewChoices = [...fields];\n\t\t\tconst fieldIdx = fields.findIndex(f => f.id === field.id);\n\t\t\tfieldsWithNewChoices[fieldIdx].choices = field.choices;\n\n\t\t\tconst { newFields, newErrors } = updateChoice({\n\t\t\t\tfield,\n\t\t\t\tfields: fieldsWithNewChoices,\n\t\t\t\terrors\n\t\t\t});\n\n\t\t\tupdateState({\n\t\t\t\tfields: newFields,\n\t\t\t\terrors: newErrors\n\t\t\t});\n\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t},\n\t\t[INVALID_SET]: ({\n\t\t\taction: {\n\t\t\t\tpayload: { field, attr, message }\n\t\t\t},\n\t\t\tupdateState,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tupdateState({\n\t\t\t\tpath: `errors.${field.id}.${attr}`,\n\t\t\t\tvalue: { isDirty: true, message },\n\t\t\t\toperation: 'set'\n\t\t\t});\n\n\t\t\tif (isLabelOrName(attr) && !message) {\n\t\t\t\t/**\n\t\t\t\t * Generating duplication errors is pretty expensive so let's only do it if:\n\t\t\t\t * 1. It's either the `label` or `name` key changing **AND**\n\t\t\t\t * 2. The native input is valid (i.e. this action sends up a `null` message)\n\t\t\t\t *\n\t\t\t\t * Folks with keen eyes will notice that this case will cause\n\t\t\t\t * GENERATE_DUPLICATION_ERRORS to be dispatched both from here and from the\n\t\t\t\t * FIELD_CHANGED action. Hence the debounce below to rely on the latest call.\n\t\t\t\t */\n\t\t\t\treturn dispatch(DUPE_ERR_GENERATED, { field, attr });\n\t\t\t}\n\t\t\tdispatch(ERRORS_CHECKED);\n\t\t},\n\t\t[DUPE_ERR_GENERATED]: {\n\t\t\tmodifier: { name: 'debounce', delay: 100 },\n\t\t\t// Because FIELD_CHANGED and INVALID_SET can independently dispatch this action\n\t\t\teffect: ({\n\t\t\t\tstate: { fields, errors },\n\t\t\t\tproperties: { extendedFields },\n\t\t\t\taction: { payload },\n\t\t\t\tupdateState,\n\t\t\t\tdispatch\n\t\t\t}) => {\n\t\t\t\t// When a field is deleted there won't be a field in the payload\n\t\t\t\tconst { field = {} } = payload;\n\t\t\t\tconst newErrors = generateDuplicationErrors(\n\t\t\t\t\tfield,\n\t\t\t\t\tfields,\n\t\t\t\t\terrors,\n\t\t\t\t\textendedFields\n\t\t\t\t);\n\t\t\t\tupdateState({ errors: newErrors });\n\t\t\t\tdispatch(ERRORS_CHECKED);\n\t\t\t}\n\t\t},\n\t\t[ERRORS_CHECKED]: {\n\t\t\tmodifier: { name: 'debounce', delay: 200 },\n\t\t\t// Because a whole bunch of actions can independently dispatch this one\n\t\t\teffect: ({ dispatch }) => {\n\t\t\t\tdispatch(({ state: { fields, errors } }) => {\n\t\t\t\t\tconst isValid = validateFields(errors);\n\n\t\t\t\t\tif (isValid) {\n\t\t\t\t\t\t// If all is good, strip out the id and send up the fields!\n\t\t\t\t\t\tconst fieldsWithoutIds = fields.map(\n\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t({ id, choices, choice, ...rest }) => {\n\t\t\t\t\t\t\t\tconst doesChoicesExist = choices && choices.length > 0;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...rest,\n\t\t\t\t\t\t\t\t\t// put back choices in the object\n\t\t\t\t\t\t\t\t\t// just need it to see what the selection is\n\t\t\t\t\t\t\t\t\t// down below\n\t\t\t\t\t\t\t\t\t...(choice && {\n\t\t\t\t\t\t\t\t\t\tchoice\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t// only adds a choices property to the fields without\n\t\t\t\t\t\t\t\t\t// if the user added a choice\n\t\t\t\t\t\t\t\t\t// otherwise there is no choices property\n\t\t\t\t\t\t\t\t\t...(doesChoicesExist && {\n\t\t\t\t\t\t\t\t\t\tchoices: choices.map(\n\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\t\t\t\t({ id, ...restChoices }) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t...restChoices\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t// only add on a default_value if user choose\n\t\t\t\t\t\t\t\t\t// dropdown wihout none and has added at least once choice\n\t\t\t\t\t\t\t\t\t...(doesChoicesExist &&\n\t\t\t\t\t\t\t\t\t\tchoice === '3' && {\n\t\t\t\t\t\t\t\t\t\t\tdefault_value: choices[0].value\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: FIELDS_VALIDATED,\n\t\t\t\t\t\t\tpayload: { fields: fieldsWithoutIds }\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Don't send up the fields to the page if they aren't valid\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: FIELDS_INVALIDATED\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tstyles\n});\n","import './sn-table-field-card';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-input';\nimport '@servicenow/now-button';\nimport '@servicenow/now-checkbox';\nimport '@servicenow/now-text-link';\nimport '@servicenow/now-select';\nimport { generateStyleToolTipContent } from 'sn-app-object-wizard-components';\n\nimport '../sn-table-choices';\n\nimport { serializeSNName } from '../../../helpers/sn-naming-helpers';\nimport styles from './sn-table-field-card.scss';\n\nimport {\n\tFIELD_TYPES,\n\tFIELD_CHANGED,\n\tFIELD_DELETED,\n\tTYPE_UPDATED,\n\tREFERENCE_UPDATED,\n\tNONE_CHOICE_UPDATED,\n\tINVALID_SET,\n\tREQUIRED_ERR_MESSAGE,\n\tCHAR_LIMIT_MIN_ERR_MESSAGE,\n\tCHAR_LIMIT_MAX_ERR_MESSAGE,\n\tCHAR_INVALID_ERR_MESSAGE,\n\tCHOICE_TYPES,\n\tFIELD_INPUTTED\n} from '../sn-table-field-list/constants';\n\nimport {\n\tCHOICES_UPDATED,\n\tCHOICE_ADDED,\n\tCHOICE_DELETED,\n\tCHOICE_EDITED\n} from '../sn-table-choices/constants';\n\nimport { PREVENT_ONLY_WHITESPACE_REGEX } from '../../helpers/error-constants';\n\nimport validationHelpers from '../../helpers/table-field-validations';\nconst { isAttrInvalid } = validationHelpers;\n\nimport { tablesDataBehavior } from '@devsnc/guided-wizard-toolkit';\nconst {\n\tconstants: { TABLES_DATA_PROPERTY }\n} = tablesDataBehavior;\n\nconst renderConditionalInput = ({ field, errors = {}, allTables = [] }) => {\n\tswitch (field.type) {\n\t\tcase 'string':\n\t\t\treturn (\n\t\t\t\t<now-input\n\t\t\t\t\tclassName=\"additional-input length\"\n\t\t\t\t\tname=\"length\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tlabel={t('Character limit')}\n\t\t\t\t\thelper-content={t(\n\t\t\t\t\t\t'Max length of the strings that can be stored here.'\n\t\t\t\t\t)}\n\t\t\t\t\tvalue={field.length}\n\t\t\t\t\tmin={1}\n\t\t\t\t\tmax={8000}\n\t\t\t\t\tstep={1}\n\t\t\t\t\trequired\n\t\t\t\t\tmanage-invalid\n\t\t\t\t\tinvalid={isAttrInvalid(errors, 'length')}\n\t\t\t\t\tmessages={\n\t\t\t\t\t\tisAttrInvalid(errors, 'length')\n\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\t\tcontent: errors.length.message\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t: []\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'reference': {\n\t\t\tconst isTablesLoading = allTables.length === 0;\n\t\t\treturn (\n\t\t\t\t<sn-aow-typeahead\n\t\t\t\t\tclassName=\"additional-input reference\"\n\t\t\t\t\tsearch=\"contains\"\n\t\t\t\t\tlabel={t('Reference table')}\n\t\t\t\t\tname=\"reference\"\n\t\t\t\t\tplaceholder={isTablesLoading ? t('Loading...') : ''}\n\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t'Name of the table that is providing data to be used in this column.'\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t\tdisabled={isTablesLoading}\n\t\t\t\t\titems={allTables}\n\t\t\t\t\tselectedItem={field.reference || ''}\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\titemsLimit={100}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tcase 'choice':\n\t\t\treturn (\n\t\t\t\t<now-select\n\t\t\t\t\tclassName=\"additional-input\"\n\t\t\t\t\tlabel={t('Choice type')}\n\t\t\t\t\tappend-to-payload={{ name: 'choice' }}\n\t\t\t\t\titems={CHOICE_TYPES}\n\t\t\t\t\tselectedItem={'1'}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tselect=\"single\"\n\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\tt('Defines the dropdown behavior of the choice list on a form.')\n\t\t\t\t\t)}\n\t\t\t\t\tmanage-invalid\n\t\t\t\t\tinvalid={isAttrInvalid(errors, 'choice')}\n\t\t\t\t\tmessages={\n\t\t\t\t\t\tisAttrInvalid(errors, 'choice')\n\t\t\t\t\t\t\t? [{ status: 'critical', content: errors.choice.message }]\n\t\t\t\t\t\t\t: []\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn '';\n\t}\n};\n\nconst renderChoiceList = field => {\n\treturn field.type === 'choice' ? <sn-table-choices field={field} /> : null;\n};\n\ncreateCustomElement('sn-table-field-card', {\n\tview: (state, { dispatch, updateState }) => {\n\t\tconst {\n\t\t\toptionsExpanded,\n\t\t\tproperties: { field, errors }\n\t\t} = state;\n\n\t\tconst { name, label, type, mandatory, display } = field;\n\n\t\tconst typeaheadType = !type\n\t\t\t? 'none'\n\t\t\t: (FIELD_TYPES.find(f => f.id === type) || { id: 'none' }).id;\n\n\t\treturn (\n\t\t\t<fieldset className=\"table-field-card-container\">\n\t\t\t\t<legend>{t('Define a field on the table')}</legend>\n\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t<div className=\"inputs-wrapper\">\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tclassName=\"label\"\n\t\t\t\t\t\t\tname=\"label\"\n\t\t\t\t\t\t\tvalue={label}\n\t\t\t\t\t\t\tlabel={t('Field label')}\n\t\t\t\t\t\t\thelper-content={t(\n\t\t\t\t\t\t\t\t'Create a unique label for the table column, such as \"Name\" or \"Location\"'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tmaxlength={80}\n\t\t\t\t\t\t\tpattern={PREVENT_ONLY_WHITESPACE_REGEX}\n\t\t\t\t\t\t\tmanage-invalid\n\t\t\t\t\t\t\tinvalid={isAttrInvalid(errors, 'label')}\n\t\t\t\t\t\t\tmessages={\n\t\t\t\t\t\t\t\tisAttrInvalid(errors, 'label')\n\t\t\t\t\t\t\t\t\t? [{ status: 'critical', content: errors.label.message }]\n\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tclassName=\"name\"\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tlabel={t('Field name')}\n\t\t\t\t\t\t\thelper-content={t(\n\t\t\t\t\t\t\t\t'A name is created automatically after you enter a label. You can edit this name, if needed.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tmaxlength={80}\n\t\t\t\t\t\t\tmanage-invalid\n\t\t\t\t\t\t\tinvalid={isAttrInvalid(errors, 'name')}\n\t\t\t\t\t\t\tmessages={\n\t\t\t\t\t\t\t\tisAttrInvalid(errors, 'name')\n\t\t\t\t\t\t\t\t\t? [{ status: 'critical', content: errors.name.message }]\n\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<now-select\n\t\t\t\t\t\t\tlabel={t('Type')}\n\t\t\t\t\t\t\tclassName=\"type\"\n\t\t\t\t\t\t\titems={FIELD_TYPES}\n\t\t\t\t\t\t\tselected-item={typeaheadType}\n\t\t\t\t\t\t\tappend-to-payload={{ name: 'type' }}\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\thelper-content={t(\n\t\t\t\t\t\t\t\t'Select the type of information that is stored in this column, such as text, dates, or references to other tables.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{renderConditionalInput(state.properties)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"now-align -block-center\">\n\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\tclassName=\"expand\"\n\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\ticon={optionsExpanded ? 'chevron-up-fill' : 'chevron-down-fill'}\n\t\t\t\t\t\t\ton-click={() =>\n\t\t\t\t\t\t\t\tupdateState({ optionsExpanded: !optionsExpanded })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t'aria-label': t('Expand options')\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{optionsExpanded ? (\n\t\t\t\t\t<div className=\"options-container\">\n\t\t\t\t\t\t<div className=\"expanded-options\">\n\t\t\t\t\t\t\t<div className=\"now-align\">\n\t\t\t\t\t\t\t\t<div className=\"checkbox-wrapper\">\n\t\t\t\t\t\t\t\t\t<sn-aow-checkbox-tooltip\n\t\t\t\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t\t\t\t'Option to use this column as the display value for the table. If another table references this table, the information from this column is what appears in the other table.'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tconstrain={{ maxWidth: 500 }}>\n\t\t\t\t\t\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\t\t\t\t\t\tslot=\"AOW_CHECKBOX_TOOLTIP#CHECKBOX_SLOT\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"display\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"display\"\n\t\t\t\t\t\t\t\t\t\t\tchecked={display}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('Display')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</sn-aow-checkbox-tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"checkbox-wrapper\">\n\t\t\t\t\t\t\t\t\t<sn-aow-checkbox-tooltip\n\t\t\t\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t\t\t\t'Option to require that users fill in this column when updating the table.'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\t\t\t\t\t\tslot=\"AOW_CHECKBOX_TOOLTIP#CHECKBOX_SLOT\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"mandatory\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"mandatory\"\n\t\t\t\t\t\t\t\t\t\t\tchecked={mandatory}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('Mandatory')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</sn-aow-checkbox-tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\t\tclassName=\"delete\"\n\t\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\t\ticon=\"trash-fill\"\n\t\t\t\t\t\t\t\ton-click={() => dispatch(FIELD_DELETED, { id: field.id })}\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{renderChoiceList(field)}\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</fieldset>\n\t\t);\n\t},\n\tinitialState: {\n\t\toptionsExpanded: false\n\t},\n\tproperties: {\n\t\tfield: {\n\t\t\tdefault: {}\n\t\t},\n\t\terrors: {\n\t\t\tdefault: {}\n\t\t},\n\t\tallTables: {\n\t\t\tdefault: `@tableWizard/${TABLES_DATA_PROPERTY}`\n\t\t}\n\t},\n\tactionHandlers: {\n\t\t'NOW_INPUT#INPUT': {\n\t\t\teffect: ({ action: { payload }, properties: { field }, dispatch }) => {\n\t\t\t\tconst { fieldValue, name } = payload;\n\t\t\t\t// now-input doesn't trigger VALUE_SET if input is set to invalid which causes DEF0191362 & DEF0189518\n\t\t\t\t// send inputted when some value is entered in field so that parent can rest the error message and make field valid\n\t\t\t\t// the value_set and invalid_set should take care of rest of validations properly\n\t\t\t\tif ((name === 'label' || name === 'name') && fieldValue.length) {\n\t\t\t\t\tdispatch(FIELD_INPUTTED, { field, attr: name });\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopPropagation: true\n\t\t},\n\n\t\t/**\n\t\t * Using this new pattern of passing in a callback to `dispatch`/`updateState`/etc. that\n\t\t * returns a declarative update. This function has access to `coeffects` and using\n\t\t * `properties` or `state` off of this will help guarantee \"freshness\".\n\t\t */\n\t\t'NOW_INPUT#VALUE_SET': ({\n\t\t\taction: { payload, stopPropagation },\n\t\t\tdispatch\n\t\t}) => {\n\t\t\t/**\n\t\t\t * This is emitted on blur of the now-input only if the native HTML validations pass.\n\t\t\t *\n\t\t\t * The handler of FIELD_CHANGED will determine if there are any duplicates between\n\t\t\t * the stored field values and the incoming change. To follow the Design System\n\t\t\t * pattern, the new field value will not be stored on the field list component's\n\t\t\t * state.\n\t\t\t */\n\t\t\tstopPropagation();\n\t\t\tconst { value, name } = payload;\n\n\t\t\t// For whatever reason leaving `invalidExp` as a global on the file does weird things\n\t\t\tconst invalidExp = new RegExp('[^a-z0-9_]|_$|[_]{2,}', 'g');\n\t\t\tswitch (name) {\n\t\t\t\tcase 'label':\n\t\t\t\t\tdispatch(({ properties: { field } }) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: FIELD_CHANGED,\n\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\tfield: {\n\t\t\t\t\t\t\t\t\t...field,\n\t\t\t\t\t\t\t\t\tlabel: value,\n\t\t\t\t\t\t\t\t\tname: serializeSNName(value)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tattr: 'label'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'name':\n\t\t\t\t\tif (invalidExp.exec(value)) {\n\t\t\t\t\t\t// Don't update the field value if there are invalid characters (see below)\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdispatch(({ properties: { field } }) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: FIELD_CHANGED,\n\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\tfield: {\n\t\t\t\t\t\t\t\t\t...field,\n\t\t\t\t\t\t\t\t\tname: serializeSNName(value)\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tattr: 'name'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdispatch(({ properties: { field } }) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: FIELD_CHANGED,\n\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\tfield: {\n\t\t\t\t\t\t\t\t\t...field,\n\t\t\t\t\t\t\t\t\t[name]: value\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tattr: name\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t'NOW_INPUT#INVALID_SET': ({\n\t\t\taction: {\n\t\t\t\tpayload: { type, value, fieldValue, name },\n\t\t\t\tstopPropagation\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\t/**\n\t\t\t * This is emitted on blur of the now-input, `value` is a boolean of whether or not\n\t\t\t * the native HTML input element is invalid or not. When `value` is `true`, the\n\t\t\t * VALUE_SET action does not fire.\n\t\t\t *\n\t\t\t * So holding to that pattern throughout. If there's an \"error\", we won't actually\n\t\t\t * update the fields stored on the field list component's local state.\n\t\t\t */\n\n\t\t\tstopPropagation();\n\n\t\t\tlet message = null;\n\n\t\t\t// For whatever reason leaving `invalidExp` as a global on the file does weird things\n\t\t\t// Only alphanumeric or underscores, no duplicate underscores or trailing underscores\n\t\t\tconst invalidExp = new RegExp('[^a-z0-9_]|_$|[_]{2,}', 'g');\n\t\t\t// Preventing \"only whitespaces\", needs to be anchored to mimic behavior of HTML5 `pattern`\n\t\t\tconst noSpaceExp = new RegExp(`^${PREVENT_ONLY_WHITESPACE_REGEX}$`);\n\t\t\tif (type === 'text') {\n\t\t\t\tif (value === true && (!fieldValue || !noSpaceExp.exec(fieldValue))) {\n\t\t\t\t\t// This was such a sneaky sneaky bug. Under stress, INVALID_SET will unreliably\n\t\t\t\t\t// fire even if there totally is a valid (i.e. required) fieldValue.\n\t\t\t\t\tmessage = REQUIRED_ERR_MESSAGE;\n\t\t\t\t}\n\t\t\t\tif (name === 'name' && invalidExp.exec(fieldValue)) {\n\t\t\t\t\t// Since manage-invalid and pattern are incompatible, we're essentially faking\n\t\t\t\t\t// an INVALID_SET here\n\t\t\t\t\tmessage = CHAR_INVALID_ERR_MESSAGE;\n\t\t\t\t}\n\t\t\t} else if (type === 'number' && value === true) {\n\t\t\t\tif (!fieldValue) {\n\t\t\t\t\tmessage = REQUIRED_ERR_MESSAGE;\n\t\t\t\t} else if (fieldValue < 1) {\n\t\t\t\t\tmessage = CHAR_LIMIT_MIN_ERR_MESSAGE;\n\t\t\t\t} else if (fieldValue > 8000) {\n\t\t\t\t\tmessage = CHAR_LIMIT_MAX_ERR_MESSAGE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdispatch(({ properties: { field } }) => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: INVALID_SET,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tfield,\n\t\t\t\t\t\tattr: name,\n\t\t\t\t\t\tmessage\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\t'NOW_CHECKBOX#CHECKED_SET': ({\n\t\t\taction: {\n\t\t\t\tpayload: { name, value },\n\t\t\t\tstopPropagation\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tdispatch(({ properties: { field } }) => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: FIELD_CHANGED,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tfield: {\n\t\t\t\t\t\t\t...field,\n\t\t\t\t\t\t\t[name]: value\n\t\t\t\t\t\t},\n\t\t\t\t\t\tattr: name\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\t'NOW_SELECT#SELECTED_ITEM_SET': ({\n\t\t\tproperties: { field },\n\t\t\taction: {\n\t\t\t\tpayload: { name, value },\n\t\t\t\tstopPropagation\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tswitch (name) {\n\t\t\t\tcase 'type':\n\t\t\t\t\treturn dispatch(TYPE_UPDATED, {\n\t\t\t\t\t\tfield: { ...field, type: value }\n\t\t\t\t\t});\n\t\t\t\tcase 'choice':\n\t\t\t\t\treturn dispatch(NONE_CHOICE_UPDATED, {\n\t\t\t\t\t\tfield: { ...field, choice: value }\n\t\t\t\t\t});\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t'NOW_TYPEAHEAD#SELECTED_ITEM_SET': ({\n\t\t\tproperties: { field },\n\t\t\taction: {\n\t\t\t\tpayload: { name, value },\n\t\t\t\tstopPropagation\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tif (name === 'reference') {\n\t\t\t\tdispatch(REFERENCE_UPDATED, {\n\t\t\t\t\tfield: { ...field, reference: value }\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t'NOW_BUTTON_ICONIC#CLICKED': ({ action: { stopPropagation } }) => {\n\t\t\tstopPropagation(); // Don't let this action escape\n\t\t},\n\t\t[CHOICE_ADDED]: ({\n\t\t\tproperties: { field },\n\t\t\taction: { payload, stopPropagation },\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { newChoice } = payload;\n\t\t\tconst id = newChoice + field.choices.length;\n\t\t\tconst currentChoice = {\n\t\t\t\tid,\n\t\t\t\tlabel: newChoice,\n\t\t\t\tvalue: serializeSNName(newChoice)\n\t\t\t};\n\t\t\tconst choices = [...field.choices, currentChoice];\n\t\t\tdispatch(CHOICES_UPDATED, {\n\t\t\t\tfield: { ...field, choices }\n\t\t\t});\n\t\t},\n\t\t[CHOICE_DELETED]: ({\n\t\t\tproperties: { field },\n\t\t\taction: { payload, stopPropagation },\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { id } = payload;\n\t\t\tconst filteredChoices = field.choices.filter(choice => choice.id != id);\n\n\t\t\tdispatch(CHOICES_UPDATED, {\n\t\t\t\tfield: { ...field, choices: filteredChoices }\n\t\t\t});\n\t\t},\n\t\t[CHOICE_EDITED]: ({\n\t\t\tproperties: { field },\n\t\t\taction: {\n\t\t\t\tpayload: { id, value, name },\n\t\t\t\tstopPropagation\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst newChoices = [...field.choices];\n\t\t\tconst editedIndex = field.choices.findIndex(choice => choice.id === id);\n\n\t\t\tnewChoices[editedIndex] = {\n\t\t\t\t...newChoices[editedIndex],\n\t\t\t\t// format value correctly if its the name of value\n\t\t\t\t// since thats the system value\n\t\t\t\t[name]: name === 'value' ? serializeSNName(value) : value\n\t\t\t};\n\n\t\t\tdispatch(CHOICES_UPDATED, {\n\t\t\t\tfield: { ...field, choices: newChoices }\n\t\t\t});\n\t\t}\n\t},\n\tstyles\n});\n","module.exports = __TECTONIC__$servicenow_now_select;","import { createCustomElement } from '@servicenow/ui-core';\n\nimport '../sn-table-choice-input';\nimport '../sn-table-choice-list';\n\ncreateCustomElement('sn-table-choices', {\n\tview: ({ properties: { field } }) => (\n\t\t<div className=\"table-field-card-container\">\n\t\t\t<sn-table-choice-input />\n\t\t\t{field.choices.length > 0 ? (\n\t\t\t\t<sn-table-choice-list choices={field.choices} />\n\t\t\t) : null}\n\t\t</div>\n\t),\n\tproperties: {\n\t\tfield: {\n\t\t\tdefault: {}\n\t\t}\n\t}\n});\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-input';\nimport '@servicenow/now-button';\n\nimport { CHOICE_ADDED } from '../sn-table-choices/constants';\n\nimport styles from './sn-table-choice-input.scss';\n\ncreateCustomElement('sn-table-choice-input', {\n\tview: ({ newChoice }, { dispatch }) => {\n\t\treturn (\n\t\t\t<div className=\"sn-table-choice-input-container\">\n\t\t\t\t<now-input name=\"newChoice\" value={newChoice} label={t('Choices')} />\n\t\t\t\t<now-button\n\t\t\t\t\ton-click={() => dispatch(CHOICE_ADDED, { newChoice })}\n\t\t\t\t\tdisabled={!newChoice}\n\t\t\t\t\tlabel={t('Add')}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t},\n\tinitialState: {\n\t\tnewChoice: ''\n\t},\n\tproperties: {\n\t\tnoneChoice: { default: '1' },\n\t\tchoicesLength: { default: 0 }\n\t},\n\tactionHandlers: {\n\t\t['NOW_INPUT#VALUE_SET']: ({\n\t\t\tupdateState,\n\t\t\taction: { payload, stopPropagation }\n\t\t}) => {\n\t\t\tstopPropagation();\n\t\t\tconst { value, name } = payload;\n\t\t\tupdateState({\n\t\t\t\t[name]: value\n\t\t\t});\n\t\t},\n\t\t[CHOICE_ADDED]: ({ updateState }) => {\n\t\t\tupdateState({\n\t\t\t\tnewChoice: ''\n\t\t\t});\n\t\t}\n\t},\n\tstyles\n});\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-choice-input.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.sn-table-choice-input-container{border-top:1px solid RGB(var(--now-color--neutral-5,172,180,181));padding:1rem 0}now-input{width:21.875rem;padding-inline-start:0;padding-inline-end:0;margin-block-start:.25rem;margin-block-end:0;margin-inline-end:1.5rem}now-input.label{z-index:2}\", \"\"]);\n\n// exports\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\n\nimport '@servicenow/now-button';\nimport '@servicenow/now-input';\nimport { generateStyleToolTipContent } from 'sn-app-object-wizard-components';\n\nimport { CHOICE_DELETED, CHOICE_EDITED } from '../sn-table-choices/constants';\n\nimport styles from './sn-table-choice-list.scss';\n\ncreateCustomElement('sn-table-choice-list', {\n\tview: ({ properties: { choices } }, { dispatch }) => {\n\t\treturn (\n\t\t\t<div className=\"sn-table-choice-list-container\">\n\t\t\t\t<div className=\"choice-list-column-headers\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p>{t('Display value')}</p>\n\t\t\t\t\t\t\t<sn-aow-helper-content\n\t\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t\t'This is the value users will see in the dropdown when working in a form.'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<p>{t('System value')}</p>\n\t\t\t\t\t\t\t<sn-aow-helper-content\n\t\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\t\tt('The is the value that will be stored in the table.')\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t{choices.map(({ label, value, id }, index) => {\n\t\t\t\t\tconst rowNum = index + 1;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"table-choice-list\">\n\t\t\t\t\t\t\t<p className=\"list-number\">{rowNum}</p>\n\t\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\t\tname=\"label\"\n\t\t\t\t\t\t\t\tvalue={label}\n\t\t\t\t\t\t\t\tappend-to-payload={{ id }}\n\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t'aria-label': t('Display value')\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\t\tname=\"value\"\n\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\tappend-to-payload={{ id }}\n\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t'aria-label': t('System value')\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"list-icon\">\n\t\t\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\t\t\tclass=\"delete-choice-button\"\n\t\t\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\t\t\ticon=\"trash-fill\"\n\t\t\t\t\t\t\t\t\ton-click={() => dispatch(CHOICE_DELETED, { id })}\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tconfig-aria={{\n\t\t\t\t\t\t\t\t\t\t'aria-label': t('Delete choice')\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\thide-padding\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t},\n\tproperties: {\n\t\tchoices: { default: [] }\n\t},\n\tactionHandlers: {\n\t\t['NOW_INPUT#VALUE_SET']: ({\n\t\t\taction: {\n\t\t\t\tpayload: { value, id, name },\n\t\t\t\tstopPropagation\n\t\t\t},\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tstopPropagation();\n\n\t\t\tdispatch(CHOICE_EDITED, {\n\t\t\t\tname,\n\t\t\t\tvalue,\n\t\t\t\tid\n\t\t\t});\n\t\t}\n\t},\n\tstyles\n});\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-choice-list.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.table-choice-list{display:inline-flex;align-items:flex-end;grid-template-columns:.375rem 18.0625rem 1.5rem}.table-choice-list:last-child{margin-block-end:.75rem}.table-choice-list p{margin-block-end:.5rem}.table-choice-list .list-number{width:.375rem;padding-inline-end:1.875rem}.table-choice-list now-input{width:18.0625rem;margin-inline-end:2.5rem}.table-choice-list now-input:last-child{margin-inline-end:1rem}.table-choice-list .list-icon{margin-inline-start:-1.5rem}ul{display:grid;grid-template-columns:20.7rem 20.7rem;grid-gap:2rem;margin:0;padding:0;list-style:none}ul li{display:inline-flex;align-items:center}ul li:last-child p{margin:0}ul p{margin:0 0 0 2rem;padding:0 .5rem 0 0;font-size:.75rem;color:RGB(var(--now-color--neutral-9,99,114,116))}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}:host{display:block}fieldset{border:none;padding-block-start:0;padding-inline-start:0;padding-inline-end:0;padding-block-end:0}legend{display:none}.table-field-card-container{position:relative;display:flex;flex-direction:column;border-width:.0625rem;border-style:solid;border-color:RGB(var(--now-color--neutral-3,209,214,214));border-radius:.75rem;padding-inline-start:1.5rem;padding-inline-end:1.5rem;box-shadow:0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);background-color:RGB(var(--now-color--neutral-0,255,255,255))}.table-field-card-container:focus-within{border-color:RGB(var(--now-color--primary-1,30,133,109));box-shadow:0 4px .5rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25)}.table-field-card-container.-is-disabled{border-color:RGB(var(--now-color--neutral-1,246,247,247));background-color:green!important}.main-content{display:flex;justify-content:space-between;min-height:5.125rem}.inputs-wrapper{display:flex;align-items:flex-start;padding-block-start:.75rem}.expand-wrapper{display:flex;align-items:center}.options-container{display:flex;flex-direction:column}.expanded-options{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-block-end:.75rem}now-input,now-select,now-typeahead,sn-aow-typeahead{width:10.9375rem;margin-block-start:.25rem;margin-inline-end:2rem;margin-block-end:0;padding-inline-start:0;padding-inline-end:0}.additional-input{width:18.0625rem!important;margin-inline-end:0}.checkbox-wrapper{width:12.9375rem}\", \"\"]);\n\n// exports\n","import './sn-table-field-card-disabled';\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-input';\nimport '@servicenow/now-button';\n\nimport styles from '../sn-table-field-card/sn-table-field-card.scss';\nimport flagStyles from './sn-table-field-card-disabled.scss';\n\nconst renderConditionalInput = ({ field }) => {\n\tswitch (field.type) {\n\t\tcase 'string':\n\t\t\treturn (\n\t\t\t\t<now-input\n\t\t\t\t\tclassName=\"additional-input length\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tlabel={t('Character limit')}\n\t\t\t\t\thelper-content={t(\n\t\t\t\t\t\t'Max length of the strings that can be stored here.'\n\t\t\t\t\t)}\n\t\t\t\t\tvalue={field.length}\n\t\t\t\t\tmin={1}\n\t\t\t\t\tmax={8000}\n\t\t\t\t\tstep={1}\n\t\t\t\t\tdisabled\n\t\t\t\t/>\n\t\t\t);\n\t\tcase 'reference':\n\t\t\treturn (\n\t\t\t\t<now-input\n\t\t\t\t\tclassName=\"additional-input reference-dropdown\"\n\t\t\t\t\tvalue={field.reference}\n\t\t\t\t\tlabel={t('Reference table')}\n\t\t\t\t\thelper-content={t('INSERT REFERENCE TOOLTIP HERE')}\n\t\t\t\t\tmaxlength={80}\n\t\t\t\t\tdisabled\n\t\t\t\t/>\n\t\t\t);\n\t\tdefault:\n\t\t\treturn '';\n\t}\n};\n\ncreateCustomElement('sn-table-field-card-disabled', {\n\tview: state => {\n\t\tconst { field } = state.properties;\n\t\tconst { name, label, type } = field;\n\n\t\tconst dropdownType = typeof type === 'undefined' ? 'none' : type;\n\n\t\t// These are all now-inputs to remove rendering the panel of the dropdown, greatly improves performance\n\t\treturn (\n\t\t\t<div className=\"table-field-card-container is-disabled\">\n\t\t\t\t<div className=\"red-flag\">\n\t\t\t\t\t<now-icon icon=\"lock-fill\" size=\"sm\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t<div className=\"inputs-wrapper\">\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tclassName=\"label\"\n\t\t\t\t\t\t\tvalue={label}\n\t\t\t\t\t\t\tlabel={t('Field label')}\n\t\t\t\t\t\t\thelper-content={t(\n\t\t\t\t\t\t\t\t'The field label appears on list headers and form fields for the column.'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tmaxlength={80}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tclassName=\"name\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tlabel={t('Field name')}\n\t\t\t\t\t\t\thelper-content={t('The physical field name within the table.')}\n\t\t\t\t\t\t\tmaxlength={80}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tclassName=\"type\"\n\t\t\t\t\t\t\tvalue={dropdownType}\n\t\t\t\t\t\t\tlabel={t('Field type')}\n\t\t\t\t\t\t\thelper-content={t('INSERT FIELD TYPE TOOLTIP')}\n\t\t\t\t\t\t\tmaxlength={80}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{renderConditionalInput(state.properties)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"now-align -block-center\">\n\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\tclassName=\"expand\"\n\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\ticon=\"chevron-down-fill\"\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n\tproperties: {\n\t\tfield: {\n\t\t\tdefault: {}\n\t\t}\n\t},\n\tstyles: [styles, flagStyles]\n});\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-field-card-disabled.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.red-flag{position:absolute;top:0;left:0;display:block;overflow:hidden;width:2.5rem;height:2.5rem;border-top-left-radius:.75rem;background-color:RGB(var(--now-color_alert--critical-3,160,48,43))}.red-flag now-icon{position:absolute;top:.125rem;left:.1875rem;color:RGB(var(--now-color--neutral-0,255,255,255))}.red-flag:after{content:\\\"\\\";position:absolute;top:.3125rem;left:.375rem;width:3.75rem;height:3.75rem;background-color:RGB(var(--now-color--neutral-0,255,255,255));transform:rotate(136deg)}\", \"\"]);\n\n// exports\n","// TODO: Prob replace this, currently pulled from https://github.com/tastejs/todomvc/blob/gh-pages/examples/react-alt/js/utils.js\nexport default function uuid() {\n\tvar i, random;\n\tvar uuid = '';\n\n\tfor (i = 0; i < 32; i++) {\n\t\trandom = (Math.random() * 16) | 0;\n\t\tif (i === 8 || i === 12 || i === 16 || i === 20) {\n\t\t\tuuid += '-';\n\t\t}\n\t\tuuid += (i === 12 ? 4 : i === 16 ? (random & 3) | 8 : random).toString(16);\n\t}\n\n\treturn uuid;\n}\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-field-list.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.add-new-button{width:100%;border:1px dashed #000;border-width:1px;border-style:dashed;border-color:RGB(var(--now-color--neutral-9,99,114,116));border-radius:.5rem;padding:.625rem;font-size:.75rem;font-family:var(--now-font-family);cursor:pointer;color:RGB(var(--now-color--neutral-9,99,114,116));background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.add-new-button now-icon{color:RGB(var(--now-color--neutral-21,0,0,0));margin-inline-end:.5rem}.add-new-button:active,.add-new-button:hover{border-color:RGB(var(--now-color--primary-3,15,67,55));background-color:RGB(var(--now-color--primary-0,221,237,233))}.add-new-button:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.field-cards-container{margin-block-start:.75rem;overflow-x:hidden;overflow-y:auto;height:23rem}sn-table-field-card,sn-table-field-card-disabled{margin-block-end:.5rem}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-wizard-definition-page.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.body-container{display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:2rem}.add-new-button{width:100%;border:1px dashed #000;border-radius:.75rem;padding:.625rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;background-color:transparent}sn-table-field-card:not(:last-child){margin-block-end:.8125rem}\", \"\"]);\n\n// exports\n","import { createCustomElement } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport '@servicenow/now-input';\nimport '@servicenow/now-checkbox';\nimport {\n\tcontextHelpers,\n\trunTemplateBehavior\n} from '@devsnc/guided-wizard-toolkit';\nimport { generateStyleToolTipContent } from 'sn-app-object-wizard-components';\n\nimport actionHandlers from './actionHandlers';\nimport uniqueFieldBehavior from '../../../behaviors/unique-field';\nimport detailsValidationHelpers from '../../helpers/table-details-validations';\nimport fieldValidationHelpers from '../../helpers/table-field-validations';\nimport {\n\tVALID_CHAR_REGEX_STRING,\n\tVALID_AUTO_PREFIX_REGEX_STRING,\n\tPREVENT_ONLY_WHITESPACE_REGEX\n} from '../../helpers/error-constants';\nimport progressTableSVG from '../../../assets/progress-tables.svg';\nimport {\n\tCREATE_TABLE,\n\tDEFAULT_AUTONUMBER_DIGITS,\n\tDEFAULT_AUTONUMBER_NUMBER\n} from './constants';\n\nimport styles from './sn-table-wizard-details-page.scss';\n\nconst {\n\tgeneratePrefixError,\n\tgenerateStartingNumberError,\n\tgenerateDigitsError\n} = detailsValidationHelpers;\nconst { isAttrInvalid } = fieldValidationHelpers;\n\nconst { getContextFromState } = contextHelpers({\n\tnamespace: 'table',\n\tkeys: ['label', 'name', 'isExtendable', 'enableAutonumber', 'autonumber']\n});\n\nexport const generateAutonumberErrors = autonumberState => {\n\t// Since the conditional rendering resets the state to what was previously stored,\n\t// also resetting `isDirty` state by default here\n\tconst defaultErr = { isDirty: false, message: null };\n\treturn {\n\t\tprefix: {\n\t\t\t...defaultErr,\n\t\t\tmessage: generatePrefixError(autonumberState.prefix)\n\t\t},\n\t\tnumber: {\n\t\t\t...defaultErr,\n\t\t\tmessage: generateStartingNumberError(autonumberState.number)\n\t\t},\n\t\tdigits: {\n\t\t\t...defaultErr,\n\t\t\tmessage: generateDigitsError(autonumberState.digits)\n\t\t}\n\t};\n};\n\nconst renderAutonumberConfig = state => {\n\tconst {\n\t\tautonumber: { prefix, number, digits },\n\t\terrors,\n\t\tenableAutonumber\n\t} = state;\n\tif (!enableAutonumber) {\n\t\treturn <div className=\"input-row autonumber\" />;\n\t}\n\n\treturn (\n\t\t<div className=\"input-row autonumber\">\n\t\t\t<now-input\n\t\t\t\tname=\"autonumber.prefix\"\n\t\t\t\tclassName=\"prefix\"\n\t\t\t\tvalue={prefix}\n\t\t\t\tlabel={t('Prefix')}\n\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\tt(\n\t\t\t\t\t\t'Create an all-caps prefix to abbreviate the table label. For example, for a Laptops table, you may use the prefix \"LPTP\" or \"LT\"'\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\trequired\n\t\t\t\tpattern={VALID_AUTO_PREFIX_REGEX_STRING}\n\t\t\t\tmanage-invalid\n\t\t\t\tinvalid={isAttrInvalid(errors.autonumber, 'prefix')}\n\t\t\t\tmessages={\n\t\t\t\t\tisAttrInvalid(errors.autonumber, 'prefix')\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\tcontent: errors.autonumber.prefix.message\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<now-input\n\t\t\t\tname=\"autonumber.number\"\n\t\t\t\tclassName=\"number\"\n\t\t\t\tvalue={number}\n\t\t\t\ttype=\"number\"\n\t\t\t\tlabel={t('Starting number')}\n\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\tt(\n\t\t\t\t\t\t'Enter the number for the first record in your table. Each new record uses a number that counts up from there.'\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\trequired\n\t\t\t\tmin={0}\n\t\t\t\tstep={1}\n\t\t\t\tmanage-invalid\n\t\t\t\tinvalid={isAttrInvalid(errors.autonumber, 'number')}\n\t\t\t\tmessages={\n\t\t\t\t\tisAttrInvalid(errors.autonumber, 'number')\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\tcontent: errors.autonumber.number.message\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<now-input\n\t\t\t\tname=\"autonumber.digits\"\n\t\t\t\tclassName=\"digits\"\n\t\t\t\tvalue={digits}\n\t\t\t\ttype=\"number\"\n\t\t\t\tlabel={t('Number of digits')}\n\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\tt(\n\t\t\t\t\t\t'Set the digit count of the highest record number. For example, if you enter \"7,\" then the highest number is 9999999.'\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\trequired\n\t\t\t\tmin={1}\n\t\t\t\tmax={15}\n\t\t\t\tstep={1}\n\t\t\t\tmanage-invalid\n\t\t\t\tinvalid={isAttrInvalid(errors.autonumber, 'digits')}\n\t\t\t\tmessages={\n\t\t\t\t\tisAttrInvalid(errors.autonumber, 'digits')\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\tcontent: errors.autonumber.digits.message\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst DETAILS_PAGE_WIDTH = `${690 / 16}rem`;\n\ncreateCustomElement('sn-table-wizard-details-page', {\n\tview: (state, { dispatch }) => {\n\t\tconst {\n\t\t\tlabel,\n\t\t\tname,\n\t\t\tisExtendable,\n\t\t\tenableAutonumber,\n\t\t\tisFormValid,\n\t\t\tisCreating,\n\t\t\terrors,\n\t\t\tproperties: { wizardContext, user }\n\t\t} = state;\n\n\t\treturn (\n\t\t\t<sn-guided-wizard-page\n\t\t\t\tonPrimaryClick={() => dispatch(CREATE_TABLE)}\n\t\t\t\tprimary-disabled={!isFormValid || isCreating}\n\t\t\t\trunning-header-text={t('ADD DATA')}\n\t\t\t\theaderText={t(\"Now, let's get more info about your new table\")}\n\t\t\t\tsubheaderText={t('Define the properties of your new table.')}\n\t\t\t\tonSecondaryClick={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\tonPrevious={() => {\n\t\t\t\t\tconst newtable = getContextFromState(state, wizardContext);\n\t\t\t\t\tdispatch('SN_GUIDED_WIZARD#PREVIOUS', newtable);\n\t\t\t\t}}\n\t\t\t\tonClose={() => dispatch('SN_GUIDED_WIZARD#CANCEL')}\n\t\t\t\tmaxWidth={DETAILS_PAGE_WIDTH}\n\t\t\t\tloading={isCreating}\n\t\t\t\tloadingContent={{\n\t\t\t\t\trunningHeaderText: t('ADD DATA'),\n\t\t\t\t\theaderText: t(\n\t\t\t\t\t\t`Ok {0}. Sit tight while we add this table to your app.`,\n\t\t\t\t\t\tuser.firstName\n\t\t\t\t\t),\n\t\t\t\t\tsubheaderText: t('This may take a few minutes...'),\n\t\t\t\t\timage: progressTableSVG\n\t\t\t\t}}>\n\t\t\t\t<div className=\"body-container\">\n\t\t\t\t\t<div className=\"input-row\">\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tname=\"label\"\n\t\t\t\t\t\t\tclassName=\"label\"\n\t\t\t\t\t\t\tvalue={label}\n\t\t\t\t\t\t\tlabel={t('Table label')}\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'Create a unique label to identify the table (for example, \"Laptops\" or \"Thin Clients\")'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tpattern={PREVENT_ONLY_WHITESPACE_REGEX}\n\t\t\t\t\t\t\tmanage-invalid\n\t\t\t\t\t\t\tinvalid={isAttrInvalid(errors, 'label')}\n\t\t\t\t\t\t\tmessages={\n\t\t\t\t\t\t\t\tisAttrInvalid(errors, 'label')\n\t\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: errors.label.message\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<now-input\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tclassName=\"name\"\n\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\tlabel={t('Table name')}\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'A name is automatically created after you enter a label. You can edit this name, if needed.'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tmaxlength={80}\n\t\t\t\t\t\t\tpattern={VALID_CHAR_REGEX_STRING}\n\t\t\t\t\t\t\tmanage-invalid\n\t\t\t\t\t\t\tinvalid={isAttrInvalid(errors, 'name')}\n\t\t\t\t\t\t\tmessages={\n\t\t\t\t\t\t\t\tisAttrInvalid(errors, 'name')\n\t\t\t\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tstatus: 'critical',\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: errors.name.message\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t  ]\n\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"center-section\">\n\t\t\t\t\t\t<sn-aow-checkbox-tooltip\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'If you anticipate creating similar tables in the future, you may want to make this extensible. Making this table extensible allows new tables to share the fields and records from this table.'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\t\t\tslot=\"AOW_CHECKBOX_TOOLTIP#CHECKBOX_SLOT\"\n\t\t\t\t\t\t\t\tlabel={t('Make extensible')}\n\t\t\t\t\t\t\t\tchecked={isExtendable}\n\t\t\t\t\t\t\t\tname=\"isExtendable\"\n\t\t\t\t\t\t\t\tclassName=\"isExtendable\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</sn-aow-checkbox-tooltip>\n\t\t\t\t\t\t<sn-aow-checkbox-tooltip\n\t\t\t\t\t\t\thelperContent={generateStyleToolTipContent(\n\t\t\t\t\t\t\t\tt(\n\t\t\t\t\t\t\t\t\t'You can add an identifiable tracking number to your records to make them easier to manage and follow. Selecting this option will automatically add your designated tracking number to each record in this table.'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t<now-checkbox\n\t\t\t\t\t\t\t\tslot=\"AOW_CHECKBOX_TOOLTIP#CHECKBOX_SLOT\"\n\t\t\t\t\t\t\t\tlabel={t('Auto number')}\n\t\t\t\t\t\t\t\tchecked={enableAutonumber}\n\t\t\t\t\t\t\t\tname=\"enableAutonumber\"\n\t\t\t\t\t\t\t\tclassName=\"enableAutonumber\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</sn-aow-checkbox-tooltip>\n\t\t\t\t\t\t{renderAutonumberConfig(state)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</sn-guided-wizard-page>\n\t\t);\n\t},\n\tinitialState: {\n\t\tcurrentUniqueChecks: [],\n\t\tlabel: '',\n\t\tname: '',\n\t\tautonumber: {\n\t\t\tprefix: '',\n\t\t\tnumber: DEFAULT_AUTONUMBER_NUMBER,\n\t\t\tdigits: DEFAULT_AUTONUMBER_DIGITS\n\t\t},\n\t\terrors: {\n\t\t\tlabel: { isDirty: false, message: null },\n\t\t\tname: { isDirty: false, message: null },\n\t\t\tautonumber: {\n\t\t\t\tprefix: { isDirty: false, message: null },\n\t\t\t\tnumber: { isDirty: false, message: null },\n\t\t\t\tdigits: { isDirty: false, message: null }\n\t\t\t}\n\t\t},\n\t\tisExtendable: false,\n\t\tenableAutonumber: false,\n\t\tisFormValid: false,\n\t\tisCreating: false\n\t},\n\tproperties: {\n\t\twizardContext: {},\n\t\tstepperItems: {},\n\t\tuser: { default: '@tableWizard/userDataProperty' }\n\t},\n\tactionHandlers,\n\tbehaviors: [\n\t\t{\n\t\t\tbehavior: runTemplateBehavior.behavior\n\t\t},\n\t\t{ behavior: uniqueFieldBehavior.behavior }\n\t],\n\tstyles\n});\n","import { actionTypes } from '@servicenow/ui-core';\nimport { t } from 'sn-translate';\nimport {\n\tVALIDATE,\n\tCREATE_TABLE,\n\tGENERATE_AUTONUMBER_ERRORS,\n\tGENERATE_ERROR_MESSAGES,\n\tIMPORT_DATA_REQUESTED,\n\tIMPORT_DATA_IN_PROGRESS,\n\tIMPORT_DATA_FAILED,\n\tIMPORT_DATA_SUCCEEDED,\n\tTABLE_ID_FAILED,\n\tCHECK_TABLE_AUTONUMBER_PREFIX,\n\tCHECK_TABLENAME_UNIQUENESS,\n\tINITIATE_TABLE_API_CALL,\n\tDEFAULT_AUTONUMBER_NUMBER,\n\tDEFAULT_AUTONUMBER_DIGITS\n} from './constants';\nimport {\n\timportDataFromImportSet,\n\tcanRunImportSets,\n\tgetTableSysId\n} from './utils';\n\nimport '@servicenow/now-input';\nimport '@servicenow/now-checkbox';\nimport { contextHelpers } from '@devsnc/guided-wizard-toolkit';\nimport uniqueFieldBehavior from '../../../behaviors/unique-field';\nimport {\n\tgetSNTableName,\n\tisValidSNTableName\n} from '../../../helpers/sn-naming-helpers';\nimport detailsValidationHelpers from '../../helpers/table-details-validations';\nimport {\n\tNO_DOTS_REGEX_STRING,\n\tINVALID_TABLE_NAME_ERR,\n\tREQUIRED_ERR,\n\tINVALID_CHAR_ERR,\n\tPREVENT_ONLY_WHITESPACE_REGEX\n} from '../../helpers/error-constants';\n\nconst {\n\thelpers: { checkUniqueField },\n\tactionTypes: { CHECK_UNIQUE_FIELD_COMPLETED }\n} = uniqueFieldBehavior;\n\nconst {\n\tgetAutonumberPrefix,\n\tgeneratePrefixError,\n\tgenerateStartingNumberError,\n\tgenerateDigitsError,\n\tvalidateDetails\n} = detailsValidationHelpers;\n\nconst { getStateFromContext } = contextHelpers({\n\tnamespace: 'table',\n\tkeys: ['label', 'name', 'isExtendable', 'enableAutonumber', 'autonumber']\n});\n\nconst sourceApproachMap = {\n\tscratch: t('From Scratch'),\n\textend: t('Extended'),\n\tspreadsheet: t('Spreadsheet')\n};\n\n// Switching out from state to a variable for DEF0185265\n// The bug was that the inputs were dispatching much faster\n// than state was updating, so when it got to the second\n// input (usually the prefix check)\n// it was getting stale data\nlet currentUniqueChecks = [];\n\nexport const generateAutonumberErrors = autonumberState => {\n\t// Since the conditional rendering resets the state to what was previously stored,\n\t// also resetting `isDirty` state by default here\n\tconst defaultErr = { isDirty: false, message: null };\n\treturn {\n\t\tprefix: {\n\t\t\t...defaultErr,\n\t\t\tmessage: generatePrefixError(autonumberState.prefix)\n\t\t},\n\t\tnumber: {\n\t\t\t...defaultErr,\n\t\t\tmessage: generateStartingNumberError(autonumberState.number)\n\t\t},\n\t\tdigits: {\n\t\t\t...defaultErr,\n\t\t\tmessage: generateDigitsError(autonumberState.digits)\n\t\t}\n\t};\n};\n\n// Moved this out to a separate file so that the main file is a little smaller since this wont change as much\nexport default {\n\t[actionTypes.COMPONENT_DOM_READY]: ({\n\t\tproperties: { wizardContext },\n\t\tdispatch,\n\t\tupdateState\n\t}) => {\n\t\tconst initState = getStateFromContext(wizardContext);\n\t\tupdateState({\n\t\t\t...initState,\n\t\t\t// this fixes an error where the values are populated\n\t\t\t// and then user presses previous arrow\n\t\t\t// and comes back to this page\n\t\t\terrors: {\n\t\t\t\tlabel: {\n\t\t\t\t\tisDirty: false,\n\t\t\t\t\tmessage: wizardContext.table.label ? null : REQUIRED_ERR\n\t\t\t\t},\n\t\t\t\tname: {\n\t\t\t\t\tisDirty: false,\n\t\t\t\t\tmessage: wizardContext.table.name ? null : REQUIRED_ERR\n\t\t\t\t},\n\t\t\t\tautonumber: {\n\t\t\t\t\tprefix: {\n\t\t\t\t\t\tisDirty: false,\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\twizardContext.table.autonumber &&\n\t\t\t\t\t\t\twizardContext.table.autonumber.prefix\n\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t: REQUIRED_ERR\n\t\t\t\t\t},\n\t\t\t\t\tnumber: { isDirty: false, message: null },\n\t\t\t\t\tdigits: { isDirty: false, message: null }\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tdispatch('STEPPER_BEHAVIOR#PAGE_SET', {\n\t\t\tpage: 'sn-table-wizard-details-page'\n\t\t});\n\t\tif (wizardContext.table.name) {\n\t\t\tdispatch(INITIATE_TABLE_API_CALL, {\n\t\t\t\tname: 'name',\n\t\t\t\tvalue: wizardContext.table.name,\n\t\t\t\tcb: () =>\n\t\t\t\t\twizardContext.table.autonumber.prefix &&\n\t\t\t\t\tdispatch(CHECK_TABLE_AUTONUMBER_PREFIX, {\n\t\t\t\t\t\tvalue: wizardContext.table.autonumber.prefix\n\t\t\t\t\t})\n\t\t\t});\n\t\t}\n\t},\n\t['NOW_INPUT#VALUE_SET']: ({\n\t\tstate: { label, errors },\n\t\tproperties: {\n\t\t\twizardContext: { app, user }\n\t\t},\n\t\taction: { payload },\n\t\tupdateState\n\t}) => {\n\t\tconst { value, name } = payload;\n\t\tconst isMaint = user.roles.includes('maint');\n\t\t// Clear state if no value is provided, aka deleted\n\t\tswitch (name) {\n\t\t\tcase 'label': {\n\t\t\t\t// Updating label updates both name and autonumber prefix\n\t\t\t\tconst tableName = getSNTableName(app.scope, value, isMaint);\n\t\t\t\tconst prefix = getAutonumberPrefix(value);\n\n\t\t\t\t// Only update label, name and autonumber.prefix if user doesnt\n\t\t\t\t// erase out the value in label\n\t\t\t\tif (value) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tlabel: value,\n\t\t\t\t\t\tname: tableName\n\t\t\t\t\t});\n\n\t\t\t\t\t// Handling this in another `updateState` call because of nesting on `autonumber`\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tpath: 'autonumber.prefix',\n\t\t\t\t\t\tvalue: prefix,\n\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// if there's no value in label\n\t\t\t\t\t// get rid of the table name if there's an error\n\t\t\t\t\tif (errors.name.message) {\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tlabel: value,\n\t\t\t\t\t\t\tname: tableName\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tlabel: value\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// user erases out value of label\n\t\t\t\t\t// only get rid of autonumber prefix if there's no error message\n\t\t\t\t\tif (errors.autonumber.prefix.message) {\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tpath: 'autonumber.prefix',\n\t\t\t\t\t\t\tvalue: prefix,\n\t\t\t\t\t\t\toperation: 'set'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'name': {\n\t\t\t\t// Don't save the name value if it doesn't start with the proper scope\n\t\t\t\tconst isValidPrefix = isValidSNTableName(\n\t\t\t\t\tvalue,\n\t\t\t\t\tlabel,\n\t\t\t\t\tapp.scope,\n\t\t\t\t\tisMaint\n\t\t\t\t);\n\t\t\t\tif (!isValidPrefix) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tupdateState({ name: value });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'autonumber.number':\n\t\t\tcase 'autonumber.digits': {\n\t\t\t\t// Don't save the value if there's a dot (to enforce whole numbers)\n\t\t\t\tconst validRegex = new RegExp(NO_DOTS_REGEX_STRING);\n\t\t\t\tif (!validRegex.exec(value)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: name,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: name,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\t\t}\n\t},\n\t['NOW_INPUT#INVALID_SET']: ({\n\t\tstate,\n\t\tproperties: {\n\t\t\twizardContext: { app, user }\n\t\t},\n\t\taction: {\n\t\t\tpayload: { value, fieldValue, name },\n\t\t\tstopPropagation\n\t\t},\n\t\tupdateState,\n\t\tdispatch\n\t}) => {\n\t\tstopPropagation();\n\n\t\tlet message = null;\n\t\tconst isMaint = user.roles.includes('maint');\n\t\tif (name === 'name') {\n\t\t\tif (value === true && fieldValue) {\n\t\t\t\tmessage = INVALID_CHAR_ERR;\n\t\t\t} else if (\n\t\t\t\t!isValidSNTableName(fieldValue, state.label, app.scope, isMaint)\n\t\t\t) {\n\t\t\t\tmessage = INVALID_TABLE_NAME_ERR;\n\t\t\t}\n\t\t}\n\n\t\tif (name === 'autonumber.prefix') {\n\t\t\tmessage = generatePrefixError(fieldValue);\n\t\t}\n\n\t\tif (name === 'autonumber.number') {\n\t\t\tmessage = generateStartingNumberError(fieldValue);\n\t\t\tif (!message) {\n\t\t\t\tconst validRegex = new RegExp(NO_DOTS_REGEX_STRING);\n\t\t\t\tif (!validRegex.exec(value)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (name === 'autonumber.digits') {\n\t\t\tmessage = generateDigitsError(fieldValue);\n\t\t\tif (!message) {\n\t\t\t\tconst validRegex = new RegExp(NO_DOTS_REGEX_STRING);\n\t\t\t\tif (!validRegex.exec(value)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Preventing \"only whitespaces\", needs to be anchored to mimic behavior of HTML5 `pattern`\n\t\tconst noSpaceExp = new RegExp(`^${PREVENT_ONLY_WHITESPACE_REGEX}$`);\n\n\t\t// Fallback - if there's an error and it isn't a recognized key, assume it's required\n\t\tif (value === true && (!fieldValue || !noSpaceExp.exec(fieldValue))) {\n\t\t\tmessage = REQUIRED_ERR;\n\t\t}\n\n\t\t// This fixes a bug where when user updates\n\t\t// label input that is already invalid\n\t\t// it doesn't call value set.\n\t\t// Updates table name and prefix\n\t\t// Also makes sure that the user's input is different from previous input\n\t\t// (fieldValue !== state.label)\n\t\t// Since invalid_set acts as an onBlur as well\n\t\t// And only update all three fields if user doesn't erase out label input\n\t\tif (\n\t\t\t!message &&\n\t\t\tname === 'label' &&\n\t\t\tfieldValue &&\n\t\t\tfieldValue !== state.label\n\t\t) {\n\t\t\t// Updating label updates both name and autonumber prefix\n\t\t\tconst tableName = getSNTableName(app.scope, fieldValue, isMaint);\n\t\t\tconst prefix = getAutonumberPrefix(fieldValue);\n\n\t\t\tupdateState({\n\t\t\t\tlabel: fieldValue,\n\t\t\t\tname: tableName\n\t\t\t});\n\n\t\t\t// Handling this in another `updateState` call because of nesting on `autonumber`\n\t\t\tif (state.enableAutonumber) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'autonumber.prefix',\n\t\t\t\t\tvalue: prefix,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// INVALID_SET is fired on every input blur, can reliably capture `isDirty` state\n\t\tupdateState({\n\t\t\tpath: `errors.${name}`,\n\t\t\tvalue: { isDirty: true, message },\n\t\t\toperation: 'set'\n\t\t});\n\n\t\tif (\n\t\t\t!message &&\n\t\t\t(name === 'name' || name === 'label' || name === 'autonumber.prefix') &&\n\t\t\t!value\n\t\t) {\n\t\t\tdispatch(INITIATE_TABLE_API_CALL, {\n\t\t\t\tname,\n\t\t\t\tvalue: fieldValue\n\t\t\t});\n\t\t} else {\n\t\t\tdispatch(VALIDATE);\n\t\t}\n\t},\n\t['NOW_CHECKBOX#CHECKED_SET']: ({\n\t\tstate: { autonumber, errors },\n\t\tupdateState,\n\t\taction,\n\t\tdispatch\n\t}) => {\n\t\tconst {\n\t\t\tpayload: { name, value }\n\t\t} = action;\n\t\taction.stopPropagation();\n\t\tupdateState({ [name]: value });\n\t\tif (name === 'enableAutonumber' && value) {\n\t\t\t// We rely on the INVALID_SET to determine the validity of the properties, but\n\t\t\t// the input is conditionally rendered and may not be there to dispatch INVALID_SET\n\t\t\t// so being heavy handed to cover the edge cases here\n\n\t\t\t// if autonumber digits is empty and user has already touched it\n\t\t\t// set it to default of 7\n\t\t\tif (autonumber.digits === '' && errors.autonumber.digits.isDirty) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'autonumber.digits',\n\t\t\t\t\tvalue: DEFAULT_AUTONUMBER_DIGITS,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if autonumber number is empty and user has already touched it\n\t\t\t// set it to default of 1000\n\t\t\tif (autonumber.number === '' && errors.autonumber.number.isDirty) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'autonumber.number',\n\t\t\t\t\tvalue: DEFAULT_AUTONUMBER_NUMBER,\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Generate autonumbers first\n\t\t\t// and then that action will dispatch\n\t\t\t// the unique prefix api call\n\t\t\tdispatch(GENERATE_AUTONUMBER_ERRORS);\n\t\t}\n\n\t\t// If user disables autonumber and there's an error in the autonumber prefix, number and digits\n\t\t// wipe out the value and validate form again\n\t\tif (name === 'enableAutonumber' && !value) {\n\t\t\tif (errors.autonumber.prefix.message) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'autonumber.prefix',\n\t\t\t\t\tvalue: '',\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (errors.autonumber.number.message) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'autonumber.number',\n\t\t\t\t\tvalue: '',\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (errors.autonumber.digits.message) {\n\t\t\t\tupdateState({\n\t\t\t\t\tpath: 'autonumber.digits',\n\t\t\t\t\tvalue: '',\n\t\t\t\t\toperation: 'set'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdispatch(VALIDATE);\n\t\t}\n\t},\n\t[INITIATE_TABLE_API_CALL]: ({\n\t\taction: { payload, stopPropagation },\n\t\tdispatch\n\t}) => {\n\t\tstopPropagation();\n\n\t\tswitch (payload.name) {\n\t\t\tcase 'name':\n\t\t\t\tdispatch(CHECK_TABLENAME_UNIQUENESS, {\n\t\t\t\t\tvalue: payload.value,\n\t\t\t\t\tcb: payload.cb\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'autonumber.prefix':\n\t\t\t\tdispatch(CHECK_TABLE_AUTONUMBER_PREFIX, {\n\t\t\t\t\tvalue: payload.value\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t},\n\t[CHECK_TABLENAME_UNIQUENESS]: ({\n\t\tdispatch,\n\t\taction: { payload, stopPropagation },\n\t\tproperties: {\n\t\t\twizardContext: { app }\n\t\t}\n\t}) => {\n\t\tstopPropagation();\n\n\t\t// pushing the current api call into an array in state\n\t\t// so that I can use this info later\n\t\tcurrentUniqueChecks = [\n\t\t\t...currentUniqueChecks,\n\t\t\t{\n\t\t\t\ttableName: 'sys_db_object',\n\t\t\t\tfieldName: 'name',\n\t\t\t\tvalue: payload.value\n\t\t\t}\n\t\t];\n\t\tcheckUniqueField(\n\t\t\tdispatch,\n\t\t\t{\n\t\t\t\ttableName: 'sys_db_object',\n\t\t\t\tfieldName: 'name',\n\t\t\t\tvalue: payload.value\n\t\t\t},\n\t\t\tapp.sys_id\n\t\t);\n\n\t\tpayload.cb && payload.cb();\n\t},\n\t[CHECK_TABLE_AUTONUMBER_PREFIX]: ({\n\t\tdispatch,\n\t\taction: { payload, stopPropagation },\n\t\tproperties: {\n\t\t\twizardContext: { app }\n\t\t}\n\t}) => {\n\t\tstopPropagation();\n\n\t\t// pushing the current api call into an array in state\n\t\t// so that I can use this info later\n\t\tcurrentUniqueChecks = [\n\t\t\t...currentUniqueChecks,\n\t\t\t{\n\t\t\t\ttableName: 'sys_number',\n\t\t\t\tfieldName: 'prefix',\n\t\t\t\tvalue: payload.value\n\t\t\t}\n\t\t];\n\t\tcheckUniqueField(\n\t\t\tdispatch,\n\t\t\t{\n\t\t\t\ttableName: 'sys_number',\n\t\t\t\tfieldName: 'prefix',\n\t\t\t\tvalue: payload.value\n\t\t\t},\n\t\t\tapp.sys_id\n\t\t);\n\t},\n\t[CHECK_UNIQUE_FIELD_COMPLETED]: ({\n\t\taction: { payload },\n\t\tupdateState,\n\t\tdispatch\n\t}) => {\n\t\tconst { unique } = payload;\n\n\t\t// pull off the fieldName and value from the array thats created by the table unique checks\n\t\tconst { fieldName, value } =\n\t\t\tcurrentUniqueChecks.length > 0\n\t\t\t\t? currentUniqueChecks.shift()\n\t\t\t\t: { fieldName: '', value: '' };\n\n\t\tconst path = fieldName === 'prefix' ? 'autonumber.prefix' : 'name';\n\n\t\tif (!unique) {\n\t\t\tdispatch(GENERATE_ERROR_MESSAGES, { unique, value, fieldName, path });\n\t\t} else {\n\t\t\tupdateState({\n\t\t\t\tpath,\n\t\t\t\toperation: 'set',\n\t\t\t\tvalue\n\t\t\t});\n\t\t\tdispatch(VALIDATE);\n\t\t}\n\t},\n\t[GENERATE_ERROR_MESSAGES]: ({\n\t\taction: {\n\t\t\tpayload: { value, fieldName, unique = true, path }\n\t\t},\n\t\tupdateState,\n\t\tdispatch\n\t}) => {\n\t\tlet message = null;\n\n\t\tif (value && !unique) {\n\t\t\tswitch (fieldName) {\n\t\t\t\tcase 'name':\n\t\t\t\t\tmessage = t('Table name already taken');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'prefix':\n\t\t\t\t\tmessage = t('Prefix name already taken');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tupdateState({\n\t\t\tpath: `errors.${path}`,\n\t\t\tvalue: { isDirty: true, message },\n\t\t\toperation: 'set'\n\t\t});\n\t\tdispatch(VALIDATE);\n\t},\n\t[GENERATE_AUTONUMBER_ERRORS]: ({\n\t\tstate: { autonumber },\n\t\tupdateState,\n\t\tdispatch\n\t}) => {\n\t\tconst autonumberErrors = generateAutonumberErrors(autonumber);\n\n\t\tupdateState({\n\t\t\tpath: 'errors.autonumber',\n\t\t\tvalue: autonumberErrors,\n\t\t\toperation: 'set'\n\t\t});\n\n\t\tif (!autonumberErrors.prefix.message && autonumber.prefix) {\n\t\t\tdispatch(CHECK_TABLE_AUTONUMBER_PREFIX, {\n\t\t\t\tvalue: autonumber.prefix\n\t\t\t});\n\t\t} else {\n\t\t\tdispatch(VALIDATE);\n\t\t}\n\t},\n\t[VALIDATE]: ({ updateState }) => {\n\t\tupdateState(({ state }) => {\n\t\t\tconst isFormValid = validateDetails(state);\n\t\t\treturn { isFormValid };\n\t\t});\n\t},\n\t[CREATE_TABLE]: ({\n\t\tstate: { label, name, isExtendable, enableAutonumber, autonumber },\n\t\tproperties: {\n\t\t\twizardContext: { app, table, templateId }\n\t\t},\n\t\tdispatch,\n\t\tupdateState\n\t}) => {\n\t\tconst reqPayload = {\n\t\t\ttemplate_sys_id: templateId,\n\t\t\tsysparm_transaction_scope: app.sys_id,\n\t\t\tvariables: {\n\t\t\t\ttable_data: {\n\t\t\t\t\tapplication: app.sys_id,\n\t\t\t\t\tlabel,\n\t\t\t\t\tname,\n\t\t\t\t\tis_extendable: isExtendable,\n\t\t\t\t\tcolumns: table.fields || [],\n\t\t\t\t\t...(table.tableToExtend && { extends: table.tableToExtend }), // Because `extends` is a reserved key\n\t\t\t\t\t...(enableAutonumber && { auto_number: autonumber }),\n\t\t\t\t\tdomain_separate: false // Default for now until we have this\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tdispatch('RUN_TEMPLATE_BEHAVIOR#RUN_TEMPLATE', reqPayload);\n\t\tupdateState({ isCreating: true });\n\t},\n\t[IMPORT_DATA_REQUESTED]: async ({ action, properties, dispatch }) => {\n\t\tconst {\n\t\t\tpayload: { importSetTableName, tableInfo }\n\t\t} = action;\n\t\tconst {\n\t\t\tapp: { sys_id: appId }\n\t\t} = properties.wizardContext;\n\n\t\tdispatch(IMPORT_DATA_IN_PROGRESS);\n\n\t\tconst response = await importDataFromImportSet(\n\t\t\tappId,\n\t\t\ttableInfo,\n\t\t\timportSetTableName\n\t\t);\n\n\t\tif (response.isError) {\n\t\t\tdispatch(IMPORT_DATA_FAILED, response);\n\t\t\treturn;\n\t\t}\n\n\t\t// NOTE: sending import set response in payload. Can be used to show how many records inserted.\n\t\tdispatch(IMPORT_DATA_SUCCEEDED, { table: tableInfo, response });\n\t},\n\t[IMPORT_DATA_SUCCEEDED]: ({\n\t\tproperties: {\n\t\t\twizardContext: { activeSheetId, sheets }\n\t\t},\n\t\taction,\n\t\tdispatch\n\t}) => {\n\t\tconst {\n\t\t\tpayload: { table }\n\t\t} = action;\n\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', {\n\t\t\ttable: table\n\t\t});\n\n\t\tconst { importSetTableName } = canRunImportSets(activeSheetId, sheets);\n\t\tdispatch('SN_GUIDED_WIZARD#IMPORTSET_DONE', { importSetTableName });\n\t},\n\t[IMPORT_DATA_FAILED]: ({ action: { payload }, dispatch }) => {\n\t\t// Failing to import data into the table that was just created. Something bad has to happen to land here so close the wizard\n\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_CRITICAL', payload.error);\n\t},\n\t[TABLE_ID_FAILED]: ({ action: { payload }, dispatch }) => {\n\t\t// Failing on fetching the sys_id of the table that was just created. If this fails, something REAL bad happened\n\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_CRITICAL', payload.error);\n\t},\n\t['RUN_TEMPLATE_BEHAVIOR#RUN_TEMPLATE_SUCCESS']: async ({\n\t\tstate: { label, name, isExtendable },\n\t\tproperties: {\n\t\t\twizardContext: { table, source, activeSheetId, sheets = [] }\n\t\t},\n\t\tupdateState,\n\t\tdispatch\n\t}) => {\n\t\tconst tableResponse = await getTableSysId(name);\n\n\t\tif (tableResponse.isError) {\n\t\t\tdispatch(TABLE_ID_FAILED, tableResponse);\n\t\t}\n\n\t\tconst { sysId } = tableResponse;\n\t\tconst tableInfo = {\n\t\t\t...table,\n\t\t\tlabel,\n\t\t\tname,\n\t\t\tisExtendable,\n\t\t\tapproach: sourceApproachMap[source],\n\t\t\tsource,\n\t\t\tsys_id: sysId,\n\t\t\tisSingleSheetUpload: sheets.length === 1\n\t\t};\n\n\t\tif (source === 'spreadsheet') {\n\t\t\t// Run Import sets for import case and don't continue\n\t\t\tconst { canImport, importSetTableName } = canRunImportSets(\n\t\t\t\tactiveSheetId,\n\t\t\t\tsheets\n\t\t\t);\n\n\t\t\tif (canImport) {\n\t\t\t\tdispatch(IMPORT_DATA_REQUESTED, { importSetTableName, tableInfo });\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tupdateState({ isCreating: false });\n\t\tdispatch('SN_GUIDED_WIZARD#CONTINUE', {\n\t\t\ttable: tableInfo\n\t\t});\n\t},\n\t['RUN_TEMPLATE_BEHAVIOR#RUN_TEMPLATE_WARNING']: ({\n\t\tupdateState,\n\t\taction: { payload },\n\t\tdispatch\n\t}) => {\n\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_WARNING', {\n\t\t\t...payload.error,\n\t\t\tdetail: t('Unable to create a table. Please try again.')\n\t\t});\n\t\tupdateState({ isCreating: false });\n\t},\n\t['RUN_TEMPLATE_BEHAVIOR#RUN_TEMPLATE_FAILURE']: ({\n\t\tupdateState,\n\t\taction: { payload },\n\t\tdispatch\n\t}) => {\n\t\tdispatch('SN_GUIDED_WIZARD#REQUEST_CRITICAL', {\n\t\t\t...payload.error,\n\t\t\tdetail: t(\n\t\t\t\t'Unable to create a table. Try starting with a template, again.'\n\t\t\t)\n\t\t});\n\t\tupdateState({ isCreating: false });\n\t}\n};\n","import fetchHelper, { failedResponse } from '../../../helpers/fetch-helper';\nimport { waitFor } from '../../../helpers/wait-for-util';\nimport { IMPORT_STATE_RUNNING, IMPORT_STATE_ERROR } from './constants';\nimport { t } from 'sn-translate';\n\nconst importFromImportSetAPI = async (appId, tableName, body) =>\n\tawait fetchHelper(\n\t\t`/api/now/appcreator/tables/${tableName}/import?sysparm_transaction_scope=${appId}`,\n\t\t{\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(body)\n\t\t}\n\t);\n\nconst tableRecordAPI = async name =>\n\tawait fetchHelper(\n\t\t`/api/now/table/sys_db_object?sysparm_query=name=${name}&sysparm_fields=sys_id`\n\t);\n\nexport const getTableSysId = async name => {\n\tconst response = await tableRecordAPI(name);\n\n\tif (response.isError) {\n\t\treturn response;\n\t}\n\n\tconst { sys_id: sysId } = response.result[0];\n\n\treturn {\n\t\tisError: false,\n\t\tsysId\n\t};\n};\n\nconst deleteRecordAPI = async (table, recordId, appId) =>\n\tawait fetchHelper(\n\t\t`/api/now/table/${table}/${recordId}?sysparm_transaction_scope=${appId}`,\n\t\t{\n\t\t\tmethod: 'DELETE'\n\t\t}\n\t);\n\nconst sessionNotificationAPI = async appId =>\n\tawait fetchHelper(\n\t\t`/api/now/session/notification?sysparm_transaction_scope=${appId}`\n\t);\n\nexport const importDataFromImportSet = async (\n\tappId,\n\ttableInfo,\n\timportSetTableName\n) => {\n\t// Run import set\n\tconst data = buildReqData(tableInfo, importSetTableName);\n\tconst response = await importFromImportSetAPI(appId, tableInfo.name, data);\n\n\tif (response.isError) {\n\t\treturn response;\n\t}\n\n\t// Wait for import to complete\n\tconst importSetSysId = response.result;\n\tconst importResponse = await waitForSuccessfulImport(importSetSysId, appId);\n\n\tif (importResponse.isError) {\n\t\treturn importResponse;\n\t}\n\n\tconst importSetTableIdResponse = await getTableSysId(\n\t\timportSetTableName,\n\t\tappId\n\t);\n\n\tif (importSetTableIdResponse.isError) {\n\t\treturn importSetTableIdResponse;\n\t}\n\tawait deleteRecordAPI('sys_db_object', importSetTableIdResponse.sysId, appId);\n\n\t// Delete record api creates session notification. calling session notification api will clear it and doesn't pollute other places\n\tawait sessionNotificationAPI(appId);\n\n\treturn importResponse;\n};\n\n// Polls the progress of the data import. Returns the results of the import, when it\n// completes.  Otherwise, throws an error indicating the import failed.\nasync function waitForSuccessfulImport(importSetSysId, appId) {\n\tconst response = await waitFor(\n\t\t`api/now/table/sys_import_set_run?sysparm_query=set%3D${importSetSysId}&sysparm_transaction_scope=${appId}`,\n\t\tasync response => {\n\t\t\tif (response.isError) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst result = response.result[0];\n\t\t\treturn result && result.state != IMPORT_STATE_RUNNING;\n\t\t}\n\t);\n\n\tif (response.isError || response.result[0].state === IMPORT_STATE_ERROR) {\n\t\treturn failedResponse(t('Import error'));\n\t}\n\treturn response.result[0];\n}\n\nexport function canRunImportSets(id, sheets) {\n\tconst notEligible = { canImport: false };\n\tif (id && sheets) {\n\t\tconst match = sheets.find(item => item.name === id);\n\n\t\tif (match) {\n\t\t\tconst { importDataCheckbox = false, importSetTableName } = match;\n\t\t\tif (importDataCheckbox) {\n\t\t\t\treturn { canImport: true, importSetTableName };\n\t\t\t}\n\t\t}\n\t}\n\treturn notEligible;\n}\n\nfunction buildReqData(tableInfo, importSetTableName) {\n\treturn {\n\t\tname: `${tableInfo.name}_transform_map`,\n\t\timport_set_table_name: importSetTableName,\n\t\ttransform_entries: tableInfo.fields\n\t\t\t.filter(f => f.initialName)\n\t\t\t.map(f => ({\n\t\t\t\tsource_field: f.initialName,\n\t\t\t\ttarget_field: f.name\n\t\t\t}))\n\t};\n}\n","import { createHttpEffect } from '@servicenow/ui-effect-http';\nimport {\n\tBEHAVIOR_NAME,\n\tCHECK_UNIQUE_FIELD,\n\tCHECK_UNIQUE_FIELD_REQUEST,\n\tCHECK_UNIQUE_FIELD_REQUEST_STARTED,\n\tCHECK_UNIQUE_FIELD_STARTED,\n\tCHECK_UNIQUE_FIELD_SUCCESS,\n\tCHECK_UNIQUE_FIELD_FAILURE,\n\tCHECK_UNIQUE_FIELD_COMPLETED,\n\tDEFAULT_QUERY_PARAMS\n} from './constants';\n\nconst requestFetchEffect = createHttpEffect('', {\n\tmethod: 'GET',\n\tstartActionType: CHECK_UNIQUE_FIELD_REQUEST_STARTED,\n\tsuccessActionType: CHECK_UNIQUE_FIELD_SUCCESS,\n\terrorActionType: CHECK_UNIQUE_FIELD_FAILURE,\n\tbatch: true\n});\n\nexport default {\n\tname: BEHAVIOR_NAME,\n\n\tactionHandlers: {\n\t\t[CHECK_UNIQUE_FIELD]: ({ action, dispatch }) => {\n\t\t\tconst {\n\t\t\t\turl = null,\n\t\t\t\tfieldName,\n\t\t\t\ttableName,\n\t\t\t\tvalue,\n\t\t\t\tqueryParams = null,\n\t\t\t\tsysparm_transaction_scope\n\t\t\t} = action.payload;\n\n\t\t\tif (\n\t\t\t\ttypeof sysparm_transaction_scope !== 'string' ||\n\t\t\t\tsysparm_transaction_scope.length < 1\n\t\t\t) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`[${BEHAVIOR_NAME}] '${CHECK_UNIQUE_FIELD}' requires that you pass the current app 'sysparm_transaction_scope' in the payload`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t/** Setup queryParams */\n\t\t\t// If queryParams are supplied, use them\n\t\t\t// If they aren't, create a sysparm_query to look up the value of the fieldName\n\t\t\tlet restParams = {\n\t\t\t\t...DEFAULT_QUERY_PARAMS,\n\t\t\t\tsysparm_transaction_scope\n\t\t\t};\n\n\t\t\tif (!queryParams) {\n\t\t\t\tconst sysparm_query = `${fieldName}=${value}`;\n\t\t\t\trestParams = {\n\t\t\t\t\t...restParams,\n\t\t\t\t\tsysparm_query\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\trestParams = {\n\t\t\t\t\t...restParams,\n\t\t\t\t\t...queryParams\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Setup url */\n\t\t\t// If no url is provided, default to the table api with given tableName\n\t\t\tconst requestUrl = url ? url : `/api/now/table/${tableName}`;\n\t\t\tdispatch(CHECK_UNIQUE_FIELD_REQUEST, {\n\t\t\t\turl: requestUrl,\n\t\t\t\ttableName,\n\t\t\t\trestParams: Object.keys(restParams),\n\t\t\t\t...restParams\n\t\t\t});\n\t\t},\n\t\t// TODO: Lets refactor or update the api call so that it returns\n\t\t// the fieldName and value as well\n\t\t[CHECK_UNIQUE_FIELD_REQUEST]: {\n\t\t\t...requestFetchEffect,\n\t\t\t// Jumping through hoops to allow dynamic urls here\n\t\t\tinterceptors: [\n\t\t\t\t{\n\t\t\t\t\tafter: context => {\n\t\t\t\t\t\tconst url = context.coeffects.action.payload.url;\n\t\t\t\t\t\tcontext.effects[0].args[0] = url;\n\n\t\t\t\t\t\tconst restParams = context.coeffects.action.payload.restParams;\n\t\t\t\t\t\tcontext.effects[0].args[1].queryParams = restParams;\n\t\t\t\t\t\treturn context;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t[CHECK_UNIQUE_FIELD_REQUEST_STARTED]: ({ state, dispatch }) => {\n\t\t\tconst { value, fieldName, tableName } = state;\n\t\t\tdispatch(CHECK_UNIQUE_FIELD_STARTED, {\n\t\t\t\tvalue,\n\t\t\t\tfieldName,\n\t\t\t\ttableName\n\t\t\t});\n\t\t},\n\t\t[CHECK_UNIQUE_FIELD_SUCCESS]: ({ dispatch, action }) => {\n\t\t\tconst { result } = action.payload;\n\n\t\t\tdispatch(CHECK_UNIQUE_FIELD_COMPLETED, {\n\t\t\t\tresult,\n\t\t\t\tunique: result && result.length ? false : true\n\t\t\t});\n\t\t},\n\t\t[CHECK_UNIQUE_FIELD_FAILURE]: ({ action: { payload } }) =>\n\t\t\tconsole.warn(\n\t\t\t\t`${CHECK_UNIQUE_FIELD_REQUEST} failed with error: `,\n\t\t\t\tpayload.error\n\t\t\t)\n\t}\n};\n","import { CHECK_UNIQUE_FIELD } from './constants';\n\nexport default function checkUniqueField(\n\tdispatch,\n\toptions,\n\tsysparm_transaction_scope\n) {\n\tconst { url, fieldName, tableName, value, ...rest } = options;\n\tdispatch(CHECK_UNIQUE_FIELD, {\n\t\turl,\n\t\tfieldName,\n\t\ttableName,\n\t\tvalue,\n\t\tsysparm_transaction_scope,\n\t\t...rest\n\t});\n}\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzk0cHgiIGhlaWdodD0iMzEwcHgiIHZpZXdCb3g9IjAgMCAzOTQgMzEwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHRpdGxlPjdGRDI2QzJFLTdCQ0YtNEYzOS05NDY2LTdGNTM4QjI0NjIzODwvdGl0bGU+CiAgICA8ZGVmcz4KICAgICAgICA8cG9seWdvbiBpZD0icGF0aC0xIiBwb2ludHM9IjAuMTI3MDE0Mjg2IDAuMzMxMDc1IDY3LjY5OTQ2NDMgMC4zMzEwNzUgNjcuNjk5NDY0MyA2Ny45MDI0MzIxIDAuMTI3MDE0Mjg2IDY3LjkwMjQzMjEiPjwvcG9seWdvbj4KICAgICAgICA8cG9seWdvbiBpZD0icGF0aC0zIiBwb2ludHM9IjAgMzEwIDM5NCAzMTAgMzk0IDAgMCAwIj48L3BvbHlnb24+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iVGFibGVzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQUVTLS0tVGFibGUtZnJvbS1zY3JhdGNoLS0tOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ3Ni4wMDAwMDAsIC0zOTkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJJbGx1c3RyYXRpb25fdGFibGVzX2ZpbmFsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NzYuMDAwMDAwLCAzOTkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzc0LjI4NDQwMiw3MCBMMjg0LjcxNjIwNSw3MCBDMjc0LjM3OTE5NCw3MCAyNjYsNjEuNTUxNDkxOCAyNjYsNTEuMTI5NTgyNiBMMjY2LDE4Ljg3MDQxNzQgQzI2Niw4LjQ0ODUwODE4IDI3NC4zNzkxOTQsMCAyODQuNzE2MjA1LDAgTDM3NC4yODQ0MDIsMCBDMzg0LjYyMDgwNiwwIDM5Myw4LjQ0ODUwODE4IDM5MywxOC44NzA0MTc0IEwzOTMsNTEuMTI5NTgyNiBDMzkzLDYxLjU1MTQ5MTggMzg0LjYyMDgwNiw3MCAzNzQuMjg0NDAyLDcwIiBpZD0iRmlsbC0xIiBmaWxsPSIjRjFFRUVFIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzI2LjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgPC9tYXNrPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJDbGlwLTQiPjwvZz4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjcuNjk5NTg1NywzNC4xMTY3NTM2IEM2Ny42OTk1ODU3LDUyLjc3NjA3NSA1Mi41NzI2MjE0LDY3LjkwMjQzMjEgMzMuOTEzMyw2Ny45MDI0MzIxIEMxNS4yNTMzNzE0LDY3LjkwMjQzMjEgMC4xMjcwMTQyODYsNTIuNzc2MDc1IDAuMTI3MDE0Mjg2LDM0LjExNjc1MzYgQzAuMTI3MDE0Mjg2LDE1LjQ1NzQzMjEgMTUuMjUzMzcxNCwwLjMzMTA3NSAzMy45MTMzLDAuMzMxMDc1IEM1Mi41NzI2MjE0LDAuMzMxMDc1IDY3LjY5OTU4NTcsMTUuNDU3NDMyMSA2Ny42OTk1ODU3LDM0LjExNjc1MzYiIGlkPSJGaWxsLTMiIGZpbGw9IiM5OUQ0RTQiIG1hc2s9InVybCgjbWFzay0yKSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stNCIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMyI+PC91c2U+CiAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpcC03Ij48L2c+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iRmlsbC02IiBmaWxsPSIjRkVGRUZFIiBtYXNrPSJ1cmwoI21hc2stNCkiIHBvaW50cz0iMjk0IDIwMyAzMjQgMjAzIDMyNCAxOTkgMjk0IDE5OSI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM3NC4yODQ0MDIsMjM1IEwyODQuNzE2MjA1LDIzNSBDMjc0LjM3OTE5NCwyMzUgMjY2LDIyNi41NTA5NTMgMjY2LDIxNi4xMjkxMzUgTDI2NiwxODMuODcwMjUyIEMyNjYsMTczLjQ0ODQzNCAyNzQuMzc5MTk0LDE2NSAyODQuNzE2MjA1LDE2NSBMMzc0LjI4NDQwMiwxNjUgQzM4NC42MjA4MDYsMTY1IDM5MywxNzMuNDQ4NDM0IDM5MywxODMuODcwMjUyIEwzOTMsMjE2LjEyOTEzNSBDMzkzLDIyNi41NTA5NTMgMzg0LjYyMDgwNiwyMzUgMzc0LjI4NDQwMiwyMzUiIGlkPSJGaWxsLTgiIGZpbGw9IiNGMUVFRUUiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE4NS4yODM4ODQsMjM1IEw5NS43MTYxMTU2LDIzNSBDODUuMzc5NzYwOSwyMzUgNzcsMjI2LjU1MDk1MyA3NywyMTYuMTI5MTM1IEw3NywxODMuODcwMjUyIEM3NywxNzMuNDQ4NDM0IDg1LjM3OTc2MDksMTY1IDk1LjcxNjExNTYsMTY1IEwxODUuMjgzODg0LDE2NSBDMTk1LjYyMDg0NywxNjUgMjA0LDE3My40NDg0MzQgMjA0LDE4My44NzAyNTIgTDIwNCwyMTYuMTI5MTM1IEMyMDQsMjI2LjU1MDk1MyAxOTUuNjIwODQ3LDIzNSAxODUuMjgzODg0LDIzNSIgaWQ9IkZpbGwtOSIgZmlsbD0iI0YxRUVFRSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjkwLjI4Mzg4NCwxNTEgTDIwMC43MTYxMTYsMTUxIEMxOTAuMzc5NzYxLDE1MSAxODIsMTQyLjU1MTU2NiAxODIsMTMyLjEyOTEzNSBMMTgyLDk5Ljg3MDg2NDcgQzE4Miw4OS40NDg0MzQzIDE5MC4zNzk3NjEsODEgMjAwLjcxNjExNiw4MSBMMjkwLjI4Mzg4NCw4MSBDMzAwLjYyMDg0Nyw4MSAzMDksODkuNDQ4NDM0MyAzMDksOTkuODcwODY0NyBMMzA5LDEzMi4xMjkxMzUgQzMwOSwxNDIuNTUxNTY2IDMwMC42MjA4NDcsMTUxIDI5MC4yODM4ODQsMTUxIiBpZD0iRmlsbC0xMCIgZmlsbD0iI0YxRUVFRSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA3LjU1ODUzNSwwIEw1NiwwIEw1Niw3MCBMMTA3LjU1ODUzNSw3MCBDMTI2LjU4MDExMyw3MCAxNDIsNTQuMzMwMzg3NiAxNDIsMzUuMDAwNjEyNSBDMTQyLDE1LjY3MDIyNDkgMTI2LjU4MDExMywwIDEwNy41NTg1MzUsMCIgaWQ9IkZpbGwtMTEiIGZpbGw9IiNGMUVFRUUiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTMwOSwxMTcgQzMwOSwxMzUuNzc3Njg4IDI5My43NzczNSwxNTEgMjc1LDE1MSBDMjU2LjIyMjAzOSwxNTEgMjQxLDEzNS43Nzc2ODggMjQxLDExNyBDMjQxLDk4LjIyMjMxMjEgMjU2LjIyMjAzOSw4MyAyNzUsODMgQzI5My43NzczNSw4MyAzMDksOTguMjIyMzEyMSAzMDksMTE3IiBpZD0iRmlsbC0xMiIgZmlsbD0iI0Q1RDNEMyIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQzLDM1LjAwMDMwNTUgQzE0Myw1My43Nzc4MjQ3IDEyNy43NzczNSw2OSAxMDksNjkgQzkwLjIyMjAzODUsNjkgNzUsNTMuNzc3ODI0NyA3NSwzNS4wMDAzMDU1IEM3NSwxNi4yMjI3ODYzIDkwLjIyMjAzODUsMSAxMDksMSBDMTI3Ljc3NzM1LDEgMTQzLDE2LjIyMjc4NjMgMTQzLDM1LjAwMDMwNTUiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRDVEM0QzIiBtYXNrPSJ1cmwoI21hc2stNCkiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNTksMzUuNSBDMzU5LDI4LjU5NjM4MzIgMzUzLjYyNzQ3MiwyMyAzNDcsMjMgTDM0Nyw0OCBDMzUzLjYyNzQ3Miw0OCAzNTksNDIuNDAzNjE2OCAzNTksMzUuNSIgaWQ9IkZpbGwtMTQiIGZpbGw9IiNGRUZFRkUiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM2MiwzNS41IEMzNjIsNDIuNDAzNjE2OCAzNjcuMzcyNTI4LDQ4IDM3NCw0OCBMMzc0LDIzIEMzNjcuMzcyNTI4LDIzIDM2MiwyOC41OTYzODMyIDM2MiwzNS41IiBpZD0iRmlsbC0xNSIgZmlsbD0iI0ZFRkVGRSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE2Ljk5OTU2MywyNy40MjQ4OTU5IEMxMTcuMDQwNzQ2LDMxLjAxNDc1MzEgMTE0LjE2NDYzNCwzMy45NTgzNTEyIDExMC41NzU3MDMsMzMuOTk5NTM3NCBDMTA2Ljk4NTU2LDM0LjA0MTkzNDkgMTA0LjA0MTYxOSwzMS4xNjQ5NjE0IDEwNC4wMDA0MzcsMjcuNTc1MTA0MiBDMTAzLjk1OTI1NCwyMy45ODUyNDcgMTA2LjgzNTM2NiwyMS4wNDE2NDg5IDExMC40MjQ5MDMsMjEuMDAwNDYyNyBDMTE0LjAxNDQ0LDIwLjk1ODA2NTIgMTE2Ljk1ODM4MSwyMy44MzQ0MzMgMTE2Ljk5OTU2MywyNy40MjQ4OTU5IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0YxRUVFRSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTExLjM3OTI4OCwzNy4wMDA2OTEzIEMxMDUuNTgwNDA2LDM3LjA2NDc0NDIgMTAwLjkzNDIyNiw0MS40MTI3MDQxIDEwMS4wMDA3MDUsNDcgTDEyMiw0NyBDMTIxLjkzMjkxMiw0MS40MTI3MDQxIDExNy4xNzgxNywzNi45MzYwNTA3IDExMS4zNzkyODgsMzcuMDAwNjkxMyIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGMUVFRUUiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI4NSwxMTggQzI4NSwxMjIuOTcwOTg5IDI4MC45NzA1MjUsMTI3IDI3Ni4wMDAyOTksMTI3IEMyNzEuMDI5NDc1LDEyNyAyNjcsMTIyLjk3MDk4OSAyNjcsMTE4IEMyNjcsMTEzLjAyOTAxMSAyNzEuMDI5NDc1LDEwOSAyNzYuMDAwMjk5LDEwOSBDMjgwLjk3MDUyNSwxMDkgMjg1LDExMy4wMjkwMTEgMjg1LDExOCIgaWQ9IkZpbGwtMTgiIGZpbGw9IiNGMUVFRUUiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTI3NS40OTk2OTQsMTAwLjI2Njg3MyBDMjY1Ljk5NzAwOCwxMDAuMjY2ODczIDI1OC4yNjYyOTgsMTA3Ljk5NzQ2MiAyNTguMjY2Mjk4LDExNy41IEMyNTguMjY2Mjk4LDEyNy4wMDI1MzggMjY1Ljk5NzAwOCwxMzQuNzMzMTI3IDI3NS40OTk2OTQsMTM0LjczMzEyNyBDMjg1LjAwMjM4MSwxMzQuNzMzMTI3IDI5Mi43MzMwOTEsMTI3LjAwMjUzOCAyOTIuNzMzMDkxLDExNy41IEMyOTIuNzMzMDkxLDEwNy45OTc0NjIgMjg1LjAwMjM4MSwxMDAuMjY2ODczIDI3NS40OTk2OTQsMTAwLjI2Njg3MyBNMjc1LjQ5OTY5NCwxMzcgQzI2NC43NDc0NTgsMTM3IDI1NiwxMjguMjUyMDY4IDI1NiwxMTcuNSBDMjU2LDEwNi43NDczMjEgMjY0Ljc0NzQ1OCw5OCAyNzUuNDk5Njk0LDk4IEMyODYuMjUyNTQyLDk4IDI5NSwxMDYuNzQ3MzIxIDI5NSwxMTcuNSBDMjk1LDEyOC4yNTIwNjggMjg2LjI1MjU0MiwxMzcgMjc1LjQ5OTY5NCwxMzciIGlkPSJGaWxsLTE5IiBmaWxsPSIjRjFFRUVFIiBtYXNrPSJ1cmwoI21hc2stNCkiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03Ni45NTk4Mzg2LDI1MiBMMTAwLjI2NzQwNSwyNTIgQzEwMi4zMjk1MTksMjUyIDEwNCwyNTAuNDMzMTc0IDEwNCwyNDguNTAwMjgzIEMxMDQsMjQ2LjU2NzM5MyAxMDIuMzI5NTE5LDI0NSAxMDAuMjY3NDA1LDI0NSBMNzMsMjQ1IEw3Ni45NTk4Mzg2LDI1MiBaIiBpZD0iRmlsbC0yMCIgZmlsbD0iIzMxNDA0MSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuNzAyMzU4NiwyMjIgTDkyLDIxNy44NjMxNTcgTDEyMi4wMzM5NTgsMjA1LjI2MDYwOSBDMTIzLjU3MjUzNiwyMDQuNjE2MzIyIDEyNC41NjUzOCwyMDMuMTE1MiAxMjQuNTY1MzgsMjAxLjQzNDczOSBMMTI0LjU2NTM4LDE5MCBMMTI5LDE5MCBMMTI5LDIwMS40MzQ3MzkgQzEyOSwyMDQuOTMzMzMzIDEyNi45MzMwMjEsMjA4LjA1ODE1NiAxMjMuNzMzOTI2LDIwOS4zOTgwNTYgTDkzLjcwMjM1ODYsMjIyIFoiIGlkPSJGaWxsLTIxIiBmaWxsPSIjMzE0MDQxIiBtYXNrPSJ1cmwoI21hc2stNCkiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03MS44MTYyODA1LDI5MSBMMzIuMTgzNzE5NSwyOTEgQzE5LjM3OTc5ODYsMjkxIDksMjgwLjU1MjYyMSA5LDI2Ny42NjUzMzcgTDksMTgxLjMzNDY2MyBDOSwxNjguNDQ3Mzc5IDE5LjM3OTc5ODYsMTU4IDMyLjE4MzcxOTUsMTU4IEw3MS44MTYyODA1LDE1OCBDODQuNjIwMjAxNCwxNTggOTUsMTY4LjQ0NzM3OSA5NSwxODEuMzM0NjYzIEw5NSwyNjcuNjY1MzM3IEM5NSwyODAuNTUyNjIxIDg0LjYyMDIwMTQsMjkxIDcxLjgxNjI4MDUsMjkxIiBpZD0iRmlsbC0yMiIgZmlsbD0iI0Q1RDNEMyIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzIsMjE5IEwxNiwyMTkgTDE2LDIxNy42MTc1MTQgQzE2LDIxNi43MjQyOTQgMTYuNzc2ODA1LDIxNiAxNy43MzYxMzgsMjE2IEwzMC4yNjM4NjIsMjE2IEMzMS4yMjI1ODg2LDIxNiAzMiwyMTYuNzI0Mjk0IDMyLDIxNy42MTc1MTQgTDMyLDIxOSBaIiBpZD0iRmlsbC0yMyIgZmlsbD0iIzMxNDA0MSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iRmlsbC0yNCIgZmlsbD0iIzMxNDA0MSIgbWFzaz0idXJsKCNtYXNrLTQpIiBwb2ludHM9IjE2IDIyNCAzMiAyMjQgMzIgMjIxIDE2IDIyMSI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTMwLjI2Mzc5NjIsMjMwIEwxNy43MzU1OTczLDIzMCBDMTYuNzc2ODM0NCwyMzAgMTYsMjI5LjI3NjI3MSAxNiwyMjguMzgzMDUxIEwxNiwyMjcgTDMyLDIyNyBMMzIsMjI4LjM4MzA1MSBDMzIsMjI5LjI3NjI3MSAzMS4yMjI1NTkxLDIzMCAzMC4yNjM3OTYyLDIzMCIgaWQ9IkZpbGwtMjUiIGZpbGw9IiMzMTQwNDEiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTk1LDMxMCBMMTksMzEwIEwxOSwzMDcuNjk2MTA4IEMxOSwzMDYuMjA2OTk5IDIwLjI0MDUxOTQsMzA1IDIxLjc2OTYxNjksMzA1IEw5Mi4yMzA5OTQ1LDMwNSBDOTMuNzYwNzAzNCwzMDUgOTUsMzA2LjIwNjk5OSA5NSwzMDcuNjk2MTA4IEw5NSwzMTAgWiIgaWQ9IkZpbGwtMjYiIGZpbGw9IiNGMUVFRUUiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTk1LDIwMS41MjAxODcgQzk1LDE3Ny40ODUwMTMgNzUuNzQ4MTU3MywxNTggNTIsMTU4IEMyOC4yNTE4NDI3LDE1OCA5LDE3Ny40ODUwMTMgOSwyMDEuNTIwMTg3IEw5LDIwNi44OTQ4NzkgTDc0LjE4MzkwNzQsMjA2Ljg5NDg3OSBMNzQuMTgzOTA3NCwyNTkuMzkwOTggQzc0LjE4MzkwNzQsMjcwLjQ1MTM5MiA3MC4zODgzNzIsMjc5LjgzNTkxMSA2Mi4yMzc1MjE0LDI4OC45MTk3NjkgTDU5Ljg2MzQyODcsMjkxIEM2MS4zNzY0NjA5LDI5MC43MTY0MTUgNjIuODYyMzc3NywyOTAuMzU2NTk4IDY0LjMxNTE1MzcsMjg5LjkxNzQ5OSBDNzIuNTQ2NzQ3NiwyODAuNTU0MzI2IDc2LjM5ODMyMTIsMjcwLjgzNDk5NCA3Ni4zOTgzMjEyLDI1OS4zOTA5OCBMNzYuMzk4MzIxMiwyMDYuODk0ODc5IEw5NSwyMDYuODk0ODc5IEw5NSwyMDEuNTIwMTg3IFoiIGlkPSJGaWxsLTI3IiBmaWxsPSIjMzE0MDQxIiBtYXNrPSJ1cmwoI21hc2stNCkiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNy4wNDAxNjE0LDI1MiBMMy43MzI1OTUwOSwyNTIgQzEuNjcwNDgxMzUsMjUyIDAsMjUwLjQzMzE3NCAwLDI0OC41MDAyODMgQzAsMjQ2LjU2NzM5MyAxLjY3MDQ4MTM1LDI0NSAzLjczMjU5NTA5LDI0NSBMMzEsMjQ1IEwyNy4wNDAxNjE0LDI1MiBaIiBpZD0iRmlsbC0yOCIgZmlsbD0iIzMxNDA0MSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQyLjU1NzE0NywxOTIgTDExMi40NDI4NTMsMTkyIEMxMDcuNzgwMjA4LDE5MiAxMDQsMTg4Ljg2NTg3NCAxMDQsMTg1IEwxNTEsMTg1IEMxNTEsMTg4Ljg2NTg3NCAxNDcuMjE5NzkyLDE5MiAxNDIuNTU3MTQ3LDE5MiIgaWQ9IkZpbGwtMjkiIGZpbGw9IiNENUQzRDMiIG1hc2s9InVybCgjbWFzay00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzMSwyMDQuNDk5Njg5IEMxMzEsMjA2Ljk4NSAxMjguOTg1NzYyLDIwOSAxMjYuNTAwNjIyLDIwOSBDMTI0LjAxNDg2LDIwOSAxMjIsMjA2Ljk4NSAxMjIsMjA0LjQ5OTY4OSBDMTIyLDIwMi4wMTUgMTI0LjAxNDg2LDIwMCAxMjYuNTAwNjIyLDIwMCBDMTI4Ljk4NTc2MiwyMDAgMTMxLDIwMi4wMTUgMTMxLDIwNC40OTk2ODkiIGlkPSJGaWxsLTMwIiBmaWxsPSIjRDVEM0QzIiBtYXNrPSJ1cmwoI21hc2stNCkiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDAuNzg3ODk3LDEzMiBDMTM3LjM1NzU0MiwxMzIgMTM0LjU3NTc5NCwxMzQuNzg0MDc4IDEzNC41NzU3OTQsMTM4LjIxODY3IEMxMzQuNTc1Nzk0LDE0MC4wMjIzOTYgMTM1LjM0ODI2NCwxNDEuNjQxNjU3IDEzNi41NzQwODgsMTQyLjc3ODM3NyBMMTMwLjYyNDM1NywxNTAuNTMwNzk1IEMxMjkuNjYzOTU1LDE0OS45MjEyMDUgMTI4LjUyODQzNSwxNDkuNTYzODgxIDEyNy4zMDY4ODIsMTQ5LjU2Mzg4MSBDMTI2LjExNzA1OCwxNDkuNTYzODgxIDEyNS4wMDk2MDYsMTQ5LjkwNDEwMyAxMjQuMDY1MDY5LDE1MC40ODU1OTUgTDExOC4zNjEyMzQsMTQyLjgzNTc5NCBDMTE5LjYyNDI3OCwxNDEuNjk3ODUyIDEyMC40MjM1OTYsMTQwLjA1MzU0OCAxMjAuNDIzNTk2LDEzOC4yMTg2NyBDMTIwLjQyMzU5NiwxMzQuNzg0MDc4IDExNy42NDE4NDgsMTMyIDExNC4yMTE0OTMsMTMyIEMxMTAuNzgwNTI4LDEzMiAxMDgsMTM0Ljc4NDA3OCAxMDgsMTM4LjIxODY3IEMxMDgsMTQxLjY1MjY1MiAxMTAuNzgwNTI4LDE0NC40MzYxMTkgMTE0LjIxMTQ5MywxNDQuNDM2MTE5IEMxMTUuNDAyNTM4LDE0NC40MzYxMTkgMTE2LjUwOTk5LDE0NC4wOTUyODcgMTE3LjQ1NTEzNywxNDMuNTE0NDA1IEwxMjMuMTU3NzUxLDE1MS4xNjM1OTYgQzEyMS44OTQ3MDcsMTUyLjMwMTUzNyAxMjEuMDk1OTk5LDE1My45NDY0NTIgMTIxLjA5NTk5OSwxNTUuNzgxOTQgQzEyMS4wOTU5OTksMTU5LjIxNjUzMyAxMjMuODc2NTI3LDE2MiAxMjcuMzA2ODgyLDE2MiBDMTMwLjczNzg0OCwxNjIgMTMzLjUxODk4NiwxNTkuMjE2NTMzIDEzMy41MTg5ODYsMTU1Ljc4MTk0IEMxMzMuNTE4OTg2LDE1My45NzY5OTMgMTMyLjc0NjUxNSwxNTIuMzU3NzMyIDEzMS41MjA2OTEsMTUxLjIyMjIzNCBMMTM3LjQ3MDQyMywxNDMuNDY5MjA1IEMxMzguNDMxNDM1LDE0NC4wNzgxODQgMTM5LjU2NjM0NCwxNDQuNDM2MTE5IDE0MC43ODc4OTcsMTQ0LjQzNjExOSBDMTQ0LjIxODI1MiwxNDQuNDM2MTE5IDE0NywxNDEuNjUyNjUyIDE0NywxMzguMjE4NjcgQzE0NywxMzQuNzg0MDc4IDE0NC4yMTgyNTIsMTMyIDE0MC43ODc4OTcsMTMyIiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZFRkVGRSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzksMTg1IEM3OSwxODcuMjA5MTg1IDc3LjIwOTMxNzgsMTg5IDc1LjAwMDI5NjMsMTg5IEM3Mi43OTA2ODIyLDE4OSA3MSwxODcuMjA5MTg1IDcxLDE4NSBDNzEsMTgyLjc5MDIyMiA3Mi43OTA2ODIyLDE4MSA3NS4wMDAyOTYzLDE4MSBDNzcuMjA5MzE3OCwxODEgNzksMTgyLjc5MDIyMiA3OSwxODUiIGlkPSJGaWxsLTMyIiBmaWxsPSIjOTlENEU0IiBtYXNrPSJ1cmwoI21hc2stNCkiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTksMTQ1IEMxNTksMTYyLjY3MzIwNSAxNDQuNjczMjA1LDE3NyAxMjcsMTc3IEMxMDkuMzI2Nzk1LDE3NyA5NSwxNjIuNjczMjA1IDk1LDE0NSBDOTUsMTI3LjMyNjc5NSAxMDkuMzI2Nzk1LDExMyAxMjcsMTEzIEMxNDQuNjczMjA1LDExMyAxNTksMTI3LjMyNjc5NSAxNTksMTQ1IiBpZD0iRmlsbC0zMyIgZmlsbD0iIzk5RDRFNCIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDE0Ni4wMDAzMTIgQzExNCwxMzkuMzcyNjc4IDExOS4zNzI1MzksMTM0IDEyNiwxMzQgTDEyNiwxNTggQzExOS4zNzI1MzksMTU4IDExNCwxNTIuNjI3MzIyIDExNCwxNDYuMDAwMzEyIiBpZD0iRmlsbC0zNCIgZmlsbD0iI0ZFRkVGRSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQxLDE0Ni4wMDAzMTIgQzE0MSwxNTIuNjI3MzIyIDEzNS42Mjc0NjEsMTU4IDEyOSwxNTggTDEyOSwxMzQgQzEzNS42Mjc0NjEsMTM0IDE0MSwxMzkuMzcyNjc4IDE0MSwxNDYuMDAwMzEyIiBpZD0iRmlsbC0zNSIgZmlsbD0iI0ZFRkVGRSIgbWFzaz0idXJsKCNtYXNrLTQpIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\"","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-wizard-details-page.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}.input-row{display:flex;align-items:flex-start;height:4rem}now-input{width:17.625rem}now-input:not(:last-child){margin-inline-end:2.5rem}.center-section{display:flex;flex-direction:column;margin-block-start:.75rem}.center-section now-checkbox{margin-block-end:.75rem}.autonumber{margin-block-end:1.375rem}.autonumber now-input{width:10.9375rem}\", \"\"]);\n\n// exports\n","import { createCustomElement, actionTypes } from '@servicenow/ui-core';\nimport '@servicenow/now-input';\nimport '@devsnc/guided-wizard-toolkit';\nimport 'sn-app-object-wizard-components';\n\nimport { t } from 'sn-translate';\n\nimport styles from './styles.scss';\n\ncreateCustomElement('sn-table-wizard-summary-page', {\n\tview: (\n\t\t{\n\t\t\tproperties: {\n\t\t\t\twizardContext: { table }\n\t\t\t}\n\t\t},\n\t\t{ dispatch }\n\t) => {\n\t\tconst onComplete = () =>\n\t\t\tdispatch('SN_GUIDED_WIZARD#COMPLETE', {\n\t\t\t\tkey: 'sys_db_object',\n\t\t\t\tresult: table\n\t\t\t});\n\t\treturn (\n\t\t\t<sn-guided-wizard-page\n\t\t\t\tclassName=\"sn-table-wizard-summary-page\"\n\t\t\t\tonPrimaryClick={onComplete}\n\t\t\t\tprimaryLabel={t('Done')}\n\t\t\t\tsecondaryLabel={t('Edit table')}\n\t\t\t\tonSecondaryClick={() =>\n\t\t\t\t\tdispatch('SN_GUIDED_WIZARD#EDIT_RECORD', {\n\t\t\t\t\t\tkey: 'sys_db_object',\n\t\t\t\t\t\tresult: table\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tonClose={onComplete}\n\t\t\t\trunning-header-text={t('CREATE TABLE')}\n\t\t\t\theaderText={t('Your table is ready')}\n\t\t\t\tsubheaderText={t(\n\t\t\t\t\t\"We'll take you to the app home where you can add more data, experience, logic and security to your app.\"\n\t\t\t\t)}>\n\t\t\t\t<sn-aow-info-summary\n\t\t\t\t\tdata={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: t('Source'),\n\t\t\t\t\t\t\ttext: table.approach\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: t('Table name'),\n\t\t\t\t\t\t\ttext: table.label\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Making use of existing sys_ui_message record for translation ( key : uppercase_fields, message: Fields )to resolve DEF0191366\n\t\t\t\t\t\t\tlabel: t('uppercase_fields'),\n\t\t\t\t\t\t\ttext: table.fields ? table.fields.length : 0\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</sn-guided-wizard-page>\n\t\t);\n\t},\n\tproperties: {\n\t\twizardContext: {}\n\t},\n\tactionHandlers: {\n\t\t[actionTypes.COMPONENT_BOOTSTRAPPED]: ({ dispatch }) => {\n\t\t\tdispatch('STEPPER_BEHAVIOR#COMPLETE_ALL');\n\t\t}\n\t},\n\tstyles\n});\n","\n        var result = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./sn-table-builder-wizard.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-m-block--md{margin-block-end:.75rem}.now-m-block--md,.now-m-block-start--md{margin-block-start:.75rem}.now-m-block-end--md{margin-block-end:.75rem}.now-m-inline--md{margin-inline-end:.75rem}.now-m-inline--md,.now-m-inline-start--md{margin-inline-start:.75rem}.now-m-inline-end--md{margin-inline-end:.75rem}.now-m-block--lg{margin-block-end:1rem}.now-m-block--lg,.now-m-block-start--lg{margin-block-start:1rem}.now-m-block-end--lg{margin-block-end:1rem}.now-m-inline--lg{margin-inline-end:1rem}.now-m-inline--lg,.now-m-inline-start--lg{margin-inline-start:1rem}.now-m-inline-end--lg{margin-inline-end:1rem}.now-m-block--xl{margin-block-end:1.5rem}.now-m-block--xl,.now-m-block-start--xl{margin-block-start:1.5rem}.now-m-block-end--xl{margin-block-end:1.5rem}.now-m-inline--xl{margin-inline-end:1.5rem}.now-m-inline--xl,.now-m-inline-start--xl{margin-inline-start:1.5rem}.now-m-inline-end--xl{margin-inline-end:1.5rem}.now-m-block--xxl{margin-block-end:2rem}.now-m-block--xxl,.now-m-block-start--xxl{margin-block-start:2rem}.now-m-block-end--xxl{margin-block-end:2rem}.now-m-inline--xxl{margin-inline-end:2rem}.now-m-inline--xxl,.now-m-inline-start--xxl{margin-inline-start:2rem}.now-m-inline-end--xxl{margin-inline-end:2rem}.now-m-block--3xl{margin-block-end:2.5rem}.now-m-block--3xl,.now-m-block-start--3xl{margin-block-start:2.5rem}.now-m-block-end--3xl{margin-block-end:2.5rem}.now-m-inline--3xl{margin-inline-end:2.5rem}.now-m-inline--3xl,.now-m-inline-start--3xl{margin-inline-start:2.5rem}.now-m-inline-end--3xl{margin-inline-end:2.5rem}.now-m-block--0{margin-block-end:0}.now-m-block--0,.now-m-block-start--0{margin-block-start:0}.now-m-block-end--0{margin-block-end:0}.now-m-inline--0{margin-inline-end:0}.now-m-inline--0,.now-m-inline-start--0{margin-inline-start:0}.now-m-inline-end--0{margin-inline-end:0}.now-p-block--xxs{padding-block-end:.125rem}.now-p-block--xxs,.now-p-block-start--xxs{padding-block-start:.125rem}.now-p-block-end--xxs{padding-block-end:.125rem}.now-p-inline--xxs{padding-inline-end:.125rem}.now-p-inline--xxs,.now-p-inline-start--xxs{padding-inline-start:.125rem}.now-p-inline-end--xxs{padding-inline-end:.125rem}.now-p-block--xs{padding-block-end:.25rem}.now-p-block--xs,.now-p-block-start--xs{padding-block-start:.25rem}.now-p-block-end--xs{padding-block-end:.25rem}.now-p-inline--xs{padding-inline-end:.25rem}.now-p-inline--xs,.now-p-inline-start--xs{padding-inline-start:.25rem}.now-p-inline-end--xs{padding-inline-end:.25rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}.now-p-block--md{padding-block-end:.75rem}.now-p-block--md,.now-p-block-start--md{padding-block-start:.75rem}.now-p-block-end--md{padding-block-end:.75rem}.now-p-inline--md{padding-inline-end:.75rem}.now-p-inline--md,.now-p-inline-start--md{padding-inline-start:.75rem}.now-p-inline-end--md{padding-inline-end:.75rem}.now-p-block--lg{padding-block-end:1rem}.now-p-block--lg,.now-p-block-start--lg{padding-block-start:1rem}.now-p-block-end--lg{padding-block-end:1rem}.now-p-inline--lg{padding-inline-end:1rem}.now-p-inline--lg,.now-p-inline-start--lg{padding-inline-start:1rem}.now-p-inline-end--lg{padding-inline-end:1rem}.now-p-block--xl{padding-block-end:1.5rem}.now-p-block--xl,.now-p-block-start--xl{padding-block-start:1.5rem}.now-p-block-end--xl{padding-block-end:1.5rem}.now-p-inline--xl{padding-inline-end:1.5rem}.now-p-inline--xl,.now-p-inline-start--xl{padding-inline-start:1.5rem}.now-p-inline-end--xl{padding-inline-end:1.5rem}.now-p-block--xxl{padding-block-end:2rem}.now-p-block--xxl,.now-p-block-start--xxl{padding-block-start:2rem}.now-p-block-end--xxl{padding-block-end:2rem}.now-p-inline--xxl{padding-inline-end:2rem}.now-p-inline--xxl,.now-p-inline-start--xxl{padding-inline-start:2rem}.now-p-inline-end--xxl{padding-inline-end:2rem}.now-p-block--3xl{padding-block-end:2.5rem}.now-p-block--3xl,.now-p-block-start--3xl{padding-block-start:2.5rem}.now-p-block-end--3xl{padding-block-end:2.5rem}.now-p-inline--3xl{padding-inline-end:2.5rem}.now-p-inline--3xl,.now-p-inline-start--3xl{padding-inline-start:2.5rem}.now-p-inline-end--3xl{padding-inline-end:2.5rem}.now-p-block--0{padding-block-end:0}.now-p-block--0,.now-p-block-start--0{padding-block-start:0}.now-p-block-end--0{padding-block-end:0}.now-p-inline--0{padding-inline-end:0}.now-p-inline--0,.now-p-inline-start--0{padding-inline-start:0}.now-p-inline-end--0{padding-inline-end:0}:host{display:block;height:100%;background-color:RGB(var(--now-color--neutral-1,246,247,247))}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}