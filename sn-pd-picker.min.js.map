{"version":3,"sources":["webpack://__TECTONIC__sn_pd_picker/webpack/bootstrap","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__sn_pd_picker/./src/constants/app-constants.js","webpack://__TECTONIC__sn_pd_picker/./src/constants/action-types.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__sn_pd_picker/./src/utils/helper-functions.js","webpack://__TECTONIC__sn_pd_picker/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__sn_pd_picker/./src/action-handlers/picker-handlers.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_ui_effect_update_state\"","webpack://__TECTONIC__sn_pd_picker/./src/utils/scroll-helpers.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-header/index.js","webpack://__TECTONIC__sn_pd_picker/./src/utils/accessibility-helpers.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/index.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__sn_pd_picker/./src/behaviors/infinite-scroll.js","webpack://__TECTONIC__sn_pd_picker/./src/utils/xss-util.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_now_loader\"","webpack://__TECTONIC__sn_pd_picker/./src/pickers/action-picker/action-api-constants.js","webpack://__TECTONIC__sn_pd_picker/./src/behaviors/rest-api.js","webpack://__TECTONIC__sn_pd_picker/./src/behaviors/reset-data.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/activity-picker/activity-api-constants.js","webpack://__TECTONIC__sn_pd_picker/./src/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/main-picker-element.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__lodash_4_17_4[\\\"truncate\\\"]\"","webpack://__TECTONIC__sn_pd_picker/./src/pickers/action-picker/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/action-picker/action-picker-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/action-picker/action-picker-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/picker-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/picker-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-bar/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-bar/search-bar-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-bar/search-bar-view.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__lodash_4_17_4[\\\"debounce\\\"]\"","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-bar/search-bar.scss?6af2","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-bar/search-bar.scss","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/search-results-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/search-results-actions.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/prop-types.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/search-results-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/scope-list/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/scope-list/scope-list-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/scope-list/scope-list-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-header/header-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-header/header-view.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-header/header.scss?b7c4","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-header/header.scss","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/scope-list/scope-list.scss?ec87","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/scope-list/scope-list.scss","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-description/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-description/description-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-description/description-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-link/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-link/link-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-link/link-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-link/link.scss?df78","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-link/link.scss","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__xss_1_0_6\"","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-description/description.scss?6ff7","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result-description/description.scss","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/result-list/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/result-list/result-list-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/result-list/result-list-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/generic-list/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/generic-list/list-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/generic-list/list.scss?2bc9","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/generic-list/list.scss","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/generic-list/list-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/results/result/result.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/lists/generic-list/list-actions.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__lodash_4_17_4[\\\"isEmpty\\\"]\"","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/search-results.scss?fa8f","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/search-results/search-results.scss","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/picker-header/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/picker-header/header-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/picker-header/header-view.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/picker-header/header.scss?e447","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/components/picker-header/header.scss","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/picker.scss?0801","webpack://__TECTONIC__sn_pd_picker/./src/pickers/generic-picker/picker.scss","webpack://__TECTONIC__sn_pd_picker/./src/behaviors/accessibility.js","webpack://__TECTONIC__sn_pd_picker/./src/action-handlers/rest-handlers.js","webpack://__TECTONIC__sn_pd_picker/external \"__TECTONIC__$servicenow_ui_effect_http\"","webpack://__TECTONIC__sn_pd_picker/./src/action-handlers/rest-response-handlers.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/activity-picker/index.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/activity-picker/activity-picker-element.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/activity-picker/activity-picker-view.js","webpack://__TECTONIC__sn_pd_picker/./src/pickers/main-picker-view.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","SEARCH_PLACEHOLDER","SEARCH_RESULTS_DEFAULT_DESCRIPTION","SELECT_SCOPE_DEFAULT_DESCRIPTION","SEARCH_RESULTS_DEFAULT_RESULT","DEFAULT_ARIA_LABEL","NO_RESULTS","SPOKES","SPOKE","HIDE","SHOW","CATEGORY","DEFAULT","IT","ACCESS_ACTIONS_FOR_SPOKE","INSTALL","INSTALLED","UNINSTALLED","NOT_INSTALLED","SERVICENOW_ICON","SCOPE_TYPES","NO_DESCRIPTION_AVAILABLE","CORE_SCOPE_LABEL","GLOBAL_SCOPE_ICON","ACTION_ICON","ESC_KEYCODE","TAB_KEYCODE","DOWN_ARROW_KEYCODE","UP_ARROW_KEYCODE","LEFT_ARROW_KEYCODE","RIGHT_ARROW_KEYCODE","ENTER_KEY_CODE","SEARCH_DELAY_MILLISECONDS","MINIMUM_INPUT_LENGTH","LIST_ITEM_MAX_RESULTS","LIST_ITEMS_TO_TRIM_ADD","TOOLTIP_DELAY_MILLISECONDS","PUBLISHED_ONLY","EXCLUDE_UNINSTALLED","IGNORE","GLOBAL_SCOPE_LABEL","INTEGRATION_HUB_SCOPE_LABEL","CORE_SCOPE","displayValue","logo","protectionPolicyReadOnly","scope","installed","SHOW_PICKER","SHOW_CREATE_ITEM","DEFAULT_TEXTS","INTEGRATION_HUB_SCOPE","description","SCOPE_LIST_CLASS","RESULT_LIST_CLASS","LIST_HEADER_SKIP_TAB_CLASS","LIST_INDEX_DATA_ATTR","ACTIVITY_PICKER","ACTION_PICKER","MAIN_PICKER","GENERIC_PICKER","COMPONENT_ID","SWITCH_FOCUS_TO_FIRST_SCOPE_REQUESTED","SWITCH_FOCUS_TO_FIRST_RESULT_REQUESTED","SWITCH_FOCUS_TO_PREVIOUS_CONTROL","SWITCH_FOCUS_CLOSE_PICKER_BUTTON","SWITCH_FOCUS_TO_SCOPE_REQUESTED","GET_NEXT_PAGE_SCOPES_REQUESTED","GET_NEXT_PAGE_SCOPES_SUCCEEDED","INITIATE_GET_RESULTS_BY_SCOPE","GET_RESULTS_BY_SCOPE_REQUESTED","GET_RESULTS_BY_SCOPE_SUCCEEDED","INITIAL_PICKER_DATA_FETCH_REQUESTED","PICKER_DATA_INITIAL_FETCH_SUCCEEDED","PICKER_FILTERED_FETCH_REQUESTED","INITIATE_GET_FILTERED_FETCH","PICKER_FILTERED_FETCH_SUCCEEDED","PICKER_DATA_FETCH_FAILED","PICKER_GET_NEXT_PAGE_REQUESTED","PICKER_UPDATE_RESULTS_CHUNK_REQUESTED","PICKER_RESULT_SELECTED","CATEGORY_LIST_HEADER_CLICKED","PICKER_DETERMINE_CHUNK_REQUESTED","RESET_PICKER","RESET_AND_DISMISS_PICKER","SHOW_FILTERED_DATA","SET_DESCRIPTION_REQUESTED","NAVIGATE_LIST_REQUESTED","SEARCH_FIELD_UPDATED","STORE_SEARCH_BAR_HOST","STORE_PICKER_HOST","STORE_CLOSE_PICKER_BUTTON_HOST","PICKER_DISMISSED","TOGGLE_SEARCH_BAR_FOCUS","PICKER_CREATE_ITEM_REQUESTED","FOCUS_CREATE_BUTTON","PROPERTIES_SET","LIST_FOCUSED","__TECTONIC__$servicenow_ui_core","createInitialDataStore","results","showStoreSpokes","isObjectWithValues","data","items","actions","hasActions","isArrayWithValues","map","item","resultsData","core","integrationsPluginActive","scopes","formatScopesToObject","createFilteredData","filteredResults","showIntegrationHub","updatedResults","scopeIds","hasCore","hasGlobal","result","systemLevel","includes","push","unshift","filter","filteredScopes","addCoreToFilteredIfAppropriate","state","filterBy","toLowerCase","indexOf","newResults","getScopesData","skipCore","nextScopesURL","_links","next","selectResultsAndScope","selectedScope","lookupResultsByScopeId","insertNewResultsInState","scopeId","Array","isArray","groupResultsByCategory","groupedResults","length","category","id","underlineSearchTerm","text","regex","RegExp","replace","span","document","createElement","innerHTML","outerHTML","truncateIfNeeded","string","maxLength","addQueryParamsToUrl","url","publishedActionsOnly","queryParams","queryString","join","toggleAllItemsProperty","itemGroup","allItems","updatedItems","keys","formattedScopes","querySelectorDeep","selector","rootEl","matches","childNodes","window","body","concat","shadowRoot","getSelectableProp","componentName","propName","componentIds","componentId","element","getAttribute","getSystemLogo","icon","useSourceMap","list","toString","this","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","__TECTONIC__lodash_4_17_4","__TECTONIC__sn_translate","handleComponentConnected","updateState","action","dispatch","pickerElement","host","gettingData","endpoint","switchFocusClosePickerButton","closePickerButtonHost","focusClosePickerButton","handleSwitchFocusToFirstScope","switchFocusToFirstScope","handleFocusCreateButton","properties","showCreateItem","searchBarHost","focusCreateButton","handelFocusPreviousControl","focusSearchBar","setSearchBarFocusState","createUpdateStateEffect","searchBarHasFocus","handleSwitchFocusToScope","eventTarget","switchFocusToScope","handleSearchFieldUpdated","searchBar","getInputFromSearchBarHost","baseUrl","setInitialState","isFiltered","clearAllResultsButCore","nextResultsURLsByScope","nextResultsURL","handleNavigateListRequested","eventKeyCode","navigateList","closePicker","showPicker","storeSearchBarHost","payload","storePickerHost","storeCloseButtonHost","__TECTONIC__$servicenow_ui_effect_update_state","getScopesChunk","whichChunk","Helpers","isNaN","getStartEndIndexes","indexToEnd","indexToStart","objectKeyArray","chunkedResults","isSelected","selected","consts","getResultsChunk","resultsChunk","slice","getPreviousNextURL","urls","shouldScopesInfiniteScroll","nextUrl","needToGetMore","haveTooMany","shouldResultsInfiniteScroll","isLastChunk","allResults","resultChunk","headingHost","closePickerButton","querySelector","focus","createButton","pickerHost","itemHost","itemOrHeaderHost","isMovingDown","itemToFocus","getNextActionableListItem","isResultList","offsetParent","className","firstChild","nodeName","parentList","listItem","parentNode","findParentList","dataset","dataAttributeToFind","listItems","findScopeList","querySelectorAll","currentScope","thisItem","scopeListShadowRoot","firstHeader","firstHeaderButton","firstScope","startingItem","nextSibling","nextItem","previousSibling","previousItem","nextElement","itemToFocusIsNotActionable","__TECTONIC__$servicenow_now_icon","__TECTONIC__$servicenow_now_button","determineChunk","resetScroll","newResetScrollState","behaviors","infiniteScroll","listElement","scrollTop","elementScrollTop","isScrollingDown","isNearingBottom","scrollHeight","isNearingTop","resultsChunkValue","newState","nextChunk","updateResultsChunk","initialState","actionHandlers","xssOptions","whiteList","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","font","footer","h1","h2","h3","h4","h5","h6","header","hr","img","ins","li","mark","nav","ol","pre","section","small","sub","sup","svg","strong","table","tag","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","onIgnoreTagAttr","isWhiteAttr","substr","filterXSS","escapeAttrValue","xssSanitize","stripHTML","html","tmpElement","textContent","innerText","__TECTONIC__$servicenow_now_loader","ACTION_API_URL","SEARCH_ACTIONS_PLACEHOLDER","INITIAL_ACTION_DATA_API","ACTIONS_BY_SCOPE_API","FILTER_ACTIONS_API","CREATE_NEW_ITEM_TEXT","ACTIONS_DIALOG_ARIA_LABEL","PICKER_HEADER_TEXT","dialogAriaLabel","searchBarPlaceholder","noData","navigationAriaLabel","noResults","noScopeSelected","createNewItemText","headerText","ActionTypes","DataHandlers","ResponseHandlers","restAPI","fetchPickerDataBasic","interceptors","after","context","effects","args","coeffects","fetchFilteredPickerData","fetchNextPageScopes","fetchResultsByScope","handleInitialPickerDataFetchSucceeded","handleFilteredFetchSucceeded","handleFailedFetch","handleGetNextPageScopesSucceeded","handleGetResultsByScopeSucceeded","effect","encodeURI","ActionHandlers","resetData","ACTIVITY_API_URL","SEARCH_ACTIVITIES_PLACEHOLDER","INITIAL_ACTIVITY_DATA_API","ACTIVITIES_BY_SCOPE_API","FILTER_ACTIVITIES_API","ACTIVITIES_DIALOG_ARIA_LABEL","createCustomElement","renderer","view","variant","default","nextResultsUrlsByScope","nextResultsUrl","nextScopesUrl","timeout","endpoints","initial","component-id","defaultTexts","COMPONENT_CONNECTED","actionTypes","defaultScope","initializing","showScopeHeaders","selectable","styles","accessibility","createRef","texts","getResultsByScope","apiUrl","fullUrl","handleItemSelected","sysId","label","role","ariaLabel","ref","placeholder","publishedResultsOnly","loading","onScopeSelect","onResultSelect","type","snabbdom","COMPONENT_DOM_READY","onCreateItem","size","auto-complete","auto-correct","auto-capitalize","spell-check","aria-placeholder","aria-label","on-input","leading","trailing","on-keydown","event","stopPropagation","keyCode","on-focus","on-blur","on-click","Actions","COMPONENT_PROPERTY_CHANGED","COMPONENT_DISCONNECTED","COMPONENT_BOOTSTRAPPED","selectedResult","currentResult","selectedResultsArray","formattedResults","storedNextUrl","fetchedMoreResults","focusedItem","shouldHandleScroll","setDescription","handleCategoryHeaderClicked","handleUpdates","setFilteredState","resetPicker","resetAndDismissPicker","setFocusToFirstResult","unsetFocus","setResultsAndScope","Props","updateProperties","group","groupToToggle","filteredResultsOfFirstScope","isEmpty","initialStateReset","IGNORE_UPDATE","isLoading","resetToCore","hasNoData","FILTERED_BY","previousValue","FILTERED_RESULTS_PROP","RESULT_PROP","dataWasLoaded","weSwitchedScopes","weClearedResults","selectedScopeId","selectedResults","getNextPage","selectedOrDefaultScope","selectScope","scopeValue","currentSelectedScope","switchFocusToFirstResult","currentResults","scopeResults","haveResultsAlready","updatedStoredNextURL","getDescription","itemOrEvent","itemKey","itemDescription","link","itemCategory","storeLink","resultId","desc","scopesToRender","filterTerm","scopesNeedInfiniteScroll","nextURL","showHeaders","noResultsMessage","resultsNeedInfiniteScroll","onFocus","onSelect","noDataMessage","renderResultList","scopesChunk","clearScopeSelection","listRef","hook-insert","elm","collapsible","groupedItems","onHeaderClick","groupedData","onSelectItem","target","keycode","onScroll","nextResultsChunk","hasNextResults","isItTheLastChunk","listClassName","defaultItem","ariaExpanded","hint","onClick","onKeyDown","headerRef","iconName","computed","shouldBeTabbable","thisTabIndex","handleOnKeyDown","preventDefault","shiftKey","headerClass","Fragment","target-ref","delay","tabIndex","title","aria-expanded","data-group","__TECTONIC__$servicenow_now_tooltip","descriptionToUse","dangerouslyCreateElementFromString","href","__TECTONIC__xss_1_0_6","chunk","navigateResultList","groupedResultsChunk","onHeaderKeyDown","onFocusItem","resultsObject","COMPONENT_TREE_RENDERED","onItemRender","resultRefs","focusItem","setRef","itemId","onRenderExtended","on-scroll","noResultsListItem","itemsToRender","listIndex","spokeKeys","isCollapsed","collapsed","headerAriaLabel","itemsLength","itemsInGroup","onLastChildRender","props","itemListIndex","itemDataIndex","itemClass","onRender","resultItem","createResult","renderListItems","badge","imageClass","selectedClass","classes","truncatedLabel","labelToUse","describedById","resultUniqueIdentifier","resultRef","onRenderResult","data-scope","aria-describedby","data-listindex","data-index","data-label","data-category","on-mouseover","src","firstResult","index","isFirstRender","tooltipContent","bare","configAria","button","level","__TECTONIC__$servicenow_now_heading","createHttpEffect","pathParams","successActionType","errorActionType","__TECTONIC__$servicenow_ui_effect_http","response","filteredData","ACTIVITY_API_TYPE","coreScope","filteredCoreScope","scopesWithUpdatedCoreLabel","filteredScopesWithUpdatedCoreLabel","renderPopup"],"mappings":"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","file":"sn-pd-picker.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","import {t} from 'sn-translate';\n\n//Translated strings\nexport const SEARCH_PLACEHOLDER = t('Search');\nexport const SEARCH_RESULTS_DEFAULT_DESCRIPTION = t('Please select an item to see its description');\nexport const SELECT_SCOPE_DEFAULT_DESCRIPTION = t('Select a scope to see options');\nexport const SEARCH_RESULTS_DEFAULT_RESULT = t('No results found');\nexport const DEFAULT_ARIA_LABEL = t('Use the down arrow key to navigate to the list of spokes. Use up and down arrow keys to navigate inside lists.');\nexport const NO_RESULTS = t('Nothing matches your filter');\nexport const SPOKES = t('spokes');\nexport const SPOKE = t('spoke');\nexport const HIDE = t('Hide');\nexport const SHOW = t('Show');\nexport const CATEGORY = t('Category');\nexport const DEFAULT = t('Default');\nexport const IT = t('it.');\nexport const ACCESS_ACTIONS_FOR_SPOKE = t('To access actions for this spoke, please');\nexport const INSTALL = t('install');\nexport const INSTALLED = t('Installed');\nexport const UNINSTALLED = t('Not Installed');\nexport const NOT_INSTALLED = t('Not Installed');\nexport const SCOPE_TYPES = {[INSTALLED]: t('Installed'), [UNINSTALLED]: NOT_INSTALLED};\nexport const NO_DESCRIPTION_AVAILABLE = t('No description available.');\n\n//Images\nexport const SERVICENOW_ICON = '/images/snow-icon-round.svg';\nexport const GLOBAL_SCOPE_ICON = '/images/icon-global-scope.svg';\nexport const ACTION_ICON = '/images/icon-action.svg';\n\n//Numeric values\nexport const ESC_KEYCODE = 27;\nexport const TAB_KEYCODE = 9;\nexport const DOWN_ARROW_KEYCODE = 40;\nexport const UP_ARROW_KEYCODE = 38;\nexport const LEFT_ARROW_KEYCODE = 37;\nexport const RIGHT_ARROW_KEYCODE = 39;\nexport const ENTER_KEY_CODE = 13;\nexport const SEARCH_DELAY_MILLISECONDS = 400;\nexport const MINIMUM_INPUT_LENGTH = 3;\nexport const LIST_ITEM_MAX_RESULTS = 500;\nexport const LIST_ITEMS_TO_TRIM_ADD = 40;\nexport const TOOLTIP_DELAY_MILLISECONDS = 500;\nexport const PUBLISHED_ONLY = 'include=published';\nexport const EXCLUDE_UNINSTALLED = 'excludeuninstalled=true';\nexport const IGNORE = 'ignore';\n\nexport const GLOBAL_SCOPE_LABEL = 'global';\nexport const CORE_SCOPE_LABEL = 'core';\nexport const CORE_SCOPE = {\n\tdisplayValue: t('ServiceNow Core'),\n\tlogo: '',\n\tprotectionPolicyReadOnly: true,\n\tscope: CORE_SCOPE_LABEL,\n\tvalue: CORE_SCOPE_LABEL,\n\tinstalled: true\n};\n\nexport const SHOW_PICKER = 'showPicker';\nexport const SHOW_CREATE_ITEM = 'showCreateItem';\nexport const DEFAULT_TEXTS = 'defaultTexts';\n\nexport const INTEGRATION_HUB_SCOPE_LABEL = 'IntegrationHub';\nexport const INTEGRATION_HUB_SCOPE = {\n\tdescription: '<p>'+ t('To add integrations with other systems the') + ' \"IntegrationHub\" ' + t('plugin is required.') +\n\t\t' <a id=\"read-more\" href=\"https://docs.servicenow.com/?context=CSHelp:IntegrationHub-Licensing\" target=\"_blank\">' + t('Read More') + '</a></p>' +\n\t\t'<p>IntegrationHub ' + t('includes the ability to build Integration Actions through Script and the REST Step. Additionally, it provides out of box content for') +\n\t\t'<ul>' +\n\t\t'<li>Slack</li>' +\n\t\t'<li>HipChat</li>' +\n\t\t'<li>Microsoft Teams</li>' +\n\t\t'<li>ServiceNow eBonding example</li>' +\n\t\t'<li>Microsoft Azure AD</li>' +\n\t\t'<li>Microsoft AD</li>' +\n\t\t'</ul>',\n\tdisplayValue: 'IntegrationHub',\n\tinstalled: false,\n\tlogo: SERVICENOW_ICON,\n\tscope: INTEGRATION_HUB_SCOPE_LABEL,\n\tvalue: INTEGRATION_HUB_SCOPE_LABEL,\n};\n\n\n// CSS Classes and Attributes\nexport const SCOPE_LIST_CLASS = 'scope';\nexport const RESULT_LIST_CLASS = 'result';\nexport const LIST_HEADER_SKIP_TAB_CLASS ='skip-tab';\nexport const LIST_INDEX_DATA_ATTR = 'data-index';\n\nexport const ACTIVITY_PICKER = 'activity-picker';\nexport const ACTION_PICKER = 'action-picker';\nexport const MAIN_PICKER = 'sn-pd-picker';\nexport const GENERIC_PICKER = 'sn-generic-picker';\nexport const COMPONENT_ID = 'component-id';\n\n","export const SWITCH_FOCUS_TO_FIRST_SCOPE_REQUESTED = 'PICKER#SWITCH_FOCUS_TO_FIRST_SCOPE_REQUESTED';\nexport const SWITCH_FOCUS_TO_FIRST_RESULT_REQUESTED = 'PICKER#SWITCH_FOCUS_TO_FIRST_RESULT_REQUESTED';\nexport const SWITCH_FOCUS_TO_PREVIOUS_CONTROL = 'PICKER#SWITCH_FOCUS_TO_PREVIOUS_CONTROL';\nexport const SWITCH_FOCUS_CLOSE_PICKER_BUTTON = 'PICKER#SWITCH_FOCUS_CLOSE_PICKER_BUTTON';\nexport const SWITCH_FOCUS_TO_SCOPE_REQUESTED = 'PICKER#SWITCH_FOCUS_TO_SCOPE_REQUESTED';\nexport const GET_NEXT_PAGE_SCOPES_REQUESTED = 'PICKER#GET_NEXT_PAGE_SCOPES_REQUESTED';\nexport const GET_NEXT_PAGE_SCOPES_SUCCEEDED = 'PICKER#GET_NEXT_PAGE_SCOPES_SUCCEEDED';\nexport const INITIATE_GET_RESULTS_BY_SCOPE = 'PICKER#INITIATE_GET_RESULTS_BY_SCOPE';\nexport const GET_RESULTS_BY_SCOPE_REQUESTED = 'PICKER#GET_RESULTS_BY_SCOPE_REQUESTED';\nexport const GET_RESULTS_BY_SCOPE_SUCCEEDED = 'PICKER#GET_RESULTS_BY_SCOPE_SUCCEEDED';\nexport const INITIAL_PICKER_DATA_FETCH_REQUESTED = 'PICKER#INITIAL_PICKER_DATA_FETCH_REQUESTED';\nexport const PICKER_DATA_INITIAL_FETCH_SUCCEEDED = 'PICKER#PICKER_DATA_INITIAL_FETCH_SUCCEEDED';\nexport const PICKER_FILTERED_FETCH_REQUESTED = 'PICKER#PICKER_FILTERED_FETCH_REQUESTED';\nexport const INITIATE_GET_FILTERED_FETCH = 'PICKER#INITIATE_GET_FILTERED_FETCH';\nexport const PICKER_FILTERED_FETCH_SUCCEEDED = 'PICKER#PICKER_FILTERED_FETCH_SUCCEEDED';\nexport const PICKER_DATA_FETCH_FAILED = 'PICKER#PICKER_DATA_FETCH_FAILED';\nexport const PICKER_GET_NEXT_PAGE_REQUESTED = 'PICKER#PICKER_GET_NEXT_PAGE_REQUESTED';\nexport const PICKER_UPDATE_RESULTS_CHUNK_REQUESTED = 'PICKER#PICKER_UPDATE_RESULTS_CHUNK_REQUESTED';\nexport const PICKER_RESULT_SELECTED = 'PICKER#PICKER_RESULT_SELECTED';\nexport const CATEGORY_LIST_HEADER_CLICKED = 'PICKER#CATEGORY_LIST_HEADER_CLICKED';\nexport const PICKER_DETERMINE_CHUNK_REQUESTED = 'PICKER#PICKER_DETERMINE_CHUNK_REQUESTED';\nexport const RESET_PICKER = 'PICKER#RESET_PICKER';\nexport const RESET_AND_DISMISS_PICKER = 'PICKER#RESET_AND_DISMISS_PICKER';\nexport const SHOW_FILTERED_DATA = 'PICKER#SHOW_FILTERED_DATA';\nexport const SET_DESCRIPTION_REQUESTED = 'PICKER#SET_DESCRIPTION_REQUESTED';\nexport const NAVIGATE_LIST_REQUESTED = 'PICKER#NAVIGATE_LIST_REQUESTED';\nexport const SEARCH_FIELD_UPDATED = 'PICKER#SEARCH_FIELD_UPDATED';\nexport const STORE_SEARCH_BAR_HOST = 'PICKER#STORE_SEARCH_BAR_HOST';\nexport const STORE_PICKER_HOST = 'PICKER#STORE_PICKER_HOST';\nexport const STORE_CLOSE_PICKER_BUTTON_HOST = 'PICKER#STORE_CLOSE_PICKER_BUTTON_HOST';\nexport const PICKER_DISMISSED = 'PICKER#PICKER_DISMISSED';\nexport const TOGGLE_SEARCH_BAR_FOCUS = 'PICKER#TOGGLE_SEARCH_BAR_FOCUS';\nexport const PICKER_CREATE_ITEM_REQUESTED = 'PICKER#PICKER_CREATE_ITEM_REQUESTED';\nexport const FOCUS_CREATE_BUTTON = 'PICKER#FOCUS_CREATE_BUTTON';\nexport const PROPERTIES_SET = 'PROPERTIES_SET';\nexport const LIST_FOCUSED = 'PICKER#LIST_FOCUSED';\n\n","module.exports = __TECTONIC__$servicenow_ui_core;","import {\n\tCORE_SCOPE,\n\tCORE_SCOPE_LABEL,\n\tGLOBAL_SCOPE_LABEL,\n\tINTEGRATION_HUB_SCOPE,\n\tINTEGRATION_HUB_SCOPE_LABEL,\n\tPUBLISHED_ONLY,\n\tEXCLUDE_UNINSTALLED,\n\tIGNORE,\n\tCOMPONENT_ID, GLOBAL_SCOPE_ICON, SERVICENOW_ICON, ACTION_ICON\n} from '../constants/app-constants';\n\nimport truncate from 'lodash/truncate';\n\n/*\n * Formats the initial API call for core actions and scopes when the action picker loads\n */\nexport function createInitialDataStore(results, showStoreSpokes) {\n\tif (isObjectWithValues(results)) {\n\t\tconst data = results.data || results;\n\t\tlet items = data.actions || data.results; // actions for legacy action picker API\n\t\tconst hasActions = isArrayWithValues(items);\n\t\tif (hasActions)\n\t\t\titems = items.map(item => {\n\t\t\t\titem.scope = CORE_SCOPE_LABEL;\n\t\t\t\treturn item;\n\t\t\t});\n\n\t\tconst resultsData = hasActions ? {core: items} : {};\n\t\tconst integrationsPluginActive = !!results.integrationsPluginActive;\n\n\t\tconst newData = {\n\t\t\tresults: resultsData,\n\t\t\tscopes: formatScopesToObject(data.scopes, showStoreSpokes, !hasActions, integrationsPluginActive) || {},\n\t\t};\n\n\t\treturn newData;\n\t}\n\n\treturn {\n\t\tscopes: {},\n\t\tresults: {}\n\t};\n}\n\n/*\n * Massages filtered data results. Groups filtered actions by scope.  The core scope is something we drive.\n * Core actions are a subset of globally scoped actions that are marked as system. We must add extra logic\n * to handle this.\n */\nexport function createFilteredData(filteredResults, showStoreSpokes) {\n\tif (isObjectWithValues(filteredResults)) {\n\t\tconst results = filteredResults.actions || filteredResults.results;\n\t\tconst showIntegrationHub = filteredResults.hasOwnProperty('integrationsPluginActive') ?\n\t\t\tfilteredResults.integrationsPluginActive : true; // do not show by default\n\t\tlet scopes = [...filteredResults.scopes];\n\t\tlet updatedResults = {};\n\t\tlet scopeIds = [];\n\t\tlet hasCore = false;\n\t\tlet hasGlobal = false;\n\n\t\tfor (let key in results) {\n\t\t\tconst result = results[key];\n\t\t\tlet scope = result.scope;\n\n\t\t\tif ((scope === GLOBAL_SCOPE_LABEL && result.systemLevel) || scope === CORE_SCOPE_LABEL) {\n\t\t\t\tscope = CORE_SCOPE_LABEL;\n\t\t\t\thasCore = true;\n\t\t\t}\n\n\t\t\tif (scope === GLOBAL_SCOPE_LABEL && !result.systemLevel)\n\t\t\t\thasGlobal = true;\n\n\t\t\tif (scopeIds.includes(scope))\n\t\t\t\tupdatedResults[scope].push(result);\n\t\t\telse {\n\t\t\t\tscopeIds.push(scope);\n\t\t\t\tupdatedResults[scope] = [result];\n\t\t\t}\n\t\t}\n\n\t\t// The API performs logic to label actions as core, but we need to inject the scope.\n\t\tif (hasCore)\n\t\t\tscopes.unshift(CORE_SCOPE);\n\n\t\t// The API does not have a core scope.  It will always return the global scope for care actions.\n\t\tif (!hasGlobal && hasCore)\n\t\t\tscopes = scopes.filter(scope => {\n\t\t\t\treturn scope.value !== GLOBAL_SCOPE_LABEL;\n\t\t\t});\n\n\t\treturn {\n\t\t\tfilteredScopes: formatScopesToObject(scopes, showStoreSpokes,true, showIntegrationHub),\n\t\t\tfilteredResults: updatedResults,\n\t\t\tintegrationsPluginActive: showIntegrationHub\n\t\t};\n\t}\n\n\treturn {\n\t\tfilteredScopes: {},\n\t\tfilteredResults: {},\n\t\tintegrationsPluginActive: false\n\t};\n}\n\n\n/*\n\tIf the user filters on a term matching \"ServiceNow Core\", we want to splice core actions/scope\n\tinto the results. We need to handle this on the frontend because the backend has no concept of\n\tServiceNow Core\n*/\nexport function addCoreToFilteredIfAppropriate(filteredResults, state, filterBy) {\n\tif (!filterBy || !isObjectWithValues(filteredResults))\n\t\treturn filteredResults;\n\n\tif (CORE_SCOPE.displayValue.toLowerCase().indexOf(filterBy.toLowerCase()) === -1)\n\t\treturn filteredResults;\n\n\t// Copy our input; keep it immutable\n\tconst newResults = {...filteredResults};\n\n\tnewResults.filteredScopes = {\n\t\t[CORE_SCOPE_LABEL]: state.scopes[CORE_SCOPE_LABEL],\n\t\t...newResults.filteredScopes\n\t};\n\n\tnewResults.filteredResults = {\n\t\t[CORE_SCOPE_LABEL]: state.results[CORE_SCOPE_LABEL],\n\t\t...newResults.filteredResults\n\t};\n\n\treturn newResults;\n}\n\nexport function getScopesData(results, showStoreSpokes, skipCore = true) {\n\tif (results && results.value && results.value.data) {\n\t\treturn {\n\t\t\tscopes: formatScopesToObject(results.value.data.scopes, showStoreSpokes, skipCore) || {},\n\t\t\tnextScopesURL: results._links && results._links.next ? results._links.next : null\n\t\t};\n\t}\n\n\treturn {\n\t\tscopes: {},\n\t\tnextScopesURL: null\n\t};\n}\n\nexport function selectResultsAndScope(selectedScope, scopes, items) {\n\tlet results = {};\n\tlet scope = null;\n\n\tif (isObjectWithValues(selectedScope)) {\n\t\tresults = lookupResultsByScopeId(items, selectedScope.value);\n\t\tscope = selectedScope;\n\t} else if (isObjectWithValues(scopes)) {\n\t\tresults = lookupResultsByScopeId(items, CORE_SCOPE.value);\n\t\tscope = scopes['core'];\n\t}\n\n\treturn {results, scope};\n}\n\nexport function insertNewResultsInState(items, scopeId, results) {\n\tlet newResults = {...items};\n\n\tnewResults[scopeId] = Array.isArray(results) ? results : [];\n\n\treturn newResults;\n}\n\nexport function lookupResultsByScopeId(results, scopeId) {\n\tif (!results || !scopeId || !results.hasOwnProperty(scopeId))\n\t\treturn [];\n\n\treturn results[scopeId];\n}\n\nexport function isObjectWithValues(item) {\n\treturn !!(item && typeof item === 'object' && Object.keys(item).length > 0 && !Array.isArray(item));\n}\n\nexport function isArrayWithValues(item) {\n\treturn !!(item && Array.isArray(item) && item.length);\n}\n\n\nexport function groupResultsByCategory(results) {\n\tlet groupedResults = {};\n\n\tif (!Array.isArray(results))\n\t\treturn groupedResults;\n\n\tfor (let i = 0; results.length > i; i++) {\n\t\tconst category = results[i].category || 'Default';\n\t\tif (!groupedResults.hasOwnProperty(category))\n\t\t\tgroupedResults[category] = {};\n\n\t\tif (results[i].hasOwnProperty('id'))\n\t\t\tgroupedResults[category][results[i].id] = results[i];\n\t}\n\n\treturn groupedResults;\n}\n\nexport function formatScopesToObject(scopes, showStoreSpokes, skipCore = false, integrationsPluginActive = false) {\n\tlet formattedScopes = {};\n\n\tif (!Array.isArray(scopes))\n\t\treturn formattedScopes;\n\n\tif (!skipCore)\n\t\tformattedScopes[CORE_SCOPE.value] = CORE_SCOPE;\n\n\tfor (let i = 0; scopes.length > i; i++) {\n\t\tlet scope = {...scopes[i]};\n\n\t\tformattedScopes[scopes[i].value] = scope;\n\t}\n\n\tif (!integrationsPluginActive && showStoreSpokes)\n\t\tformattedScopes[INTEGRATION_HUB_SCOPE_LABEL] = INTEGRATION_HUB_SCOPE;\n\n\treturn formattedScopes;\n}\n\nexport function underlineSearchTerm(filter, text) {\n\tif (!text)\n\t\treturn;\n\n\tif (!filter)\n\t\treturn text;\n\n\tconst regex = new RegExp(filter, 'ig');\n\tconst result = text.replace(regex, '<u>$&</u>');\n\tconst span = document.createElement('SPAN');\n\tspan.innerHTML = result;\n\treturn span.outerHTML;\n}\n\nexport function truncateIfNeeded(string, maxLength) {\n\treturn truncate(string, {\n\t\t'length': maxLength,\n\t\t'separator': '...'\n\t});\n}\n\nexport function addQueryParamsToUrl(url, publishedActionsOnly, showStoreSpokes) {\n\tif (!url)\n\t\treturn '';\n\n\tlet queryParams = [];\n\tlet queryString = '';\n\n\tif (publishedActionsOnly)\n\t\tqueryParams.push(PUBLISHED_ONLY);\n\n\tif (!showStoreSpokes && showStoreSpokes !== IGNORE)\n\t\tqueryParams.push(EXCLUDE_UNINSTALLED);\n\n\tif (queryParams.length)\n\t\tqueryString = ('?' + queryParams.join('&'));\n\n\treturn url + queryString;\n}\n\nexport function toggleAllItemsProperty(property, itemGroup, allItems) {\n\tif (!property)\n\t\treturn allItems;\n\n\tlet updatedItems = {...allItems};\n\n\tif (isObjectWithValues(itemGroup)) {\n\t\tfor (let key in itemGroup) {\n\t\t\tlet item = {...updatedItems[key]};\n\t\t\titem[property] = !item[property];\n\n\t\t\tupdatedItems[key] = {...item};\n\t\t}\n\n\t\treturn updatedItems;\n\t}\n\n\treturn allItems;\n}\n\n\n/**\n * Similar to document.querySelector, but searches inside shadow roots as well\n *\n * @param {String} selector - a valid CSS selector\n * @param {Node} [rootEl=window.document.body] - Root element to start traversing down from\n * @return {HTMLElement[]} - an array of nodes\n * */\nexport const querySelectorDeep = (selector, rootEl) => {\n\trootEl = rootEl || window.document.body;\n\tlet matches = [];\n\tconst childNodes = rootEl.childNodes;\n\tfor (let i = 0; i < childNodes.length; i++) {\n\t\tmatches = matches.concat(querySelectorDeep(selector, childNodes[i]));\n\t\tif (childNodes[i].matches && childNodes[i].matches(selector))\n\t\t\tmatches.push(childNodes[i]);\n\t}\n\n\tif (rootEl.shadowRoot)\n\t\tmatches = matches.concat(querySelectorDeep(selector, rootEl.shadowRoot));\n\n\treturn matches;\n};\n\n/**\n * This utility function is being provided to work around the fact that we don't want to make any metadata\n * changes for defining selectable properties on components. As a result on the first component bootstrap, we will\n * manually get the component id from the component the implementor cares about and create the selectable property string\n * and apply it to the component.\n *\n * Usage:\n * getSelectableProp('sn-portal-root', 'selectedContent');\n *\n * Returns:\n * '@[component-id of layout]/tabsData'\n *\n * @param componentName\n * @param propName\n * @returns {*}\n */\nexport const getSelectableProp = (componentName, propName) => {\n\tlet componentIds = {};\n\tlet componentId = componentIds[componentName] || null;\n\n\tif (!componentId) {\n\t\tconst element = querySelectorDeep(componentName);\n\t\tif (!element.length)\n\t\t\treturn {};\n\n\t\tcomponentId = element[0].getAttribute(COMPONENT_ID);\n\t\tcomponentIds[componentName] = componentId;\n\t}\n\n\treturn `@${componentId}/${propName}`;\n};\n\n/*\n * Get a system logo.  If you want a custom logo, this is not where to get it. Is looking for logo cause\n * scopes have a logo prop and actions/activities do not\n */\nexport const getSystemLogo = (result) => {\n\tif (!result)\n\t\treturn;\n\n\tlet icon = ACTION_ICON;\n\tif (result.hasOwnProperty('logo'))\n\t\ticon = result.scope === GLOBAL_SCOPE_LABEL ? GLOBAL_SCOPE_ICON : SERVICENOW_ICON;\n\n\treturn icon;\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","module.exports = __TECTONIC__sn_translate;","import {\n\tnavigateList,\n\tswitchFocusToFirstScope,\n\tfocusSearchBar,\n\tgetInputFromSearchBarHost,\n\tswitchFocusToScope, focusCreateButton, focusClosePickerButton\n} from '../utils/accessibility-helpers';\nimport {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {\n\tINITIAL_PICKER_DATA_FETCH_REQUESTED,\n\tINITIATE_GET_FILTERED_FETCH,\n\tRESET_PICKER,\n\tSTORE_PICKER_HOST\n} from '../constants/action-types';\nimport {IGNORE, MINIMUM_INPUT_LENGTH} from '../constants/app-constants';\nimport get from 'lodash/get';\nimport {addQueryParamsToUrl} from '../utils/helper-functions';\n\nexport const handleComponentConnected = ({state, updateState, action, dispatch}) => {\n\tconst pickerElement = get(action, 'payload.host', {});\n\n\tif (pickerElement)\n\t\tdispatch(STORE_PICKER_HOST, {host: pickerElement});\n\n\tupdateState({gettingData: true});\n\n\tconst endpoint = get(state, 'properties.endpoints.initial');\n\tconst publishedActionsOnly = get(state, 'properties.publishedActionsOnly', false);\n\tconst showStoreSpokes = get(state, 'properties.showStoreSpokes', IGNORE);\n\tconst url = addQueryParamsToUrl(endpoint, publishedActionsOnly, showStoreSpokes);\n\n\tdispatch(INITIAL_PICKER_DATA_FETCH_REQUESTED, {url});\n};\n\nexport const switchFocusClosePickerButton = ({state}) => {\n\tconst closePickerButtonHost = get(state, 'closePickerButtonHost', {});\n\tfocusClosePickerButton(closePickerButtonHost);\n};\n\nexport const handleSwitchFocusToFirstScope = ({state}) => {\n\tconst pickerElement = get(state, 'pickerElement', {});\n\tswitchFocusToFirstScope(pickerElement);\n};\n\nexport const handleFocusCreateButton = ({state, properties}) => {\n\tconst showCreateItem = get(properties, 'showCreateItem');\n\tconst searchBarHost = get(state, 'searchBarHost', {});\n\n\tif (showCreateItem)\n\t\tfocusCreateButton(searchBarHost);\n};\n\nexport const handelFocusPreviousControl = ({state, properties}) => {\n\tconst showCreateItem = get(properties, 'showCreateItem');\n\tconst searchBarHost = get(state, 'searchBarHost', {});\n\n\tif (showCreateItem)\n\t\tfocusCreateButton(searchBarHost);\n\telse\n\t\tfocusSearchBar(searchBarHost);\n};\n\nexport const setSearchBarFocusState = createUpdateStateEffect((state, action) => {\n\tconst searchBarHasFocus = get(action, 'payload.focus');\n\n\treturn {\n\t\t...state,\n\t\tsearchBarHasFocus\n\t};\n});\n\nexport const handleSwitchFocusToScope = ({state, action}) => {\n\tconst eventTarget = get(action, 'payload.eventTarget', {});\n\tconst pickerElement = get(state, 'pickerElement', {});\n\tswitchFocusToScope(eventTarget, pickerElement);\n};\n\nexport const handleSearchFieldUpdated = ({state, dispatch, properties}) => {\n\tconst searchBar = getInputFromSearchBarHost(state.searchBarHost);\n\tconst filterBy = searchBar && searchBar.value;\n\n\tconst endpoint = get(properties, 'endpoints.filter');\n\tconst publishedActionsOnly = get(properties, 'publishedActionsOnly', false);\n\tconst showStoreSpokes = get(properties, 'showStoreSpokes', false);\n\tconst baseUrl = endpoint + filterBy;\n\tconst url = addQueryParamsToUrl(baseUrl, publishedActionsOnly, showStoreSpokes);\n\n\tif (!filterBy || filterBy.length < MINIMUM_INPUT_LENGTH)\n\t\tdispatch(RESET_PICKER);\n\telse\n\t\tdispatch(INITIATE_GET_FILTERED_FETCH, {url, filterBy});\n};\n\nexport const setInitialState = createUpdateStateEffect((state) => {\n\treturn {\n\t\t...state,\n\t\tisFiltered: false,\n\t\tfilterBy: '',\n\t\tfilteredResults: {},\n\t\tfilteredScopes: {}\n\t};\n});\n\nexport const clearAllResultsButCore = ({state, updateState}) => {\n\tupdateState({\n\t\t...state,\n\t\tisFiltered: false,\n\t\tfilterBy: '',\n\t\tfilteredResults: {},\n\t\tfilteredScopes: {},\n\t\tnextResultsURLsByScope: {},\n\t\tnextResultsURL: '',\n\t\tresults: {core: get(state, 'results.core', [])}\n\t});\n};\n\nexport const handleNavigateListRequested = ({state, action}) => {\n\tconst pickerElement = get(state, 'pickerElement', '');\n\tconst searchBarHost = get(state, 'searchBarHost', '');\n\tconst eventTarget = get(action, 'payload.target', {});\n\tconst eventKeyCode = get(action, 'payload.keyCode', '');\n\tnavigateList(eventTarget, eventKeyCode, pickerElement, searchBarHost);\n};\n\nexport const closePicker = createUpdateStateEffect((state) => {\n\treturn {...state, properties: {showPicker: false}};\n});\n\nexport const storeSearchBarHost = createUpdateStateEffect((state, action) => {\n\treturn {...state, searchBarHost: action.payload.host};\n});\n\nexport const storePickerHost = createUpdateStateEffect((state, action) => {\n\treturn {...state, pickerElement: action.payload.host};\n});\n\nexport const storeCloseButtonHost = ({action: {payload: {host}}, updateState}) => {\n\tupdateState({\n\t\tclosePickerButtonHost: host\n\t});\n};\n","module.exports = __TECTONIC__$servicenow_ui_effect_update_state;","import * as Helpers from './helper-functions';\nimport * as consts from '../constants/app-constants';\n\nexport function getScopesChunk(scopes, whichChunk, selectedScope) {\n\tif (!Helpers.isObjectWithValues(scopes))\n\t\treturn {};\n\n\tif (isNaN(whichChunk) || typeof whichChunk === 'boolean')\n\t\treturn scopes;\n\n\tconst {indexToEnd, indexToStart} = getStartEndIndexes(whichChunk);\n\n\tconst objectKeyArray = Object.keys(scopes);\n\tlet chunkedResults = {};\n\n\tfor (let i = indexToStart; i < indexToEnd; i++) {\n\t\tlet scopeId = objectKeyArray[i];\n\t\tif (scopeId) {\n\t\t\tconst isSelected = selectedScope ? selectedScope.value === scopeId : i === indexToStart;\n\t\t\tconst scope = {...scopes[scopeId], selected: isSelected};\n\n\t\t\tconst category = scope.installed ? consts.INSTALLED : consts.UNINSTALLED;\n\n\t\t\tif (!chunkedResults.hasOwnProperty(category))\n\t\t\t\tchunkedResults[category] = {};\n\n\t\t\tchunkedResults[category][scopeId] = scope;\n\t\t}\n\t}\n\n\treturn chunkedResults;\n}\n\nexport function getResultsChunk(results, whichChunk) {\n\tif (!Array.isArray(results))\n\t\treturn {};\n\n\tif (isNaN(whichChunk) || typeof whichChunk === 'boolean')\n\t\treturn Helpers.groupResultsByCategory(results);\n\n\tconst {indexToEnd, indexToStart} = getStartEndIndexes(whichChunk);\n\tconst resultsChunk = results.slice(indexToStart, indexToEnd);\n\n\treturn Helpers.groupResultsByCategory(resultsChunk);\n}\n\nexport function getStartEndIndexes(whichChunk) {\n\tif (isNaN(whichChunk))\n\t\treturn {};\n\n\tconst indexToEnd = whichChunk ? (whichChunk * consts.LIST_ITEMS_TO_TRIM_ADD) + consts.LIST_ITEM_MAX_RESULTS :\n\t\tconsts.LIST_ITEM_MAX_RESULTS;\n\tconst indexToStart = indexToEnd > consts.LIST_ITEM_MAX_RESULTS ? indexToEnd - consts.LIST_ITEM_MAX_RESULTS : 0;\n\n\treturn {indexToEnd, indexToStart};\n}\n\nexport const isLastChunk = (allResults, resultChunk) => {\n\tif (!Helpers.isObjectWithValues(allResults) || !Helpers.isObjectWithValues(resultChunk))\n\t\treturn true;\n\n\tconst lastInCurrent = Object.keys(allResults)[Object.keys(allResults).length - 1];\n\tconst lastInChunk = Object.keys(resultChunk)[Object.keys(resultChunk).length - 1];\n\n\treturn lastInCurrent === lastInChunk;\n};\n\nexport function getPreviousNextURL(urls, scope) {\n\tif (!Helpers.isObjectWithValues(urls) || !scope)\n\t\treturn null;\n\n\treturn urls[scope];\n}\n\n/*\n * Infinite scroll should be implemented if there are more to call or if the results list\n * exceeds the maximum to display in a list\n */\nexport function shouldScopesInfiniteScroll(scopes, nextUrl) {\n\tif (!Helpers.isObjectWithValues(scopes))\n\t\treturn false;\n\n\tconst needToGetMore = !!(!(Object.keys(scopes).length < consts.LIST_ITEM_MAX_RESULTS) && nextUrl);\n\tconst haveTooMany = Object.keys(scopes).length > consts.LIST_ITEM_MAX_RESULTS;\n\n\treturn needToGetMore || haveTooMany;\n}\n\nexport function shouldResultsInfiniteScroll(results, nextUrl) {\n\tif (!Array.isArray(results))\n\t\treturn false;\n\n\tconst needToGetMore = !!(!(results.length < consts.LIST_ITEM_MAX_RESULTS) && nextUrl);\n\tconst haveTooMany = results.length > consts.LIST_ITEM_MAX_RESULTS;\n\n\treturn needToGetMore || haveTooMany;\n}\n","import './header-element';\n","import get from 'lodash/get';\nimport {\n\tDOWN_ARROW_KEYCODE,\n\tRESULT_LIST_CLASS,\n\tLIST_INDEX_DATA_ATTR,\n\tLIST_HEADER_SKIP_TAB_CLASS\n} from '../constants/app-constants';\n\nexport function getInputFromSearchBarHost(searchBarHost) {\n\treturn searchBarHost.shadowRoot.querySelector('input');\n}\n\nexport function focusSearchBar(searchBarHost) {\n\tconst searchBar = getInputFromSearchBarHost(searchBarHost);\n\n\tif (searchBar)\n\t\tsearchBar.focus();\n}\n\nexport function focusClosePickerButton(headingHost) {\n\tconst closePickerButton = headingHost.shadowRoot.querySelector('now-button-iconic');\n\n\tif (closePickerButton)\n\t\tclosePickerButton.focus();\n}\n\nexport function focusCreateButton(searchBarHost) {\n\tconst createButton = searchBarHost.shadowRoot.querySelector('now-button').shadowRoot.querySelector('button');\n\n\tif (createButton)\n\t\tcreateButton.focus();\n}\n\nexport const findScopeList = (pickerHost) => {\n\tif (!pickerHost)\n\t\treturn;\n\n\tconst pickerShadowRoot = pickerHost.shadowRoot;\n\tconst searchResultsShadowRoot = pickerShadowRoot.querySelector('sn-pd-picker-search-results').shadowRoot;\n\tconst scopeListShadowRoot = searchResultsShadowRoot.querySelector('sn-pd-picker-scope-list').shadowRoot;\n\treturn scopeListShadowRoot.querySelector('sn-pd-picker-list');\n};\n\nexport const switchFocusToFirstScope = (pickerHost) => {\n\tif (!pickerHost)\n\t\treturn;\n\n\tconst scopeList = findScopeList(pickerHost);\n\tconst scopeListShadowRoot = scopeList.shadowRoot;\n\tconst firstHeader = scopeListShadowRoot.querySelector('sn-pd-picker-result-header');\n\n\tif (firstHeader) {\n\t\tconst firstHeaderButton = firstHeader.shadowRoot.querySelector('button');\n\t\tfirstHeaderButton && firstHeaderButton.focus();\n\t\treturn;\n\t}\n\n\tconst firstScope = scopeListShadowRoot.querySelector('ul.list.scope .result-item button');\n\n\tfirstScope && firstScope.focus();\n};\n\nexport function navigateList(eventTarget, eventKeyCode, pickerHost, searchBarHost) {\n\tconst itemHost = eventTarget;\n\tconst itemOrHeaderHost = itemHost ? itemHost : get(eventTarget, 'parentNode.host', null);\n\tconst isMovingDown = eventKeyCode === DOWN_ARROW_KEYCODE;\n\tconst itemToFocus = getNextActionableListItem(itemOrHeaderHost, isMovingDown);\n\tconst isResultList = itemOrHeaderHost.offsetParent.className.includes(RESULT_LIST_CLASS);\n\n\tif (itemToFocus) {\n\t\tif (itemToFocus.firstChild && itemToFocus.firstChild.nodeName === 'BUTTON')\n\t\t\titemToFocus.firstChild.focus();\n\t\telse if (itemToFocus.firstChild.nodeName === 'SPAN')\n\t\t\titemToFocus.focus();\n\t} else if (!itemToFocus && !isMovingDown && !isResultList)\n\t\tfocusSearchBar(searchBarHost);\n}\n\nexport function getNextActionableListItem(startingItem, isMovingDown) {\n\tconst nextSibling = get(startingItem, 'parentNode.parentNode.nextSibling') || get(startingItem, 'nextSibling');\n\tconst nextItem = nextSibling && (nextSibling.querySelector('li') || nextSibling.shadowRoot.querySelector('li'));\n\tconst previousSibling = get(startingItem, 'parentNode.parentNode.previousSibling') || get(startingItem, 'previousSibling');\n\tconst previousItem = previousSibling && (previousSibling.querySelector('li') || previousSibling.shadowRoot.querySelector('li'));\n\tconst itemToFocus = isMovingDown ? nextItem : previousItem;\n\tconst nextElement = isMovingDown ? nextSibling : previousSibling;\n\tlet itemToFocusIsNotActionable = itemToFocus && itemToFocus.className.includes(LIST_HEADER_SKIP_TAB_CLASS);\n\n\tif (itemToFocus && itemToFocusIsNotActionable)\n\t\treturn getNextActionableListItem(nextElement, isMovingDown);\n\n\treturn itemToFocus;\n}\n\nexport function switchFocusToScope(eventTarget, pickerHost) {\n\tconst parentList = findParentList(eventTarget);\n\n\tif (parentList) {\n\t\tconst listClass = parentList.className;\n\n\t\tif (listClass.includes(RESULT_LIST_CLASS)) {\n\t\t\tconst scope = eventTarget.dataset.scope;\n\t\t\tconst dataAttributeToFind = 'button[' + LIST_INDEX_DATA_ATTR + '=\"' + scope + '\"]';\n\t\t\tconst scopeList = findScopeList(pickerHost);\n\t\t\tconst scopeListShadowRoot = scopeList.shadowRoot;\n\t\t\tconst scopeListList = scopeListShadowRoot.querySelector('ul.list.scope');\n\t\t\tconst listItems = scopeListList.querySelectorAll('.result-item');\n\t\t\tlet currentScope = null;\n\n\t\t\tfor (let item in listItems) {\n\t\t\t\tconst thisItem = listItems[item];\n\t\t\t\tcurrentScope = thisItem.querySelector(dataAttributeToFind);\n\t\t\t\tif (currentScope)\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (currentScope)\n\t\t\t\tcurrentScope.focus();\n\t\t}\n\t}\n}\n\nfunction findParentList(element) {\n\tconst listItem = element.parentNode;\n\tlet parentList = null;\n\n\tif (listItem && listItem.nodeName === 'LI')\n\t\tparentList = listItem.offsetParent;\n\n\treturn parentList;\n}\n","import './picker-element';\n","module.exports = __TECTONIC__$servicenow_now_icon;","module.exports = __TECTONIC__$servicenow_now_button;","module.exports = __TECTONIC__lodash_4_17_4;","import {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {PICKER_DETERMINE_CHUNK_REQUESTED, PICKER_UPDATE_RESULTS_CHUNK_REQUESTED} from '../constants/action-types';\nimport get from 'lodash/get';\n\nconst determineChunk = createUpdateStateEffect((state, action) => {\n\tconst resetScroll = get(state, 'behaviors.infiniteScroll.resetScroll', false);\n\tconst newResetScrollState = {\n\t\tbehaviors: {\n\t\t\tinfiniteScroll: {\n\t\t\t\tresetScroll: false,\n\t\t\t\t...state.behaviors.infiniteScroll\n\t\t\t}\n\t\t}\n\t};\n\n\tif (resetScroll)\n\t\treturn {...state, ...newResetScrollState};\n\n\tconst element = get(action, 'payload.element', '');\n\tconst listElement = element && element.shadowRoot.querySelector('ul');\n\tconst scrollTop = get(state, 'behaviors.infiniteScroll.scrollTop', 0);\n\tconst resultsChunk = get(state, 'behaviors.infiniteScroll.resultsChunk', 0);\n\tconst elementScrollTop = listElement && listElement.scrollTop;\n\tconst isScrollingDown = elementScrollTop > scrollTop;\n\tconst isNearingBottom = isScrollingDown && listElement.scrollHeight * .7 < elementScrollTop;\n\tconst isNearingTop = !isScrollingDown && elementScrollTop < listElement.scrollHeight * .3;\n\tconst isAtTop = elementScrollTop === 0;\n\n\tlet resultsChunkValue = null;\n\tif (isNearingBottom)\n\t\tresultsChunkValue = resultsChunk + 1;\n\telse if (isNearingTop)\n\t\tresultsChunkValue = resultsChunk - 1;\n\n\tif (isAtTop)\n\t\tresultsChunkValue = 0;\n\n\tconst newState = {\n\t\tnextChunk: resultsChunkValue,\n\t\tisNearingBottom,\n\t\tbehaviors: {\n\t\t\tinfiniteScroll: {\n\t\t\t\tnextChunk: resultsChunkValue,\n\t\t\t\tscrollTop: elementScrollTop,\n\t\t\t\tisScrollingDown,\n\t\t\t\t...state.behaviors.infiniteScroll\n\t\t\t}\n\t\t}\n\t};\n\n\treturn {\n\t\t...state,\n\t\t...newState\n\t};\n\n});\n\nconst updateResultsChunk = createUpdateStateEffect((state, action) => {\n\tconst resultsChunk = get(action, 'payload.nextChunk', {});\n\tconst newState = {\n\t\tbehaviors: {\n\t\t\tinfiniteScroll: {\n\t\t\t\tresetScroll: true,\n\t\t\t\tresultsChunk,\n\t\t\t\t...state.behaviors.infiniteScroll\n\t\t\t}\n\t\t},\n\t};\n\n\treturn {\n\t\t...state,\n\t\t...newState\n\t};\n\n});\n\nexport const infiniteScroll = {\n\tname: 'infiniteScroll',\n\tinitialState: {\n\t\tscrollTop: 0,\n\t\tisScrollingDown: false,\n\t\tresultsChunk: 0,\n\t\tresetScroll: false\n\t},\n\tactionHandlers: {\n\t\t[PICKER_DETERMINE_CHUNK_REQUESTED]: determineChunk,\n\t\t[PICKER_UPDATE_RESULTS_CHUNK_REQUESTED]: updateResultsChunk\n\t}\n};\n","\nimport filterXSS from 'xss';\n\nconst xssOptions = {\n    whiteList: {\n        a: [\"target\", \"href\", \"title\", \"class\"],\n        abbr: [\"title\", \"class\"],\n        address: [\"class\"],\n        area: [\"shape\", \"coords\", \"href\", \"alt\", \"class\"],\n        article: [\"class\"],\n        aside: [\"class\"],\n        audio: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\", \"class\"],\n        b: [\"class\"],\n        bdi: [\"dir\", \"class\"],\n        bdo: [\"dir\", \"class\"],\n        big: [\"class\"],\n        blockquote: [\"cite\", \"class\"],\n        br: [\"class\"],\n        caption: [\"class\"],\n        center: [\"class\"],\n        cite: [\"class\"],\n        code: [\"class\"],\n        col: [\"align\", \"valign\", \"span\", \"width\", \"class\"],\n        colgroup: [\"align\", \"valign\", \"span\", \"width\", \"class\"],\n        dd: [\"class\"],\n        del: [\"datetime\", \"class\"],\n        details: [\"open\", \"class\"],\n        div: [\"class\"],\n        dl: [\"class\"],\n        dt: [\"class\"],\n        em: [\"class\"],\n        font: [\"color\", \"size\", \"face\", \"class\"],\n        footer: [\"class\"],\n        h1: [\"class\"],\n        h2: [\"class\"],\n        h3: [\"class\"],\n        h4: [\"class\"],\n        h5: [\"class\"],\n        h6: [\"class\"],\n        header: [\"class\"],\n        hr: [\"class\"],\n        i: [\"class\"],\n        img: [\"src\", \"alt\", \"title\", \"width\", \"height\", \"class\"],\n        ins: [\"datetime\", \"class\"],\n        li: [\"class\"],\n        mark: [\"class\"],\n        nav: [\"class\"],\n        ol: [\"class\"],\n        p: [\"class\"],\n        pre: [\"class\"],\n        s: [\"class\"],\n        section: [\"class\"],\n        small: [\"class\"],\n        span: [\"class\"],\n        sub: [\"class\"],\n        sup: [\"class\"],\n        svg: [\"class\"],\n        strong: [\"class\"],\n        table: [\"width\", \"border\", \"align\", \"valign\", \"class\"],\n        tag: [\"class\"],\n        tbody: [\"align\", \"valign\", \"class\"],\n        td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\", \"class\"],\n        tfoot: [\"align\", \"valign\", \"class\"],\n        th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\", \"class\"],\n        thead: [\"align\", \"valign\", \"class\"],\n        tr: [\"rowspan\", \"align\", \"valign\", \"class\"],\n        tt: [\"class\"],\n        u: [\"class\"],\n        ul: [\"class\"],\n        video: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\", \"height\", \"width\", \"class\"],\n    },\n    onIgnoreTagAttr: (tag, name, value, isWhiteAttr) => {\n        if (name.substr(0, 5) === 'data-') // specifically allow attributes that start with 'data-'\n            return name + '=\"' + filterXSS.escapeAttrValue(value) + '\"';\n    },\n};\n\nexport const xssSanitize = value => {\n    if (typeof value !== 'string')\n        return value;\n\n\treturn filterXSS(value, xssOptions);\n};\n\nexport const stripHTML = html => {\n    const tmpElement = document.createElement('div');\n    tmpElement.innerHTML = html;\n    return tmpElement.textContent || tmpElement.innerText || '';\n};","module.exports = __TECTONIC__$servicenow_now_loader;","import {t} from 'sn-translate';\n\nexport const ACTION_API_URL = '/api/now/hub/actionpicker';\nexport const INITIAL_ACTION_DATA_API = ACTION_API_URL + '/basic';\nexport const ACTIONS_BY_SCOPE_API = ACTION_API_URL + '/scopeId/';\nexport const FILTER_ACTIONS_API = ACTION_API_URL + '/filterBy/';\n\nexport const SEARCH_ACTIONS_PLACEHOLDER = t('Search Actions');\nexport const SEARCH_RESULTS_DEFAULT_DESCRIPTION = t('Please select an action to see its description');\nexport const SELECT_SCOPE_DEFAULT_DESCRIPTION = t('Select a scope to see available actions');\nexport const SEARCH_RESULTS_DEFAULT_RESULT = t('No actions found');\nexport const DEFAULT_ARIA_LABEL = t('Use the down arrow key to navigate to the list of spokes. Use up and down arrow keys to navigate inside lists.');\nexport const NO_RESULTS = t('No spokes match your filter');\nexport const CREATE_NEW_ITEM_TEXT = t('Create New Action');\nexport const ACTIONS_DIALOG_ARIA_LABEL = t('Pick an action');\nexport const PICKER_HEADER_TEXT = t('Add action');\n\nexport const DEFAULT_TEXTS = {\n\tdialogAriaLabel: ACTIONS_DIALOG_ARIA_LABEL,\n\tsearchBarPlaceholder: SEARCH_ACTIONS_PLACEHOLDER,\n\tdescription: SEARCH_RESULTS_DEFAULT_DESCRIPTION,\n\tnoData: NO_RESULTS,\n\tnavigationAriaLabel: DEFAULT_ARIA_LABEL,\n\tnoResults: SEARCH_RESULTS_DEFAULT_RESULT,\n\tnoScopeSelected: SELECT_SCOPE_DEFAULT_DESCRIPTION,\n\tcreateNewItemText: CREATE_NEW_ITEM_TEXT,\n\theaderText: PICKER_HEADER_TEXT\n};\n","import * as ActionTypes from '../constants/action-types';\nimport * as DataHandlers from '../action-handlers/rest-handlers';\nimport * as ResponseHandlers from '../action-handlers/rest-response-handlers';\nimport get from 'lodash/get';\n\nexport const restAPI = {\n\tname: 'restAPI',\n\tactionHandlers: {\n\t\t[ActionTypes.INITIAL_PICKER_DATA_FETCH_REQUESTED]: {\n\t\t\t...DataHandlers.fetchPickerDataBasic,\n\t\t\tinterceptors: [{\n\t\t\t\tafter: context => {\n\t\t\t\t\tcontext.effects[0].args[0] = context.coeffects.action.payload.url;\n\t\t\t\t\treturn context;\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\t[ActionTypes.PICKER_FILTERED_FETCH_REQUESTED]: {\n\t\t\t...DataHandlers.fetchFilteredPickerData,\n\t\t\tinterceptors: [{\n\t\t\t\tafter: context => {\n\t\t\t\t\tcontext.effects[0].args[0] = context.coeffects.action.payload.url;\n\t\t\t\t\treturn context;\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\t[ActionTypes.GET_NEXT_PAGE_SCOPES_REQUESTED]: {\n\t\t\t...DataHandlers.fetchNextPageScopes,\n\t\t\tinterceptors: [{\n\t\t\t\tafter: context => {\n\t\t\t\t\tcontext.effects[0].args[0] = context.coeffects.action.payload.url;\n\t\t\t\t\treturn context;\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\t[ActionTypes.GET_RESULTS_BY_SCOPE_REQUESTED]: {\n\t\t\t...DataHandlers.fetchResultsByScope,\n\t\t\tinterceptors: [{\n\t\t\t\tafter: context => {\n\t\t\t\t\tcontext.effects[0].args[0] = context.coeffects.action.payload.url;\n\t\t\t\t\treturn context;\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\t[ActionTypes.PICKER_GET_NEXT_PAGE_REQUESTED]: {\n\t\t\t...DataHandlers.fetchResultsByScope,\n\t\t\tinterceptors: [{\n\t\t\t\tafter: context => {\n\t\t\t\t\tcontext.effects[0].args[0] = context.coeffects.action.payload.url;\n\t\t\t\t\treturn context;\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\t[ActionTypes.PICKER_DATA_INITIAL_FETCH_SUCCEEDED]: ResponseHandlers.handleInitialPickerDataFetchSucceeded,\n\t\t[ActionTypes.PICKER_FILTERED_FETCH_SUCCEEDED]: ResponseHandlers.handleFilteredFetchSucceeded,\n\t\t[ActionTypes.PICKER_DATA_FETCH_FAILED]: ResponseHandlers.handleFailedFetch,\n\t\t[ActionTypes.GET_NEXT_PAGE_SCOPES_SUCCEEDED]: ResponseHandlers.handleGetNextPageScopesSucceeded,\n\t\t[ActionTypes.GET_RESULTS_BY_SCOPE_SUCCEEDED]: ResponseHandlers.handleGetResultsByScopeSucceeded,\n\t\t[ActionTypes.INITIATE_GET_RESULTS_BY_SCOPE]: {\n\t\t\teffect: ({action, updateState, dispatch}) => {\n\t\t\t\tconst scopeId = get(action, 'payload.scopeId', '');\n\t\t\t\tconst url = get(action, 'payload.url', '');\n\n\t\t\t\tupdateState({gettingData: true, scopeId});\n\t\t\t\tdispatch(ActionTypes.GET_RESULTS_BY_SCOPE_REQUESTED, {url});\n\t\t\t}\n\t\t},\n\t\t[ActionTypes.INITIATE_GET_FILTERED_FETCH]: {\n\t\t\teffect: ({action, updateState, dispatch}) => {\n\t\t\t\tconst filterBy = get(action, 'payload.filterBy', '');\n\t\t\t\tconst url = get(action, 'payload.url', '');\n\n\t\t\t\tupdateState({\n\t\t\t\t\tgettingData: true,\n\t\t\t\t\tisFiltered: true,\n\t\t\t\t\tfilterBy\n\t\t\t\t});\n\n\t\t\t\tdispatch(ActionTypes.PICKER_FILTERED_FETCH_REQUESTED, {url: encodeURI(url)});\n\t\t\t}\n\t\t}\n\t}\n};\n","import * as ActionTypes from '../constants/action-types';\nimport * as ActionHandlers from '../action-handlers/picker-handlers';\n\nexport const resetData = {\n\tname: 'resetData',\n\tactionHandlers: {\n\t\t[ActionTypes.RESET_PICKER]: ActionHandlers.setInitialState,\n\t\t[ActionTypes.PICKER_DISMISSED]: ActionHandlers.setInitialState,\n\t\t[ActionTypes.PICKER_CREATE_ITEM_REQUESTED]: ActionHandlers.clearAllResultsButCore\n\t}\n};\n\n","import {t} from 'sn-translate';\n\nexport const ACTIVITY_API_URL = '/api/now/activitypicker';\nexport const INITIAL_ACTIVITY_DATA_API = ACTIVITY_API_URL + '/basic';\nexport const ACTIVITIES_BY_SCOPE_API = ACTIVITY_API_URL + '/scopeId/';\nexport const FILTER_ACTIVITIES_API = ACTIVITY_API_URL + '/filterBy/';\n\nexport const SEARCH_ACTIVITIES_PLACEHOLDER = t('Search Activities');\nexport const SEARCH_RESULTS_DEFAULT_DESCRIPTION = t('Please select an activity to see its description');\nexport const SELECT_SCOPE_DEFAULT_DESCRIPTION = t('Select a category to see available activities');\nexport const SEARCH_RESULTS_DEFAULT_RESULT = t('No activities found');\nexport const DEFAULT_ARIA_LABEL = t('Use the down arrow key to navigate to the list of categories. Use up and down arrow keys to navigate inside lists.');\nexport const NO_RESULTS = t('No categories match your filter');\nexport const CREATE_NEW_ITEM_TEXT = t('Create a new activity');\nexport const CORE_SCOPE_LABEL = t('Common Activities');\nexport const ACTIVITIES_DIALOG_ARIA_LABEL = t('Pick an activity');\nexport const PICKER_HEADER_TEXT = t('Add activity');\n\nexport const DEFAULT_TEXTS = {\n\tdialogAriaLabel: ACTIVITIES_DIALOG_ARIA_LABEL,\n\tsearchBarPlaceholder: SEARCH_ACTIVITIES_PLACEHOLDER,\n\tdescription: SEARCH_RESULTS_DEFAULT_DESCRIPTION,\n\tnoData: NO_RESULTS,\n\tnavigationAriaLabel: DEFAULT_ARIA_LABEL,\n\tnoResults: SEARCH_RESULTS_DEFAULT_RESULT,\n\tnoScopeSelected: SELECT_SCOPE_DEFAULT_DESCRIPTION,\n\tcreateNewItemText: CREATE_NEW_ITEM_TEXT,\n\theaderText: PICKER_HEADER_TEXT\n};\n","import './pickers';\n","import './main-picker-element';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport {ACTIVITY_PICKER} from '../constants/app-constants';\nimport {PICKER_DISMISSED} from '../constants/action-types';\nimport {closePicker} from '../action-handlers/picker-handlers';\nimport './action-picker';\nimport './activity-picker';\nimport {view} from './main-picker-view';\n\ncreateCustomElement('sn-pd-picker', {\n\trenderer: {view},\n\tproperties: {\n\t\tvariant: {default: ACTIVITY_PICKER},\n\t\tshowPicker: {default: true},\n\t\tshowCreateItem: {default: true}\n\t},\n\tactionHandlers: {\n\t\t[PICKER_DISMISSED]: closePicker\n\t}\n});\n","module.exports = __TECTONIC__lodash_4_17_4[\"truncate\"];","import './action-picker-element';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport {view} from './action-picker-view';\nimport {restAPI} from '../../behaviors/rest-api';\nimport {FILTER_ACTIONS_API, ACTIONS_BY_SCOPE_API, INITIAL_ACTION_DATA_API} from './action-api-constants';\nimport {resetData} from '../../behaviors/reset-data';\n\ncreateCustomElement('sn-action-picker', {\n\trenderer: {view},\n\tinitialState: {\n\t\tresults: {},\n\t\tscopes: {},\n\t\tisFiltered: false,\n\t\tfilterBy: null,\n\t\tfilteredResults: {},\n\t\tnextResultsUrlsByScope: {},\n\t\tnextResultsUrl: '',\n\t\tnextScopesUrl: '',\n\t\tintegrationsPluginActive: false,\n\t\tgettingData: true,\n\t\ttimeout: {},\n\t\tendpoints: {initial: INITIAL_ACTION_DATA_API, filter: FILTER_ACTIONS_API, scope: ACTIONS_BY_SCOPE_API}\n\t},\n\tproperties: {\n\t\tpublishedActionsOnly: {default: true},\n\t\tshowStoreSpokes: {default: true},\n\t\tshowPicker: {default: true },\n\t\tshowCreateItem: {default: true}\n\t},\n\tbehaviors: [restAPI, resetData]\n});\n","import '../generic-picker';\nimport {DEFAULT_TEXTS} from './action-api-constants';\n\nconst view = (state) => {\n\tconst {\n\t\tfilteredResults,\n\t\tfilterBy,\n\t\tisFiltered,\n\t\tfilteredScopes,\n\t\tintegrationsPluginActive,\n\t\tgettingData,\n\t\tscopes,\n\t\tnextScopesUrl,\n\t\tnextResultsUrlsByScope,\n\t\tnextResultsUrl,\n\t\tresults,\n\t\tendpoints\n\t} = state;\n\tconst {showPicker, showCreateItem} = state.properties;\n\n\treturn <sn-generic-picker\n\t\tcomponent-id='generic-picker'\n\t\tresults={results}\n\t\tscopes={scopes}\n\t\tfilterBy={filterBy}\n\t\tfilteredResults={filteredResults}\n\t\tisFiltered={isFiltered}\n\t\tfilteredScopes={filteredScopes}\n\t\tnextResultsUrlsByScope={nextResultsUrlsByScope}\n\t\tnextResultsUrl={nextResultsUrl}\n\t\tnextScopesUrl={nextScopesUrl}\n\t\tintegrationsPluginActive={integrationsPluginActive}\n\t\tgettingData={gettingData}\n\t\tdefaultTexts={DEFAULT_TEXTS}\n\t\tendpoints={endpoints}\n\t\tshowPicker={showPicker}\n\t\tshowCreateItem={showCreateItem}\n\t/>;\n};\n\nexport {view};\n","import {createCustomElement, actionTypes} from '@servicenow/ui-core';\nimport {view} from './picker-view';\nimport styles from './picker.scss';\nimport * as ActionHandlers from '../../action-handlers/picker-handlers';\nimport {accessibility} from '../../behaviors/accessibility';\nimport {CORE_SCOPE} from '../../constants/app-constants';\n\nconst {COMPONENT_CONNECTED} = actionTypes;\n\ncreateCustomElement('sn-generic-picker', {\n\trenderer: {view},\n\tproperties: {\n\t\tresults: {},\n\t\tscopes: {},\n\t\tisFiltered: {default: false},\n\t\tfilterBy: {},\n\t\tfilteredResults: {},\n\t\tfilteredScopes: {},\n\t\tnextResultsUrlsByScope: {},\n\t\tdefaultScope: {default: CORE_SCOPE},\n\t\tnextResultsUrl: {},\n\t\tnextScopesUrl: {},\n\t\tintegrationsPluginActive: {default: false},\n\t\tgettingData: {default: true},\n\t\tinitializing: {default: false},\n\t\tshowScopeHeaders: {default: true},\n\t\tdefaultTexts: {selectable: true},\n\t\tsearchBarHost: {},\n\t\tpickerElement: {},\n\t\tsearchBarHasFocus: {},\n\t\tendpoints: {},\n\t\tshowPicker: {default: true},\n\t\tshowCreateItem: {default: true}\n\t},\n\tstyles,\n\tbehaviors: [accessibility],\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]: ActionHandlers.handleComponentConnected\n\t}\n});\n","import {createRef} from '@servicenow/ui-renderer-snabbdom';\nimport get from 'lodash/get';\nimport './components/search-bar';\nimport './components/search-results';\nimport './components/picker-header';\nimport {INITIATE_GET_RESULTS_BY_SCOPE, PICKER_RESULT_SELECTED} from '../../constants/action-types';\nimport {IGNORE} from '../../constants/app-constants';\nimport {addQueryParamsToUrl} from '../../utils/helper-functions';\n\nconst view = (state, {dispatch}) => {\n\tconst {\n\t\tproperties: {\n\t\t\tpublishedActionsOnly,\n\t\t\tfilteredResults,\n\t\t\tfilterBy,\n\t\t\tisFiltered,\n\t\t\tfilteredScopes,\n\t\t\tintegrationsPluginActive,\n\t\t\tgettingData,\n\t\t\tscopes,\n\t\t\tdefaultScope,\n\t\t\tnextScopesUrl,\n\t\t\tnextResultsUrlsByScope,\n\t\t\tnextResultsUrl,\n\t\t\tresults,\n\t\t\tshowScopeHeaders,\n\t\t\tdefaultTexts,\n\t\t\tendpoints,\n\t\t\tshowPicker,\n\t\t\tshowCreateItem\n\t\t}\n\t} = state;\n\n\tconst pickerElement = createRef();\n\tconst texts = defaultTexts || {};\n\n\tconst getResultsByScope = (scopeId, url) => {\n\t\tconst endpoint = get(endpoints, 'scope');\n\t\tconst apiUrl = url || endpoint + scopeId;\n\t\tconst fullUrl = addQueryParamsToUrl(apiUrl, publishedActionsOnly, IGNORE);\n\n\t\tdispatch(INITIATE_GET_RESULTS_BY_SCOPE, {url: fullUrl, scopeId});\n\t};\n\n\tconst handleItemSelected = (eventTarget) => {\n\t\tconst sysId = get(eventTarget, 'dataset.index', 0);\n\t\tconst label = get(eventTarget, 'dataset.label', 0);\n\n\t\tdispatch(PICKER_RESULT_SELECTED, {sysId, label});\n\t};\n\n\tconst renderPicker = () => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='picker'\n\t\t\t\trole='dialog'\n\t\t\t\tariaLabel={texts.dialogAriaLabel}\n\t\t\t\tref={pickerElement}\n\t\t\t>\n\t\t\t\t<sn-pd-picker-header/>\n\n\t\t\t\t<sn-pd-picker-search-bar\n\t\t\t\t\tcomponent-id='picker-search-bar'\n\t\t\t\t\tshowCreateItem={showCreateItem}\n\t\t\t\t\tplaceholder={texts.searchBarPlaceholder}\n\t\t\t\t\tariaLabel={texts.navigationAriaLabel}\n\t\t\t\t/>\n\t\t\t\t<sn-pd-picker-search-results\n\t\t\t\t\tcomponent-id='picker-results'\n\t\t\t\t\tfilteredResults={filteredResults}\n\t\t\t\t\tfilterBy={filterBy}\n\t\t\t\t\tisFiltered={isFiltered}\n\t\t\t\t\tfilteredScopes={filteredScopes}\n\t\t\t\t\tintegrationsPluginActive={integrationsPluginActive}\n\t\t\t\t\tpublishedResultsOnly={publishedActionsOnly}\n\t\t\t\t\tloading={gettingData}\n\t\t\t\t\tscopes={scopes}\n\t\t\t\t\tdefaultScope={defaultScope}\n\t\t\t\t\tresults={results}\n\t\t\t\t\tonScopeSelect={getResultsByScope}\n\t\t\t\t\tnextResultsUrl={nextResultsUrl}\n\t\t\t\t\tnextScopesUrl={nextScopesUrl}\n\t\t\t\t\tnextResultsUrlsByScope={nextResultsUrlsByScope}\n\t\t\t\t\tonResultSelect={handleItemSelected}\n\t\t\t\t\tshowScopeHeaders={showScopeHeaders}\n\t\t\t\t\tdefaultTexts={texts}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tshowPicker ? (\n\t\t\t\t\t<div className='picker-overlay-transparent'>\n\t\t\t\t\t\t{renderPicker()}\n\t\t\t\t\t</div>\n\t\t\t\t) : ''\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nexport {view};\n","import './search-bar-element';\n","import {createCustomElement, actionTypes} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {view} from './search-bar-view';\nimport {\n\tSEARCH_PLACEHOLDER,\n\tDEFAULT_ARIA_LABEL,\n\tDEFAULT_TEXTS,\n\tGENERIC_PICKER\n} from '../../../../constants/app-constants';\nimport styles from './search-bar.scss';\nimport {STORE_SEARCH_BAR_HOST} from '../../../../constants/action-types';\nimport {getSelectableProp} from '../../../../utils/helper-functions';\n\n\ncreateCustomElement('sn-pd-picker-search-bar', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tplaceholder: {default: SEARCH_PLACEHOLDER},\n\t\tariaLabel: {default: DEFAULT_ARIA_LABEL},\n\t\tshowCreateItem: {default: true},\n\t\tdefaultTexts: {get default() {return getSelectableProp(GENERIC_PICKER, DEFAULT_TEXTS);}}\n\t},\n\tstyles,\n\tactionHandlers: {\n\t\t[actionTypes.COMPONENT_DOM_READY]: {\n\t\t\teffect({dispatch, action: {payload: {host}}}) {\n\t\t\t\tdispatch(STORE_SEARCH_BAR_HOST, {host});\n\t\t\t}\n\t\t}\n\t}\n});\n","import debounce from 'lodash/debounce';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-button';\nimport {\n\tPICKER_DISMISSED,\n\tSEARCH_FIELD_UPDATED,\n\tTOGGLE_SEARCH_BAR_FOCUS,\n\tPICKER_CREATE_ITEM_REQUESTED\n} from '../../../../constants/action-types';\n\nimport {\n\tESC_KEYCODE,\n\tSEARCH_DELAY_MILLISECONDS\n} from '../../../../constants/app-constants';\n\nconst view = (state, dispatch) => {\n\n\tconst {placeholder, ariaLabel, showCreateItem, defaultTexts} = state.properties;\n\n\tconst onInput = () => {\n\t\tdispatch(SEARCH_FIELD_UPDATED);\n\t};\n\n\tconst onCreateItem = () =>{\n\t\tdispatch(PICKER_CREATE_ITEM_REQUESTED);\n\t};\n\n\tconst onKeyDown = (event) => {\n\t\tevent.stopPropagation();\n\n\t\tif (event.keyCode === ESC_KEYCODE)\n\t\t\tdispatch(PICKER_DISMISSED);\n\t};\n\n\tconst setFocus = () => {\n\t\tdispatch(TOGGLE_SEARCH_BAR_FOCUS, {focus: true});\n\t};\n\n\tconst removeFocus = () => {\n\t\tdispatch(TOGGLE_SEARCH_BAR_FOCUS, {focus: false});\n\t};\n\n\tconst renderCreateButton = () => {\n\t\treturn <now-button\n\t\t\tclassName='create-new-btn'\n\t\t\ton-click={onCreateItem}\n\t\t\tvariant='tertiary'\n\t\t\tsize='sm'\n\t\t>\n\t\t\t{defaultTexts && defaultTexts.createNewItemText}\n\t\t</now-button>;\n\t};\n\n\treturn (\n\t\t<div className='search-container'>\n\t\t\t<div className='picker-filter'>\n\t\t\t\t<div className='input-container'>\n\t\t\t\t\t<now-icon icon=\"magnifying-glass-fill\" size=\"sm\"></now-icon>\n\t\t\t\t\t<input\n\t\t\t\t\t\tauto-complete='off'\n\t\t\t\t\t\tauto-correct='off'\n\t\t\t\t\t\tauto-capitalize='off'\n\t\t\t\t\t\tspell-check='false'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\taria-placeholder={placeholder}\n\t\t\t\t\t\taria-label={ariaLabel}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\ton-input={debounce(onInput, SEARCH_DELAY_MILLISECONDS, {leading:false, trailing:true})}\n\t\t\t\t\t\ton-keydown={onKeyDown}\n\t\t\t\t\t\ton-focus={setFocus}\n\t\t\t\t\t\ton-blur={removeFocus}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{showCreateItem ? renderCreateButton() : ''}\n\t\t</div>\n\t);\n};\n\nexport {view};\n","module.exports = __TECTONIC__lodash_4_17_4[\"debounce\"];","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./search-bar.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".picker-filter{white-space:nowrap;display:block;min-height:32px;width:485px;padding:.25rem .5rem}.picker-filter,.picker-filter .input-container{border-bottom:1px solid rgb(var(--now-color--neutral-4,191,197,198))}.picker-filter .input-container{width:auto}.picker-filter now-icon{padding-left:.5rem}.picker-filter input{height:30px;max-height:32px;padding:0 .25rem 0 .5rem;margin:0;outline:0;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:14px;border:none;width:90%;background-color:transparent}.search-container{position:relative}.search-container .create-new-btn{position:absolute;right:8px;top:8px}\", \"\"]);\n\n// exports\n","import './search-results-element';\n","import {actionTypes, createCustomElement} from '@servicenow/ui-core';\nimport * as Actions from './search-results-actions';\nimport {view} from './search-results-view';\nimport {\n\tSET_DESCRIPTION_REQUESTED,\n\tCATEGORY_LIST_HEADER_CLICKED,\n\tSHOW_FILTERED_DATA,\n\tRESET_AND_DISMISS_PICKER,\n\tLIST_FOCUSED,\n\tSWITCH_FOCUS_TO_FIRST_RESULT_REQUESTED\n} from '../../../../constants/action-types';\nimport {CORE_SCOPE} from '../../../../constants/app-constants';\nconst {COMPONENT_PROPERTY_CHANGED, COMPONENT_DISCONNECTED, COMPONENT_BOOTSTRAPPED} = actionTypes;\n\nimport styles from './search-results.scss';\n\ncreateCustomElement('sn-pd-picker-search-results', {\n\trenderer: {view},\n\tinitialState: {\n\t\tselectedResult: null,\n\t\tcurrentResult: {},\n\t\tdescription: '',\n\t\tselectedResultsArray: [],\n\t\tformattedResults: {},\n\t\tstoredNextUrl: null,\n\t\tfetchedMoreResults: false,\n\t\tselectedScope: null,\n\t\tfocusedItem: ''\n\t},\n\tproperties: {\n\t\tpublishedResultsOnly: {default: true},\n\t\tloading: {default: true},\n\t\tscopes: {},\n\t\tfilterBy: {},\n\t\tnextScopesUrl: {},\n\t\tnextResultsUrl: {},\n\t\tnextResultsUrlsByScope: {},\n\t\tdefaultScope: {default: CORE_SCOPE},\n\t\tshouldHandleScroll: {},\n\t\tintegrationsPluginActive: {},\n\t\tresults: {},\n\t\tisFiltered: {},\n\t\tfilteredResults: {},\n\t\tfilteredScopes: {},\n\t\tonResultSelect: {},\n\t\tonScopeSelect: {},\n\t\tshowScopeHeaders: {},\n\t\tdefaultTexts: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: Actions.setInitialState,\n\t\t[SET_DESCRIPTION_REQUESTED]: Actions.setDescription,\n\t\t[CATEGORY_LIST_HEADER_CLICKED]: Actions.handleCategoryHeaderClicked,\n\t\t[COMPONENT_PROPERTY_CHANGED]: Actions.handleUpdates,\n\t\t[SHOW_FILTERED_DATA]: Actions.setFilteredState,\n\t\t[COMPONENT_DISCONNECTED]: Actions.resetPicker,\n\t\t[RESET_AND_DISMISS_PICKER]: Actions.resetAndDismissPicker,\n\t\t[SWITCH_FOCUS_TO_FIRST_RESULT_REQUESTED]: Actions.setFocusToFirstResult,\n\t\t[LIST_FOCUSED]: Actions.unsetFocus\n\t},\n\tstyles\n});\n","import {createUpdateStateEffect} from '@servicenow/ui-effect-update-state';\nimport {get, isEmpty} from 'lodash';\nimport {CORE_SCOPE_LABEL, CORE_SCOPE} from '../../../../constants/app-constants';\nimport * as Props from './prop-types';\nimport * as Helpers from '../../../../utils/helper-functions';\nimport {SHOW_FILTERED_DATA, PICKER_DISMISSED} from '../../../../constants/action-types';\nimport {isObjectWithValues} from '../../../../utils/helper-functions';\n\nexport const setDescription = createUpdateStateEffect((state, action) => {\n\tconst description = get(action, 'payload.description', '');\n\tconst currentResult = get(action, 'payload.currentResult', {});\n\treturn {\n\t\t...state,\n\t\tdescription,\n\t\tcurrentResult\n\t};\n});\n\nexport const handleCategoryHeaderClicked = ({state, action, updateProperties}) => {\n\tconst group = get(action, 'payload.group', '');\n\tconst scopes = get(state, 'properties.scopes', {});\n\tconst groups = get(action, 'payload.groupedData', {});\n\tconst groupToToggle = groups[group];\n\n\tconst updatedData = Helpers.toggleAllItemsProperty('collapsed', groupToToggle, scopes);\n\n\tupdateProperties({scopes: updatedData});\n};\n\nexport const setFilteredState = createUpdateStateEffect((state) => {\n\tconst isFiltered = get(state, 'properties.isFiltered');\n\tif (!isFiltered)\n\t\treturn setResultsAndScope();\n\n\tconst filteredScopes = get(state, 'properties.filteredScopes');\n\tif (!isObjectWithValues(filteredScopes))\n\t\treturn {\n\t\t\t...state,\n\t\t\tselectedResultsArray: [],\n\t\t\tformattedResults: {},\n\t\t\tselectedScope: {},\n\t\t\tdescription: null,\n\t\t\tcurrentResult: {}\n\t\t};\n\n\tconst firstFilteredScopeKey = Object.keys(filteredScopes)[0];\n\tconst selectedScope = filteredScopes[firstFilteredScopeKey];\n\tconst filteredResults = get(state, 'properties.filteredResults');\n\tlet filteredResultsOfFirstScope = Helpers.lookupResultsByScopeId(filteredResults, selectedScope && selectedScope.value);\n\n\treturn {\n\t\t...state,\n\t\tselectedResultsArray: filteredResultsOfFirstScope,\n\t\tformattedResults: Helpers.groupResultsByCategory(filteredResultsOfFirstScope),\n\t\tselectedScope: selectedScope,\n\t\tdescription: null,\n\t\tcurrentResult: {}\n\t};\n});\n\nexport function setResultsAndScope(state, updateState) {\n\tconst scopes = get(state, 'properties.scopes');\n\tconst allResults = get(state, 'properties.results');\n\tconst selectedScope = get(state, 'selectedScope', null);\n\tconst defaultScope = !isEmpty(selectedScope) ? selectedScope : get(state, 'properties.defaultScope');\n\tconst {results} = Helpers.selectResultsAndScope(defaultScope, scopes, allResults);\n\n\tif (Helpers.isArrayWithValues(results))\n\t\tupdateState({\n\t\t\tselectedResultsArray: results,\n\t\t\tformattedResults: Helpers.groupResultsByCategory(results),\n\t\t\tselectedScope: selectedScope,\n\t\t\tcurrentResult: {}\n\t\t});\n}\n\nexport const setInitialState = ({state, updateState}) => {\n\tconst initialStateReset = {...state, selectedScope: null};\n\tsetResultsAndScope(initialStateReset, updateState);\n};\n\nexport const resetAndDismissPicker = ({state, updateState, dispatch}) => {\n\tsetInitialState({state, updateState});\n\tdispatch(PICKER_DISMISSED);\n};\n\nexport const resetPicker = ({updateProperties, updateState}) => {\n\tupdateProperties({\n\t\tpublishedResultsOnly: {default: true},\n\t\tloading: {default: true},\n\t\tscopes: {},\n\t\tfilterBy: '',\n\t\tnextScopesUrl: '',\n\t\tnextResultsUrl: '',\n\t\tnextResultsUrlsByScope: {},\n\t\tdefaultScope: CORE_SCOPE,\n\t\tshouldHandleScroll: {},\n\t\tintegrationsPluginActive: {},\n\t\tresults: {},\n\t\tisFiltered: '',\n\t\tfilteredResults: {},\n\t\tfilteredScopes: {},\n\t\tonResultSelect: {},\n\t\tonScopeSelect: {},\n\t\tshowScopeHeaders: '',\n\t\tdefaultTexts: {}\n\t});\n\n\tupdateState({\n\t\tselectedResult: null,\n\t\tcurrentResult: {},\n\t\tdescription: '',\n\t\tselectedResultsArray: [],\n\t\tformattedResults: {},\n\t\tstoredNextUrl: null,\n\t\tfetchedMoreResults: false,\n\t\tselectedScope: null\n\t});\n};\n\nexport const handleUpdates = ({state, action, dispatch, updateState}) => {\n\tconst {payload} = action;\n\n\tif (!payload || Props.IGNORE_UPDATE.includes(payload.name))\n\t\treturn;\n\n\tconst isLoading = get(state, 'properties.loading', false);\n\tconst selectedScope = get(state, 'selectedScope', null);\n\tconst noResults = !Helpers.isArrayWithValues(state.selectedResultsArray);\n\tconst isFiltered = get(state, 'properties.isFiltered');\n\tlet isFilteredAndResultsChanged = false;\n\tconst resetToCore = !isLoading && !isFiltered && isEmpty(selectedScope);\n\tconst hasNoData = !isLoading && noResults && !isFiltered && isEmpty(selectedScope);\n\tconst wasFilteredButIsNotNow = payload.name === Props.FILTERED_BY && payload.previousValue && !payload.value;\n\n\tif (wasFilteredButIsNotNow) {\n\t\tsetInitialState({state, updateState});\n\t\treturn;\n\t}\n\n\tif (resetToCore || hasNoData)\n\t\tsetResultsAndScope(state, updateState);\n\n\tif (payload.name === Props.FILTERED_RESULTS_PROP) {\n\t\tisFilteredAndResultsChanged = isFiltered && payload.previousValue !== payload.value;\n\n\t\tif (isFilteredAndResultsChanged)\n\t\t\tdispatch(SHOW_FILTERED_DATA);\n\t}\n\n\tif (payload.name === Props.RESULT_PROP) {\n\t\tconst dataWasLoaded = !Helpers.isObjectWithValues(payload.previousValue) && payload.value;\n\t\tconst weSwitchedScopes = !dataWasLoaded && payload.previousValue !== payload.value;\n\t\tconst weClearedResults = !dataWasLoaded && Object.keys(payload.previousValue) > Object.keys(payload.value);\n\n\t\tif (dataWasLoaded) {\n\t\t\tsetResultsAndScope(state, updateState);\n\t\t\treturn;\n\t\t}\n\n\t\tif (weClearedResults) {\n\t\t\tsetInitialState({state, updateState});\n\t\t\treturn;\n\t\t}\n\n\t\tif (weSwitchedScopes) {\n\t\t\tconst results = get(state, 'properties.results', {});\n\t\t\tconst selectedScopeId = get(state, 'selectedScope.value', CORE_SCOPE_LABEL);\n\t\t\tconst selectedResults = isObjectWithValues(results) ? [...results[selectedScopeId]] : [];\n\n\t\t\tupdateState({\n\t\t\t\tselectedResultsArray: selectedResults,\n\t\t\t\tformattedResults: Helpers.groupResultsByCategory(selectedResults),\n\t\t\t\tfocusedItem: get(selectedResults, '[0].id', '')\n\t\t\t});\n\t\t}\n\t}\n};\n\nexport function setFocusToFirstResult({state, updateState}) {\n\tupdateState({\n\t\tfocusedItem: get(state, 'selectedResultsArray[0].id', '')\n\t});\n}\n\nexport function unsetFocus({updateState}) {\n\tupdateState({\n\t\tfocusedItem: ''\n\t});\n}\n","export const RESULT_PROP = 'results';\nexport const FILTERED_RESULTS_PROP = 'filteredResults';\nexport const IGNORE_UPDATE = ['onResultSelect', 'onScopeSelect'];\nexport const FILTERED_BY = 'filterBy';\n","import './lists/scope-list';\nimport './results/result-description';\nimport './lists/result-list';\nimport {\n\tshouldScopesInfiniteScroll,\n\tshouldResultsInfiniteScroll,\n\tgetPreviousNextURL\n} from '../../../../utils/scroll-helpers';\nimport {\n\tlookupResultsByScopeId,\n\tisArrayWithValues,\n\tgroupResultsByCategory,\n\tisObjectWithValues,\n\tunderlineSearchTerm\n} from '../../../../utils/helper-functions';\nimport {SWITCH_FOCUS_TO_FIRST_RESULT_REQUESTED,\n\tSET_DESCRIPTION_REQUESTED\n} from '../../../../constants/action-types';\nimport {\n\tNO_DESCRIPTION_AVAILABLE,\n\tSEARCH_RESULTS_DEFAULT_DESCRIPTION,\n\tNOT_INSTALLED, SEARCH_RESULTS_DEFAULT_RESULT,\n\tNO_RESULTS\n} from '../../../../constants/app-constants';\nimport {get, isEmpty} from 'lodash';\n\nconst view = (state, {dispatch, updateState}) => {\n\tconst {\n\t\tproperties: {\n\t\t\tfilterBy,\n\t\t\tnextScopesUrl,\n\t\t\tnextResultsUrl,\n\t\t\tnextResultsUrlsByScope,\n\t\t\tdefaultScope,\n\t\t\tintegrationsPluginActive,\n\t\t\tloading,\n\t\t\tisFiltered,\n\t\t\tdefaultTexts,\n\t\t\tgetNextPage,\n\t\t\tfilteredScopes,\n\t\t\tfilteredResults,\n\t\t\tscopes,\n\t\t\tresults,\n\t\t\tonResultSelect,\n\t\t\tshowScopeHeaders\n\t\t},\n\t\tdescription,\n\t\tcurrentResult,\n\t\tselectedResultsArray,\n\t\tformattedResults,\n\t\tselectedScope,\n\t\tfocusedItem\n\t} = state;\n\n\tconst selectedOrDefaultScope = !isEmpty(selectedScope) ? selectedScope : defaultScope;\n\n\tconst getResultsByScope = (scopeId) => {\n\t\tconst selectScope = get(state, 'properties.onScopeSelect', () => {});\n\t\tselectScope && selectScope(scopeId);\n\t};\n\n\tconst onScopeSelect = (eventTarget) => {\n\t\tconst scopeValue = get(eventTarget, 'dataset.index', '');\n\t\tconst currentScopes = isFiltered ? filteredScopes : scopes;\n\t\tconst currentSelectedScope = currentScopes[scopeValue] || null;\n\n\t\tif (currentSelectedScope) {\n\t\t\tconst isSameScope = selectedOrDefaultScope && (currentSelectedScope.value === selectedOrDefaultScope.value);\n\n\t\t\tif (isSameScope)\n\t\t\t\treturn switchFocusToFirstResult();\n\n\t\t\tconst currentResults = isFiltered ? filteredResults : results;\n\t\t\tconst scopeResults = lookupResultsByScopeId(currentResults, currentSelectedScope.value);\n\t\t\tconst haveResultsAlready = isArrayWithValues(scopeResults);\n\t\t\tconst updatedStoredNextURL = haveResultsAlready ?\n\t\t\t\tgetPreviousNextURL(nextResultsUrlsByScope, currentSelectedScope.value) : null;\n\t\t\tconst description = !currentSelectedScope.installed ? getDescription(currentSelectedScope) : '';\n\n\t\t\tif (!haveResultsAlready && !isFiltered) {\n\t\t\t\tgetResultsByScope(currentSelectedScope.value);\n\t\t\t\tupdateState({selectedScope: currentSelectedScope, description});\n\t\t\t} else {\n\t\t\t\tupdateState({\n\t\t\t\t\tstoredNextUrl: updatedStoredNextURL,\n\t\t\t\t\tselectedScope: currentSelectedScope,\n\t\t\t\t\tselectedResultsArray: scopeResults,\n\t\t\t\t\tformattedResults: groupResultsByCategory(scopeResults),\n\t\t\t\t\tdescription,\n\t\t\t\t\tcurrentResult: {}\n\t\t\t\t});\n\n\t\t\t\tswitchFocusToFirstResult();\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction getDescription(itemOrEvent) {\n\t\tif (!itemOrEvent)\n\t\t\treturn defaultTexts.description || SEARCH_RESULTS_DEFAULT_DESCRIPTION;\n\n\t\tlet label, itemKey, itemDescription, link;\n\n\t\tif (!get(selectedOrDefaultScope, 'installed')) {\n\t\t\tlabel = `${itemOrEvent.displayValue} (${NOT_INSTALLED})`;\n\t\t\tlink = itemOrEvent.storeLink;\n\t\t\titemDescription = itemOrEvent.description;\n\t\t} else {\n\t\t\tconst itemCategory = get(itemOrEvent, 'target.dataset.category', '');\n\t\t\titemKey = get(itemOrEvent, 'target.dataset.index', 0);\n\t\t\tlabel = get(itemOrEvent, 'target.dataset.name', '');\n\n\t\t\titemDescription = formattedResults[itemCategory] && formattedResults[itemCategory][itemKey] &&\n\t\t\t\tformattedResults[itemCategory][itemKey].description;\n\t\t}\n\n\t\tif (isFiltered)\n\t\t\titemDescription = itemDescription ? underlineSearchTerm(filterBy, itemDescription) : itemDescription;\n\n\t\tif (!itemDescription)\n\t\t\titemDescription = NO_DESCRIPTION_AVAILABLE;\n\n\t\tconst payload = {\n\t\t\tdescription: itemDescription,\n\t\t\tcurrentResult: {label: label, id: itemKey, link}\n\t\t};\n\n\t\tdispatch(SET_DESCRIPTION_REQUESTED, payload);\n\t}\n\n\tfunction switchFocusToFirstResult() {\n\t\tdispatch(SWITCH_FOCUS_TO_FIRST_RESULT_REQUESTED);\n\t}\n\n\tconst renderResultList = () => {\n\t\tconst resultsNeedInfiniteScroll = shouldResultsInfiniteScroll(selectedResultsArray, nextResultsUrl, isFiltered);\n\t\tconst filterTerm = isFiltered ? filterBy : null;\n\n\t\tif (isObjectWithValues(selectedOrDefaultScope))\n\t\t\treturn (\n\t\t\t\t<sn-pd-picker-result-list\n\t\t\t\t\tid='picker-results'\n\t\t\t\t\tcomponent-id='picker-result-list'\n\t\t\t\t\tonFocus={getDescription}\n\t\t\t\t\tonSelect={onResultSelect}\n\t\t\t\t\tresults={selectedResultsArray}\n\t\t\t\t\tfilterTerm={filterTerm}\n\t\t\t\t\tnextUrl={nextResultsUrl}\n\t\t\t\t\tshouldHandleScroll={resultsNeedInfiniteScroll}\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tshowHeaders={true}\n\t\t\t\t\tgetNextPage={getNextPage}\n\t\t\t\t\tnoDataMessage={defaultTexts.noResults || SEARCH_RESULTS_DEFAULT_RESULT}\n\t\t\t\t\tfocusedItem={focusedItem}\n\t\t\t\t/>\n\t\t\t);\n\t};\n\n\tconst renderDescription = () => {\n\t\tconst label = currentResult && currentResult.label || '';\n\t\tconst link = currentResult ? currentResult.link : '';\n\t\tconst resultId = currentResult ? 'result-' + currentResult.id + '-desc' : '';\n\t\tconst noFilteredData = !isObjectWithValues(filteredScopes);\n\t\tconst isFilteredWithNoResults = noFilteredData && filterBy;\n\t\tconst desc = isFilteredWithNoResults ? NO_DESCRIPTION_AVAILABLE :\n\t\t\tdescription || defaultTexts.description || SEARCH_RESULTS_DEFAULT_DESCRIPTION;\n\n\t\treturn (\n\t\t\t<sn-pd-picker-result-description\n\t\t\t\tcomponent-id='picker-description-list'\n\t\t\t\tdescription={desc}\n\t\t\t\tlabel={label}\n\t\t\t\tlink={link}\n\t\t\t\tresultId={resultId}\n\t\t\t\tfilterTerm={filterBy}\n\t\t\t\tloading={loading}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst renderScopeList = () => {\n\t\tconst scopesToRender = isFiltered ? filteredScopes : scopes;\n\t\tconst filterTerm = isFiltered ? filterBy : null;\n\t\tconst scopesNeedInfiniteScroll = shouldScopesInfiniteScroll(scopes, nextScopesUrl);\n\n\t\treturn (\n\t\t\t<sn-pd-picker-scope-list\n\t\t\t\tcomponent-id='picker-scope-list'\n\t\t\t\tscopes={scopesToRender}\n\t\t\t\tonScopeSelect={onScopeSelect}\n\t\t\t\tselectedScope={selectedOrDefaultScope}\n\t\t\t\tfilterTerm={filterTerm}\n\t\t\t\tnextURL={nextScopesUrl}\n\t\t\t\tgetNextPage={getNextPage}\n\t\t\t\tshouldHandleScroll={scopesNeedInfiniteScroll}\n\t\t\t\tintegrationsPluginActive={integrationsPluginActive}\n\t\t\t\tloading={loading}\n\t\t\t\tshowHeaders={showScopeHeaders}\n\t\t\t\tnoResultsMessage={defaultTexts.noData || NO_RESULTS}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className='picker-search-results'>\n\t\t\t{renderScopeList()}\n\t\t\t{renderResultList()}\n\t\t\t{renderDescription()}\n\t\t</div>\n\t);\n};\n\nexport {view};\n","import './scope-list-element';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {view} from './scope-list-view';\nimport {infiniteScroll} from '../../../../../../behaviors/infinite-scroll';\nimport styles from './scope-list.scss';\n\ncreateCustomElement('sn-pd-picker-scope-list', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\tscopesChunk: {},\n\t\tisNearingBottom: false,\n\t\tnextChunk: ''\n\t},\n\tbehaviors: [infiniteScroll],\n\tproperties: {\n\t\tscopes: {},\n\t\tselectedScope: {},\n\t\tfilterTerm: {},\n\t\tnextUrl: {},\n\t\tshouldHandleScroll: {},\n\t\tloading: {default: true},\n\t\tonScopeSelect: {},\n\t\tclearScopeSelection: {},\n\t\tshowHeaders: {},\n\t\tnoResultsMessage: {},\n\t\tintegrationsPluginActive: {},\n\t\tlistRef: {}\n\t},\n\tstyles\n});\n","import {isObjectWithValues} from '../../../../../../utils/helper-functions';\nimport {getScopesChunk, isLastChunk} from '../../../../../../utils/scroll-helpers';\nimport get from 'lodash/get';\nimport '../../results/result-header';\nimport {\n\tGET_NEXT_PAGE_SCOPES_REQUESTED,\n\tPICKER_UPDATE_RESULTS_CHUNK_REQUESTED,\n\tCATEGORY_LIST_HEADER_CLICKED,\n\tPICKER_DETERMINE_CHUNK_REQUESTED,\n\tPROPERTIES_SET\n} from '../../../../../../constants/action-types';\nimport {SCOPE_LIST_CLASS, RIGHT_ARROW_KEYCODE} from '../../../../../../constants/app-constants';\n\n\nconst view = (state, {dispatch}) => {\n\tconst {\n\t\tisNearingBottom,\n\t\tnextChunk,\n\t\tproperties: {\n\t\t\tshouldHandleScroll,\n\t\t\tscopes,\n\t\t\tnextUrl,\n\t\t\tfilterTerm,\n\t\t\tselectedScope,\n\t\t\tloading,\n\t\t\tonScopeSelect,\n\t\t\tshowHeaders,\n\t\t\tnoResultsMessage,\n\t\t\tlistRef\n\t\t},\n\t\tbehaviors\n\t} = state;\n\n\tconst resultsChunk = get(behaviors, 'infiniteScroll.resultsChunk', 0);\n\tconst scopesChunk = getScopesChunk(scopes, resultsChunk, selectedScope);\n\n\tconst setStateOnPropertiesChange = (ref) => {\n\t\tdispatch(PROPERTIES_SET, {scopesChunk, listRef: ref});\n\t};\n\n\tconst onScroll = (eventTarget) => {\n\t\tif (!shouldHandleScroll)\n\t\t\treturn;\n\n\t\tdispatch(PICKER_DETERMINE_CHUNK_REQUESTED, {element: listRef});\n\n\t\tif (nextChunk !== null && nextChunk > -1) {\n\t\t\tconst nextResultsChunk = getScopesChunk(scopes, nextChunk, selectedScope);\n\t\t\tconst hasNextResults = isObjectWithValues(nextResultsChunk);\n\t\t\tconst isItTheLastChunk = isLastChunk(scopes, nextResultsChunk);\n\t\t\tconst atBottomAndOutOfResults = (!hasNextResults || isItTheLastChunk) && isNearingBottom;\n\n\t\t\tif (!hasNextResults && !nextUrl)\n\t\t\t\treturn;\n\t\t\telse if (atBottomAndOutOfResults && nextUrl && !filterTerm) {\n\t\t\t\tdispatch(GET_NEXT_PAGE_SCOPES_REQUESTED, {url: nextUrl});\n\t\t\t\tdispatch(PICKER_UPDATE_RESULTS_CHUNK_REQUESTED, {nextChunk, target: eventTarget});\n\t\t\t} else if (hasNextResults)\n\t\t\t\tdispatch(PICKER_UPDATE_RESULTS_CHUNK_REQUESTED, {nextChunk, target: eventTarget});\n\t\t}\n\t};\n\n\tconst toggleSection = (event) => {\n\t\tconst group = get(event, 'target.dataset.group');\n\t\tdispatch(CATEGORY_LIST_HEADER_CLICKED, {group, groupedData: scopesChunk});\n\t};\n\n\tconst navigateScopeList = (target, keycode) => {\n\t\tif (keycode === RIGHT_ARROW_KEYCODE)\n\t\t\tonScopeSelect(target);\n\t};\n\n\treturn (\n\t\t<sn-pd-picker-list\n\t\t\thook-insert={({elm}) => setStateOnPropertiesChange(elm)}\n\t\t\tcollapsible={true}\n\t\t\tgroupedItems={scopesChunk}\n\t\t\tonHeaderClick={toggleSection}\n\t\t\tonSelectItem={onScopeSelect}\n\t\t\tisLoading={loading}\n\t\t\tfilterTerm={filterTerm}\n\t\t\tnavigateList={navigateScopeList}\n\t\t\tonScroll={onScroll}\n\t\t\tlistClassName={SCOPE_LIST_CLASS}\n\t\t\tdefaultItem={noResultsMessage}\n\t\t\tshowHeaders={showHeaders}\n\t\t/>\n\t);\n};\n\nexport {view};\n","import {createCustomElement, actionTypes} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport get from 'lodash/get';\nimport {view} from './header-view';\nimport styles from './header.scss';\n\nconst {COMPONENT_CONNECTED} = actionTypes;\n\ncreateCustomElement('sn-pd-picker-result-header', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tcollapsible: {default: false},\n\t\tinstalled: {},\n\t\theader: {},\n\t\tariaExpanded: {},\n\t\tariaLabel: {},\n\t\thint: {},\n\t\tonClick: {},\n\t\tonKeyDown: {},\n\t\theaderRef: {},\n\t\ticonName: {\n\t\t\tcomputed ({properties: {ariaExpanded}}) {\n\t\t\t\treturn ariaExpanded ? 'chevron-up-fill': 'chevron-down-fill';\n\t\t\t}\n\t\t},\n\t\tnavigateList: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_CONNECTED]: ({action, updateProperties}) => {\n\t\t\tconst headerRef = get(action, 'payload.host', null);\n\t\t\tupdateProperties({headerRef});\n\t\t}\n\t},\n\tstyles\n});\n","import {Fragment} from '@servicenow/ui-renderer-snabbdom';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-tooltip';\nimport {\n\tPICKER_DISMISSED,\n\tSWITCH_FOCUS_TO_FIRST_SCOPE_REQUESTED\n} from '../../../../../../constants/action-types';\nimport {\n\tDOWN_ARROW_KEYCODE,\n\tESC_KEYCODE,\n\tLEFT_ARROW_KEYCODE,\n\tTAB_KEYCODE,\n\tUP_ARROW_KEYCODE,\n\tTOOLTIP_DELAY_MILLISECONDS,\n\tLIST_HEADER_SKIP_TAB_CLASS\n} from '../../../../../../constants/app-constants';\n\nconst view = (state, dispatch) => {\n\tconst {\n\t\tproperties: {\n\t\t\tcollapsible,\n\t\t\theader,\n\t\t\tariaExpanded,\n\t\t\tariaLabel,\n\t\t\thint,\n\t\t\tonClick,\n\t\t\tnavigateList,\n\t\t\theaderRef,\n\t\t\ticonName\n\t\t}\n\t} = state;\n\n\tconst shouldBeTabbable = typeof onClick === 'function';\n\tconst thisTabIndex =  shouldBeTabbable ? '0' : '-1';\n\n\tconst handleOnKeyDown = (event) => {\n\t\tif (event.keyCode === DOWN_ARROW_KEYCODE || event.keyCode === UP_ARROW_KEYCODE) {\n\t\t\tnavigateList && navigateList(event);\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === LEFT_ARROW_KEYCODE)\n\t\t\tdispatch(SWITCH_FOCUS_TO_FIRST_SCOPE_REQUESTED);\n\n\t\tif (event.shiftKey && event.keyCode === TAB_KEYCODE)\n\t\t\tevent.preventDefault();\n\n\t\tif (event.keyCode === ESC_KEYCODE || event.keyCode === TAB_KEYCODE)\n\t\t\tdispatch(PICKER_DISMISSED);\n\n\t\tevent.stopPropagation();\n\t};\n\n\tconst renderHeader = () => {\n\t\tif (!collapsible)\n\t\t\treturn (<span className='picker-result-header-text-not-collapsible'>{header}</span>);\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\ton-click={onClick}\n\t\t\t\ton-keydown={handleOnKeyDown}\n\t\t\t\ttitle={hint}\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\taria-expanded={ariaExpanded}\n\t\t\t\ttype='button'\n\t\t\t\tdata-group={header}\n\t\t\t\ttabIndex={thisTabIndex}\n\t\t\t>\n\t\t\t\t<span className='picker-result-header-text'>\n\t\t\t\t\t{header}\n\t\t\t\t</span>\n\t\t\t\t<now-icon className='chevron' icon={iconName} size='md'></now-icon>\n\t\t\t</button>\n\t\t);\n\t};\n\n\tconst headerClass = shouldBeTabbable ? 'picker-result-header' : 'picker-result-header ' + LIST_HEADER_SKIP_TAB_CLASS;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<now-tooltip\n\t\t\t\tclassName='picker-result-header-tooltip'\n\t\t\t\ttarget-ref={headerRef}\n\t\t\t\tcontent={header}\n\t\t\t\tdelay={TOOLTIP_DELAY_MILLISECONDS}\n\t\t\t/>\n\t\t\t<li\n\t\t\t\tclassName={headerClass}\n\t\t\t\ttabIndex={thisTabIndex}\n\t\t\t\ton-keydown={handleOnKeyDown}\n\t\t\t>\n\t\t\t\t{renderHeader()}\n\t\t\t</li>\n\t\t</Fragment>\n\t);\n};\n\nexport {view};\n","module.exports = __TECTONIC__$servicenow_now_tooltip;","\n        var result = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./header.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".picker-result-header{padding:0;background-color:RGB(var(--now-color--neutral-1,246,247,247))}.picker-result-header button>*{pointer-events:none}.picker-result-header button{width:100%;box-sizing:border-box;padding:0 8px;background:none;border:none;clear:both;text-align:left;border-radius:0;height:26px;margin:0;cursor:pointer}.picker-result-header button .picker-result-header-text{font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:11px}.picker-result-header button .chevron{float:right;margin-right:10px;color:#343d47}.picker-result-header .picker-result-header-text-not-collapsible{cursor:default;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:11px;width:100%;padding:0 8px;text-align:left;min-height:26px;margin:0;line-height:26px;text-transform:capitalize}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./scope-list.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".picker-scope-list{width:250px;border-left:1px solid #e6e9eb;height:285px;padding:0;margin:0 -1px 0 0;position:relative;overflow-x:hidden;overflow-y:auto;list-style:none}.picker-scope-list img{border:1px solid #666;border-radius:50%;width:18px;height:18px}.picker-scope-list .picker-no-results{padding:10px}.picker-scope-list .picker-no-results.picker-loading{text-align:center;padding:20px}\", \"\"]);\n\n// exports\n","import './description-element';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {view} from './description-view';\nimport {SEARCH_RESULTS_DEFAULT_DESCRIPTION} from '../../../../../../constants/app-constants';\nimport styles from './description.scss';\n\n\ncreateCustomElement('sn-pd-picker-result-description', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {\n\t\tlabel: {},\n\t\tdescription: {default: SEARCH_RESULTS_DEFAULT_DESCRIPTION},\n\t\tresultId: {},\n\t\tlink:{},\n\t\tfilterTerm: {},\n\t\tloading: {}\n\t},\n\tstyles\n});\n","import {dangerouslyCreateElementFromString} from '@servicenow/ui-renderer-snabbdom';\nimport '../result-link';\nimport {xssSanitize} from '../../../../../../utils/xss-util';\nimport {underlineSearchTerm} from '../../../../../../utils/helper-functions';\nimport '@servicenow/now-loader';\n\nconst view = (state) => {\n\tconst {\n\t\tproperties: {\n\t\t\tresultId,\n\t\t\tlabel,\n\t\t\tdescription,\n\t\t\tlink,\n\t\t\tfilterTerm,\n\t\t\tloading\n\t\t}\n\t} = state;\n\n\tif (loading)\n\t\treturn <div className='loader'><now-loader size='md'></now-loader></div>;\n\n\tconst underlinedDescription = filterTerm ? underlineSearchTerm(filterTerm, description): '';\n\tconst descriptionToUse = `<span>${underlinedDescription || description}</span>`;\n\n\treturn (\n\t\t<div\n\t\t\tid={resultId}\n\t\t\tclassName='picker-component-result-description'\n\t\t>\n\t\t\t<div className='result-description-label'>{label}</div>\n\t\t\t<span className='result-description'>{dangerouslyCreateElementFromString(xssSanitize(descriptionToUse))}</span>\n\t\t\t{link && <sn-pd-picker-result-link link={link} />}\n\t\t</div>\n\t);\n};\n\nexport {view};\n","import './link-element';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport {view} from './link-view';\nimport styles from './link.scss';\n\n\ncreateCustomElement('sn-pd-picker-result-link', {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tproperties: {link: {}},\n\tstyles\n});\n","import {\n\tACCESS_ACTIONS_FOR_SPOKE,\n\tINSTALL,\n\tIT\n} from '../../../../../../constants/app-constants';\n\nconst view = (state) => {\n\tconst {link} = state.properties;\n\n\treturn (\n\t\t<div className='result-description-link'>\n\t\t\t<span>{ACCESS_ACTIONS_FOR_SPOKE} </span>\n\t\t\t<a id='store-link' href={link} target='_blank'>{INSTALL}</a>\n\t\t\t<span> {IT}</span>\n\t\t</div>\n\t);\n};\n\nexport {view};\n","\n        var result = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./link.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".result-description-link a#store-link{color:#1f8476;text-decoration:underline}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__xss_1_0_6;","\n        var result = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./description.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".picker-component-result-description{background-color:RGB(var(--now-color--neutral-1,246,247,247));border-top:1px solid rgb(var(--now-color--neutral-4,191,197,198));border-left:1px solid rgb(var(--now-color--neutral-4,191,197,198));margin-top:-1px;cursor:text;min-width:401px;max-width:401px;padding:5px 8px;height:100%;max-height:285px;overflow-x:hidden;overflow-y:auto;font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif}.picker-component-result-description .result-description-label{margin-bottom:5px;font-weight:700;color:#4a4a4a;font-size:13px}.picker-component-result-description .result-description{margin-bottom:16px;display:inline-block;font-size:13px;font-color:#343d47}.picker-component-result-description .result-description a#read-more{color:#1f8476;text-decoration:underline}.picker-component-result-description emp{text-decoration:underline}.loader{padding-top:142.5px;min-width:401px}\", \"\"]);\n\n// exports\n","import './result-list-element';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport {view} from './result-list-view';\nimport {infiniteScroll} from '../../../../../../behaviors/infinite-scroll';\n\ncreateCustomElement('sn-pd-picker-result-list', {\n\trenderer: {view},\n\tinitialState: {\n\t\tisNearingBottom: false,\n\t\tnextChunk: '',\n\t},\n\tproperties: {\n\t\tresults: {},\n\t\tfilterTerm: {},\n\t\tnextUrl: {},\n\t\tchunk: {},\n\t\tonFocus: {},\n\t\tonSelect: {},\n\t\tshouldHandleScroll: {},\n\t\tloading: {default: true},\n\t\tintegrationsPluginActive: {},\n\t\tonKeyDown: {},\n\t\tnoDataMessage: {},\n\t\tlistRef: {},\n\t\tfocusedItem: {default: ''}\n\t},\n\tbehaviors: [infiniteScroll]\n});\n","import {groupResultsByCategory, isObjectWithValues} from '../../../../../../utils/helper-functions';\nimport {getResultsChunk, isLastChunk} from '../../../../../../utils/scroll-helpers';\n\nimport '../../results/result-header';\nimport '../generic-list';\nimport {\n\tPICKER_GET_NEXT_PAGE_REQUESTED,\n\tPICKER_UPDATE_RESULTS_CHUNK_REQUESTED,\n\tPICKER_DETERMINE_CHUNK_REQUESTED,\n\tSWITCH_FOCUS_TO_SCOPE_REQUESTED,\n\tPROPERTIES_SET\n} from '../../../../../../constants/action-types';\nimport {RESULT_LIST_CLASS, LEFT_ARROW_KEYCODE} from '../../../../../../constants/app-constants';\n\nconst view = (state, dispatch) => {\n\tconst {\n\t\tisNearingBottom,\n\t\tnextChunk,\n\t\tproperties: {\n\t\t\tshouldHandleScroll,\n\t\t\tresults,\n\t\t\tnextUrl,\n\t\t\tfilterTerm,\n\t\t\tchunk,\n\t\t\tloading,\n\t\t\tonFocus,\n\t\t\tonSelect,\n\t\t\tnoDataMessage,\n\t\t\tlistRef,\n\t\t\tfocusedItem\n\t\t}\n\t} = state;\n\n\tconst setRef = (ref) => {\n\t\tdispatch(PROPERTIES_SET, {listRef: ref});\n\t};\n\n\tconst onScroll = (event) => {\n\t\tif (!shouldHandleScroll)\n\t\t\treturn;\n\n\t\tdispatch(PICKER_DETERMINE_CHUNK_REQUESTED, {element: listRef});\n\n\t\tif (nextChunk !== null && nextChunk > -1) {\n\t\t\tconst resultsObject = groupResultsByCategory(results);\n\t\t\tconst nextResultsChunk = getResultsChunk(results, nextChunk);\n\t\t\tconst hasNextResults = isObjectWithValues(nextResultsChunk);\n\t\t\tconst isItTheLastChunk = isLastChunk(resultsObject, nextResultsChunk);\n\t\t\tconst atBottomAndOutOfResults = (!hasNextResults || isItTheLastChunk) && isNearingBottom;\n\n\t\t\tif (!hasNextResults && !nextUrl)\n\t\t\t\treturn;\n\t\t\telse if (atBottomAndOutOfResults && nextUrl && !filterTerm) {\n\t\t\t\tdispatch(PICKER_GET_NEXT_PAGE_REQUESTED, {url: nextUrl});\n\t\t\t\tdispatch(PICKER_UPDATE_RESULTS_CHUNK_REQUESTED, {nextChunk, target: event.target});\n\t\t\t} else if (hasNextResults)\n\t\t\t\tdispatch(PICKER_UPDATE_RESULTS_CHUNK_REQUESTED, {nextChunk, target: event.target});\n\t\t}\n\t};\n\n\tconst navigateResultList = (target, keycode) => {\n\t\tif (keycode === LEFT_ARROW_KEYCODE)\n\t\t\tdispatch(SWITCH_FOCUS_TO_SCOPE_REQUESTED, {eventTarget: target});\n\t};\n\n\tconst groupedResultsChunk = getResultsChunk(results, chunk);\n\n\treturn (\n\t\t<sn-pd-picker-list\n\t\t\tid='result-list'\n\t\t\thook-insert={({elm}) => setRef(elm)}\n\t\t\tgroupedItems={groupedResultsChunk}\n\t\t\tonHeaderKeyDown={navigateResultList}\n\t\t\tonSelectItem={onSelect}\n\t\t\tisLoading={loading}\n\t\t\tfilterTerm={filterTerm}\n\t\t\tonFocusItem={onFocus}\n\t\t\tonScroll={onScroll}\n\t\t\tlistClassName={RESULT_LIST_CLASS}\n\t\t\tdefaultItem={noDataMessage}\n\t\t\tnavigateList={navigateResultList}\n\t\t\tfocusedItem={focusedItem}\n\t\t/>\n\t);\n};\n\nexport {view};\n","import './list-element';\n","import {createCustomElement, actionTypes} from '@servicenow/ui-core';\nimport styles from './list.scss';\nimport {view} from './list-view';\nimport {focusItem} from './list-actions';\n\nconst {COMPONENT_TREE_RENDERED} = actionTypes;\n\ncreateCustomElement('sn-pd-picker-list', {\n\trenderer: {view},\n\tproperties: {\n\t\tgroupedItems: {},\n\t\tcollapsible: {},\n\t\tonHeaderClick: {},\n\t\tonSelectItem: {},\n\t\tisLoading: {},\n\t\tfilterTerm: {},\n\t\tonFocusItem: {},\n\t\tonScroll: {},\n\t\tlistClassName: {},\n\t\tdefaultItem: {},\n\t\tshowHeaders: {default: true},\n\t\tnavigateList: {},\n\t\tonItemRender: {},\n\t\tresultRefs: {default: {}},\n\n\t\t/*\n\t\t   Focus the selected item in the list once the DOM is patched.\n\t\t   After the focus occurs, PICKER#LIST_FOCUSED action is dispatched\n\t\t   and this prop needs to be set to an empty string. If it isn't, the first\n\t\t   item will be refocused every time the list is rendered with a patched DOM\n\t\t*/\n\t\tfocusedItem: {default: ''}\n\t},\n\tstyles,\n\tactionHandlers: {\n\t\t[COMPONENT_TREE_RENDERED]: focusItem\n\t}\n});\n","\n        var result = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./list.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".list{height:285px;width:210px;padding:0;margin:0;position:relative;overflow-x:hidden;overflow-y:auto;list-style:none}.list img{width:15px;height:15px}.list.category{border-left:none}.list.category img{border:1px solid #666;border-radius:50%;width:18px;height:18px}.list .picker-no-results{padding:10px}.list .picker-no-results.picker-loading{text-align:center;padding:20px}.list .loader{height:285px;padding-top:142.5px}.list .picker-component-result button{display:flex;align-items:center;width:100%;height:26px;padding:0 8px;background:none;border:none;clear:both;text-align:left;border-radius:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:13px;font-family:Source Sans Pro,sans-serif;color:#343d47;font-weight:400;font-stretch:100%}.list .picker-component-result button:hover{background-color:RGB(var(--now-color--primary-0,221,237,233));cursor:pointer}.list .picker-component-result button:hover .icon{color:#fff}.list .picker-component-result button:focus{background-color:RGB(var(--now-color--primary-1,30,133,109));outline:none}.list .picker-component-result button:focus .icon{color:#fff}.list .picker-component-result button img{margin-right:10px}.list .picker-component-result button .cog-icon{height:15px;width:15px}.list .picker-component-result button .scope-icon{height:18px;width:18px}.list .picker-component-result button span{pointer-events:none}.list .picker-component-result.selected{background-color:RGB(var(--now-color--primary-0,221,237,233));color:#fff}.list .picker-component-result.selected .icon{color:#fff}\", \"\"]);\n\n// exports\n","import '../../results/result-header';\nimport {isObjectWithValues} from '../../../../../../utils/helper-functions';\nimport {\n\tCATEGORY,\n\tDEFAULT,\n\tDOWN_ARROW_KEYCODE, ESC_KEYCODE,\n\tHIDE,\n\tSHOW, TAB_KEYCODE,\n\tUP_ARROW_KEYCODE,\n\tENTER_KEY_CODE\n} from '../../../../../../constants/app-constants';\nimport '@servicenow/now-loader';\nimport {createResult} from '../../results/result/result';\nimport {\n\tNAVIGATE_LIST_REQUESTED,\n\tPROPERTIES_SET,\n\tRESET_AND_DISMISS_PICKER,\n\tSWITCH_FOCUS_TO_PREVIOUS_CONTROL,\n\tSWITCH_FOCUS_CLOSE_PICKER_BUTTON\n} from '../../../../../../constants/action-types';\n\nconst view = (state, dispatch, updateProperties) => {\n\tconst {\n\t\tproperties: {\n\t\t\tgroupedItems,\n\t\t\tcollapsible,\n\t\t\tonHeaderClick,\n\t\t\tonSelectItem,\n\t\t\tisLoading,\n\t\t\tfilterTerm,\n\t\t\tonFocusItem,\n\t\t\tonScroll,\n\t\t\tlistClassName,\n\t\t\tdefaultItem,\n\t\t\tshowHeaders,\n\t\t\tnavigateList,\n\t\t\tonItemRender,\n\t\t\tresultRefs\n\t\t}\n\t} = state;\n\n\tconst onKeyDown = (event) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tif (event.keyCode === DOWN_ARROW_KEYCODE || event.keyCode === UP_ARROW_KEYCODE)\n\t\t\tdispatch(NAVIGATE_LIST_REQUESTED, {target: event.target, keyCode: event.keyCode});\n\t\telse if (event.keyCode === ESC_KEYCODE)\n\t\t\tdispatch(RESET_AND_DISMISS_PICKER);\n\t\telse if (event.shiftKey && event.keyCode === TAB_KEYCODE)\n\t\t\tdispatch(SWITCH_FOCUS_TO_PREVIOUS_CONTROL);\n\t\telse if (event.keyCode === TAB_KEYCODE)\n\t\t\tdispatch(SWITCH_FOCUS_CLOSE_PICKER_BUTTON);\n\t\telse if (event.keyCode === ENTER_KEY_CODE)\n\t\t\tonSelectItem(event.target);\n\t\telse\n\t\t\tnavigateList(event.target, event.keyCode);\n\t};\n\n\tconst setRef = (elm, itemId) => {\n\t\tif (!resultRefs[itemId]) {\n\t\t\tresultRefs[itemId] = elm;\n\t\t\tdispatch(PROPERTIES_SET, {resultRefs: resultRefs});\n\t\t}\n\t};\n\n\tconst onRenderExtended = (elm, itemId) => {\n\t\tsetRef(elm, itemId);\n\n\t\tif (onItemRender)\n\t\t\tonItemRender();\n\t};\n\n\tconst onClick = (event) => {\n\t\tonSelectItem(event.target);\n\t\tevent.stopPropagation();\n\t};\n\n\tconst renderListItems = () => {\n\t\tif (isLoading)\n\t\t\treturn <div className='loader'><now-loader size='md'></now-loader></div>;\n\n\t\tconst noResultsListItem = <li className='picker-no-results'>{defaultItem}</li>;\n\n\t\tlet itemsToRender = [];\n\t\tlet listIndex = 0;\n\n\t\tif (!isObjectWithValues(groupedItems) && !isLoading)\n\t\t\treturn noResultsListItem;\n\n\t\tfor (let key in groupedItems) {\n\t\t\tconst spokeKeys = Object.keys(groupedItems[key]);\n\t\t\tconst isCollapsed = spokeKeys[0] && groupedItems[key][spokeKeys[0]] && groupedItems[key][spokeKeys[0]].collapsed;\n\t\t\tconst headerAriaLabel = (isCollapsed ? SHOW : HIDE) + ' ' + key;\n\n\t\t\tif (showHeaders)\n\t\t\t\titemsToRender.push(\n\t\t\t\t\t<sn-pd-picker-result-header\n\t\t\t\t\t\theader={key}\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tcollapsible={collapsible}\n\t\t\t\t\t\tonClick={onHeaderClick}\n\t\t\t\t\t\tnavigateList={navigateList}\n\t\t\t\t\t\tariaExpanded={!isCollapsed}\n\t\t\t\t\t\tariaLabel={headerAriaLabel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\tconst itemsLength = Object.keys(groupedItems[key]).length;\n\t\t\tlet itemsInGroup = 1;\n\n\t\t\tfor (let id in groupedItems[key]) {\n\t\t\t\tif (groupedItems[key].collapsed)\n\t\t\t\t\treturn null;\n\n\t\t\t\tconst item = groupedItems[key][id];\n\t\t\t\tconst onLastChildRender = itemsInGroup === itemsLength ? onRenderExtended : setRef;\n\t\t\t\tconst label = item.label || item.displayValue || item.name;\n\t\t\t\tconst category = showHeaders ? key : item.category|| DEFAULT;\n\n\t\t\t\tif (!item.collapsed) {\n\t\t\t\t\tconst props = {\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tkey: id,\n\t\t\t\t\t\titemListIndex: listIndex,\n\t\t\t\t\t\titemDataIndex: id,\n\t\t\t\t\t\tresult: item,\n\t\t\t\t\t\tfilterTerm,\n\t\t\t\t\t\tonSelect: onClick,\n\t\t\t\t\t\tariaLabel: `${CATEGORY} ${category}: ${label}`,\n\t\t\t\t\t\tonFocus: onFocusItem,\n\t\t\t\t\t\titemClass: 'result-item',\n\t\t\t\t\t\tonKeyDown,\n\t\t\t\t\t\tonRender: onLastChildRender,\n\t\t\t\t\t\tresultRefs\n\t\t\t\t\t};\n\n\t\t\t\t\tconst resultItem = createResult(props, updateProperties);\n\t\t\t\t\titemsToRender.push(resultItem);\n\t\t\t\t}\n\n\t\t\t\titemsInGroup++;\n\t\t\t\tlistIndex++;\n\t\t\t}\n\t\t}\n\n\t\treturn itemsToRender;\n\t};\n\n\treturn (\n\t\t<ul className={'list ' + listClassName} on-scroll={onScroll}>\n\t\t\t{renderListItems()}\n\t\t</ul>\n\t);\n};\n\nexport {view};\n","import {dangerouslyCreateElementFromString} from '@servicenow/ui-renderer-snabbdom';\nimport {ACTION_ICON, DEFAULT, TOOLTIP_DELAY_MILLISECONDS} from '../../../../../../constants/app-constants';\nimport {xssSanitize} from '../../../../../../utils/xss-util';\nimport {\n\tgetSystemLogo,\n\tunderlineSearchTerm,\n\tisObjectWithValues,\n\ttruncateIfNeeded\n} from '../../../../../../utils/helper-functions';\n\nexport const createResult = (props) => {\n\tconst {\n\t\tresult,\n\t\titemDataIndex,\n\t\titemListIndex,\n\t\tlabel,\n\t\tselected,\n\t\tfilterTerm,\n\t\tariaLabel,\n\t\tonSelect,\n\t\tonFocus,\n\t\tonKeyDown,\n\t\titemClass,\n\t\tresultRefs,\n\t\tonRender\n\t} = props;\n\n\tif (!result)\n\t\treturn null;\n\n\tconst logo = result.logo || (!!result.badge &&  result.badge + '.iix') || getSystemLogo(result);\n\tconst imageClass = logo === ACTION_ICON ? 'cog-icon' : 'scope-icon';\n\tconst selectedClass = selected ? 'selected' : '';\n\tconst classes = result.selected ? itemClass + ' selected' : itemClass;\n\tconst truncatedLabel = truncateIfNeeded(label, 30);\n\tconst labelToUse = filterTerm ? underlineSearchTerm(filterTerm, truncatedLabel): truncatedLabel;\n\tconst scope = result.scope;\n\tconst describedById = result.description ? 'result-' + result.id + '-desc' : null;\n\tconst category = (result && result.category) || DEFAULT || '';\n\tconst resultUniqueIdentifier = result.id || result.scope;\n\tconst resultRef = result && isObjectWithValues(resultRefs) && resultRefs[resultUniqueIdentifier];\n\n\tconst onRenderResult = (elm) => {\n\t\tif (onRender)\n\t\t\tonRender(elm, resultUniqueIdentifier);\n\t};\n\n\treturn (\n\t\t<div className='result-container'>\n\t\t\t<now-tooltip\n\t\t\t\tclassName='picker-result-tooltip'\n\t\t\t\ttarget-ref={resultRef}\n\t\t\t\tcontent={label}\n\t\t\t\tdelay={TOOLTIP_DELAY_MILLISECONDS}\n\t\t\t/>\n\t\t\t<li\n\t\t\t\thook-insert={({elm}) => onRenderResult(elm)}\n\t\t\t\ttabIndex='0'\n\t\t\t\tclassName={`picker-component-result ${classes}`}\n\t\t\t\tdata-scope={scope}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclassName={selectedClass}\n\t\t\t\t\ttype='button'\n\t\t\t\t\ttabIndex='1'\n\t\t\t\t\ton-click={onSelect}\n\t\t\t\t\taria-label={ariaLabel}\n\t\t\t\t\taria-describedby={describedById}\n\t\t\t\t\tdata-scope={scope}\n\t\t\t\t\tdata-listindex={itemListIndex.toString()}\n\t\t\t\t\tdata-index={itemDataIndex}\n\t\t\t\t\tdata-label={label}\n\t\t\t\t\tdata-category={category}\n\t\t\t\t\ton-focus={onFocus}\n\t\t\t\t\ton-keydown={onKeyDown}\n\t\t\t\t\tvalue={itemDataIndex || dangerouslyCreateElementFromString(xssSanitize(labelToUse))}\n\t\t\t\t\ton-mouseover={onFocus}\n\t\t\t\t>\n\t\t\t\t\t<img src={logo} className={imageClass}/>\n\t\t\t\t\t{dangerouslyCreateElementFromString(xssSanitize(labelToUse))}\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t</div>\n\t);\n};\n","import {LIST_FOCUSED} from '../../../../../../constants/action-types';\nimport isEmpty from 'lodash/isEmpty';\n\nexport function focusItem({action: {payload: {host}}, properties: {focusedItem}, dispatch}) {\n\tif (isEmpty(focusedItem))\n\t\treturn;\n\n\tconst firstResult = host.shadowRoot.querySelector('ul.list.result .result-item button');\n\tif (!firstResult || firstResult.dataset.index !== focusedItem)\n\t\treturn;\n\n\tfirstResult.focus();\n\tdispatch(LIST_FOCUSED);\n}\n","module.exports = __TECTONIC__lodash_4_17_4[\"isEmpty\"];","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./search-results.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".picker-search-results{display:flex;position:relative;align-items:stretch}.picker-search-results ul{margin:0}.picker-search-results ul li{cursor:pointer}.picker-search-results ul li.selected{background-color:#5fbaa4}.picker-search-results #picker-results{border-left:1px solid rgb(var(--now-color--neutral-4,191,197,198))}\", \"\"]);\n\n// exports\n","import './header-element';\n","import {createCustomElement, actionTypes} from '@servicenow/ui-core';\nimport {view} from './header-view';\nimport {\n\tDEFAULT_TEXTS,\n\tGENERIC_PICKER\n} from '../../../../constants/app-constants';\nimport {STORE_CLOSE_PICKER_BUTTON_HOST} from '../../../../constants/action-types';\nimport styles from './header.scss';\nimport {getSelectableProp} from '../../../../utils/helper-functions';\nimport {focusClosePickerButton} from '../../../../utils/accessibility-helpers';\n\n\ncreateCustomElement('sn-pd-picker-header', {\n\tview,\n\tinitialState: {\n\t\tisFirstRender: true\n\t},\n\tproperties: {\n\t\tdefaultTexts: {get default() {return getSelectableProp(GENERIC_PICKER, DEFAULT_TEXTS);}}\n\t},\n\tstyles,\n\tactionHandlers: {\n\t\t[actionTypes.COMPONENT_TREE_RENDERED]: {\n\t\t\teffect({dispatch, updateState, state, action: {payload: {host}}}) {\n\t\t\t\tif (state.isFirstRender) {\n\t\t\t\t\tfocusClosePickerButton(host);\n\t\t\t\t\tupdateState({isFirstRender: false});\n\t\t\t\t\tdispatch(STORE_CLOSE_PICKER_BUTTON_HOST, {host});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n","import '@servicenow/now-heading';\nimport '@servicenow/now-button';\nimport {t} from 'sn-translate';\nimport {PICKER_DISMISSED} from '../../../../constants/action-types';\n\nconst view = ({properties: {defaultTexts: {headerText}}}, dispatch) => {\n\tconst dismissPicker = () => {\n\t\tdispatch(PICKER_DISMISSED);\n\t};\n\n\treturn (\n\t\t<div className='picker-header'>\n\t\t\t<now-button-iconic\n\t\t\t\tclassName='close-picker-button'\n\t\t\t\ticon='close-outline'\n\t\t\t\ttooltipContent={t('Close picker')}\n\t\t\t\tsize='md'\n\t\t\t\tvariant='tertiary'\n\t\t\t\tbare={true}\n\t\t\t\tconfigAria={{button:{'aria-label': t('Close picker')}}}\n\t\t\t\ton-click={dismissPicker}\n\t\t\t/>\n\t\t\t<now-heading label={headerText} level='1' variant='header-tertiary' />\n\t\t</div>\n\t);\n};\n\nexport {view};\n","module.exports = __TECTONIC__$servicenow_now_heading;","\n        var result = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./header.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".picker-header{padding:.75rem .5rem 0;margin-bottom:-15px}.picker-header now-button-iconic{float:right;margin-top:-10px;margin-right:-5px}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./picker.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".picker-overlay-transparent{position:absolute;display:flex;justify-content:center;align-items:center;left:0;top:0;width:100%;height:100%;z-index:5000}.picker-overlay-transparent .picker{overflow:hidden;border:1px solid rgb(var(--now-color--primary-2,23,100,82));box-shadow:0 4px 2px -2px rgba(0,0,0,.2);background-color:#fff;color:#343d47;display:inline-block;flex-direction:column;z-index:6000;margin:3px 0 0 -1px}\", \"\"]);\n\n// exports\n","import * as ActionTypes from '../constants/action-types';\nimport * as ActionHandlers from '../action-handlers/picker-handlers';\n\nexport const accessibility = {\n\tname: 'accessibility',\n\tactionHandlers: {\n\t\t[ActionTypes.STORE_SEARCH_BAR_HOST]: ActionHandlers.storeSearchBarHost,\n\t\t[ActionTypes.STORE_PICKER_HOST]: ActionHandlers.storePickerHost,\n\t\t[ActionTypes.STORE_CLOSE_PICKER_BUTTON_HOST]: ActionHandlers.storeCloseButtonHost,\n\t\t[ActionTypes.SWITCH_FOCUS_TO_FIRST_SCOPE_REQUESTED]: ActionHandlers.handleSwitchFocusToFirstScope,\n\t\t[ActionTypes.SEARCH_FIELD_UPDATED]: ActionHandlers.handleSearchFieldUpdated,\n\t\t[ActionTypes.SWITCH_FOCUS_TO_SCOPE_REQUESTED]: ActionHandlers.handleSwitchFocusToScope,\n\t\t[ActionTypes.NAVIGATE_LIST_REQUESTED]: ActionHandlers.handleNavigateListRequested,\n\t\t[ActionTypes.TOGGLE_SEARCH_BAR_FOCUS]: ActionHandlers.setSearchBarFocusState,\n\t\t[ActionTypes.FOCUS_CREATE_BUTTON]: ActionHandlers.handleFocusCreateButton,\n\t\t[ActionTypes.SWITCH_FOCUS_TO_PREVIOUS_CONTROL]: ActionHandlers.handelFocusPreviousControl,\n\t\t[ActionTypes.SWITCH_FOCUS_CLOSE_PICKER_BUTTON]: ActionHandlers.switchFocusClosePickerButton\n\t}\n};\n\n","import {createHttpEffect} from '@servicenow/ui-effect-http';\nimport {\n\tGET_NEXT_PAGE_SCOPES_SUCCEEDED,\n\tGET_RESULTS_BY_SCOPE_SUCCEEDED,\n\tPICKER_DATA_FETCH_FAILED,\n\tPICKER_DATA_INITIAL_FETCH_SUCCEEDED,\n\tPICKER_FILTERED_FETCH_SUCCEEDED\n} from '../constants/action-types';\n\nexport const fetchPickerDataBasic = createHttpEffect('/:url', {\n\tpathParams: ['url'],\n\tsuccessActionType: PICKER_DATA_INITIAL_FETCH_SUCCEEDED,\n\terrorActionType: PICKER_DATA_FETCH_FAILED\n});\n\nexport const fetchFilteredPickerData = createHttpEffect('/:url', {\n\tpathParams: ['url'],\n\tsuccessActionType: PICKER_FILTERED_FETCH_SUCCEEDED,\n\terrorActionType: PICKER_DATA_FETCH_FAILED\n});\n\nexport const fetchNextPageScopes = createHttpEffect('/:url', {\n\tpathParams: ['url'],\n\tsuccessActionType: GET_NEXT_PAGE_SCOPES_SUCCEEDED,\n\terrorActionType: PICKER_DATA_FETCH_FAILED\n});\n\nexport const fetchResultsByScope = createHttpEffect('/:url', {\n\tpathParams: ['url'],\n\tsuccessActionType: GET_RESULTS_BY_SCOPE_SUCCEEDED,\n\terrorActionType: PICKER_DATA_FETCH_FAILED\n});\n","module.exports = __TECTONIC__$servicenow_ui_effect_http;","import {\n\taddCoreToFilteredIfAppropriate,\n\tcreateFilteredData,\n\tcreateInitialDataStore,\n\tlookupResultsByScopeId,\n\tinsertNewResultsInState,\n\tgetScopesData\n} from '../utils/helper-functions';\nimport {CORE_SCOPE_LABEL} from '../constants/app-constants';\nimport get from 'lodash/get';\n\nexport const handleInitialPickerDataFetchSucceeded = ({state, action, updateState}) => {\n\tconst result = get(action, 'payload.result', {});\n\tconst showStoreSpokes = get(state, 'properties.showStoreSpokes', true);\n\tconst formattedResults = createInitialDataStore(result, showStoreSpokes);\n\tconst integrationsPluginActive = get(action, 'payload.result.integrationsPluginActive', false);\n\tconst nextResultsUrl = get(action, 'payload._links.next', '');\n\tconst nextResultsURLsByScope = {...state.nextResultsURLsByScope};\n\tnextResultsURLsByScope[CORE_SCOPE_LABEL] = nextResultsUrl;\n\n\tupdateState({\n\t\t...formattedResults,\n\t\tgettingData: false,\n\t\tintegrationsPluginActive,\n\t\tisFiltered: false,\n\t\tfilterBy: null,\n\t\tfilteredResults: {},\n\t\tnextResultsUrlsByScope: {},\n\t\tnextResultsUrl,\n\t\tnextScopesUrl: nextResultsUrl\n\t});\n};\n\nexport const handleGetResultsByScopeSucceeded = ({updateState, state, action}) => {\n\tconst response = get(action, 'payload.result', {});\n\tconst results = response.data || response;\n\tconst nextResultsUrl = get(action, 'payload._links.next', '');\n\tlet scopeId = get(state, 'scopeId', '');\n\tscopeId = scopeId || results[0].scope;\n\tconst currentResults = lookupResultsByScopeId(state.results, scopeId) || [];\n\tconst allResults = [...currentResults, ...results];\n\tconst updatedResults = insertNewResultsInState(state.results, scopeId, allResults);\n\tconst nextResultsUrlsByScope = {...state.nextResultsURLsByScope};\n\tnextResultsUrlsByScope[scopeId] = nextResultsUrl;\n\n\tupdateState({\n\t\tresults: updatedResults,\n\t\tnextResultsUrl,\n\t\tnextResultsUrlsByScope,\n\t\tgettingData: false\n\t});\n};\n\nexport const handleFilteredFetchSucceeded = ({state, action, updateState}) => {\n\tconst response = get(action, 'payload.result', {});\n\tconst results = response.data || response;\n\tconst showStoreSpokes = get(state, 'showStoreSpokes', true);\n\tconst filterBy = get(state, 'filterBy', '');\n\tconst filteredData = createFilteredData(results, showStoreSpokes);\n\tconst formattedResults = addCoreToFilteredIfAppropriate(filteredData, state, filterBy);\n\n\tupdateState({\n\t\t...state,\n\t\t...formattedResults,\n\t\tfilterBy,\n\t\tisFiltered: !!filterBy,\n\t\tnextResultsUrl: '',\n\t\tgettingData: false\n\t});\n};\n\nexport const handleFailedFetch = ({state, action, updateState}) => {\n\tconst response = get(action, 'payload.result', {});\n\tconst results = response.data || response;\n\tconst showStoreSpokes = get(state, 'properties.showStoreSpokes', true);\n\tconst formattedResults = createInitialDataStore(results, showStoreSpokes);\n\n\tupdateState({\n\t\t...formattedResults,\n\t\tgettingData: false\n\t});\n};\n\nexport const handleGetNextPageScopesSucceeded = ({state, updateState, action}) => {\n\tconst response = get(action, 'payload.result', {});\n\tconst results = response.data || response;\n\tconst showStoreSpokes = get(state, 'properties.showStoreSpokes', true);\n\tconst {scopes, nextScopesURL} = getScopesData(results, showStoreSpokes);\n\tconst gettingData = false;\n\n\tupdateState({...scopes, nextScopesURL, gettingData});\n};\n","import './activity-picker-element';\n","import {createCustomElement} from '@servicenow/ui-core';\nimport {view} from './activity-picker-view';\nimport {INITIAL_ACTIVITY_DATA_API, FILTER_ACTIVITIES_API, ACTIVITIES_BY_SCOPE_API, ACTIVITY_API_TYPE} from './activity-api-constants';\nimport {restAPI} from '../../behaviors/rest-api';\nimport {resetData} from '../../behaviors/reset-data';\n\ncreateCustomElement('sn-activity-picker', {\n\trenderer: {view},\n\tinitialState: {\n\t\tresults: {},\n\t\tscopes: {},\n\t\tisFiltered: false,\n\t\tfilterBy: null,\n\t\tfilteredResults: {},\n\t\tnextResultsUrlsByScope: {},\n\t\tnextResultsUrl: '',\n\t\tnextScopesUrl: '',\n\t\tintegrationsPluginActive: true,  // so we do not show it in the list\n\t\tgettingData: true,\n\t\ttimeout: {},\n\t\tendpoints: {type: ACTIVITY_API_TYPE, initial: INITIAL_ACTIVITY_DATA_API, filter: FILTER_ACTIVITIES_API, scope: ACTIVITIES_BY_SCOPE_API}\n\t},\n\tproperties: {\n\t\tshowStoreSpokes: {default: false},\n\t\tshowPicker: {default: true},\n\t\tshowCreateItem: {default: true}\n\t},\n\tbehaviors: [restAPI, resetData]\n});\n","import '../generic-picker';\nimport {DEFAULT_TEXTS, CORE_SCOPE_LABEL} from './activity-api-constants';\n\nconst view = (state) => {\n\tconst {\n\t\tfilteredResults,\n\t\tfilterBy,\n\t\tisFiltered,\n\t\tfilteredScopes,\n\t\tintegrationsPluginActive,\n\t\tgettingData,\n\t\tscopes,\n\t\tnextScopesUrl,\n\t\tnextResultsUrlsByScope,\n\t\tnextResultsUrl,\n\t\tresults,\n\t\tendpoints\n\t} = state;\n\n\tconst {showPicker, showCreateItem} = state.properties;\n\tconst coreScope = scopes && scopes.core;\n\tconst filteredCoreScope = filteredScopes && filteredScopes.core;\n\tconst scopesWithUpdatedCoreLabel = coreScope ? {...scopes, core: {...coreScope, displayValue: CORE_SCOPE_LABEL}} : scopes;\n\tconst filteredScopesWithUpdatedCoreLabel = filteredCoreScope ?\n\t\t{...filteredScopes, core: {...filteredCoreScope, displayValue: CORE_SCOPE_LABEL}} : filteredScopes;\n\n\treturn <sn-generic-picker\n\t\tcomponent-id='generic-picker'\n\t\tresults={results}\n\t\tscopes={scopesWithUpdatedCoreLabel}\n\t\tfilterBy={filterBy}\n\t\tfilteredResults={filteredResults}\n\t\tnextResultsUrlsByScope={nextResultsUrlsByScope}\n\t\tnextResultsUrl={nextResultsUrl}\n\t\tnextScopesUrl={nextScopesUrl}\n\t\tintegrationsPluginActive={integrationsPluginActive}\n\t\tgettingData={gettingData}\n\t\tshowScopeHeaders={false}\n\t\tisFiltered={isFiltered}\n\t\tfilteredScopes={filteredScopesWithUpdatedCoreLabel}\n\t\tdefaultTexts={DEFAULT_TEXTS}\n\t\tendpoints={endpoints}\n\t\tshowPicker={showPicker}\n\t\tshowCreateItem={showCreateItem}\n\t/>;\n};\n\nexport {view};\n","import {ACTION_PICKER, ACTIVITY_PICKER} from '../constants/app-constants';\n\nexport const view = (state) => {\n\tconst {variant, showPicker, showCreateItem} = state.properties;\n\n\tconst renderPopup = () => {\n\t\tswitch (variant) {\n\t\t\tcase ACTION_PICKER:\n\t\t\t\treturn <sn-action-picker component-id='action-picker' showPicker={showPicker} showCreateItem={showCreateItem} />;\n\t\t\tcase ACTIVITY_PICKER:\n\t\t\t\treturn <sn-activity-picker component-id='activity-picker' showPicker={showPicker} showCreateItem={showCreateItem} />;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<slot name='picker-trigger-button'></slot>\n\t\t\t{renderPopup()}\n\t\t</div>\n\t);\n};\n"],"sourceRoot":""}