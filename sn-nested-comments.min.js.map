{"version":3,"sources":["webpack://__TECTONIC__$devsnc_sn_nested_comments/webpack/bootstrap","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/constants.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_button\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_heading\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_record_html_editor\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__sn_component_timeago\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/sn-comments-internal/constants.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/index.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/index.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/snNestedComments.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/actions.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/schemas/sn-nested-comments-schema.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/view.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_badge\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_text_link\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/sn-comments-internal/index.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/sn-comments-internal/snCommentsInternal.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/sn-comments-internal/view.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/external \"__TECTONIC__$servicenow_now_dropdown\"","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/sn-comments-internal/actions.js","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/sn-comments-internal/styles.scss?854f","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/sn-comments-internal/styles.scss","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/styles.scss?7aae","webpack://__TECTONIC__$devsnc_sn_nested_comments/./src/sn-nested-comments/styles.scss"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__lodash_4_17_4","__TECTONIC__$servicenow_ui_core","NOW_BUTTON_BARE_CLICKED","NOW_BUTTON_ICONIC_CLICKED","NOW_TEXT_LINK_CLICKED","NOW_DROPDOWN_ITEM_CLICKED","NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED","NOW_RECORD_HTML_EDITOR_VALUE_CHANGED","HTML_EDITOR_ACTION_PERFORMED","SHOW_REPLY_BUTTON_CLICKED","HIDE_REPLY_BUTTON_CLICKED","TOGGLE_DISPLAY_ALL_COMMENTS","SHOW_MORE_COMMENTS","SN_NESTED_COMMENTS_COMMENT_SUBMITTED","SN_NESTED_COMMENTS_ACTION_SUBMITTED","SN_NESTED_COMMENTS_REACTION_TOGGLED","CLOSE_EDITOR","SUBMIT_COMMENT","NEW_COMMENT","REPLY_COMMENT","__TECTONIC__$servicenow_now_avatar","__TECTONIC__$servicenow_now_button","__TECTONIC__$servicenow_now_heading","__TECTONIC__$servicenow_now_record_html_editor","__TECTONIC__sn_component_timeago","__TECTONIC__sn_translate","HTML_EDITOR_ACTION_PERFORMED_PRIVATE","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","createCustomElement","renderer","type","snabbdom","view","properties","comments","default","schema","commentsSchema","userInformation","actions","actionsSchema","reactionLabel","translatable","reactionIcon","initialDisplayCount","minimum","indentationLimit","maximum","dispatches","parentId","actionId","commentId","reaction","initialState","items","currentEditorId","expandedItems","isEditing","expanded","hasChildren","commentsToDisplay","openPrimaryEditor","styles","actionHandlers","COMPONENT_BOOTSTRAPPED","actionTypes","COMPONENT_PROPERTY_CHANGED","extractContent","str","DOMParser","parseFromString","documentElement","textContent","trim","effect","updateProperties","updateState","isNaN","parseInt","commentsCount","isEmpty","state","action","dispatch","payload","path","operation","text","itemId","find","x","stopPropagation","tempState","indexOf","tempArr","ind","splice","arr","forEach","children","payloadValue","comment","label","icon","ariaLabel","$id","created","user","avatar","reactionCount","isReacted","parent","$ref","TextEditor","appendToPayload","language","className","autofocus","tooltip-content","size","variant","on-click","e","disabled","has-no-margin","round","status","data-testid","aria-hidden","image-src","user-name","fullName","underline","href","filter","index","manage-expanded","config-aria","hide-padding","__TECTONIC__$servicenow_now_badge","__TECTONIC__$servicenow_now_text_link","timeAgoBehaviors","SnTimeAgo","getBehaviors","manageExpanded","behaviors","placeholder","getClass","classes","level","includes","root","Comment","timeStamp","visibleActions","isHidden","findIndex","element","has","Fragment","parent_obj","getUserDetails","timeAgo","dateBoth","systemTime","dateOnly","getTickTime","time","bare","hide-caret","select","append-to-payload","innerHTML","meta","capitalize","icon-start","showReplies","getRepliesButton","tempItems","parse","__TECTONIC__$servicenow_now_icon","__TECTONIC__$servicenow_now_dropdown","result"],"mappings":"uDACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,8C,cCAjBjC,EAAOD,QAAUmC,2B,cCAjBlC,EAAOD,QAAUoC,iC,8ECAsBC,EAA1BA,wBAA0B,0BACEC,EAA5BA,0BAA4B,4BACJC,EAAxBA,sBAAwB,wBACIC,EAA5BA,0BAA4B,4BACkBC,EAA9CA,4CAA8C,8CACPC,EAAvCA,qCAAuC,uCAERC,EAA/BA,6BAA+B,+BAEHC,EAA5BA,0BAA4B,+CACAC,EAA5BA,0BAA4B,+CACEC,EAA9BA,4BAA8B,iDACTC,EAArBA,mBAAqB,wCAEkBC,EAAvCA,qCAAuC,uCACDC,EAAtCA,oCAAsC,sCACAC,EAAtCA,oCAAsC,sCAEvBC,EAAfA,aAAe,eACEC,EAAjBA,eAAiB,iBACHC,EAAdA,YAAc,cACEC,EAAhBA,cAAgB,iB,cCrB7BrD,EAAOD,QAAUuD,oC,cCAjBtD,EAAOD,QAAUwD,oC,cCAjBvD,EAAOD,QAAUyD,qC,cCAjBxD,EAAOD,QAAU0D,gD,cCAjBzD,EAAOD,QAAU2D,kC,cCAjB1D,EAAOD,QAAU4D,0B,8ECA0CnB,EAA9CA,4CAA8C,8CACPC,EAAvCA,qCAAuC,uCAERC,EAA/BA,6BAA+B,+BACQkB,EAAvCA,qCAAuC,uCACXjB,EAA5BA,0BAA4B,+CACAC,EAA5BA,0BAA4B,+CAEbM,EAAfA,aAAe,eACEC,EAAjBA,eAAiB,iBACDE,EAAhBA,cAAgB,iB,6BCL7BrD,EAAOD,QAAU,SAAS8D,GACzB,IAAIC,EAAO,GAwCX,OArCAA,EAAKC,SAAW,WACf,OAAOC,KAAKC,KAAI,SAAUC,GACzB,IAAIC,EAsCP,SAAgCD,EAAML,GACrC,IAAIM,EAAUD,EAAK,IAAM,GACrBE,EAAaF,EAAK,GACtB,IAAKE,EACJ,OAAOD,EAGR,GAAIN,GAAgC,mBAATQ,KAAqB,CAC/C,IAAIC,GAYaC,EAZaH,EAiBxB,mEAHMC,KAAKG,SAASC,mBAAmBC,KAAKC,UAAUJ,MAGtC,OAhBlBK,EAAaR,EAAWS,QAAQZ,KAAI,SAAUa,GACjD,MAAO,iBAAmBV,EAAWW,WAAaD,EAAS,SAG5D,MAAO,CAACX,GAASa,OAAOJ,GAAYI,OAAO,CAACV,IAAgBW,KAAK,MAOnE,IAAmBV,EAJlB,MAAO,CAACJ,GAASc,KAAK,MAtDNC,CAAuBhB,EAAML,GAC3C,OAAGK,EAAK,GACA,UAAYA,EAAK,GAAK,IAAMC,EAAU,IAEtCA,KAENc,KAAK,KAITnB,EAAK7D,EAAI,SAASE,EAASgF,GACJ,iBAAZhF,IACTA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAE5B,IADA,IAAIiF,EAAyB,GACrBnF,EAAI,EAAGA,EAAI+D,KAAKqB,OAAQpF,IAAK,CACpC,IAAIqF,EAAKtB,KAAK/D,GAAG,GACA,iBAAPqF,IACTF,EAAuBE,IAAM,GAE/B,IAAIrF,EAAI,EAAGA,EAAIE,EAAQkF,OAAQpF,IAAK,CACnC,IAAIiE,EAAO/D,EAAQF,GAKG,iBAAZiE,EAAK,IAAoBkB,EAAuBlB,EAAK,MAC3DiB,IAAejB,EAAK,GACtBA,EAAK,GAAKiB,EACDA,IACTjB,EAAK,GAAK,IAAMA,EAAK,GAAK,UAAYiB,EAAa,KAEpDrB,EAAKyB,KAAKrB,MAINJ,I,8DC9CR,O,6BCAA,O,6BCAA,WACA,QACA,Q,IACA,M,IACA,O,IACA,O,oDA6DA,IAAA0B,qBAAoB,qBAAsB,CACxCC,SAAU,CACRC,KAAMC,UACNC,gBAEFC,WAAY,CAQVC,SAAU,CAAEC,QAAS,GAAIC,OAAQC,kBASjCC,gBAAiB,CAAEH,QAAS,IAS5BI,QAAS,CAAEJ,QAAS,GAAIC,OAAQI,iBAShCC,cAAe,CACbN,QAAS,OACTC,OAAQ,CACNN,KAAM,SACNY,cAAc,IAWlBC,aAAc,CACZR,QAAS,oBACTC,OAAQ,CACNN,KAAM,WAWVc,oBAAqB,CACnBT,QAAS,EACTC,OAAQ,CACNN,KAAM,SACNe,QAAS,IAWbC,iBAAkB,CAChBX,QAAS,EACTC,OAAQ,CACNN,KAAM,SACNe,QAAS,EACTE,QAAS,KAIfC,WAAY,CAOV,uCAAwC,CACtCZ,OAAQ,CACNN,KAAM,SACNG,WAAY,CACV1B,QAAS,CAAEuB,KAAM,UACjBmB,SAAU,CAAEnB,KAAM,aAUxB,sCAAuC,CACrCM,OAAQ,CACNN,KAAM,SACNG,WAAY,CACViB,SAAU,CAAEpB,KAAM,UAClBqB,UAAW,CAAErB,KAAM,aAUzB,sCAAuC,CACrCM,OAAQ,CACNN,KAAM,SACNG,WAAY,CACVmB,SAAU,CAAEtB,KAAM,WAClBqB,UAAW,CAAErB,KAAM,cAK3BuB,aAAc,CACZC,MAAO,GACPC,gBAAiB,GACjBC,cAAe,GACfC,UAAW,GACXC,UAAU,EACVC,aAAa,EACbC,kBAAmB,EACnBtG,MAAO,GACPuG,mBAAmB,GAErBC,OAAQA,UACRvB,QAASA,UACTwB,eAAgBA,oB,sHC3NlB,WACA,OAGA,O,oPAFQC,EAAuDC,cAAvDD,uBAAwBE,EAA+BD,cAA/BC,2BAuB1BP,EAAc,SAAAL,GACnB,IAAK,IAAIjH,EAAI,EAAGA,EAAIiH,EAAM7B,OAAQpF,IACjC,IAAI,IAAAa,KAAIoG,EAAMjH,GAAI,kBAAmB,GAAK,EACzC,OAAO,EAGT,OAAO,GAGF8H,EAAiB,SAACC,GACvB,OAAQ,IAAIC,WAAWC,gBAAgBF,EAAK,aAAaG,gBAAgBC,YAAYrE,WAAWsE,QAG1ElC,EAAVA,QAAU,GAIOwB,EAAjBA,uBACXC,EAAyB,CACzBU,OADyB,YAC6B,IAA7CzC,EAA6C,EAA7CA,WAAY0C,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,YAClChC,GAAuB,IAAAiC,OAAM5C,EAAWW,sBAAwBX,EAAWW,oBAAsB,EAAK,EAAIkC,SAAS7C,EAAWW,qBAC9HmC,EAAgB9C,EAAWC,SAAST,OAGxCkD,EAAiB,CAChB/B,oBAAqBA,EACrBL,SAJc,IAAAyC,SAAQ/C,EAAWM,SAAgC,GAArBN,EAAWM,UAOxDqC,EAAY,CACXtB,MAAOrB,EAAWC,SAClByB,YAAaA,EAAY1B,EAAWC,UACpC0B,kBAAmBmB,EAAgBnC,EAAsBA,EAAsBmC,OAftE,IAoBXb,EAA6B,CAC7BQ,OAD6B,YACc,IAAlCO,EAAkC,EAAlCA,MAAOhD,EAA2B,EAA3BA,WAAY2C,EAAe,EAAfA,YAC3BA,EAAY,CACXtB,MAAOrB,EAAWC,SAClByB,YAAaA,EAAY1B,EAAWC,YAGrC,IAAIU,EAAsBX,EAAWW,oBACjCgB,EAAoBqB,EAAMrB,kBAC1BmB,EAAgB9C,EAAWC,SAAST,OAEpCmC,EAAoBhB,GACvBgC,EAAY,CACXhB,kBAAmBmB,EAAgBnC,EAAsBA,EAAsBmC,OAjCvE,IAuCXjG,+BAA+B,CAC/B4F,OAAQ,YAA8C,IAA3CQ,EAA2C,EAA3CA,OAAQD,EAAmC,EAAnCA,MAAOE,EAA4B,EAA5BA,SAAUP,EAAkB,EAAlBA,YAC/BM,EAAOE,QAAQF,QAAU5F,eACxB4F,EAAOE,QAAQtD,MAAQtC,cAC1BoF,EAAY,CACXf,mBAAmB,IAEVqB,EAAOE,QAAQtD,MAAQrC,iBACjCmF,EAAY,CACXS,KAAM,kBACN/H,MAAO,GACPgI,UAAW,QAGHJ,EAAOE,QAAQF,QAAU3F,oBAC9B,IAAAyF,SAAQE,EAAOE,QAAQG,QACvBL,EAAOE,QAAQtD,MAAQrC,iBAC1B0F,EAAShG,uCAAsC,CAC9CoB,QAAS2E,EAAOE,QAAQG,KACxBtC,SAAUiC,EAAOE,QAAQI,SAG1BZ,EAAY,CACXS,KAAM,kBACN/H,MAAO,GACPgI,UAAW,QAGRL,EAAM3B,MAAMmC,MAAK,SAAAC,GAAA,OAAKA,EAAEhE,IAAMwD,EAAOE,QAAQI,WAChDL,EAASpG,4BAA2B,CAAEyG,OAAQN,EAAOE,QAAQI,UAEpDN,EAAOE,QAAQtD,MAAQtC,gBACjC2F,EAAShG,uCAAsC,CAC9CoB,QAAS2E,EAAOE,QAAQG,KACxBtC,SAAU,KAGX2B,EAAY,CACXf,mBAAmB,IAGpBe,EAAY,CACXS,KAAM,QACN/H,MAAO,GACPgI,UAAW,YAMhBK,iBAAiB,IAzFN,IA4FX5G,4BAA4B,CAC5B2F,OAAQ,YAAoC,IAAjCQ,EAAiC,EAAjCA,OAAQD,EAAyB,EAAzBA,MAAOL,EAAkB,EAAlBA,YACrBgB,EAAY,IAC2C,GAAvDX,EAAMzB,cAAcqC,QAAQX,EAAOE,QAAQI,UAC9CI,EAAUpC,cAAV,YAA8ByB,EAAMzB,eAApC,CAAmD0B,EAAOE,QAAQI,SAClEZ,EAAYgB,KAGdD,iBAAiB,IApGN,IAuGX3G,4BAA4B,CAC5B0F,OAAQ,YAAoC,IAAjCQ,EAAiC,EAAjCA,OAAQD,EAAyB,EAAzBA,MAAOL,EAAkB,EAAlBA,YACrBkB,EAAUA,GAAVA,SAAcb,EAAMzB,gBACpBoC,EAAY,GACZG,EAAMD,EAAQD,QAAQX,EAAOE,QAAQI,SAC7B,GAARO,GACHD,EAAQE,OAAOD,EAAK,GAErBH,EAAUpC,cAAgBsC,EAC1BlB,EAAYgB,IAEbD,iBAAiB,IAlHN,IAqHXnH,0BAA0B,CAC1BkG,OAAQ,YAA8C,IAA3CQ,EAA2C,EAA3CA,OAAQN,EAAmC,EAAnCA,YAAaO,EAAsB,EAAtBA,SAAUF,EAAY,EAAZA,MACrC9B,GAAY,IAAAjG,KAAIgI,EAAQ,kBAAmB,IACZ,UAA/B,IAAAhI,KAAIgI,EAAQ,gBACkC,IAA7C,IAAAhI,KAAIgI,EAAQ,yBAA0B,IACzCC,EAAS9F,sCAAqC,CAC7C+D,UAAU,EACVD,UAAWA,IAE2C,IAA7C,IAAAjG,KAAIgI,EAAQ,yBAA0B,KAChDC,EAAS9F,sCAAqC,CAC7C+D,UAAU,EACVD,UAAWA,IAGgC,UAAnC,IAAAjG,KAAIgI,EAAQ,eAAgB,OAErC,IAAAF,SAAQC,EAAM1B,kBACdJ,GAAa8B,EAAM1B,gBAEnBqB,EAAY,CACXrB,gBAAiBJ,EACjBM,WAAW,IAGZmB,EAAY,CACXrB,gBAAiB,GACjBE,WAAW,MAKfkC,iBAAiB,IArJN,IAwJX1G,8BAA8B,CAC9ByF,OAD8B,YACC,IAAtBE,EAAsB,EAAtBA,YAAaK,EAAS,EAATA,MACrB,GAAIA,EAAMvB,SACTkB,EAAY,CACXlB,UAAU,EACVF,cAAe,SAEV,CACN,IAAIyC,EAAM,GACVhB,EAAM3B,MAAM4C,SAAQ,SAAAR,GACfA,EAAES,SAAS1E,OAAS,GACvBwE,EAAItE,KAAK+D,EAAEhE,OAEbkD,EAAY,CACXlB,UAAU,EACVF,cAAeyC,MAIlBN,iBAAiB,IA3KN,IA8KXzG,qBAAqB,CACrBwF,OADqB,YAC6E,IAAzFE,EAAyF,EAAzFA,YAAyF,IAA5EK,MAASrB,EAAmE,EAAnEA,kBAAmBN,EAAgD,EAAhDA,MAAuBV,EAAyB,EAAvCX,WAAcW,oBACpEgB,EAAoBkB,SAASlC,IAAwBU,EAAM7B,OAC9DmD,EAAY,CACXhB,kBAAmBN,EAAM7B,SAI1BmD,EAAY,CACXhB,kBAAmBA,EAAoBkB,SAASlC,MAInD+C,iBAAiB,IA3LN,IA8LX/G,8CAA8C,CAC9C8F,OAD8C,YACP,IAA9BQ,EAA8B,EAA9BA,OAAQN,EAAsB,EAAtBA,YAAaK,EAAS,EAATA,MACzBmB,EAAejC,EAAee,EAAOE,QAAQ9H,OAC7C2H,EAAM3H,OAAS4H,EAAOE,QAAQ9H,SAAU,IAAA0H,SAAQC,EAAM3H,SAAU,IAAA0H,SAAQoB,KAC3ExB,EAAY,CACXtH,MAAO8I,KAGVT,iBAAiB,IAtMN,IAyMX9G,uCAAuC,CACvC6F,OADuC,YACA,IAA9BQ,EAA8B,EAA9BA,OAAQN,EAAsB,EAAtBA,YAAsB,EAATK,OACxB,IAAAD,SAAQb,EAAee,EAAOE,QAAQ9H,SAC1CsH,EAAY,CACXtH,MAAO4H,EAAOE,QAAQ9H,WA7Md,IAkNXmB,4BAA4B,CAC5BiG,OAD4B,YACC,IAApBQ,EAAoB,EAApBA,QACRC,EAD4B,EAAZA,UACP/F,sCAAqC,CAC7C8D,SAAUgC,EAAOE,QAAQ9E,KAAKoB,GAC9ByB,UAAW+B,EAAOE,QAAQiB,QAAQ3E,MAGpCiE,iBAAiB,IAzNN,IA4NXhH,4BAA4B,CAC5B+F,OAD4B,YACC,IAApBQ,EAAoB,EAApBA,QACRC,EAD4B,EAAZA,UACP/F,sCAAqC,CAC7C8D,SAAUgC,EAAOE,QAAQ9E,KAAKoB,GAC9ByB,UAAW+B,EAAOE,QAAQiB,QAAQ3E,MAGpCiE,iBAAiB,IAnON,IAsOXjH,wBAAwB,CACxBgG,OADwB,aAEvBE,EADuB,EAAfA,aACI,CACXf,mBAAmB,KAGrB8B,iBAAiB,IA5ON,I,8ECjCgBnD,EAAhBA,cAAgB,CACzBV,KAAM,QACNwB,MAAO,CACHxB,KAAM,SACNG,WAAY,CACRP,GAAI,CAAEI,KAAM,UACZwE,MAAO,CAAExE,KAAM,SAAUY,cAAc,GACvC6D,KAAM,CAAEzE,KAAM,UACd0E,UAAW,CAAE1E,KAAM,SAAUY,cAAc,MAKzBL,EAAjBA,eAAiB,CAC1BoE,IAAK,iBACL3E,KAAM,QACNwB,MAAO,CACHxB,KAAM,SACNG,WAAY,CACRP,GAAI,CAAEI,KAAM,UACZ4E,QAAS,CAAE5E,KAAM,UACjByD,KAAM,CAAEzD,KAAM,SAAUY,cAAc,GACtCiE,KA/BO,CACf7E,KAAM,SACNG,WAAY,CACRrF,KAAM,CAAEkF,KAAM,UACdJ,GAAI,CAAEI,KAAM,UACZ8E,OAAQ,CAAE9E,KAAM,YA2BZ+E,cAAe,CAAE/E,KAAM,UACvBgF,UAAW,CAAEhF,KAAM,WACnBiF,OAAQ,CAAEjF,KAAM,UAChBqE,SAAU,CAAErE,KAAM,QAASwB,MAAO,CAAE0D,KAAM,8B,wRCnCtD,KACA,KACA,MACA,KACA,MACA,KACA,MAEA,WACA,OACA,OASaC,EAAaA,EAAbA,WAAa,SAAC,GAAmD,IAAjD9B,EAAiD,EAAjDA,SAAU+B,EAAuC,EAAvCA,gBAAiB5J,EAAsB,EAAtBA,MAAO6J,EAAe,EAAfA,SAC9D,OACC,0BAAKC,UAAU,gBACd,6CACCC,UAAU,OACV/J,MAAOA,EACP6J,SAAUA,KAGX,0BAAKC,UAAU,0BACd,iCACCd,OAAO,IAAA/I,GAAE,UACT+J,mBAAiB,IAAA/J,GAAE,UACnBgK,KAAK,KACLC,QAAQ,YACRC,WAAU,SAAAC,GAAA,OACTvC,EAASrG,+BAAT,GACCoG,OAAQ5F,gBACL4H,QAIN,iCACCZ,OAAO,IAAA/I,GAAE,QACT+J,mBAAiB,IAAA/J,GAAE,QACnBgK,KAAK,KACLC,QAAQ,UACRG,YAAU,IAAA3C,SAAQ1H,GAClBmK,WAAU,kBACTtC,EAASrG,+BAAT,GACCoG,OAAQ3F,iBACRgG,KAAMjI,GACH4J,U,UASO,SAACjC,EAAD,GAAyB,IAAfE,EAAe,EAAfA,SAC1B,OACC,0BAAKiC,UAAU,8BACd,0BAAKA,UAAU,qBACd,0BAAKA,UAAU,gBACd,kCACCQ,iBAAA,EACAtB,OAAO,IAAA/I,GAAE,YACTiK,QAAQ,kBACRJ,UAAU,aAEX,gCACCS,OAAA,EACAN,KAAK,KACLO,OAAO,MACPxK,MAAO2H,EAAM3B,MAAM7B,OACnB+F,QAAQ,YACRJ,UAAU,WAIXnC,EAAMtB,aACL,iCACCD,SAAUuB,EAAMvB,SAChBqE,cAAY,gBACZzB,MAAOrB,EAAMvB,UAAW,IAAAnG,GAAE,qBAAsB,IAAAA,GAAE,oBAClD+J,kBAAiBrC,EAAMvB,UAAW,IAAAnG,GAAE,qBAAsB,IAAAA,GAAE,oBAC5DgK,KAAK,KACLC,QAAQ,WACRC,WAAU,kBAAMtC,EAASlG,gCACzBmI,UAAU,iBACM,KAIpB,0BAAKA,UAAU,oBAEZnC,EAAMpB,kBAgBH,IAfH,0BAAKuD,UAAU,wBACd,iCACCY,cAAY,OACZT,KAAK,KACLU,YAAWhD,EAAMhD,WAAWK,gBAAgBsE,OAC5CsB,YAAWjD,EAAMhD,WAAWK,gBAAgB6F,SAC5Cf,UAAU,YAEX,oCACCd,OAAO,IAAA/I,GAAE,kBACTiK,QAAQ,UACRY,UAAU,QACVC,KAAK,wBAORpD,EAAMpB,mBACL,0BAAKuD,UAAU,0BACd,gCAAO,IAAA7J,GAAE,uBACT,mBAAC0J,EAAD,CACC9B,SAAUA,EACV+B,gBAAiB,CAAEpF,KAAMtC,eACzBlC,MAAO2H,EAAM3H,MACb6J,SAAUlC,EAAMhD,WAAWK,gBAAgB6E,YAG1C,KAIN,2CACC7D,MAAO2B,EAAM3B,MAAMgF,QAAO,SAAChI,EAAMiI,GAAP,OAAiBA,GAAStD,EAAMrB,kBAAoB,KAC9EH,UAAWwB,EAAMxB,UACjBF,gBAAiB0B,EAAM1B,gBACvBC,cAAeyB,EAAMzB,cACrBgF,mBAAA,EACArB,SAAUlC,EAAMhD,WAAWK,gBAAgB6E,SAC3C1E,cAAewC,EAAMhD,WAAWQ,cAChCE,aAAcsC,EAAMhD,WAAWU,aAC/BG,iBAAkBmC,EAAMhD,WAAWa,iBACnCP,QAAS0C,EAAMhD,WAAWM,UAI1B0C,EAAM3B,MAAM7B,OAASwD,EAAMrB,mBAEzB,0BAAKwD,UAAU,cACd,sCACCqB,cAAa,CAAE,cAAc,IAAAlL,GAAE,uBAC/BmL,gBAAA,EACApC,OAAO,IAAA/I,GAAE,aACTgK,KAAK,KACLC,QAAQ,UACRC,WAAU,kBAAMtC,EAASjG,0BAGxB,M,cC7JT9C,EAAOD,QAAUwM,mC,cCAjBvM,EAAOD,QAAUyM,uC,oMCARzG,Q,uCCAT,WACA,O,IACA,M,IACA,OACA,Q,IACA,O,mDAEA,IAAM0G,EAAmBC,YAAUC,gBAEnC,IAAAnH,qBAAoB,uBAAwB,CAC3CC,SAAU,CACTC,KAAMC,UACNC,gBAEDqB,aAAc,CACb/F,MAAO,IAER2E,WAAY,CACXqB,MAAO,CAAEnB,QAAS,IAClBsB,UAAW,CAAEtB,QAAS,IACtBoB,gBAAiB,CAAEpB,QAAS,IAC5BqB,cAAe,CAAErB,QAAS,IAC1B6G,eAAgB,CAAE7G,SAAS,GAC3BgF,SAAU,CAAEhF,QAAS,MACrBM,cAAe,CAAEN,QAAS,IAC1BQ,aAAc,CAAER,QAAS,IACzBW,iBAAkB,CAAEX,QAAS,GAC7BI,QAAS,CAAEJ,QAAS,KAErB4B,gCACAD,OAAQA,UACRmF,oB,sHAAAA,CAAeJ,O,oQC/BhB,MACA,KACA,KACA,MACA,KACA,KAEA,WAEA,OACA,OACA,Q,wHASA,IAAM5B,EAAa,SAAC,GAA8D,QAA5D1B,YAA4D,MAArD,GAAqD,EAAjDJ,EAAiD,EAAjDA,SAAU+B,EAAuC,EAAvCA,gBAAiB5J,EAAsB,EAAtBA,MAAO6J,EAAe,EAAfA,SAClE,OACC,0BAAKC,UAAU,gBACd,6CACCC,UAAU,OACV6B,aAAa,IAAA3L,GAAE,0BACfD,MAAOiI,EACP4B,SAAUA,KAEX,0BAAKC,UAAU,0BACd,iCACCd,OAAO,IAAA/I,GAAE,UACT+J,mBAAiB,IAAA/J,GAAE,UACnBgK,KAAK,KACLC,QAAQ,YACRC,WAAU,SAAAC,GAAA,OACTvC,EAASnF,uCAAT,GACCkF,OAAQ5F,gBACL4H,QAIN,iCACCZ,OAAO,IAAA/I,GAAE,QACT+J,mBAAiB,IAAA/J,GAAE,QACnBgK,KAAK,KACLI,YAAU,IAAA3C,SAAQ1H,GAClBkK,QAAQ,UACRC,WAAU,SAAAC,GAAA,OACTvC,EAASnF,uCAAT,GACCkF,OAAQ3F,iBACRgG,KAAMjI,GACH4J,UAwBJiC,EAAW,SAAC7I,EAAMwC,EAAkBU,GACzC,IAAI4F,EAAU,QAoBd,OAlBI9I,EAAK+I,MAAQvG,EAChBsG,GAAW,yBACD9I,EAAK+I,OAASvG,EACxBsG,GAAW,sBAEXA,GAAW,0BAGR9I,EAAK+I,MAAQ,GAAK,EACrBD,GAAW,cAEXA,GAAW,aAGR9I,EAAK+I,OAAS,IAAM7F,EAAc8F,SAAShJ,EAAKiJ,KAAK7H,MACxD0H,GAAW,SAGLA,GAqEFI,EAAU,SAAVA,EAAW,GAAwO,IAjB/NC,EAiBPnJ,EAAsO,EAAtOA,KAAsO,IAAhO8G,iBAAgO,MAApN,GAAoN,MAAhN3D,iBAAgN,aAA7LF,uBAA6L,MAA3K,GAA2K,MAAvKC,qBAAuK,MAAvJ,GAAuJ,MAAnJ6F,aAAmJ,MAA3I,GAA2I,EAAvIlE,EAAuI,EAAvIA,SAAUR,EAA6H,EAA7HA,iBAA6H,IAA3GqE,sBAA2G,aAAnF1L,aAAmF,MAA3E,GAA2E,EAAvE6J,EAAuE,EAAvEA,SAAU1E,EAA6D,EAA7DA,cAAeE,EAA8C,EAA9CA,aAAcG,EAAgC,EAAhCA,iBAAkBP,EAAc,EAAdA,QACtOmH,EAAiBA,GAAjBA,SAAqBnH,IAczB,OAZIjC,EAAKiC,SAAWjC,EAAKiC,QAAQd,OAAS,GACzCnB,EAAKiC,QAAQlC,KAAI,SAAU6E,GAC1B,GAAIA,EAAOyE,SAAU,CACpB,IAAIpB,EAAQhG,EAAQqH,WAAU,SAAAC,GAAA,OAAWA,EAAQnI,IAAMwD,EAAOxD,MAC9DgI,EAAe1D,OAAOuC,EAAO,QAK3B,IAAAuB,KAAIxJ,EAAM,cACdA,EAAK6F,SAAW,KAGhB,mBAAC,EAAA4D,SAAD,MACC,0BAAK3C,UAAWA,EAAWW,cAAazH,EAAKoB,KAC5C,0BAAK0F,UAAW9G,EAAK+I,OAASvG,EAAmB,8BAAgC,sBAChF,0BAAKsE,UAAU,WACd,iCACCY,cAAY,OACZT,KAAK,KACLU,YAAW3H,EAAKqG,KAAKC,OACrBsB,YAAW5H,EAAKqG,KAAK/J,SAGvB,0BAAKwK,UAAU,oBACd,0BAAKA,UAAU,2BACd,2BAAMA,UAAU,qBAtIA,SAAC9G,GAAD,OACtBA,EAAK+I,MAAQ,GACZ,mBAAC,EAAAU,SAAD,MACC,2BAAM3C,UAAU,qBACf,2BAAMA,UAAU,UAAU9G,EAAKqG,KAAK/J,OACpC,+BAAUwK,UAAU,YAAYb,KAAK,mBAAmBgB,KAAK,QAC7D,2BAAMH,UAAU,UAAU9G,EAAK0J,WAAWrD,KAAK/J,SAIhD,mBAAC,EAAAmN,SAAD,MACC,2BAAM3C,UAAU,UAAU9G,EAAKqG,KAAK/J,OA4H/BqN,CAAe3J,IAChB,2BAAM8G,UAAU,oBAAhB,MAhDkBqC,EAiDAnJ,EAAKoG,SAxC7B,mBAAC,EAAAqD,SAAD,MACC,2BAAM3C,UAAU,cACd,IAAI0B,YAAU,GAAIW,EAVN,CACfS,SAAS,EACTC,UAAU,EACVC,YAAY,EACZC,UAAU,IAM+BC,cAAcC,UAyClD,2BAAMnD,UAAU,mBAEdsC,EAAejI,OAAS,EACvBiI,EAAejI,OAAS,GACvB,mCACC+I,MAAA,EACAC,cAAA,EACAlE,KAAK,qBACLjD,MAAOoG,EACPgB,OAAO,OACPnD,KAAK,KACLD,mBAAiB,IAAA/J,GAAE,gBACnBiK,QAAQ,YACRmD,oBACC,CACCtE,QAAS/F,MAKX,wCACCqK,oBACC,CACCrK,KAAMoJ,EAAe,GACrBrD,QAAS/F,GAGXiH,KAAK,KACLC,QAAQ,WACRjB,KAAMmD,EAAe,GAAGnD,KACxBe,mBAAiB,IAAA/J,GAAEmM,EAAe,GAAGpD,OACrCkE,KAAK,OACL9B,eAAa,OACbD,cAAa,CAAE,cAAc,IAAAlL,IAAE,IAAAyH,SAAQ0E,EAAe,GAAGlD,WAAakD,EAAe,GAAGpD,MAAQoD,EAAe,GAAGlD,YAClHY,UAAU,wBAER,MAIT,0BAAKA,UAAU,iBACd,2BAAMwD,UAAWtK,EAAKiF,SAEvB,0BAAK6B,UAAU,qBACd,2BAAMA,UAAU,yBAEd3E,GAAiBE,GAChB,2BAAMyE,UAAU,oBACf,sCACCW,cAAY,WACZb,gBAAiB,CAAE2D,KAAM,QAASvK,KAAMA,GACxCgG,OAAO,IAAAwE,aAAW,IAAAvN,GAAEkF,IACpB8E,KAAK,KACLC,QAASlH,EAAKwG,UAAY,UAAY,GACtCiE,aAAYpI,KAGX,IAGL,2BAAMyE,UAAU,oBACf,sCACCW,cAAY,QACZb,gBAAiB,CAAE2D,KAAM,QAASvK,KAAMA,GACxCgG,OAAO,IAAA/I,GAAE,SACTiK,QAAQ,GACRD,KAAK,KACLwD,aAAW,oBAId,2BAAM3D,UAAU,0BAEd9G,EAAKuG,eACJ,2BAAMO,UAAU,mBACf,+BACE9G,EAAKuG,gBAEP,+BACCN,KAAM5D,EACN4E,KAAK,KACLH,UAAU,mBAGT,GAIJ9G,EAAKuG,eAA2C,IAA1B,IAAA3J,KAAIoD,EAAM,QAAS,MAAY,IAAApD,KAAIoD,EAAM,kBAAmB,GAAK,GACtF,2BAAM8G,UAAU,oBAAhB,KACG,GA/LY,SAAC9G,EAAMkD,EAAe2B,EAAUR,EAAkBqE,GAC1E,GAA8B,IAA1B,IAAA9L,KAAIoD,EAAM,QAAS,MAAY,IAAApD,KAAIoD,EAAM,kBAAmB,GAAK,EAAG,CACvE,IAAI0K,EAAcxH,EAAc8F,SAAShJ,EAAKoB,IAE9C,OACC,gCACC,sCACCqG,cAAY,WACZgD,aACCC,EACG,yBACA,2BAEJtH,WACCsH,EAED1E,MACC0E,GAAc,IAAAzN,GAAE,iBAAkB,IAAAA,GAAE,gBAErC+J,kBACC0D,GAAc,IAAAzN,GAAE,iBAAkB,IAAAA,GAAE,gBAErCgK,KAAK,KACLC,QAAQ,UACRC,WACC,WACCtC,EAAS6F,EAAchM,4BAA4BD,4BAA2B,CAC7EyG,OAAQlF,EAAKoB,KAGTsH,IACAgC,EACHxH,EAAcwC,OAAOxC,EAAcqC,QAAQvF,EAAKoB,IAAK,GAErD8B,EAAc7B,KAAKrB,EAAKoB,IACzBiD,EAAiB,CAChB,cAAiBnB,SAUzB,MAAO,GAqJCyH,CACC3K,EADD,YAEKkD,IACJ2B,EACAR,EACAqE,KAMFvF,GAAaF,GAAmBjD,EAAKoB,GAWrC,IAVD,0BAAK0F,UAAU,0BACd,mBAACH,EAAD,CACC1B,KAAK,GACLJ,SAAUA,EACV+B,gBAAiB,CAAEpF,KAAMrC,gBAAe+F,OAAQlF,EAAKoB,IACrDpE,MAAOA,EACP6J,SAAUA,OAQd7G,EAAK6F,SAAS9F,KAAI,SAACqF,EAAG6C,GAItB,OAHA7C,EAAEsE,WAAa1J,EACfoF,EAAE6D,KAAOjJ,EAAKiJ,KACd7D,EAAE2D,MAAQA,EAAQ,GAEjB,mBAACG,EAAD,CACClJ,KAAMoF,EACNjC,UAAWA,EACXF,gBAAiBA,EACjBC,cAAeA,EACfwF,eAAgBA,EAChB7B,SAAUA,EACV1E,cAAeA,EACfE,aAAcA,EACdG,iBAAkBA,EAClBP,QAASA,EACT8G,MAAOA,EAAQ,EACflE,SAAUA,EACVR,iBAAkBA,EAClBrH,MAAOA,EACP8J,UAAW+B,EACVzD,EACA5C,EACAU,W,UAUoB,SAAC,EAAD,GAAmM,IAAhMlG,EAAgM,EAAhMA,MAAgM,IAAzL2E,WAAcqB,EAA2K,EAA3KA,MAAOG,EAAoK,EAApKA,UAAWF,EAAyJ,EAAzJA,gBAAiBC,EAAwI,EAAxIA,cAAewF,EAAyH,EAAzHA,eAAgB7B,EAAyG,EAAzGA,SAAU1E,EAA+F,EAA/FA,cAAeE,EAAgF,EAAhFA,aAAcG,EAAkE,EAAlEA,iBAAkBP,EAAgD,EAAhDA,QAAe4C,EAAiC,EAAjCA,SAAUR,EAAuB,EAAvBA,iBACnMuG,EAAYpK,KAAKqK,MAAMrK,KAAKC,UAAUuC,IAE1C,OACC,mBAAC,EAAAyG,SAAD,MACC,0BAAK3C,UAAU,sBACb8D,EAAU7K,KAAI,SAAAC,GAGd,OAFAA,EAAK+I,MAAQ,EACb/I,EAAKiJ,KAAOjJ,GAEX,mBAACkJ,EAAD,CACClJ,KAAMA,EACNmD,UAAWA,EACXF,gBAAiBA,EACjBC,cAAeA,EACfwF,eAAgBA,EAChB7B,SAAUA,EACV1E,cAAeA,EACfE,aAAcA,EACdG,iBAAkBA,EAClBP,QAASA,EACT8G,MAAO,EACPlE,SAAUA,EACVR,iBAAkBA,EAClBrH,MAAOA,EACP8J,UAAU,kB,cC3XjBhL,EAAOD,QAAUiP,kC,cCAjBhP,EAAOD,QAAUkP,sC,4GCAjB,YAMA,O,wHAEA,IAAMlH,EAAiB,SAACC,GACpB,OAAQ,IAAIC,WAAWC,gBAAgBF,EAAK,aAAaG,gBAAgBC,YAAYrE,WAAWsE,QAGtEV,EAAjBA,uBACRnF,8CAA8C,CAC3C8F,OAD2C,YACJ,IAA9BQ,EAA8B,EAA9BA,OAAQN,EAAsB,EAAtBA,YAAaK,EAAS,EAATA,MACtBmB,EAAejC,EAAee,EAAOE,QAAQ9H,OAC7C2H,EAAM3H,OAAS4H,EAAOE,QAAQ9H,SAAU,IAAA0H,SAAQC,EAAM3H,SAAU,IAAA0H,SAAQoB,KACxExB,EAAY,CACRtH,MAAO8I,KAGnBT,iBAAiB,IATZ,IAYR9G,uCAAuC,CACpC6F,OADoC,YACG,IAA9BQ,EAA8B,EAA9BA,OAAQN,EAAsB,EAAtBA,YAAsB,EAATK,OACrB,IAAAD,SAAQb,EAAee,EAAOE,QAAQ9H,SACvCsH,EAAY,CACRtH,MAAO4H,EAAOE,QAAQ9H,SAGlCqI,iBAAiB,IAnBZ,IAsBR3F,uCAAuC,CACpC0E,OADoC,YACM,IAAjCE,EAAiC,EAAjCA,YAAaM,EAAoB,EAApBA,QAClBC,EADsC,EAAZA,UACjBrG,+BAA8BoG,EAAOE,SAC9CR,EAAY,CACRtH,MAAO,MAGfqI,iBAAiB,IA7BZ,I,gBCXL,IAAI2F,EAAS,EAAQ,IAGjBlP,EAAOD,QADW,iBAAXmP,EACUA,EAEAA,EAAOnL,Y,iBCN1B/D,EAAOD,QAAU,EAAQ,GAAR,EAA4D,IAK/EwF,KAAK,CAACvF,EAAOC,EAAI,qoFAAsoF,M,gBCJvpF,IAAIiP,EAAS,EAAQ,IAGjBlP,EAAOD,QADW,iBAAXmP,EACUA,EAEAA,EAAOnL,Y,iBCN1B/D,EAAOD,QAAU,EAAQ,GAAR,EAAyD,IAK5EwF,KAAK,CAACvF,EAAOC,EAAI,ipCAAkpC","file":"sn-nested-comments.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__lodash_4_17_4;","module.exports = __TECTONIC__$servicenow_ui_core;","export const NOW_BUTTON_BARE_CLICKED = \"NOW_BUTTON_BARE#CLICKED\";\nexport const NOW_BUTTON_ICONIC_CLICKED = \"NOW_BUTTON_ICONIC#CLICKED\";\nexport const NOW_TEXT_LINK_CLICKED = \"NOW_TEXT_LINK#CLICKED\";\nexport const NOW_DROPDOWN_ITEM_CLICKED = \"NOW_DROPDOWN#ITEM_CLICKED\";\nexport const NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#STAGED_VALUE_CHANGED\";\nexport const NOW_RECORD_HTML_EDITOR_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#VALUE_CHANGED\";\n\nexport const HTML_EDITOR_ACTION_PERFORMED = \"HTML_EDITOR#ACTION_PERFORMED\";\n\nexport const SHOW_REPLY_BUTTON_CLICKED = \"SN_NESTED_COMMENTS#SHOW_REPLY_BUTTON_CLICKED\";\nexport const HIDE_REPLY_BUTTON_CLICKED = \"SN_NESTED_COMMENTS#HIDE_REPLY_BUTTON_CLICKED\";\nexport const TOGGLE_DISPLAY_ALL_COMMENTS = \"SN_NESTED_COMMENTS#TOGGLE_DISPLAY_ALL_COMMENTS\";\nexport const SHOW_MORE_COMMENTS = \"SN_NESTED_COMMENTS#SHOW_MORE_COMMENTS\";\n\nexport const SN_NESTED_COMMENTS_COMMENT_SUBMITTED = \"SN_NESTED_COMMENTS#COMMENT_SUBMITTED\";\nexport const SN_NESTED_COMMENTS_ACTION_SUBMITTED = \"SN_NESTED_COMMENTS#ACTION_SUBMITTED\";\nexport const SN_NESTED_COMMENTS_REACTION_TOGGLED = \"SN_NESTED_COMMENTS#REACTION_TOGGLED\"\n\nexport const CLOSE_EDITOR = \"CLOSE_EDITOR\";\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\";\nexport const NEW_COMMENT = \"NEW_COMMENT\";\nexport const REPLY_COMMENT = \"REPLY_COMMENT\";","module.exports = __TECTONIC__$servicenow_now_avatar;","module.exports = __TECTONIC__$servicenow_now_button;","module.exports = __TECTONIC__$servicenow_now_heading;","module.exports = __TECTONIC__$servicenow_now_record_html_editor;","module.exports = __TECTONIC__sn_component_timeago;","module.exports = __TECTONIC__sn_translate;","export const NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#STAGED_VALUE_CHANGED\";\nexport const NOW_RECORD_HTML_EDITOR_VALUE_CHANGED = \"NOW_RECORD_HTML_EDITOR#VALUE_CHANGED\";\n\nexport const HTML_EDITOR_ACTION_PERFORMED = \"HTML_EDITOR#ACTION_PERFORMED\";\nexport const HTML_EDITOR_ACTION_PERFORMED_PRIVATE = \"HTML_EDITOR#ACTION_PERFORMED_PRIVATE\";\nexport const SHOW_REPLY_BUTTON_CLICKED = \"SN_NESTED_COMMENTS#SHOW_REPLY_BUTTON_CLICKED\";\nexport const HIDE_REPLY_BUTTON_CLICKED = \"SN_NESTED_COMMENTS#HIDE_REPLY_BUTTON_CLICKED\";\n\nexport const CLOSE_EDITOR = \"CLOSE_EDITOR\";\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\";\nexport const REPLY_COMMENT = \"REPLY_COMMENT\";","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","import './sn-nested-comments';","import './snNestedComments';","import { createCustomElement } from \"@servicenow/ui-core\";\nimport { actions, actionHandlers } from \"./actions\";\nimport { commentsSchema, actionsSchema } from \"./schemas/sn-nested-comments-schema\";\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport view from \"./view\";\nimport styles from \"./styles.scss\";\n\n/**\n * @devsnc/sn-nested-comments is a generic seismic component which allows user to display nested comments. This component provides the following ability.\n * 1. Displays the multi-level comments based on the provided input.\n * 2. Provides the ability to add new comments and reply to the existing comments.\n * 3. Provides the ability to add actions to each comment which triggers events.\n * 4. Provides the ability to add & remove reaction (like, helpful, etc.) to the comments.\n * \n * ```jsx\n * <sn-nested-comments\n *    user-information = {\n *        \"language\": \"en\",\n *        \"avatar\": \"c148e1d13741310042106710ce41f149.iix?t=small\",\n *        \"fullName\": \"System Administrator\"\n *    }\n *    comments={\n *        [{\n *            \"id\": \"174df62204e19010f87700b07e812f8f\",\n *            \"created\": \"2020-06-25 04:55:40\",\n *            \"text\": \"<p>Sample Comment</p>\",\n *            \"user\": {\n *                \"name\": \"Bernard Laboy\",\n *                \"id\": \"ee826bf03710200044e0bfc8bcbe5de6\",\n *                \"avatar\": \"\"\n *            },\n *            \"reactionCount\": 0,\n *            \"isReacted\": false,\n *            \"parent\": \"\",\n *            \"children\": []\n *        }]\n *    }\n *    actions={\n *        [{\n *            \"id\": \"delete\",\n *            \"label\": \"Delete\",\n *            \"icon\": \"trash-outline\",\n *            \"ariaLabel\": \"Delete Comment\"\n *        },\n *        {\n *            \"id\": \"flag\",\n *            \"label\": \"Flag\",\n *            \"icon\": \"flag-outline\"\n *        }]\n *    }\n *    initial-display-count=\"5\"\n *    reaction-label=\"helpful\"\n *    reaction-icon=\"thumbs-up-outline\"\n *    indentation-limit=\"5\"\n * ></sn-nested-comments>\n * ```\n *\n * @seismicElement sn-nested-comments\n * @summary Visual seismic component designed for UIB which allows users to displays nested comments.\n * @uib.label Nested comments\n * @uib.icon tile-uib-sn-comments-sm\n * @uib.description Visual seismic component designed for UIB which allows users to displays nested comments.\n * @uib.category component\n * @uib.associatedTypes global.core\n * @uib.properties comments, userInformation, actions, reactionLabel, reactionIcon, initialDisplayCount, indentationLimit\n */\ncreateCustomElement(\"sn-nested-comments\", {\n  renderer: {\n    type: snabbdom,\n    view\n  },\n  properties: {\n    /**\n     * An array of the comments to display\n     * \n     * @type {Comment[]}\n     * @uib.label Comments\n     * @uib.description An array of the comments to display\n     */\n    comments: { default: [], schema: commentsSchema },\n\n    /**\n     * Currently logged in user\n     * \n     * @type {object}\n     * @uib.label User information\n     * @uib.description Currently logged in user\n     */\n    userInformation: { default: {} },\n\n    /**\n     * An array of supported comment actions\n     * \n     * @type {Action[]}\n     * @uib.label Actions\n     * @uib.description An array of supported comment actions\n     */\n    actions: { default: [], schema: actionsSchema },\n\n    /**\n     * Label of reaction to be used\n     * \n     * @type {string}\n     * @uib.label Reaction label\n     * @uib.description Label of reaction to be used\n     */\n    reactionLabel: {\n      default: \"like\",\n      schema: {\n        type: \"string\",\n        translatable: true\n      }\n    },\n\n    /**\n     * Icon of reaction to be used\n     * \n     * @type {string}\n     * @uib.label Reaction icon\n     * @uib.description Icon of reaction to be used\n     */\n    reactionIcon: {\n      default: \"thumbs-up-outline\",\n      schema: {\n        type: \"string\"\n      }\n    },\n\n    /**\n     * Number of comments to display on first load\n     * \n     * @type {number}\n     * @uib.label Initial display count\n     * @uib.description Number of comments to display on first load\n\t\t */\n    initialDisplayCount: {\n      default: 3,\n      schema: {\n        type: \"number\",\n        minimum: 1\n      }\n    },\n\n    /**\n     * Nested comments indentation limit (Max: 12)\n     * \n     * @type {number}\n     * @uib.label Indentation limit\n     * @uib.description Nested comments indentation limit (Max: 12)\n     */\n    indentationLimit: {\n      default: 3,\n      schema: {\n        type: \"number\",\n        minimum: 1,\n        maximum: 7\n      }\n    }\n  },\n  dispatches: {\n\t\t/**\n     * Event dispatched when a comment is submitted\n     * \n     * @type {{content: string, parentId: string}}\n     * @uib.description Event dispatched when a comment is submitted\n\t\t */\n    \"SN_NESTED_COMMENTS#COMMENT_SUBMITTED\": {\n      schema: {\n        type: \"object\",\n        properties: {\n          content: { type: \"string\" },\n          parentId: { type: \"string\" }\n        }\n      }\n    },\n\t\t/**\n     * Event dispatched when an action is submitted\n     * \n     * @type {{actionId: string, commentId: string}}\n     * @uib.description Event dispatched when an action is submitted\n\t\t */\n    \"SN_NESTED_COMMENTS#ACTION_SUBMITTED\": {\n      schema: {\n        type: \"object\",\n        properties: {\n          actionId: { type: \"string\" },\n          commentId: { type: \"string\" }\n        }\n      }\n    },\n\t\t/**\n     * Event dispatched when a reaction is toggled\n     * \n     * @type {{reaction: boolean, commentId: string}}\n     * @uib.description Event dispatched when a reaction is toggled\n\t\t */\n    \"SN_NESTED_COMMENTS#REACTION_TOGGLED\": {\n      schema: {\n        type: \"object\",\n        properties: {\n          reaction: { type: \"boolean\" },\n          commentId: { type: \"string\" }\n        }\n      }\n    }\n  },\n  initialState: {\n    items: [],\n    currentEditorId: \"\",\n    expandedItems: [],\n    isEditing: \"\",\n    expanded: false,\n    hasChildren: false,\n    commentsToDisplay: 0,\n    value: \"\",\n    openPrimaryEditor: false\n  },\n  styles: styles,\n  actions: actions,\n  actionHandlers: actionHandlers\n});","import { get, isEmpty, isNaN } from \"lodash\";\nimport { actionTypes } from \"@servicenow/ui-core\";\nconst { COMPONENT_BOOTSTRAPPED, COMPONENT_PROPERTY_CHANGED } = actionTypes;\n\nimport {\n\tNOW_BUTTON_BARE_CLICKED,\n\tHTML_EDITOR_ACTION_PERFORMED,\n\tNOW_BUTTON_ICONIC_CLICKED,\n\tNOW_TEXT_LINK_CLICKED,\n\tSHOW_REPLY_BUTTON_CLICKED,\n\tHIDE_REPLY_BUTTON_CLICKED,\n\tTOGGLE_DISPLAY_ALL_COMMENTS,\n\tSHOW_MORE_COMMENTS,\n\tNOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED,\n\tNOW_RECORD_HTML_EDITOR_VALUE_CHANGED,\n\tNOW_DROPDOWN_ITEM_CLICKED,\n\tSN_NESTED_COMMENTS_COMMENT_SUBMITTED,\n\tSN_NESTED_COMMENTS_ACTION_SUBMITTED,\n\tSN_NESTED_COMMENTS_REACTION_TOGGLED,\n\tCLOSE_EDITOR,\n\tSUBMIT_COMMENT,\n\tNEW_COMMENT,\n\tREPLY_COMMENT\n} from \"./constants\";\n\nconst hasChildren = items => {\n\tfor (let i = 0; i < items.length; i++) {\n\t\tif (get(items[i], \"children.length\", 0) > 0) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nconst extractContent = (str) => {\n\treturn (new DOMParser).parseFromString(str, \"text/html\").documentElement.textContent.toString().trim();\n}\n\nexport const actions = {\n\n};\n\nexport const actionHandlers = {\n\t[COMPONENT_BOOTSTRAPPED]: {\n\t\teffect({ properties, updateProperties, updateState }) {\n\t\t\tlet initialDisplayCount = (isNaN(properties.initialDisplayCount) || properties.initialDisplayCount < 0) ? 0 : parseInt(properties.initialDisplayCount);\n\t\t\tlet commentsCount = properties.comments.length;\n\t\t\tlet actions = !isEmpty(properties.actions) ? properties.actions : [];\n\n\t\t\tupdateProperties({\n\t\t\t\tinitialDisplayCount: initialDisplayCount,\n\t\t\t\tactions: actions\n\t\t\t});\n\n\t\t\tupdateState({\n\t\t\t\titems: properties.comments,\n\t\t\t\thasChildren: hasChildren(properties.comments),\n\t\t\t\tcommentsToDisplay: commentsCount > initialDisplayCount ? initialDisplayCount : commentsCount\n\t\t\t});\n\t\t}\n\t},\n\n\t[COMPONENT_PROPERTY_CHANGED]: {\n\t\teffect({ state, properties, updateState }) {\n\t\t\tupdateState({\n\t\t\t\titems: properties.comments,\n\t\t\t\thasChildren: hasChildren(properties.comments)\n\t\t\t});\n\n\t\t\tlet initialDisplayCount = properties.initialDisplayCount;\n\t\t\tlet commentsToDisplay = state.commentsToDisplay;\n\t\t\tlet commentsCount = properties.comments.length;\n\n\t\t\tif (commentsToDisplay < initialDisplayCount) {\n\t\t\t\tupdateState({\n\t\t\t\t\tcommentsToDisplay: commentsCount > initialDisplayCount ? initialDisplayCount : commentsCount\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\t[HTML_EDITOR_ACTION_PERFORMED]: {\n\t\teffect: ({ action, state, dispatch, updateState }) => {\n\t\t\tif (action.payload.action == CLOSE_EDITOR) {\n\t\t\t\tif (action.payload.type == NEW_COMMENT) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\topenPrimaryEditor: false\n\t\t\t\t\t});\n\t\t\t\t} else if (action.payload.type == REPLY_COMMENT) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tpath: \"currentEditorId\",\n\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\toperation: \"set\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (action.payload.action == SUBMIT_COMMENT) {\n\t\t\t\tif (!isEmpty(action.payload.text)) {\n\t\t\t\t\tif (action.payload.type == REPLY_COMMENT) {\n\t\t\t\t\t\tdispatch(SN_NESTED_COMMENTS_COMMENT_SUBMITTED, {\n\t\t\t\t\t\t\tcontent: action.payload.text,\n\t\t\t\t\t\t\tparentId: action.payload.itemId\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tpath: \"currentEditorId\",\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\toperation: \"set\"\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (state.items.find(x => x.id == action.payload.itemId)) {\n\t\t\t\t\t\t\tdispatch(SHOW_REPLY_BUTTON_CLICKED, { itemId: action.payload.itemId })\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (action.payload.type == NEW_COMMENT) {\n\t\t\t\t\t\tdispatch(SN_NESTED_COMMENTS_COMMENT_SUBMITTED, {\n\t\t\t\t\t\t\tcontent: action.payload.text,\n\t\t\t\t\t\t\tparentId: \"\"\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\topenPrimaryEditor: false\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tupdateState({\n\t\t\t\t\t\t\tpath: \"value\",\n\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\toperation: \"set\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[SHOW_REPLY_BUTTON_CLICKED]: {\n\t\teffect: ({ action, state, updateState }) => {\n\t\t\tlet tempState = {}\n\t\t\tif (state.expandedItems.indexOf(action.payload.itemId) == -1) {\n\t\t\t\ttempState.expandedItems = [...state.expandedItems, action.payload.itemId];\n\t\t\t\tupdateState(tempState);\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[HIDE_REPLY_BUTTON_CLICKED]: {\n\t\teffect: ({ action, state, updateState }) => {\n\t\t\tlet tempArr = [...state.expandedItems];\n\t\t\tlet tempState = {}\n\t\t\tlet ind = tempArr.indexOf(action.payload.itemId);\n\t\t\tif (ind != -1) {\n\t\t\t\ttempArr.splice(ind, 1);\n\t\t\t}\n\t\t\ttempState.expandedItems = tempArr;\n\t\t\tupdateState(tempState);\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_BUTTON_BARE_CLICKED]: {\n\t\teffect: ({ action, updateState, dispatch, state }) => {\n\t\t\tlet commentId = get(action, \"payload.item.id\", \"\")\n\t\t\tif (get(action, \"payload.meta\") == \"react\") {\n\t\t\t\tif (get(action, \"payload.item.isReacted\", \"\") == true) {\n\t\t\t\t\tdispatch(SN_NESTED_COMMENTS_REACTION_TOGGLED, {\n\t\t\t\t\t\treaction: false,\n\t\t\t\t\t\tcommentId: commentId\n\t\t\t\t\t});\n\t\t\t\t} else if (get(action, \"payload.item.isReacted\", \"\") == false) {\n\t\t\t\t\tdispatch(SN_NESTED_COMMENTS_REACTION_TOGGLED, {\n\t\t\t\t\t\treaction: true,\n\t\t\t\t\t\tcommentId: commentId\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (get(action, \"payload.meta\", \"\") == \"reply\") {\n\t\t\t\tif (\n\t\t\t\t\tisEmpty(state.currentEditorId) ||\n\t\t\t\t\tcommentId != state.currentEditorId\n\t\t\t\t) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tcurrentEditorId: commentId,\n\t\t\t\t\t\tisEditing: false\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tcurrentEditorId: \"\",\n\t\t\t\t\t\tisEditing: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[TOGGLE_DISPLAY_ALL_COMMENTS]: {\n\t\teffect({ updateState, state }) {\n\t\t\tif (state.expanded) {\n\t\t\t\tupdateState({\n\t\t\t\t\texpanded: false,\n\t\t\t\t\texpandedItems: []\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet arr = [];\n\t\t\t\tstate.items.forEach(x => {\n\t\t\t\t\tif (x.children.length > 0)\n\t\t\t\t\t\tarr.push(x.id);\n\t\t\t\t});\n\t\t\t\tupdateState({\n\t\t\t\t\texpanded: true,\n\t\t\t\t\texpandedItems: arr\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[SHOW_MORE_COMMENTS]: {\n\t\teffect({ updateState, state: { commentsToDisplay, items }, properties: { initialDisplayCount } }) {\n\t\t\tif (commentsToDisplay + parseInt(initialDisplayCount) >= items.length) {\n\t\t\t\tupdateState({\n\t\t\t\t\tcommentsToDisplay: items.length\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tupdateState({\n\t\t\t\t\tcommentsToDisplay: commentsToDisplay + parseInt(initialDisplayCount)\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED]: {\n\t\teffect({ action, updateState, state }) {\n\t\t\tlet payloadValue = extractContent(action.payload.value);\n\t\t\tif (state.value != action.payload.value && (isEmpty(state.value) || isEmpty(payloadValue)))\n\t\t\t\tupdateState({\n\t\t\t\t\tvalue: payloadValue\n\t\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_RECORD_HTML_EDITOR_VALUE_CHANGED]: {\n\t\teffect({ action, updateState, state }) {\n\t\t\tif (!isEmpty(extractContent(action.payload.value)))\n\t\t\t\tupdateState({\n\t\t\t\t\tvalue: action.payload.value\n\t\t\t\t});\n\t\t}\n\t},\n\n\t[NOW_BUTTON_ICONIC_CLICKED]: {\n\t\teffect({ action, dispatch }) {\n\t\t\tdispatch(SN_NESTED_COMMENTS_ACTION_SUBMITTED, {\n\t\t\t\tactionId: action.payload.item.id,\n\t\t\t\tcommentId: action.payload.comment.id\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_DROPDOWN_ITEM_CLICKED]: {\n\t\teffect({ action, dispatch }) {\n\t\t\tdispatch(SN_NESTED_COMMENTS_ACTION_SUBMITTED, {\n\t\t\t\tactionId: action.payload.item.id,\n\t\t\t\tcommentId: action.payload.comment.id\n\t\t\t});\n\t\t},\n\t\tstopPropagation: true\n\t},\n\n\t[NOW_TEXT_LINK_CLICKED]: {\n\t\teffect({ updateState }) {\n\t\t\tupdateState({\n\t\t\t\topenPrimaryEditor: true\n\t\t\t})\n\t\t},\n\t\tstopPropagation: true\n\t}\n};\n","const userSchema = {\n    type: 'object',\n    properties: {\n        name: { type: 'string' },\n        id: { type: 'string' },\n        avatar: { type: 'string' }\n    }\n}\n\nexport const actionsSchema = {\n    type: \"array\",\n    items: {\n        type: \"object\",\n        properties: {\n            id: { type: \"string\" },\n            label: { type: \"string\", translatable: true },\n            icon: { type: \"string\" },\n            ariaLabel: { type: \"string\", translatable: true }\n        }\n    }\n}\n\nexport const commentsSchema = {\n    $id: 'commentsSchema',\n    type: 'array',\n    items: {\n        type: 'object',\n        properties: {\n            id: { type: 'string' },\n            created: { type: 'string' },\n            text: { type: 'string', translatable: true },\n            user: userSchema,\n            reactionCount: { type: 'number' },\n            isReacted: { type: 'boolean' },\n            parent: { type: 'string' },\n            children: { type: 'array', items: { $ref: 'commentsSchema#/items' } }\n        }\n    }\n}","import \"@servicenow/now-avatar\";\nimport \"@servicenow/now-button\";\nimport \"@servicenow/now-badge\";\nimport \"@servicenow/now-heading\";\nimport \"@servicenow/now-text-link\";\nimport \"@servicenow/now-record-html-editor\";\nimport './sn-comments-internal';\n\nimport { isEmpty } from \"lodash\";\nimport { t } from 'sn-translate';\nimport {\n\tHTML_EDITOR_ACTION_PERFORMED,\n\tTOGGLE_DISPLAY_ALL_COMMENTS,\n\tSHOW_MORE_COMMENTS,\n\tCLOSE_EDITOR,\n\tSUBMIT_COMMENT,\n\tNEW_COMMENT\n} from \"./constants\";\n\nexport const TextEditor = ({ dispatch, appendToPayload, value, language }) => {\n\treturn (\n\t\t<div className=\"html-editor\">\n\t\t\t<now-record-html-editor\n\t\t\t\tautofocus=\"true\"\n\t\t\t\tvalue={value}\n\t\t\t\tlanguage={language}\n\t\t\t/>\n\n\t\t\t<div className=\"comment-buttons right\">\n\t\t\t\t<now-button\n\t\t\t\t\tlabel={t(\"Cancel\")}\n\t\t\t\t\ttooltip-content={t(\"Cancel\")}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\ton-click={e =>\n\t\t\t\t\t\tdispatch(HTML_EDITOR_ACTION_PERFORMED, {\n\t\t\t\t\t\t\taction: CLOSE_EDITOR,\n\t\t\t\t\t\t\t...appendToPayload\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t></now-button>\n\t\t\t\t<now-button\n\t\t\t\t\tlabel={t(\"Post\")}\n\t\t\t\t\ttooltip-content={t(\"Post\")}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tdisabled={isEmpty(value) ? true : false}\n\t\t\t\t\ton-click={() =>\n\t\t\t\t\t\tdispatch(HTML_EDITOR_ACTION_PERFORMED, {\n\t\t\t\t\t\t\taction: SUBMIT_COMMENT,\n\t\t\t\t\t\t\ttext: value,\n\t\t\t\t\t\t\t...appendToPayload\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t></now-button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst comments = (state, { dispatch }) => {\n\treturn (\n\t\t<div className=\"nested-comments-container\">\n\t\t\t<div className=\"header-container\">\n\t\t\t\t<div className=\"header-left\">\n\t\t\t\t\t<now-heading\n\t\t\t\t\t\thas-no-margin\n\t\t\t\t\t\tlabel={t(\"Comments\")}\n\t\t\t\t\t\tvariant=\"header-tertiary\"\n\t\t\t\t\t\tclassName=\"heading\"\n\t\t\t\t\t></now-heading>\n\t\t\t\t\t<now-badge\n\t\t\t\t\t\tround\n\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\tstatus=\"low\"\n\t\t\t\t\t\tvalue={state.items.length}\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tclassName=\"badge\"\n\t\t\t\t\t></now-badge>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tstate.hasChildren ?\n\t\t\t\t\t\t<now-button\n\t\t\t\t\t\t\texpanded={state.expanded}\n\t\t\t\t\t\t\tdata-testid=\"toggleReplies\"\n\t\t\t\t\t\t\tlabel={state.expanded ? t(\"Hide all replies\") : t(\"Show all replies\")}\n\t\t\t\t\t\t\ttooltip-content={state.expanded ? t(\"Hide all replies\") : t(\"Show all replies\")}\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\ton-click={() => dispatch(TOGGLE_DISPLAY_ALL_COMMENTS)}\n\t\t\t\t\t\t\tclassName=\"header-right\"\n\t\t\t\t\t\t></now-button> : \"\"\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<div className=\"create-container\">\n\t\t\t\t{\n\t\t\t\t\t!state.openPrimaryEditor ? (\n\t\t\t\t\t\t<div className=\"create-comment-link\">\n\t\t\t\t\t\t\t<now-avatar\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\timage-src={state.properties.userInformation.avatar}\n\t\t\t\t\t\t\t\tuser-name={state.properties.userInformation.fullName}\n\t\t\t\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<now-text-link\n\t\t\t\t\t\t\t\tlabel={t(\"Post a comment\")}\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\tunderline=\"false\"\n\t\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\t></now-text-link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : \"\"\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tstate.openPrimaryEditor ? (\n\t\t\t\t\t\t<div className=\"html-editor-container\" >\n\t\t\t\t\t\t\t<span>{t(\"Compose a comment\")}</span>\n\t\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\tappendToPayload={{ type: NEW_COMMENT }}\n\t\t\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\t\t\tlanguage={state.properties.userInformation.language}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : \"\"\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<sn-comments-internal\n\t\t\t\titems={state.items.filter((item, index) => index <= state.commentsToDisplay - 1)}\n\t\t\t\tisEditing={state.isEditing}\n\t\t\t\tcurrentEditorId={state.currentEditorId}\n\t\t\t\texpandedItems={state.expandedItems}\n\t\t\t\tmanage-expanded\n\t\t\t\tlanguage={state.properties.userInformation.language}\n\t\t\t\treactionLabel={state.properties.reactionLabel}\n\t\t\t\treactionIcon={state.properties.reactionIcon}\n\t\t\t\tindentationLimit={state.properties.indentationLimit}\n\t\t\t\tactions={state.properties.actions}\n\t\t\t></sn-comments-internal>\n\n\t\t\t{\n\t\t\t\tstate.items.length > state.commentsToDisplay ?\n\t\t\t\t\t(\n\t\t\t\t\t\t<div className=\"show-more\">\n\t\t\t\t\t\t\t<now-button-bare\n\t\t\t\t\t\t\t\tconfig-aria={{ \"aria-label\": t(\"Show more comments\") }}\n\t\t\t\t\t\t\t\thide-padding\n\t\t\t\t\t\t\t\tlabel={t(\"Show more\")}\n\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\ton-click={() => dispatch(SHOW_MORE_COMMENTS)}\n\t\t\t\t\t\t\t></now-button-bare>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : \"\"\n\t\t\t}\n\t\t</div>\n\n\t);\n};\n\nexport default comments;\n","module.exports = __TECTONIC__$servicenow_now_badge;","module.exports = __TECTONIC__$servicenow_now_text_link;","export { default } from './snCommentsInternal'","import { createCustomElement } from \"@servicenow/ui-core\";\nimport { SnTimeAgo } from 'sn-component-timeago';\nimport snabbdom from \"@servicenow/ui-renderer-snabbdom\";\nimport view from \"./view\";\nimport { actionHandlers } from './actions'\nimport styles from \"./styles.scss\";\n\nconst timeAgoBehaviors = SnTimeAgo.getBehaviors();\n\ncreateCustomElement(\"sn-comments-internal\", {\n\trenderer: {\n\t\ttype: snabbdom,\n\t\tview\n\t},\n\tinitialState: {\n\t\tvalue: \"\"\n\t},\n\tproperties: {\n\t\titems: { default: [] },\n\t\tisEditing: { default: \"\" },\n\t\tcurrentEditorId: { default: \"\" },\n\t\texpandedItems: { default: [] },\n\t\tmanageExpanded: { default: false },\n\t\tlanguage: { default: \"en\" },\n\t\treactionLabel: { default: \"\" },\n\t\treactionIcon: { default: \"\" },\n\t\tindentationLimit: { default: 1 },\n\t\tactions: { default: [] }\n\t},\n\tactionHandlers,\n\tstyles: styles,\n\tbehaviors: [...timeAgoBehaviors]\n});\n\n\n","import \"@servicenow/now-icon\";\nimport \"@servicenow/now-avatar\";\nimport \"@servicenow/now-button\";\nimport \"@servicenow/now-dropdown\";\nimport \"@servicenow/now-heading\";\nimport \"@servicenow/now-record-html-editor\";\n\nimport { SnTimeAgo } from \"sn-component-timeago\";\nimport { Fragment } from \"@servicenow/ui-renderer-snabbdom\";\nimport { isEmpty, has, get, capitalize } from \"lodash\";\nimport { t } from 'sn-translate';\nimport {\n\tHTML_EDITOR_ACTION_PERFORMED_PRIVATE,\n\tSHOW_REPLY_BUTTON_CLICKED,\n\tHIDE_REPLY_BUTTON_CLICKED,\n\tCLOSE_EDITOR,\n\tSUBMIT_COMMENT,\n\tREPLY_COMMENT\n} from \"./constants\";\n\nconst TextEditor = ({ text = \"\", dispatch, appendToPayload, value, language }) => {\n\treturn (\n\t\t<div className=\"html-editor\">\n\t\t\t<now-record-html-editor\n\t\t\t\tautofocus=\"true\"\n\t\t\t\tplaceholder={t(\"Type your comment here\")}\n\t\t\t\tvalue={text}\n\t\t\t\tlanguage={language}\n\t\t\t/>\n\t\t\t<div className=\"comment-buttons right\">\n\t\t\t\t<now-button\n\t\t\t\t\tlabel={t(\"Cancel\")}\n\t\t\t\t\ttooltip-content={t(\"Cancel\")}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\ton-click={e =>\n\t\t\t\t\t\tdispatch(HTML_EDITOR_ACTION_PERFORMED_PRIVATE, {\n\t\t\t\t\t\t\taction: CLOSE_EDITOR,\n\t\t\t\t\t\t\t...appendToPayload\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t></now-button>\n\t\t\t\t<now-button\n\t\t\t\t\tlabel={t(\"Post\")}\n\t\t\t\t\ttooltip-content={t(\"Post\")}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tdisabled={isEmpty(value) ? true : false}\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\ton-click={e =>\n\t\t\t\t\t\tdispatch(HTML_EDITOR_ACTION_PERFORMED_PRIVATE, {\n\t\t\t\t\t\t\taction: SUBMIT_COMMENT,\n\t\t\t\t\t\t\ttext: value,\n\t\t\t\t\t\t\t...appendToPayload\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t></now-button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst getUserDetails = (item) =>\n\titem.level > 0 ? (\n\t\t<Fragment>\n\t\t\t<span className=\"author-container\">\n\t\t\t\t<span className=\"author\">{item.user.name}</span>\n\t\t\t\t<now-icon className=\"separator\" icon=\"arrow-right-fill\" size=\"sm\"></now-icon>\n\t\t\t\t<span className=\"author\">{item.parent_obj.user.name}</span>\n\t\t\t</span>\n\t\t</Fragment>\n\t) : (\n\t\t\t<Fragment>\n\t\t\t\t<span className=\"author\">{item.user.name}</span>\n\t\t\t</Fragment>\n\t\t);\n\nconst getClass = (item, indentationLimit, expandedItems) => {\n\tlet classes = \"child\";\n\n\tif (item.level > indentationLimit) {\n\t\tclasses += \" child-after-threshold\";\n\t} else if (item.level == indentationLimit) {\n\t\tclasses += \" child-at-threshold\";\n\t} else {\n\t\tclasses += \" child-before-threshold\";\n\t}\n\n\tif (item.level % 2 == 0) {\n\t\tclasses += \" even-child\";\n\t} else {\n\t\tclasses += \" odd-child\";\n\t}\n\n\tif (item.level >= 1 && !expandedItems.includes(item.root.id)) {\n\t\tclasses += \" hide\";\n\t}\n\n\treturn classes;\n}\n\nconst getRepliesButton = (item, expandedItems, dispatch, updateProperties, manageExpanded) => {\n\tif (get(item, \"level\", \"\") == 0 && get(item, \"children.length\", 0) > 0) {\n\t\tlet showReplies = expandedItems.includes(item.id);\n\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<now-button-bare\n\t\t\t\t\tdata-testid=\"collapse\"\n\t\t\t\t\ticon-start={\n\t\t\t\t\t\tshowReplies\n\t\t\t\t\t\t\t? \"circle-chevron-up-fill\"\n\t\t\t\t\t\t\t: \"circle-chevron-down-fill\"\n\t\t\t\t\t}\n\t\t\t\t\texpanded={\n\t\t\t\t\t\tshowReplies ? true : false\n\t\t\t\t\t}\n\t\t\t\t\tlabel={\n\t\t\t\t\t\tshowReplies ? t(\"Hide replies\") : t(\"Show replies\")\n\t\t\t\t\t}\n\t\t\t\t\ttooltip-content={\n\t\t\t\t\t\tshowReplies ? t(\"Hide replies\") : t(\"Show replies\")\n\t\t\t\t\t}\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\ton-click={\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tdispatch(showReplies ? HIDE_REPLY_BUTTON_CLICKED : SHOW_REPLY_BUTTON_CLICKED, {\n\t\t\t\t\t\t\t\titemId: item.id\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (!manageExpanded) {\n\t\t\t\t\t\t\t\tif (showReplies)\n\t\t\t\t\t\t\t\t\texpandedItems.splice(expandedItems.indexOf(item.id), 1);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\texpandedItems.push(item.id);\n\t\t\t\t\t\t\t\tupdateProperties({\n\t\t\t\t\t\t\t\t\t\"expandedItems\": expandedItems\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</span>\n\t\t)\n\t}\n\n\treturn \"\";\n}\n\nconst getTimeAgoString = (timeStamp) => {\n\tconst options = {\n\t\ttimeAgo: true,\n\t\tdateBoth: false,\n\t\tsystemTime: true,\n\t\tdateOnly: false\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<span className=\"time-stamp\">\n\t\t\t\t{new SnTimeAgo({}, timeStamp, options).getTickTime().time}\n\t\t\t</span>\n\t\t</Fragment>\n\t);\n}\n\nconst Comment = ({ item, className = \"\", isEditing = false, currentEditorId = \"\", expandedItems = [], level = \"\", dispatch, updateProperties, manageExpanded = false, value = \"\", language, reactionLabel, reactionIcon, indentationLimit, actions }) => {\n\tlet visibleActions = [...actions];\n\n\tif (item.actions && item.actions.length > 0) {\n\t\titem.actions.map(function (action) {\n\t\t\tif (action.isHidden) {\n\t\t\t\tlet index = actions.findIndex(element => element.id == action.id);\n\t\t\t\tvisibleActions.splice(index, 1);\n\t\t\t}\n\t\t});\n\t}\n\n\tif (!has(item, \"children\"))\n\t\titem.children = [];\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className={className} data-testid={item.id}>\n\t\t\t\t<div className={item.level >= indentationLimit ? \"comment-container-threshold\" : \"comment-container\"}>\n\t\t\t\t\t<div className=\"avatar\">\n\t\t\t\t\t\t<now-avatar\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\timage-src={item.user.avatar}\n\t\t\t\t\t\t\tuser-name={item.user.name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"comment-content\">\n\t\t\t\t\t\t<div className=\"comment-meta-container\">\n\t\t\t\t\t\t\t<span className=\"comment-publisher\">\n\t\t\t\t\t\t\t\t{getUserDetails(item)}\n\t\t\t\t\t\t\t\t<span className=\"vertical-divider\">•</span>\n\t\t\t\t\t\t\t\t{getTimeAgoString(item.created)}\n\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t<span className=\"comment-actions\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvisibleActions.length > 0 ?\n\t\t\t\t\t\t\t\t\t\tvisibleActions.length > 1 ? (\n\t\t\t\t\t\t\t\t\t\t\t<now-dropdown\n\t\t\t\t\t\t\t\t\t\t\t\tbare\n\t\t\t\t\t\t\t\t\t\t\t\thide-caret\n\t\t\t\t\t\t\t\t\t\t\t\ticon=\"ellipsis-h-outline\"\n\t\t\t\t\t\t\t\t\t\t\t\titems={visibleActions}\n\t\t\t\t\t\t\t\t\t\t\t\tselect=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\ttooltip-content={t(\"More actions\")}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\tappend-to-payload={\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomment: item\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<now-button-iconic\n\t\t\t\t\t\t\t\t\t\t\t\t\tappend-to-payload={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem: visibleActions[0],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomment: item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={visibleActions[0].icon}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip-content={t(visibleActions[0].label)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tbare=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\thide-padding=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig-aria={{ \"aria-label\": t(isEmpty(visibleActions[0].ariaLabel) ? visibleActions[0].label : visibleActions[0].ariaLabel) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"comment-action-icon\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : \"\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"comment-text\">\n\t\t\t\t\t\t\t<span innerHTML={item.text}></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"feedback-buttons\">\n\t\t\t\t\t\t\t<span className=\"feedback-buttons-left\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treactionLabel && reactionIcon ? (\n\t\t\t\t\t\t\t\t\t\t<span className=\"feedback-button\">\n\t\t\t\t\t\t\t\t\t\t\t<now-button-bare\n\t\t\t\t\t\t\t\t\t\t\t\tdata-testid=\"reaction\"\n\t\t\t\t\t\t\t\t\t\t\t\tappendToPayload={{ meta: \"react\", item: item }}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={capitalize(t(reactionLabel))}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant={item.isReacted ? \"primary\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\ticon-start={reactionIcon}\n\t\t\t\t\t\t\t\t\t\t\t></now-button-bare>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t) : \"\"\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t<span className=\"feedback-button\">\n\t\t\t\t\t\t\t\t\t<now-button-bare\n\t\t\t\t\t\t\t\t\t\tdata-testid=\"reply\"\n\t\t\t\t\t\t\t\t\t\tappendToPayload={{ meta: \"reply\", item: item }}\n\t\t\t\t\t\t\t\t\t\tlabel={t(\"Reply\")}\n\t\t\t\t\t\t\t\t\t\tvariant=\"\"\n\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\ticon-start=\"chat-outline\"\n\t\t\t\t\t\t\t\t\t></now-button-bare>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"feedback-buttons-right\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\titem.reactionCount ? (\n\t\t\t\t\t\t\t\t\t\t<span className=\"reaction-count\">\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.reactionCount}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<now-icon\n\t\t\t\t\t\t\t\t\t\t\t\ticon={reactionIcon}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"reaction-icon\"\n\t\t\t\t\t\t\t\t\t\t\t></now-icon>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t) : \"\"\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\titem.reactionCount && get(item, \"level\", \"\") == 0 && get(item, \"children.length\", 0) > 0 ? (\n\t\t\t\t\t\t\t\t\t\t<span className=\"vertical-divider\">|</span>\n\t\t\t\t\t\t\t\t\t) : \"\"\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tgetRepliesButton(\n\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\t[...expandedItems],\n\t\t\t\t\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\t\t\t\t\tupdateProperties,\n\t\t\t\t\t\t\t\t\t\tmanageExpanded\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{!isEditing && currentEditorId == item.id ? (\n\t\t\t\t\t\t\t<div className=\"html-editor-container\">\n\t\t\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t\t\ttext=\"\"\n\t\t\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\t\t\tappendToPayload={{ type: REPLY_COMMENT, itemId: item.id }}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tlanguage={language}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{item.children.map((x, index) => {\n\t\t\t\t\tx.parent_obj = item;\n\t\t\t\t\tx.root = item.root;\n\t\t\t\t\tx.level = level + 1;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Comment\n\t\t\t\t\t\t\titem={x}\n\t\t\t\t\t\t\tisEditing={isEditing}\n\t\t\t\t\t\t\tcurrentEditorId={currentEditorId}\n\t\t\t\t\t\t\texpandedItems={expandedItems}\n\t\t\t\t\t\t\tmanageExpanded={manageExpanded}\n\t\t\t\t\t\t\tlanguage={language}\n\t\t\t\t\t\t\treactionLabel={reactionLabel}\n\t\t\t\t\t\t\treactionIcon={reactionIcon}\n\t\t\t\t\t\t\tindentationLimit={indentationLimit}\n\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\tlevel={level + 1}\n\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\tupdateProperties={updateProperties}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tclassName={getClass(\n\t\t\t\t\t\t\t\tx,\n\t\t\t\t\t\t\t\tindentationLimit,\n\t\t\t\t\t\t\t\texpandedItems\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nconst snCommentsComponent = ({ value, properties: { items, isEditing, currentEditorId, expandedItems, manageExpanded, language, reactionLabel, reactionIcon, indentationLimit, actions } }, { dispatch, updateProperties }) => {\n\tlet tempItems = JSON.parse(JSON.stringify(items));\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"comments-container\">\n\t\t\t\t{tempItems.map(item => {\n\t\t\t\t\titem.level = 0;\n\t\t\t\t\titem.root = item;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Comment\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tisEditing={isEditing}\n\t\t\t\t\t\t\tcurrentEditorId={currentEditorId}\n\t\t\t\t\t\t\texpandedItems={expandedItems}\n\t\t\t\t\t\t\tmanageExpanded={manageExpanded}\n\t\t\t\t\t\t\tlanguage={language}\n\t\t\t\t\t\t\treactionLabel={reactionLabel}\n\t\t\t\t\t\t\treactionIcon={reactionIcon}\n\t\t\t\t\t\t\tindentationLimit={indentationLimit}\n\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\tlevel={0}\n\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t\tupdateProperties={updateProperties}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tclassName=\"parent\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nexport default snCommentsComponent;\n","module.exports = __TECTONIC__$servicenow_now_icon;","module.exports = __TECTONIC__$servicenow_now_dropdown;","import {\n    NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED,\n    NOW_RECORD_HTML_EDITOR_VALUE_CHANGED,\n    HTML_EDITOR_ACTION_PERFORMED,\n    HTML_EDITOR_ACTION_PERFORMED_PRIVATE\n} from './constants';\nimport { isEmpty } from 'lodash';\n\nconst extractContent = (str) => {\n    return (new DOMParser).parseFromString(str, \"text/html\").documentElement.textContent.toString().trim();\n}\n\nexport const actionHandlers = {\n    [NOW_RECORD_HTML_EDITOR_STAGED_VALUE_CHANGED]: {\n        effect({ action, updateState, state }) {\n            let payloadValue = extractContent(action.payload.value);\n            if (state.value != action.payload.value && (isEmpty(state.value) || isEmpty(payloadValue)))\n                updateState({\n                    value: payloadValue\n                });\n        },\n        stopPropagation: true\n    },\n\n    [NOW_RECORD_HTML_EDITOR_VALUE_CHANGED]: {\n        effect({ action, updateState, state }) {\n            if (!isEmpty(extractContent(action.payload.value)))\n                updateState({\n                    value: action.payload.value\n                });\n        },\n        stopPropagation: true\n    },\n\n    [HTML_EDITOR_ACTION_PERFORMED_PRIVATE]: {\n        effect({ updateState, action, dispatch }) {\n            dispatch(HTML_EDITOR_ACTION_PERFORMED, action.payload)\n            updateState({\n                value: \"\"\n            })\n        },\n        stopPropagation: true\n    }\n}\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*{font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:1rem}.comment-container,.comment-container-threshold{display:flex;padding-right:1.5rem}.comment-container-threshold{padding-left:1.5rem}.comment-content{width:100%;margin-left:.5rem}.comment-content .comment-meta-container{display:flex;align-items:center;justify-content:space-between}.comment-content .comment-meta-container .comment-actions .comment-action-icon{padding:.25rem 0}.comment-content .comment-text{word-break:break-all;line-height:normal;padding-top:.5rem;padding-bottom:.75rem;border-bottom:.5px solid RGB(var(--now-color--divider-tertiary,209,214,214))}.comment-content .comment-text img{max-width:100%}.comment-content .comment-text p{margin:0}.comment-content .feedback-buttons{display:flex;justify-content:space-between;align-items:center;padding-bottom:.5rem;padding-top:.5rem;overflow:auto}.comment-content .feedback-buttons .feedback-buttons-left .feedback-button{margin-right:1.5rem}.comment-content .feedback-buttons .feedback-buttons-right .reaction-count{display:inline-flex;align-items:center}.comment-content .feedback-buttons .feedback-buttons-right .reaction-count .reaction-icon{padding-left:.25rem}.comment-content .html-editor-container{padding-bottom:1rem}.comment-content .html-editor-container .html-editor{display:flow-root;padding-top:1rem}.comment-content .html-editor-container .comment-buttons{padding-top:1rem;overflow:auto}.comment-content .html-editor-container .comment-buttons now-button{padding-left:.75rem}.vertical-divider{padding:0 .5rem}.separator,.vertical-divider{color:RGB(var(--now-color--text-tertiary,99,114,116))}.separator{margin:0 .25rem;display:inherit}.author-container{display:inline-flex;align-items:center}.author{color:RGB(var(--now-color--primary-1,30,133,109))}.time-stamp{color:RGB(var(--now-color--text-tertiary,99,114,116))}.parent{background:RGB(var(--now-color--neutral-0,255,255,255));padding-left:1.5rem;border:.5px solid RGB(var(--now-color--divider-secondary,172,180,181));border-radius:.25rem;margin-bottom:.75rem}.child,.parent{padding-top:1.5rem}.child{border-top:.5px solid RGB(var(--now-color--divider-secondary,172,180,181))}.child-before-threshold{padding-left:1.5rem}.child-at-threshold,.child-before-threshold{border-left:.5px solid RGB(var(--now-color--divider-secondary,172,180,181));border-top-left-radius:.25rem}.odd-child{background:RGB(var(--now-color--neutral-1,246,247,247))}.even-child{background:RGB(var(--now-color--neutral-0,255,255,255))}.hide{display:none}.no-margin{margin-top:0!important;margin-bottom:0!important}.no-padding{padding:0!important}.right{float:right}.clearfix{overflow:auto}.left{float:left}\", \"\"]);\n\n// exports\n","\n        var result = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./styles.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"*{font-family:Source Sans Pro,Helvetica Neue,helvetica,arial,sans-serif;font-size:1rem}.nested-comments-container{margin:auto}.header-container{display:flex;justify-content:space-between;align-items:center;padding-bottom:.75rem;padding-top:.75rem}.header-container .header-left .heading{display:inline-flex;padding-right:.5rem}.header-container .header-left .badge{vertical-align:unset}.create-container{border:.5px solid RGB(var(--now-color--divider-secondary,172,180,181));border-radius:.25rem;margin-bottom:.75rem}.create-container .create-comment-link{display:flex;align-items:center}.create-container .create-comment-link .avatar{padding-top:1.5rem;padding-bottom:1.5rem;padding-left:1.5rem;padding-right:.75rem}.create-container .html-editor-container{padding-top:1.5rem;padding-bottom:1rem;padding-left:1.5rem;padding-right:1.5rem}.create-container .html-editor-container .html-editor{display:flow-root;padding-top:1rem}.create-container .html-editor-container .comment-buttons{padding-top:1rem;overflow:auto}.create-container .html-editor-container .comment-buttons now-button{padding-left:.75rem}.show-more{padding:1rem;text-align:center}.right{float:right}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}