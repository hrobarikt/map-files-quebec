{"version":3,"sources":["webpack://__TECTONIC__$servicenow_now_dropdown/webpack/bootstrap","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_ui_renderer_snabbdom\"","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_library_enhanced_utils_19_8_3\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/utils/helpers.js","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_library_enhanced_element_19_8_3\"","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_library_schemas_19_8_3\"","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__lodash_4_17_4\"","webpack://__TECTONIC__$servicenow_now_dropdown//mnt/jenkins/workspace/motive_design-system_quebec-LAU4EC4LTND4QOM764JRONU2HSYHYZ6QDWUSLZIXTBP7KKZ7BWQQ/target/checkout/node_modules/css-loader/lib/css-base.js","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_behavior_focus_19_8_3\"","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_now_icon\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/now-dropdown-list.js","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__sn_translate\"","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_ui_core\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/schemas/dropdown-schema.js","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_behavior_fit_19_8_3\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/schemas/dropdown-list-schema.js","webpack://__TECTONIC__$servicenow_now_dropdown/./src/utils/focus.js","webpack://__TECTONIC__$servicenow_now_dropdown/./src/utils/elements.js","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_now_popover\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/index.js","webpack://__TECTONIC__$servicenow_now_dropdown/./src/now-dropdown.js","webpack://__TECTONIC__$servicenow_now_dropdown/./src/_now-dropdown.scss?bf66","webpack://__TECTONIC__$servicenow_now_dropdown/./src/_now-dropdown.scss","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_now_tooltip\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/_now-dropdown-list.scss?40b0","webpack://__TECTONIC__$servicenow_now_dropdown/./src/_now-dropdown-list.scss","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__$servicenow_now_avatar\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/behavior-screen-reader/index.js","webpack://__TECTONIC__$servicenow_now_dropdown/./src/behavior-screen-reader/screen-reader.js","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__lodash_4_17_4[\\\"unset\\\"]\"","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__lodash_4_17_4[\\\"get\\\"]\"","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__lodash_4_17_4[\\\"set\\\"]\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/now-dropdown-panel.js","webpack://__TECTONIC__$servicenow_now_dropdown/./src/_now-dropdown-panel.scss?7e48","webpack://__TECTONIC__$servicenow_now_dropdown/./src/_now-dropdown-panel.scss","webpack://__TECTONIC__$servicenow_now_dropdown/./src/panel-outside-scroll.js","webpack://__TECTONIC__$servicenow_now_dropdown/external \"__TECTONIC__lodash_4_17_4[\\\"isEqual\\\"]\"","webpack://__TECTONIC__$servicenow_now_dropdown/./src/now-dropdown-custom-target.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__TECTONIC__$servicenow_ui_renderer_snabbdom","__TECTONIC__$servicenow_library_enhanced_utils_19_8_3","hasPath","list","path","findIndex","isEqual","removePath","filter","addPath","flattenItems","togglePath","items","flatMap","item","children","getSearchMatches","filterSelectedItems","selectedItems","map","find","id","canRenderDivider","index","array","length","nextItem","label","Array","isArray","highlightLabels","sublabel","searchTerm","highlightedLabel","matchSearchTerm","location","isString","search","matchesLabel","reduce","result","push","toLowerCase","lowerValue","method","sort","a","b","setActiveItem","updateState","flattenedItems","defaultActiveItem","includes","activeItem","getDropdownListConstrain","constrain","transform","isNumber","__TECTONIC__$servicenow_library_enhanced_element_19_8_3","__TECTONIC__$servicenow_library_schemas_19_8_3","__TECTONIC__lodash_4_17_4","useSourceMap","toString","this","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","__TECTONIC__$servicenow_behavior_focus_19_8_3","__TECTONIC__$servicenow_now_icon","COMPONENT_PROPERTY_CHANGED","actionTypes","getActiveDescendant","isScreenReaderBehaviorRender","screenReaderId","getListId","nowId","suffix","fixListboxForVoiceOver","event","listbox","target","getRootNode","querySelector","removeAttribute","setTimeout","setAttribute","renderLabels","count","highlightedSublabel","className","rawLabel","aria-label","on-mouseover","offsetWidth","scrollWidth","title","undefined","renderLabel","renderDropdownListItem","selected","select","active","onClick","icon","presence","showPresencePattern","avatarProps","disabled","hideCheckmark","setSize","position","dispatch","screen-reader-behavior-id","class","e","currentTarget","type","payload","on-mousedown","preventDefault","on-click","role","aria-checked","aria-setsize","String","aria-posinset","aria-disabled","renderCheckmark","show-pattern","replace","user-name","userName","image-src","imageSrc","show-presence-pattern","size","hide-tooltip","renderIdentifier","renderSectionsOrItems","filteredItems","renderChild","properties","filteredItemIds","handleItemClick","Fragment","renderHeader","renderDivider","view","disableRole","configAria","menuOrListbox","activeDescendantId","aria-expanded","aria-owns","on-input","on-focus","searchHasFocus","on-blur","placeholder","aria-activedescendant","aria-controls","renderSearch","filterAriaAttributes","aria-multiselectable","tabindex","createEnhancedElement","default","schema","itemsSchema","manageable","enum","anyOf","panel","configAriaSchema","dispatches","initialState","eventHandlers","events","effect","action","host","state","ctrlKey","altKey","metaKey","stopPropagation","itemEl","nowRootNode","getElementById","hasAttribute","click","doesKeyChangeActive","nextActiveItem","getItemForKeypress","input","updateActiveDescendant","actionHandlers","meta","hoistHost","shadowRoot","scrollIntoView","behavior","block","inline","behaviors","screenReaderBehavior","options","screenReaderView","focusBehavior","styles","__TECTONIC__sn_translate","__TECTONIC__$servicenow_ui_core","itemSchema","nowUIType","translatable","required","sectionSchema","__TECTONIC__$servicenow_behavior_fit_19_8_3","dependencies","constrainSchema","width","oneOf","const","minWidth","maxWidth","height","minHeight","maxHeight","additionalProperties","jumpToMatchingLetter","moveActive","getRelativeItem","startsWith","unfocusItem","getListboxEl","focus","focusOnOpen","async","firstFocusItem","getSelectedItemEls","getItemEls","focusPreviousItem","lastFocusItem","getFocusedItemEl","isPanelList","focusFirstItem","lastFocusIndex","getFocusedItemIndex","nextFocusItem","focusNextItem","focusLastItem","slice","activeDescendant","delta","shouldLoop","lastActiveIndex","nextIndex","Math","min","max","getFocusedEl","activeElement","getTriggerEl","prefix","componentId","getAttribute","querySelectorAll","getShadowRootHost","element","el","parentElement","parentNode","DocumentFragment","__TECTONIC__$servicenow_now_popover","createNowDropdownListDriver","createNowDropdownDriver","createNowDropdownCustomTargetDriver","createNowDropdownPanelDriver","version","require","registry","window","___NOW_DESIGN_SYSTEM_PACKAGES___","opened","variant","bare","hideCaret","tooltipContent","panelFitProps","offset","hideLabel","showPadding","trigger","slots","focused","operation","shouldRender","makeRedispatchEffect","shouldDispatch","fitTarget","setFitTarget","ref","selectedItemId","some","acc","getSelected","getTriggerLabel","hasLabel","triggerIcon","getTriggerIcon","hide-tail","pick","positions","manage-opened","interaction-type","slot","extensionSplit","hook-insert","elm","hook-destroy","aria-haspopup","aria-describedby","aria-hidden","renderIcon","renderCaret","target-ref","renderTooltip","style","selected-items","active-item","manage-selected-items","manage-active-item","config-aria","__TECTONIC__$servicenow_now_tooltip","__TECTONIC__$servicenow_now_avatar","COMPONENT_RENDERED","COMPONENT_BOOTSTRAPPED","COMPONENT_DISCONNECTED","getDynamicallyCreatedTarget","rootNode","containerId","existingNode","newNode","document","createElement","appendChild","unmount","node","created","remove","snabbdom","onStateChange","screenReaderInjectInto","updateProperties","selector","isConnected","parentRoot","body","tagName","getRenderTarget","prevState","helpers","mutateNode","idSuffix","newId","forEach","child","updateViewForScreenReader","console","error","COMPONENT_DOM_READY","createIdSelector","getPanelEl","getContentEl","renderDropdownPanelItem","on-mouseout","aria-selected","renderPresenceOrIcon","targetRef","container","fitStyle","composedPath","restoreFocus","shiftKey","firstOpen","addOutsideScrollListener","visibility","removeOutsideScrollListener","Boolean","panelOpened","getBestFitInfo","canScrollVertical","renderItem","onItemClick","header","divider","hostToScrollData","WeakMap","callback","ancestors","uuid","Promise","resolve","eventName","findListener","removeEventListener","nodeType","Node","ELEMENT_NODE","addEventListener","CustomEvent","bubbles","composed","cancelable","dispatchEvent","targets","handled","listener","indexOf","set","has","delete","disableListeners","position-target","disable-scroll","on-slotchange","assignedNodes","flatten","Element"],"mappings":"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","file":"now-dropdown.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","module.exports = __TECTONIC__$servicenow_ui_renderer_snabbdom;","module.exports = __TECTONIC__$servicenow_library_enhanced_utils_19_8_3;","import {isEqual, flatMap, isString, transform, isNumber} from 'lodash';\nimport {matchSearchTerm} from '@servicenow/library-enhanced-utils';\n\nexport const hasPath = (list, path) =>\n\tlist.findIndex((p) => isEqual(p, path)) > -1;\n\nexport const removePath = (list, path) => list.filter((p) => !isEqual(p, path));\n\nexport const addPath = (list, path) => [...list, path];\n\nexport const togglePath = (list, path) =>\n\thasPath(list, path) ? removePath(list, path) : addPath(list, path);\n\nexport const flattenItems = (items) =>\n\tflatMap(items, (item) => item.children || item);\n\nexport const filterSelectedItems = (list, selectedItems) => {\n\treturn selectedItems.map((item) => list.find((l) => item === l.id));\n};\n\nexport const canRenderDivider = (index, array) => {\n\tconst isLastItem = index === array.length - 1;\n\tif (isLastItem) {\n\t\treturn false;\n\t}\n\n\tconst nextItem = array[index + 1];\n\tconst isNextSectionWithLabel =\n\t\tnextItem.label && Array.isArray(nextItem.children);\n\n\treturn !isNextSectionWithLabel;\n};\n\n/**\n * Adds highlighting to either the label or the sublabel, but not both. If\n * there is a match in the label, we don't want to highlight the sublabel\n */\nexport const highlightLabels = (label, sublabel, searchTerm) => {\n\tconst className = 'has-highlight';\n\n\tconst highlightedLabel = matchSearchTerm(searchTerm, label, className, {\n\t\tlocation: 'first'\n\t});\n\n\t// matchSearchTerm returns the original string if there are no matches,\n\t// otherwise it returns an array\n\tconst highlightedSublabel =\n\t\tsublabel && isString(highlightedLabel)\n\t\t\t? matchSearchTerm(searchTerm, sublabel, className, {location: 'first'})\n\t\t\t: sublabel;\n\n\treturn [highlightedLabel, highlightedSublabel];\n};\n\nexport const getSearchMatches = (items, value, search) => {\n\tif (!items || !items.length) {\n\t\treturn [];\n\t}\n\n\tif (!value || search === 'managed' || search === 'none') {\n\t\treturn items;\n\t}\n\n\tconst matchesLabel = {};\n\n\treturn (\n\t\titems\n\t\t\t.reduce((result, item) => {\n\t\t\t\tconst children = getSearchMatches(item.children, value, search);\n\t\t\t\tif (children.length) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tchildren\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst label = item.label ? item.label.toLowerCase() : '';\n\t\t\t\t\tconst sublabel = item.sublabel ? item.sublabel.toLowerCase() : '';\n\t\t\t\t\tconst lowerValue = value.toLowerCase();\n\n\t\t\t\t\tconst method = search === 'contains' ? 'includes' : 'startsWith';\n\n\t\t\t\t\tif (label[method](lowerValue)) {\n\t\t\t\t\t\tmatchesLabel[item.id] = true;\n\t\t\t\t\t\tresult.push(item);\n\t\t\t\t\t} else if (sublabel[method](lowerValue)) {\n\t\t\t\t\t\tmatchesLabel[item.id] = false;\n\t\t\t\t\t\tresult.push(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, [])\n\t\t\t// sort the items so that matches on primary label come\n\t\t\t// before matches on sublabel\n\t\t\t.sort((a, b) => matchesLabel[b.id] - matchesLabel[a.id])\n\t);\n};\n\nexport const setActiveItem = (items, selectedItems, updateState) => {\n\tconst flattenedItems = flattenItems(items);\n\tlet defaultActiveItem;\n\tif (Array.isArray(selectedItems) && selectedItems.length) {\n\t\tdefaultActiveItem = flattenedItems.find((item) =>\n\t\t\tselectedItems.includes(item.id)\n\t\t).id;\n\t} else if (Array.isArray(flattenedItems) && flattenedItems.length) {\n\t\tdefaultActiveItem = flattenedItems[0].id;\n\t}\n\tupdateState({activeItem: defaultActiveItem});\n};\n\nexport const getDropdownListConstrain = (constrain) => {\n\treturn transform(constrain, (result, value, key) => {\n\t\tif (key === 'height' || key === 'minHeight' || key === 'maxHeight') {\n\t\t\tresult[key] = isNumber(value) ? `${value}px` : value;\n\t\t}\n\t});\n};\n","module.exports = __TECTONIC__$servicenow_library_enhanced_element_19_8_3;","module.exports = __TECTONIC__$servicenow_library_schemas_19_8_3;","module.exports = __TECTONIC__lodash_4_17_4;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","module.exports = __TECTONIC__$servicenow_behavior_focus_19_8_3;","module.exports = __TECTONIC__$servicenow_now_icon;","import {createEnhancedElement} from '@servicenow/library-enhanced-element';\nimport {Fragment} from '@servicenow/ui-renderer-snabbdom';\nimport styles from './_now-dropdown-list.scss';\nimport {\n\thighlightLabels,\n\tcanRenderDivider,\n\ttogglePath,\n\tgetSearchMatches,\n\tflattenItems,\n\tfilterSelectedItems\n} from './utils/helpers';\nimport {\n\tdoesKeyChangeActive,\n\tgetItemForKeypress,\n\tupdateActiveDescendant\n} from './utils/focus.js';\nimport {t} from 'sn-translate';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-avatar';\nimport {itemsSchema} from './schemas/dropdown-list-schema';\nimport screenReaderBehavior from './behavior-screen-reader';\nimport focusBehavior from '@servicenow/behavior-focus';\nimport {actionTypes} from '@servicenow/ui-core';\nimport {filterAriaAttributes} from '@servicenow/library-enhanced-utils';\nimport {configAriaSchema} from '@servicenow/library-schemas';\nconst {COMPONENT_PROPERTY_CHANGED} = actionTypes;\n\nconst handleItemClick = (item, select, dispatch) => {\n\tdispatch(() => {\n\t\treturn {\n\t\t\ttype: 'NOW_DROPDOWN_LIST#ITEM_CLICKED',\n\t\t\tpayload: {item}\n\t\t};\n\t});\n\tif (select === 'single' || select === 'multi') {\n\t\tdispatch(({properties}) => {\n\t\t\tconst filteredItemIds = togglePath(properties.selectedItems, item.id);\n\t\t\treturn {\n\t\t\t\ttype: 'NOW_DROPDOWN_LIST#SELECTED_ITEMS_SET',\n\t\t\t\tpayload: {\n\t\t\t\t\tvalue: properties.select === 'multi' ? filteredItemIds : [item.id],\n\t\t\t\t\titems:\n\t\t\t\t\t\tproperties.select === 'multi'\n\t\t\t\t\t\t\t? filterSelectedItems(properties.items, filteredItemIds)\n\t\t\t\t\t\t\t: [item]\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n};\n\n/**\n * Returns the id of the active item in the menu, if present.\n *\n * If screen reader behavior is enabled, the id is transformed\n * using the screen reader id.\n * @returns {string}\n */\nconst getActiveDescendant = (\n\tactiveItem,\n\tisScreenReaderBehaviorRender,\n\tscreenReaderId\n) => {\n\tif (!activeItem) return;\n\n\treturn isScreenReaderBehaviorRender\n\t\t? `${screenReaderId}-option-${activeItem}`\n\t\t: activeItem;\n};\n\n/**\n * Returns the id of the menu container.\n *\n * If screen reader behavior is enabled, the id is transformed\n * using the screen reader id.\n * @returns {string}\n */\nconst getListId = (\n\tnowId,\n\tisScreenReaderBehaviorRender,\n\tscreenReaderId,\n\tsuffix\n) => {\n\treturn isScreenReaderBehaviorRender\n\t\t? `${screenReaderId}-${suffix}`\n\t\t: `${nowId}-item-container`;\n};\n\n/**\n * Workaround for this webkit bug:\n * https://bugs.webkit.org/show_bug.cgi?id=209975\n *\n * Allows Safari + VO to correctly announce activedescendant items when using\n * ArrowUp/ArrowDown to focus different items in the listbox. This needs to be\n * called both when the input first receives focus and on any input event. The\n * setTimeout() is also important, as nothing works without it. Safari likes to\n * be tricksy sometimes :) -- I honestly have no idea why but it works :shrug:\n *\n * To test this:\n * 1. Focus in the input field and use arrow keys to change the\n *    aria-activedescendant value.\n * 2. Type a value into the input field, then use arrow keys to change the\n *    aria-activedescendant value\n *\n * In both cases Safari + VO should announce the active items as they are changed.\n */\nconst fixListboxForVoiceOver = (event) => {\n\tconst root = event.target.getRootNode();\n\tconst listbox = root.querySelector('.now-dropdown-list-item-container');\n\tlistbox.removeAttribute('role');\n\tsetTimeout(() => {\n\t\tlistbox.setAttribute('role', 'listbox');\n\t}, 50);\n};\n\nconst renderCheckmark = (selected, select, hideCheckmark) => {\n\tif (hideCheckmark || select === 'none') {\n\t\treturn;\n\t}\n\tif (selected) {\n\t\treturn (\n\t\t\t<now-icon\n\t\t\t\tclassName=\"now-dropdown-list-checkmark\"\n\t\t\t\ticon=\"check-fill\"\n\t\t\t\taria-label={t('selected')}\n\t\t\t/>\n\t\t);\n\t}\n\treturn <div className=\"now-dropdown-list-checkmark\" />;\n};\n\nconst renderIdentifier = (\n\ticon,\n\tpresence,\n\tshowPresencePattern,\n\tavatarProps,\n\tselected\n) => {\n\tif (presence) {\n\t\treturn (\n\t\t\t<now-icon-presence\n\t\t\t\tclassName=\"now-dropdown-list-identifier now-m-inline-end--xxs\"\n\t\t\t\tpresence={presence}\n\t\t\t\tshow-pattern={showPresencePattern}\n\t\t\t/>\n\t\t);\n\t} else if (icon) {\n\t\treturn (\n\t\t\t<now-icon\n\t\t\t\tclassName=\"now-dropdown-list-identifier now-m-inline-end--xxs\"\n\t\t\t\ticon={\n\t\t\t\t\tselected\n\t\t\t\t\t\t? icon.replace('outline', 'fill')\n\t\t\t\t\t\t: icon.replace('fill', 'outline')\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t} else if (avatarProps) {\n\t\treturn (\n\t\t\t<now-avatar\n\t\t\t\tclassName=\"now-dropdown-list-identifier now-m-inline-end--sm\"\n\t\t\t\tuser-name={avatarProps.userName}\n\t\t\t\timage-src={avatarProps.imageSrc}\n\t\t\t\tpresence={avatarProps.presence}\n\t\t\t\tshow-presence-pattern={showPresencePattern}\n\t\t\t\tsize=\"sm\"\n\t\t\t\thide-tooltip\n\t\t\t/>\n\t\t);\n\t}\n\treturn undefined;\n};\n\nconst renderLabel = (rawLabel, highlightedLabel, count) => {\n\treturn (\n\t\t<span className=\"now-line-height-crop\">\n\t\t\t<span className=\"now-align\">\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"will-truncate\"\n\t\t\t\t\taria-label={count ? `${rawLabel} ${count}}` : rawLabel}\n\t\t\t\t\ton-mouseover={({target}) => {\n\t\t\t\t\t\tif (target.offsetWidth < target.scrollWidth) {\n\t\t\t\t\t\t\ttarget.title = rawLabel;\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t{highlightedLabel}\n\t\t\t\t</span>\n\t\t\t\t{count ? `\\u00A0(${count})` : undefined}\n\t\t\t</span>\n\t\t</span>\n\t);\n};\n\nconst renderLabels = (label, sublabel, count, searchTerm) => {\n\tconst [highlightedLabel, highlightedSublabel] = highlightLabels(\n\t\tlabel,\n\t\tsublabel,\n\t\tsearchTerm\n\t);\n\n\treturn (\n\t\t<div className=\"now-dropdown-list-labels\">\n\t\t\t{renderLabel(label, highlightedLabel, count)}\n\t\t\t{sublabel ? (\n\t\t\t\t<span className=\"now-dropdown-list-sublabel\">\n\t\t\t\t\t<span className=\"now-line-height-crop\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName=\"will-truncate\"\n\t\t\t\t\t\t\taria-label={sublabel}\n\t\t\t\t\t\t\ton-mouseover={({target}) => {\n\t\t\t\t\t\t\t\tif (target.offsetWidth < target.scrollWidth) {\n\t\t\t\t\t\t\t\t\ttarget.title = sublabel;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{highlightedSublabel}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t) : (\n\t\t\t\tundefined\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst renderHeader = (item) =>\n\titem.label ? (\n\t\t<div\n\t\t\tclassName=\"now-dropdown-list-header\"\n\t\t\ton-mousedown={(e) => e.preventDefault()}>\n\t\t\t<span className=\"will-truncate\" title={item.label}>\n\t\t\t\t{item.label}\n\t\t\t</span>\n\t\t</div>\n\t) : (\n\t\tundefined\n\t);\n\nconst renderDivider = (index, array) =>\n\tcanRenderDivider(index, array) ? (\n\t\t<hr className=\"now-dropdown-list-divider\" />\n\t) : (\n\t\tundefined\n\t);\n\nconst renderDropdownListItem = ({\n\tlabel,\n\tsublabel,\n\tselected,\n\tselect,\n\tactive,\n\tonClick,\n\tid,\n\ticon,\n\tpresence,\n\tshowPresencePattern,\n\tavatarProps,\n\tcount,\n\tdisabled,\n\tsearchTerm,\n\thideCheckmark,\n\tsetSize,\n\tposition,\n\tdispatch,\n\tsearch\n}) => {\n\treturn (\n\t\t<div\n\t\t\tid={id}\n\t\t\tkey={id}\n\t\t\tscreen-reader-behavior-id={`option-${id}`}\n\t\t\tclass={{\n\t\t\t\t'now-dropdown-list-item': true,\n\t\t\t\t'is-disabled': disabled,\n\t\t\t\t'is-focused': active,\n\t\t\t\t'is-multi-line': sublabel\n\t\t\t}}\n\t\t\ton-mouseover={(e) => {\n\t\t\t\tconst id = e.currentTarget.id;\n\t\t\t\tdispatch(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'NOW_DROPDOWN_LIST#ACTIVE_ITEM_SET',\n\t\t\t\t\t\tpayload: {value: id}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}}\n\t\t\ton-mousedown={\n\t\t\t\tdisabled || search !== 'none' ? (e) => e.preventDefault() : undefined\n\t\t\t}\n\t\t\ton-click={disabled ? undefined : onClick}\n\t\t\trole={select === 'none' ? 'menuitem' : 'option'}\n\t\t\taria-checked={\n\t\t\t\tdisabled || select === 'none' ? undefined : selected ? 'true' : 'false'\n\t\t\t}\n\t\t\taria-setsize={String(setSize)}\n\t\t\taria-posinset={String(position)}\n\t\t\taria-disabled={disabled ? 'true' : undefined}>\n\t\t\t{renderCheckmark(selected, select, hideCheckmark)}\n\t\t\t{renderIdentifier(\n\t\t\t\ticon,\n\t\t\t\tpresence,\n\t\t\t\tshowPresencePattern,\n\t\t\t\tavatarProps,\n\t\t\t\tselected\n\t\t\t)}\n\t\t\t{renderLabels(label, sublabel, count, searchTerm)}\n\t\t</div>\n\t);\n};\n\nconst renderSectionsOrItems = (\n\titems,\n\tselectedItems,\n\tselect,\n\tdispatch,\n\tsearchTerm,\n\tsearch,\n\tactiveItem,\n\thideCheckmark,\n\tshowPresencePattern\n) => {\n\tif (!items.length) {\n\t\treturn (\n\t\t\t<div className=\"now-dropdown-list-header\">{t('No results found')}</div>\n\t\t);\n\t}\n\tconst filteredItems = getSearchMatches(items, searchTerm, search);\n\tconst setSize = flattenItems(items).length;\n\n\tlet position = 0;\n\tconst renderChild = (item) => {\n\t\tposition++;\n\t\treturn renderDropdownListItem({\n\t\t\tlabel: item.label,\n\t\t\tsublabel: item.sublabel,\n\t\t\tid: item.id,\n\t\t\ticon: item.icon,\n\t\t\tpresence: item.presence,\n\t\t\tshowPresencePattern,\n\t\t\tavatarProps: item.avatarProps,\n\t\t\tcount: item.count,\n\t\t\tdisabled: item.disabled,\n\t\t\tselected: selectedItems && selectedItems.includes(item.id),\n\t\t\tselect,\n\t\t\tactive: item.id === activeItem,\n\t\t\tonClick: () => handleItemClick(item, select, dispatch),\n\t\t\tsearchTerm,\n\t\t\thideCheckmark,\n\t\t\tdispatch,\n\t\t\tsetSize,\n\t\t\tposition,\n\t\t\tsearch\n\t\t});\n\t};\n\n\treturn filteredItems.map((item, index, array) => {\n\t\tif (Array.isArray(item.children)) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{renderHeader(item)}\n\t\t\t\t\t{item.children.map(renderChild)}\n\t\t\t\t\t{renderDivider(index, array)}\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn renderChild(item);\n\t});\n};\n\nconst renderSearch = (\n\tsearch,\n\tsearchTerm,\n\tactiveItem,\n\tnowId,\n\tupdateState,\n\tdispatch,\n\tisScreenReaderBehaviorRender,\n\tscreenReaderId,\n\tmenuOrListbox\n) => {\n\tif (search === 'none') return;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"now-dropdown-list-search\"\n\t\t\t/* eslint-disable-next-line jsx-a11y/role-has-required-aria-props */\n\t\t\trole=\"combobox\"\n\t\t\taria-expanded=\"true\"\n\t\t\taria-owns={getListId(\n\t\t\t\tnowId,\n\t\t\t\tisScreenReaderBehaviorRender,\n\t\t\t\tscreenReaderId,\n\t\t\t\tmenuOrListbox\n\t\t\t)}>\n\t\t\t<now-icon\n\t\t\t\tclassName=\"now-p-inline--sm\"\n\t\t\t\ticon=\"magnifying-glass-outline\"\n\t\t\t\tsize=\"sm\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\tclassName=\"now-dropdown-list-search-field\"\n\t\t\t\ton-input={(e) => {\n\t\t\t\t\tfixListboxForVoiceOver(e);\n\t\t\t\t\tdispatch('NOW_DROPDOWN_LIST#SEARCH_TERM_SET', {\n\t\t\t\t\t\tvalue: e.target.value\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t\ton-focus={(e) => {\n\t\t\t\t\tfixListboxForVoiceOver(e);\n\t\t\t\t\tupdateState({searchHasFocus: true});\n\t\t\t\t}}\n\t\t\t\ton-blur={() => updateState({searchHasFocus: false})}\n\t\t\t\tplaceholder={t('Search')}\n\t\t\t\tvalue={searchTerm}\n\t\t\t\taria-label={t('Search')}\n\t\t\t\taria-activedescendant={getActiveDescendant(\n\t\t\t\t\tactiveItem,\n\t\t\t\t\tisScreenReaderBehaviorRender,\n\t\t\t\t\tscreenReaderId\n\t\t\t\t)}\n\t\t\t\taria-controls={getListId(\n\t\t\t\t\tnowId,\n\t\t\t\t\tisScreenReaderBehaviorRender,\n\t\t\t\t\tscreenReaderId,\n\t\t\t\t\tmenuOrListbox\n\t\t\t\t)}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst view = ({properties}, {dispatch, updateState}) => {\n\tconst {\n\t\titems,\n\t\tselectedItems,\n\t\tselect,\n\t\tsearch,\n\t\tsearchTerm,\n\t\tactiveItem,\n\t\thideCheckmark,\n\t\tshowPresencePattern,\n\t\tdisableRole,\n\t\tisScreenReaderBehaviorRender,\n\t\tscreenReaderId,\n\t\tnowId,\n\t\tconfigAria\n\t} = properties;\n\n\tconst menuOrListbox = select === 'none' ? 'menu' : 'listbox';\n\tconst role = disableRole ? undefined : menuOrListbox;\n\tconst activeDescendantId =\n\t\tsearch === 'none'\n\t\t\t? getActiveDescendant(\n\t\t\t\t\tactiveItem,\n\t\t\t\t\tisScreenReaderBehaviorRender,\n\t\t\t\t\tscreenReaderId\n\t\t\t  )\n\t\t\t: undefined;\n\n\treturn (\n\t\t<div className=\"now-dropdown-list\">\n\t\t\t{renderSearch(\n\t\t\t\tsearch,\n\t\t\t\tsearchTerm,\n\t\t\t\tactiveItem,\n\t\t\t\tnowId,\n\t\t\t\tupdateState,\n\t\t\t\tdispatch,\n\t\t\t\tisScreenReaderBehaviorRender,\n\t\t\t\tscreenReaderId,\n\t\t\t\tmenuOrListbox\n\t\t\t)}\n\t\t\t{/* eslint-disable-next-line jsx-a11y/aria-activedescendant-has-tabindex */}\n\t\t\t<div\n\t\t\t\tid={getListId(\n\t\t\t\t\tnowId,\n\t\t\t\t\tisScreenReaderBehaviorRender,\n\t\t\t\t\tscreenReaderId,\n\t\t\t\t\tmenuOrListbox\n\t\t\t\t)}\n\t\t\t\tclassName=\"now-dropdown-list-item-container\"\n\t\t\t\trole={role}\n\t\t\t\tscreen-reader-behavior-id={menuOrListbox}\n\t\t\t\t{...filterAriaAttributes(configAria, 'panel')}\n\t\t\t\taria-multiselectable={select === 'multi' ? 'true' : undefined}\n\t\t\t\taria-activedescendant={activeDescendantId}\n\t\t\t\t// for some reason having a tabindex when using fake focus (with the\n\t\t\t\t// screen-reader behavior) causes Safari + VO to stop announcing the\n\t\t\t\t// activedescendant item. Only use a tabindex when we have real focus\n\t\t\t\ttabindex={\n\t\t\t\t\tsearch === 'none' && !isScreenReaderBehaviorRender ? '0' : undefined\n\t\t\t\t}>\n\t\t\t\t{renderSectionsOrItems(\n\t\t\t\t\titems,\n\t\t\t\t\tselectedItems,\n\t\t\t\t\tselect,\n\t\t\t\t\tdispatch,\n\t\t\t\t\tsearchTerm,\n\t\t\t\t\tsearch,\n\t\t\t\t\tactiveItem,\n\t\t\t\t\thideCheckmark,\n\t\t\t\t\tshowPresencePattern\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n/**\n * The list portion of a dropdown menu, for displaying a list of items.\n *\n * @seismicElement now-dropdown-list\n * @summary The list portion of a dropdown menu, for displaying a list of items.\n * @private\n */\ncreateEnhancedElement('now-dropdown-list', {\n\tproperties: {\n\t\t/**\n\t\t * An array of `DropdownListItem` or `DropdownSection` items.\n\t\t * @type {Array.<DropdownListItem|DropdownSection>}\n\t\t */\n\t\titems: {\n\t\t\tdefault: [],\n\t\t\tschema: itemsSchema\n\t\t},\n\t\t/**\n\t\t * An array of IDs representing each selected item. If the multi-select mode\n\t\t * is not enabled, the ID of a previously selected item is cleared when\n\t\t * the user selects a new item, and a new ID is added. If the multi-select\n\t\t * mode is enabled, IDs are added to or removed from the list.\n\t\t * @type {Array.<(string|number)>}\n\t\t */\n\t\tselectedItems: {\n\t\t\tdefault: [],\n\t\t\tmanageable: true,\n\t\t\tschema: {type: 'array', items: {type: ['string', 'number']}}\n\t\t},\n\t\t/**\n\t\t * Determines what happens when the user clicks on a dropdown list item.\n\t\t * Choose from the following:\n\t\t * - \"single\" (Default): The list is closed, the trigger label is updated,\n\t\t *   and the item is marked as selected\n\t\t * - \"multi\": The list stays open, the trigger label is updated, and the\n\t\t *   item's selected state is toggled on/off\n\t\t * - \"none\": The list is closed, the trigger label is not updated, and the\n\t\t *   item is not marked as selected\n\t\t * @type {(\"single\"|\"multi\"|\"none\")}\n\t\t */\n\t\tselect: {\n\t\t\tdefault: 'single',\n\t\t\tschema: {type: 'string', enum: ['single', 'multi', 'none']}\n\t\t},\n\t\t/**\n\t\t * If true, do not render the checkmark next to a selected item. Only\n\t\t * applies when the value of `select` is \"single\".\n\t\t * @type {boolean}\n\t\t * @private\n\t\t */\n\t\thideCheckmark: {\n\t\t\tdefault: false,\n\t\t\tschema: {type: 'boolean'}\n\t\t},\n\t\t/**\n\t\t * When true, displays the dropdown item's presence status icon with a pattern to make\n\t\t * it distinguishable by a means other than color.\n\t\t * @type {boolean}\n\t\t * @uib.description Visual pattern enabled on the presence indicator for accessibility\n\t\t */\n\t\tshowPresencePattern: {default: false, schema: {type: 'boolean'}},\n\t\t// TODO: this property is :blobsad:\n\t\t/**\n\t\t * If true, the `menu` or `listbox` parent role is not set on the element\n\t\t * containing the items. This should only be used when a parent component\n\t\t * manages these roles instead.\n\t\t * @type {boolean}\n\t\t * @private\n\t\t */\n\t\tdisableRole: {\n\t\t\tdefault: false,\n\t\t\tschema: {type: 'boolean'}\n\t\t},\n\t\t/**\n\t\t * Controls how to filter the items as the user types into the integrated search input.\n\t\t * - \"none\": (default) dropdown list does not display an internal search field.\n\t\t * - \"managed\": internal input field is rendered, but no automatic filtering will happen.\n\t\t * Use this if you want to manually filter or search for items as the user types outside of the list.\n\t\t * - \"initial\": internal input field is rendered, and items whose label\n\t\t * or sublabel begins with the input value will be displayed. This is case-insensitive.\n\t\t * - \"contains\": internal input field is rendered, and items whose label\n\t\t * or sublabel contains the input value will be displayed. This is case-insensitive.\n\t\t * @type {\"none\"|\"managed\"|\"initial\"|\"contains\"}\n\t\t */\n\t\tsearch: {\n\t\t\tdefault: 'none',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['none', 'managed', 'initial', 'contains']\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Current value of the internal search field, for use with highlighting\n\t\t * and filtering within the dropdown list.\n\t\t * @type {string}\n\t\t */\n\t\tsearchTerm: {default: '', manageable: true, schema: {type: 'string'}},\n\t\t/**\n\t\t * ID of the current active descendant in the dropdown list.\n\t\t * @type {string}\n\t\t */\n\t\tactiveItem: {manageable: true, schema: {type: ['string', 'null']}},\n\t\t/**\n\t\t * An object whose keys reference a specific HTML element within the\n\t\t * now-dropdown. The value of each key is an object that contains an ARIA\n\t\t * property (or properties) and corresponding value/s. These ARIA\n\t\t * properties will be set on the specified element.\n\t\t * The 'panel' key corresponds to the inner html `<div>` that acts as the\n\t\t * 'listbox'. See https://www.w3.org/TR/wai-aria-1.1/#listbox for properties\n\t\t * and accepted values.\n\t\t * @type {{ 'aria-*': string }}\n\t\t * @uib.label ARIA Properties\n\t\t * @uib.description Sets ARIA properties on the inner div with role 'listbox'.\n\t\t */\n\t\tconfigAria: {\n\t\t\tschema: {\n\t\t\t\tanyOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tpanel: configAriaSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tconfigAriaSchema\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the user changes the selection of items in the dropdown list.\n\t\t * The payload key `value` contains an array containing either a single ID (`select=\"single\"`)\n\t\t * or multiple IDs (`select=\"multi\"`) of the selected item(s).\n\t\t * The payload key `items` contains an array of objects of the item or items selected from the dropdown list.\n\t\t * Set the `manage-selected-items` property to override the default behavior and\n\t\t * handle this action manually.\n\t\t * @type {{value: Array.<(string|number), items: Array.<Object>>}}\n\t\t */\n\t\t'NOW_DROPDOWN_LIST#SELECTED_ITEMS_SET': {},\n\t\t/**\n\t\t * Dispatched when the user selects a dropdown item. The payload contains\n\t\t * a reference to the clicked item. Handle this action for dropdown menus\n\t\t * (where `select=\"none\"`).\n\t\t * @type {{item: DropdownItem}}\n\t\t */\n\t\t'NOW_DROPDOWN_LIST#ITEM_CLICKED': {},\n\t\t/**\n\t\t * Dispatched when the user hovers over an item in the dropdown list or\n\t\t * presses the `ArrowUp`, `ArrowDown`, `Home` or `End` keys while focused\n\t\t * in the internal search field. The payload contains the ID of the item.\n\t\t * Set the `manage-active-item` property to override the default behavior\n\t\t * and handle this action manually.\n\t\t * @type {{value: string}}\n\t\t */\n\t\t'NOW_DROPDOWN_LIST#ACTIVE_ITEM_SET': {},\n\t\t/**\n\t\t * Dispatched when the user inputs text in the internal search field.\n\t\t * Set the `manage-search-term` property to override the default behavior\n\t\t * and handle this action manually.\n\t\t * @type {{value: string}}\n\t\t */\n\t\t'NOW_DROPDOWN_LIST#SEARCH_TERM_SET': {}\n\t},\n\tinitialState: {\n\t\tsearchHasFocus: false\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['keydown'],\n\t\t\teffect({action, host, dispatch, properties, state}) {\n\t\t\t\tconst {key, ctrlKey, altKey, metaKey} = action.payload.event;\n\t\t\t\tif (ctrlKey || altKey || metaKey) return;\n\t\t\t\tconst {searchHasFocus} = state;\n\t\t\t\tconst {search} = properties;\n\t\t\t\tif (key === 'Enter' || (key === ' ' && !searchHasFocus)) {\n\t\t\t\t\taction.preventDefault();\n\t\t\t\t\taction.stopPropagation();\n\t\t\t\t\tconst {activeItem} = properties;\n\t\t\t\t\tconst itemEl = host.nowRootNode.getElementById(activeItem);\n\t\t\t\t\tif (itemEl && !itemEl.hasAttribute('aria-disabled')) {\n\t\t\t\t\t\titemEl.click();\n\t\t\t\t\t}\n\t\t\t\t} else if (doesKeyChangeActive(key, search)) {\n\t\t\t\t\taction.preventDefault();\n\t\t\t\t\taction.stopPropagation();\n\n\t\t\t\t\tconst {search, items, searchTerm, activeItem} = properties;\n\t\t\t\t\tconst filteredItems = getSearchMatches(items, searchTerm, search);\n\t\t\t\t\tconst nextActiveItem = getItemForKeypress(\n\t\t\t\t\t\tfilteredItems,\n\t\t\t\t\t\tactiveItem,\n\t\t\t\t\t\tkey\n\t\t\t\t\t);\n\n\t\t\t\t\tif (nextActiveItem) {\n\t\t\t\t\t\tif (search !== 'none') {\n\t\t\t\t\t\t\tconst input = host.nowRootNode.querySelector(\n\t\t\t\t\t\t\t\t'.now-dropdown-list-search-field'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// TODO: Hacks/workaround for Safari + VoiceOver. See comment in\n\t\t\t\t\t\t\t// function definition. This is also kind of weird because\n\t\t\t\t\t\t\t// dropdown-list accepts activeItem as a prop, so there's a\n\t\t\t\t\t\t\t// chance that this gets out of sync with the property value. But\n\t\t\t\t\t\t\t// we don't run into this with our current usage of dropdown-list\n\t\t\t\t\t\t\t// in select + typeahead + typeahead-multi.\n\t\t\t\t\t\t\tupdateActiveDescendant(input, nextActiveItem.id);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdispatch(() => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttype: 'NOW_DROPDOWN_LIST#ACTIVE_ITEM_SET',\n\t\t\t\t\t\t\t\tpayload: {value: nextActiveItem.id}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({host, action}) => {\n\t\t\tconst {\n\t\t\t\tpayload: {name, value},\n\t\t\t\tmeta: {hoistHost}\n\t\t\t} = action;\n\t\t\tif (name === 'activeItem' && value) {\n\t\t\t\tconst nextActiveItem = (hoistHost || host).shadowRoot.getElementById(\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t\tif (nextActiveItem) {\n\t\t\t\t\tnextActiveItem.scrollIntoView({\n\t\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\t\tblock: 'nearest',\n\t\t\t\t\t\tinline: 'nearest'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tbehaviors: [\n\t\t{\n\t\t\tbehavior: screenReaderBehavior,\n\t\t\toptions: {\n\t\t\t\tscreenReaderView: view\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tbehavior: focusBehavior\n\t\t}\n\t],\n\tstyles,\n\tview\n});\n","module.exports = __TECTONIC__sn_translate;","module.exports = __TECTONIC__$servicenow_ui_core;","/* TODO: Deprecate these in favor of the schemas in dropdown-list-schemas once\n * dropdown has been updated to use dropdown-list */\n\nexport const itemSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tid: {nowUIType: 'string', type: ['string', 'number']},\n\t\tlabel: {type: 'string', translatable: true},\n\t\tcount: {type: 'number'},\n\t\ticon: {type: 'string'},\n\t\tpresence: {type: 'string', enum: ['available', 'away', 'busy', 'offline']},\n\t\tdisabled: {type: 'boolean'}\n\t},\n\trequired: ['id', 'label']\n};\n\nconst sectionSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tid: {type: ['string', 'number']},\n\t\tlabel: {type: 'string', translatable: true},\n\t\tchildren: {type: 'array', items: itemSchema}\n\t},\n\trequired: ['children']\n};\n\nexport const itemsSchema = {\n\ttype: 'array',\n\titems: {\n\t\tanyOf: [itemSchema, sectionSchema]\n\t}\n};\n","module.exports = __TECTONIC__$servicenow_behavior_fit_19_8_3;","const avatarSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tuserName: {type: 'string'},\n\t\timageSrc: {type: 'string'},\n\t\tpresence: {type: 'string', enum: ['available', 'away', 'busy', 'offline']}\n\t}\n};\n\nexport const itemSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tid: {type: ['string', 'number']},\n\t\tlabel: {type: 'string', translatable: true},\n\t\tsublabel: {type: 'string', translatable: true},\n\t\tcount: {type: 'number'},\n\t\ticon: {type: 'string'},\n\t\tpresence: {type: 'string', enum: ['available', 'away', 'busy', 'offline']},\n\t\tdisabled: {type: 'boolean'},\n\t\tavatarProps: avatarSchema\n\t},\n\tdependencies: {\n\t\tavatarProps: {\n\t\t\tproperties: {\n\t\t\t\ticon: false,\n\t\t\t\tpresence: false\n\t\t\t}\n\t\t},\n\t\ticon: {\n\t\t\tproperties: {\n\t\t\t\tavatarProps: false,\n\t\t\t\tpresence: false\n\t\t\t}\n\t\t},\n\t\tpresence: {\n\t\t\tproperties: {\n\t\t\t\ticon: false,\n\t\t\t\tavatarProps: false\n\t\t\t}\n\t\t}\n\t},\n\trequired: ['id', 'label']\n};\n\nconst sectionSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\tid: {type: ['string', 'number']},\n\t\tlabel: {type: 'string', translatable: true},\n\t\tchildren: {type: 'array', items: itemSchema}\n\t},\n\trequired: ['children']\n};\n\nexport const itemsSchema = {\n\ttype: 'array',\n\titems: {\n\t\tanyOf: [itemSchema, sectionSchema]\n\t}\n};\n\n// similar to popover constrain, but can't use `target` for any of the height\n// related properties\nexport const constrainSchema = {\n\ttype: 'object',\n\tproperties: {\n\t\twidth: {oneOf: [{const: 'target'}, {type: 'number'}]},\n\t\tminWidth: {oneOf: [{const: 'target'}, {type: 'number'}]},\n\t\tmaxWidth: {oneOf: [{const: 'target'}, {type: 'number'}]},\n\t\theight: {type: 'number'},\n\t\tminHeight: {type: 'number'},\n\t\tmaxHeight: {type: 'number'}\n\t},\n\tadditionalProperties: false\n};\n","import {\n\tgetListboxEl,\n\tgetItemEls,\n\tgetFocusedItemEl,\n\tgetFocusedItemIndex,\n\tgetSelectedItemEls,\n\tisPanelList\n} from './elements.js';\nimport {flattenItems} from './helpers.js';\n\n/**\n * Removes focus on a given item.\n * @param {HTMLElement} host\n * @param {HTMLElement} itemEl\n */\nexport const unfocusItem = (host) => {\n\tconst listbox = getListboxEl(host);\n\tlistbox.focus();\n};\n\n/**\n * Focuses the first item (or first selected item) when the dropdown panel is opened.\n * @param {HTMLElement} host\n */\nexport const focusOnOpen = async (host) => {\n\tconst listbox = getListboxEl(host);\n\tlistbox.focus();\n\tconst firstFocusItem = getSelectedItemEls(host)[0] || getItemEls(host)[0];\n\tif (firstFocusItem) {\n\t\tfirstFocusItem.focus();\n\t}\n};\n\n/**\n * Moves focus to previous element (if currently focused) or first element.\n * @param {HTMLElement} host\n */\nexport const focusPreviousItem = (host) => {\n\tconst lastFocusItem = getFocusedItemEl(host);\n\tif (!lastFocusItem || isPanelList(lastFocusItem)) {\n\t\tfocusFirstItem(host);\n\t\treturn;\n\t}\n\tconst lastFocusIndex = getFocusedItemIndex(host);\n\tconst nextFocusItem = getItemEls(host)[lastFocusIndex - 1];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n\n/**\n * Moves focus to next element (if currently focused) or first element.\n * @param {HTMLElement} host\n */\nexport const focusNextItem = (host) => {\n\tconst lastFocusItem = getFocusedItemEl(host);\n\tif (!lastFocusItem || isPanelList(lastFocusItem)) {\n\t\tfocusFirstItem(host);\n\t\treturn;\n\t}\n\tconst lastFocusIndex = getFocusedItemIndex(host);\n\tconst nextFocusItem = getItemEls(host)[lastFocusIndex + 1];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n\n/**\n * Focuses the first item in the dropdown panel.\n * @param {HTMLElement} host\n */\nexport const focusFirstItem = (host) => {\n\tconst nextFocusItem = getItemEls(host)[0];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n\n/**\n * Focuses the last item in the dropdown panel.\n * @param {HTMLElement} host\n */\nexport const focusLastItem = (host) => {\n\tconst nextFocusItem = getItemEls(host).slice(-1)[0];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n\n/**\n * TODO: Hacks/workaround for a Safari + VoiceOver bug. When updating the\n * input's `aria-activedescendant` asynchronously (which happens all the time\n * because Seismic renders asynchronously), VO will read the previously focused\n * item rather than the current focused item. As a workaround, we can update\n * `aria-activedescendant` synchronously outside of a Seismic render, which\n * causes VO to work correctly. This shouldn't impact anything else because\n * Seismic is going to re-render with the correct attributes anyway.\n *\n * To test to see if we can get rid of this: remove this function, open up the\n * typeahead panel, and arrow through the results. VoiceOver should announce\n * the currently focused item in the list.\n */\nexport const updateActiveDescendant = (input, activeDescendant) => {\n\tif (input) {\n\t\tinput.setAttribute('aria-activedescendant', activeDescendant);\n\t}\n};\n\nexport function doesKeyChangeActive(key, search) {\n\tconst jumpToMatchingLetter = search === 'none' && key.length === 1;\n\tconst moveActive = ['ArrowDown', 'ArrowUp', 'Home', 'End'].includes(key);\n\treturn jumpToMatchingLetter || moveActive;\n}\n\nexport function getRelativeItem(flattenedItems, activeItem, delta, shouldLoop) {\n\tconst lastActiveIndex = flattenedItems.findIndex(\n\t\t(item) => item.id === activeItem\n\t);\n\tlet nextIndex;\n\tif (shouldLoop && lastActiveIndex === flattenedItems.length - 1) {\n\t\tnextIndex = 0;\n\t} else {\n\t\tnextIndex = Math.min(\n\t\t\tMath.max(lastActiveIndex + delta, 0),\n\t\t\tflattenedItems.length - 1\n\t\t);\n\t}\n\treturn flattenedItems[nextIndex];\n}\n\nexport function getItemForKeypress(items, activeItem, key) {\n\tconst flattenedItems = flattenItems(items);\n\n\tif (key === 'ArrowDown')\n\t\treturn getRelativeItem(flattenedItems, activeItem, +1);\n\tif (key === 'ArrowUp') return getRelativeItem(flattenedItems, activeItem, -1);\n\tif (key === 'Home') return flattenedItems[0];\n\tif (key === 'End') return flattenedItems[flattenedItems.length - 1];\n\n\tif (key.length === 1) {\n\t\tconst filteredItems = flattenedItems.filter((item) => {\n\t\t\treturn item.label.toLowerCase().startsWith(key.toLowerCase());\n\t\t});\n\t\treturn getRelativeItem(filteredItems, activeItem, +1, true);\n\t}\n}\n","function createIdSelector(prefix) {\n\treturn function(host) {\n\t\tconst componentId = host.getAttribute('component-id');\n\t\treturn host.shadowRoot.getElementById(`${prefix}-${componentId}`);\n\t};\n}\n\nexport const getListboxEl = (host) =>\n\thost.shadowRoot.querySelector('.now-dropdown-list');\n\nexport const getFocusedEl = (host) => host.shadowRoot.activeElement;\n\nexport const getTriggerEl = createIdSelector('trigger');\n\nexport const getItemEls = (host) => {\n\treturn [...host.shadowRoot.querySelectorAll('.now-dropdown-list-item')];\n};\n\nexport const getSelectedItemEls = (host) => {\n\treturn [\n\t\t...host.shadowRoot.querySelectorAll(\n\t\t\t'.now-dropdown-list-item[aria-selected=\"true\"]'\n\t\t)\n\t];\n};\n\nexport const getFocusedItemEl = (host) => {\n\treturn host.shadowRoot.activeElement;\n};\n\nexport const getFocusedItemIndex = (host) => {\n\treturn getItemEls(host).findIndex(\n\t\t(element) => element.id === getFocusedItemEl(host).id\n\t);\n};\n\nexport const getShadowRootHost = (el) => {\n\tif (el.parentElement) {\n\t\treturn getShadowRootHost(el.parentElement);\n\t}\n\tif (el.parentNode && el.parentNode instanceof DocumentFragment) {\n\t\treturn el.parentNode.host;\n\t}\n\treturn null;\n};\n\nexport const isPanelList = (el) =>\n\tel.getAttribute('role') === 'listbox' || el.getAttribute('role') === 'menu';\n","module.exports = __TECTONIC__$servicenow_now_popover;","import './now-dropdown';\nimport './now-dropdown-list';\nimport './now-dropdown-panel';\nimport './now-dropdown-custom-target';\nexport {\n\tcreateNowDropdownListDriver,\n\tcreateNowDropdownDriver,\n\tcreateNowDropdownCustomTargetDriver,\n\tcreateNowDropdownPanelDriver\n} from '../drivers';\nexport {\n\titemSchema,\n\titemsSchema,\n\tconstrainSchema\n} from './schemas/dropdown-list-schema';\nexport {getItemForKeypress, updateActiveDescendant} from './utils/focus';\n\n/*\n * TODO: This is a temporary way of debugging customer problems during the\n * Seismic 18 upgrade process, because tectonic resolution makes it hard to\n * know what version of a component is running. Remove when not needed.\n * Intentionally runs in dev + production environments so we can debug all builds.\n */\nconst {name, version} = require('../package.json');\nconst registry = (window.___NOW_DESIGN_SYSTEM_PACKAGES___ =\n\twindow.___NOW_DESIGN_SYSTEM_PACKAGES___ || {});\nif (!registry[name]) {\n\tregistry[name] = version;\n}\n","import {createEnhancedElement} from '@servicenow/library-enhanced-element';\nimport {\n\textensionSplit,\n\tfilterAriaAttributes,\n\tmakeRedispatchEffect\n} from '@servicenow/library-enhanced-utils';\nimport styles from './_now-dropdown.scss';\nimport {getFocusedEl, getTriggerEl} from './utils/elements.js';\nimport {setActiveItem, getDropdownListConstrain} from './utils/helpers.js';\nimport focusBehavior from '@servicenow/behavior-focus';\nimport '@servicenow/now-icon';\nimport '@servicenow/now-tooltip';\nimport '@servicenow/now-popover';\nimport './now-dropdown-list';\nimport {t} from 'sn-translate';\nimport {itemsSchema, itemSchema} from './schemas/dropdown-schema';\nimport {constrainSchema} from '@servicenow/behavior-fit';\nimport {pick} from 'lodash';\nimport {configAriaSchema} from '@servicenow/library-schemas';\n\nconst getSelected = (items, selectedItemId) => {\n\tconst hasNestedChildren = items.some((item) =>\n\t\titem.hasOwnProperty('children')\n\t);\n\tif (hasNestedChildren) {\n\t\treturn items\n\t\t\t.reduce(\n\t\t\t\t(acc, item) =>\n\t\t\t\t\tArray.isArray(item.children)\n\t\t\t\t\t\t? [...acc, ...item.children]\n\t\t\t\t\t\t: [...acc, item],\n\t\t\t\t[]\n\t\t\t)\n\t\t\t.find((item) => item.id === selectedItemId);\n\t} else {\n\t\treturn items.find((item) => selectedItemId === item.id);\n\t}\n};\n\nconst getTriggerLabel = (placeholder, selected, selectedItems) => {\n\tif (Array.isArray(selectedItems) && selectedItems.length > 1) {\n\t\treturn t('{0} items selected', selectedItems.length);\n\t} else if (selected) {\n\t\treturn selected.label;\n\t}\n\treturn placeholder;\n};\n\nconst getTriggerIcon = (icon, selected) => {\n\tif (selected && selected.icon) {\n\t\treturn selected.icon.replace('outline', 'fill');\n\t}\n\tif (selected && selected.presence) {\n\t\treturn 'presence-fill';\n\t}\n\treturn icon;\n};\n\nconst renderIcon = (presence, showPresencePattern, size, hasLabel, icon) => {\n\tif (presence) {\n\t\treturn (\n\t\t\t<now-icon-presence\n\t\t\t\tpresence={presence}\n\t\t\t\tshow-pattern={showPresencePattern}\n\t\t\t\tsize={size}\n\t\t\t\tclass={{\n\t\t\t\t\t'now-m-inline-end--xxs': hasLabel && size !== 'lg',\n\t\t\t\t\t'now-m-inline-end--xs': hasLabel && size === 'lg'\n\t\t\t\t}}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t/>\n\t\t);\n\t} else if (icon) {\n\t\treturn (\n\t\t\t<now-icon\n\t\t\t\ticon={icon}\n\t\t\t\tsize={size}\n\t\t\t\tclass={{\n\t\t\t\t\t'now-m-inline-end--xxs': hasLabel && size !== 'lg',\n\t\t\t\t\t'now-m-inline-end--xs': hasLabel && size === 'lg'\n\t\t\t\t}}\n\t\t\t\taria-hidden=\"true\"\n\t\t\t/>\n\t\t);\n\t}\n};\n\nconst renderTooltip = (tooltipContent, componentId, fitTarget) => {\n\tif (tooltipContent) {\n\t\treturn (\n\t\t\t<now-tooltip\n\t\t\t\tid={`tooltip-${componentId}`}\n\t\t\t\ttarget-ref={fitTarget}\n\t\t\t\tcontent={tooltipContent}\n\t\t\t/>\n\t\t);\n\t}\n};\n\nconst renderLabel = (hasLabel, label, icon) => {\n\tif (hasLabel) {\n\t\treturn (\n\t\t\t<span\n\t\t\t\tclass={{\n\t\t\t\t\t'now-dropdown-label': true,\n\t\t\t\t\t'now-m-inline-start--xxs': icon\n\t\t\t\t}}\n\t\t\t\ttitle={label}\n\t\t\t\taria-hidden=\"true\">\n\t\t\t\t{label}\n\t\t\t</span>\n\t\t);\n\t}\n};\n\nconst renderCaret = (hideCaret, hasLabel, size) => {\n\tif (!hideCaret) {\n\t\treturn (\n\t\t\t<now-icon\n\t\t\t\tclass={{\n\t\t\t\t\t'now-m-inline-start--xxs': hasLabel && size !== 'lg',\n\t\t\t\t\t'now-m-inline-start--xs': hasLabel && size === 'lg'\n\t\t\t\t}}\n\t\t\t\tsize={size}\n\t\t\t\ticon=\"caret-down-fill\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t/>\n\t\t);\n\t}\n};\n\nconst view = (state, {updateState}) => {\n\tconst {componentId, fitTarget, activeItem} = state;\n\tconst {\n\t\topened,\n\t\tselect,\n\t\titems,\n\t\tselectedItems,\n\t\tplaceholder,\n\t\ticon,\n\t\tdisabled,\n\t\tvariant,\n\t\tsize,\n\t\tbare,\n\t\thideCaret,\n\t\ttooltipContent,\n\t\tpanelFitProps = {},\n\t\thideLabel,\n\t\tshowPadding,\n\t\tshowPresencePattern,\n\t\tconfigAria,\n\t\tsearch\n\t} = state.properties;\n\n\tconst setFitTarget = (ref) => setTimeout(() => updateState({fitTarget: ref}));\n\tconst constrain = {\n\t\tminHeight: 32,\n\t\tminWidth: 'target',\n\t\tmaxWidth: 400,\n\t\tmaxHeight: 300,\n\t\t...panelFitProps.constrain\n\t};\n\tlet selected;\n\tif (Array.isArray(selectedItems) && selectedItems.length === 1) {\n\t\tselected = getSelected(items, selectedItems[0]);\n\t}\n\tconst label = getTriggerLabel(placeholder, selected, selectedItems);\n\tconst hasLabel = label && !hideLabel;\n\tconst triggerIcon = getTriggerIcon(icon, selected);\n\tconst presence =\n\t\tselected && selected.presence ? selected.presence : undefined;\n\tconst count = selected && selected.count ? selected.count : undefined;\n\n\treturn (\n\t\t<now-popover\n\t\t\thide-tail\n\t\t\tconstrain={pick(constrain, ['width', 'minWidth', 'maxWidth'])}\n\t\t\tpositions={panelFitProps.position}\n\t\t\toffset={panelFitProps.offset}\n\t\t\tmanage-opened\n\t\t\topened={opened}\n\t\t\tinteraction-type=\"listbox\">\n\t\t\t<button\n\t\t\t\tslot=\"trigger\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tid={`trigger-${componentId}`}\n\t\t\t\tclass={{\n\t\t\t\t\t'now-dropdown': true,\n\t\t\t\t\t...(!disabled ? extensionSplit(variant) : {}),\n\t\t\t\t\t['-' + size]: size,\n\t\t\t\t\t'is-bare':\n\t\t\t\t\t\tbare &&\n\t\t\t\t\t\t(variant === 'secondary' ||\n\t\t\t\t\t\t\tvariant === 'secondary-selected' ||\n\t\t\t\t\t\t\tvariant === 'tertiary' ||\n\t\t\t\t\t\t\tvariant === 'inherit'),\n\t\t\t\t\t'is-disabled': disabled,\n\t\t\t\t\t'has-label': !hideLabel && label,\n\t\t\t\t\t'has-caret': !hideCaret,\n\t\t\t\t\t'is-active': opened,\n\t\t\t\t\t'show-padding': showPadding\n\t\t\t\t}}\n\t\t\t\thook-insert={({elm}) => setFitTarget(elm)}\n\t\t\t\thook-destroy={() => setFitTarget(null)}\n\t\t\t\taria-label={label}\n\t\t\t\t{...filterAriaAttributes(configAria, 'trigger')}\n\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\taria-expanded={opened ? 'true' : 'false'}\n\t\t\t\taria-disabled={disabled ? 'true' : 'false'}\n\t\t\t\taria-describedby={tooltipContent ? `tooltip-${componentId}` : undefined}\n\t\t\t\ttabindex={disabled && !tooltipContent ? '-1' : '0'}\n\t\t\t\ton-mousedown={disabled ? (e) => e.preventDefault() : undefined}>\n\t\t\t\t<slot name=\"trigger-content\">\n\t\t\t\t\t{renderIcon(\n\t\t\t\t\t\tpresence,\n\t\t\t\t\t\tshowPresencePattern,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t\thasLabel,\n\t\t\t\t\t\ttriggerIcon\n\t\t\t\t\t)}\n\t\t\t\t\t<span className=\"now-line-height-crop\">\n\t\t\t\t\t\t<span className=\"now-align\">\n\t\t\t\t\t\t\t{renderLabel(hasLabel, label, icon)}\n\t\t\t\t\t\t\t{count ? `\\u00A0(${count})` : undefined}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t{renderCaret(hideCaret, hasLabel, size)}\n\t\t\t\t</slot>\n\t\t\t\t{renderTooltip(tooltipContent, componentId, fitTarget)}\n\t\t\t</button>\n\t\t\t<now-dropdown-list\n\t\t\t\tslot=\"content\"\n\t\t\t\tstyle={getDropdownListConstrain(constrain)}\n\t\t\t\titems={items}\n\t\t\t\tselected-items={selectedItems}\n\t\t\t\tselect={select}\n\t\t\t\tsearch={search}\n\t\t\t\tshow-presence-pattern={showPresencePattern}\n\t\t\t\tactive-item={activeItem}\n\t\t\t\tmanage-selected-items\n\t\t\t\tmanage-active-item\n\t\t\t\tconfig-aria={\n\t\t\t\t\tplaceholder || tooltipContent\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\tpanel: {'aria-label': placeholder || tooltipContent},\n\t\t\t\t\t\t\t\t...configAria\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: configAria\n\t\t\t\t}\n\t\t\t/>\n\t\t</now-popover>\n\t);\n};\n\n/**\n * A dropdown is a partially hidden panel element that is used to display a list of menu options.\n * A user selects the dropdown to expose the list of options hidden in the panel. This gives users\n * the flexibility to make one or more selections from the list of options that appear in the panel.\n *\n * ```jsx\n * const dropdownItems = [{id: 'item1', label: 'Option 1'}, {id: 'item2', label: 'Option 2'}];\n *\n * <now-dropdown placeholder=\"Select\" items={dropdownItems} />\n *\n * <now-dropdown\n *    items={dropdownItems}\n *    icon=\"tag-fill\"\n *    tooltip-content=\"Select an item\"\n *    config-aria={{\n * \t\ttrigger: {'aria-label': 'Select an item'},\n * \t\tpanel: {'aria-label': 'Assigned to'}\n * \t  }}\n *    bare />\n *\n * <now-dropdown items={dropdownItems} bare select=\"none\">\n *   <now-avatar slot=\"trigger-content\" user-name=\"Manuel Bernada\" />\n * </now-dropdown>\n *\n * const dropdownItemsWithDividers = [{label: 'Section 1', children: dropdownItems}];\n * <now-dropdown items={dropdownItemsWithDividers} />\n * ```\n *\n * > NOTE: `now-dropdown-panel` is deprecated as of version `19.0.12`. We recommend switching to `now-dropdown-custom-target` instead.\n *\n *\n * @seismicElement now-dropdown\n * @summary A dropdown menu that allows user to select one or more values.\n *\n * @uib.label Dropdown\n * @uib.icon dropdown\n * @uib.description Lets users select an option from a list in a panel\n * @uib.category primitives\n * @uib.associatedTypes global.core\n * @uib.properties variant, select, size, placeholder, hideLabel, icon, bare, showPadding, hideCaret, disabled, showPresencePattern, items, opened, panelFitProps, selectedItems, configAria, tooltipContent\n * @uib.actions NOW_DROPDOWN#OPENED_SET, NOW_DROPDOWN#SELECTED_ITEMS_SET, NOW_DROPDOWN#ITEM_CLICKED\n *\n * */\ncreateEnhancedElement('now-dropdown', {\n\tproperties: {\n\t\t/**\n\t\t * An array of `DropdownItem` or `DropdownSection` items.\n\t\t * @type {(Array.<DropdownItem> | Array.<DropdownSection>)}\n\t\t * @uib.defaultValue [{\"id\":\"l1\",\"label\":\"List item 1\"}, {\"id\":\"l2\",\"label\":\"List item 2\"}, {\"id\":\"l3\",\"label\":\"List item 3\"}, {\"id\":\"l4\",\"label\":\"List item 4\"}, {\"id\":\"l5\",\"label\":\"List item 5\"}, {\"id\":\"l6\",\"label\":\"List item 6\"}]\n\t\t * @uib.description An array of dropdown items or sections\n\t\t * @uib.typeMetadata.emptyStateBehavior EMPTY_ARRAY\n\t\t */\n\t\titems: {\n\t\t\trequired: true,\n\t\t\tschema: itemsSchema\n\t\t},\n\t\t/**\n\t\t * An array of ids representing selected dropdown panel items. If multi-select mode is\n\t\t * not enabled, each time the user selects a list item, the previously selected\n\t\t * id will be replaced with the new id. If multi-select mode is\n\t\t * enabled, ids will be added to or removed from the list.\n\t\t * Use `manage-selected-items` to override the default behavior and handle the\n\t\t * `NOW_DROPDOWN#SELECTED_ITEMS_SET` action manually.\n\t\t * @type {Array.<(string|number)>}\n\t\t * @uib.description An array of ids representing selected dropdown panel items. If multi-select mode is not enabled, each time the user selects a list item, the previously selected id will be replaced with the new id. If multi-select mode is enabled, ids will be added to or removed from the list.\n\t\t */\n\t\tselectedItems: {\n\t\t\tdefault: [],\n\t\t\tmanageable: true,\n\t\t\tschema: {type: 'array', items: {type: ['string', 'number']}}\n\t\t},\n\t\t/**\n\t\t * Determines what happens when the user selects a dropdown item.\n\t\t * Choose from the following:\n\t\t * - \"single\" (default) - the panel is closed, the trigger label is updated with\n\t\t *   the label of the selected list item, and the list item is marked as selected.\n\t\t * - \"multi\" - the panel stays open, the trigger label is updated with the selected\n\t\t *    list item count, and the list item's selected state is toggled on/off.\n\t\t * - \"none\" - the panel is closed, the trigger label is not updated, and the\n\t\t *   list item is not marked as selected.\n\t\t * When using the \"single\" or \"multi\" option, handle the `NOW_DROPDOWN#SELECTED_ITEMS_SET`\n\t\t * action manually. When using the \"none\" option, handle the `NOW_DROPDOWN#ITEM_CLICKED` action manually.\n\t\t * @type {(\"single\"|\"multi\"|\"none\")}\n\t\t * @uib.label Selection\n\t\t * @uib.description Determines what happens when the user selects a dropdown item.\n\t\t */\n\t\tselect: {\n\t\t\tdefault: 'single',\n\t\t\tschema: {type: 'string', enum: ['single', 'multi', 'none']}\n\t\t},\n\t\t/**\n\t\t * Automatically updates when the user opens or closes the dropdown.\n\t\t * Use `manage-opened` to override the default behavior and handle the\n\t\t * `NOW_DROPDOWN#OPENED_SET` action manually.\n\t\t * @type {boolean}\n\t\t * @uib.description Automatically updates when the user opens or closes the dropdown.\n\t\t */\n\t\topened: {default: false, manageable: true, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * The fallback label displays when no items are selected. If you do not\n\t\t * specify a placeholder value, especially in the case of iconic\n\t\t * dropdowns, provide `tooltipContent` and/or an `aria-label`\n\t\t * via the `configAria` properties.\n\t\t * @type {string}\n\t\t * @uib.label Placeholder text\n\t\t * @uib.description The fallback label that displays when no items are selected. If you do not specify a placeholder value, especially in the case of iconic dropdowns, provide tooltipContent and/or an aria-label via the configAria properties.\n\t\t * @uib.defaultValue Dropdown\n\t\t * @uib.translatable true\n\t\t */\n\t\tplaceholder: {schema: {type: 'string'}},\n\t\t/**\n\t\t * Enable to show the dropdown as visually disabled and to stop the dropdown\n\t\t * from opening when the user interacts with it.\n\t\t * @type {boolean}\n\t\t * @uib.label Disabled\n\t\t * @uib.description Disables user click interactions\n\t\t */\n\t\tdisabled: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * Placeholder icon to include in the dropdown trigger. This icon will be replaced by\n\t\t * the icon of a selected dropdown item if the item has an icon configured.\n\t\t * @type {string}\n\t\t * @uib.label Placeholder icon\n\t\t * @uib.description Placeholder icon name to include in the dropdown trigger. This icon is replaced by the icon of a selected dropdown item if the item has an icon configured\n\t\t * @uib.fieldType icon\n\t\t */\n\t\ticon: {schema: {type: 'string'}},\n\t\t/**\n\t\t * Sets the button styles of the dropdown trigger.\n\t\t * @type {(\"primary\"|\"secondary\"|\"secondary-selected\"|\"tertiary\"|\"tertiary-selected\"|\"inherit\")}\n\t\t * @uib.label Variant\n\t\t * @uib.description Sets the dropdown styles.\n\t\t * @uib.typeMetadata.choices [{\"label\": \"Primary\",\"value\": \"primary\"},{\"label\": \"Secondary\",\"value\": \"secondary\"},{\"label\": \"Secondary (selection)\",\"value\": \"secondary-selected\"},{\"label\": \"Tertiary\",\"value\": \"tertiary\"},{\"label\": \"Tertiary (selection)\",\"value\": \"tertiary-selected\"},{\"label\": \"Inherit\",\"value\": \"inherit\"}]\n\t\t */\n\t\tvariant: {\n\t\t\tdefault: 'secondary',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: [\n\t\t\t\t\t'primary',\n\t\t\t\t\t'secondary',\n\t\t\t\t\t'secondary-selected',\n\t\t\t\t\t'tertiary',\n\t\t\t\t\t'tertiary-selected',\n\t\t\t\t\t'inherit'\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Sets the button size of the dropdown trigger.\n\t\t * @type {(\"sm\"|\"md\"|\"lg\")}\n\t\t * @uib.label Size\n\t\t * @uib.description Sets the button size of the dropdown trigger.\n\t\t */\n\t\tsize: {default: 'md', schema: {type: 'string', enum: ['sm', 'md', 'lg']}},\n\t\t/**\n\t\t * Makes the dropdown trigger border and background transparent, but retains\n\t\t * its `variant` style setting when using an iconic button. If button is text or\n\t\t * text with an icon then only works when `variant` is `secondary`,\n\t\t * `tertiary`, or `inherit`.\n\t\t * @type {boolean}\n\t\t * @uib.label Hide Container\n\t\t * @uib.description Hides the dropdown container and retains the style when using an iconic button. If the button is text or text with an icon, then this setting only applies when variant is secondary, tertiary, or inherit.\n\t\t */\n\t\tbare: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * Hides the triangular caret icon that appears in the dropdown trigger by\n\t\t * default.\n\t\t * @type {boolean}\n\t\t * @uib.description Hides the caret icon.\n\t\t */\n\t\thideCaret: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * Text shown inside the tooltip\n\t\t * @type {string}\n\t\t * @uib.label Tooltip text\n\t\t * @uib.description Text content shown inside the tooltip.\n\t\t * @uib.translatable true\n\t\t */\n\t\ttooltipContent: {schema: {type: 'string'}},\n\t\t/**\n\t\t * Properties to configure the dropdown panel.\n\t\t *\n\t\t * Valid keys are:\n\t\t *\t- position\n\t\t *\t- constrain\n\t\t *  - offset\n\t\t *\n\t\t * Each of these keys are used to control how the panel is positioned and\n\t\t * scaled relative to the dropdown target.\n\t\t *\n\t\t * @type {{ position: Array<{target: string, content: string}>, constrain: object, offset: number }}\n\t\t * @uib.label Panel Position\n\t\t * @uib.description Positions and scales the panel relative to the dropdown trigger using 'position', 'container', or 'constrain'\n\t\t */\n\t\tpanelFitProps: {\n\t\t\tdefault: {},\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tposition: {type: 'array', items: {type: 'string'}},\n\t\t\t\t\toffset: {\n\t\t\t\t\t\toneOf: [{type: 'number'}, {type: 'array', items: {type: 'number'}}]\n\t\t\t\t\t},\n\t\t\t\t\tconstrain: constrainSchema\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set this flag to suppress a visual indication of\n\t\t * the selected item(s). By default, the dropdown displays\n\t\t * the selected item or a count of selected items in place of the\n\t\t * `placeholder` text in the label of the dropdown trigger.\n\t\t * @type {boolean}\n\t\t * @uib.label Hide selected item\n\t\t * @uib.description Suppresses a visual indication of the selected item(s). By default, the dropdown displays the selected item or a count of selected items in place of the placeholder text in the label of the dropdown trigger.\n\t\t */\n\t\thideLabel: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * Set this flag to always include side padding on bare buttons.\n\t\t * By default, bare buttons with labels do not have side padding.\n\t\t * @type {boolean}\n\t\t * @uib.description Includes side padding on bare buttons. By default, bare buttons with labels do not have side padding.\n\t\t */\n\t\tshowPadding: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * When true, displays the dropdown item's presence status icon with a pattern to make\n\t\t * it distinguishable by a means other than color.\n\t\t * @type {boolean}\n\t\t * @uib.description Enables a visual pattern on the presence indicator for accessibility\n\t\t */\n\t\tshowPresencePattern: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * An object whose keys reference a specific HTML element within the\n\t\t * now-dropdown. The value of each key is an object that contains an ARIA\n\t\t * property (or properties) and corresponding value/s. These ARIA\n\t\t * properties will be set on the specified element.\n\t\t * The 'trigger' key corresponds to the inner html `<button>` that acts as\n\t\t * the trigger in now-dropdown. See https://www.w3.org/TR/wai-aria-1.1/#button\n\t\t * for properties and accepted values.\n\t\t * The 'panel' key corresponds to the inner html `<div>` that acts as the\n\t\t * 'listbox'. See https://www.w3.org/TR/wai-aria-1.1/#listbox for properties\n\t\t * and accepted values.\n\t\t * @type {{ 'aria-*': string }}\n\t\t * @uib.label ARIA Properties\n\t\t * @uib.description Sets ARIA properties on the inner html 'button' and 'listbox'.\n\t\t */\n\t\tconfigAria: {\n\t\t\tschema: {\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\ttrigger: configAriaSchema,\n\t\t\t\t\t\t\tpanel: configAriaSchema\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadditionalProperties: false\n\t\t\t\t\t},\n\t\t\t\t\tconfigAriaSchema\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Controls how to filter the items as the user types into the integrated search input.\n\t\t * - \"none\": (default) dropdown list does not display an internal search field.\n\t\t * - \"managed\": internal input field is rendered, but no automatic filtering will happen.\n\t\t * Use this if you want to manually filter or search for items as the user types outside of the list.\n\t\t * - \"initial\": internal input field is rendered, and items whose label\n\t\t * or sublabel begins with the input value will be displayed. This is case-insensitive.\n\t\t * - \"contains\": internal input field is rendered, and items whose label\n\t\t * or sublabel contains the input value will be displayed. This is case-insensitive.\n\t\t * @type {(\"none\"|\"managed\"|\"initial\"|\"contains\")}\n\t\t * @uib.label Search Behavior\n\t\t * @uib.description Controls how to filter the items as the user types into the integrated search input\n\t\t */\n\t\tsearch: {\n\t\t\tdefault: 'none',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['none', 'managed', 'initial', 'contains']\n\t\t\t}\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the dropdown menu is opened or closed. Payload contains\n\t\t * a boolean of `true` when the dropdown is opened or `false` when the dropdown is closed.\n\t\t * Set the `manage-opened` property to override the default behavior and\n\t\t * handle this action manually.\n\t\t * @type {{value: boolean}}\n\t\t * @uib.description Dispatched when the dropdown menu is opened or closed\n\t\t */\n\t\t'NOW_DROPDOWN#OPENED_SET': {\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tvalue: {type: 'boolean'}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Dispatched when the user changes the selection of items in the dropdown panel.\n\t\t * Payload contains an array containing either a single ID (for `select=\"single\"`) or\n\t\t * multiple IDs (for `select=\"multi\"`) of the selected item(s).\n\t\t * Set the `manage-selected-items` property to override the default behavior and\n\t\t * handle this action manually.\n\t\t * @type {{value: Array.<(string|number)>}}\n\t\t * @uib.description Dispatched when the user changes the selection of items in the dropdown panel for Selection mode `single` and `multi`\n\t\t */\n\t\t'NOW_DROPDOWN#SELECTED_ITEMS_SET': {\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: ['string', 'number']\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Dispatched when the user selects a dropdown item. Payload contains\n\t\t * a reference to the clicked item. Handle this action for dropdown menus (where `select=\"none\"`).\n\t\t * @type {{item: DropdownItem}}\n\t\t * @uib.description Dispatched when the user selects a dropdown item for Selection mode `none`\n\t\t */\n\t\t'NOW_DROPDOWN#ITEM_CLICKED': {\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {item: itemSchema}\n\t\t\t}\n\t\t}\n\t},\n\tslots: {\n\t\t/**\n\t\t * Content placed in this named slot appears inside of the trigger button of the dropdown,\n\t\t * taking the place of the `icon`, `placeholder` and caret icon that normally appear there.\n\t\t * Click behavior and other functionality is maintained for the custom content automatically.\n\t\t */\n\t\t'trigger-content': {}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['keydown'],\n\t\t\teffect({host, action, properties, dispatch, updateState}) {\n\t\t\t\tconst {key} = action.payload.event;\n\t\t\t\tconst {items, selectedItems} = properties;\n\n\t\t\t\tif (['ArrowDown', 'ArrowUp'].includes(key)) {\n\t\t\t\t\tconst focused = getFocusedEl(host);\n\t\t\t\t\tconst trigger = getTriggerEl(host);\n\n\t\t\t\t\tif (!properties.disabled && focused === trigger) {\n\t\t\t\t\t\taction.preventDefault();\n\t\t\t\t\t\tsetActiveItem(items, selectedItems, updateState);\n\t\t\t\t\t\tdispatch(() => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttype: 'NOW_DROPDOWN#OPENED_SET',\n\t\t\t\t\t\t\t\tpayload: {value: true}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t'NOW_POPOVER#OPENED_SET': ({action, dispatch, properties}) => {\n\t\t\tconst {value} = action.payload;\n\t\t\tconst {disabled} = properties;\n\t\t\tif (disabled) return;\n\t\t\tdispatch(() => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'NOW_DROPDOWN#OPENED_SET',\n\t\t\t\t\tpayload: {value}\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\t'NOW_POPOVER#CONTENT_VISIBLE': ({host, properties, updateState}) => {\n\t\t\tconst dropdownList = host.shadowRoot.querySelector('now-dropdown-list');\n\t\t\tdropdownList.focus();\n\n\t\t\tconst {items, selectedItems} = properties;\n\t\t\tsetActiveItem(items, selectedItems, updateState);\n\t\t},\n\t\t'NOW_POPOVER#CONTENT_HIDDEN': ({updateState}) => {\n\t\t\tupdateState(() => {\n\t\t\t\treturn {\n\t\t\t\t\tpath: 'activeItem',\n\t\t\t\t\tvalue: null,\n\t\t\t\t\toperation: 'set',\n\t\t\t\t\tshouldRender: false\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\t'NOW_DROPDOWN_LIST#SELECTED_ITEMS_SET': makeRedispatchEffect(\n\t\t\t'NOW_DROPDOWN#SELECTED_ITEMS_SET'\n\t\t),\n\t\t'NOW_DROPDOWN_LIST#ITEM_CLICKED': ({dispatch, action}) => {\n\t\t\tdispatch(({properties}) => {\n\t\t\t\tconst {select} = properties;\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'NOW_DROPDOWN#OPENED_SET',\n\t\t\t\t\tpayload: {value: false},\n\t\t\t\t\tshouldDispatch: select !== 'multi'\n\t\t\t\t};\n\t\t\t});\n\t\t\tdispatch(() => ({\n\t\t\t\ttype: 'NOW_DROPDOWN#ITEM_CLICKED',\n\t\t\t\tpayload: {item: action.payload.item}\n\t\t\t}));\n\t\t},\n\t\t'NOW_DROPDOWN_LIST#ACTIVE_ITEM_SET': ({action, updateState}) => {\n\t\t\tconst activeItem = action.payload.value;\n\t\t\tupdateState({activeItem});\n\t\t}\n\t},\n\tbehaviors: [{behavior: focusBehavior}],\n\tview,\n\tstyles\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_now-dropdown.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-a11y-label{position:absolute;overflow:hidden;width:1px;height:auto;margin:0;border:none;padding:0;white-space:nowrap;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%)}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--xs{margin-block-end:.25rem}.now-m-block--xs,.now-m-block-start--xs{margin-block-start:.25rem}.now-m-block-end--xs{margin-block-end:.25rem}.now-m-inline--xs{margin-inline-end:.25rem}.now-m-inline--xs,.now-m-inline-start--xs{margin-inline-start:.25rem}.now-m-inline-end--xs{margin-inline-end:.25rem}:host{display:inline-block;vertical-align:middle}.now-dropdown{display:flex;justify-content:center;align-items:center;width:inherit;cursor:pointer;width:100%;max-width:inherit;margin:0;border-style:solid;padding-block-start:0;padding-block-end:0}.now-dropdown:active{color:currentColor}.now-dropdown::-moz-focus-inner{border-style:none}.now-dropdown:focus{box-shadow:inset 0 0 0 2px RGB(var(--now-color_focus-ring,var(--now-color--secondary-1,1,119,142))),inset 0 0 0 3px RGB(var(--now-color_focus-ring_shadow,var(--now-color--neutral-0,255,255,255))),0 1px .125rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);outline:none}.now-dropdown.has-label:not(.is-bare){font-family:var(--mv9-kWzzvm--Pvmz-PrTAjO,var(--mv9-rJzAvmrkjt--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)));font-style:var(--mv9-kWzzvm--Pvmz-1zOjt,var(--mv9-rJzAvmrkjt--Pvmz-1zOjt,normal));font-weight:var(--mv9-kWzzvm--Pvmz-9tAf8z,var(--mv9-rJzAvmrkjt--Pvmz-9tAf8z,normal));font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:var(--mv9-kWzzvm--ztuz-zZrm1PvZT,var(--mv9-rJzAvmrkjt--ztuz-zZrm1PvZT,none));text-indent:0;text-shadow:none;white-space:var(--mv9-kWzzvm--ztuz-9ZrX,nowrap)}.now-dropdown.has-caret,.now-dropdown.has-label{border-top-left-radius:var(--mv9-pZvXpv9m--kvZptZ-zvX-jtPz-ZrpAW1,var(--mv9-kWzzvm--kvZptZ-ZrpAW1,var(--mv9-rJzAvmrkjt--kvZptZ-ZrpAW1,0)));border-top-right-radius:var(--mv9-pZvXpv9m--kvZptZ-zvX-ZAf8z-ZrpAW1,var(--mv9-kWzzvm--kvZptZ-ZrpAW1,var(--mv9-rJzAvmrkjt--kvZptZ-ZrpAW1,0)));border-bottom-right-radius:var(--mv9-pZvXpv9m--kvZptZ-kvzzvT-ZAf8z-ZrpAW1,var(--mv9-kWzzvm--kvZptZ-ZrpAW1,var(--mv9-rJzAvmrkjt--kvZptZ-ZrpAW1,0)));border-bottom-left-radius:var(--mv9-pZvXpv9m--kvZptZ-kvzzvT-jtPz-ZrpAW1,var(--mv9-kWzzvm--kvZptZ-ZrpAW1,var(--mv9-rJzAvmrkjt--kvZptZ-ZrpAW1,0)))}.now-dropdown:not(.has-caret):not(.has-label){border-radius:var(--mv9-kWzzvm--AJvmAJ--kvZptZ-ZrpAW1,var(--mv9-kWzzvm--kvZptZ-ZrpAW1,var(--mv9-rJzAvmrkjt--kvZptZ-ZrpAW1,0)))}.now-dropdown.-sm{min-height:calc(1.5rem*var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1));padding-block-start:.25rem;padding-block-end:.25rem;font-size:.75rem;line-height:1.33333;padding-inline-start:calc(0.5rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1));padding-inline-end:calc(0.5rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-sm.has-caret.has-label:not(.is-bare){padding-inline-end:calc(0.25rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-sm:not(.has-caret):not(.has-label){width:calc(1.5rem*var(--mv9-kWzzvm--Jvm1zZrAm-1Jrjt, 1));height:calc(1.5rem*var(--mv9-kWzzvm--Jvm1zZrAm-1Jrjt, 1));padding-inline-start:0;padding-inline-end:0}.now-dropdown.-sm.has-caret:not(.has-label){padding-inline-start:calc(0.25rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1));padding-inline-end:calc(0.25rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-sm.has-label .now-line-height-crop:after,.now-dropdown.-sm.has-label .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown.-sm.has-label .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-dropdown.-sm.has-label .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-dropdown.-sm.has-label .now-line-height-crop+.now-dropdown.-sm.has-label .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-dropdown.-md{min-height:calc(2rem*var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1));padding-block-start:.375rem;padding-block-end:.375rem;font-size:1rem;line-height:1.25;padding-inline-start:calc(1rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1));padding-inline-end:calc(1rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-md.has-caret.has-label:not(.is-bare){padding-inline-end:calc(0.75rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-md:not(.has-caret):not(.has-label){width:calc(2rem*var(--mv9-kWzzvm--Jvm1zZrAm-1Jrjt, 1));height:calc(2rem*var(--mv9-kWzzvm--Jvm1zZrAm-1Jrjt, 1));padding-inline-start:0;padding-inline-end:0}.now-dropdown.-md.has-caret:not(.has-label){padding-inline-start:calc(0.5rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1));padding-inline-end:calc(0.5rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-md.has-label .now-line-height-crop:after,.now-dropdown.-md.has-label .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown.-md.has-label .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-dropdown.-md.has-label .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-dropdown.-md.has-label .now-line-height-crop+.now-dropdown.-md.has-label .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-dropdown.-lg{min-height:calc(3rem*var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1));padding-block-start:.375rem;padding-block-end:.375rem;font-size:1.5rem;line-height:1.25;padding-inline-start:calc(1.5rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1));padding-inline-end:calc(1.5rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-lg.has-caret.has-label:not(.is-bare){padding-inline-end:calc(1rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-lg:not(.has-caret):not(.has-label){width:calc(3rem*var(--mv9-kWzzvm--Jvm1zZrAm-1Jrjt, 1));height:calc(3rem*var(--mv9-kWzzvm--Jvm1zZrAm-1Jrjt, 1));padding-inline-start:0;padding-inline-end:0}.now-dropdown.-lg.has-caret:not(.has-label){padding-inline-start:calc(0.75rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1));padding-inline-end:calc(0.75rem*var(--mv9-kWzzvm--9Apz8-1Jrjt, 1))}.now-dropdown.-lg.has-label .now-line-height-crop:after,.now-dropdown.-lg.has-label .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown.-lg.has-label .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-dropdown.-lg.has-label .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-dropdown.-lg.has-label .now-line-height-crop+.now-dropdown.-lg.has-label .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-dropdown.-primary{border-width:var(--mv9-kWzzvm--XZATrZO--kvZptZ-9Apz8,var(--mv9-kWzzvm--kvZptZ-9Apz8,var(--mv9-rJzAvmrkjt--kvZptZ-9Apz8,1px)));border-color:RGB(var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ,var(--now-color--primary-3,15,67,55)));color:RGB(var(--mv9-kWzzvm--XZATrZO--JvjvZ,var(--now-color--neutral-0,255,255,255)));background-color:RGB(var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ,var(--now-color--primary-1,30,133,109)))}.now-dropdown.-primary:hover{border-color:RGB(var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ--8vstZ,var(--now-color--primary-3,15,67,55)));color:RGB(var(--mv9-kWzzvm--XZATrZO--JvjvZ--8vstZ,var(--now-color--neutral-0,255,255,255)));background-color:RGB(var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)))}.now-dropdown.-primary:active{border-color:RGB(var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));color:RGB(var(--mv9-kWzzvm--XZATrZO--JvjvZ--rJzAst,var(--now-color--neutral-0,255,255,255)));background-color:RGB(var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)))}.now-dropdown.-primary.is-active{border-color:RGB(var(--mv9-pZvXpv9m--XZATrZO--kvZptZ-JvjvZ--vXtmtp,var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ,var(--now-color--primary-3,15,67,55))));color:RGB(var(--mv9-pZvXpv9m--XZATrZO--JvjvZ--vXtmtp,var(--mv9-kWzzvm--XZATrZO--JvjvZ,var(--now-color--neutral-0,255,255,255))));background-color:RGB(var(--mv9-pZvXpv9m--XZATrZO--krJUfZvWmp-JvjvZ--vXtmtp,var(--now-color--primary-3,15,67,55)))}.now-dropdown.-primary.is-active:hover{border-color:RGB(var(--mv9-pZvXpv9m--XZATrZO--kvZptZ-JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ--8vstZ,var(--now-color--primary-3,15,67,55))));color:RGB(var(--mv9-pZvXpv9m--XZATrZO--JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--XZATrZO--JvjvZ--8vstZ,var(--now-color--neutral-0,255,255,255))));background-color:RGB(var(--mv9-pZvXpv9m--XZATrZO--krJUfZvWmp-JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82))))}.now-dropdown.-primary.is-active:active{border-color:RGB(var(--mv9-pZvXpv9m--XZATrZO--kvZptZ-JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--XZATrZO--kvZptZ-JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55))));color:RGB(var(--mv9-pZvXpv9m--XZATrZO--JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--XZATrZO--JvjvZ--rJzAst,var(--now-color--neutral-0,255,255,255))));background-color:RGB(var(--mv9-pZvXpv9m--XZATrZO--krJUfZvWmp-JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--XZATrZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55))))}.now-dropdown.-secondary{border-width:var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-9Apz8,var(--mv9-kWzzvm--kvZptZ-9Apz8,var(--mv9-rJzAvmrkjt--kvZptZ-9Apz8,1px)));border-color:RGB(var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--mv9-kWzzvm--1tJvmprZO--JvjvZ,var(--now-color--neutral-18,22,27,28)));background-color:RGB(var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ,var(--now-color--neutral-2,228,230,231)))}.now-dropdown.-secondary:hover{border-color:RGB(var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ--8vstZ,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--mv9-kWzzvm--1tJvmprZO--JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107)));background-color:RGB(var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-3,209,214,214)))}.now-dropdown.-secondary:active{border-color:RGB(var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181)));color:RGB(var(--mv9-kWzzvm--1tJvmprZO--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71)));background-color:RGB(var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181)))}.now-dropdown.-secondary.is-active:not(.is-bare){border-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--kvZptZ-JvjvZ--vXtmtp,var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--JvjvZ--vXtmtp,var(--now-color--secondary-3,1,60,71)));background-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--krJUfZvWmp-JvjvZ--vXtmtp,var(--now-color--neutral-5,172,180,181)))}.now-dropdown.-secondary.is-active:not(.is-bare):hover{border-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--kvZptZ-JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ--8vstZ,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--1tJvmprZO--JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107))));background-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--krJUfZvWmp-JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-3,209,214,214))))}.now-dropdown.-secondary.is-active:not(.is-bare):active{border-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--kvZptZ-JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--1tJvmprZO--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71))));background-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO--krJUfZvWmp-JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181))))}.now-dropdown.-secondary.-selected{border-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--kvZptZ-JvjvZ,var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--JvjvZ,var(--now-color--primary-2,23,100,82)));background-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--krJUfZvWmp-JvjvZ,var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ,var(--now-color--neutral-2,228,230,231))))}.now-dropdown.-secondary.-selected:hover{border-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--kvZptZ-JvjvZ--8vstZ,var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ--8vstZ,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--JvjvZ--8vstZ,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--krJUfZvWmp-JvjvZ--8vstZ,var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-3,209,214,214))))}.now-dropdown.-secondary.-selected.is-active:not(.is-bare),.now-dropdown.-secondary.-selected:active{border-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--kvZptZ-JvjvZ--rJzAst,var(--mv9-kWzzvm--1tJvmprZO--kvZptZ-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-pZvXpv9m--1tJvmprZO-1tjtJztp--krJUfZvWmp-JvjvZ--rJzAst,var(--mv9-kWzzvm--1tJvmprZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181))))}.now-dropdown.-tertiary{border-width:var(--mv9-kWzzvm--ztZzArZO--kvZptZ-9Apz8,var(--mv9-kWzzvm--kvZptZ-9Apz8,var(--mv9-rJzAvmrkjt--kvZptZ-9Apz8,1px)));border-color:RGBA(var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)),var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ-rjX8r,1));color:RGBA(var(--mv9-kWzzvm--ztZzArZO--JvjvZ,var(--now-color--neutral-18,22,27,28)),var(--mv9-kWzzvm--ztZzArZO--JvjvZ-rjX8r,1));background-color:RGBA(var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255)),var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ-rjX8r,0))}.now-dropdown.-tertiary:hover{border-color:RGBA(var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--8vstZ,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181))),var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ-rjX8r--8vstZ,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ-rjX8r,1)));color:RGBA(var(--mv9-kWzzvm--ztZzArZO--JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107)),var(--mv9-kWzzvm--ztZzArZO--JvjvZ-rjX8r--8vstZ,var(--mv9-kWzzvm--ztZzArZO--JvjvZ-rjX8r,1)));background-color:RGBA(var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-2,228,230,231)),var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ-rjX8r--8vstZ,1))}.now-dropdown.-tertiary:active{border-color:RGBA(var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--rJzAst,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181))),var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ-rjX8r--rJzAst,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ-rjX8r,1)));color:RGBA(var(--mv9-kWzzvm--ztZzArZO--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71)),var(--mv9-kWzzvm--ztZzArZO--JvjvZ-rjX8r--rJzAst,var(--mv9-kWzzvm--ztZzArZO--JvjvZ-rjX8r,1)));background-color:RGBA(var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181)),var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ-rjX8r--rJzAst,1))}.now-dropdown.-tertiary.is-active:not(.is-bare){border-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--kvZptZ-JvjvZ--vXtmtp,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--JvjvZ--vXtmtp,var(--now-color--secondary-3,1,60,71)));background-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--krJUfZvWmp-JvjvZ--vXtmtp,var(--now-color--neutral-5,172,180,181)))}.now-dropdown.-tertiary.is-active:not(.is-bare):hover{border-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--kvZptZ-JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--8vstZ,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)))));color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--ztZzArZO--JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107))));background-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--krJUfZvWmp-JvjvZ--vXtmtp_8vstZ,var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255))))}.now-dropdown.-tertiary.is-active:not(.is-bare):active{border-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--kvZptZ-JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--rJzAst,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)))));color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--ztZzArZO--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71))));background-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO--krJUfZvWmp-JvjvZ--vXtmtp_rJzAst,var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181))))}.now-dropdown.-tertiary.-selected{border-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--kvZptZ-JvjvZ,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181))));color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--JvjvZ,var(--now-color--primary-2,23,100,82)));background-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--krJUfZvWmp-JvjvZ,var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ,var(--now-color--neutral-0,255,255,255))))}.now-dropdown.-tertiary.-selected:hover{border-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--kvZptZ-JvjvZ--8vstZ,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--8vstZ,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)))));color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--JvjvZ--8vstZ,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--krJUfZvWmp-JvjvZ--8vstZ,var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-2,228,230,231))))}.now-dropdown.-tertiary.-selected.is-active:not(.is-bare),.now-dropdown.-tertiary.-selected:active{border-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--kvZptZ-JvjvZ--rJzAst,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ--rJzAst,var(--mv9-kWzzvm--ztZzArZO--kvZptZ-JvjvZ,var(--now-color--neutral-5,172,180,181)))));color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)));background-color:RGB(var(--mv9-pZvXpv9m--ztZzArZO-1tjtJztp--krJUfZvWmp-JvjvZ--rJzAst,var(--mv9-kWzzvm--ztZzArZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-5,172,180,181))))}.now-dropdown.is-bare{width:100%}.now-dropdown.is-bare,.now-dropdown.is-bare:active,.now-dropdown.is-bare:hover{border:none;background-color:transparent}.now-dropdown.is-bare.has-label{font-family:var(--mv9-kWzzvm--krZt--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif));font-style:var(--mv9-kWzzvm--krZt--Pvmz-1zOjt,normal);font-weight:var(--mv9-kWzzvm--krZt--Pvmz-9tAf8z,normal);font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:var(--mv9-kWzzvm--krZt--ztuz-zZrm1PvZT,none);text-indent:0;text-shadow:none;white-space:var(--mv9-kWzzvm--krZt--ztuz-9ZrX,nowrap)}.now-dropdown.is-bare.has-label:not(.show-padding){padding-inline-start:0;padding-inline-end:0}.now-dropdown.is-bare.-secondary:not(.has-label):hover{background-color:RGBA(var(--mv9-pZvXpv9m--krZt_1tJvmprZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-9,99,114,116)),.1)}.now-dropdown.is-bare.-secondary:not(.has-label).is-active,.now-dropdown.is-bare.-secondary:not(.has-label):active{background-color:RGBA(var(--mv9-pZvXpv9m--krZt_1tJvmprZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-9,99,114,116)),.25)}.now-dropdown.is-bare.-secondary.-selected{color:RGB(var(--mv9-pZvXpv9m--krZt_1tJvmprZO-1tjtJztp--JvjvZ,var(--now-color--primary-1,30,133,109)));background-color:unset}.now-dropdown.is-bare.-secondary.-selected:hover{color:RGB(var(--mv9-pZvXpv9m--krZt_1tJvmprZO-1tjtJztp--JvjvZ--8vstZ,var(--now-color--primary-2,23,100,82)))}.now-dropdown.is-bare.-secondary.-selected:hover:not(.has-label){background-color:RGBA(var(--mv9-pZvXpv9m--krZt_1tJvmprZO-1tjtJztp--krJUfZvWmp-JvjvZ--8vstZ,var(--mv9-pZvXpv9m--krZt_1tJvmprZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-9,99,114,116))),.1)}.now-dropdown.is-bare.-secondary.-selected.is-active,.now-dropdown.is-bare.-secondary.-selected:active{color:RGB(var(--mv9-pZvXpv9m--krZt_1tJvmprZO-1tjtJztp--JvjvZ--rJzAst,var(--now-color--primary-3,15,67,55)))}.now-dropdown.is-bare.-secondary.-selected.is-active:not(.has-label),.now-dropdown.is-bare.-secondary.-selected:active:not(.has-label){background-color:RGBA(var(--mv9-pZvXpv9m--krZt_1tJvmprZO-1tjtJztp--krJUfZvWmp-JvjvZ--rJzAst,var(--mv9-pZvXpv9m--krZt_1tJvmprZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-9,99,114,116))),.25)}.now-dropdown.is-bare.-tertiary{color:RGB(var(--mv9-pZvXpv9m--krZt_ztZzArZO--JvjvZ,var(--now-color--secondary-1,1,119,142)))}.now-dropdown.is-bare.-tertiary:hover{color:RGB(var(--mv9-pZvXpv9m--krZt_ztZzArZO--JvjvZ--8vstZ,var(--now-color--secondary-2,1,89,107)))}.now-dropdown.is-bare.-tertiary.is-active,.now-dropdown.is-bare.-tertiary:active{color:RGB(var(--mv9-pZvXpv9m--krZt_ztZzArZO--JvjvZ--rJzAst,var(--now-color--secondary-3,1,60,71)))}.now-dropdown.is-bare.-tertiary:not(.has-label){background-color:RGBA(var(--mv9-pZvXpv9m--krZt_ztZzArZO--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))),var(--mv9-pZvXpv9m--krZt_ztZzArZO--krJUfZvWmp-JvjvZ-rjX8r,0))}.now-dropdown.is-bare.-tertiary:not(.has-label):hover{background-color:RGBA(var(--mv9-pZvXpv9m--krZt_ztZzArZO--krJUfZvWmp-JvjvZ--8vstZ,var(--mv9-pZvXpv9m--krZt_1tJvmprZO--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color--neutral-9,99,114,116))),var(--mv9-pZvXpv9m--krZt_ztZzArZO--krJUfZvWmp-JvjvZ-rjX8r--8vstZ,.1))}.now-dropdown.is-bare.-tertiary:not(.has-label).is-active,.now-dropdown.is-bare.-tertiary:not(.has-label):active{background-color:RGBA(var(--mv9-pZvXpv9m--krZt_ztZzArZO--krJUfZvWmp-JvjvZ--rJzAst,var(--mv9-pZvXpv9m--krZt_1tJvmprZO--krJUfZvWmp-JvjvZ--rJzAst,var(--now-color--neutral-9,99,114,116))),var(--mv9-pZvXpv9m--krZt_ztZzArZO--krJUfZvWmp-JvjvZ-rjX8r--rJzAst,.25))}.now-dropdown.is-bare.-inherit,.now-dropdown.is-bare.-inherit:active,.now-dropdown.is-bare.-inherit:hover{color:inherit}.now-dropdown.is-bare.is-disabled,.now-dropdown.is-bare.is-disabled:hover{border-color:transparent;background-color:transparent}.now-dropdown.is-disabled{border-color:RGBA(var(--mv9-kWzzvm--kvZptZ-JvjvZ--pA1rkjtp,var(--now-color--neutral-18,22,27,28)),.25);cursor:not-allowed;color:RGBA(var(--mv9-kWzzvm--JvjvZ--pA1rkjtp,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))),.25);background-color:RGBA(var(--mv9-kWzzvm--krJUfZvWmp-JvjvZ--pA1rkjtp,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255))),.25);border-width:var(--mv9-kWzzvm--kvZptZ-9Apz8--pA1rkjtp,var(--mv9-kWzzvm--kvZptZ-9Apz8,var(--mv9-rJzAvmrkjt--kvZptZ-9Apz8,1px)))}.now-dropdown .now-line-height-crop{min-width:0}.now-dropdown-label{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}:host(:not([dir=rtl])) .now-dropdown-label,:root:not([dir=rtl]) .now-dropdown-label{text-align:left}:host([dir=rtl]) .now-dropdown-label,:root[dir=rtl] .now-dropdown-label{text-align:right}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$servicenow_now_tooltip;","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_now-dropdown-list.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-m-block--sm{margin-block-end:.5rem}.now-m-block--sm,.now-m-block-start--sm{margin-block-start:.5rem}.now-m-block-end--sm{margin-block-end:.5rem}.now-m-inline--sm{margin-inline-end:.5rem}.now-m-inline--sm,.now-m-inline-start--sm{margin-inline-start:.5rem}.now-m-inline-end--sm{margin-inline-end:.5rem}.now-p-block--sm{padding-block-end:.5rem}.now-p-block--sm,.now-p-block-start--sm{padding-block-start:.5rem}.now-p-block-end--sm{padding-block-end:.5rem}.now-p-inline--sm{padding-inline-end:.5rem}.now-p-inline--sm,.now-p-inline-start--sm{padding-inline-start:.5rem}.now-p-inline-end--sm{padding-inline-end:.5rem}:host{display:block}.now-dropdown-list{display:flex;flex-direction:column;height:inherit;max-height:inherit;font-family:var(--mv9-pZvXpv9m-jA1z--Pvmz-PrTAjO,var(--mv9-TtmW--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)));color:RGB(var(--mv9-pZvXpv9m-jA1z--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z--krJUfZvWmp-JvjvZ,var(--mv9-TtmW--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255)))));outline:none;font-style:normal;font-weight:400;font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;white-space:normal}.now-dropdown-list .now-line-height-crop:after,.now-dropdown-list .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown-list .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-dropdown-list .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-dropdown-list .now-line-height-crop+.now-dropdown-list .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-dropdown-list-item-container{overflow:auto;outline:none}.now-dropdown-list-item{display:flex;align-items:center;height:calc(2rem*var(--mv9-pZvXpv9m-jA1z_AztT--8tAf8z-1Jrjt, var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1)));padding-inline-start:.5rem;padding-inline-end:1rem;font-style:var(--mv9-pZvXpv9m-jA1z--Pvmz-1zOjt,var(--mv9-TtmW--Pvmz-1zOjt,normal));font-weight:var(--mv9-pZvXpv9m-jA1z--Pvmz-9tAf8z,var(--mv9-TtmW--Pvmz-9tAf8z,normal));font-size:1rem;font-family:var(--mv9-pZvXpv9m-jA1z--Pvmz-PrTAjO,var(--mv9-TtmW--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)));text-transform:var(--mv9-pZvXpv9m-jA1z--ztuz-zZrm1PvZT,var(--mv9-TtmW--ztuz-zZrm1PvZT,none));color:RGB(var(--mv9-pZvXpv9m-jA1z--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z--krJUfZvWmp-JvjvZ,var(--mv9-TtmW--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255)))))}.now-dropdown-list-item.is-focused,.now-dropdown-list-item:hover{cursor:pointer;color:RGB(var(--mv9-pZvXpv9m-jA1z--JvjvZ--PvJW1,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z--krJUfZvWmp-JvjvZ--PvJW1,var(--now-color--secondary-0,217,235,238)));outline:none}.now-dropdown-list-item.is-disabled{cursor:not-allowed;color:RGBA(var(--mv9-pZvXpv9m-jA1z--JvjvZ--pA1rkjtp,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))),.25)}.now-dropdown-list-item .has-highlight{font-weight:600;color:RGB(var(--mv9-pZvXpv9m-jA1z--JvjvZ--8Af8jAf8ztp,var(--mv9-pZvXpv9m-jA1z--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z--krJUfZvWmp-JvjvZ--8Af8jAf8ztp,var(--now-color_alert--warning-0,242,237,179)))}.now-dropdown-list-item.is-multi-line{height:calc(2.5rem*var(--mv9-pZvXpv9m-jA1z_AztT--8tAf8z-1Jrjt, var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1)))}.now-dropdown-list-checkmark{flex-shrink:0;width:1rem;margin-inline-end:.125rem;color:RGB(var(--mv9-pZvXpv9m-jA1z_J8tJUTrZU--JvjvZ,var(--now-color--primary-2,23,100,82)))}.is-disabled .now-dropdown-list-checkmark{color:RGBA(var(--mv9-pZvXpv9m-jA1z_J8tJUTrZU--JvjvZ,var(--now-color--primary-2,23,100,82)),.25)}.now-dropdown-list-labels{min-width:0}.now-dropdown-list-sublabel{margin-top:.125rem;font-style:var(--mv9-pZvXpv9m-jA1z_1Wkjrktj--Pvmz-1zOjt,var(--mv9-TtmW_1Wkjrktj--Pvmz-1zOjt,var(--mv9-TtmW--Pvmz-1zOjt,normal)));font-weight:var(--mv9-pZvXpv9m-jA1z_1Wkjrktj--Pvmz-9tAf8z,var(--mv9-TtmW_1Wkjrktj--Pvmz-9tAf8z,var(--mv9-TtmW--Pvmz-9tAf8z,normal)));font-size:.75rem;line-height:1.33333;font-family:var(--mv9-pZvXpv9m-jA1z_1Wkjrktj--Pvmz-PrTAjO,var(--mv9-TtmW_1Wkjrktj--Pvmz-PrTAjO,var(--mv9-TtmW--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif))));text-transform:var(--mv9-pZvXpv9m-jA1z_1Wkjrktj--ztuz-zZrm1PvZT,var(--mv9-TtmW_1Wkjrktj--ztuz-zZrm1PvZT,var(--mv9-TtmW--ztuz-zZrm1PvZT,none)));color:RGB(var(--mv9-pZvXpv9m-jA1z_1Wkjrktj--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))))}.now-dropdown-list-sublabel .now-line-height-crop:after,.now-dropdown-list-sublabel .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown-list-sublabel .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-dropdown-list-sublabel .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-dropdown-list-sublabel .now-line-height-crop+.now-dropdown-list-sublabel .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.is-disabled .now-dropdown-list-sublabel{color:RGBA(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)),.3)}.now-dropdown-list-header{display:flex;align-items:center;height:calc(1.5rem*var(--mv9-pZvXpv9m-jA1z_8trpAmf--8tAf8z-1Jrjt, var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1)));padding-inline-start:.5rem;padding-inline-end:.5rem;font-style:var(--mv9-pZvXpv9m-jA1z_8trpAmf--Pvmz-1zOjt,var(--mv9-TtmW_8trpAmf--Pvmz-1zOjt,var(--mv9-TtmW--Pvmz-1zOjt,normal)));font-weight:var(--mv9-pZvXpv9m-jA1z_8trpAmf--Pvmz-9tAf8z,var(--mv9-TtmW_8trpAmf--Pvmz-9tAf8z,var(--mv9-TtmW--Pvmz-9tAf8z,normal)));font-size:.75rem;font-family:var(--mv9-pZvXpv9m-jA1z_8trpAmf--Pvmz-PrTAjO,var(--mv9-TtmW_8trpAmf--Pvmz-PrTAjO,var(--mv9-TtmW--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif))));text-transform:var(--mv9-pZvXpv9m-jA1z_8trpAmf--ztuz-zZrm1PvZT,var(--mv9-TtmW_8trpAmf--ztuz-zZrm1PvZT,var(--mv9-TtmW--ztuz-zZrm1PvZT,none)));color:RGB(var(--mv9-pZvXpv9m-jA1z_8trpAmf--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z_8trpAmf--krJUfZvWmp-JvjvZ,var(--now-color_background--secondary,var(--now-color--neutral-1,246,247,247))))}.now-dropdown-list-header .now-line-height-crop:after,.now-dropdown-list-header .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown-list-header .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-dropdown-list-header .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-dropdown-list-header .now-line-height-crop+.now-dropdown-list-header .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.is-disabled .now-dropdown-list-identifier{opacity:.25}.now-dropdown-list-divider{margin-block-start:0;margin-block-end:0;border-block-start-width:var(--mv9-pZvXpv9m-jA1z_pAsAptZ--9Apz8,var(--mv9-TtmW_pAsAptZ--9Apz8,1px));border-block-start-style:solid;border-block-start-color:RGB(var(--mv9-pZvXpv9m-jA1z_pAsAptZ--JvjvZ,var(--mv9-TtmW_pAsAptZ--JvjvZ,var(--now-color_divider--tertiary,var(--now-color--neutral-3,209,214,214)))));border-block-end:none;border-inline-start:none;border-inline-end:none}.will-truncate{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.now-dropdown-list-search{display:flex;flex-shrink:0;align-items:center;height:calc(2rem*var(--mv9-pZvXpv9m-jA1z_AztT--8tAf8z-1Jrjt, var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1)));border-block-end-width:var(--mv9-pZvXpv9m-jA1z_1trZJ8--kvZptZ-9Apz8,1px);border-block-end-style:solid;border-block-end-color:RGB(var(--mv9-pZvXpv9m-jA1z_1trZJ8--kvZptZ-JvjvZ,var(--mv9-TtmW--kvZptZ-JvjvZ,var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z_1trZJ8--krJUfZvWmp-JvjvZ,var(--mv9-TtmW--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255)))))}.now-dropdown-list-search:hover{background:RGB(var(--mv9-pZvXpv9m-jA1z_1trZJ8--krJUfZvWmp-JvjvZ--8vstZ,var(--now-color_background--secondary,var(--now-color--neutral-1,246,247,247))))}.now-dropdown-list-search-field{flex:1;height:100%;border:none;padding-block-start:0;padding-block-end:0;padding-inline-start:0;padding-inline-end:.5rem;font-style:var(--mv9-pZvXpv9m-jA1z_1trZJ8--Pvmz-1zOjt,var(--mv9-TtmW_1trZJ8--Pvmz-1zOjt,var(--mv9-TtmW--Pvmz-1zOjt,normal)));font-weight:var(--mv9-pZvXpv9m-jA1z_1trZJ8--Pvmz-9tAf8z,var(--mv9-TtmW_1trZJ8--Pvmz-9tAf8z,var(--mv9-TtmW--Pvmz-9tAf8z,normal)));font-size:.75rem;font-family:var(--mv9-pZvXpv9m-jA1z_1trZJ8--Pvmz-PrTAjO,var(--mv9-TtmW_1trZJ8--Pvmz-PrTAjO,var(--mv9-TtmW--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif))));text-transform:var(--mv9-pZvXpv9m-jA1z_1trZJ8--ztuz-zZrm1PvZT,var(--mv9-TtmW_1trZJ8--ztuz-zZrm1PvZT,var(--mv9-TtmW--ztuz-zZrm1PvZT,none)));background-color:transparent;outline:none}.now-dropdown-list-search-field::placeholder{color:RGBA(var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28)),.45)}\", \"\"]);\n\n// exports\n","module.exports = __TECTONIC__$servicenow_now_avatar;","export {default} from './screen-reader';\n","const BEHAVIOR_NAME = 'screenReader';\nimport {actionTypes} from '@servicenow/ui-core';\nimport snabbdom from '@servicenow/ui-renderer-snabbdom';\nimport unset from 'lodash/unset';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\n\nconst {\n\tCOMPONENT_RENDERED,\n\tCOMPONENT_BOOTSTRAPPED,\n\tCOMPONENT_PROPERTY_CHANGED,\n\tCOMPONENT_DISCONNECTED\n} = actionTypes;\n\n/**\n * Modifies a view function so that the resulting VDOM is patched in a way that\n * is less likely to break when rendered in a different shadowRoot\n *\n * - removes all IDs unless the node explicitly sets `screenReaderBehaviorId` attribute\n * - strips out all classes (since the containing node should be visually\n *   hidden)\n * - injects a `isScreenReaderBehaviorRender` property that the view can use\n *   to conditionally render things for the screen reader\n *\n * @param view {Function} a Seismic render function to decorate\n * @param id {string} a unique ID for the component instance that is used\n * as a prefix for any existing IDs in the original vdom tree\n *\n * @returns {Function} a new view function that can be passed to snabbdom.onStateChange\n */\nconst updateViewForScreenReader = (view, id) => (state, helpers) => {\n\tfunction mutateNode(node) {\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\n\t\tunset(node, 'data.class');\n\t\tunset(node, 'data.props.className');\n\n\t\t// `id` is a prop and an attribute? :shrug:\n\t\tunset(node, 'data.props.id', id);\n\t\tunset(node, 'data.attrs.id', id);\n\n\t\tconst idSuffix =\n\t\t\tget(node, 'data.props.screenReaderBehaviorId') ||\n\t\t\tget(node, 'data.props.screen-reader-behavior-id');\n\t\tif (idSuffix) {\n\t\t\tconst newId = `${id}-${idSuffix}`;\n\t\t\tset(node, 'data.attrs.id', newId);\n\t\t\tset(node, 'data.props.id', newId);\n\t\t\tunset(node, 'data.props.screenReaderBehaviorId');\n\t\t\tunset(node, 'data.props.screen-reader-behavior-id');\n\t\t}\n\n\t\tif (Array.isArray(node.children)) {\n\t\t\tnode.children.forEach((child, index) => {\n\t\t\t\tnode.children[index] = mutateNode(child);\n\t\t\t});\n\t\t}\n\n\t\treturn node;\n\t}\n\n\tconst vdom = view(\n\t\t{\n\t\t\t...state,\n\t\t\tproperties: {\n\t\t\t\t...state.properties,\n\t\t\t\tisScreenReaderBehaviorRender: true\n\t\t\t}\n\t\t},\n\t\thelpers\n\t);\n\treturn mutateNode(vdom);\n};\n\n/**\n * Finds or creates a dynamically created target node.\n *\n * @param rootNode {Node} the node that will contain the target.\n * @param id {string} unique ID for the target node.\n *\n * @returns {HTMLElement} If we've already created a DOM node for the given\n * rootNode, this method will find and return that. If a created DOM node\n * cannot be found, one will be created, appended to the rootNode, and\n * returned.\n */\nfunction getDynamicallyCreatedTarget(rootNode, id) {\n\tconst containerId = `${BEHAVIOR_NAME}-behavior-${id}`;\n\tconst existingNode = rootNode.querySelector(`#${containerId}`);\n\n\tif (existingNode) {\n\t\treturn existingNode;\n\t}\n\n\tconst newNode = document.createElement('div');\n\tnewNode.id = containerId;\n\n\t// stolen from now-a11y-label mixin. Need explicit styles because\n\t// we might be in somebody else's shadowRoot\n\tnewNode.style =\n\t\t'position: absolute; overflow: hidden; width: 1px; height: 1px; margin: 0; border: none; padding: 0; white-space: nowrap; clip: rect(0 0 0 0); clip-path: inset(50%);';\n\n\trootNode.appendChild(newNode);\n\n\treturn newNode;\n}\n\nfunction isCustomElement(node) {\n\treturn node && node.shadowRoot && node.tagName.includes('-');\n}\n\n/**\n * Finds or creates a DOM node that we can put the screen reader content into.\n *\n * @param host {HTMLElement} The host node that is using the behavior.\n * @param id {string} unique ID for the instance of the component. When a\n * target node needs to be dynamically created, this ID is used for that\n * node.\n * @param selector {string?} If provided, used as a querySelector string\n * relative to the host's parent element to search for an existing target node.\n * If not provided, a target node is dynamically created and appended as a\n * sibling of the host. If the selector string resolves to a child Seismic\n * component, the target node will be dynamically created in that child's\n * shadowRoot.\n *\n * @returns {{node: HTMLElement?, created: boolean}} The DOM node to use to\n * append screen reader content, and whether or not that node was dynamically\n * created. `node` be null if a selector was provided that did not match\n * anything.\n */\nfunction getRenderTarget(host, id, selector) {\n\tlet parentRoot = host.getRootNode();\n\n\tif (parentRoot === document) {\n\t\tparentRoot = document.body;\n\t}\n\n\t// use a dynamically created DOM node that is appended to the parent's\n\t// shadowRoot\n\tif (!selector) {\n\t\treturn {\n\t\t\tnode: getDynamicallyCreatedTarget(parentRoot, id),\n\t\t\tcreated: true\n\t\t};\n\t}\n\n\tconst target = parentRoot.querySelector(selector);\n\n\t// if we selected a child component, use a dynamically created DOM node that\n\t// is appended to that child's shadowRoot\n\tif (isCustomElement(target)) {\n\t\treturn {\n\t\t\tnode: getDynamicallyCreatedTarget(target.shadowRoot, id),\n\t\t\tcreated: true\n\t\t};\n\t}\n\n\treturn {\n\t\tnode: target,\n\t\tcreated: false\n\t};\n}\n\n/**\n * Removes screen reader content and any dynamically created container node.\n *\n * @param node {HTMLElement?} The node that contains screen reader content\n * @param created {boolean} Whether nor not this node was dynamically created by the behavior\n */\nfunction unmount(node, created) {\n\tif (!node) {\n\t\treturn;\n\t}\n\n\t// If this behavior created the node, then it's safe to remove the entire\n\t// node.\n\tif (created) {\n\t\tnode.remove();\n\t} else {\n\t\t// Otherwise we just want to clear out its children. This still goes\n\t\t// through `onStateChange` so that function can do some additional cleanup.\n\t\tsnabbdom.onStateChange(node, () => null);\n\t}\n}\n\n/**\n * This behavior allows a component to define screen-reader content that can be\n * injected into different components' shadowRoots. Many aria attributes, such\n * as `aria-describedby`, require referencing DOM nodes via ID. These IDs must\n * exist within the same shadowRoot boundary as the aria attribute. This can\n * make it challenging to compose smaller components in a way that is supported\n * by a screen-reader, because often 2 different components are encapsulating\n * different DOM nodes that need to reference each other.\n *\n * Further reading: https://github.com/whatwg/html/issues/3219\n *\n * Usage, defining screen-reader content:\n *\n * After installation import the behavior at the top of your component JS file\n * and register it in your component behaviors list.\n *\n * There is 1 required option, `screenReaderView`, which is a view function that\n * should return screen-reader content. The view function is called with the same\n * parameters that the normal Seismic view function is provided:\n *\n * `(state, { dispatch, updateProperties, updateState })`\n *\n * The `screenReaderView` function should return an accessible DOM tree,\n * including nodes with IDs that other components can reference. These IDs are\n * part of the public API and **must never change**. Doing so will make your\n * component backwards-incompatible.\n *\n * ```jsx\n * import screenReaderBehavior from '@servicenow/behavior-screen-reader';\n *\n * createCustomElement('my-component', {\n *   // ...\n *   behaviors: [\n *\t\t{\n *\t\t\tbehavior: screenReaderBehavior,\n *\t\t\toptions: {\n *\t\t\t\tscreenReaderView: (state, { dispatch, updateProperties, updateState }) => (\n *\t\t\t\t\t<ul role=\"listbox\" id=\"listbox\">\n *\t\t\t\t\t\t<li role=\"option\" id=\"option-1\">Option 1</li>\n *\t\t\t\t\t\t<li role=\"option\" id=\"option-2\">Option 2</li>\n *\t\t\t\t\t</ul>\n *\t\t\t\t)\n *\t\t\t}\n *\t\t}\n *\t]\n * });\n * ```\n *\n * Usage, consuming screen-reader content:\n *\n * Once you have a component that defines screen-reader content, a consuming\n * parent component can add the following properties to decide where to render\n * that content:\n *\n *\t- `screen-reader-id` (string, required): This is a unique ID to identify\n *\tthe screen-reader content. All IDs defined by the producing component will\n *\tbe prefixed with this string, which helps to ensure there are no ID\n *\tcollisions when the content is rendered in a different shadowRoot. The\n *\tvalue of this property should include a componentId (or similar uuid) to\n *\tensure uniqueness of this value.\n *\n *\t- `screen-reader-inject-into` (string, optional): A selector string that\n *\tinstructs the behavior where to render the screen-reader content. If not\n *\tprovided, the screen-reader content will be appended to the consuming\n *\tcomponent's shadowRoot, and styled in a way that has no visual impact on\n *\tthe component. If the selector returns a child node that is another Seismic\n *\tcomponent, the screen-reader content will be appended to that child's\n *\tshadowRoot. If the selector returns any other DOM node, the screen-reader\n *\tcontent will be rendered into that node, replacing all existing children of\n *\tthat node. In this case, it is the consumer's responsibility to ensure that\n *\tthis node is styled in a way that visually hides the content.\n *\n * Now that the consuming component has defined the ID prefix and location of the\n * screen-reader content, aria attributes can be provided to the necessary nodes\n * in order to link it all together.\n *\n * Any time the producing component is rendered, the screen-reader content will\n * be updated to match. This ensures that both the visual content and screen-reader\n * content are kept in sync.\n *\n * Check out the examples for a complete usage sample.\n *\n * @seismicBehavior screenReaderBehavior\n * @summary Provides a way to define screen-reader content that can be used in\n * different shadowRoots\n */\nexport default {\n\tname: BEHAVIOR_NAME,\n\tproperties: {\n\t\tscreenReaderInjectInto: {},\n\t\tscreenReaderId: {}\n\t},\n\tactionHandlers: {\n\t\t[COMPONENT_BOOTSTRAPPED]: ({action, host}) => {\n\t\t\tif (action.payload.options.screenReaderView) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`[@servicenow/behavior-screen-reader <${host.tagName.toLowerCase()} component-id=\"${\n\t\t\t\t\t\taction.meta.id\n\t\t\t\t\t}\">]: tried to use the ${BEHAVIOR_NAME} behavior but did not provide required \\`screenReaderView\\` function :(`\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_RENDERED]: ({\n\t\t\taction,\n\t\t\thost,\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\tdispatch,\n\t\t\tupdateState,\n\t\t\tupdateProperties\n\t\t}) => {\n\t\t\tconst {screenReaderInjectInto: selector, screenReaderId: id} = properties;\n\t\t\tconst {screenReaderView} = action.payload.options;\n\n\t\t\tif (!screenReaderView || !id || !host.isConnected) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst {node, created} = getRenderTarget(host, id, selector);\n\n\t\t\tif (!node) {\n\t\t\t\t/* eslint-disable-next-line no-console */\n\t\t\t\tconsole.error(\n\t\t\t\t\t`[@servicenow/behavior-screen-reader <${host.tagName.toLowerCase()} component-id=\"${\n\t\t\t\t\t\taction.meta.id\n\t\t\t\t\t}\">]: Could not locate target DOM node \"${selector}\" to append screen-reader content. Verify that this node exists in the shadowRoot.`\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// This is kinda ugly. Ideally we'd like to not keep DOM references in\n\t\t\t// state and instead query for them when we need them. However, this\n\t\t\t// doesn't work all the time because this behavior tries to query for\n\t\t\t// nodes relative to the host's parent element. When this element\n\t\t\t// disconnects, it can no longer traverse up to its parent to do any\n\t\t\t// cleanup. So, back to shoving DOM nodes in state :sob:\n\t\t\tupdateState(({state}) => {\n\t\t\t\tconst prevState = state.behaviors[BEHAVIOR_NAME];\n\t\t\t\tif (prevState.node !== node) {\n\t\t\t\t\tunmount(prevState.node, prevState.created);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\toperation: 'assign',\n\t\t\t\t\tpath: `behaviors.${BEHAVIOR_NAME}`,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\tcreated\n\t\t\t\t\t},\n\t\t\t\t\tshouldRender: false\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tsnabbdom.onStateChange(\n\t\t\t\tnode,\n\t\t\t\tupdateViewForScreenReader(screenReaderView, id),\n\t\t\t\tstate,\n\t\t\t\t{\n\t\t\t\t\tdispatch,\n\t\t\t\t\tupdateState,\n\t\t\t\t\tupdateProperties\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({action, state}) => {\n\t\t\tconst {name, value} = action.payload;\n\n\t\t\t// allow consumer to tear down screen reader view without disconnecting\n\t\t\t// the component by setting screen-reader-id to falsey\n\t\t\tif (name === 'screenReaderId' && !value) {\n\t\t\t\tconst {node, created} = state.behaviors[BEHAVIOR_NAME];\n\t\t\t\tunmount(node, created);\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_DISCONNECTED]: ({state}) => {\n\t\t\tconst {node, created} = state.behaviors[BEHAVIOR_NAME];\n\t\t\tunmount(node, created);\n\t\t}\n\t}\n};\n","module.exports = __TECTONIC__lodash_4_17_4[\"unset\"];","module.exports = __TECTONIC__lodash_4_17_4[\"get\"];","module.exports = __TECTONIC__lodash_4_17_4[\"set\"];","import {createEnhancedElement} from '@servicenow/library-enhanced-element';\nimport {Fragment} from '@servicenow/ui-renderer-snabbdom';\nimport {actionTypes} from '@servicenow/ui-core';\nimport styles from './_now-dropdown-panel.scss';\nimport {\n\taddOutsideScrollListener,\n\tremoveOutsideScrollListener\n} from './panel-outside-scroll.js';\nimport {getBestFitInfo} from '@servicenow/behavior-fit';\nimport {t} from 'sn-translate';\nimport isEqual from 'lodash/isEqual';\nimport '@servicenow/now-icon';\nimport {itemsSchema} from './schemas/dropdown-schema';\nimport {constrainSchema} from '@servicenow/behavior-fit';\nimport {filterAriaAttributes} from '@servicenow/library-enhanced-utils';\nimport {configAriaSchema} from '@servicenow/library-schemas';\n\nconst {\n\tCOMPONENT_DOM_READY,\n\tCOMPONENT_RENDERED,\n\tCOMPONENT_PROPERTY_CHANGED\n} = actionTypes;\n\n/** copy from ./utils/elements.js to isolate panel code*/\nfunction createIdSelector(prefix) {\n\treturn function(host) {\n\t\tconst componentId = host.getAttribute('component-id');\n\t\treturn host.shadowRoot.getElementById(`${prefix}-${componentId}`);\n\t};\n}\n\nconst getPanelEl = createIdSelector('panel');\n\nconst getContentEl = createIdSelector('panel');\n\nconst getListboxEl = (host) =>\n\thost.shadowRoot.querySelector('.now-dropdown-panel-list');\n\nconst getItemEls = (host) => {\n\treturn [...host.shadowRoot.querySelectorAll('.now-dropdown-panel-item')];\n};\n\nconst canRenderDivider = (index, array) => {\n\tconst isLastItem = index === array.length - 1;\n\tif (isLastItem) {\n\t\treturn false;\n\t}\n\n\tconst nextItem = array[index + 1];\n\tconst isNextSectionWithLabel =\n\t\tnextItem.label && Array.isArray(nextItem.children);\n\n\treturn !isNextSectionWithLabel;\n};\n\nconst getSelectedItemEls = (host) => {\n\treturn [\n\t\t...host.shadowRoot.querySelectorAll(\n\t\t\t'.now-dropdown-panel-item[aria-selected=\"true\"]'\n\t\t)\n\t];\n};\n\nconst getFocusedItemEl = (host) => {\n\treturn host.shadowRoot.activeElement;\n};\n\nconst getFocusedItemIndex = (host) => {\n\treturn getItemEls(host).findIndex(\n\t\t(element) => element.id === getFocusedItemEl(host).id\n\t);\n};\n\nconst getShadowRootHost = (el) => {\n\tif (el.parentElement) {\n\t\treturn getShadowRootHost(el.parentElement);\n\t}\n\tif (el.parentNode && el.parentNode instanceof DocumentFragment) {\n\t\treturn el.parentNode.host;\n\t}\n\treturn null;\n};\n\nconst isPanelList = (el) =>\n\tel.getAttribute('role') === 'listbox' || el.getAttribute('role') === 'menu';\n// end of utils\n\n/** copy from ./utils/focus.js to isolate panel code*/\nconst unfocusItem = (host) => {\n\tconst listbox = getListboxEl(host);\n\tlistbox.focus();\n};\n\nconst focusOnOpen = async (host) => {\n\tconst listbox = getListboxEl(host);\n\tlistbox.focus();\n\tconst firstFocusItem = getSelectedItemEls(host)[0] || getItemEls(host)[0];\n\tif (firstFocusItem) {\n\t\tfirstFocusItem.focus();\n\t}\n};\n\nconst focusPreviousItem = (host) => {\n\tconst lastFocusItem = getFocusedItemEl(host);\n\tif (!lastFocusItem || isPanelList(lastFocusItem)) {\n\t\tfocusFirstItem(host);\n\t\treturn;\n\t}\n\tconst lastFocusIndex = getFocusedItemIndex(host);\n\tconst nextFocusItem = getItemEls(host)[lastFocusIndex - 1];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n\nconst focusNextItem = (host) => {\n\tconst lastFocusItem = getFocusedItemEl(host);\n\tif (!lastFocusItem || isPanelList(lastFocusItem)) {\n\t\tfocusFirstItem(host);\n\t\treturn;\n\t}\n\tconst lastFocusIndex = getFocusedItemIndex(host);\n\tconst nextFocusItem = getItemEls(host)[lastFocusIndex + 1];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n\nconst focusFirstItem = (host) => {\n\tconst nextFocusItem = getItemEls(host)[0];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n\nconst focusLastItem = (host) => {\n\tconst nextFocusItem = getItemEls(host).slice(-1)[0];\n\tif (nextFocusItem) {\n\t\tnextFocusItem.focus();\n\t}\n};\n// end of focus\n\n/** copy from ./utils/helps.js to isolate panel code*/\nexport const hasPath = (list, path) =>\n\tlist.findIndex((p) => isEqual(p, path)) > -1;\n\nexport const removePath = (list, path) => list.filter((p) => !isEqual(p, path));\n\nexport const addPath = (list, path) => [...list, path];\n\nexport const togglePath = (list, path) =>\n\thasPath(list, path) ? removePath(list, path) : addPath(list, path);\n// end of helpers\n\nconst filterSelectedItems = (list, selectedItems) => {\n\treturn selectedItems.map((item) => list.find((l) => item === l.id));\n};\n\nconst renderCheckmark = (selected, select) => {\n\tif (select === 'none') {\n\t\treturn;\n\t}\n\tif (selected) {\n\t\treturn (\n\t\t\t<now-icon\n\t\t\t\tclassName=\"now-dropdown-panel-checkmark\"\n\t\t\t\ticon=\"check-fill\"\n\t\t\t\taria-label={t('selected')}\n\t\t\t/>\n\t\t);\n\t}\n\treturn <div className=\"now-dropdown-panel-checkmark\" />;\n};\n\nconst renderPresenceOrIcon = (\n\ticon,\n\tpresence,\n\tselected,\n\tshowPresencePattern\n) => {\n\tif (presence) {\n\t\treturn (\n\t\t\t<now-icon-presence\n\t\t\t\tclassName=\"now-m-inline-end--xxs\"\n\t\t\t\tpresence={presence}\n\t\t\t\tshow-pattern={showPresencePattern}\n\t\t\t/>\n\t\t);\n\t} else if (icon) {\n\t\treturn (\n\t\t\t<now-icon\n\t\t\t\tclassName=\"now-m-inline-end--xxs\"\n\t\t\t\ticon={\n\t\t\t\t\tselected\n\t\t\t\t\t\t? icon.replace('outline', 'fill')\n\t\t\t\t\t\t: icon.replace('fill', 'outline')\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n\treturn '';\n};\n\nconst renderDropdownPanelItem = ({\n\tlabel,\n\tselected,\n\tselect,\n\tonClick,\n\tkey,\n\ticon,\n\tpresence,\n\tshowPresencePattern,\n\tcount,\n\tdisabled\n}) => {\n\treturn (\n\t\t<div\n\t\t\ttabindex=\"-1\"\n\t\t\tid={key}\n\t\t\tclass={{'now-dropdown-panel-item': true, 'is-disabled': disabled}}\n\t\t\ton-mouseover={(e) => {\n\t\t\t\te.currentTarget.focus();\n\t\t\t}}\n\t\t\ton-mouseout={(e) => {\n\t\t\t\tconst host = getShadowRootHost(e.currentTarget);\n\t\t\t\tunfocusItem(host);\n\t\t\t}}\n\t\t\ton-click={disabled ? undefined : onClick}\n\t\t\trole={select === 'none' ? 'menuitem' : 'option'}\n\t\t\taria-selected={\n\t\t\t\tdisabled || select === 'none' ? undefined : selected ? 'true' : 'false'\n\t\t\t}\n\t\t\taria-disabled={disabled ? 'true' : undefined}>\n\t\t\t{renderCheckmark(selected, select)}\n\t\t\t{renderPresenceOrIcon(icon, presence, selected, showPresencePattern)}\n\t\t\t<span className=\"now-line-height-crop\">\n\t\t\t\t<span className=\"now-align\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"now-dropdown-panel-label\"\n\t\t\t\t\t\ton-mouseover={({target}) => {\n\t\t\t\t\t\t\tif (target.offsetWidth < target.scrollWidth) {\n\t\t\t\t\t\t\t\ttarget.title = label;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</span>\n\t\t\t\t\t{count ? `\\u00A0(${count})` : undefined}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n\nconst view = (state, {dispatch}) => {\n\tconst {componentId, fitStyle} = state;\n\tconst {\n\t\tselect,\n\t\titems,\n\t\tselectedItems,\n\t\tshowPresencePattern,\n\t\tconfigAria\n\t} = state.properties;\n\n\tconst onItemClick = (item) => {\n\t\tdispatch(() => {\n\t\t\treturn {\n\t\t\t\ttype: 'NOW_DROPDOWN_PANEL#ITEM_CLICKED',\n\t\t\t\tpayload: {item}\n\t\t\t};\n\t\t});\n\t\tif (select === 'single' || select === 'multi') {\n\t\t\tdispatch(({properties}) => {\n\t\t\t\tconst filteredItemIds = togglePath(selectedItems, item.id);\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'NOW_DROPDOWN_PANEL#SELECTED_ITEMS_SET',\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tproperties.select === 'multi'\n\t\t\t\t\t\t\t\t? togglePath(properties.selectedItems, item.id)\n\t\t\t\t\t\t\t\t: [item.id],\n\t\t\t\t\t\titems:\n\t\t\t\t\t\t\tproperties.select === 'multi'\n\t\t\t\t\t\t\t\t? filterSelectedItems(items, filteredItemIds)\n\t\t\t\t\t\t\t\t: [item]\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\tif (select !== 'multi') {\n\t\t\tdispatch(() => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'NOW_DROPDOWN_PANEL#OPENED_SET',\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\trestoreFocus: true\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tconst renderItem = (item) =>\n\t\trenderDropdownPanelItem({\n\t\t\tlabel: item.label,\n\t\t\tselected:\n\t\t\t\tselectedItems &&\n\t\t\t\tselectedItems.length &&\n\t\t\t\tselectedItems.includes(item.id),\n\t\t\tselect,\n\t\t\tonClick: () => onItemClick(item),\n\t\t\tkey: `${item.id}-${componentId}`,\n\t\t\ticon: item.icon,\n\t\t\tpresence: item.presence,\n\t\t\tshowPresencePattern,\n\t\t\tcount: item.count,\n\t\t\tdisabled: item.disabled\n\t\t});\n\n\tconst renderSectionOrItem = (item, index, array) => {\n\t\tif (Array.isArray(item.children)) {\n\t\t\tconst header = item.label ? (\n\t\t\t\t<div className=\"now-dropdown-panel-header\">\n\t\t\t\t\t<div className=\"now-dropdown-panel-header-label\" title={item.label}>\n\t\t\t\t\t\t{item.label}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\tundefined\n\t\t\t);\n\t\t\tconst divider = canRenderDivider(index, array) ? (\n\t\t\t\t<hr className=\"now-dropdown-panel-divider\" />\n\t\t\t) : (\n\t\t\t\tundefined\n\t\t\t);\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{header}\n\t\t\t\t\t{item.children.map(renderItem)}\n\t\t\t\t\t{divider}\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\t\treturn renderItem(item);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tid={`panel-${componentId}`}\n\t\t\tclassName=\"now-dropdown-panel\"\n\t\t\tstyle={fitStyle}>\n\t\t\t<div\n\t\t\t\tclassName=\"now-dropdown-panel-list\"\n\t\t\t\trole={select === 'none' ? 'menu' : 'listbox'}\n\t\t\t\t{...filterAriaAttributes(configAria, 'panel')}\n\t\t\t\taria-multiselectable={select === 'multi' ? 'true' : undefined}>\n\t\t\t\t{items.map(renderSectionOrItem)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n/**\n * The panel portion of a dropdown menu, for displaying a list of items.\n * This component should not be used directly in an application, but is used\n * by other higher level components like now-dropdown and now-split-button.\n *\n * @seismicElement now-dropdown-panel\n * @summary The panel portion of a dropdown menu, for displaying a list of items.\n *\n * */\ncreateEnhancedElement('now-dropdown-panel', {\n\tproperties: {\n\t\t/**\n\t\t * An array of `DropdownItem` or `DropdownSection` items.\n\t\t * @type {Array.<DropdownItem|DropdownSection>} // TODO: kind of a lie now, need to decide on deprecation of this component?\n\t\t */\n\t\titems: {\n\t\t\tdefault: [],\n\t\t\tschema: itemsSchema // TODO: kind of a lie now, need to decide on deprecation of this component?\n\t\t},\n\t\t/**\n\t\t * An array of IDs representing each selected item. If the multi-select mode\n\t\t * is not enabled, the ID of a previously selected item is cleared when\n\t\t * the user selects a new item, and a new ID is added. If the multi-select\n\t\t * mode is enabled, IDs are added to or removed from the list.\n\t\t * @type {Array.<(string|number)>}\n\t\t */\n\t\tselectedItems: {\n\t\t\tdefault: [],\n\t\t\tmanageable: true,\n\t\t\tschema: {type: 'array', items: {type: ['string', 'number']}}\n\t\t},\n\t\t/**\n\t\t * Determines what happens when the user clicks on a dropdown panel item.\n\t\t * Choose from the following:\n\t\t * - \"single\" (Default): The panel is closed, the trigger label is updated,\n\t\t *   and the item is marked as selected\n\t\t * - \"multi\": The panel stays open, the trigger label is updated, and the\n\t\t *   item's selected state is toggled on/off\n\t\t * - \"none\": The panel is closed, the trigger label is not updated, and the\n\t\t *   item is not marked as selected\n\t\t * @type {(\"single\"|\"multi\"|\"none\")}\n\t\t */\n\t\tselect: {\n\t\t\tdefault: 'single',\n\t\t\tschema: {type: 'string', enum: ['single', 'multi', 'none']}\n\t\t},\n\t\t/**\n\t\t * Automatically updated when the user opens or closes the dropdown panel.\n\t\t * Set `manage-opened` to override this behavior.\n\t\t * @type {boolean}\n\t\t */\n\t\topened: {default: false, manageable: true, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * Reference to the element that defines the dropdown panel's relative\n\t\t * position. The panel does not attach click/interaction handlers to this\n\t\t * target. It is your responsibility to do so and to open/close the panel\n\t\t * when the user clicks the trigger. The panel closes automatically when\n\t\t * the user clicks outside or selects an item, depending on the select mode.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\ttargetRef: {},\n\t\t/**\n\t\t * Pixel amount to shift the panel relative to its target.\n\t\t *\n\t\t * @see Fit behavior for valid values.\n\t\t * @type {number}\n\t\t * @private\n\t\t */\n\t\toffset: {\n\t\t\tschema: {\n\t\t\t\toneOf: [{type: 'number'}, {type: 'array', items: {type: 'number'}}]\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Element that the panel must fit within.\n\t\t *\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tcontainer: {},\n\t\t/**\n\t\t * Array of possible positions in which to place the panel,\n\t\t * relative to its target.\n\t\t *\n\t\t * @see Fit behavior for valid values.\n\t\t * @type {Array<string>}\n\t\t */\n\t\tposition: {\n\t\t\tdefault: [\n\t\t\t\t'bottom-start top-start',\n\t\t\t\t'top-start bottom-start',\n\t\t\t\t'bottom-end top-end',\n\t\t\t\t'top-end bottom-end'\n\t\t\t],\n\t\t\tschema: {\n\t\t\t\ttype: 'array',\n\t\t\t\titems: {type: 'string'}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Additional size constraints when sizing the panel,\n\t\t * relative to its target.\n\t\t *\n\t\t * @see Fit behavior for valid values.\n\t\t * @type {object}\n\t\t */\n\t\tconstrain: {\n\t\t\tdefault: {\n\t\t\t\tminHeight: 32,\n\t\t\t\tminWidth: 'target',\n\t\t\t\tmaxWidth: 400,\n\t\t\t\tmaxHeight: 300\n\t\t\t},\n\t\t\tschema: constrainSchema\n\t\t},\n\t\t/**\n\t\t * When true, displays the dropdown item's presence status icon with a pattern to make\n\t\t * it distinguishable by a means other than color.\n\t\t * @type {boolean}\n\t\t * @uib.description Visual pattern enabled on the presence indicator for accessibility\n\t\t */\n\t\tshowPresencePattern: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * An object whose keys reference a specific HTML element within the\n\t\t * now-dropdown. The value of each key is an object that contains an ARIA\n\t\t * property (or properties) and corresponding value/s. These ARIA\n\t\t * properties will be set on the specified element.\n\t\t * The 'panel' key corresponds to the inner html `<div>` that acts as the\n\t\t * 'listbox'. See https://www.w3.org/TR/wai-aria-1.1/#listbox for properties\n\t\t * and accepted values.\n\t\t * @type {{ 'aria-*': string }}\n\t\t * @uib.label ARIA Properties\n\t\t * @uib.description Sets ARIA properties on the inner div with role 'listbox'.\n\t\t */\n\t\tconfigAria: {\n\t\t\tschema: {\n\t\t\t\tanyOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tpanel: configAriaSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tconfigAriaSchema\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\tinitialState: {\n\t\tfitStyle: {}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['click'],\n\t\t\teffect: ({action, dispatch, properties, host}) => {\n\t\t\t\tif (properties.opened) {\n\t\t\t\t\tconst {event} = action.payload;\n\t\t\t\t\tconst path = event.composedPath ? event.composedPath() : event.path;\n\t\t\t\t\tconst hostInPath = path.includes(host);\n\t\t\t\t\tif (!hostInPath) {\n\t\t\t\t\t\tdispatch(() => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttype: 'NOW_DROPDOWN_PANEL#OPENED_SET',\n\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\tvalue: false,\n\t\t\t\t\t\t\t\t\trestoreFocus: false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttarget: document\n\t\t},\n\t\t{\n\t\t\tevents: ['keydown'],\n\t\t\teffect({host, action, dispatch}) {\n\t\t\t\tconst {key, shiftKey} = action.payload.event;\n\n\t\t\t\tif (['Home', 'ArrowUp', 'ArrowDown', 'End'].includes(key)) {\n\t\t\t\t\taction.preventDefault();\n\n\t\t\t\t\tif (key === 'Home') {\n\t\t\t\t\t\tfocusFirstItem(host);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === 'ArrowDown') {\n\t\t\t\t\t\tfocusNextItem(host);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === 'ArrowUp') {\n\t\t\t\t\t\tfocusPreviousItem(host);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === 'End') {\n\t\t\t\t\t\tfocusLastItem(host);\n\t\t\t\t\t}\n\t\t\t\t} else if (['Escape', 'Tab'].includes(key)) {\n\t\t\t\t\taction.stopPropagation();\n\t\t\t\t\tconst restoreFocus = key === 'Escape' || (key === 'Tab' && shiftKey);\n\n\t\t\t\t\tdispatch(() => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: 'NOW_DROPDOWN_PANEL#OPENED_SET',\n\t\t\t\t\t\t\tpayload: {value: false, restoreFocus}\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t} else if ([' ', 'Enter'].includes(key)) {\n\t\t\t\t\taction.preventDefault();\n\t\t\t\t\taction.stopPropagation();\n\n\t\t\t\t\tconst itemEl = getFocusedItemEl(host);\n\n\t\t\t\t\tif (itemEl && !itemEl.hasAttribute('aria-disabled')) {\n\t\t\t\t\t\titemEl.click();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t[COMPONENT_DOM_READY]: ({properties, host, state, dispatch}) => {\n\t\t\tconst {targetRef, opened} = properties;\n\t\t\tif (targetRef && opened) {\n\t\t\t\tdispatch(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'PRIVATE#REFIT',\n\t\t\t\t\t\tpayload: {firstOpen: true}\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\taddOutsideScrollListener(host, state.componentId, () => {\n\t\t\t\t\t// Note: It is usually a VERY BAD IDEA to go reach into the component's\n\t\t\t\t\t// DOM and update things without going through the render cycle. In this\n\t\t\t\t\t// case we have to reach in and set the panel's visibility to hidden\n\t\t\t\t\t// immediately on scroll because dispatching will not trigger a render\n\t\t\t\t\t// fast enough and the panel will float there while the user scrolls.\n\t\t\t\t\t// It's ok. The component will re-render shortly after and set visibility\n\t\t\t\t\t// to hidden from state, so the DOM stays in sync with state.\n\t\t\t\t\tconst panel = getPanelEl(host);\n\t\t\t\t\tif (panel) {\n\t\t\t\t\t\tpanel.style.visibility = 'hidden';\n\t\t\t\t\t}\n\t\t\t\t\tdispatch('NOW_DROPDOWN#OPENED_SET', {value: false});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_PROPERTY_CHANGED]: ({\n\t\t\thost,\n\t\t\tstate,\n\t\t\tproperties,\n\t\t\taction,\n\t\t\tdispatch\n\t\t}) => {\n\t\t\tconst {\n\t\t\t\tpayload: {name, value}\n\t\t\t} = action;\n\n\t\t\tif (\n\t\t\t\t(value && (name === 'opened' && properties.targetRef)) ||\n\t\t\t\t(name === 'targetRef' && properties.opened)\n\t\t\t) {\n\t\t\t\taddOutsideScrollListener(host, state.componentId, () => {\n\t\t\t\t\t// Note: It is usually a VERY BAD IDEA to go reach into the component's\n\t\t\t\t\t// DOM and update things without going through the render cycle. In this\n\t\t\t\t\t// case we have to reach in and set the panel's visibility to hidden\n\t\t\t\t\t// immediately on scroll because dispatching will not trigger a render\n\t\t\t\t\t// fast enough and the panel will float there while the user scrolls.\n\t\t\t\t\t// It's ok. The component will re-render shortly after and set visibility\n\t\t\t\t\t// to hidden from state, so the DOM stays in sync with state.\n\t\t\t\t\tconst panel = getPanelEl(host);\n\t\t\t\t\tif (panel) {\n\t\t\t\t\t\tpanel.style.visibility = 'hidden';\n\t\t\t\t\t}\n\t\t\t\t\tdispatch('NOW_DROPDOWN#OPENED_SET', {value: false});\n\t\t\t\t});\n\t\t\t} else if (!value && (name === 'opened' || name === 'targetRef')) {\n\t\t\t\tremoveOutsideScrollListener(host);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tname === 'items' ||\n\t\t\t\tname === 'container' ||\n\t\t\t\tname === 'constrain' ||\n\t\t\t\tname === 'targetRef' ||\n\t\t\t\tname === 'position' ||\n\t\t\t\tname === 'offset' ||\n\t\t\t\tname === 'opened'\n\t\t\t) {\n\t\t\t\tconst firstOpen = name === 'opened';\n\t\t\t\tdispatch(() => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'PRIVATE#REFIT',\n\t\t\t\t\t\tpayload: {firstOpen}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[COMPONENT_RENDERED]: ({state, host, updateState}) => {\n\t\t\t// TODO-SEISMIC-HACK: We want to focus the first item in the panel as the\n\t\t\t// panel becomes opened. The challenge here is that we don't know exactly\n\t\t\t// when the updateState that includes the fit changes has finished\n\t\t\t// rendering. The fit state update sets this `firstOpen` state that we\n\t\t\t// can immediately reset here so that we don't try to focus on every\n\t\t\t// render.\n\t\t\tif (state.firstOpen) {\n\t\t\t\tfocusOnOpen(host);\n\t\t\t\tupdateState({\n\t\t\t\t\toperation: 'set',\n\t\t\t\t\tpath: 'firstOpen',\n\t\t\t\t\tvalue: false,\n\t\t\t\t\tshouldRender: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t'PRIVATE#REFIT': {\n\t\t\tstopPropagation: true,\n\t\t\teffect: ({action, state, properties, updateState, host}) => {\n\t\t\t\tconst {\n\t\t\t\t\ttargetRef: target,\n\t\t\t\t\tcontainer,\n\t\t\t\t\tconstrain,\n\t\t\t\t\tposition,\n\t\t\t\t\toffset,\n\t\t\t\t\topened\n\t\t\t\t} = properties;\n\n\t\t\t\tconst content = getContentEl(host);\n\t\t\t\tconst panelOpened = Boolean(opened && target);\n\t\t\t\tconst fitStyle = panelOpened\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t...getBestFitInfo({\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\t\t\tposition,\n\t\t\t\t\t\t\t\toffset: Array.isArray(offset)\n\t\t\t\t\t\t\t\t\t? offset\n\t\t\t\t\t\t\t\t\t: [0, 0, offset, offset, offset, offset],\n\t\t\t\t\t\t\t\tconstrain,\n\t\t\t\t\t\t\t\tcanScrollVertical: true\n\t\t\t\t\t\t\t}).style,\n\t\t\t\t\t\t\tvisibility: 'visible'\n\t\t\t\t\t  }\n\t\t\t\t\t: {};\n\t\t\t\tif (!isEqual(fitStyle, state.fitStyle)) {\n\t\t\t\t\tupdateState({\n\t\t\t\t\t\tfitStyle,\n\t\t\t\t\t\tfirstOpen: action.payload.firstOpen\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tview,\n\tstyles,\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the user opens or closes the panel. The payload contains\n\t\t * a boolean of `true` when the dropdown is open or `false` when it is\n\t\t * closed. Set the `manage-opened` property to override\n\t\t * the default behavior and handle this action manually.\n\t\t * @type {{value: boolean}}\n\t\t */\n\t\t'NOW_DROPDOWN_PANEL#OPENED_SET': {},\n\t\t/**\n\t\t * Dispatched when the user changes the selection of items in the dropdown panel.\n\t\t * The payload key `value` contains an array containing either a single ID (`select=\"single\"`)\n\t\t * or multiple IDs (`select=\"multi\"`) of the selected item(s).\n\t\t * The payload key `items` contains an array of objects of the item or items selected from the dropdown list.\n\t\t * Set the `manage-selected-items` property to override the default behavior and\n\t\t * handle this action manually.\n\t\t * @type {{value: Array.<(string|number)>, items: Array.<Object>}}\n\t\t */\n\t\t'NOW_DROPDOWN_PANEL#SELECTED_ITEMS_SET': {},\n\t\t/**\n\t\t * Dispatched when the user selects a dropdown item. The payload contains\n\t\t * a reference to the clicked item. Handle this action for dropdown menus\n\t\t * (where `select=\"none\"`).\n\t\t * @type {{item: DropdownItem}}\n\t\t */\n\t\t'NOW_DROPDOWN_PANEL#ITEM_CLICKED': {}\n\t}\n});\n","\n        var result = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./_now-dropdown-panel.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    ","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{box-sizing:border-box;line-height:var(--now-line-height,1.25);font-family:var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)}:host([hidden]){display:none}*,:after,:before{box-sizing:border-box}.now-align{display:flex}.now-align.-row.-reverse{flex-direction:row-reverse}.now-align.-column{flex-direction:column}.now-align.-column.-reverse{flex-direction:column-reverse}.now-align.-wrap{flex-wrap:wrap}.now-align.-inline{justify-content:space-between}.now-align.-inline-center{justify-content:center}.now-align.-inline-end{justify-content:flex-end}.now-align.-block-start{align-items:flex-start}.now-align.-block-center{align-items:center}.now-align.-block-end{align-items:flex-end}.now-m-block--xxs{margin-block-end:.125rem}.now-m-block--xxs,.now-m-block-start--xxs{margin-block-start:.125rem}.now-m-block-end--xxs{margin-block-end:.125rem}.now-m-inline--xxs{margin-inline-end:.125rem}.now-m-inline--xxs,.now-m-inline-start--xxs{margin-inline-start:.125rem}.now-m-inline-end--xxs{margin-inline-end:.125rem}.now-dropdown-panel{position:fixed;z-index:1000;overflow:auto;visibility:hidden;font-style:normal;font-weight:400;font-variant:normal;letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-shadow:none;white-space:normal}.now-dropdown-panel .now-line-height-crop{min-width:0}.now-dropdown-panel .now-line-height-crop:after,.now-dropdown-panel .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown-panel .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1)}.now-dropdown-panel .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1)}.now-dropdown-panel .now-line-height-crop+.now-dropdown-panel .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1*-1)}.now-dropdown-panel-list{overflow-y:auto;height:100%;margin-block-start:0;margin-block-end:0;border-width:var(--mv9-pZvXpv9m-jA1z--kvZptZ-9Apz8,var(--mv9-TtmW--kvZptZ-9Apz8,1px));border-style:solid;border-color:RGB(var(--mv9-pZvXpv9m-jA1z--kvZptZ-JvjvZ,var(--mv9-TtmW--kvZptZ-JvjvZ,var(--now-color_border--secondary,var(--now-color--neutral-5,172,180,181)))));padding-inline-start:0;box-shadow:0 2px .25rem 0 RGBA(var(--now-color--neutral-21,0,0,0),.25);list-style:none;outline:none}.now-dropdown-panel-item{display:flex;align-items:center;height:calc(2rem*var(--mv9-pZvXpv9m-jA1z_AztT--8tAf8z-1Jrjt, var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1)));padding-inline-start:.5rem;padding-inline-end:1rem;font-style:var(--mv9-pZvXpv9m-jA1z--Pvmz-1zOjt,var(--mv9-TtmW--Pvmz-1zOjt,normal));font-weight:var(--mv9-pZvXpv9m-jA1z--Pvmz-9tAf8z,var(--mv9-TtmW--Pvmz-9tAf8z,normal));font-size:1rem;line-height:1.25;font-family:var(--mv9-pZvXpv9m-jA1z--Pvmz-PrTAjO,var(--mv9-TtmW--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif)));text-transform:var(--mv9-pZvXpv9m-jA1z--ztuz-zZrm1PvZT,var(--mv9-TtmW--ztuz-zZrm1PvZT,none));color:RGB(var(--mv9-pZvXpv9m-jA1z--JvjvZ,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z--krJUfZvWmp-JvjvZ,var(--mv9-TtmW--krJUfZvWmp-JvjvZ,var(--now-color_background--primary,var(--now-color--neutral-0,255,255,255)))))}.now-dropdown-panel-item:focus{cursor:pointer;color:RGB(var(--mv9-pZvXpv9m-jA1z--JvjvZ--PvJW1,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z--krJUfZvWmp-JvjvZ--PvJW1,var(--now-color--secondary-0,217,235,238)));outline:none}.now-dropdown-panel-item.is-disabled{cursor:not-allowed;color:RGBA(var(--mv9-pZvXpv9m-jA1z--JvjvZ--pA1rkjtp,var(--now-color_text--primary,var(--now-color--neutral-18,22,27,28))),.25)}.now-dropdown-panel-label{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.now-dropdown-panel-checkmark{min-width:1rem;margin-inline-end:.125rem;color:RGB(var(--mv9-pZvXpv9m-jA1z_J8tJUTrZU--JvjvZ,var(--now-color--primary-2,23,100,82)))}.is-disabled .now-dropdown-panel-checkmark{color:RGBA(var(--mv9-pZvXpv9m-jA1z_J8tJUTrZU--JvjvZ,var(--now-color--primary-2,23,100,82)),.25)}.now-dropdown-panel-header{display:flex;align-items:center;height:calc(1.5rem*var(--mv9-pZvXpv9m-jA1z_8trpAmf--8tAf8z-1Jrjt, var(--mv9-kWzzvm--8tAf8z-1Jrjt, 1)));margin-block-start:0;margin-block-end:0;padding-inline-start:.5rem;padding-inline-end:.5rem;font-style:var(--mv9-pZvXpv9m-jA1z_8trpAmf--Pvmz-1zOjt,var(--mv9-TtmW_8trpAmf--Pvmz-1zOjt,var(--mv9-TtmW--Pvmz-1zOjt,normal)));font-weight:var(--mv9-pZvXpv9m-jA1z_8trpAmf--Pvmz-9tAf8z,var(--mv9-TtmW_8trpAmf--Pvmz-9tAf8z,var(--mv9-TtmW--Pvmz-9tAf8z,normal)));font-size:.75rem;line-height:1.33333;font-family:var(--mv9-pZvXpv9m-jA1z_8trpAmf--Pvmz-PrTAjO,var(--mv9-TtmW_8trpAmf--Pvmz-PrTAjO,var(--mv9-TtmW--Pvmz-PrTAjO,var(--now-font-family,\\\"Source Sans Pro\\\",sans-serif))));text-transform:var(--mv9-pZvXpv9m-jA1z_8trpAmf--ztuz-zZrm1PvZT,var(--mv9-TtmW_8trpAmf--ztuz-zZrm1PvZT,var(--mv9-TtmW--ztuz-zZrm1PvZT,none)));color:RGB(var(--mv9-pZvXpv9m-jA1z_8trpAmf--JvjvZ,var(--now-color_text--tertiary,var(--now-color--neutral-9,99,114,116))));background-color:RGB(var(--mv9-pZvXpv9m-jA1z_8trpAmf--krJUfZvWmp-JvjvZ,var(--now-color_background--secondary,var(--now-color--neutral-1,246,247,247))))}.now-dropdown-panel-header .now-line-height-crop:after,.now-dropdown-panel-header .now-line-height-crop:before{content:\\\"\\\";display:block;height:0}.now-dropdown-panel-header .now-line-height-crop:before{margin-block-start:calc(var(--now-line-height-crop--before, -.25em)*1.06667)}.now-dropdown-panel-header .now-line-height-crop:after{margin-block-end:calc(var(--now-line-height-crop--after, -.125em)*1.06667)}.now-dropdown-panel-header .now-line-height-crop+.now-dropdown-panel-header .now-line-height-crop{margin-block-start:calc(var(--now-line-height-crop--after, -.125em)*1.06667*-1)}.now-dropdown-panel-header-label{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.now-dropdown-panel-divider{margin-block-start:0;margin-block-end:0;border-block-start-width:var(--mv9-pZvXpv9m-jA1z_pAsAptZ--9Apz8,var(--mv9-TtmW_pAsAptZ--9Apz8,1px));border-block-start-style:solid;border-block-start-color:RGB(var(--mv9-pZvXpv9m-jA1z_pAsAptZ--JvjvZ,var(--mv9-TtmW_pAsAptZ--JvjvZ,var(--now-color_divider--tertiary,var(--now-color--neutral-3,209,214,214)))));border-block-end:none;border-inline-start:none;border-inline-end:none}\", \"\"]);\n\n// exports\n","/* dropdown-panel only, deprecated */\n\nconst hostToScrollData = new WeakMap();\n\n/**\n * Attaches a listener to the window, then fires a fake event from the given element\n * to identify all ancestor elements in the element's DOM tree. More efficient than\n * climbing the tree recursively.\n * @param {HTMLElement} element\n * @param {string} uuid\n */\nconst findAncestors = (element, uuid) =>\n\tnew Promise((resolve) => {\n\t\tconst eventName = `findAncestors-${uuid}`;\n\t\tconst findListener = (e) => {\n\t\t\twindow.removeEventListener(eventName, findListener);\n\t\t\tconst path = e.composedPath ? e.composedPath() : e.path;\n\t\t\tresolve([\n\t\t\t\t...path.filter(\n\t\t\t\t\t(n) => n !== element && n.nodeType === Node.ELEMENT_NODE\n\t\t\t\t),\n\t\t\t\tdocument,\n\t\t\t\twindow\n\t\t\t]);\n\t\t};\n\t\twindow.addEventListener(eventName, findListener);\n\t\tconst event = new CustomEvent(eventName, {\n\t\t\tbubbles: true,\n\t\t\tcomposed: true,\n\t\t\tcancelable: false\n\t\t});\n\t\telement.dispatchEvent(event);\n\t});\n\n/**\n * Attaches scroll listeners to the document, the window, and all ancestor elements\n * of the given host element that have shadow roots (because scroll events do not automatically\n * bubble through shadow boundaries). When any of the scroll listeners are fired, triggers\n * the callback function.\n * @param {HTMLElement} host\n * @param {string} componentId\n * @param {function} callback\n */\nexport const addOutsideScrollListener = async (host, componentId, callback) => {\n\tconst ancestors = await findAncestors(host, componentId);\n\tconst targets = ancestors.filter((el) => !!el.shadowRoot);\n\tlet handled = false;\n\tconst listener = (e) => {\n\t\tif (handled) {\n\t\t\treturn;\n\t\t}\n\t\tconst [source] = e.composedPath ? e.composedPath() : e.path;\n\t\tif (ancestors.indexOf(source) > -1) {\n\t\t\thandled = true;\n\t\t\tremoveOutsideScrollListener(host);\n\t\t\tif (callback && typeof callback === 'function') {\n\t\t\t\tcallback(host, componentId);\n\t\t\t}\n\t\t}\n\t};\n\tfor (let target of targets) {\n\t\ttarget.shadowRoot.addEventListener('scroll', listener, true);\n\t}\n\twindow.addEventListener('scroll', listener, true);\n\thostToScrollData.set(host, {listener, targets});\n};\n\n/**\n * Cleans up all scroll listeners created for the given host element.\n * @param {HTMLElement} host\n */\nexport const removeOutsideScrollListener = (host) => {\n\tif (hostToScrollData.has(host)) {\n\t\tconst {listener, targets} = hostToScrollData.get(host);\n\t\tfor (let target of targets) {\n\t\t\ttarget.shadowRoot.removeEventListener('scroll', listener, true);\n\t\t}\n\t\twindow.removeEventListener('scroll', listener, true);\n\t\thostToScrollData.delete(host);\n\t}\n};\n","module.exports = __TECTONIC__lodash_4_17_4[\"isEqual\"];","import {createEnhancedElement} from '@servicenow/library-enhanced-element';\nimport focusBehavior from '@servicenow/behavior-focus';\nimport {makeRedispatchEffect} from '@servicenow/library-enhanced-utils';\nimport '@servicenow/now-popover';\nimport './now-dropdown-list';\nimport {itemsSchema, itemSchema} from './schemas/dropdown-schema';\nimport {constrainSchema} from '@servicenow/behavior-fit';\nimport {pick} from 'lodash';\nimport {setActiveItem, getDropdownListConstrain} from './utils/helpers.js';\nimport {configAriaSchema} from '@servicenow/library-schemas';\n\nconst assignedElements = (slot) =>\n\t[...slot.assignedNodes({flatten: true})].filter(\n\t\t(node) => node.nodeType === Element.ELEMENT_NODE\n\t);\n\nconst view = (state, {updateState}) => {\n\tconst {targetRef, activeItem} = state;\n\tconst {\n\t\titems,\n\t\tselectedItems,\n\t\tselect,\n\t\topened,\n\t\tpanelFitProps,\n\t\tsearch,\n\t\tconfigAria\n\t} = state.properties;\n\n\tconst constrain = {\n\t\tminHeight: 32,\n\t\tminWidth: 'target',\n\t\tmaxWidth: 400,\n\t\tmaxHeight: 300,\n\t\t...panelFitProps.constrain\n\t};\n\n\treturn (\n\t\t<now-popover\n\t\t\thide-tail\n\t\t\tconstrain={pick(constrain, ['width', 'minWidth', 'maxWidth'])}\n\t\t\tpositions={panelFitProps.position}\n\t\t\toffset={panelFitProps.offset}\n\t\t\tmanage-opened\n\t\t\topened={opened}\n\t\t\tposition-target={targetRef}\n\t\t\tinteraction-type=\"listbox\"\n\t\t\tdisable-scroll>\n\t\t\t<slot\n\t\t\t\tclassName=\"now-dropdown-custom-target-slot\"\n\t\t\t\tname=\"trigger\"\n\t\t\t\tslot=\"trigger\"\n\t\t\t\ton-slotchange={(e) => {\n\t\t\t\t\tif (e.target !== e.currentTarget) {\n\t\t\t\t\t\treturn; // ignore bubbling slotchange\n\t\t\t\t\t}\n\t\t\t\t\tconst elements = assignedElements(e.target);\n\t\t\t\t\tconst targetRef = elements[0] || null;\n\t\t\t\t\tupdateState({targetRef});\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<now-dropdown-list\n\t\t\t\tslot=\"content\"\n\t\t\t\tstyle={getDropdownListConstrain(constrain)}\n\t\t\t\titems={items}\n\t\t\t\tselected-items={selectedItems}\n\t\t\t\tselect={select}\n\t\t\t\tsearch={search}\n\t\t\t\tactive-item={activeItem}\n\t\t\t\tmanage-active-item\n\t\t\t\tmanage-selected-items\n\t\t\t\tconfig-aria={configAria}\n\t\t\t/>\n\t\t</now-popover>\n\t);\n};\n\n/**\n * A dropdown with a custom target is very similar to a standard dropdown.\n * However, the trigger element (the element which toggles the panel\n * visibility) is provided via a slot, allowing more control of the overall\n * appearance.\n *\n * ```jsx\n * const dropdownItems = [{id: 'item1', label: 'Option 1'}, {id: 'item2', label: 'Option 2'}];\n *\n * <now-dropdown-custom-target items={dropdownItems}>\n *   <now-avatar user-name=\"Fred Luddy\" slot=\"target\" />\n * </now-dropdown-custom-target>\n * ```\n *\n * @seismicElement now-dropdown-custom-target\n * @summary A dropdown that allows user to select one or more values and\n * control the element that is responsible for opening and closing the panel.\n **/\ncreateEnhancedElement('now-dropdown-custom-target', {\n\tinitialState: {\n\t\ttargetRef: null\n\t},\n\tproperties: {\n\t\t/**\n\t\t * By default, the component will listen for click & key events on the\n\t\t * element in the `trigger` slot to cause the dropdown panel to open,\n\t\t * and will restore focus to the `trigger` element when the panel is\n\t\t * closed (on selection or press of the `Escape` key). Set this flag\n\t\t * to override the default behavior and respond to user interactions\n\t\t * manually instead.\n\t\t * @type {boolean}\n\t\t */\n\t\tdisableListeners: {default: false, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * An array of item objects describing each item in the dropdown.\n\t\t * Each object must have a unique id and label.\n\t\t * Items with `disabled` will be visible but not selectable by the user.\n\t\t * @type {(Array.<DropdownItem> | Array.<DropdownSection>)}\n\t\t */\n\t\titems: {\n\t\t\trequired: true,\n\t\t\tschema: itemsSchema\n\t\t},\n\t\t/**\n\t\t * An array of ids representing each selected item. If multi-select mode is\n\t\t * not enabled, each time the user selects an item, the previously selected\n\t\t * id will be cleared out and the new id will be added. If multi-select mode is\n\t\t * enabled, ids will be added to or removed from the list.\n\t\t * Use `manage-selected-items` to override the default behavior and handle the\n\t\t * `NOW_DROPDOWN#SELECTED_ITEMS_SET` action manually.\n\t\t * @type {Array.<(string|number)>}\n\t\t */\n\t\tselectedItems: {\n\t\t\tdefault: [],\n\t\t\tmanageable: true,\n\t\t\tschema: {type: 'array', items: {type: ['string', 'number']}}\n\t\t},\n\t\t/**\n\t\t * Determines what happens when the user clicks on a dropdown item.\n\t\t * Choose from the following:\n\t\t * - \"single\" (default) - the panel is closed, the trigger label is updated,\n\t\t *   and the item is marked as selected\n\t\t * - \"multi\" - the panel stays open, the trigger label is updated, and the\n\t\t *   item's selected state is toggled on/off\n\t\t * - \"none\" - the panel is closed, the trigger label is not updated, the\n\t\t *   item is not marked as selected\n\t\t * For select \"single\"/\"multi\" handle the `NOW_DROPDOWN#SELECTED_ITEMS_SET`\n\t\t * action. For select \"none\" handle the `NOW_DROPDOWN#ITEM_CLICKED` action.\n\t\t * @type {(\"single\"|\"multi\"|\"none\")}\n\t\t */\n\t\tselect: {\n\t\t\tdefault: 'single',\n\t\t\tschema: {type: 'string', enum: ['single', 'multi', 'none']}\n\t\t},\n\t\t/**\n\t\t * Automatically updated when the user opens or closes the dropdown.\n\t\t * Use `manage-opened` to override the default behavior and handle the\n\t\t * `NOW_DROPDOWN#OPENED_SET` action manually.\n\t\t * @type {boolean}\n\t\t */\n\t\topened: {default: false, manageable: true, schema: {type: 'boolean'}},\n\t\t/**\n\t\t * Properties to configure the dropdown panel.\n\t\t *\n\t\t * Valid keys are:\n\t\t *\t- position,\n\t\t *\t- offset\n\t\t *\t- container\n\t\t *\t- constrain\n\t\t *\n\t\t * Each of these keys are used to control how the panel is positioned and\n\t\t * scaled relative to the dropdown target.\n\t\t *\n\t\t * @type {{ position: Array<string>, offset: number, container: HTMLElement, constrain: object }}\n\t\t */\n\t\tpanelFitProps: {\n\t\t\tdefault: {},\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tposition: {type: 'array', items: {type: 'string'}},\n\t\t\t\t\toffset: {\n\t\t\t\t\t\toneOf: [{type: 'number'}, {type: 'array', items: {type: 'number'}}]\n\t\t\t\t\t},\n\t\t\t\t\tcontainer: {type: 'object'},\n\t\t\t\t\tconstrain: constrainSchema\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Controls how to filter the items as the user types into the integrated search input.\n\t\t * - \"none\": (default) dropdown list does not display an internal search field.\n\t\t * - \"managed\": internal input field is rendered, but no automatic filtering will happen.\n\t\t * Use this if you want to manually filter or search for items as the user types outside of the list.\n\t\t * - \"initial\": internal input field is rendered, and items whose label\n\t\t * or sublabel begins with the input value will be displayed. This is case-insensitive.\n\t\t * - \"contains\": internal input field is rendered, and items whose label\n\t\t * or sublabel contains the input value will be displayed. This is case-insensitive.\n\t\t * @type {(\"none\"|\"managed\"|\"initial\"|\"contains\")}\n\t\t * @uib.label Search Behavior\n\t\t * @uib.description Controls how to filter the items as the user types into the integrated search input\n\t\t */\n\t\tsearch: {\n\t\t\tdefault: 'none',\n\t\t\tschema: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['none', 'managed', 'initial', 'contains']\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * An object whose keys reference a specific HTML element within the\n\t\t * now-dropdown-custom-target. The value of each key is an object that contains an ARIA\n\t\t * property (or properties) and corresponding value/s. These ARIA\n\t\t * properties will be set on the specified element.\n\t\t * The 'panel' key corresponds to the inner html `<div>` that acts as the\n\t\t * 'listbox'. See https://www.w3.org/TR/wai-aria-1.1/#listbox for properties\n\t\t * and accepted values.\n\t\t * @type {{ 'aria-*': string }}\n\t\t * @uib.label ARIA Properties\n\t\t * @uib.description Sets ARIA properties on the inner div with role 'listbox'.\n\t\t */\n\t\tconfigAria: {\n\t\t\tschema: {\n\t\t\t\tanyOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tpanel: configAriaSchema\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tconfigAriaSchema\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\tdispatches: {\n\t\t/**\n\t\t * Dispatched when the dropdown menu is opened or closed. Payload will contain\n\t\t * a boolean of `true` when the dropdown is opened or `false` when the dropdown is closed.\n\t\t * Set the `manage-opened` property to override the default behavior and\n\t\t * handle this action manually.\n\t\t * @type {{value: boolean}}\n\t\t */\n\t\t'NOW_DROPDOWN_CUSTOM_TARGET#OPENED_SET': {\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tvalue: {type: 'boolean'}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Dispatched when the user changes the selection of items in the dropdown panel.\n\t\t * Payload key `value` will contain an array containing either a single ID (for `select=\"single\"`) or\n\t\t * multiple IDs (for `select=\"multi\"`) of the selected item(s).\n\t\t * Payload key `items` contains an array of objects of the item or items selected from the dropdown list.\n\t\t * Set the `manage-selected-items` property to override the default behavior and\n\t\t * handle this action manually.\n\t\t * @type {{value: Array.<(string|number)>, items: Array.<Object>}}\n\t\t */\n\t\t'NOW_DROPDOWN_CUSTOM_TARGET#SELECTED_ITEMS_SET': {\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\tproperties: {\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\ttype: ['string', 'number']\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Dispatched when the user clicks on a dropdown item. Payload will contain\n\t\t * a reference to the clicked item. Handle this action for dropdown menus (where `select=\"none\"`).\n\t\t * @type {{item: Object}}\n\t\t */\n\t\t'NOW_DROPDOWN_CUSTOM_TARGET#ITEM_CLICKED': {\n\t\t\tschema: itemSchema\n\t\t}\n\t},\n\tslots: {\n\t\t/**\n\t\t * Content placed in this named slot will act as the trigger element for\n\t\t * the `now-dropdown-custom-target` component. The dropdown panel will\n\t\t * be positioned relative to the first child element of the slot. Clicks\n\t\t * and keyboard interaction with the slot and its content will be\n\t\t * handled automatically unless the `disableListeners` property is set.\n\t\t */\n\t\ttrigger: {}\n\t},\n\teventHandlers: [\n\t\t{\n\t\t\tevents: ['keydown'],\n\t\t\teffect: ({action, properties, state}) => {\n\t\t\t\tif (properties.disableListeners) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst {event} = action.payload;\n\t\t\t\tconst openKeys = ['ArrowUp', 'ArrowDown', 'Enter', ' '];\n\n\t\t\t\tif (openKeys.includes(event.key)) {\n\t\t\t\t\tconst {targetRef} = state;\n\t\t\t\t\taction.preventDefault();\n\t\t\t\t\ttargetRef.click();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\tactionHandlers: {\n\t\t'NOW_POPOVER#OPENED_SET': ({action, dispatch, properties, updateState}) => {\n\t\t\tconst {value} = action.payload;\n\t\t\tconst {disabled, items, selectedItems, disableListeners} = properties;\n\t\t\tif (disabled || disableListeners) return;\n\t\t\tif (value) {\n\t\t\t\tsetActiveItem(items, selectedItems, updateState);\n\t\t\t}\n\t\t\tdispatch(() => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'NOW_DROPDOWN_CUSTOM_TARGET#OPENED_SET',\n\t\t\t\t\tpayload: action.payload\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\t'NOW_POPOVER#CONTENT_VISIBLE': ({host}) => {\n\t\t\tconst dropdownList = host.shadowRoot.querySelector('now-dropdown-list');\n\t\t\tdropdownList.focus();\n\t\t},\n\t\t'NOW_DROPDOWN_LIST#SELECTED_ITEMS_SET': makeRedispatchEffect(\n\t\t\t'NOW_DROPDOWN_CUSTOM_TARGET#SELECTED_ITEMS_SET'\n\t\t),\n\t\t'NOW_DROPDOWN_LIST#ITEM_CLICKED': ({dispatch, action}) => {\n\t\t\tdispatch(({properties}) => {\n\t\t\t\tconst {select} = properties;\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'NOW_DROPDOWN_CUSTOM_TARGET#OPENED_SET',\n\t\t\t\t\tpayload: {value: false},\n\t\t\t\t\tshouldDispatch: select !== 'multi'\n\t\t\t\t};\n\t\t\t});\n\t\t\tdispatch(() => ({\n\t\t\t\ttype: 'NOW_DROPDOWN_CUSTOM_TARGET#ITEM_CLICKED',\n\t\t\t\tpayload: {item: action.payload.item}\n\t\t\t}));\n\t\t},\n\t\t'NOW_DROPDOWN_LIST#ACTIVE_ITEM_SET': ({action, updateState}) => {\n\t\t\tconst activeItem = action.payload.value;\n\t\t\tupdateState({activeItem});\n\t\t}\n\t},\n\tbehaviors: [{behavior: focusBehavior}],\n\tview\n});\n"],"sourceRoot":""}